import{r as R,a as Ch,R as ve,b as hN,c as dN,g as fN,d as ii,u as hx,e as pg,L as d6,N as Wm,f as f6,h as J_,B as g6,i as p6,j as ls}from"./react-vendor-C9zSxLv9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var gN={exports:{}},dx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m6=Symbol.for("react.transitional.element"),v6=Symbol.for("react.fragment");function pN(n,e,t){var s=null;if(t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:m6,type:n,key:s,ref:e!==void 0?e:null,props:t}}dx.Fragment=v6;dx.jsx=pN;dx.jsxs=pN;gN.exports=dx;var d=gN.exports,mN={exports:{}},fx={},vN={exports:{}},xN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Y,Z){var U=Y.length;Y.push(Z);e:for(;0<U;){var X=U-1>>>1,Q=Y[X];if(0<i(Q,Z))Y[X]=Z,Y[U]=Q,U=X;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var Z=Y[0],U=Y.pop();if(U!==Z){Y[0]=U;e:for(var X=0,Q=Y.length,se=Q>>>1;X<se;){var q=2*(X+1)-1,he=Y[q],ae=q+1,fe=Y[ae];if(0>i(he,U))ae<Q&&0>i(fe,he)?(Y[X]=fe,Y[ae]=U,X=ae):(Y[X]=he,Y[q]=U,X=q);else if(ae<Q&&0>i(fe,U))Y[X]=fe,Y[ae]=U,X=ae;else break e}}return Z}function i(Y,Z){var U=Y.sortIndex-Z.sortIndex;return U!==0?U:Y.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,g=3,p=!1,x=!1,v=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(Y){for(var Z=t(c);Z!==null;){if(Z.callback===null)s(c);else if(Z.startTime<=Y)s(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function N(Y){if(v=!1,T(Y),!x)if(t(l)!==null)x=!0,O||(O=!0,F());else{var Z=t(c);Z!==null&&J(N,Z.startTime-Y)}}var O=!1,C=-1,k=5,M=-1;function I(){return _?!0:!(n.unstable_now()-M<k)}function D(){if(_=!1,O){var Y=n.unstable_now();M=Y;var Z=!0;try{e:{x=!1,v&&(v=!1,S(C),C=-1),p=!0;var U=g;try{t:{for(T(Y),f=t(l);f!==null&&!(f.expirationTime>Y&&I());){var X=f.callback;if(typeof X=="function"){f.callback=null,g=f.priorityLevel;var Q=X(f.expirationTime<=Y);if(Y=n.unstable_now(),typeof Q=="function"){f.callback=Q,T(Y),Z=!0;break t}f===t(l)&&s(l),T(Y)}else s(l);f=t(l)}if(f!==null)Z=!0;else{var se=t(c);se!==null&&J(N,se.startTime-Y),Z=!1}}break e}finally{f=null,g=U,p=!1}Z=void 0}}finally{Z?F():O=!1}}}var F;if(typeof A=="function")F=function(){A(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=D,F=function(){G.postMessage(null)}}else F=function(){w(D,0)};function J(Y,Z){C=w(function(){Y(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var U=g;g=Z;try{return Y()}finally{g=U}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var U=g;g=Y;try{return Z()}finally{g=U}},n.unstable_scheduleCallback=function(Y,Z,U){var X=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,Y){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,Y={id:h++,callback:Z,priorityLevel:Y,startTime:U,expirationTime:Q,sortIndex:-1},U>X?(Y.sortIndex=U,e(c,Y),t(l)===null&&Y===t(c)&&(v?(S(C),C=-1):v=!0,J(N,U-X))):(Y.sortIndex=Q,e(l,Y),x||p||(x=!0,O||(O=!0,F()))),Y},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(Y){var Z=g;return function(){var U=g;g=Z;try{return Y.apply(this,arguments)}finally{g=U}}}})(xN);vN.exports=xN;var x6=vN.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=x6,yN=R,y6=Ch;function ue(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mg(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function wN(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function TC(n){if(mg(n)!==n)throw Error(ue(188))}function b6(n){var e=n.alternate;if(!e){if(e=mg(n),e===null)throw Error(ue(188));return e!==n?null:n}for(var t=n,s=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){t=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return TC(i),n;if(r===s)return TC(i),e;r=r.sibling}throw Error(ue(188))}if(t.return!==s.return)t=i,s=r;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,s=r;break}if(o===s){a=!0,s=i,t=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===t){a=!0,t=r,s=i;break}if(o===s){a=!0,s=r,t=i;break}o=o.sibling}if(!a)throw Error(ue(189))}}if(t.alternate!==s)throw Error(ue(190))}if(t.tag!==3)throw Error(ue(188));return t.stateNode.current===t?n:e}function _N(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=_N(n),e!==null)return e;n=n.sibling}return null}var Ut=Object.assign,w6=Symbol.for("react.element"),Np=Symbol.for("react.transitional.element"),Ld=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),SN=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),_6=Symbol.for("react.provider"),AN=Symbol.for("react.consumer"),wa=Symbol.for("react.context"),e1=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),t1=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),A0=Symbol.for("react.activity"),S6=Symbol.for("react.memo_cache_sentinel"),EC=Symbol.iterator;function Sd(n){return n===null||typeof n!="object"?null:(n=EC&&n[EC]||n["@@iterator"],typeof n=="function"?n:null)}var A6=Symbol.for("react.client.reference");function C0(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===A6?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case bu:return"Fragment";case w0:return"Profiler";case SN:return"StrictMode";case _0:return"Suspense";case S0:return"SuspenseList";case A0:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Ld:return"Portal";case wa:return(n.displayName||"Context")+".Provider";case AN:return(n._context.displayName||"Context")+".Consumer";case e1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case t1:return e=n.displayName||null,e!==null?e:C0(n.type)||"Memo";case lo:e=n._payload,n=n._init;try{return C0(n(e))}catch{}}return null}var Od=Array.isArray,He=yN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t=y6.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vl={pending:!1,data:null,method:null,action:null},T0=[],wu=-1;function Xr(n){return{current:n}}function On(n){0>wu||(n.current=T0[wu],T0[wu]=null,wu--)}function Xt(n,e){wu++,T0[wu]=n.current,n.current=e}var Ir=Xr(null),Ef=Xr(null),Co=Xr(null),Ym=Xr(null);function Xm(n,e){switch(Xt(Co,e),Xt(Ef,n),Xt(Ir,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?IT(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=IT(e),n=VP(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}On(Ir),Xt(Ir,n)}function Zu(){On(Ir),On(Ef),On(Co)}function E0(n){n.memoizedState!==null&&Xt(Ym,n);var e=Ir.current,t=VP(e,n.type);e!==t&&(Xt(Ef,n),Xt(Ir,t))}function Gm(n){Ef.current===n&&(On(Ir),On(Ef)),Ym.current===n&&(On(Ym),Df._currentValue=Vl)}var k0=Object.prototype.hasOwnProperty,n1=En.unstable_scheduleCallback,Hy=En.unstable_cancelCallback,C6=En.unstable_shouldYield,T6=En.unstable_requestPaint,Mr=En.unstable_now,E6=En.unstable_getCurrentPriorityLevel,CN=En.unstable_ImmediatePriority,TN=En.unstable_UserBlockingPriority,$m=En.unstable_NormalPriority,k6=En.unstable_LowPriority,EN=En.unstable_IdlePriority,N6=En.log,R6=En.unstable_setDisableYieldValue,vg=null,Ks=null;function bo(n){if(typeof N6=="function"&&R6(n),Ks&&typeof Ks.setStrictMode=="function")try{Ks.setStrictMode(vg,n)}catch{}}var Qs=Math.clz32?Math.clz32:M6,P6=Math.log,I6=Math.LN2;function M6(n){return n>>>=0,n===0?32:31-(P6(n)/I6|0)|0}var Rp=256,Pp=4194304;function El(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gx(n,e,t){var s=n.pendingLanes;if(s===0)return 0;var i=0,r=n.suspendedLanes,a=n.pingedLanes;n=n.warmLanes;var o=s&134217727;return o!==0?(s=o&~r,s!==0?i=El(s):(a&=o,a!==0?i=El(a):t||(t=o&~n,t!==0&&(i=El(t))))):(o=s&~r,o!==0?i=El(o):a!==0?i=El(a):t||(t=s&~n,t!==0&&(i=El(t)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,t=e&-e,r>=t||r===32&&(t&4194048)!==0)?e:i}function xg(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function j6(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kN(){var n=Rp;return Rp<<=1,!(Rp&4194048)&&(Rp=256),n}function NN(){var n=Pp;return Pp<<=1,!(Pp&62914560)&&(Pp=4194304),n}function Uy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function yg(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function L6(n,e,t,s,i,r){var a=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var o=n.entanglements,l=n.expirationTimes,c=n.hiddenUpdates;for(t=a&~t;0<t;){var h=31-Qs(t),f=1<<h;o[h]=0,l[h]=-1;var g=c[h];if(g!==null)for(c[h]=null,h=0;h<g.length;h++){var p=g[h];p!==null&&(p.lane&=-536870913)}t&=~f}s!==0&&RN(n,s,0),r!==0&&i===0&&n.tag!==0&&(n.suspendedLanes|=r&~(a&~e))}function RN(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var s=31-Qs(e);n.entangledLanes|=e,n.entanglements[s]=n.entanglements[s]|1073741824|t&4194090}function PN(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-Qs(t),i=1<<s;i&e|n[s]&e&&(n[s]|=e),t&=~i}}function s1(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function i1(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function IN(){var n=_t.p;return n!==0?n:(n=window.event,n===void 0?32:KP(n.type))}function O6(n,e){var t=_t.p;try{return _t.p=n,e()}finally{_t.p=t}}var tl=Math.random().toString(36).slice(2),ns="__reactFiber$"+tl,js="__reactProps$"+tl,Th="__reactContainer$"+tl,N0="__reactEvents$"+tl,D6="__reactListeners$"+tl,z6="__reactHandles$"+tl,kC="__reactResources$"+tl,bg="__reactMarker$"+tl;function r1(n){delete n[ns],delete n[js],delete n[N0],delete n[D6],delete n[z6]}function _u(n){var e=n[ns];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Th]||t[ns]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=LT(n);n!==null;){if(t=n[ns])return t;n=LT(n)}return e}n=t,t=n.parentNode}return null}function Eh(n){if(n=n[ns]||n[Th]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function Dd(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(ue(33))}function Mu(n){var e=n[kC];return e||(e=n[kC]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function In(n){n[bg]=!0}var MN=new Set,jN={};function mc(n,e){Ku(n,e),Ku(n+"Capture",e)}function Ku(n,e){for(jN[n]=e,n=0;n<e.length;n++)MN.add(e[n])}var F6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),NC={},RC={};function B6(n){return k0.call(RC,n)?!0:k0.call(NC,n)?!1:F6.test(n)?RC[n]=!0:(NC[n]=!0,!1)}function um(n,e,t){if(B6(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function Ip(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function fa(n,e,t,s){if(s===null)n.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+s)}}var Wy,PC;function uu(n){if(Wy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Wy=e&&e[1]||"",PC=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wy+n+PC}var Yy=!1;function Xy(n,e){if(!n||Yy)return"";Yy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var g=p}Reflect.construct(n,[],f)}else{try{f.call()}catch(p){g=p}n.call(f.prototype)}}else{try{throw Error()}catch(p){g=p}(f=n())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&g&&typeof p.stack=="string")return[p.stack,g.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=s=0;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(s===l.length||i===c.length)for(s=l.length-1,i=c.length-1;1<=s&&0<=i&&l[s]!==c[i];)i--;for(;1<=s&&0<=i;s--,i--)if(l[s]!==c[i]){if(s!==1||i!==1)do if(s--,i--,0>i||l[s]!==c[i]){var h=`
`+l[s].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=s&&0<=i);break}}}finally{Yy=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?uu(t):""}function V6(n){switch(n.tag){case 26:case 27:case 5:return uu(n.type);case 16:return uu("Lazy");case 13:return uu("Suspense");case 19:return uu("SuspenseList");case 0:case 15:return Xy(n.type,!1);case 11:return Xy(n.type.render,!1);case 1:return Xy(n.type,!0);case 31:return uu("Activity");default:return""}}function IC(n){try{var e="";do e+=V6(n),n=n.return;while(n);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function wi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LN(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H6(n){var e=LN(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,r.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qm(n){n._valueTracker||(n._valueTracker=H6(n))}function ON(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=LN(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function Zm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var U6=/[\n"\\]/g;function Ci(n){return n.replace(U6,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function R0(n,e,t,s,i,r,a,o){n.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?n.type=a:n.removeAttribute("type"),e!=null?a==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+wi(e)):n.value!==""+wi(e)&&(n.value=""+wi(e)):a!=="submit"&&a!=="reset"||n.removeAttribute("value"),e!=null?P0(n,a,wi(e)):t!=null?P0(n,a,wi(t)):s!=null&&n.removeAttribute("value"),i==null&&r!=null&&(n.defaultChecked=!!r),i!=null&&(n.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?n.name=""+wi(o):n.removeAttribute("name")}function DN(n,e,t,s,i,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(n.type=r),e!=null||t!=null){if(!(r!=="submit"&&r!=="reset"||e!=null))return;t=t!=null?""+wi(t):"",e=e!=null?""+wi(e):t,o||e===n.value||(n.value=e),n.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,n.checked=o?n.checked:!!s,n.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.name=a)}function P0(n,e,t){e==="number"&&Zm(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function ju(n,e,t,s){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&s&&(n[t].defaultSelected=!0)}else{for(t=""+wi(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,s&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function zN(n,e,t){if(e!=null&&(e=""+wi(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+wi(t):""}function FN(n,e,t,s){if(e==null){if(s!=null){if(t!=null)throw Error(ue(92));if(Od(s)){if(1<s.length)throw Error(ue(93));s=s[0]}t=s}t==null&&(t=""),e=t}t=wi(e),n.defaultValue=t,s=n.textContent,s===t&&s!==""&&s!==null&&(n.value=s)}function Qu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var W6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function MC(n,e,t){var s=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?s?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":s?n.setProperty(e,t):typeof t!="number"||t===0||W6.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function BN(n,e,t){if(e!=null&&typeof e!="object")throw Error(ue(62));if(n=n.style,t!=null){for(var s in t)!t.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&t[i]!==s&&MC(n,i,s)}else for(var r in e)e.hasOwnProperty(r)&&MC(n,r,e[r])}function a1(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hm(n){return X6.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var I0=null;function o1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Su=null,Lu=null;function jC(n){var e=Eh(n);if(e&&(n=e.stateNode)){var t=n[js]||null;e:switch(n=e.stateNode,e.type){case"input":if(R0(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+Ci(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var i=s[js]||null;if(!i)throw Error(ue(90));R0(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<t.length;e++)s=t[e],s.form===n.form&&ON(s)}break e;case"textarea":zN(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&ju(n,!!t.multiple,e,!1)}}}var Gy=!1;function VN(n,e,t){if(Gy)return n(e,t);Gy=!0;try{var s=n(e);return s}finally{if(Gy=!1,(Su!==null||Lu!==null)&&(Ax(),Su&&(e=Su,n=Lu,Lu=Su=null,jC(e),n)))for(e=0;e<n.length;e++)jC(n[e])}}function kf(n,e){var t=n.stateNode;if(t===null)return null;var s=t[js]||null;if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ue(231,e,typeof t));return t}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M0=!1;if(Ma)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){M0=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{M0=!1}var wo=null,l1=null,dm=null;function HN(){if(dm)return dm;var n,e=l1,t=e.length,s,i="value"in wo?wo.value:wo.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(s=1;s<=a&&e[t-s]===i[r-s];s++);return dm=i.slice(n,1<s?1-s:void 0)}function fm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Mp(){return!0}function LC(){return!1}function Ls(n){function e(t,s,i,r,a){this._reactName=t,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Mp:LC,this.isPropagationStopped=LC,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Mp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Mp)},persist:function(){},isPersistent:Mp}),e}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Ls(vc),wg=Ut({},vc,{view:0,detail:0}),G6=Ls(wg),$y,qy,Cd,mx=Ut({},wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cd&&(Cd&&n.type==="mousemove"?($y=n.screenX-Cd.screenX,qy=n.screenY-Cd.screenY):qy=$y=0,Cd=n),$y)},movementY:function(n){return"movementY"in n?n.movementY:qy}}),OC=Ls(mx),$6=Ut({},mx,{dataTransfer:0}),q6=Ls($6),Z6=Ut({},wg,{relatedTarget:0}),Zy=Ls(Z6),K6=Ut({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),Q6=Ls(K6),J6=Ut({},vc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ez=Ls(J6),tz=Ut({},vc,{data:0}),DC=Ls(tz),nz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rz(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=iz[n])?!!e[n]:!1}function c1(){return rz}var az=Ut({},wg,{key:function(n){if(n.key){var e=nz[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=fm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sz[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(n){return n.type==="keypress"?fm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),oz=Ls(az),lz=Ut({},mx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zC=Ls(lz),cz=Ut({},wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),uz=Ls(cz),hz=Ut({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),dz=Ls(hz),fz=Ut({},mx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),gz=Ls(fz),pz=Ut({},vc,{newState:0,oldState:0}),mz=Ls(pz),vz=[9,13,27,32],u1=Ma&&"CompositionEvent"in window,Zd=null;Ma&&"documentMode"in document&&(Zd=document.documentMode);var xz=Ma&&"TextEvent"in window&&!Zd,UN=Ma&&(!u1||Zd&&8<Zd&&11>=Zd),FC=" ",BC=!1;function WN(n,e){switch(n){case"keyup":return vz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Au=!1;function yz(n,e){switch(n){case"compositionend":return YN(e);case"keypress":return e.which!==32?null:(BC=!0,FC);case"textInput":return n=e.data,n===FC&&BC?null:n;default:return null}}function bz(n,e){if(Au)return n==="compositionend"||!u1&&WN(n,e)?(n=HN(),dm=l1=wo=null,Au=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UN&&e.locale!=="ko"?null:e.data;default:return null}}var wz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!wz[n.type]:e==="textarea"}function XN(n,e,t,s){Su?Lu?Lu.push(s):Lu=[s]:Su=s,e=gv(e,"onChange"),0<e.length&&(t=new px("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Kd=null,Nf=null;function _z(n){zP(n,0)}function vx(n){var e=Dd(n);if(ON(e))return n}function HC(n,e){if(n==="change")return e}var GN=!1;if(Ma){var Ky;if(Ma){var Qy="oninput"in document;if(!Qy){var UC=document.createElement("div");UC.setAttribute("oninput","return;"),Qy=typeof UC.oninput=="function"}Ky=Qy}else Ky=!1;GN=Ky&&(!document.documentMode||9<document.documentMode)}function WC(){Kd&&(Kd.detachEvent("onpropertychange",$N),Nf=Kd=null)}function $N(n){if(n.propertyName==="value"&&vx(Nf)){var e=[];XN(e,Nf,n,o1(n)),VN(_z,e)}}function Sz(n,e,t){n==="focusin"?(WC(),Kd=e,Nf=t,Kd.attachEvent("onpropertychange",$N)):n==="focusout"&&WC()}function Az(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vx(Nf)}function Cz(n,e){if(n==="click")return vx(e)}function Tz(n,e){if(n==="input"||n==="change")return vx(e)}function Ez(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ri=typeof Object.is=="function"?Object.is:Ez;function Rf(n,e){if(ri(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var i=t[s];if(!k0.call(e,i)||!ri(n[i],e[i]))return!1}return!0}function YC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function XC(n,e){var t=YC(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=YC(t)}}function qN(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?qN(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ZN(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=Zm(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Zm(n.document)}return e}function h1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var kz=Ma&&"documentMode"in document&&11>=document.documentMode,Cu=null,j0=null,Qd=null,L0=!1;function GC(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;L0||Cu==null||Cu!==Zm(s)||(s=Cu,"selectionStart"in s&&h1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qd&&Rf(Qd,s)||(Qd=s,s=gv(j0,"onSelect"),0<s.length&&(e=new px("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=Cu)))}function wl(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Tu={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionrun:wl("Transition","TransitionRun"),transitionstart:wl("Transition","TransitionStart"),transitioncancel:wl("Transition","TransitionCancel"),transitionend:wl("Transition","TransitionEnd")},Jy={},KN={};Ma&&(KN=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function xc(n){if(Jy[n])return Jy[n];if(!Tu[n])return n;var e=Tu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in KN)return Jy[n]=e[t];return n}var QN=xc("animationend"),JN=xc("animationiteration"),eR=xc("animationstart"),Nz=xc("transitionrun"),Rz=xc("transitionstart"),Pz=xc("transitioncancel"),tR=xc("transitionend"),nR=new Map,O0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");O0.push("scrollEnd");function gr(n,e){nR.set(n,e),mc(e,[n])}var $C=new WeakMap;function Ti(n,e){if(typeof n=="object"&&n!==null){var t=$C.get(n);return t!==void 0?t:(e={value:n,source:e,stack:IC(e)},$C.set(n,e),e)}return{value:n,source:e,stack:IC(e)}}var yi=[],Eu=0,d1=0;function xx(){for(var n=Eu,e=d1=Eu=0;e<n;){var t=yi[e];yi[e++]=null;var s=yi[e];yi[e++]=null;var i=yi[e];yi[e++]=null;var r=yi[e];if(yi[e++]=null,s!==null&&i!==null){var a=s.pending;a===null?i.next=i:(i.next=a.next,a.next=i),s.pending=i}r!==0&&sR(t,i,r)}}function yx(n,e,t,s){yi[Eu++]=n,yi[Eu++]=e,yi[Eu++]=t,yi[Eu++]=s,d1|=s,n.lanes|=s,n=n.alternate,n!==null&&(n.lanes|=s)}function f1(n,e,t,s){return yx(n,e,t,s),Km(n)}function kh(n,e){return yx(n,null,null,e),Km(n)}function sR(n,e,t){n.lanes|=t;var s=n.alternate;s!==null&&(s.lanes|=t);for(var i=!1,r=n.return;r!==null;)r.childLanes|=t,s=r.alternate,s!==null&&(s.childLanes|=t),r.tag===22&&(n=r.stateNode,n===null||n._visibility&1||(i=!0)),n=r,r=r.return;return n.tag===3?(r=n.stateNode,i&&e!==null&&(i=31-Qs(t),n=r.hiddenUpdates,s=n[i],s===null?n[i]=[e]:s.push(e),e.lane=t|536870912),r):null}function Km(n){if(50<cf)throw cf=0,sw=null,Error(ue(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var ku={};function Iz(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(n,e,t,s){return new Iz(n,e,t,s)}function g1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Na(n,e){var t=n.alternate;return t===null?(t=qs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function iR(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function gm(n,e,t,s,i,r){var a=0;if(s=n,typeof n=="function")g1(n)&&(a=1);else if(typeof n=="string")a=jF(n,t,Ir.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case A0:return n=qs(31,t,e,i),n.elementType=A0,n.lanes=r,n;case bu:return Hl(t.children,i,r,e);case SN:a=8,i|=24;break;case w0:return n=qs(12,t,e,i|2),n.elementType=w0,n.lanes=r,n;case _0:return n=qs(13,t,e,i),n.elementType=_0,n.lanes=r,n;case S0:return n=qs(19,t,e,i),n.elementType=S0,n.lanes=r,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _6:case wa:a=10;break e;case AN:a=9;break e;case e1:a=11;break e;case t1:a=14;break e;case lo:a=16,s=null;break e}a=29,t=Error(ue(130,n===null?"null":typeof n,"")),s=null}return e=qs(a,t,e,i),e.elementType=n,e.type=s,e.lanes=r,e}function Hl(n,e,t,s){return n=qs(7,n,s,e),n.lanes=t,n}function eb(n,e,t){return n=qs(6,n,null,e),n.lanes=t,n}function tb(n,e,t){return e=qs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var Nu=[],Ru=0,Qm=null,Jm=0,_i=[],Si=0,Ul=null,_a=1,Sa="";function kl(n,e){Nu[Ru++]=Jm,Nu[Ru++]=Qm,Qm=n,Jm=e}function rR(n,e,t){_i[Si++]=_a,_i[Si++]=Sa,_i[Si++]=Ul,Ul=n;var s=_a;n=Sa;var i=32-Qs(s)-1;s&=~(1<<i),t+=1;var r=32-Qs(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,_a=1<<32-Qs(e)+i|t<<i|s,Sa=r+n}else _a=1<<r|t<<i|s,Sa=n}function p1(n){n.return!==null&&(kl(n,1),rR(n,1,0))}function m1(n){for(;n===Qm;)Qm=Nu[--Ru],Nu[Ru]=null,Jm=Nu[--Ru],Nu[Ru]=null;for(;n===Ul;)Ul=_i[--Si],_i[Si]=null,Sa=_i[--Si],_i[Si]=null,_a=_i[--Si],_i[Si]=null}var ds=null,Jt=null,wt=!1,Wl=null,kr=!1,D0=Error(ue(519));function Jl(n){var e=Error(ue(418,""));throw Pf(Ti(e,n)),D0}function qC(n){var e=n.stateNode,t=n.type,s=n.memoizedProps;switch(e[ns]=n,e[js]=s,t){case"dialog":at("cancel",e),at("close",e);break;case"iframe":case"object":case"embed":at("load",e);break;case"video":case"audio":for(t=0;t<jf.length;t++)at(jf[t],e);break;case"source":at("error",e);break;case"img":case"image":case"link":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"input":at("invalid",e),DN(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),qm(e);break;case"select":at("invalid",e);break;case"textarea":at("invalid",e),FN(e,s.value,s.defaultValue,s.children),qm(e)}t=s.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||s.suppressHydrationWarning===!0||BP(e.textContent,t)?(s.popover!=null&&(at("beforetoggle",e),at("toggle",e)),s.onScroll!=null&&at("scroll",e),s.onScrollEnd!=null&&at("scrollend",e),s.onClick!=null&&(e.onclick=Ex),e=!0):e=!1,e||Jl(n)}function ZC(n){for(ds=n.return;ds;)switch(ds.tag){case 5:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:ds=ds.return}}function Td(n){if(n!==ds)return!1;if(!wt)return ZC(n),wt=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||cw(n.type,n.memoizedProps)),t=!t),t&&Jt&&Jl(n),ZC(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ue(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){Jt=or(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}Jt=null}}else e===27?(e=Jt,nl(n.type)?(n=dw,dw=null,Jt=n):Jt=e):Jt=ds?or(n.stateNode.nextSibling):null;return!0}function _g(){Jt=ds=null,wt=!1}function KC(){var n=Wl;return n!==null&&(Ts===null?Ts=n:Ts.push.apply(Ts,n),Wl=null),n}function Pf(n){Wl===null?Wl=[n]:Wl.push(n)}var z0=Xr(null),yc=null,Aa=null;function uo(n,e,t){Xt(z0,e._currentValue),e._currentValue=t}function Ra(n){n._currentValue=z0.current,On(z0)}function F0(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function B0(n,e,t,s){var i=n.child;for(i!==null&&(i.return=n);i!==null;){var r=i.dependencies;if(r!==null){var a=i.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){r.lanes|=t,o=r.alternate,o!==null&&(o.lanes|=t),F0(r.return,t,n),s||(a=null);break e}r=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(ue(341));a.lanes|=t,r=a.alternate,r!==null&&(r.lanes|=t),F0(a,t,n),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===n){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Sg(n,e,t,s){n=null;for(var i=e,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(ue(387));if(a=a.memoizedProps,a!==null){var o=i.type;ri(i.pendingProps.value,a.value)||(n!==null?n.push(o):n=[o])}}else if(i===Ym.current){if(a=i.alternate,a===null)throw Error(ue(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(n!==null?n.push(Df):n=[Df])}i=i.return}n!==null&&B0(e,n,t,s),e.flags|=262144}function ev(n){for(n=n.firstContext;n!==null;){if(!ri(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ec(n){yc=n,Aa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ss(n){return aR(yc,n)}function jp(n,e){return yc===null&&ec(n),aR(n,e)}function aR(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},Aa===null){if(n===null)throw Error(ue(308));Aa=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else Aa=Aa.next=e;return t}var Mz=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,s){n.push(s)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},jz=En.unstable_scheduleCallback,Lz=En.unstable_NormalPriority,_n={$$typeof:wa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function v1(){return{controller:new Mz,data:new Map,refCount:0}}function Ag(n){n.refCount--,n.refCount===0&&jz(Lz,function(){n.controller.abort()})}var Jd=null,V0=0,Ju=0,Ou=null;function Oz(n,e){if(Jd===null){var t=Jd=[];V0=0,Ju=B1(),Ou={status:"pending",value:void 0,then:function(s){t.push(s)}}}return V0++,e.then(QC,QC),e}function QC(){if(--V0===0&&Jd!==null){Ou!==null&&(Ou.status="fulfilled");var n=Jd;Jd=null,Ju=0,Ou=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function Dz(n,e){var t=[],s={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return n.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<t.length;i++)(0,t[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),s}var JC=He.S;He.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Oz(n,e),JC!==null&&JC(n,e)};var Yl=Xr(null);function x1(){var n=Yl.current;return n!==null?n:Bt.pooledCache}function pm(n,e){e===null?Xt(Yl,Yl.current):Xt(Yl,e.pool)}function oR(){var n=x1();return n===null?null:{parent:_n._currentValue,pool:n}}var Cg=Error(ue(460)),lR=Error(ue(474)),bx=Error(ue(542)),H0={then:function(){}};function eT(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Lp(){}function cR(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(Lp,Lp),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,nT(n),n;default:if(typeof e.status=="string")e.then(Lp,Lp);else{if(n=Bt,n!==null&&100<n.shellSuspendCounter)throw Error(ue(482));n=e,n.status="pending",n.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,nT(n),n}throw ef=e,Cg}}var ef=null;function tT(){if(ef===null)throw Error(ue(459));var n=ef;return ef=null,n}function nT(n){if(n===Cg||n===bx)throw Error(ue(483))}var co=!1;function y1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function U0(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function To(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Eo(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,Rt&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=Km(n),sR(n,null,t),e}return yx(n,s,e,t),Km(n)}function tf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,PN(n,t)}}function nb(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var a={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};r===null?i=r=a:r=r.next=a,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var W0=!1;function nf(){if(W0){var n=Ou;if(n!==null)throw n}}function sf(n,e,t,s){W0=!1;var i=n.updateQueue;co=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(r!==null){var f=i.baseState;a=0,h=c=l=null,o=r;do{var g=o.lane&-536870913,p=g!==o.lane;if(p?(gt&g)===g:(s&g)===g){g!==0&&g===Ju&&(W0=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=n,v=o;g=e;var _=t;switch(v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(_,f,g);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,g=typeof x=="function"?x.call(_,f,g):x,g==null)break e;f=Ut({},f,g);break e;case 2:co=!0}}g=o.callback,g!==null&&(n.flags|=64,p&&(n.flags|=8192),p=i.callbacks,p===null?i.callbacks=[g]:p.push(g))}else p={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,r===null&&(i.shared.lanes=0),Vo|=a,n.lanes=a,n.memoizedState=f}}function uR(n,e){if(typeof n!="function")throw Error(ue(191,n));n.call(e)}function hR(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)uR(t[n],e)}var eh=Xr(null),tv=Xr(0);function sT(n,e){n=Oa,Xt(tv,n),Xt(eh,e),Oa=n|e.baseLanes}function Y0(){Xt(tv,Oa),Xt(eh,eh.current)}function b1(){Oa=tv.current,On(eh),On(tv)}var Fo=0,nt=null,Mt=null,pn=null,nv=!1,Du=!1,tc=!1,sv=0,If=0,zu=null,zz=0;function on(){throw Error(ue(321))}function w1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ri(n[t],e[t]))return!1;return!0}function _1(n,e,t,s,i,r){return Fo=r,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,He.H=n===null||n.memoizedState===null?HR:UR,tc=!1,r=t(s,i),tc=!1,Du&&(r=fR(e,t,s,i)),dR(n),r}function dR(n){He.H=iv;var e=Mt!==null&&Mt.next!==null;if(Fo=0,pn=Mt=nt=null,nv=!1,If=0,zu=null,e)throw Error(ue(300));n===null||jn||(n=n.dependencies,n!==null&&ev(n)&&(jn=!0))}function fR(n,e,t,s){nt=n;var i=0;do{if(Du&&(zu=null),If=0,Du=!1,25<=i)throw Error(ue(301));if(i+=1,pn=Mt=null,n.updateQueue!=null){var r=n.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}He.H=Yz,r=e(t,s)}while(Du);return r}function Fz(){var n=He.H,e=n.useState()[0];return e=typeof e.then=="function"?Tg(e):e,n=n.useState()[0],(Mt!==null?Mt.memoizedState:null)!==n&&(nt.flags|=1024),e}function S1(){var n=sv!==0;return sv=0,n}function A1(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function C1(n){if(nv){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}nv=!1}Fo=0,pn=Mt=nt=null,Du=!1,If=sv=0,zu=null}function As(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?nt.memoizedState=pn=n:pn=pn.next=n,pn}function vn(){if(Mt===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=Mt.next;var e=pn===null?nt.memoizedState:pn.next;if(e!==null)pn=e,Mt=n;else{if(n===null)throw nt.alternate===null?Error(ue(467)):Error(ue(310));Mt=n,n={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},pn===null?nt.memoizedState=pn=n:pn=pn.next=n}return pn}function T1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tg(n){var e=If;return If+=1,zu===null&&(zu=[]),n=cR(zu,n,e),e=nt,(pn===null?e.memoizedState:pn.next)===null&&(e=e.alternate,He.H=e===null||e.memoizedState===null?HR:UR),n}function wx(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tg(n);if(n.$$typeof===wa)return ss(n)}throw Error(ue(438,String(n)))}function E1(n){var e=null,t=nt.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var s=nt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=T1(),nt.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),s=0;s<n;s++)t[s]=S6;return e.index++,t}function ja(n,e){return typeof e=="function"?e(n):e}function mm(n){var e=vn();return k1(e,Mt,n)}function k1(n,e,t){var s=n.queue;if(s===null)throw Error(ue(311));s.lastRenderedReducer=t;var i=n.baseQueue,r=s.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}e.baseQueue=i=r,s.pending=null}if(r=n.baseState,i===null)n.memoizedState=r;else{e=i.next;var o=a=null,l=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(gt&f)===f:(Fo&f)===f){var g=c.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Ju&&(h=!0);else if((Fo&g)===g){c=c.next,g===Ju&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=r):l=l.next=f,nt.lanes|=g,Vo|=g;f=c.action,tc&&t(r,f),r=c.hasEagerState?c.eagerState:t(r,f)}else g={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=g,a=r):l=l.next=g,nt.lanes|=f,Vo|=f;c=c.next}while(c!==null&&c!==e);if(l===null?a=r:l.next=o,!ri(r,n.memoizedState)&&(jn=!0,h&&(t=Ou,t!==null)))throw t;n.memoizedState=r,n.baseState=a,n.baseQueue=l,s.lastRenderedState=r}return i===null&&(s.lanes=0),[n.memoizedState,s.dispatch]}function sb(n){var e=vn(),t=e.queue;if(t===null)throw Error(ue(311));t.lastRenderedReducer=n;var s=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do r=n(r,a.action),a=a.next;while(a!==i);ri(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,s]}function gR(n,e,t){var s=nt,i=vn(),r=wt;if(r){if(t===void 0)throw Error(ue(407));t=t()}else t=e();var a=!ri((Mt||i).memoizedState,t);a&&(i.memoizedState=t,jn=!0),i=i.queue;var o=vR.bind(null,s,i,n);if(Eg(2048,8,o,[n]),i.getSnapshot!==e||a||pn!==null&&pn.memoizedState.tag&1){if(s.flags|=2048,th(9,_x(),mR.bind(null,s,i,t,e),null),Bt===null)throw Error(ue(349));r||Fo&124||pR(s,e,t)}return t}function pR(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=nt.updateQueue,e===null?(e=T1(),nt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function mR(n,e,t,s){e.value=t,e.getSnapshot=s,xR(e)&&yR(n)}function vR(n,e,t){return t(function(){xR(e)&&yR(n)})}function xR(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ri(n,t)}catch{return!0}}function yR(n){var e=kh(n,2);e!==null&&ei(e,n,2)}function X0(n){var e=As();if(typeof n=="function"){var t=n;if(n=t(),tc){bo(!0);try{t()}finally{bo(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:n},e}function bR(n,e,t,s){return n.baseState=t,k1(n,Mt,typeof s=="function"?s:ja)}function Bz(n,e,t,s,i){if(Sx(n))throw Error(ue(485));if(n=e.action,n!==null){var r={payload:i,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};He.T!==null?t(!0):r.isTransition=!1,s(r),t=e.pending,t===null?(r.next=e.pending=r,wR(e,r)):(r.next=t.next,e.pending=t.next=r)}}function wR(n,e){var t=e.action,s=e.payload,i=n.state;if(e.isTransition){var r=He.T,a={};He.T=a;try{var o=t(i,s),l=He.S;l!==null&&l(a,o),iT(n,e,o)}catch(c){G0(n,e,c)}finally{He.T=r}}else try{r=t(i,s),iT(n,e,r)}catch(c){G0(n,e,c)}}function iT(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(s){rT(n,e,s)},function(s){return G0(n,e,s)}):rT(n,e,t)}function rT(n,e,t){e.status="fulfilled",e.value=t,_R(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,wR(n,t)))}function G0(n,e,t){var s=n.pending;if(n.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=t,_R(e),e=e.next;while(e!==s)}n.action=null}function _R(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function SR(n,e){return e}function aT(n,e){if(wt){var t=Bt.formState;if(t!==null){e:{var s=nt;if(wt){if(Jt){t:{for(var i=Jt,r=kr;i.nodeType!==8;){if(!r){i=null;break t}if(i=or(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Jt=or(i.nextSibling),s=i.data==="F!";break e}}Jl(s)}s=!1}s&&(e=t[0])}}return t=As(),t.memoizedState=t.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SR,lastRenderedState:e},t.queue=s,t=FR.bind(null,nt,s),s.dispatch=t,s=X0(!1),r=I1.bind(null,nt,!1,s.queue),s=As(),i={state:e,dispatch:null,action:n,pending:null},s.queue=i,t=Bz.bind(null,nt,i,r,t),i.dispatch=t,s.memoizedState=n,[e,t,!1]}function oT(n){var e=vn();return AR(e,Mt,n)}function AR(n,e,t){if(e=k1(n,e,SR)[0],n=mm(ja)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Tg(e)}catch(a){throw a===Cg?bx:a}else s=e;e=vn();var i=e.queue,r=i.dispatch;return t!==e.memoizedState&&(nt.flags|=2048,th(9,_x(),Vz.bind(null,i,t),null)),[s,r,n]}function Vz(n,e){n.action=e}function lT(n){var e=vn(),t=Mt;if(t!==null)return AR(e,t,n);vn(),e=e.memoizedState,t=vn();var s=t.queue.dispatch;return t.memoizedState=n,[e,s,!1]}function th(n,e,t,s){return n={tag:n,create:t,deps:s,inst:e,next:null},e=nt.updateQueue,e===null&&(e=T1(),nt.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n),n}function _x(){return{destroy:void 0,resource:void 0}}function CR(){return vn().memoizedState}function vm(n,e,t,s){var i=As();s=s===void 0?null:s,nt.flags|=n,i.memoizedState=th(1|e,_x(),t,s)}function Eg(n,e,t,s){var i=vn();s=s===void 0?null:s;var r=i.memoizedState.inst;Mt!==null&&s!==null&&w1(s,Mt.memoizedState.deps)?i.memoizedState=th(e,r,t,s):(nt.flags|=n,i.memoizedState=th(1|e,r,t,s))}function cT(n,e){vm(8390656,8,n,e)}function TR(n,e){Eg(2048,8,n,e)}function ER(n,e){return Eg(4,2,n,e)}function kR(n,e){return Eg(4,4,n,e)}function NR(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function RR(n,e,t){t=t!=null?t.concat([n]):null,Eg(4,4,NR.bind(null,e,n),t)}function N1(){}function PR(n,e){var t=vn();e=e===void 0?null:e;var s=t.memoizedState;return e!==null&&w1(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function IR(n,e){var t=vn();e=e===void 0?null:e;var s=t.memoizedState;if(e!==null&&w1(e,s[1]))return s[0];if(s=n(),tc){bo(!0);try{n()}finally{bo(!1)}}return t.memoizedState=[s,e],s}function R1(n,e,t){return t===void 0||Fo&1073741824?n.memoizedState=e:(n.memoizedState=t,n=_P(),nt.lanes|=n,Vo|=n,t)}function MR(n,e,t,s){return ri(t,e)?t:eh.current!==null?(n=R1(n,t,s),ri(n,e)||(jn=!0),n):Fo&42?(n=_P(),nt.lanes|=n,Vo|=n,e):(jn=!0,n.memoizedState=t)}function jR(n,e,t,s,i){var r=_t.p;_t.p=r!==0&&8>r?r:8;var a=He.T,o={};He.T=o,I1(n,!1,e,t);try{var l=i(),c=He.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=Dz(l,s);rf(n,e,h,Js(n))}else rf(n,e,s,Js(n))}catch(f){rf(n,e,{then:function(){},status:"rejected",reason:f},Js())}finally{_t.p=r,He.T=a}}function Hz(){}function $0(n,e,t,s){if(n.tag!==5)throw Error(ue(476));var i=LR(n).queue;jR(n,i,e,Vl,t===null?Hz:function(){return OR(n),t(s)})}function LR(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:Vl,baseState:Vl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:Vl},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function OR(n){var e=LR(n).next.queue;rf(n,e,{},Js())}function P1(){return ss(Df)}function DR(){return vn().memoizedState}function zR(){return vn().memoizedState}function Uz(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=Js();n=To(t);var s=Eo(e,n,t);s!==null&&(ei(s,e,t),tf(s,e,t)),e={cache:v1()},n.payload=e;return}e=e.return}}function Wz(n,e,t){var s=Js();t={lane:s,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Sx(n)?BR(e,t):(t=f1(n,e,t,s),t!==null&&(ei(t,n,s),VR(t,e,s)))}function FR(n,e,t){var s=Js();rf(n,e,t,s)}function rf(n,e,t,s){var i={lane:s,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Sx(n))BR(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,t);if(i.hasEagerState=!0,i.eagerState=o,ri(o,a))return yx(n,e,i,0),Bt===null&&xx(),!1}catch{}finally{}if(t=f1(n,e,i,s),t!==null)return ei(t,n,s),VR(t,e,s),!0}return!1}function I1(n,e,t,s){if(s={lane:2,revertLane:B1(),action:s,hasEagerState:!1,eagerState:null,next:null},Sx(n)){if(e)throw Error(ue(479))}else e=f1(n,t,s,2),e!==null&&ei(e,n,2)}function Sx(n){var e=n.alternate;return n===nt||e!==null&&e===nt}function BR(n,e){Du=nv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function VR(n,e,t){if(t&4194048){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,PN(n,t)}}var iv={readContext:ss,use:wx,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on},HR={readContext:ss,use:wx,useCallback:function(n,e){return As().memoizedState=[n,e===void 0?null:e],n},useContext:ss,useEffect:cT,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,vm(4194308,4,NR.bind(null,e,n),t)},useLayoutEffect:function(n,e){return vm(4194308,4,n,e)},useInsertionEffect:function(n,e){vm(4,2,n,e)},useMemo:function(n,e){var t=As();e=e===void 0?null:e;var s=n();if(tc){bo(!0);try{n()}finally{bo(!1)}}return t.memoizedState=[s,e],s},useReducer:function(n,e,t){var s=As();if(t!==void 0){var i=t(e);if(tc){bo(!0);try{t(e)}finally{bo(!1)}}}else i=e;return s.memoizedState=s.baseState=i,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},s.queue=n,n=n.dispatch=Wz.bind(null,nt,n),[s.memoizedState,n]},useRef:function(n){var e=As();return n={current:n},e.memoizedState=n},useState:function(n){n=X0(n);var e=n.queue,t=FR.bind(null,nt,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:N1,useDeferredValue:function(n,e){var t=As();return R1(t,n,e)},useTransition:function(){var n=X0(!1);return n=jR.bind(null,nt,n.queue,!0,!1),As().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var s=nt,i=As();if(wt){if(t===void 0)throw Error(ue(407));t=t()}else{if(t=e(),Bt===null)throw Error(ue(349));gt&124||pR(s,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,cT(vR.bind(null,s,r,n),[n]),s.flags|=2048,th(9,_x(),mR.bind(null,s,r,t,e),null),t},useId:function(){var n=As(),e=Bt.identifierPrefix;if(wt){var t=Sa,s=_a;t=(s&~(1<<32-Qs(s)-1)).toString(32)+t,e=""+e+"R"+t,t=sv++,0<t&&(e+="H"+t.toString(32)),e+=""}else t=zz++,e=""+e+"r"+t.toString(32)+"";return n.memoizedState=e},useHostTransitionStatus:P1,useFormState:aT,useActionState:aT,useOptimistic:function(n){var e=As();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=I1.bind(null,nt,!0,t),t.dispatch=e,[n,e]},useMemoCache:E1,useCacheRefresh:function(){return As().memoizedState=Uz.bind(null,nt)}},UR={readContext:ss,use:wx,useCallback:PR,useContext:ss,useEffect:TR,useImperativeHandle:RR,useInsertionEffect:ER,useLayoutEffect:kR,useMemo:IR,useReducer:mm,useRef:CR,useState:function(){return mm(ja)},useDebugValue:N1,useDeferredValue:function(n,e){var t=vn();return MR(t,Mt.memoizedState,n,e)},useTransition:function(){var n=mm(ja)[0],e=vn().memoizedState;return[typeof n=="boolean"?n:Tg(n),e]},useSyncExternalStore:gR,useId:DR,useHostTransitionStatus:P1,useFormState:oT,useActionState:oT,useOptimistic:function(n,e){var t=vn();return bR(t,Mt,n,e)},useMemoCache:E1,useCacheRefresh:zR},Yz={readContext:ss,use:wx,useCallback:PR,useContext:ss,useEffect:TR,useImperativeHandle:RR,useInsertionEffect:ER,useLayoutEffect:kR,useMemo:IR,useReducer:sb,useRef:CR,useState:function(){return sb(ja)},useDebugValue:N1,useDeferredValue:function(n,e){var t=vn();return Mt===null?R1(t,n,e):MR(t,Mt.memoizedState,n,e)},useTransition:function(){var n=sb(ja)[0],e=vn().memoizedState;return[typeof n=="boolean"?n:Tg(n),e]},useSyncExternalStore:gR,useId:DR,useHostTransitionStatus:P1,useFormState:lT,useActionState:lT,useOptimistic:function(n,e){var t=vn();return Mt!==null?bR(t,Mt,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:E1,useCacheRefresh:zR},Fu=null,Mf=0;function Op(n){var e=Mf;return Mf+=1,Fu===null&&(Fu=[]),cR(Fu,n,e)}function Ed(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function Dp(n,e){throw e.$$typeof===w6?Error(ue(525)):(n=Object.prototype.toString.call(e),Error(ue(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function uT(n){var e=n._init;return e(n._payload)}function WR(n){function e(w,S){if(n){var A=w.deletions;A===null?(w.deletions=[S],w.flags|=16):A.push(S)}}function t(w,S){if(!n)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function s(w){for(var S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(w,S){return w=Na(w,S),w.index=0,w.sibling=null,w}function r(w,S,A){return w.index=A,n?(A=w.alternate,A!==null?(A=A.index,A<S?(w.flags|=67108866,S):A):(w.flags|=67108866,S)):(w.flags|=1048576,S)}function a(w){return n&&w.alternate===null&&(w.flags|=67108866),w}function o(w,S,A,T){return S===null||S.tag!==6?(S=eb(A,w.mode,T),S.return=w,S):(S=i(S,A),S.return=w,S)}function l(w,S,A,T){var N=A.type;return N===bu?h(w,S,A.props.children,T,A.key):S!==null&&(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===lo&&uT(N)===S.type)?(S=i(S,A.props),Ed(S,A),S.return=w,S):(S=gm(A.type,A.key,A.props,null,w.mode,T),Ed(S,A),S.return=w,S)}function c(w,S,A,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=tb(A,w.mode,T),S.return=w,S):(S=i(S,A.children||[]),S.return=w,S)}function h(w,S,A,T,N){return S===null||S.tag!==7?(S=Hl(A,w.mode,T,N),S.return=w,S):(S=i(S,A),S.return=w,S)}function f(w,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=eb(""+S,w.mode,A),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Np:return A=gm(S.type,S.key,S.props,null,w.mode,A),Ed(A,S),A.return=w,A;case Ld:return S=tb(S,w.mode,A),S.return=w,S;case lo:var T=S._init;return S=T(S._payload),f(w,S,A)}if(Od(S)||Sd(S))return S=Hl(S,w.mode,A,null),S.return=w,S;if(typeof S.then=="function")return f(w,Op(S),A);if(S.$$typeof===wa)return f(w,jp(w,S),A);Dp(w,S)}return null}function g(w,S,A,T){var N=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return N!==null?null:o(w,S,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Np:return A.key===N?l(w,S,A,T):null;case Ld:return A.key===N?c(w,S,A,T):null;case lo:return N=A._init,A=N(A._payload),g(w,S,A,T)}if(Od(A)||Sd(A))return N!==null?null:h(w,S,A,T,null);if(typeof A.then=="function")return g(w,S,Op(A),T);if(A.$$typeof===wa)return g(w,S,jp(w,A),T);Dp(w,A)}return null}function p(w,S,A,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return w=w.get(A)||null,o(S,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Np:return w=w.get(T.key===null?A:T.key)||null,l(S,w,T,N);case Ld:return w=w.get(T.key===null?A:T.key)||null,c(S,w,T,N);case lo:var O=T._init;return T=O(T._payload),p(w,S,A,T,N)}if(Od(T)||Sd(T))return w=w.get(A)||null,h(S,w,T,N,null);if(typeof T.then=="function")return p(w,S,A,Op(T),N);if(T.$$typeof===wa)return p(w,S,A,jp(S,T),N);Dp(S,T)}return null}function x(w,S,A,T){for(var N=null,O=null,C=S,k=S=0,M=null;C!==null&&k<A.length;k++){C.index>k?(M=C,C=null):M=C.sibling;var I=g(w,C,A[k],T);if(I===null){C===null&&(C=M);break}n&&C&&I.alternate===null&&e(w,C),S=r(I,S,k),O===null?N=I:O.sibling=I,O=I,C=M}if(k===A.length)return t(w,C),wt&&kl(w,k),N;if(C===null){for(;k<A.length;k++)C=f(w,A[k],T),C!==null&&(S=r(C,S,k),O===null?N=C:O.sibling=C,O=C);return wt&&kl(w,k),N}for(C=s(C);k<A.length;k++)M=p(C,w,k,A[k],T),M!==null&&(n&&M.alternate!==null&&C.delete(M.key===null?k:M.key),S=r(M,S,k),O===null?N=M:O.sibling=M,O=M);return n&&C.forEach(function(D){return e(w,D)}),wt&&kl(w,k),N}function v(w,S,A,T){if(A==null)throw Error(ue(151));for(var N=null,O=null,C=S,k=S=0,M=null,I=A.next();C!==null&&!I.done;k++,I=A.next()){C.index>k?(M=C,C=null):M=C.sibling;var D=g(w,C,I.value,T);if(D===null){C===null&&(C=M);break}n&&C&&D.alternate===null&&e(w,C),S=r(D,S,k),O===null?N=D:O.sibling=D,O=D,C=M}if(I.done)return t(w,C),wt&&kl(w,k),N;if(C===null){for(;!I.done;k++,I=A.next())I=f(w,I.value,T),I!==null&&(S=r(I,S,k),O===null?N=I:O.sibling=I,O=I);return wt&&kl(w,k),N}for(C=s(C);!I.done;k++,I=A.next())I=p(C,w,k,I.value,T),I!==null&&(n&&I.alternate!==null&&C.delete(I.key===null?k:I.key),S=r(I,S,k),O===null?N=I:O.sibling=I,O=I);return n&&C.forEach(function(F){return e(w,F)}),wt&&kl(w,k),N}function _(w,S,A,T){if(typeof A=="object"&&A!==null&&A.type===bu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Np:e:{for(var N=A.key;S!==null;){if(S.key===N){if(N=A.type,N===bu){if(S.tag===7){t(w,S.sibling),T=i(S,A.props.children),T.return=w,w=T;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===lo&&uT(N)===S.type){t(w,S.sibling),T=i(S,A.props),Ed(T,A),T.return=w,w=T;break e}t(w,S);break}else e(w,S);S=S.sibling}A.type===bu?(T=Hl(A.props.children,w.mode,T,A.key),T.return=w,w=T):(T=gm(A.type,A.key,A.props,null,w.mode,T),Ed(T,A),T.return=w,w=T)}return a(w);case Ld:e:{for(N=A.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){t(w,S.sibling),T=i(S,A.children||[]),T.return=w,w=T;break e}else{t(w,S);break}else e(w,S);S=S.sibling}T=tb(A,w.mode,T),T.return=w,w=T}return a(w);case lo:return N=A._init,A=N(A._payload),_(w,S,A,T)}if(Od(A))return x(w,S,A,T);if(Sd(A)){if(N=Sd(A),typeof N!="function")throw Error(ue(150));return A=N.call(A),v(w,S,A,T)}if(typeof A.then=="function")return _(w,S,Op(A),T);if(A.$$typeof===wa)return _(w,S,jp(w,A),T);Dp(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,S!==null&&S.tag===6?(t(w,S.sibling),T=i(S,A),T.return=w,w=T):(t(w,S),T=eb(A,w.mode,T),T.return=w,w=T),a(w)):t(w,S)}return function(w,S,A,T){try{Mf=0;var N=_(w,S,A,T);return Fu=null,N}catch(C){if(C===Cg||C===bx)throw C;var O=qs(29,C,null,w.mode);return O.lanes=T,O.return=w,O}finally{}}}var nh=WR(!0),YR=WR(!1),Bi=Xr(null),jr=null;function ho(n){var e=n.alternate;Xt(Sn,Sn.current&1),Xt(Bi,n),jr===null&&(e===null||eh.current!==null||e.memoizedState!==null)&&(jr=n)}function XR(n){if(n.tag===22){if(Xt(Sn,Sn.current),Xt(Bi,n),jr===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(jr=n)}}else fo()}function fo(){Xt(Sn,Sn.current),Xt(Bi,Bi.current)}function Ca(n){On(Bi),jr===n&&(jr=null),On(Sn)}var Sn=Xr(0);function rv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||hw(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ib(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:Ut({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var q0={enqueueSetState:function(n,e,t){n=n._reactInternals;var s=Js(),i=To(s);i.payload=e,t!=null&&(i.callback=t),e=Eo(n,i,s),e!==null&&(ei(e,n,s),tf(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=Js(),i=To(s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Eo(n,i,s),e!==null&&(ei(e,n,s),tf(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Js(),s=To(t);s.tag=2,e!=null&&(s.callback=e),e=Eo(n,s,t),e!==null&&(ei(e,n,t),tf(e,n,t))}};function hT(n,e,t,s,i,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!Rf(t,s)||!Rf(i,r):!0}function dT(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&q0.enqueueReplaceState(e,e.state,null)}function nc(n,e){var t=e;if("ref"in e){t={};for(var s in e)s!=="ref"&&(t[s]=e[s])}if(n=n.defaultProps){t===e&&(t=Ut({},t));for(var i in n)t[i]===void 0&&(t[i]=n[i])}return t}var av=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function GR(n){av(n)}function $R(n){console.error(n)}function qR(n){av(n)}function ov(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function fT(n,e,t){try{var s=n.onCaughtError;s(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Z0(n,e,t){return t=To(t),t.tag=3,t.payload={element:null},t.callback=function(){ov(n,e)},t}function ZR(n){return n=To(n),n.tag=3,n}function KR(n,e,t,s){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=s.value;n.payload=function(){return i(r)},n.callback=function(){fT(e,t,s)}}var a=t.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){fT(e,t,s),typeof i!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function Xz(n,e,t,s,i){if(t.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=t.alternate,e!==null&&Sg(e,t,i,!0),t=Bi.current,t!==null){switch(t.tag){case 13:return jr===null?iw():t.alternate===null&&en===0&&(en=3),t.flags&=-257,t.flags|=65536,t.lanes=i,s===H0?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([s]):e.add(s),pb(n,s,i)),!1;case 22:return t.flags|=65536,s===H0?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([s]):t.add(s)),pb(n,s,i)),!1}throw Error(ue(435,t.tag))}return pb(n,s,i),iw(),!1}if(wt)return e=Bi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==D0&&(n=Error(ue(422),{cause:s}),Pf(Ti(n,t)))):(s!==D0&&(e=Error(ue(423),{cause:s}),Pf(Ti(e,t))),n=n.current.alternate,n.flags|=65536,i&=-i,n.lanes|=i,s=Ti(s,t),i=Z0(n.stateNode,s,i),nb(n,i),en!==4&&(en=2)),!1;var r=Error(ue(520),{cause:s});if(r=Ti(r,t),lf===null?lf=[r]:lf.push(r),en!==4&&(en=2),e===null)return!0;s=Ti(s,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=i&-i,t.lanes|=n,n=Z0(t.stateNode,s,n),nb(t,n),!1;case 1:if(e=t.type,r=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ko===null||!ko.has(r))))return t.flags|=65536,i&=-i,t.lanes|=i,i=ZR(i),KR(i,n,t,s),nb(t,i),!1}t=t.return}while(t!==null);return!1}var QR=Error(ue(461)),jn=!1;function zn(n,e,t,s){e.child=n===null?YR(e,null,t,s):nh(e,n.child,t,s)}function gT(n,e,t,s,i){t=t.render;var r=e.ref;if("ref"in s){var a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}else a=s;return ec(e),s=_1(n,e,t,a,r,i),o=S1(),n!==null&&!jn?(A1(n,e,i),La(n,e,i)):(wt&&o&&p1(e),e.flags|=1,zn(n,e,s,i),e.child)}function pT(n,e,t,s,i){if(n===null){var r=t.type;return typeof r=="function"&&!g1(r)&&r.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=r,JR(n,e,r,s,i)):(n=gm(t.type,null,s,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!M1(n,i)){var a=r.memoizedProps;if(t=t.compare,t=t!==null?t:Rf,t(a,s)&&n.ref===e.ref)return La(n,e,i)}return e.flags|=1,n=Na(r,s),n.ref=e.ref,n.return=e,e.child=n}function JR(n,e,t,s,i){if(n!==null){var r=n.memoizedProps;if(Rf(r,s)&&n.ref===e.ref)if(jn=!1,e.pendingProps=s=r,M1(n,i))n.flags&131072&&(jn=!0);else return e.lanes=n.lanes,La(n,e,i)}return K0(n,e,t,s,i)}function eP(n,e,t){var s=e.pendingProps,i=s.children,r=n!==null?n.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=r!==null?r.baseLanes|t:t,n!==null){for(i=e.child=n.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;e.childLanes=r&~s}else e.childLanes=0,e.child=null;return mT(n,e,s,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&pm(e,r!==null?r.cachePool:null),r!==null?sT(e,r):Y0(),XR(e);else return e.lanes=e.childLanes=536870912,mT(n,e,r!==null?r.baseLanes|t:t,t)}else r!==null?(pm(e,r.cachePool),sT(e,r),fo(),e.memoizedState=null):(n!==null&&pm(e,null),Y0(),fo());return zn(n,e,i,t),e.child}function mT(n,e,t,s){var i=x1();return i=i===null?null:{parent:_n._currentValue,pool:i},e.memoizedState={baseLanes:t,cachePool:i},n!==null&&pm(e,null),Y0(),XR(e),n!==null&&Sg(n,e,s,!0),null}function xm(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(ue(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function K0(n,e,t,s,i){return ec(e),t=_1(n,e,t,s,void 0,i),s=S1(),n!==null&&!jn?(A1(n,e,i),La(n,e,i)):(wt&&s&&p1(e),e.flags|=1,zn(n,e,t,i),e.child)}function vT(n,e,t,s,i,r){return ec(e),e.updateQueue=null,t=fR(e,s,t,i),dR(n),s=S1(),n!==null&&!jn?(A1(n,e,r),La(n,e,r)):(wt&&s&&p1(e),e.flags|=1,zn(n,e,t,r),e.child)}function xT(n,e,t,s,i){if(ec(e),e.stateNode===null){var r=ku,a=t.contextType;typeof a=="object"&&a!==null&&(r=ss(a)),r=new t(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=q0,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},y1(e),a=t.contextType,r.context=typeof a=="object"&&a!==null?ss(a):ku,r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ib(e,t,a,s),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&q0.enqueueReplaceState(r,r.state,null),sf(e,s,r,i),nf(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(n===null){r=e.stateNode;var o=e.memoizedProps,l=nc(t,o);r.props=l;var c=r.context,h=t.contextType;a=ku,typeof h=="object"&&h!==null&&(a=ss(h));var f=t.getDerivedStateFromProps;h=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&dT(e,r,s,a),co=!1;var g=e.memoizedState;r.state=g,sf(e,s,r,i),nf(),c=e.memoizedState,o||g!==c||co?(typeof f=="function"&&(ib(e,t,f,s),c=e.memoizedState),(l=co||hT(e,t,l,s,g,c,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),r.props=s,r.state=c,r.context=a,s=l):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,U0(n,e),a=e.memoizedProps,h=nc(t,a),r.props=h,f=e.pendingProps,g=r.context,c=t.contextType,l=ku,typeof c=="object"&&c!==null&&(l=ss(c)),o=t.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==f||g!==l)&&dT(e,r,s,l),co=!1,g=e.memoizedState,r.state=g,sf(e,s,r,i),nf();var p=e.memoizedState;a!==f||g!==p||co||n!==null&&n.dependencies!==null&&ev(n.dependencies)?(typeof o=="function"&&(ib(e,t,o,s),p=e.memoizedState),(h=co||hT(e,t,h,s,g,p,l)||n!==null&&n.dependencies!==null&&ev(n.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,p,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,p,l)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),r.props=s,r.state=p,r.context=l,s=h):(typeof r.componentDidUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(e.flags|=1024),s=!1)}return r=s,xm(n,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,t=s&&typeof t.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,n!==null&&s?(e.child=nh(e,n.child,null,i),e.child=nh(e,null,t,i)):zn(n,e,t,i),e.memoizedState=r.state,n=e.child):n=La(n,e,i),n}function yT(n,e,t,s){return _g(),e.flags|=256,zn(n,e,t,s),e.child}var rb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ab(n){return{baseLanes:n,cachePool:oR()}}function ob(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=Ni),n}function tP(n,e,t){var s=e.pendingProps,i=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=n!==null&&n.memoizedState===null?!1:(Sn.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,n===null){if(wt){if(i?ho(e):fo(),wt){var o=Jt,l;if(l=o){e:{for(l=o,o=kr;l.nodeType!==8;){if(!o){o=null;break e}if(l=or(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:Ul!==null?{id:_a,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},l=qs(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,ds=e,Jt=null,l=!0):l=!1}l||Jl(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return hw(o)?e.lanes=32:e.lanes=536870912,null;Ca(e)}return o=s.children,s=s.fallback,i?(fo(),i=e.mode,o=lv({mode:"hidden",children:o},i),s=Hl(s,i,t,null),o.return=e,s.return=e,o.sibling=s,e.child=o,i=e.child,i.memoizedState=ab(t),i.childLanes=ob(n,a,t),e.memoizedState=rb,s):(ho(e),Q0(e,o))}if(l=n.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(r)e.flags&256?(ho(e),e.flags&=-257,e=lb(n,e,t)):e.memoizedState!==null?(fo(),e.child=n.child,e.flags|=128,e=null):(fo(),i=s.fallback,o=e.mode,s=lv({mode:"visible",children:s.children},o),i=Hl(i,o,t,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,nh(e,n.child,null,t),s=e.child,s.memoizedState=ab(t),s.childLanes=ob(n,a,t),e.memoizedState=rb,e=i);else if(ho(e),hw(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,s=Error(ue(419)),s.stack="",s.digest=a,Pf({value:s,source:null,stack:null}),e=lb(n,e,t)}else if(jn||Sg(n,e,t,!1),a=(t&n.childLanes)!==0,jn||a){if(a=Bt,a!==null&&(s=t&-t,s=s&42?1:s1(s),s=s&(a.suspendedLanes|t)?0:s,s!==0&&s!==l.retryLane))throw l.retryLane=s,kh(n,s),ei(a,n,s),QR;o.data==="$?"||iw(),e=lb(n,e,t)}else o.data==="$?"?(e.flags|=192,e.child=n.child,e=null):(n=l.treeContext,Jt=or(o.nextSibling),ds=e,wt=!0,Wl=null,kr=!1,n!==null&&(_i[Si++]=_a,_i[Si++]=Sa,_i[Si++]=Ul,_a=n.id,Sa=n.overflow,Ul=e),e=Q0(e,s.children),e.flags|=4096);return e}return i?(fo(),i=s.fallback,o=e.mode,l=n.child,c=l.sibling,s=Na(l,{mode:"hidden",children:s.children}),s.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=Na(c,i):(i=Hl(i,o,t,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=n.child.memoizedState,o===null?o=ab(t):(l=o.cachePool,l!==null?(c=_n._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=oR(),o={baseLanes:o.baseLanes|t,cachePool:l}),i.memoizedState=o,i.childLanes=ob(n,a,t),e.memoizedState=rb,s):(ho(e),t=n.child,n=t.sibling,t=Na(t,{mode:"visible",children:s.children}),t.return=e,t.sibling=null,n!==null&&(a=e.deletions,a===null?(e.deletions=[n],e.flags|=16):a.push(n)),e.child=t,e.memoizedState=null,t)}function Q0(n,e){return e=lv({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function lv(n,e){return n=qs(22,n,null,e),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function lb(n,e,t){return nh(e,n.child,null,t),n=Q0(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function bT(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),F0(n.return,e,t)}function cb(n,e,t,s,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=t,r.tailMode=i)}function nP(n,e,t){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(zn(n,e,s.children,t),s=Sn.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bT(n,t,e);else if(n.tag===19)bT(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}switch(Xt(Sn,s),i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&rv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),cb(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&rv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}cb(e,!0,t,null,r);break;case"together":cb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function La(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Vo|=e.lanes,!(t&e.childLanes))if(n!==null){if(Sg(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(ue(153));if(e.child!==null){for(n=e.child,t=Na(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Na(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function M1(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&ev(n)))}function Gz(n,e,t){switch(e.tag){case 3:Xm(e,e.stateNode.containerInfo),uo(e,_n,n.memoizedState.cache),_g();break;case 27:case 5:E0(e);break;case 4:Xm(e,e.stateNode.containerInfo);break;case 10:uo(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ho(e),e.flags|=128,null):t&e.child.childLanes?tP(n,e,t):(ho(e),n=La(n,e,t),n!==null?n.sibling:null);ho(e);break;case 19:var i=(n.flags&128)!==0;if(s=(t&e.childLanes)!==0,s||(Sg(n,e,t,!1),s=(t&e.childLanes)!==0),i){if(s)return nP(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(Sn,Sn.current),s)break;return null;case 22:case 23:return e.lanes=0,eP(n,e,t);case 24:uo(e,_n,n.memoizedState.cache)}return La(n,e,t)}function sP(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)jn=!0;else{if(!M1(n,t)&&!(e.flags&128))return jn=!1,Gz(n,e,t);jn=!!(n.flags&131072)}else jn=!1,wt&&e.flags&1048576&&rR(e,Jm,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var s=e.elementType,i=s._init;if(s=i(s._payload),e.type=s,typeof s=="function")g1(s)?(n=nc(s,n),e.tag=1,e=xT(null,e,s,n,t)):(e.tag=0,e=K0(null,e,s,n,t));else{if(s!=null){if(i=s.$$typeof,i===e1){e.tag=11,e=gT(null,e,s,n,t);break e}else if(i===t1){e.tag=14,e=pT(null,e,s,n,t);break e}}throw e=C0(s)||s,Error(ue(306,e,""))}}return e;case 0:return K0(n,e,e.type,e.pendingProps,t);case 1:return s=e.type,i=nc(s,e.pendingProps),xT(n,e,s,i,t);case 3:e:{if(Xm(e,e.stateNode.containerInfo),n===null)throw Error(ue(387));s=e.pendingProps;var r=e.memoizedState;i=r.element,U0(n,e),sf(e,s,null,t);var a=e.memoizedState;if(s=a.cache,uo(e,_n,s),s!==r.cache&&B0(e,[_n],t,!0),nf(),s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=yT(n,e,s,t);break e}else if(s!==i){i=Ti(Error(ue(424)),e),Pf(i),e=yT(n,e,s,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Jt=or(n.firstChild),ds=e,wt=!0,Wl=null,kr=!0,t=YR(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(_g(),s===i){e=La(n,e,t);break e}zn(n,e,s,t)}e=e.child}return e;case 26:return xm(n,e),n===null?(t=DT(e.type,null,e.pendingProps,null))?e.memoizedState=t:wt||(t=e.type,n=e.pendingProps,s=pv(Co.current).createElement(t),s[ns]=e,s[js]=n,Yn(s,t,n),In(s),e.stateNode=s):e.memoizedState=DT(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return E0(e),n===null&&wt&&(s=e.stateNode=UP(e.type,e.pendingProps,Co.current),ds=e,kr=!0,i=Jt,nl(e.type)?(dw=i,Jt=or(s.firstChild)):Jt=i),zn(n,e,e.pendingProps.children,t),xm(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&wt&&((i=s=Jt)&&(s=wF(s,e.type,e.pendingProps,kr),s!==null?(e.stateNode=s,ds=e,Jt=or(s.firstChild),kr=!1,i=!0):i=!1),i||Jl(e)),E0(e),i=e.type,r=e.pendingProps,a=n!==null?n.memoizedProps:null,s=r.children,cw(i,r)?s=null:a!==null&&cw(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=_1(n,e,Fz,null,null,t),Df._currentValue=i),xm(n,e),zn(n,e,s,t),e.child;case 6:return n===null&&wt&&((n=t=Jt)&&(t=_F(t,e.pendingProps,kr),t!==null?(e.stateNode=t,ds=e,Jt=null,n=!0):n=!1),n||Jl(e)),null;case 13:return tP(n,e,t);case 4:return Xm(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=nh(e,null,s,t):zn(n,e,s,t),e.child;case 11:return gT(n,e,e.type,e.pendingProps,t);case 7:return zn(n,e,e.pendingProps,t),e.child;case 8:return zn(n,e,e.pendingProps.children,t),e.child;case 12:return zn(n,e,e.pendingProps.children,t),e.child;case 10:return s=e.pendingProps,uo(e,e.type,s.value),zn(n,e,s.children,t),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,ec(e),i=ss(i),s=s(i),e.flags|=1,zn(n,e,s,t),e.child;case 14:return pT(n,e,e.type,e.pendingProps,t);case 15:return JR(n,e,e.type,e.pendingProps,t);case 19:return nP(n,e,t);case 31:return s=e.pendingProps,t=e.mode,s={mode:s.mode,children:s.children},n===null?(t=lv(s,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Na(n.child,s),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return eP(n,e,t);case 24:return ec(e),s=ss(_n),n===null?(i=x1(),i===null&&(i=Bt,r=v1(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=t),i=r),e.memoizedState={parent:s,cache:i},y1(e),uo(e,_n,i)):(n.lanes&t&&(U0(n,e),sf(e,null,null,t),nf()),i=n.memoizedState,r=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),uo(e,_n,s)):(s=r.cache,uo(e,_n,s),s!==i.cache&&B0(e,[_n],t,!0))),zn(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(ue(156,e.tag))}function ga(n){n.flags|=4}function wT(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!XP(e)){if(e=Bi.current,e!==null&&((gt&4194048)===gt?jr!==null:(gt&62914560)!==gt&&!(gt&536870912)||e!==jr))throw ef=H0,lR;n.flags|=8192}}function zp(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?NN():536870912,n.lanes|=e,sh|=e)}function kd(n,e){if(!wt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Gt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function $z(n,e,t){var s=e.pendingProps;switch(m1(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Gt(e),null;case 3:return t=e.stateNode,s=null,n!==null&&(s=n.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Ra(_n),Zu(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Td(e)?ga(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,KC())),Gt(e),null;case 26:return t=e.memoizedState,n===null?(ga(e),t!==null?(Gt(e),wT(e,t)):(Gt(e),e.flags&=-16777217)):t?t!==n.memoizedState?(ga(e),Gt(e),wT(e,t)):(Gt(e),e.flags&=-16777217):(n.memoizedProps!==s&&ga(e),Gt(e),e.flags&=-16777217),null;case 27:Gm(e),t=Co.current;var i=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==s&&ga(e);else{if(!s){if(e.stateNode===null)throw Error(ue(166));return Gt(e),null}n=Ir.current,Td(e)?qC(e):(n=UP(i,s,t),e.stateNode=n,ga(e))}return Gt(e),null;case 5:if(Gm(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==s&&ga(e);else{if(!s){if(e.stateNode===null)throw Error(ue(166));return Gt(e),null}if(n=Ir.current,Td(e))qC(e);else{switch(i=pv(Co.current),n){case 1:n=i.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=i.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=i.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=i.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?n.multiple=!0:s.size&&(n.size=s.size);break;default:n=typeof s.is=="string"?i.createElement(t,{is:s.is}):i.createElement(t)}}n[ns]=e,n[js]=s;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=n;e:switch(Yn(n,t,s),t){case"button":case"input":case"select":case"textarea":n=!!s.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ga(e)}}return Gt(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==s&&ga(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(ue(166));if(n=Co.current,Td(e)){if(n=e.stateNode,t=e.memoizedProps,s=null,i=ds,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}n[ns]=e,n=!!(n.nodeValue===t||s!==null&&s.suppressHydrationWarning===!0||BP(n.nodeValue,t)),n||Jl(e)}else n=pv(n).createTextNode(s),n[ns]=e,e.stateNode=n}return Gt(e),null;case 13:if(s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(i=Td(e),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(ue(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[ns]=e}else _g(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else i=KC(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ca(e),e):(Ca(e),null)}if(Ca(e),e.flags&128)return e.lanes=t,e;if(t=s!==null,n=n!==null&&n.memoizedState!==null,t){s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool);var r=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==i&&(s.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),zp(e,e.updateQueue),Gt(e),null;case 4:return Zu(),n===null&&V1(e.stateNode.containerInfo),Gt(e),null;case 10:return Ra(e.type),Gt(e),null;case 19:if(On(Sn),i=e.memoizedState,i===null)return Gt(e),null;if(s=(e.flags&128)!==0,r=i.rendering,r===null)if(s)kd(i,!1);else{if(en!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(r=rv(n),r!==null){for(e.flags|=128,kd(i,!1),n=r.updateQueue,e.updateQueue=n,zp(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)iR(t,n),t=t.sibling;return Xt(Sn,Sn.current&1|2),e.child}n=n.sibling}i.tail!==null&&Mr()>uv&&(e.flags|=128,s=!0,kd(i,!1),e.lanes=4194304)}else{if(!s)if(n=rv(r),n!==null){if(e.flags|=128,s=!0,n=n.updateQueue,e.updateQueue=n,zp(e,n),kd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!wt)return Gt(e),null}else 2*Mr()-i.renderingStartTime>uv&&t!==536870912&&(e.flags|=128,s=!0,kd(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(n=i.last,n!==null?n.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mr(),e.sibling=null,n=Sn.current,Xt(Sn,s?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return Ca(e),b1(),s=e.memoizedState!==null,n!==null?n.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?t&536870912&&!(e.flags&128)&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),t=e.updateQueue,t!==null&&zp(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==t&&(e.flags|=2048),n!==null&&On(Yl),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Ra(_n),Gt(e),null;case 25:return null;case 30:return null}throw Error(ue(156,e.tag))}function qz(n,e){switch(m1(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ra(_n),Zu(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return Gm(e),null;case 13:if(Ca(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));_g()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return On(Sn),null;case 4:return Zu(),null;case 10:return Ra(e.type),null;case 22:case 23:return Ca(e),b1(),n!==null&&On(Yl),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return Ra(_n),null;case 25:return null;default:return null}}function iP(n,e){switch(m1(e),e.tag){case 3:Ra(_n),Zu();break;case 26:case 27:case 5:Gm(e);break;case 4:Zu();break;case 13:Ca(e);break;case 19:On(Sn);break;case 10:Ra(e.type);break;case 22:case 23:Ca(e),b1(),n!==null&&On(Yl);break;case 24:Ra(_n)}}function kg(n,e){try{var t=e.updateQueue,s=t!==null?t.lastEffect:null;if(s!==null){var i=s.next;t=i;do{if((t.tag&n)===n){s=void 0;var r=t.create,a=t.inst;s=r(),a.destroy=s}t=t.next}while(t!==i)}}catch(o){Ot(e,e.return,o)}}function Bo(n,e,t){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&n)===n){var a=s.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=t,c=o;try{c()}catch(h){Ot(i,l,h)}}}s=s.next}while(s!==r)}}catch(h){Ot(e,e.return,h)}}function rP(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{hR(e,t)}catch(s){Ot(n,n.return,s)}}}function aP(n,e,t){t.props=nc(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(s){Ot(n,e,s)}}function af(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var s=n.stateNode;break;case 30:s=n.stateNode;break;default:s=n.stateNode}typeof t=="function"?n.refCleanup=t(s):t.current=s}}catch(i){Ot(n,e,i)}}function Rr(n,e){var t=n.ref,s=n.refCleanup;if(t!==null)if(typeof s=="function")try{s()}catch(i){Ot(n,e,i)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){Ot(n,e,i)}else t.current=null}function oP(n){var e=n.type,t=n.memoizedProps,s=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&s.focus();break e;case"img":t.src?s.src=t.src:t.srcSet&&(s.srcset=t.srcSet)}}catch(i){Ot(n,n.return,i)}}function ub(n,e,t){try{var s=n.stateNode;mF(s,n.type,t,e),s[js]=e}catch(i){Ot(n,n.return,i)}}function lP(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&nl(n.type)||n.tag===4}function hb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&nl(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function J0(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ex));else if(s!==4&&(s===27&&nl(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(J0(n,e,t),n=n.sibling;n!==null;)J0(n,e,t),n=n.sibling}function cv(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(s===27&&nl(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(cv(n,e,t),n=n.sibling;n!==null;)cv(n,e,t),n=n.sibling}function cP(n){var e=n.stateNode,t=n.memoizedProps;try{for(var s=n.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Yn(e,s,t),e[ns]=n,e[js]=t}catch(r){Ot(n,n.return,r)}}var ya=!1,ln=!1,db=!1,_T=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function Zz(n,e){if(n=n.containerInfo,ow=yv,n=ZN(n),h1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=n,g=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(o=a+i),f!==r||s!==0&&f.nodeType!==3||(l=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)g=f,f=p;for(;;){if(f===n)break t;if(g===t&&++c===i&&(o=a),g===r&&++h===s&&(l=a),(p=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(lw={focusedElem:n,selectionRange:t},yv=!1,Rn=e;Rn!==null;)if(e=Rn,n=e.child,(e.subtreeFlags&1024)!==0&&n!==null)n.return=e,Rn=n;else for(;Rn!==null;){switch(e=Rn,r=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&r!==null){n=void 0,t=e,i=r.memoizedProps,r=r.memoizedState,s=t.stateNode;try{var x=nc(t.type,i,t.elementType===t.type);n=s.getSnapshotBeforeUpdate(x,r),s.__reactInternalSnapshotBeforeUpdate=n}catch(v){Ot(t,t.return,v)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)uw(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":uw(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(ue(163))}if(n=e.sibling,n!==null){n.return=e.return,Rn=n;break}Rn=e.return}}function uP(n,e,t){var s=t.flags;switch(t.tag){case 0:case 11:case 15:eo(n,t),s&4&&kg(5,t);break;case 1:if(eo(n,t),s&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(a){Ot(t,t.return,a)}else{var i=nc(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(i,e,n.__reactInternalSnapshotBeforeUpdate)}catch(a){Ot(t,t.return,a)}}s&64&&rP(t),s&512&&af(t,t.return);break;case 3:if(eo(n,t),s&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{hR(n,e)}catch(a){Ot(t,t.return,a)}}break;case 27:e===null&&s&4&&cP(t);case 26:case 5:eo(n,t),e===null&&s&4&&oP(t),s&512&&af(t,t.return);break;case 12:eo(n,t);break;case 13:eo(n,t),s&4&&fP(n,t),s&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=rF.bind(null,t),SF(n,t))));break;case 22:if(s=t.memoizedState!==null||ya,!s){e=e!==null&&e.memoizedState!==null||ln,i=ya;var r=ln;ya=s,(ln=e)&&!r?ro(n,t,(t.subtreeFlags&8772)!==0):eo(n,t),ya=i,ln=r}break;case 30:break;default:eo(n,t)}}function hP(n){var e=n.alternate;e!==null&&(n.alternate=null,hP(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&r1(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Yt=null,Cs=!1;function pa(n,e,t){for(t=t.child;t!==null;)dP(n,e,t),t=t.sibling}function dP(n,e,t){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(vg,t)}catch{}switch(t.tag){case 26:ln||Rr(t,e),pa(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:ln||Rr(t,e);var s=Yt,i=Cs;nl(t.type)&&(Yt=t.stateNode,Cs=!1),pa(n,e,t),uf(t.stateNode),Yt=s,Cs=i;break;case 5:ln||Rr(t,e);case 6:if(s=Yt,i=Cs,Yt=null,pa(n,e,t),Yt=s,Cs=i,Yt!==null)if(Cs)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(t.stateNode)}catch(r){Ot(t,e,r)}else try{Yt.removeChild(t.stateNode)}catch(r){Ot(t,e,r)}break;case 18:Yt!==null&&(Cs?(n=Yt,jT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),Bf(n)):jT(Yt,t.stateNode));break;case 4:s=Yt,i=Cs,Yt=t.stateNode.containerInfo,Cs=!0,pa(n,e,t),Yt=s,Cs=i;break;case 0:case 11:case 14:case 15:ln||Bo(2,t,e),ln||Bo(4,t,e),pa(n,e,t);break;case 1:ln||(Rr(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"&&aP(t,e,s)),pa(n,e,t);break;case 21:pa(n,e,t);break;case 22:ln=(s=ln)||t.memoizedState!==null,pa(n,e,t),ln=s;break;default:pa(n,e,t)}}function fP(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Bf(n)}catch(t){Ot(e,e.return,t)}}function Kz(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new _T),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new _T),e;default:throw Error(ue(435,n.tag))}}function fb(n,e){var t=Kz(n);e.forEach(function(s){var i=aF.bind(null,n,s);t.has(s)||(t.add(s),s.then(i,i))})}function Ys(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var i=t[s],r=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(nl(o.type)){Yt=o.stateNode,Cs=!1;break e}break;case 5:Yt=o.stateNode,Cs=!1;break e;case 3:case 4:Yt=o.stateNode.containerInfo,Cs=!0;break e}o=o.return}if(Yt===null)throw Error(ue(160));dP(r,a,i),Yt=null,Cs=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)gP(e,n),e=e.sibling}var tr=null;function gP(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ys(e,n),Xs(n),s&4&&(Bo(3,n,n.return),kg(3,n),Bo(5,n,n.return));break;case 1:Ys(e,n),Xs(n),s&512&&(ln||t===null||Rr(t,t.return)),s&64&&ya&&(n=n.updateQueue,n!==null&&(s=n.callbacks,s!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?s:t.concat(s))));break;case 26:var i=tr;if(Ys(e,n),Xs(n),s&512&&(ln||t===null||Rr(t,t.return)),s&4){var r=t!==null?t.memoizedState:null;if(s=n.memoizedState,t===null)if(s===null)if(n.stateNode===null){e:{s=n.type,t=n.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":r=i.getElementsByTagName("title")[0],(!r||r[bg]||r[ns]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(s),i.head.insertBefore(r,i.querySelector("head > title"))),Yn(r,s,t),r[ns]=n,In(r),s=r;break e;case"link":var a=FT("link","href",i).get(s+(t.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&r.getAttribute("rel")===(t.rel==null?null:t.rel)&&r.getAttribute("title")===(t.title==null?null:t.title)&&r.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){a.splice(o,1);break t}}r=i.createElement(s),Yn(r,s,t),i.head.appendChild(r);break;case"meta":if(a=FT("meta","content",i).get(s+(t.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(t.content==null?null:""+t.content)&&r.getAttribute("name")===(t.name==null?null:t.name)&&r.getAttribute("property")===(t.property==null?null:t.property)&&r.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&r.getAttribute("charset")===(t.charSet==null?null:t.charSet)){a.splice(o,1);break t}}r=i.createElement(s),Yn(r,s,t),i.head.appendChild(r);break;default:throw Error(ue(468,s))}r[ns]=n,In(r),s=r}n.stateNode=s}else BT(i,n.type,n.stateNode);else n.stateNode=zT(i,s,n.memoizedProps);else r!==s?(r===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):r.count--,s===null?BT(i,n.type,n.stateNode):zT(i,s,n.memoizedProps)):s===null&&n.stateNode!==null&&ub(n,n.memoizedProps,t.memoizedProps)}break;case 27:Ys(e,n),Xs(n),s&512&&(ln||t===null||Rr(t,t.return)),t!==null&&s&4&&ub(n,n.memoizedProps,t.memoizedProps);break;case 5:if(Ys(e,n),Xs(n),s&512&&(ln||t===null||Rr(t,t.return)),n.flags&32){i=n.stateNode;try{Qu(i,"")}catch(p){Ot(n,n.return,p)}}s&4&&n.stateNode!=null&&(i=n.memoizedProps,ub(n,i,t!==null?t.memoizedProps:i)),s&1024&&(db=!0);break;case 6:if(Ys(e,n),Xs(n),s&4){if(n.stateNode===null)throw Error(ue(162));s=n.memoizedProps,t=n.stateNode;try{t.nodeValue=s}catch(p){Ot(n,n.return,p)}}break;case 3:if(wm=null,i=tr,tr=mv(e.containerInfo),Ys(e,n),tr=i,Xs(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{Bf(e.containerInfo)}catch(p){Ot(n,n.return,p)}db&&(db=!1,pP(n));break;case 4:s=tr,tr=mv(n.stateNode.containerInfo),Ys(e,n),Xs(n),tr=s;break;case 12:Ys(e,n),Xs(n);break;case 13:Ys(e,n),Xs(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(z1=Mr()),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,fb(n,s)));break;case 22:i=n.memoizedState!==null;var l=t!==null&&t.memoizedState!==null,c=ya,h=ln;if(ya=c||i,ln=h||l,Ys(e,n),ln=h,ya=c,Xs(n),s&8192)e:for(e=n.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(t===null||l||ya||ln||Nl(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){l=t=e;try{if(r=l.stateNode,i)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,g=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(p){Ot(l,l.return,p)}}}else if(e.tag===6){if(t===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(p){Ot(l,l.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=n.updateQueue,s!==null&&(t=s.retryQueue,t!==null&&(s.retryQueue=null,fb(n,t))));break;case 19:Ys(e,n),Xs(n),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,fb(n,s)));break;case 30:break;case 21:break;default:Ys(e,n),Xs(n)}}function Xs(n){var e=n.flags;if(e&2){try{for(var t,s=n.return;s!==null;){if(lP(s)){t=s;break}s=s.return}if(t==null)throw Error(ue(160));switch(t.tag){case 27:var i=t.stateNode,r=hb(n);cv(n,r,i);break;case 5:var a=t.stateNode;t.flags&32&&(Qu(a,""),t.flags&=-33);var o=hb(n);cv(n,o,a);break;case 3:case 4:var l=t.stateNode.containerInfo,c=hb(n);J0(n,c,l);break;default:throw Error(ue(161))}}catch(h){Ot(n,n.return,h)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function pP(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;pP(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function eo(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)uP(n,e.alternate,e),e=e.sibling}function Nl(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:Bo(4,e,e.return),Nl(e);break;case 1:Rr(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&aP(e,e.return,t),Nl(e);break;case 27:uf(e.stateNode);case 26:case 5:Rr(e,e.return),Nl(e);break;case 22:e.memoizedState===null&&Nl(e);break;case 30:Nl(e);break;default:Nl(e)}n=n.sibling}}function ro(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=n,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:ro(i,r,t),kg(4,r);break;case 1:if(ro(i,r,t),s=r,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ot(s,s.return,c)}if(s=r,i=s.updateQueue,i!==null){var o=s.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)uR(l[i],o)}catch(c){Ot(s,s.return,c)}}t&&a&64&&rP(r),af(r,r.return);break;case 27:cP(r);case 26:case 5:ro(i,r,t),t&&s===null&&a&4&&oP(r),af(r,r.return);break;case 12:ro(i,r,t);break;case 13:ro(i,r,t),t&&a&4&&fP(i,r);break;case 22:r.memoizedState===null&&ro(i,r,t),af(r,r.return);break;case 30:break;default:ro(i,r,t)}e=e.sibling}}function j1(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&Ag(t))}function L1(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ag(n))}function Cr(n,e,t,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mP(n,e,t,s),e=e.sibling}function mP(n,e,t,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Cr(n,e,t,s),i&2048&&kg(9,e);break;case 1:Cr(n,e,t,s);break;case 3:Cr(n,e,t,s),i&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ag(n)));break;case 12:if(i&2048){Cr(n,e,t,s),n=e.stateNode;try{var r=e.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(l){Ot(e,e.return,l)}}else Cr(n,e,t,s);break;case 13:Cr(n,e,t,s);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?Cr(n,e,t,s):of(n,e):r._visibility&2?Cr(n,e,t,s):(r._visibility|=2,hu(n,e,t,s,(e.subtreeFlags&10256)!==0)),i&2048&&j1(a,e);break;case 24:Cr(n,e,t,s),i&2048&&L1(e.alternate,e);break;default:Cr(n,e,t,s)}}function hu(n,e,t,s,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=n,a=e,o=t,l=s,c=a.flags;switch(a.tag){case 0:case 11:case 15:hu(r,a,o,l,i),kg(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?hu(r,a,o,l,i):of(r,a):(h._visibility|=2,hu(r,a,o,l,i)),i&&c&2048&&j1(a.alternate,a);break;case 24:hu(r,a,o,l,i),i&&c&2048&&L1(a.alternate,a);break;default:hu(r,a,o,l,i)}e=e.sibling}}function of(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,s=e,i=s.flags;switch(s.tag){case 22:of(t,s),i&2048&&j1(s.alternate,s);break;case 24:of(t,s),i&2048&&L1(s.alternate,s);break;default:of(t,s)}e=e.sibling}}var zd=8192;function Zc(n){if(n.subtreeFlags&zd)for(n=n.child;n!==null;)vP(n),n=n.sibling}function vP(n){switch(n.tag){case 26:Zc(n),n.flags&zd&&n.memoizedState!==null&&OF(tr,n.memoizedState,n.memoizedProps);break;case 5:Zc(n);break;case 3:case 4:var e=tr;tr=mv(n.stateNode.containerInfo),Zc(n),tr=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=zd,zd=16777216,Zc(n),zd=e):Zc(n));break;default:Zc(n)}}function xP(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Nd(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var s=e[t];Rn=s,bP(s,n)}xP(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yP(n),n=n.sibling}function yP(n){switch(n.tag){case 0:case 11:case 15:Nd(n),n.flags&2048&&Bo(9,n,n.return);break;case 3:Nd(n);break;case 12:Nd(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,ym(n)):Nd(n);break;default:Nd(n)}}function ym(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var s=e[t];Rn=s,bP(s,n)}xP(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:Bo(8,e,e.return),ym(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,ym(e));break;default:ym(e)}n=n.sibling}}function bP(n,e){for(;Rn!==null;){var t=Rn;switch(t.tag){case 0:case 11:case 15:Bo(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var s=t.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ag(t.memoizedState.cache)}if(s=t.child,s!==null)s.return=t,Rn=s;else e:for(t=n;Rn!==null;){s=Rn;var i=s.sibling,r=s.return;if(hP(s),s===t){Rn=null;break e}if(i!==null){i.return=r,Rn=i;break e}Rn=r}}}var Qz={getCacheForType:function(n){var e=ss(_n),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},Jz=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Bt=null,ot=null,gt=0,Nt=0,Gs=null,_o=!1,Nh=!1,O1=!1,Oa=0,en=0,Vo=0,Xl=0,D1=0,Ni=0,sh=0,lf=null,Ts=null,ew=!1,z1=0,uv=1/0,hv=null,ko=null,Vn=0,No=null,ih=null,Bu=0,tw=0,nw=null,wP=null,cf=0,sw=null;function Js(){if(Rt&2&&gt!==0)return gt&-gt;if(He.T!==null){var n=Ju;return n!==0?n:B1()}return IN()}function _P(){Ni===0&&(Ni=!(gt&536870912)||wt?kN():536870912);var n=Bi.current;return n!==null&&(n.flags|=32),Ni}function ei(n,e,t){(n===Bt&&(Nt===2||Nt===9)||n.cancelPendingCommit!==null)&&(rh(n,0),So(n,gt,Ni,!1)),yg(n,t),(!(Rt&2)||n!==Bt)&&(n===Bt&&(!(Rt&2)&&(Xl|=t),en===4&&So(n,gt,Ni,!1)),Gr(n))}function SP(n,e,t){if(Rt&6)throw Error(ue(327));var s=!t&&(e&124)===0&&(e&n.expiredLanes)===0||xg(n,e),i=s?nF(n,e):gb(n,e,!0),r=s;do{if(i===0){Nh&&!s&&So(n,e,0,!1);break}else{if(t=n.current.alternate,r&&!eF(t)){i=gb(n,e,!1),r=!1;continue}if(i===2){if(r=e,n.errorRecoveryDisabledLanes&r)var a=0;else a=n.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=n;i=lf;var l=o.current.memoizedState.isDehydrated;if(l&&(rh(o,a).flags|=256),a=gb(o,a,!1),a!==2){if(O1&&!l){o.errorRecoveryDisabledLanes|=r,Xl|=r,i=4;break e}r=Ts,Ts=i,r!==null&&(Ts===null?Ts=r:Ts.push.apply(Ts,r))}i=a}if(r=!1,i!==2)continue}}if(i===1){rh(n,0),So(n,e,0,!0);break}e:{switch(s=n,r=i,r){case 0:case 1:throw Error(ue(345));case 4:if((e&4194048)!==e)break;case 6:So(s,e,Ni,!_o);break e;case 2:Ts=null;break;case 3:case 5:break;default:throw Error(ue(329))}if((e&62914560)===e&&(i=z1+300-Mr(),10<i)){if(So(s,e,Ni,!_o),gx(s,0,!0)!==0)break e;s.timeoutHandle=HP(ST.bind(null,s,t,Ts,hv,ew,e,Ni,Xl,sh,_o,r,2,-0,0),i);break e}ST(s,t,Ts,hv,ew,e,Ni,Xl,sh,_o,r,0,-0,0)}}break}while(!0);Gr(n)}function ST(n,e,t,s,i,r,a,o,l,c,h,f,g,p){if(n.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Of={stylesheets:null,count:0,unsuspend:LF},vP(e),f=DF(),f!==null)){n.cancelPendingCommit=f(CT.bind(null,n,e,r,t,s,i,a,o,l,h,1,g,p)),So(n,r,a,!c);return}CT(n,e,r,t,s,i,a,o,l)}function eF(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var s=0;s<t.length;s++){var i=t[s],r=i.getSnapshot;i=i.value;try{if(!ri(r(),i))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(n,e,t,s){e&=~D1,e&=~Xl,n.suspendedLanes|=e,n.pingedLanes&=~e,s&&(n.warmLanes|=e),s=n.expirationTimes;for(var i=e;0<i;){var r=31-Qs(i),a=1<<r;s[r]=-1,i&=~a}t!==0&&RN(n,t,e)}function Ax(){return Rt&6?!0:(Ng(0),!1)}function F1(){if(ot!==null){if(Nt===0)var n=ot.return;else n=ot,Aa=yc=null,C1(n),Fu=null,Mf=0,n=ot;for(;n!==null;)iP(n.alternate,n),n=n.return;ot=null}}function rh(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,xF(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),F1(),Bt=n,ot=t=Na(n.current,null),gt=e,Nt=0,Gs=null,_o=!1,Nh=xg(n,e),O1=!1,sh=Ni=D1=Xl=Vo=en=0,Ts=lf=null,ew=!1,e&8&&(e|=e&32);var s=n.entangledLanes;if(s!==0)for(n=n.entanglements,s&=e;0<s;){var i=31-Qs(s),r=1<<i;e|=n[i],s&=~r}return Oa=e,xx(),t}function AP(n,e){nt=null,He.H=iv,e===Cg||e===bx?(e=tT(),Nt=3):e===lR?(e=tT(),Nt=4):Nt=e===QR?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Gs=e,ot===null&&(en=1,ov(n,Ti(e,n.current)))}function CP(){var n=He.H;return He.H=iv,n===null?iv:n}function TP(){var n=He.A;return He.A=Qz,n}function iw(){en=4,_o||(gt&4194048)!==gt&&Bi.current!==null||(Nh=!0),!(Vo&134217727)&&!(Xl&134217727)||Bt===null||So(Bt,gt,Ni,!1)}function gb(n,e,t){var s=Rt;Rt|=2;var i=CP(),r=TP();(Bt!==n||gt!==e)&&(hv=null,rh(n,e)),e=!1;var a=en;e:do try{if(Nt!==0&&ot!==null){var o=ot,l=Gs;switch(Nt){case 8:F1(),a=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(e=!0);var c=Nt;if(Nt=0,Gs=null,Pu(n,o,l,c),t&&Nh){a=0;break e}break;default:c=Nt,Nt=0,Gs=null,Pu(n,o,l,c)}}tF(),a=en;break}catch(h){AP(n,h)}while(!0);return e&&n.shellSuspendCounter++,Aa=yc=null,Rt=s,He.H=i,He.A=r,ot===null&&(Bt=null,gt=0,xx()),a}function tF(){for(;ot!==null;)EP(ot)}function nF(n,e){var t=Rt;Rt|=2;var s=CP(),i=TP();Bt!==n||gt!==e?(hv=null,uv=Mr()+500,rh(n,e)):Nh=xg(n,e);e:do try{if(Nt!==0&&ot!==null){e=ot;var r=Gs;t:switch(Nt){case 1:Nt=0,Gs=null,Pu(n,e,r,1);break;case 2:case 9:if(eT(r)){Nt=0,Gs=null,AT(e);break}e=function(){Nt!==2&&Nt!==9||Bt!==n||(Nt=7),Gr(n)},r.then(e,e);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:eT(r)?(Nt=0,Gs=null,AT(e)):(Nt=0,Gs=null,Pu(n,e,r,7));break;case 5:var a=null;switch(ot.tag){case 26:a=ot.memoizedState;case 5:case 27:var o=ot;if(!a||XP(a)){Nt=0,Gs=null;var l=o.sibling;if(l!==null)ot=l;else{var c=o.return;c!==null?(ot=c,Cx(c)):ot=null}break t}}Nt=0,Gs=null,Pu(n,e,r,5);break;case 6:Nt=0,Gs=null,Pu(n,e,r,6);break;case 8:F1(),en=6;break e;default:throw Error(ue(462))}}sF();break}catch(h){AP(n,h)}while(!0);return Aa=yc=null,He.H=s,He.A=i,Rt=t,ot!==null?0:(Bt=null,gt=0,xx(),en)}function sF(){for(;ot!==null&&!C6();)EP(ot)}function EP(n){var e=sP(n.alternate,n,Oa);n.memoizedProps=n.pendingProps,e===null?Cx(n):ot=e}function AT(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=vT(t,e,e.pendingProps,e.type,void 0,gt);break;case 11:e=vT(t,e,e.pendingProps,e.type.render,e.ref,gt);break;case 5:C1(e);default:iP(t,e),e=ot=iR(e,Oa),e=sP(t,e,Oa)}n.memoizedProps=n.pendingProps,e===null?Cx(n):ot=e}function Pu(n,e,t,s){Aa=yc=null,C1(e),Fu=null,Mf=0;var i=e.return;try{if(Xz(n,i,e,t,gt)){en=1,ov(n,Ti(t,n.current)),ot=null;return}}catch(r){if(i!==null)throw ot=i,r;en=1,ov(n,Ti(t,n.current)),ot=null;return}e.flags&32768?(wt||s===1?n=!0:Nh||gt&536870912?n=!1:(_o=n=!0,(s===2||s===9||s===3||s===6)&&(s=Bi.current,s!==null&&s.tag===13&&(s.flags|=16384))),kP(e,n)):Cx(e)}function Cx(n){var e=n;do{if(e.flags&32768){kP(e,_o);return}n=e.return;var t=$z(e.alternate,e,Oa);if(t!==null){ot=t;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=n}while(e!==null);en===0&&(en=5)}function kP(n,e){do{var t=qz(n.alternate,n);if(t!==null){t.flags&=32767,ot=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){ot=n;return}ot=n=t}while(n!==null);en=6,ot=null}function CT(n,e,t,s,i,r,a,o,l){n.cancelPendingCommit=null;do Tx();while(Vn!==0);if(Rt&6)throw Error(ue(327));if(e!==null){if(e===n.current)throw Error(ue(177));if(r=e.lanes|e.childLanes,r|=d1,L6(n,t,r,a,o,l),n===Bt&&(ot=Bt=null,gt=0),ih=e,No=n,Bu=t,tw=r,nw=i,wP=s,e.subtreeFlags&10256||e.flags&10256?(n.callbackNode=null,n.callbackPriority=0,oF($m,function(){return MP(),null})):(n.callbackNode=null,n.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=He.T,He.T=null,i=_t.p,_t.p=2,a=Rt,Rt|=4;try{Zz(n,e,t)}finally{Rt=a,_t.p=i,He.T=s}}Vn=1,NP(),RP(),PP()}}function NP(){if(Vn===1){Vn=0;var n=No,e=ih,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=He.T,He.T=null;var s=_t.p;_t.p=2;var i=Rt;Rt|=4;try{gP(e,n);var r=lw,a=ZN(n.containerInfo),o=r.focusedElem,l=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&qN(o.ownerDocument.documentElement,o)){if(l!==null&&h1(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,g=f&&f.defaultView||window;if(g.getSelection){var p=g.getSelection(),x=o.textContent.length,v=Math.min(l.start,x),_=l.end===void 0?v:Math.min(l.end,x);!p.extend&&v>_&&(a=_,_=v,v=a);var w=XC(o,v),S=XC(o,_);if(w&&S&&(p.rangeCount!==1||p.anchorNode!==w.node||p.anchorOffset!==w.offset||p.focusNode!==S.node||p.focusOffset!==S.offset)){var A=f.createRange();A.setStart(w.node,w.offset),p.removeAllRanges(),v>_?(p.addRange(A),p.extend(S.node,S.offset)):(A.setEnd(S.node,S.offset),p.addRange(A))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var T=f[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}yv=!!ow,lw=ow=null}finally{Rt=i,_t.p=s,He.T=t}}n.current=e,Vn=2}}function RP(){if(Vn===2){Vn=0;var n=No,e=ih,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=He.T,He.T=null;var s=_t.p;_t.p=2;var i=Rt;Rt|=4;try{uP(n,e.alternate,e)}finally{Rt=i,_t.p=s,He.T=t}}Vn=3}}function PP(){if(Vn===4||Vn===3){Vn=0,T6();var n=No,e=ih,t=Bu,s=wP;e.subtreeFlags&10256||e.flags&10256?Vn=5:(Vn=0,ih=No=null,IP(n,n.pendingLanes));var i=n.pendingLanes;if(i===0&&(ko=null),i1(t),e=e.stateNode,Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(vg,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=He.T,i=_t.p,_t.p=2,He.T=null;try{for(var r=n.onRecoverableError,a=0;a<s.length;a++){var o=s[a];r(o.value,{componentStack:o.stack})}}finally{He.T=e,_t.p=i}}Bu&3&&Tx(),Gr(n),i=n.pendingLanes,t&4194090&&i&42?n===sw?cf++:(cf=0,sw=n):cf=0,Ng(0)}}function IP(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,Ag(e)))}function Tx(n){return NP(),RP(),PP(),MP()}function MP(){if(Vn!==5)return!1;var n=No,e=tw;tw=0;var t=i1(Bu),s=He.T,i=_t.p;try{_t.p=32>t?32:t,He.T=null,t=nw,nw=null;var r=No,a=Bu;if(Vn=0,ih=No=null,Bu=0,Rt&6)throw Error(ue(331));var o=Rt;if(Rt|=4,yP(r.current),mP(r,r.current,a,t),Rt=o,Ng(0,!1),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(vg,r)}catch{}return!0}finally{_t.p=i,He.T=s,IP(n,e)}}function TT(n,e,t){e=Ti(t,e),e=Z0(n.stateNode,e,2),n=Eo(n,e,2),n!==null&&(yg(n,2),Gr(n))}function Ot(n,e,t){if(n.tag===3)TT(n,n,t);else for(;e!==null;){if(e.tag===3){TT(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ko===null||!ko.has(s))){n=Ti(t,n),t=ZR(2),s=Eo(e,t,2),s!==null&&(KR(t,s,e,n),yg(s,2),Gr(s));break}}e=e.return}}function pb(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new Jz;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(t)||(O1=!0,i.add(t),n=iF.bind(null,n,e,t),e.then(n,n))}function iF(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,Bt===n&&(gt&t)===t&&(en===4||en===3&&(gt&62914560)===gt&&300>Mr()-z1?!(Rt&2)&&rh(n,0):D1|=t,sh===gt&&(sh=0)),Gr(n)}function jP(n,e){e===0&&(e=NN()),n=kh(n,e),n!==null&&(yg(n,e),Gr(n))}function rF(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),jP(n,t)}function aF(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:s=n.stateNode;break;case 22:s=n.stateNode._retryCache;break;default:throw Error(ue(314))}s!==null&&s.delete(e),jP(n,t)}function oF(n,e){return n1(n,e)}var dv=null,du=null,rw=!1,fv=!1,mb=!1,Gl=0;function Gr(n){n!==du&&n.next===null&&(du===null?dv=du=n:du=du.next=n),fv=!0,rw||(rw=!0,cF())}function Ng(n,e){if(!mb&&fv){mb=!0;do for(var t=!1,s=dv;s!==null;){if(n!==0){var i=s.pendingLanes;if(i===0)var r=0;else{var a=s.suspendedLanes,o=s.pingedLanes;r=(1<<31-Qs(42|n)+1)-1,r&=i&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(t=!0,ET(s,r))}else r=gt,r=gx(s,s===Bt?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||xg(s,r)||(t=!0,ET(s,r));s=s.next}while(t);mb=!1}}function lF(){LP()}function LP(){fv=rw=!1;var n=0;Gl!==0&&(vF()&&(n=Gl),Gl=0);for(var e=Mr(),t=null,s=dv;s!==null;){var i=s.next,r=OP(s,e);r===0?(s.next=null,t===null?dv=i:t.next=i,i===null&&(du=t)):(t=s,(n!==0||r&3)&&(fv=!0)),s=i}Ng(n)}function OP(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes&-62914561;0<r;){var a=31-Qs(r),o=1<<a,l=i[a];l===-1?(!(o&t)||o&s)&&(i[a]=j6(o,e)):l<=e&&(n.expiredLanes|=o),r&=~o}if(e=Bt,t=gt,t=gx(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),s=n.callbackNode,t===0||n===e&&(Nt===2||Nt===9)||n.cancelPendingCommit!==null)return s!==null&&s!==null&&Hy(s),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||xg(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(s!==null&&Hy(s),i1(t)){case 2:case 8:t=TN;break;case 32:t=$m;break;case 268435456:t=EN;break;default:t=$m}return s=DP.bind(null,n),t=n1(t,s),n.callbackPriority=e,n.callbackNode=t,e}return s!==null&&s!==null&&Hy(s),n.callbackPriority=2,n.callbackNode=null,2}function DP(n,e){if(Vn!==0&&Vn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if(Tx()&&n.callbackNode!==t)return null;var s=gt;return s=gx(n,n===Bt?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),s===0?null:(SP(n,s,e),OP(n,Mr()),n.callbackNode!=null&&n.callbackNode===t?DP.bind(null,n):null)}function ET(n,e){if(Tx())return null;SP(n,e,!0)}function cF(){yF(function(){Rt&6?n1(CN,lF):LP()})}function B1(){return Gl===0&&(Gl=kN()),Gl}function kT(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hm(""+n)}function NT(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function uF(n,e,t,s,i){if(e==="submit"&&t&&t.stateNode===i){var r=kT((i[js]||null).action),a=s.submitter;a&&(e=(e=a[js]||null)?kT(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var o=new px("action","action",null,s,i);n.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Gl!==0){var l=a?NT(i,a):new FormData(i);$0(t,{pending:!0,data:l,method:i.method,action:r},null,l)}}else typeof r=="function"&&(o.preventDefault(),l=a?NT(i,a):new FormData(i),$0(t,{pending:!0,data:l,method:i.method,action:r},r,l))},currentTarget:i}]})}}for(var vb=0;vb<O0.length;vb++){var xb=O0[vb],hF=xb.toLowerCase(),dF=xb[0].toUpperCase()+xb.slice(1);gr(hF,"on"+dF)}gr(QN,"onAnimationEnd");gr(JN,"onAnimationIteration");gr(eR,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Nz,"onTransitionRun");gr(Rz,"onTransitionStart");gr(Pz,"onTransitionCancel");gr(tR,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jf));function zP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;r=o,i.currentTarget=c;try{r(i)}catch(h){av(h)}i.currentTarget=null,r=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;r=o,i.currentTarget=c;try{r(i)}catch(h){av(h)}i.currentTarget=null,r=l}}}}function at(n,e){var t=e[N0];t===void 0&&(t=e[N0]=new Set);var s=n+"__bubble";t.has(s)||(FP(e,n,2,!1),t.add(s))}function yb(n,e,t){var s=0;e&&(s|=4),FP(t,n,s,e)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function V1(n){if(!n[Fp]){n[Fp]=!0,MN.forEach(function(t){t!=="selectionchange"&&(fF.has(t)||yb(t,!1,n),yb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Fp]||(e[Fp]=!0,yb("selectionchange",!1,e))}}function FP(n,e,t,s){switch(KP(e)){case 2:var i=BF;break;case 8:i=VF;break;default:i=Y1}t=i.bind(null,e,t,n),i=void 0,!M0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function bb(n,e,t,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=_u(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){s=r=a;continue e}o=o.parentNode}}s=s.return}VN(function(){var c=r,h=o1(t),f=[];e:{var g=nR.get(n);if(g!==void 0){var p=px,x=n;switch(n){case"keypress":if(fm(t)===0)break e;case"keydown":case"keyup":p=oz;break;case"focusin":x="focus",p=Zy;break;case"focusout":x="blur",p=Zy;break;case"beforeblur":case"afterblur":p=Zy;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=OC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=q6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uz;break;case QN:case JN:case eR:p=Q6;break;case tR:p=dz;break;case"scroll":case"scrollend":p=G6;break;case"wheel":p=gz;break;case"copy":case"cut":case"paste":p=ez;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zC;break;case"toggle":case"beforetoggle":p=mz}var v=(e&4)!==0,_=!v&&(n==="scroll"||n==="scrollend"),w=v?g!==null?g+"Capture":null:g;v=[];for(var S=c,A;S!==null;){var T=S;if(A=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||A===null||w===null||(T=kf(S,w),T!=null&&v.push(Lf(S,T,A))),_)break;S=S.return}0<v.length&&(g=new p(g,x,null,t,h),f.push({event:g,listeners:v}))}}if(!(e&7)){e:{if(g=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",g&&t!==I0&&(x=t.relatedTarget||t.fromElement)&&(_u(x)||x[Th]))break e;if((p||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,p?(x=t.relatedTarget||t.toElement,p=c,x=x?_u(x):null,x!==null&&(_=mg(x),v=x.tag,x!==_||v!==5&&v!==27&&v!==6)&&(x=null)):(p=null,x=c),p!==x)){if(v=OC,T="onMouseLeave",w="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(v=zC,T="onPointerLeave",w="onPointerEnter",S="pointer"),_=p==null?g:Dd(p),A=x==null?g:Dd(x),g=new v(T,S+"leave",p,t,h),g.target=_,g.relatedTarget=A,T=null,_u(h)===c&&(v=new v(w,S+"enter",x,t,h),v.target=A,v.relatedTarget=_,T=v),_=T,p&&x)t:{for(v=p,w=x,S=0,A=v;A;A=Kc(A))S++;for(A=0,T=w;T;T=Kc(T))A++;for(;0<S-A;)v=Kc(v),S--;for(;0<A-S;)w=Kc(w),A--;for(;S--;){if(v===w||w!==null&&v===w.alternate)break t;v=Kc(v),w=Kc(w)}v=null}else v=null;p!==null&&RT(f,g,p,v,!1),x!==null&&_!==null&&RT(f,_,x,v,!0)}}e:{if(g=c?Dd(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var N=HC;else if(VC(g))if(GN)N=Tz;else{N=Az;var O=Sz}else p=g.nodeName,!p||p.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&a1(c.elementType)&&(N=HC):N=Cz;if(N&&(N=N(n,c))){XN(f,N,t,h);break e}O&&O(n,g,c),n==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&P0(g,"number",g.value)}switch(O=c?Dd(c):window,n){case"focusin":(VC(O)||O.contentEditable==="true")&&(Cu=O,j0=c,Qd=null);break;case"focusout":Qd=j0=Cu=null;break;case"mousedown":L0=!0;break;case"contextmenu":case"mouseup":case"dragend":L0=!1,GC(f,t,h);break;case"selectionchange":if(kz)break;case"keydown":case"keyup":GC(f,t,h)}var C;if(u1)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Au?WN(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(UN&&t.locale!=="ko"&&(Au||k!=="onCompositionStart"?k==="onCompositionEnd"&&Au&&(C=HN()):(wo=h,l1="value"in wo?wo.value:wo.textContent,Au=!0)),O=gv(c,k),0<O.length&&(k=new DC(k,n,null,t,h),f.push({event:k,listeners:O}),C?k.data=C:(C=YN(t),C!==null&&(k.data=C)))),(C=xz?yz(n,t):bz(n,t))&&(k=gv(c,"onBeforeInput"),0<k.length&&(O=new DC("onBeforeInput","beforeinput",null,t,h),f.push({event:O,listeners:k}),O.data=C)),uF(f,n,c,t,h)}zP(f,e)})}function Lf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function gv(n,e){for(var t=e+"Capture",s=[];n!==null;){var i=n,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=kf(n,t),i!=null&&s.unshift(Lf(n,i,r)),i=kf(n,e),i!=null&&s.push(Lf(n,i,r))),n.tag===3)return s;n=n.return}return[]}function Kc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function RT(n,e,t,s,i){for(var r=e._reactName,a=[];t!==null&&t!==s;){var o=t,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===s)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=kf(t,r),c!=null&&a.unshift(Lf(t,c,l))):i||(c=kf(t,r),c!=null&&a.push(Lf(t,c,l)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var gF=/\r\n?/g,pF=/\u0000|\uFFFD/g;function PT(n){return(typeof n=="string"?n:""+n).replace(gF,`
`).replace(pF,"")}function BP(n,e){return e=PT(e),PT(n)===e}function Ex(){}function It(n,e,t,s,i,r){switch(t){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Qu(n,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Qu(n,""+s);break;case"className":Ip(n,"class",s);break;case"tabIndex":Ip(n,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ip(n,t,s);break;case"style":BN(n,s,r);break;case"data":if(e!=="object"){Ip(n,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){n.removeAttribute(t);break}s=hm(""+s),n.setAttribute(t,s);break;case"action":case"formAction":if(typeof s=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(t==="formAction"?(e!=="input"&&It(n,e,"name",i.name,i,null),It(n,e,"formEncType",i.formEncType,i,null),It(n,e,"formMethod",i.formMethod,i,null),It(n,e,"formTarget",i.formTarget,i,null)):(It(n,e,"encType",i.encType,i,null),It(n,e,"method",i.method,i,null),It(n,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){n.removeAttribute(t);break}s=hm(""+s),n.setAttribute(t,s);break;case"onClick":s!=null&&(n.onclick=Ex);break;case"onScroll":s!=null&&at("scroll",n);break;case"onScrollEnd":s!=null&&at("scrollend",n);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(ue(61));if(t=s.__html,t!=null){if(i.children!=null)throw Error(ue(60));n.innerHTML=t}}break;case"multiple":n.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":n.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){n.removeAttribute("xlink:href");break}t=hm(""+s),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(t,""+s):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":s===!0?n.setAttribute(t,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(t,s):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?n.setAttribute(t,s):n.removeAttribute(t);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?n.removeAttribute(t):n.setAttribute(t,s);break;case"popover":at("beforetoggle",n),at("toggle",n),um(n,"popover",s);break;case"xlinkActuate":fa(n,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":fa(n,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":fa(n,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":fa(n,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":fa(n,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":fa(n,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":fa(n,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":fa(n,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":fa(n,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":um(n,"is",s);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=Y6.get(t)||t,um(n,t,s))}}function aw(n,e,t,s,i,r){switch(t){case"style":BN(n,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(ue(61));if(t=s.__html,t!=null){if(i.children!=null)throw Error(ue(60));n.innerHTML=t}}break;case"children":typeof s=="string"?Qu(n,s):(typeof s=="number"||typeof s=="bigint")&&Qu(n,""+s);break;case"onScroll":s!=null&&at("scroll",n);break;case"onScrollEnd":s!=null&&at("scrollend",n);break;case"onClick":s!=null&&(n.onclick=Ex);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jN.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(i=t.endsWith("Capture"),e=t.slice(2,i?t.length-7:void 0),r=n[js]||null,r=r!=null?r[t]:null,typeof r=="function"&&n.removeEventListener(e,r,i),typeof s=="function")){typeof r!="function"&&r!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,s,i);break e}t in n?n[t]=s:s===!0?n.setAttribute(t,""):um(n,t,s)}}}function Yn(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",n),at("load",n);var s=!1,i=!1,r;for(r in t)if(t.hasOwnProperty(r)){var a=t[r];if(a!=null)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ue(137,e));default:It(n,e,r,a,t,null)}}i&&It(n,e,"srcSet",t.srcSet,t,null),s&&It(n,e,"src",t.src,t,null);return;case"input":at("invalid",n);var o=r=a=i=null,l=null,c=null;for(s in t)if(t.hasOwnProperty(s)){var h=t[s];if(h!=null)switch(s){case"name":i=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ue(137,e));break;default:It(n,e,s,h,t,null)}}DN(n,r,o,l,c,a,i,!1),qm(n);return;case"select":at("invalid",n),s=a=r=null;for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],o!=null))switch(i){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:It(n,e,i,o,t,null)}e=r,t=a,n.multiple=!!s,e!=null?ju(n,!!s,e,!1):t!=null&&ju(n,!!s,t,!0);return;case"textarea":at("invalid",n),r=i=s=null;for(a in t)if(t.hasOwnProperty(a)&&(o=t[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":i=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(ue(91));break;default:It(n,e,a,o,t,null)}FN(n,s,i,r),qm(n);return;case"option":for(l in t)if(t.hasOwnProperty(l)&&(s=t[l],s!=null))switch(l){case"selected":n.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:It(n,e,l,s,t,null)}return;case"dialog":at("beforetoggle",n),at("toggle",n),at("cancel",n),at("close",n);break;case"iframe":case"object":at("load",n);break;case"video":case"audio":for(s=0;s<jf.length;s++)at(jf[s],n);break;case"image":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"embed":case"source":case"link":at("error",n),at("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in t)if(t.hasOwnProperty(c)&&(s=t[c],s!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(ue(137,e));default:It(n,e,c,s,t,null)}return;default:if(a1(e)){for(h in t)t.hasOwnProperty(h)&&(s=t[h],s!==void 0&&aw(n,e,h,s,t,void 0));return}}for(o in t)t.hasOwnProperty(o)&&(s=t[o],s!=null&&It(n,e,o,s,t,null))}function mF(n,e,t,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,a=null,o=null,l=null,c=null,h=null;for(p in t){var f=t[p];if(t.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:s.hasOwnProperty(p)||It(n,e,p,null,s,f)}}for(var g in s){var p=s[g];if(f=t[g],s.hasOwnProperty(g)&&(p!=null||f!=null))switch(g){case"type":r=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(ue(137,e));break;default:p!==f&&It(n,e,g,p,s,f)}}R0(n,a,o,l,c,h,r,i);return;case"select":p=a=o=g=null;for(r in t)if(l=t[r],t.hasOwnProperty(r)&&l!=null)switch(r){case"value":break;case"multiple":p=l;default:s.hasOwnProperty(r)||It(n,e,r,null,s,l)}for(i in s)if(r=s[i],l=t[i],s.hasOwnProperty(i)&&(r!=null||l!=null))switch(i){case"value":g=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==l&&It(n,e,i,r,s,l)}e=o,t=a,s=p,g!=null?ju(n,!!t,g,!1):!!s!=!!t&&(e!=null?ju(n,!!t,e,!0):ju(n,!!t,t?[]:"",!1));return;case"textarea":p=g=null;for(o in t)if(i=t[o],t.hasOwnProperty(o)&&i!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:It(n,e,o,null,s,i)}for(a in s)if(i=s[a],r=t[a],s.hasOwnProperty(a)&&(i!=null||r!=null))switch(a){case"value":g=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ue(91));break;default:i!==r&&It(n,e,a,i,s,r)}zN(n,g,p);return;case"option":for(var x in t)if(g=t[x],t.hasOwnProperty(x)&&g!=null&&!s.hasOwnProperty(x))switch(x){case"selected":n.selected=!1;break;default:It(n,e,x,null,s,g)}for(l in s)if(g=s[l],p=t[l],s.hasOwnProperty(l)&&g!==p&&(g!=null||p!=null))switch(l){case"selected":n.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:It(n,e,l,g,s,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in t)g=t[v],t.hasOwnProperty(v)&&g!=null&&!s.hasOwnProperty(v)&&It(n,e,v,null,s,g);for(c in s)if(g=s[c],p=t[c],s.hasOwnProperty(c)&&g!==p&&(g!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(ue(137,e));break;default:It(n,e,c,g,s,p)}return;default:if(a1(e)){for(var _ in t)g=t[_],t.hasOwnProperty(_)&&g!==void 0&&!s.hasOwnProperty(_)&&aw(n,e,_,void 0,s,g);for(h in s)g=s[h],p=t[h],!s.hasOwnProperty(h)||g===p||g===void 0&&p===void 0||aw(n,e,h,g,s,p);return}}for(var w in t)g=t[w],t.hasOwnProperty(w)&&g!=null&&!s.hasOwnProperty(w)&&It(n,e,w,null,s,g);for(f in s)g=s[f],p=t[f],!s.hasOwnProperty(f)||g===p||g==null&&p==null||It(n,e,f,g,s,p)}var ow=null,lw=null;function pv(n){return n.nodeType===9?n:n.ownerDocument}function IT(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VP(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function cw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wb=null;function vF(){var n=window.event;return n&&n.type==="popstate"?n===wb?!1:(wb=n,!0):(wb=null,!1)}var HP=typeof setTimeout=="function"?setTimeout:void 0,xF=typeof clearTimeout=="function"?clearTimeout:void 0,MT=typeof Promise=="function"?Promise:void 0,yF=typeof queueMicrotask=="function"?queueMicrotask:typeof MT<"u"?function(n){return MT.resolve(null).then(n).catch(bF)}:HP;function bF(n){setTimeout(function(){throw n})}function nl(n){return n==="head"}function jT(n,e){var t=e,s=0,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(0<s&&8>s){t=s;var a=n.ownerDocument;if(t&1&&uf(a.documentElement),t&2&&uf(a.body),t&4)for(t=a.head,uf(t),a=t.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[bg]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||t.removeChild(a),a=o}}if(i===0){n.removeChild(r),Bf(e);return}i--}else t==="$"||t==="$?"||t==="$!"?i++:s=t.charCodeAt(0)-48;else s=0;t=r}while(t);Bf(e)}function uw(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":uw(t),r1(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function wF(n,e,t,s){for(;n.nodeType===1;){var i=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(s){if(!n[bg])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(r=n.getAttribute("rel"),r==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(r!==i.rel||n.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||n.getAttribute("title")!==(i.title==null?null:i.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(r=n.getAttribute("src"),(r!==(i.src==null?null:i.src)||n.getAttribute("type")!==(i.type==null?null:i.type)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&n.getAttribute("name")===r)return n}else return n;if(n=or(n.nextSibling),n===null)break}return null}function _F(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=or(n.nextSibling),n===null))return null;return n}function hw(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function SF(n,e){var t=n.ownerDocument;if(n.data!=="$?"||t.readyState==="complete")e();else{var s=function(){e(),t.removeEventListener("DOMContentLoaded",s)};t.addEventListener("DOMContentLoaded",s),n._reactRetry=s}}function or(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}var dw=null;function LT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function UP(n,e,t){switch(e=pv(t),n){case"html":if(n=e.documentElement,!n)throw Error(ue(452));return n;case"head":if(n=e.head,!n)throw Error(ue(453));return n;case"body":if(n=e.body,!n)throw Error(ue(454));return n;default:throw Error(ue(451))}}function uf(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);r1(n)}var Vi=new Map,OT=new Set;function mv(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ua=_t.d;_t.d={f:AF,r:CF,D:TF,C:EF,L:kF,m:NF,X:PF,S:RF,M:IF};function AF(){var n=Ua.f(),e=Ax();return n||e}function CF(n){var e=Eh(n);e!==null&&e.tag===5&&e.type==="form"?OR(e):Ua.r(n)}var Rh=typeof document>"u"?null:document;function WP(n,e,t){var s=Rh;if(s&&typeof e=="string"&&e){var i=Ci(e);i='link[rel="'+n+'"][href="'+i+'"]',typeof t=="string"&&(i+='[crossorigin="'+t+'"]'),OT.has(i)||(OT.add(i),n={rel:n,crossOrigin:t,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),Yn(e,"link",n),In(e),s.head.appendChild(e)))}}function TF(n){Ua.D(n),WP("dns-prefetch",n,null)}function EF(n,e){Ua.C(n,e),WP("preconnect",n,e)}function kF(n,e,t){Ua.L(n,e,t);var s=Rh;if(s&&n&&e){var i='link[rel="preload"][as="'+Ci(e)+'"]';e==="image"&&t&&t.imageSrcSet?(i+='[imagesrcset="'+Ci(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(i+='[imagesizes="'+Ci(t.imageSizes)+'"]')):i+='[href="'+Ci(n)+'"]';var r=i;switch(e){case"style":r=ah(n);break;case"script":r=Ph(n)}Vi.has(r)||(n=Ut({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),Vi.set(r,n),s.querySelector(i)!==null||e==="style"&&s.querySelector(Rg(r))||e==="script"&&s.querySelector(Pg(r))||(e=s.createElement("link"),Yn(e,"link",n),In(e),s.head.appendChild(e)))}}function NF(n,e){Ua.m(n,e);var t=Rh;if(t&&n){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ci(s)+'"][href="'+Ci(n)+'"]',r=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ph(n)}if(!Vi.has(r)&&(n=Ut({rel:"modulepreload",href:n},e),Vi.set(r,n),t.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Pg(r)))return}s=t.createElement("link"),Yn(s,"link",n),In(s),t.head.appendChild(s)}}}function RF(n,e,t){Ua.S(n,e,t);var s=Rh;if(s&&n){var i=Mu(s).hoistableStyles,r=ah(n);e=e||"default";var a=i.get(r);if(!a){var o={loading:0,preload:null};if(a=s.querySelector(Rg(r)))o.loading=5;else{n=Ut({rel:"stylesheet",href:n,"data-precedence":e},t),(t=Vi.get(r))&&H1(n,t);var l=a=s.createElement("link");In(l),Yn(l,"link",n),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,bm(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(r,a)}}}function PF(n,e){Ua.X(n,e);var t=Rh;if(t&&n){var s=Mu(t).hoistableScripts,i=Ph(n),r=s.get(i);r||(r=t.querySelector(Pg(i)),r||(n=Ut({src:n,async:!0},e),(e=Vi.get(i))&&U1(n,e),r=t.createElement("script"),In(r),Yn(r,"link",n),t.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function IF(n,e){Ua.M(n,e);var t=Rh;if(t&&n){var s=Mu(t).hoistableScripts,i=Ph(n),r=s.get(i);r||(r=t.querySelector(Pg(i)),r||(n=Ut({src:n,async:!0,type:"module"},e),(e=Vi.get(i))&&U1(n,e),r=t.createElement("script"),In(r),Yn(r,"link",n),t.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function DT(n,e,t,s){var i=(i=Co.current)?mv(i):null;if(!i)throw Error(ue(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=ah(t.href),t=Mu(i).hoistableStyles,s=t.get(e),s||(s={type:"style",instance:null,count:0,state:null},t.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=ah(t.href);var r=Mu(i).hoistableStyles,a=r.get(n);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(n,a),(r=i.querySelector(Rg(n)))&&!r._p&&(a.instance=r,a.state.loading=5),Vi.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Vi.set(n,t),r||MF(i,n,t,a.state))),e&&s===null)throw Error(ue(528,""));return a}if(e&&s!==null)throw Error(ue(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ph(t),t=Mu(i).hoistableScripts,s=t.get(e),s||(s={type:"script",instance:null,count:0,state:null},t.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(ue(444,n))}}function ah(n){return'href="'+Ci(n)+'"'}function Rg(n){return'link[rel="stylesheet"]['+n+"]"}function YP(n){return Ut({},n,{"data-precedence":n.precedence,precedence:null})}function MF(n,e,t,s){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=n.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Yn(e,"link",t),In(e),n.head.appendChild(e))}function Ph(n){return'[src="'+Ci(n)+'"]'}function Pg(n){return"script[async]"+n}function zT(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var s=n.querySelector('style[data-href~="'+Ci(t.href)+'"]');if(s)return e.instance=s,In(s),s;var i=Ut({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return s=(n.ownerDocument||n).createElement("style"),In(s),Yn(s,"style",i),bm(s,t.precedence,n),e.instance=s;case"stylesheet":i=ah(t.href);var r=n.querySelector(Rg(i));if(r)return e.state.loading|=4,e.instance=r,In(r),r;s=YP(t),(i=Vi.get(i))&&H1(s,i),r=(n.ownerDocument||n).createElement("link"),In(r);var a=r;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Yn(r,"link",s),e.state.loading|=4,bm(r,t.precedence,n),e.instance=r;case"script":return r=Ph(t.src),(i=n.querySelector(Pg(r)))?(e.instance=i,In(i),i):(s=t,(i=Vi.get(r))&&(s=Ut({},t),U1(s,i)),n=n.ownerDocument||n,i=n.createElement("script"),In(i),Yn(i,"link",s),n.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ue(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,bm(s,t.precedence,n));return e.instance}function bm(n,e,t){for(var s=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,r=i,a=0;a<s.length;a++){var o=s[a];if(o.dataset.precedence===e)r=o;else if(r!==i)break}r?r.parentNode.insertBefore(n,r.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function H1(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function U1(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var wm=null;function FT(n,e,t){if(wm===null){var s=new Map,i=wm=new Map;i.set(t,s)}else i=wm,s=i.get(t),s||(s=new Map,i.set(t,s));if(s.has(n))return s;for(s.set(n,null),t=t.getElementsByTagName(n),i=0;i<t.length;i++){var r=t[i];if(!(r[bg]||r[ns]||n==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=n+a;var o=s.get(a);o?o.push(r):s.set(a,[r])}}return s}function BT(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function jF(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function XP(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Of=null;function LF(){}function OF(n,e,t){if(Of===null)throw Error(ue(475));var s=Of;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=ah(t.href),r=n.querySelector(Rg(i));if(r){n=r._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(s.count++,s=vv.bind(s),n.then(s,s)),e.state.loading|=4,e.instance=r,In(r);return}r=n.ownerDocument||n,t=YP(t),(i=Vi.get(i))&&H1(t,i),r=r.createElement("link"),In(r);var a=r;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Yn(r,"link",t),e.instance=r}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=vv.bind(s),n.addEventListener("load",e),n.addEventListener("error",e))}}function DF(){if(Of===null)throw Error(ue(475));var n=Of;return n.stylesheets&&n.count===0&&fw(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&fw(n,n.stylesheets),n.unsuspend){var s=n.unsuspend;n.unsuspend=null,s()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function vv(){if(this.count--,this.count===0){if(this.stylesheets)fw(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xv=null;function fw(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xv=new Map,e.forEach(zF,n),xv=null,vv.call(n))}function zF(n,e){if(!(e.state.loading&4)){var t=xv.get(n);if(t)var s=t.get(null);else{t=new Map,xv.set(n,t);for(var i=n.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var a=i[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(t.set(a.dataset.precedence,a),s=a)}s&&t.set(null,s)}i=e.instance,a=i.getAttribute("data-precedence"),r=t.get(a)||s,r===s&&t.set(null,i),t.set(a,i),this.count++,s=vv.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),r?r.parentNode.insertBefore(i,r.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(i,n.firstChild)),e.state.loading|=4}}var Df={$$typeof:wa,Provider:null,Consumer:null,_currentValue:Vl,_currentValue2:Vl,_threadCount:0};function FF(n,e,t,s,i,r,a,o){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uy(0),this.hiddenUpdates=Uy(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function GP(n,e,t,s,i,r,a,o,l,c,h,f){return n=new FF(n,e,t,a,o,l,c,f),e=1,r===!0&&(e|=24),r=qs(3,null,null,e),n.current=r,r.stateNode=n,e=v1(),e.refCount++,n.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:t,cache:e},y1(r),n}function $P(n){return n?(n=ku,n):ku}function qP(n,e,t,s,i,r){i=$P(i),s.context===null?s.context=i:s.pendingContext=i,s=To(e),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=Eo(n,s,e),t!==null&&(ei(t,n,e),tf(t,n,e))}function VT(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function W1(n,e){VT(n,e),(n=n.alternate)&&VT(n,e)}function ZP(n){if(n.tag===13){var e=kh(n,67108864);e!==null&&ei(e,n,67108864),W1(n,67108864)}}var yv=!0;function BF(n,e,t,s){var i=He.T;He.T=null;var r=_t.p;try{_t.p=2,Y1(n,e,t,s)}finally{_t.p=r,He.T=i}}function VF(n,e,t,s){var i=He.T;He.T=null;var r=_t.p;try{_t.p=8,Y1(n,e,t,s)}finally{_t.p=r,He.T=i}}function Y1(n,e,t,s){if(yv){var i=gw(s);if(i===null)bb(n,e,s,bv,t),HT(n,s);else if(UF(i,n,e,t,s))s.stopPropagation();else if(HT(n,s),e&4&&-1<HF.indexOf(n)){for(;i!==null;){var r=Eh(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=El(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Qs(a);o.entanglements[1]|=l,a&=~l}Gr(r),!(Rt&6)&&(uv=Mr()+500,Ng(0))}}break;case 13:o=kh(r,2),o!==null&&ei(o,r,2),Ax(),W1(r,2)}if(r=gw(s),r===null&&bb(n,e,s,bv,t),r===i)break;i=r}i!==null&&s.stopPropagation()}else bb(n,e,s,null,t)}}function gw(n){return n=o1(n),X1(n)}var bv=null;function X1(n){if(bv=null,n=_u(n),n!==null){var e=mg(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=wN(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return bv=n,null}function KP(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(E6()){case CN:return 2;case TN:return 8;case $m:case k6:return 32;case EN:return 268435456;default:return 32}default:return 32}}var pw=!1,Ro=null,Po=null,Io=null,zf=new Map,Ff=new Map,go=[],HF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HT(n,e){switch(n){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":zf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(e.pointerId)}}function Rd(n,e,t,s,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Eh(e),e!==null&&ZP(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function UF(n,e,t,s,i){switch(e){case"focusin":return Ro=Rd(Ro,n,e,t,s,i),!0;case"dragenter":return Po=Rd(Po,n,e,t,s,i),!0;case"mouseover":return Io=Rd(Io,n,e,t,s,i),!0;case"pointerover":var r=i.pointerId;return zf.set(r,Rd(zf.get(r)||null,n,e,t,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Ff.set(r,Rd(Ff.get(r)||null,n,e,t,s,i)),!0}return!1}function QP(n){var e=_u(n.target);if(e!==null){var t=mg(e);if(t!==null){if(e=t.tag,e===13){if(e=wN(t),e!==null){n.blockedOn=e,O6(n.priority,function(){if(t.tag===13){var s=Js();s=s1(s);var i=kh(t,s);i!==null&&ei(i,t,s),W1(t,s)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _m(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=gw(n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);I0=s,t.target.dispatchEvent(s),I0=null}else return e=Eh(t),e!==null&&ZP(e),n.blockedOn=t,!1;e.shift()}return!0}function UT(n,e,t){_m(n)&&t.delete(e)}function WF(){pw=!1,Ro!==null&&_m(Ro)&&(Ro=null),Po!==null&&_m(Po)&&(Po=null),Io!==null&&_m(Io)&&(Io=null),zf.forEach(UT),Ff.forEach(UT)}function Bp(n,e){n.blockedOn===e&&(n.blockedOn=null,pw||(pw=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,WF)))}var Vp=null;function WT(n){Vp!==n&&(Vp=n,En.unstable_scheduleCallback(En.unstable_NormalPriority,function(){Vp===n&&(Vp=null);for(var e=0;e<n.length;e+=3){var t=n[e],s=n[e+1],i=n[e+2];if(typeof s!="function"){if(X1(s||t)===null)continue;break}var r=Eh(t);r!==null&&(n.splice(e,3),e-=3,$0(r,{pending:!0,data:i,method:t.method,action:s},s,i))}}))}function Bf(n){function e(l){return Bp(l,n)}Ro!==null&&Bp(Ro,n),Po!==null&&Bp(Po,n),Io!==null&&Bp(Io,n),zf.forEach(e),Ff.forEach(e);for(var t=0;t<go.length;t++){var s=go[t];s.blockedOn===n&&(s.blockedOn=null)}for(;0<go.length&&(t=go[0],t.blockedOn===null);)QP(t),t.blockedOn===null&&go.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(s=0;s<t.length;s+=3){var i=t[s],r=t[s+1],a=i[js]||null;if(typeof r=="function")a||WT(t);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(i=r,a=r[js]||null)o=a.formAction;else if(X1(i)!==null)continue}else o=a.action;typeof o=="function"?t[s+1]=o:(t.splice(s,3),s-=3),WT(t)}}}function G1(n){this._internalRoot=n}kx.prototype.render=G1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ue(409));var t=e.current,s=Js();qP(t,s,n,e,null,null)};kx.prototype.unmount=G1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;qP(n.current,2,null,n,null,null),Ax(),e[Th]=null}};function kx(n){this._internalRoot=n}kx.prototype.unstable_scheduleHydration=function(n){if(n){var e=IN();n={blockedOn:null,target:n,priority:e};for(var t=0;t<go.length&&e!==0&&e<go[t].priority;t++);go.splice(t,0,n),t===0&&QP(n)}};var YT=yN.version;if(YT!=="19.1.1")throw Error(ue(527,YT,"19.1.1"));_t.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ue(188)):(n=Object.keys(n).join(","),Error(ue(268,n)));return n=b6(e),n=n!==null?_N(n):null,n=n===null?null:n.stateNode,n};var YF={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:He,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{vg=Hp.inject(YF),Ks=Hp}catch{}}fx.createRoot=function(n,e){if(!bN(n))throw Error(ue(299));var t=!1,s="",i=GR,r=$R,a=qR,o=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=GP(n,1,!1,null,null,t,s,i,r,a,o,null),n[Th]=e.current,V1(n),new G1(e)};fx.hydrateRoot=function(n,e,t){if(!bN(n))throw Error(ue(299));var s=!1,i="",r=GR,a=$R,o=qR,l=null,c=null;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks),t.formState!==void 0&&(c=t.formState)),e=GP(n,1,!0,e,t??null,s,i,r,a,o,l,c),e.context=$P(null),t=e.current,s=Js(),s=s1(s),i=To(s),i.callback=null,Eo(t,i,s),t=s,e.current.lanes=t,yg(e,t),Gr(e),n[Th]=e.current,V1(n),new kx(e)};fx.version="19.1.1";function JP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JP)}catch(n){console.error(n)}}JP(),mN.exports=fx;var XF=mN.exports,GF=(n,e,t,s,i,r,a,o)=>{let l=document.documentElement,c=["light","dark"];function h(p){(Array.isArray(n)?n:[n]).forEach(x=>{let v=x==="class",_=v&&r?i.map(w=>r[w]||w):i;v?(l.classList.remove(..._),l.classList.add(r&&r[p]?r[p]:p)):l.setAttribute(x,p)}),f(p)}function f(p){o&&c.includes(p)&&(l.style.colorScheme=p)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)h(s);else try{let p=localStorage.getItem(e)||t,x=a&&p==="system"?g():p;h(x)}catch{}},$F=R.createContext(void 0),qF={setTheme:n=>{},themes:[]},ZF=()=>{var n;return(n=R.useContext($F))!=null?n:qF};R.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:i,defaultTheme:r,value:a,themes:o,nonce:l,scriptProps:c})=>{let h=JSON.stringify([t,e,r,n,o,a,s,i]).slice(1,-1);return R.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${GF.toString()})(${h})`}})});var KF=n=>{switch(n){case"success":return eB;case"info":return nB;case"warning":return tB;case"error":return sB;default:return null}},QF=Array(12).fill(0),JF=({visible:n,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ve.createElement("div",{className:"sonner-spinner"},QF.map((t,s)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),eB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rB=()=>{let[n,e]=ve.useState(document.hidden);return ve.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},mw=1,aB=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...i}=e,r=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:mw++,a=this.toasts.find(l=>l.id===r),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),a?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...e,id:r,title:s}),{...l,...e,id:r,dismissible:o,title:s}):l):this.addToast({title:s,...i,dismissible:o,id:r}),r},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),r=s!==void 0,a,o=i.then(async c=>{if(a=["resolve",c],ve.isValidElement(c))r=!1,this.create({id:s,type:"default",message:c});else if(lB(c)&&!c.ok){r=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:s,type:"error",message:h,description:f})}else if(t.success!==void 0){r=!1;let h=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:s,type:"success",message:h,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){r=!1;let h=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:s,type:"error",message:h,description:f})}}).finally(()=>{var c;r&&(this.dismiss(s),s=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,h)=>o.then(()=>a[0]==="reject"?h(a[1]):c(a[1])).catch(h));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(e,t)=>{let s=t?.id||mw++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Es=new aB,oB=(n,e)=>{let t=e?.id||mw++;return Es.addToast({title:n,...e,id:t}),t},lB=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",cB=oB,uB=()=>Es.toasts,hB=()=>Es.getActiveToasts(),Ee=Object.assign(cB,{success:Es.success,info:Es.info,warning:Es.warning,error:Es.error,custom:Es.custom,message:Es.message,promise:Es.promise,dismiss:Es.dismiss,loading:Es.loading},{getHistory:uB,getToasts:hB});function dB(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}dB(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Up(n){return n.label!==void 0}var fB=3,gB="32px",pB="16px",XT=4e3,mB=356,vB=14,xB=20,yB=200;function Ki(...n){return n.filter(Boolean).join(" ")}function bB(n){let[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var wB=n=>{var e,t,s,i,r,a,o,l,c,h,f;let{invert:g,toast:p,unstyled:x,interacting:v,setHeights:_,visibleToasts:w,heights:S,index:A,toasts:T,expanded:N,removeToast:O,defaultRichColors:C,closeButton:k,style:M,cancelButtonStyle:I,actionButtonStyle:D,className:F="",descriptionClassName:V="",duration:G,position:J,gap:Y,loadingIcon:Z,expandByDefault:U,classNames:X,icons:Q,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:q}=n,[he,ae]=ve.useState(null),[fe,oe]=ve.useState(null),[re,be]=ve.useState(!1),[ze,Ne]=ve.useState(!1),[je,Je]=ve.useState(!1),[et,Wt]=ve.useState(!1),[oi,zs]=ve.useState(!1),[Fs,Wi]=ve.useState(0),[un,rn]=ve.useState(0),ms=ve.useRef(p.duration||G||XT),ol=ve.useRef(null),Bs=ve.useRef(null),ed=A===0,Qr=A+1<=w,yn=p.type,li=p.dismissible!==!1,Ga=p.className||"",td=p.descriptionClassName||"",Jr=ve.useMemo(()=>S.findIndex(De=>De.toastId===p.id)||0,[S,p.id]),ll=ve.useMemo(()=>{var De;return(De=p.closeButton)!=null?De:k},[p.closeButton,k]),cl=ve.useMemo(()=>p.duration||G||XT,[p.duration,G]),ci=ve.useRef(0),vs=ve.useRef(0),ea=ve.useRef(0),qn=ve.useRef(null),[mr,$a]=J.split("-"),ul=ve.useMemo(()=>S.reduce((De,mt,Pt)=>Pt>=Jr?De:De+mt.height,0),[S,Jr]),Yi=rB(),hl=p.invert||g,Kt=yn==="loading";vs.current=ve.useMemo(()=>Jr*Y+ul,[Jr,ul]),ve.useEffect(()=>{ms.current=cl},[cl]),ve.useEffect(()=>{be(!0)},[]),ve.useEffect(()=>{let De=Bs.current;if(De){let mt=De.getBoundingClientRect().height;return rn(mt),_(Pt=>[{toastId:p.id,height:mt,position:p.position},...Pt]),()=>_(Pt=>Pt.filter(hn=>hn.toastId!==p.id))}},[_,p.id]),ve.useLayoutEffect(()=>{if(!re)return;let De=Bs.current,mt=De.style.height;De.style.height="auto";let Pt=De.getBoundingClientRect().height;De.style.height=mt,rn(Pt),_(hn=>hn.find(Dn=>Dn.toastId===p.id)?hn.map(Dn=>Dn.toastId===p.id?{...Dn,height:Pt}:Dn):[{toastId:p.id,height:Pt,position:p.position},...hn])},[re,p.title,p.description,_,p.id]);let Vs=ve.useCallback(()=>{Ne(!0),Wi(vs.current),_(De=>De.filter(mt=>mt.toastId!==p.id)),setTimeout(()=>{O(p)},yB)},[p,O,_,vs]);ve.useEffect(()=>{if(p.promise&&yn==="loading"||p.duration===1/0||p.type==="loading")return;let De;return N||v||q&&Yi?(()=>{if(ea.current<ci.current){let mt=new Date().getTime()-ci.current;ms.current=ms.current-mt}ea.current=new Date().getTime()})():ms.current!==1/0&&(ci.current=new Date().getTime(),De=setTimeout(()=>{var mt;(mt=p.onAutoClose)==null||mt.call(p,p),Vs()},ms.current)),()=>clearTimeout(De)},[N,v,p,yn,q,Yi,Vs]),ve.useEffect(()=>{p.delete&&Vs()},[Vs,p.delete]);function ta(){var De,mt,Pt;return Q!=null&&Q.loading?ve.createElement("div",{className:Ki(X?.loader,(De=p?.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":yn==="loading"},Q.loading):Z?ve.createElement("div",{className:Ki(X?.loader,(mt=p?.classNames)==null?void 0:mt.loader,"sonner-loader"),"data-visible":yn==="loading"},Z):ve.createElement(JF,{className:Ki(X?.loader,(Pt=p?.classNames)==null?void 0:Pt.loader),visible:yn==="loading"})}return ve.createElement("li",{tabIndex:0,ref:Bs,className:Ki(F,Ga,X?.toast,(e=p?.classNames)==null?void 0:e.toast,X?.default,X?.[yn],(t=p?.classNames)==null?void 0:t[yn]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:C,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":re,"data-promise":!!p.promise,"data-swiped":oi,"data-removed":ze,"data-visible":Qr,"data-y-position":mr,"data-x-position":$a,"data-index":A,"data-front":ed,"data-swiping":je,"data-dismissible":li,"data-type":yn,"data-invert":hl,"data-swipe-out":et,"data-swipe-direction":fe,"data-expanded":!!(N||U&&re),style:{"--index":A,"--toasts-before":A,"--z-index":T.length-A,"--offset":`${ze?Fs:vs.current}px`,"--initial-height":U?"auto":`${un}px`,...M,...p.style},onDragEnd:()=>{Je(!1),ae(null),qn.current=null},onPointerDown:De=>{Kt||!li||(ol.current=new Date,Wi(vs.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(Je(!0),qn.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,mt,Pt,hn;if(et||!li)return;qn.current=null;let Dn=Number(((De=Bs.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ui=Number(((mt=Bs.current)==null?void 0:mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xs=new Date().getTime()-((Pt=ol.current)==null?void 0:Pt.getTime()),Zn=he==="x"?Dn:ui,Hs=Math.abs(Zn)/xs;if(Math.abs(Zn)>=xB||Hs>.11){Wi(vs.current),(hn=p.onDismiss)==null||hn.call(p,p),oe(he==="x"?Dn>0?"right":"left":ui>0?"down":"up"),Vs(),Wt(!0),zs(!1);return}Je(!1),ae(null)},onPointerMove:De=>{var mt,Pt,hn,Dn;if(!qn.current||!li||((mt=window.getSelection())==null?void 0:mt.toString().length)>0)return;let ui=De.clientY-qn.current.y,xs=De.clientX-qn.current.x,Zn=(Pt=n.swipeDirections)!=null?Pt:bB(J);!he&&(Math.abs(xs)>1||Math.abs(ui)>1)&&ae(Math.abs(xs)>Math.abs(ui)?"x":"y");let Hs={x:0,y:0};he==="y"?(Zn.includes("top")||Zn.includes("bottom"))&&(Zn.includes("top")&&ui<0||Zn.includes("bottom")&&ui>0)&&(Hs.y=ui):he==="x"&&(Zn.includes("left")||Zn.includes("right"))&&(Zn.includes("left")&&xs<0||Zn.includes("right")&&xs>0)&&(Hs.x=xs),(Math.abs(Hs.x)>0||Math.abs(Hs.y)>0)&&zs(!0),(hn=Bs.current)==null||hn.style.setProperty("--swipe-amount-x",`${Hs.x}px`),(Dn=Bs.current)==null||Dn.style.setProperty("--swipe-amount-y",`${Hs.y}px`)}},ll&&!p.jsx?ve.createElement("button",{"aria-label":se,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!li?()=>{}:()=>{var De;Vs(),(De=p.onDismiss)==null||De.call(p,p)},className:Ki(X?.closeButton,(i=p?.classNames)==null?void 0:i.closeButton)},(r=Q?.close)!=null?r:iB):null,p.jsx||R.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ve.createElement(ve.Fragment,null,yn||p.icon||p.promise?ve.createElement("div",{"data-icon":"",className:Ki(X?.icon,(a=p?.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ta():null,p.type!=="loading"?p.icon||Q?.[yn]||KF(yn):null):null,ve.createElement("div",{"data-content":"",className:Ki(X?.content,(o=p?.classNames)==null?void 0:o.content)},ve.createElement("div",{"data-title":"",className:Ki(X?.title,(l=p?.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?ve.createElement("div",{"data-description":"",className:Ki(V,td,X?.description,(c=p?.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),R.isValidElement(p.cancel)?p.cancel:p.cancel&&Up(p.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:De=>{var mt,Pt;Up(p.cancel)&&li&&((Pt=(mt=p.cancel).onClick)==null||Pt.call(mt,De),Vs())},className:Ki(X?.cancelButton,(h=p?.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,R.isValidElement(p.action)?p.action:p.action&&Up(p.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:De=>{var mt,Pt;Up(p.action)&&((Pt=(mt=p.action).onClick)==null||Pt.call(mt,De),!De.defaultPrevented&&Vs())},className:Ki(X?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function GT(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function _B(n,e){let t={};return[n,e].forEach((s,i)=>{let r=i===1,a=r?"--mobile-offset":"--offset",o=r?pB:gB;function l(c){["top","right","bottom","left"].forEach(h=>{t[`${a}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(c=>{s[c]===void 0?t[`${a}-${c}`]=o:t[`${a}-${c}`]=typeof s[c]=="number"?`${s[c]}px`:s[c]}):l(o)}),t}var SB=R.forwardRef(function(n,e){let{invert:t,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:a,className:o,offset:l,mobileOffset:c,theme:h="light",richColors:f,duration:g,style:p,visibleToasts:x=fB,toastOptions:v,dir:_=GT(),gap:w=vB,loadingIcon:S,icons:A,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:N}=n,[O,C]=ve.useState([]),k=ve.useMemo(()=>Array.from(new Set([s].concat(O.filter(q=>q.position).map(q=>q.position)))),[O,s]),[M,I]=ve.useState([]),[D,F]=ve.useState(!1),[V,G]=ve.useState(!1),[J,Y]=ve.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=ve.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ve.useRef(null),Q=ve.useRef(!1),se=ve.useCallback(q=>{C(he=>{var ae;return(ae=he.find(fe=>fe.id===q.id))!=null&&ae.delete||Es.dismiss(q.id),he.filter(({id:fe})=>fe!==q.id)})},[]);return ve.useEffect(()=>Es.subscribe(q=>{if(q.dismiss){C(he=>he.map(ae=>ae.id===q.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{hN.flushSync(()=>{C(he=>{let ae=he.findIndex(fe=>fe.id===q.id);return ae!==-1?[...he.slice(0,ae),{...he[ae],...q},...he.slice(ae+1)]:[q,...he]})})})}),[]),ve.useEffect(()=>{if(h!=="system"){Y(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:he})=>{Y(he?"dark":"light")})}catch{q.addListener(({matches:ae})=>{try{Y(ae?"dark":"light")}catch(fe){console.error(fe)}})}},[h]),ve.useEffect(()=>{O.length<=1&&F(!1)},[O]),ve.useEffect(()=>{let q=he=>{var ae,fe;i.every(oe=>he[oe]||he.code===oe)&&(F(!0),(ae=Z.current)==null||ae.focus()),he.code==="Escape"&&(document.activeElement===Z.current||(fe=Z.current)!=null&&fe.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),ve.useEffect(()=>{if(Z.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,Q.current=!1)}},[Z.current]),ve.createElement("section",{ref:e,"aria-label":`${T} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((q,he)=>{var ae;let[fe,oe]=q.split("-");return O.length?ve.createElement("ol",{key:q,dir:_==="auto"?GT():_,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":fe,"data-lifted":D&&O.length>1&&!r,"data-x-position":oe,style:{"--front-toast-height":`${((ae=M[0])==null?void 0:ae.height)||0}px`,"--width":`${mB}px`,"--gap":`${w}px`,...p,..._B(l,c)},onBlur:re=>{Q.current&&!re.currentTarget.contains(re.relatedTarget)&&(Q.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,X.current=re.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{V||F(!1)},onDragEnd:()=>F(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},O.filter(re=>!re.position&&he===0||re.position===q).map((re,be)=>{var ze,Ne;return ve.createElement(wB,{key:re.id,icons:A,index:be,toast:re,defaultRichColors:f,duration:(ze=v?.duration)!=null?ze:g,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:t,visibleToasts:x,closeButton:(Ne=v?.closeButton)!=null?Ne:a,interacting:V,position:q,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,removeToast:se,toasts:O.filter(je=>je.position==re.position),heights:M.filter(je=>je.position==re.position),setHeights:I,expandByDefault:r,gap:w,loadingIcon:S,expanded:D,pauseWhenPageIsHidden:N,swipeDirections:n.swipeDirections})})):null}))});const AB=({...n})=>{const{theme:e="system"}=ZF();return d.jsx(SB,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};function ye(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function $T(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Nx(...n){return e=>{let t=!1;const s=n.map(i=>{const r=$T(i,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():$T(n[i],null)}}}}function qe(...n){return R.useCallback(Nx(...n),n)}function CB(n,e){const t=R.createContext(e),s=r=>{const{children:a,...o}=r,l=R.useMemo(()=>o,Object.values(o));return d.jsx(t.Provider,{value:l,children:a})};s.displayName=n+"Provider";function i(r){const a=R.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${r}\` must be used within \`${n}\``)}return[s,i]}function Os(n,e=[]){let t=[];function s(r,a){const o=R.createContext(a),l=t.length;t=[...t,a];const c=f=>{const{scope:g,children:p,...x}=f,v=g?.[n]?.[l]||o,_=R.useMemo(()=>x,Object.values(x));return d.jsx(v.Provider,{value:_,children:p})};c.displayName=r+"Provider";function h(f,g){const p=g?.[n]?.[l]||o,x=R.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[c,h]}const i=()=>{const r=t.map(a=>R.createContext(a));return function(o){const l=o?.[n]||r;return R.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[s,TB(i,...e)]}function TB(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const a=s.reduce((o,{useScope:l,scopeName:c})=>{const f=l(r)[`__scope${c}`];return{...o,...f}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function sc(n){const e=kB(n),t=R.forwardRef((s,i)=>{const{children:r,...a}=s,o=R.Children.toArray(r),l=o.find(RB);if(l){const c=l.props.children,h=o.map(f=>f===l?R.Children.count(c)>1?R.Children.only(null):R.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...a,ref:i,children:R.isValidElement(c)?R.cloneElement(c,void 0,h):null})}return d.jsx(e,{...a,ref:i,children:r})});return t.displayName=`${n}.Slot`,t}var EB=sc("Slot");function kB(n){const e=R.forwardRef((t,s)=>{const{children:i,...r}=t;if(R.isValidElement(i)){const a=IB(i),o=PB(r,i.props);return i.type!==R.Fragment&&(o.ref=s?Nx(s,a):a),R.cloneElement(i,o)}return R.Children.count(i)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var eI=Symbol("radix.slottable");function NB(n){const e=({children:t})=>d.jsx(d.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=eI,e}function RB(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===eI}function PB(n,e){const t={...e};for(const s in e){const i=n[s],r=e[s];/^on[A-Z]/.test(s)?i&&r?t[s]=(...o)=>{const l=r(...o);return i(...o),l}:i&&(t[s]=i):s==="style"?t[s]={...i,...r}:s==="className"&&(t[s]=[i,r].filter(Boolean).join(" "))}return{...n,...t}}function IB(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var MB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=MB.reduce((n,e)=>{const t=sc(`Primitive.${e}`),s=R.forwardRef((i,r)=>{const{asChild:a,...o}=i,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:r})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function tI(n,e){n&&Ch.flushSync(()=>n.dispatchEvent(e))}function Mn(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>e.current?.(...t),[])}function jB(n,e=globalThis?.document){const t=Mn(n);R.useEffect(()=>{const s=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var LB="DismissableLayer",vw="dismissableLayer.update",OB="dismissableLayer.pointerDownOutside",DB="dismissableLayer.focusOutside",qT,nI=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ig=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:r,onInteractOutside:a,onDismiss:o,...l}=n,c=R.useContext(nI),[h,f]=R.useState(null),g=h?.ownerDocument??globalThis?.document,[,p]=R.useState({}),x=qe(e,C=>f(C)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(_),S=h?v.indexOf(h):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,T=S>=w,N=BB(C=>{const k=C.target,M=[...c.branches].some(I=>I.contains(k));!T||M||(i?.(C),a?.(C),C.defaultPrevented||o?.())},g),O=VB(C=>{const k=C.target;[...c.branches].some(I=>I.contains(k))||(r?.(C),a?.(C),C.defaultPrevented||o?.())},g);return jB(C=>{S===c.layers.size-1&&(s?.(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},g),R.useEffect(()=>{if(h)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(qT=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),ZT(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=qT)}},[h,g,t,c]),R.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),ZT())},[h,c]),R.useEffect(()=>{const C=()=>p({});return document.addEventListener(vw,C),()=>document.removeEventListener(vw,C)},[]),d.jsx(Re.div,{...l,ref:x,style:{pointerEvents:A?T?"auto":"none":void 0,...n.style},onFocusCapture:ye(n.onFocusCapture,O.onFocusCapture),onBlurCapture:ye(n.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ye(n.onPointerDownCapture,N.onPointerDownCapture)})});Ig.displayName=LB;var zB="DismissableLayerBranch",FB=R.forwardRef((n,e)=>{const t=R.useContext(nI),s=R.useRef(null),i=qe(e,s);return R.useEffect(()=>{const r=s.current;if(r)return t.branches.add(r),()=>{t.branches.delete(r)}},[t.branches]),d.jsx(Re.div,{...n,ref:i})});FB.displayName=zB;function BB(n,e=globalThis?.document){const t=Mn(n),s=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const r=o=>{if(o.target&&!s.current){let l=function(){sI(OB,t,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",r),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function VB(n,e=globalThis?.document){const t=Mn(n),s=R.useRef(!1);return R.useEffect(()=>{const i=r=>{r.target&&!s.current&&sI(DB,t,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ZT(){const n=new CustomEvent(vw);document.dispatchEvent(n)}function sI(n,e,t,{discrete:s}){const i=t.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),s?tI(i,r):i.dispatchEvent(r)}var xn=globalThis?.document?R.useLayoutEffect:()=>{},HB=dN[" useId ".trim().toString()]||(()=>{}),UB=0;function Lr(n){const[e,t]=R.useState(HB());return xn(()=>{t(s=>s??String(UB++))},[n]),e?`radix-${e}`:""}const WB=["top","right","bottom","left"],Ho=Math.min,$s=Math.max,wv=Math.round,Wp=Math.floor,Or=n=>({x:n,y:n}),YB={left:"right",right:"left",bottom:"top",top:"bottom"},XB={start:"end",end:"start"};function xw(n,e,t){return $s(n,Ho(e,t))}function Da(n,e){return typeof n=="function"?n(e):n}function za(n){return n.split("-")[0]}function Ih(n){return n.split("-")[1]}function $1(n){return n==="x"?"y":"x"}function q1(n){return n==="y"?"height":"width"}const GB=new Set(["top","bottom"]);function Pr(n){return GB.has(za(n))?"y":"x"}function Z1(n){return $1(Pr(n))}function $B(n,e,t){t===void 0&&(t=!1);const s=Ih(n),i=Z1(n),r=q1(i);let a=i==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=_v(a)),[a,_v(a)]}function qB(n){const e=_v(n);return[yw(n),e,yw(e)]}function yw(n){return n.replace(/start|end/g,e=>XB[e])}const KT=["left","right"],QT=["right","left"],ZB=["top","bottom"],KB=["bottom","top"];function QB(n,e,t){switch(n){case"top":case"bottom":return t?e?QT:KT:e?KT:QT;case"left":case"right":return e?ZB:KB;default:return[]}}function JB(n,e,t,s){const i=Ih(n);let r=QB(za(n),t==="start",s);return i&&(r=r.map(a=>a+"-"+i),e&&(r=r.concat(r.map(yw)))),r}function _v(n){return n.replace(/left|right|bottom|top/g,e=>YB[e])}function eV(n){return{top:0,right:0,bottom:0,left:0,...n}}function iI(n){return typeof n!="number"?eV(n):{top:n,right:n,bottom:n,left:n}}function Sv(n){const{x:e,y:t,width:s,height:i}=n;return{width:s,height:i,top:t,left:e,right:e+s,bottom:t+i,x:e,y:t}}function JT(n,e,t){let{reference:s,floating:i}=n;const r=Pr(e),a=Z1(e),o=q1(a),l=za(e),c=r==="y",h=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,g=s[o]/2-i[o]/2;let p;switch(l){case"top":p={x:h,y:s.y-i.height};break;case"bottom":p={x:h,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-i.width,y:f};break;default:p={x:s.x,y:s.y}}switch(Ih(e)){case"start":p[a]-=g*(t&&c?-1:1);break;case"end":p[a]+=g*(t&&c?-1:1);break}return p}const tV=async(n,e,t)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:a}=t,o=r.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:f}=JT(c,s,l),g=s,p={},x=0;for(let v=0;v<o.length;v++){const{name:_,fn:w}=o[v],{x:S,y:A,data:T,reset:N}=await w({x:h,y:f,initialPlacement:s,placement:g,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:n,floating:e}});h=S??h,f=A??f,p={...p,[_]:{...p[_],...T}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(c=N.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):N.rects),{x:h,y:f}=JT(c,g,l)),v=-1)}return{x:h,y:f,placement:g,strategy:i,middlewareData:p}};async function Vf(n,e){var t;e===void 0&&(e={});const{x:s,y:i,platform:r,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=Da(e,n),x=iI(p),_=o[g?f==="floating"?"reference":"floating":f],w=Sv(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(_)))==null||t?_:_.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),S=f==="floating"?{x:s,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),T=await(r.isElement==null?void 0:r.isElement(A))?await(r.getScale==null?void 0:r.getScale(A))||{x:1,y:1}:{x:1,y:1},N=Sv(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:S,offsetParent:A,strategy:l}):S);return{top:(w.top-N.top+x.top)/T.y,bottom:(N.bottom-w.bottom+x.bottom)/T.y,left:(w.left-N.left+x.left)/T.x,right:(N.right-w.right+x.right)/T.x}}const nV=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:i,rects:r,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:h=0}=Da(n,e)||{};if(c==null)return{};const f=iI(h),g={x:t,y:s},p=Z1(i),x=q1(p),v=await a.getDimensions(c),_=p==="y",w=_?"top":"left",S=_?"bottom":"right",A=_?"clientHeight":"clientWidth",T=r.reference[x]+r.reference[p]-g[p]-r.floating[x],N=g[p]-r.reference[p],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let C=O?O[A]:0;(!C||!await(a.isElement==null?void 0:a.isElement(O)))&&(C=o.floating[A]||r.floating[x]);const k=T/2-N/2,M=C/2-v[x]/2-1,I=Ho(f[w],M),D=Ho(f[S],M),F=I,V=C-v[x]-D,G=C/2-v[x]/2+k,J=xw(F,G,V),Y=!l.arrow&&Ih(i)!=null&&G!==J&&r.reference[x]/2-(G<F?I:D)-v[x]/2<0,Z=Y?G<F?G-F:G-V:0;return{[p]:g[p]+Z,data:{[p]:J,centerOffset:G-J-Z,...Y&&{alignmentOffset:Z}},reset:Y}}}),sV=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:i,middlewareData:r,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,..._}=Da(n,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const w=za(i),S=Pr(o),A=za(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=g||(A||!v?[_v(o)]:qB(o)),O=x!=="none";!g&&O&&N.push(...JB(o,v,x,T));const C=[o,...N],k=await Vf(e,_),M=[];let I=((s=r.flip)==null?void 0:s.overflows)||[];if(h&&M.push(k[w]),f){const G=$B(i,a,T);M.push(k[G[0]],k[G[1]])}if(I=[...I,{placement:i,overflows:M}],!M.every(G=>G<=0)){var D,F;const G=(((D=r.flip)==null?void 0:D.index)||0)+1,J=C[G];if(J&&(!(f==="alignment"?S!==Pr(J):!1)||I.every(U=>Pr(U.placement)===S?U.overflows[0]>0:!0)))return{data:{index:G,overflows:I},reset:{placement:J}};let Y=(F=I.filter(Z=>Z.overflows[0]<=0).sort((Z,U)=>Z.overflows[1]-U.overflows[1])[0])==null?void 0:F.placement;if(!Y)switch(p){case"bestFit":{var V;const Z=(V=I.filter(U=>{if(O){const X=Pr(U.placement);return X===S||X==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(X=>X>0).reduce((X,Q)=>X+Q,0)]).sort((U,X)=>U[1]-X[1])[0])==null?void 0:V[0];Z&&(Y=Z);break}case"initialPlacement":Y=o;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function eE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function tE(n){return WB.some(e=>n[e]>=0)}const iV=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...i}=Da(n,e);switch(s){case"referenceHidden":{const r=await Vf(e,{...i,elementContext:"reference"}),a=eE(r,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:tE(a)}}}case"escaped":{const r=await Vf(e,{...i,altBoundary:!0}),a=eE(r,t.floating);return{data:{escapedOffsets:a,escaped:tE(a)}}}default:return{}}}}},rI=new Set(["left","top"]);async function rV(n,e){const{placement:t,platform:s,elements:i}=n,r=await(s.isRTL==null?void 0:s.isRTL(i.floating)),a=za(t),o=Ih(t),l=Pr(t)==="y",c=rI.has(a)?-1:1,h=r&&l?-1:1,f=Da(e,n);let{mainAxis:g,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof x=="number"&&(p=o==="end"?x*-1:x),l?{x:p*h,y:g*c}:{x:g*c,y:p*h}}const aV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:i,y:r,placement:a,middlewareData:o}=e,l=await rV(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:a}}}}},oV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:i}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:o={fn:_=>{let{x:w,y:S}=_;return{x:w,y:S}}},...l}=Da(n,e),c={x:t,y:s},h=await Vf(e,l),f=Pr(za(i)),g=$1(f);let p=c[g],x=c[f];if(r){const _=g==="y"?"top":"left",w=g==="y"?"bottom":"right",S=p+h[_],A=p-h[w];p=xw(S,p,A)}if(a){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",S=x+h[_],A=x-h[w];x=xw(S,x,A)}const v=o.fn({...e,[g]:p,[f]:x});return{...v,data:{x:v.x-t,y:v.y-s,enabled:{[g]:r,[f]:a}}}}}},lV=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:i,rects:r,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Da(n,e),h={x:t,y:s},f=Pr(i),g=$1(f);let p=h[g],x=h[f];const v=Da(o,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const A=g==="y"?"height":"width",T=r.reference[g]-r.floating[A]+_.mainAxis,N=r.reference[g]+r.reference[A]-_.mainAxis;p<T?p=T:p>N&&(p=N)}if(c){var w,S;const A=g==="y"?"width":"height",T=rI.has(za(i)),N=r.reference[f]-r.floating[A]+(T&&((w=a.offset)==null?void 0:w[f])||0)+(T?0:_.crossAxis),O=r.reference[f]+r.reference[A]+(T?0:((S=a.offset)==null?void 0:S[f])||0)-(T?_.crossAxis:0);x<N?x=N:x>O&&(x=O)}return{[g]:p,[f]:x}}}},cV=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:i,rects:r,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Da(n,e),h=await Vf(e,c),f=za(i),g=Ih(i),p=Pr(i)==="y",{width:x,height:v}=r.floating;let _,w;f==="top"||f==="bottom"?(_=f,w=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,_=g==="end"?"top":"bottom");const S=v-h.top-h.bottom,A=x-h.left-h.right,T=Ho(v-h[_],S),N=Ho(x-h[w],A),O=!e.middlewareData.shift;let C=T,k=N;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=A),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(C=S),O&&!g){const I=$s(h.left,0),D=$s(h.right,0),F=$s(h.top,0),V=$s(h.bottom,0);p?k=x-2*(I!==0||D!==0?I+D:$s(h.left,h.right)):C=v-2*(F!==0||V!==0?F+V:$s(h.top,h.bottom))}await l({...e,availableWidth:k,availableHeight:C});const M=await a.getDimensions(o.floating);return x!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function Rx(){return typeof window<"u"}function Mh(n){return aI(n)?(n.nodeName||"").toLowerCase():"#document"}function ti(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function $r(n){var e;return(e=(aI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function aI(n){return Rx()?n instanceof Node||n instanceof ti(n).Node:!1}function ur(n){return Rx()?n instanceof Element||n instanceof ti(n).Element:!1}function Ur(n){return Rx()?n instanceof HTMLElement||n instanceof ti(n).HTMLElement:!1}function nE(n){return!Rx()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ti(n).ShadowRoot}const uV=new Set(["inline","contents"]);function Mg(n){const{overflow:e,overflowX:t,overflowY:s,display:i}=hr(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!uV.has(i)}const hV=new Set(["table","td","th"]);function dV(n){return hV.has(Mh(n))}const fV=[":popover-open",":modal"];function Px(n){return fV.some(e=>{try{return n.matches(e)}catch{return!1}})}const gV=["transform","translate","scale","rotate","perspective"],pV=["transform","translate","scale","rotate","perspective","filter"],mV=["paint","layout","strict","content"];function K1(n){const e=Q1(),t=ur(n)?hr(n):n;return gV.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||pV.some(s=>(t.willChange||"").includes(s))||mV.some(s=>(t.contain||"").includes(s))}function vV(n){let e=Uo(n);for(;Ur(e)&&!oh(e);){if(K1(e))return e;if(Px(e))return null;e=Uo(e)}return null}function Q1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xV=new Set(["html","body","#document"]);function oh(n){return xV.has(Mh(n))}function hr(n){return ti(n).getComputedStyle(n)}function Ix(n){return ur(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Uo(n){if(Mh(n)==="html")return n;const e=n.assignedSlot||n.parentNode||nE(n)&&n.host||$r(n);return nE(e)?e.host:e}function oI(n){const e=Uo(n);return oh(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ur(e)&&Mg(e)?e:oI(e)}function Hf(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=oI(n),r=i===((s=n.ownerDocument)==null?void 0:s.body),a=ti(i);if(r){const o=bw(a);return e.concat(a,a.visualViewport||[],Mg(i)?i:[],o&&t?Hf(o):[])}return e.concat(i,Hf(i,[],t))}function bw(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function lI(n){const e=hr(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Ur(n),r=i?n.offsetWidth:t,a=i?n.offsetHeight:s,o=wv(t)!==r||wv(s)!==a;return o&&(t=r,s=a),{width:t,height:s,$:o}}function J1(n){return ur(n)?n:n.contextElement}function Vu(n){const e=J1(n);if(!Ur(e))return Or(1);const t=e.getBoundingClientRect(),{width:s,height:i,$:r}=lI(e);let a=(r?wv(t.width):t.width)/s,o=(r?wv(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const yV=Or(0);function cI(n){const e=ti(n);return!Q1()||!e.visualViewport?yV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ti(n)?!1:e}function ic(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=J1(n);let a=Or(1);e&&(s?ur(s)&&(a=Vu(s)):a=Vu(n));const o=bV(r,t,s)?cI(r):Or(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,h=i.width/a.x,f=i.height/a.y;if(r){const g=ti(r),p=s&&ur(s)?ti(s):s;let x=g,v=bw(x);for(;v&&s&&p!==x;){const _=Vu(v),w=v.getBoundingClientRect(),S=hr(v),A=w.left+(v.clientLeft+parseFloat(S.paddingLeft))*_.x,T=w.top+(v.clientTop+parseFloat(S.paddingTop))*_.y;l*=_.x,c*=_.y,h*=_.x,f*=_.y,l+=A,c+=T,x=ti(v),v=bw(x)}}return Sv({width:h,height:f,x:l,y:c})}function Mx(n,e){const t=Ix(n).scrollLeft;return e?e.left+t:ic($r(n)).left+t}function uI(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-Mx(n,t),i=t.top+e.scrollTop;return{x:s,y:i}}function wV(n){let{elements:e,rect:t,offsetParent:s,strategy:i}=n;const r=i==="fixed",a=$r(s),o=e?Px(e.floating):!1;if(s===a||o&&r)return t;let l={scrollLeft:0,scrollTop:0},c=Or(1);const h=Or(0),f=Ur(s);if((f||!f&&!r)&&((Mh(s)!=="body"||Mg(a))&&(l=Ix(s)),Ur(s))){const p=ic(s);c=Vu(s),h.x=p.x+s.clientLeft,h.y=p.y+s.clientTop}const g=a&&!f&&!r?uI(a,l):Or(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+h.x+g.x,y:t.y*c.y-l.scrollTop*c.y+h.y+g.y}}function _V(n){return Array.from(n.getClientRects())}function SV(n){const e=$r(n),t=Ix(n),s=n.ownerDocument.body,i=$s(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),r=$s(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-t.scrollLeft+Mx(n);const o=-t.scrollTop;return hr(s).direction==="rtl"&&(a+=$s(e.clientWidth,s.clientWidth)-i),{width:i,height:r,x:a,y:o}}const sE=25;function AV(n,e){const t=ti(n),s=$r(n),i=t.visualViewport;let r=s.clientWidth,a=s.clientHeight,o=0,l=0;if(i){r=i.width,a=i.height;const h=Q1();(!h||h&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Mx(s);if(c<=0){const h=s.ownerDocument,f=h.body,g=getComputedStyle(f),p=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,x=Math.abs(s.clientWidth-f.clientWidth-p);x<=sE&&(r-=x)}else c<=sE&&(r+=c);return{width:r,height:a,x:o,y:l}}const CV=new Set(["absolute","fixed"]);function TV(n,e){const t=ic(n,!0,e==="fixed"),s=t.top+n.clientTop,i=t.left+n.clientLeft,r=Ur(n)?Vu(n):Or(1),a=n.clientWidth*r.x,o=n.clientHeight*r.y,l=i*r.x,c=s*r.y;return{width:a,height:o,x:l,y:c}}function iE(n,e,t){let s;if(e==="viewport")s=AV(n,t);else if(e==="document")s=SV($r(n));else if(ur(e))s=TV(e,t);else{const i=cI(n);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Sv(s)}function hI(n,e){const t=Uo(n);return t===e||!ur(t)||oh(t)?!1:hr(t).position==="fixed"||hI(t,e)}function EV(n,e){const t=e.get(n);if(t)return t;let s=Hf(n,[],!1).filter(o=>ur(o)&&Mh(o)!=="body"),i=null;const r=hr(n).position==="fixed";let a=r?Uo(n):n;for(;ur(a)&&!oh(a);){const o=hr(a),l=K1(a);!l&&o.position==="fixed"&&(i=null),(r?!l&&!i:!l&&o.position==="static"&&!!i&&CV.has(i.position)||Mg(a)&&!l&&hI(n,a))?s=s.filter(h=>h!==a):i=o,a=Uo(a)}return e.set(n,s),s}function kV(n){let{element:e,boundary:t,rootBoundary:s,strategy:i}=n;const a=[...t==="clippingAncestors"?Px(e)?[]:EV(e,this._c):[].concat(t),s],o=a[0],l=a.reduce((c,h)=>{const f=iE(e,h,i);return c.top=$s(f.top,c.top),c.right=Ho(f.right,c.right),c.bottom=Ho(f.bottom,c.bottom),c.left=$s(f.left,c.left),c},iE(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function NV(n){const{width:e,height:t}=lI(n);return{width:e,height:t}}function RV(n,e,t){const s=Ur(e),i=$r(e),r=t==="fixed",a=ic(n,!0,r,e);let o={scrollLeft:0,scrollTop:0};const l=Or(0);function c(){l.x=Mx(i)}if(s||!s&&!r)if((Mh(e)!=="body"||Mg(i))&&(o=Ix(e)),s){const p=ic(e,!0,r,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();r&&!s&&i&&c();const h=i&&!s&&!r?uI(i,o):Or(0),f=a.left+o.scrollLeft-l.x-h.x,g=a.top+o.scrollTop-l.y-h.y;return{x:f,y:g,width:a.width,height:a.height}}function _b(n){return hr(n).position==="static"}function rE(n,e){if(!Ur(n)||hr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return $r(n)===t&&(t=t.ownerDocument.body),t}function dI(n,e){const t=ti(n);if(Px(n))return t;if(!Ur(n)){let i=Uo(n);for(;i&&!oh(i);){if(ur(i)&&!_b(i))return i;i=Uo(i)}return t}let s=rE(n,e);for(;s&&dV(s)&&_b(s);)s=rE(s,e);return s&&oh(s)&&_b(s)&&!K1(s)?t:s||vV(n)||t}const PV=async function(n){const e=this.getOffsetParent||dI,t=this.getDimensions,s=await t(n.floating);return{reference:RV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function IV(n){return hr(n).direction==="rtl"}const MV={convertOffsetParentRelativeRectToViewportRelativeRect:wV,getDocumentElement:$r,getClippingRect:kV,getOffsetParent:dI,getElementRects:PV,getClientRects:_V,getDimensions:NV,getScale:Vu,isElement:ur,isRTL:IV};function fI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function jV(n,e){let t=null,s;const i=$r(n);function r(){var o;clearTimeout(s),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),r();const c=n.getBoundingClientRect(),{left:h,top:f,width:g,height:p}=c;if(o||e(),!g||!p)return;const x=Wp(f),v=Wp(i.clientWidth-(h+g)),_=Wp(i.clientHeight-(f+p)),w=Wp(h),A={rootMargin:-x+"px "+-v+"px "+-_+"px "+-w+"px",threshold:$s(0,Ho(1,l))||1};let T=!0;function N(O){const C=O[0].intersectionRatio;if(C!==l){if(!T)return a();C?a(!1,C):s=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!fI(c,n.getBoundingClientRect())&&a(),T=!1}try{t=new IntersectionObserver(N,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(N,A)}t.observe(n)}return a(!0),r}function LV(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=J1(n),h=i||r?[...c?Hf(c):[],...Hf(e)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),r&&w.addEventListener("resize",t)});const f=c&&o?jV(c,t):null;let g=-1,p=null;a&&(p=new ResizeObserver(w=>{let[S]=w;S&&S.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let x,v=l?ic(n):null;l&&_();function _(){const w=ic(n);v&&!fI(v,w)&&t(),v=w,x=requestAnimationFrame(_)}return t(),()=>{var w;h.forEach(S=>{i&&S.removeEventListener("scroll",t),r&&S.removeEventListener("resize",t)}),f?.(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(x)}}const OV=aV,DV=oV,zV=sV,FV=cV,BV=iV,aE=nV,VV=lV,HV=(n,e,t)=>{const s=new Map,i={platform:MV,...t},r={...i.platform,_c:s};return tV(n,e,{...i,platform:r})};var UV=typeof document<"u",WV=function(){},Sm=UV?R.useLayoutEffect:WV;function Av(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Av(n[s],e[s]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=t;s--!==0;){const r=i[s];if(!(r==="_owner"&&n.$$typeof)&&!Av(n[r],e[r]))return!1}return!0}return n!==n&&e!==e}function gI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function oE(n,e){const t=gI(n);return Math.round(e*t)/t}function Sb(n){const e=R.useRef(n);return Sm(()=>{e.current=n}),e}function YV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:i,elements:{reference:r,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=n,[h,f]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=R.useState(s);Av(g,s)||p(s);const[x,v]=R.useState(null),[_,w]=R.useState(null),S=R.useCallback(U=>{U!==O.current&&(O.current=U,v(U))},[]),A=R.useCallback(U=>{U!==C.current&&(C.current=U,w(U))},[]),T=r||x,N=a||_,O=R.useRef(null),C=R.useRef(null),k=R.useRef(h),M=l!=null,I=Sb(l),D=Sb(i),F=Sb(c),V=R.useCallback(()=>{if(!O.current||!C.current)return;const U={placement:e,strategy:t,middleware:g};D.current&&(U.platform=D.current),HV(O.current,C.current,U).then(X=>{const Q={...X,isPositioned:F.current!==!1};G.current&&!Av(k.current,Q)&&(k.current=Q,Ch.flushSync(()=>{f(Q)}))})},[g,e,t,D,F]);Sm(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[c]);const G=R.useRef(!1);Sm(()=>(G.current=!0,()=>{G.current=!1}),[]),Sm(()=>{if(T&&(O.current=T),N&&(C.current=N),T&&N){if(I.current)return I.current(T,N,V);V()}},[T,N,V,I,M]);const J=R.useMemo(()=>({reference:O,floating:C,setReference:S,setFloating:A}),[S,A]),Y=R.useMemo(()=>({reference:T,floating:N}),[T,N]),Z=R.useMemo(()=>{const U={position:t,left:0,top:0};if(!Y.floating)return U;const X=oE(Y.floating,h.x),Q=oE(Y.floating,h.y);return o?{...U,transform:"translate("+X+"px, "+Q+"px)",...gI(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:X,top:Q}},[t,o,Y.floating,h.x,h.y]);return R.useMemo(()=>({...h,update:V,refs:J,elements:Y,floatingStyles:Z}),[h,V,J,Y,Z])}const XV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:i}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?aE({element:s.current,padding:i}).fn(t):{}:s?aE({element:s,padding:i}).fn(t):{}}}},GV=(n,e)=>({...OV(n),options:[n,e]}),$V=(n,e)=>({...DV(n),options:[n,e]}),qV=(n,e)=>({...VV(n),options:[n,e]}),ZV=(n,e)=>({...zV(n),options:[n,e]}),KV=(n,e)=>({...FV(n),options:[n,e]}),QV=(n,e)=>({...BV(n),options:[n,e]}),JV=(n,e)=>({...XV(n),options:[n,e]});var eH="Arrow",pI=R.forwardRef((n,e)=>{const{children:t,width:s=10,height:i=5,...r}=n;return d.jsx(Re.svg,{...r,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});pI.displayName=eH;var tH=pI;function eS(n){const[e,t]=R.useState(void 0);return xn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const r=i[0];let a,o;if("borderBoxSize"in r){const l=r.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var tS="Popper",[mI,jh]=Os(tS),[nH,vI]=mI(tS),xI=n=>{const{__scopePopper:e,children:t}=n,[s,i]=R.useState(null);return d.jsx(nH,{scope:e,anchor:s,onAnchorChange:i,children:t})};xI.displayName=tS;var yI="PopperAnchor",bI=R.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...i}=n,r=vI(yI,t),a=R.useRef(null),o=qe(e,a),l=R.useRef(null);return R.useEffect(()=>{const c=l.current;l.current=s?.current||a.current,c!==l.current&&r.onAnchorChange(l.current)}),s?null:d.jsx(Re.div,{...i,ref:o})});bI.displayName=yI;var nS="PopperContent",[sH,iH]=mI(nS),wI=R.forwardRef((n,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:i=0,align:r="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:x,...v}=n,_=vI(nS,t),[w,S]=R.useState(null),A=qe(e,re=>S(re)),[T,N]=R.useState(null),O=eS(T),C=O?.width??0,k=O?.height??0,M=s+(r!=="center"?"-"+r:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(c)?c:[c],F=D.length>0,V={padding:I,boundary:D.filter(aH),altBoundary:F},{refs:G,floatingStyles:J,placement:Y,isPositioned:Z,middlewareData:U}=YV({strategy:"fixed",placement:M,whileElementsMounted:(...re)=>LV(...re,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[GV({mainAxis:i+k,alignmentAxis:a}),l&&$V({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qV():void 0,...V}),l&&ZV({...V}),KV({...V,apply:({elements:re,rects:be,availableWidth:ze,availableHeight:Ne})=>{const{width:je,height:Je}=be.reference,et=re.floating.style;et.setProperty("--radix-popper-available-width",`${ze}px`),et.setProperty("--radix-popper-available-height",`${Ne}px`),et.setProperty("--radix-popper-anchor-width",`${je}px`),et.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),T&&JV({element:T,padding:o}),oH({arrowWidth:C,arrowHeight:k}),g&&QV({strategy:"referenceHidden",...V})]}),[X,Q]=AI(Y),se=Mn(x);xn(()=>{Z&&se?.()},[Z,se]);const q=U.arrow?.x,he=U.arrow?.y,ae=U.arrow?.centerOffset!==0,[fe,oe]=R.useState();return xn(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:Z?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(sH,{scope:t,placedSide:X,onArrowChange:N,arrowX:q,arrowY:he,shouldHideArrow:ae,children:d.jsx(Re.div,{"data-side":X,"data-align":Q,...v,ref:A,style:{...v.style,animation:Z?void 0:"none"}})})})});wI.displayName=nS;var _I="PopperArrow",rH={top:"bottom",right:"left",bottom:"top",left:"right"},SI=R.forwardRef(function(e,t){const{__scopePopper:s,...i}=e,r=iH(_I,s),a=rH[r.placedSide];return d.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:d.jsx(tH,{...i,ref:t,style:{...i.style,display:"block"}})})});SI.displayName=_I;function aH(n){return n!==null}var oH=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:s,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[c,h]=AI(t),f={start:"0%",center:"50%",end:"100%"}[h],g=(i.arrow?.x??0)+o/2,p=(i.arrow?.y??0)+l/2;let x="",v="";return c==="bottom"?(x=a?f:`${g}px`,v=`${-l}px`):c==="top"?(x=a?f:`${g}px`,v=`${s.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=a?f:`${p}px`):c==="left"&&(x=`${s.floating.width+l}px`,v=a?f:`${p}px`),{data:{x,y:v}}}});function AI(n){const[e,t="center"]=n.split("-");return[e,t]}var CI=xI,sS=bI,iS=wI,rS=SI,lH="Portal",jx=R.forwardRef((n,e)=>{const{container:t,...s}=n,[i,r]=R.useState(!1);xn(()=>r(!0),[]);const a=t||i&&globalThis?.document?.body;return a?hN.createPortal(d.jsx(Re.div,{...s,ref:e}),a):null});jx.displayName=lH;function cH(n,e){return R.useReducer((t,s)=>e[t][s]??t,n)}var Ds=n=>{const{present:e,children:t}=n,s=uH(e),i=typeof t=="function"?t({present:s.isPresent}):R.Children.only(t),r=qe(s.ref,hH(i));return typeof t=="function"||s.isPresent?R.cloneElement(i,{ref:r}):null};Ds.displayName="Presence";function uH(n){const[e,t]=R.useState(),s=R.useRef(null),i=R.useRef(n),r=R.useRef("none"),a=n?"mounted":"unmounted",[o,l]=cH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const c=Yp(s.current);r.current=o==="mounted"?c:"none"},[o]),xn(()=>{const c=s.current,h=i.current;if(h!==n){const g=r.current,p=Yp(c);n?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(h&&g!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),xn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=p=>{const v=Yp(s.current).includes(CSS.escape(p.animationName));if(p.target===e&&v&&(l("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=p=>{p.target===e&&(r.current=Yp(s.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:R.useCallback(c=>{s.current=c?getComputedStyle(c):null,t(c)},[])}}function Yp(n){return n?.animationName||"none"}function hH(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var dH=dN[" useInsertionEffect ".trim().toString()]||xn;function Wo({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[i,r,a]=fH({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:i;{const h=R.useRef(n!==void 0);R.useEffect(()=>{const f=h.current;f!==o&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,s])}const c=R.useCallback(h=>{if(o){const f=gH(h)?h(n):h;f!==n&&a.current?.(f)}else r(h)},[o,n,r,a]);return[l,c]}function fH({defaultProp:n,onChange:e}){const[t,s]=R.useState(n),i=R.useRef(t),r=R.useRef(e);return dH(()=>{r.current=e},[e]),R.useEffect(()=>{i.current!==t&&(r.current?.(t),i.current=t)},[t,i]),[t,s,r]}function gH(n){return typeof n=="function"}var TI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pH="VisuallyHidden",EI=R.forwardRef((n,e)=>d.jsx(Re.span,{...n,ref:e,style:{...TI,...n.style}}));EI.displayName=pH;var mH=EI,[Lx,Oie]=Os("Tooltip",[jh]),aS=jh(),kI="TooltipProvider",vH=700,lE="tooltip.open",[xH,NI]=Lx(kI),RI=n=>{const{__scopeTooltip:e,delayDuration:t=vH,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:r}=n,a=R.useRef(!0),o=R.useRef(!1),l=R.useRef(0);return R.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(xH,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:R.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:o,onPointerInTransitChange:R.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:r})};RI.displayName=kI;var PI="Tooltip",[Die,Ox]=Lx(PI),ww="TooltipTrigger",yH=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=Ox(ww,t),r=NI(ww,t),a=aS(t),o=R.useRef(null),l=qe(e,o,i.onTriggerChange),c=R.useRef(!1),h=R.useRef(!1),f=R.useCallback(()=>c.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(sS,{asChild:!0,...a,children:d.jsx(Re.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:l,onPointerMove:ye(n.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!r.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:ye(n.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:ye(n.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:ye(n.onBlur,i.onClose),onClick:ye(n.onClick,i.onClose)})})});yH.displayName=ww;var bH="TooltipPortal",[zie,wH]=Lx(bH,{forceMount:void 0}),lh="TooltipContent",II=R.forwardRef((n,e)=>{const t=wH(lh,n.__scopeTooltip),{forceMount:s=t.forceMount,side:i="top",...r}=n,a=Ox(lh,n.__scopeTooltip);return d.jsx(Ds,{present:s||a.open,children:a.disableHoverableContent?d.jsx(MI,{side:i,...r,ref:e}):d.jsx(_H,{side:i,...r,ref:e})})}),_H=R.forwardRef((n,e)=>{const t=Ox(lh,n.__scopeTooltip),s=NI(lh,n.__scopeTooltip),i=R.useRef(null),r=qe(e,i),[a,o]=R.useState(null),{trigger:l,onClose:c}=t,h=i.current,{onPointerInTransitChange:f}=s,g=R.useCallback(()=>{o(null),f(!1)},[f]),p=R.useCallback((x,v)=>{const _=x.currentTarget,w={x:x.clientX,y:x.clientY},S=EH(w,_.getBoundingClientRect()),A=kH(w,S),T=NH(v.getBoundingClientRect()),N=PH([...A,...T]);o(N),f(!0)},[f]);return R.useEffect(()=>()=>g(),[g]),R.useEffect(()=>{if(l&&h){const x=_=>p(_,h),v=_=>p(_,l);return l.addEventListener("pointerleave",x),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",v)}}},[l,h,p,g]),R.useEffect(()=>{if(a){const x=v=>{const _=v.target,w={x:v.clientX,y:v.clientY},S=l?.contains(_)||h?.contains(_),A=!RH(w,a);S?g():A&&(g(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,h,a,c,g]),d.jsx(MI,{...n,ref:r})}),[SH,AH]=Lx(PI,{isInside:!1}),CH=NB("TooltipContent"),MI=R.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":i,onEscapeKeyDown:r,onPointerDownOutside:a,...o}=n,l=Ox(lh,t),c=aS(t),{onClose:h}=l;return R.useEffect(()=>(document.addEventListener(lE,h),()=>document.removeEventListener(lE,h)),[h]),R.useEffect(()=>{if(l.trigger){const f=g=>{g.target?.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),d.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(iS,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(CH,{children:s}),d.jsx(SH,{scope:t,isInside:!0,children:d.jsx(mH,{id:l.contentId,role:"tooltip",children:i||s})})]})})});II.displayName=lh;var jI="TooltipArrow",TH=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=aS(t);return AH(jI,t).isInside?null:d.jsx(rS,{...i,...s,ref:e})});TH.displayName=jI;function EH(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),r=Math.abs(e.left-n.x);switch(Math.min(t,s,i,r)){case r:return"left";case i:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function kH(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function NH(n){const{top:e,right:t,bottom:s,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:s},{x:i,y:s}]}function RH(n,e){const{x:t,y:s}=n;let i=!1;for(let r=0,a=e.length-1;r<e.length;a=r++){const o=e[r],l=e[a],c=o.x,h=o.y,f=l.x,g=l.y;h>s!=g>s&&t<(f-c)*(s-h)/(g-h)+c&&(i=!i)}return i}function PH(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),IH(e)}function IH(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const i=n[s];for(;e.length>=2;){const r=e[e.length-1],a=e[e.length-2];if((r.x-a.x)*(i.y-a.y)>=(r.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const i=n[s];for(;t.length>=2;){const r=t[t.length-1],a=t[t.length-2];if((r.x-a.x)*(i.y-a.y)>=(r.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var MH=RI,LI=II;function OI(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=OI(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function DI(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=OI(n))&&(s&&(s+=" "),s+=e);return s}const oS="-",jH=n=>{const e=OH(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:a=>{const o=a.split(oS);return o[0]===""&&o.length!==1&&o.shift(),zI(o,e)||LH(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&s[a]?[...l,...s[a]]:l}}},zI=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),i=s?zI(n.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const r=n.join(oS);return e.validators.find(({validator:a})=>a(r))?.classGroupId},cE=/^\[(.+)\]$/,LH=n=>{if(cE.test(n)){const e=cE.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},OH=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return zH(Object.entries(n.classGroups),t).forEach(([r,a])=>{_w(a,s,r,e)}),s},_w=(n,e,t,s)=>{n.forEach(i=>{if(typeof i=="string"){const r=i===""?e:uE(e,i);r.classGroupId=t;return}if(typeof i=="function"){if(DH(i)){_w(i(s),e,t,s);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([r,a])=>{_w(a,uE(e,r),t,s)})})},uE=(n,e)=>{let t=n;return e.split(oS).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},DH=n=>n.isThemeGetter,zH=(n,e)=>e?n.map(([t,s])=>{const i=s.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,o])=>[e+a,o])):r);return[t,i]}):n,FH=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const i=(r,a)=>{t.set(r,a),e++,e>n&&(e=0,s=t,t=new Map)};return{get(r){let a=t.get(r);if(a!==void 0)return a;if((a=s.get(r))!==void 0)return i(r,a),a},set(r,a){t.has(r)?t.set(r,a):i(r,a)}}},FI="!",BH=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,i=e[0],r=e.length,a=o=>{const l=[];let c=0,h=0,f;for(let _=0;_<o.length;_++){let w=o[_];if(c===0){if(w===i&&(s||o.slice(_,_+r)===e)){l.push(o.slice(h,_)),h=_+r;continue}if(w==="/"){f=_;continue}}w==="["?c++:w==="]"&&c--}const g=l.length===0?o:o.substring(h),p=g.startsWith(FI),x=p?g.substring(1):g,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:v}};return t?o=>t({className:o,parseClassName:a}):a},VH=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},HH=n=>({cache:FH(n.cacheSize),parseClassName:BH(n),...jH(n)}),UH=/\s+/,WH=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:i}=e,r=[],a=n.trim().split(UH);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=t(c);let x=!!p,v=s(x?g.substring(0,p):g);if(!v){if(!x){o=c+(o.length>0?" "+o:o);continue}if(v=s(g),!v){o=c+(o.length>0?" "+o:o);continue}x=!1}const _=VH(h).join(":"),w=f?_+FI:_,S=w+v;if(r.includes(S))continue;r.push(S);const A=i(v,x);for(let T=0;T<A.length;++T){const N=A[T];r.push(w+N)}o=c+(o.length>0?" "+o:o)}return o};function YH(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=BI(e))&&(s&&(s+=" "),s+=t);return s}const BI=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=BI(n[s]))&&(t&&(t+=" "),t+=e);return t};function XH(n,...e){let t,s,i,r=a;function a(l){const c=e.reduce((h,f)=>f(h),n());return t=HH(c),s=t.cache.get,i=t.cache.set,r=o,o(l)}function o(l){const c=s(l);if(c)return c;const h=WH(l,t);return i(l,h),h}return function(){return r(YH.apply(null,arguments))}}const Vt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},VI=/^\[(?:([a-z-]+):)?(.+)\]$/i,GH=/^\d+\/\d+$/,$H=new Set(["px","full","screen"]),qH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ma=n=>Hu(n)||$H.has(n)||GH.test(n),to=n=>Lh(n,"length",oU),Hu=n=>!!n&&!Number.isNaN(Number(n)),Ab=n=>Lh(n,"number",Hu),Pd=n=>!!n&&Number.isInteger(Number(n)),eU=n=>n.endsWith("%")&&Hu(n.slice(0,-1)),Ke=n=>VI.test(n),no=n=>qH.test(n),tU=new Set(["length","size","percentage"]),nU=n=>Lh(n,tU,HI),sU=n=>Lh(n,"position",HI),iU=new Set(["image","url"]),rU=n=>Lh(n,iU,cU),aU=n=>Lh(n,"",lU),Id=()=>!0,Lh=(n,e,t)=>{const s=VI.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},oU=n=>ZH.test(n)&&!KH.test(n),HI=()=>!1,lU=n=>QH.test(n),cU=n=>JH.test(n),uU=()=>{const n=Vt("colors"),e=Vt("spacing"),t=Vt("blur"),s=Vt("brightness"),i=Vt("borderColor"),r=Vt("borderRadius"),a=Vt("borderSpacing"),o=Vt("borderWidth"),l=Vt("contrast"),c=Vt("grayscale"),h=Vt("hueRotate"),f=Vt("invert"),g=Vt("gap"),p=Vt("gradientColorStops"),x=Vt("gradientColorStopPositions"),v=Vt("inset"),_=Vt("margin"),w=Vt("opacity"),S=Vt("padding"),A=Vt("saturate"),T=Vt("scale"),N=Vt("sepia"),O=Vt("skew"),C=Vt("space"),k=Vt("translate"),M=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ke,e],F=()=>[Ke,e],V=()=>["",ma,to],G=()=>["auto",Hu,Ke],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Ke],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Hu,Ke];return{cacheSize:500,separator:":",theme:{colors:[Id],spacing:[ma,to],blur:["none","",no,Ke],brightness:se(),borderColor:[n],borderRadius:["none","","full",no,Ke],borderSpacing:F(),borderWidth:V(),contrast:se(),grayscale:X(),hueRotate:se(),invert:X(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[eU,to],inset:D(),margin:D(),opacity:se(),padding:F(),saturate:se(),scale:se(),sepia:X(),skew:se(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[no]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Ke]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pd,Ke]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",Pd,Ke]}],"grid-cols":[{"grid-cols":[Id]}],"col-start-end":[{col:["auto",{span:["full",Pd,Ke]},Ke]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Id]}],"row-start-end":[{row:["auto",{span:[Pd,Ke]},Ke]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[no]},no]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",no,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ab]}],"font-family":[{font:[Id]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",Hu,Ab]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ma,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ma,to]}],"underline-offset":[{"underline-offset":["auto",ma,Ke]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),sU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[ma,Ke]}],"outline-w":[{outline:[ma,to]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ma,to]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",no,aU]}],"shadow-color":[{shadow:[Id]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",no,Ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[A]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Pd,Ke]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ma,to,Ab]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hU=XH(uU);function Me(...n){return hU(DI(n))}const dU=MH,fU=R.forwardRef(({className:n,sideOffset:e=4,...t},s)=>d.jsx(LI,{ref:s,sideOffset:e,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));fU.displayName=LI.displayName;var Dx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gU={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},pU=class{#e=gU;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Sw=new pU;function mU(n){setTimeout(n,0)}var zx=typeof window>"u"||"Deno"in globalThis;function er(){}function vU(n,e){return typeof n=="function"?n(e):n}function xU(n){return typeof n=="number"&&n>=0&&n!==1/0}function yU(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Aw(n,e){return typeof n=="function"?n(e):n}function bU(n,e){return typeof n=="function"?n(e):n}function hE(n,e){const{type:t="all",exact:s,fetchStatus:i,predicate:r,queryKey:a,stale:o}=n;if(a){if(s){if(e.queryHash!==lS(a,e.options))return!1}else if(!Wf(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||r&&!r(e))}function dE(n,e){const{exact:t,status:s,predicate:i,mutationKey:r}=n;if(r){if(!e.options.mutationKey)return!1;if(t){if(Uf(e.options.mutationKey)!==Uf(r))return!1}else if(!Wf(e.options.mutationKey,r))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function lS(n,e){return(e?.queryKeyHashFn||Uf)(n)}function Uf(n){return JSON.stringify(n,(e,t)=>Cw(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function Wf(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Wf(n[t],e[t])):!1}var wU=Object.prototype.hasOwnProperty;function UI(n,e){if(n===e)return n;const t=fE(n)&&fE(e);if(!t&&!(Cw(n)&&Cw(e)))return e;const i=(t?n:Object.keys(n)).length,r=t?e:Object.keys(e),a=r.length,o=t?new Array(a):{};let l=0;for(let c=0;c<a;c++){const h=t?c:r[c],f=n[h],g=e[h];if(f===g){o[h]=f,(t?c<i:wU.call(n,h))&&l++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){o[h]=g;continue}const p=UI(f,g);o[h]=p,p===f&&l++}return i===a&&l===i?n:o}function fE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Cw(n){if(!gE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!gE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function gE(n){return Object.prototype.toString.call(n)==="[object Object]"}function _U(n){return new Promise(e=>{Sw.setTimeout(e,n)})}function SU(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?UI(n,e):e}function AU(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function CU(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var cS=Symbol();function WI(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===cS?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var TU=class extends Dx{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!zx&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},YI=new TU;function EU(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});t.status="pending",t.catch(()=>{});function s(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{s({status:"fulfilled",value:i}),n(i)},t.reject=i=>{s({status:"rejected",reason:i}),e(i)},t}var kU=mU;function NU(){let n=[],e=0,t=o=>{o()},s=o=>{o()},i=kU;const r=o=>{e?n.push(o):i(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&i(()=>{s(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{r(()=>{o(...l)})},schedule:r,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{i=o}}}var hs=NU(),RU=class extends Dx{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!zx&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},Cv=new RU;function PU(n){return Math.min(1e3*2**n,3e4)}function XI(n){return(n??"online")==="online"?Cv.isOnline():!0}var Tw=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function GI(n){let e=!1,t=0,s;const i=EU(),r=()=>i.status!=="pending",a=v=>{if(!r()){const _=new Tw(v);g(_),n.onCancel?.(_)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>YI.isFocused()&&(n.networkMode==="always"||Cv.isOnline())&&n.canRun(),h=()=>XI(n.networkMode)&&n.canRun(),f=v=>{r()||(s?.(),i.resolve(v))},g=v=>{r()||(s?.(),i.reject(v))},p=()=>new Promise(v=>{s=_=>{(r()||c())&&v(_)},n.onPause?.()}).then(()=>{s=void 0,r()||n.onContinue?.()}),x=()=>{if(r())return;let v;const _=t===0?n.initialPromise:void 0;try{v=_??n.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{if(r())return;const S=n.retry??(zx?0:3),A=n.retryDelay??PU,T=typeof A=="function"?A(t,w):A,N=S===!0||typeof S=="number"&&t<S||typeof S=="function"&&S(t,w);if(e||!N){g(w);return}t++,n.onFail?.(t,w),_U(T).then(()=>c()?void 0:p()).then(()=>{e?g(w):x()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(s?.(),i),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?x():p().then(x),i)}}var $I=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xU(this.gcTime)&&(this.#e=Sw.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(zx?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(Sw.clearTimeout(this.#e),this.#e=void 0)}},IU=class extends $I{#e;#t;#n;#i;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=pE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=pE(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=SU(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>bU(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Aw(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yU(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const s=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},r=()=>{const l=WI(this.options,t),h=(()=>{const f={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(f),f})();return this.#o=!1,this.options.persister?this.options.persister(l,h,this):l(h)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:r};return i(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#r({type:"fetch",meta:o.fetchOptions?.meta}),this.#s=GI({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof Tw&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(l,c)=>{this.#r({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#s.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Tw){if(l.silent)return this.#s.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#r({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...MU(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const r=e.error;return{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),hs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function MU(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XI(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function pE(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function mE(n){return{onFetch:(e,t)=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let h=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},g=WI(e.options,e.fetchOptions),p=async(x,v,_)=>{if(h)return Promise.reject();if(v==null&&x.pages.length)return Promise.resolve(x);const S=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:v,direction:_?"backward":"forward",meta:e.options.meta};return f(O),O})(),A=await g(S),{maxPages:T}=e.options,N=_?CU:AU;return{pages:N(x.pages,A,T),pageParams:N(x.pageParams,v,T)}};if(i&&r.length){const x=i==="backward",v=x?jU:vE,_={pages:r,pageParams:a},w=v(s,_);o=await p(_,w,x)}else{const x=n??r.length;do{const v=l===0?a[0]??s.initialPageParam:vE(s,o);if(l>0&&v==null)break;o=await p(o,v),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=c}}}function vE(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function jU(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var LU=class extends $I{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||OU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=GI({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,a)=>{this.#i({type:"failed",failureCount:r,error:a})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",i=!this.#n.canStart();try{if(s)t();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#i({type:"pending",context:a,variables:e,isPaused:i})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#i({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#i({type:"error",error:r})}}finally{this.#t.runNext(this)}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),hs.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function OU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var DU=class extends Dx{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,t){const s=new LU({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(s),s}add(n){this.#e.add(n);const e=Xp(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Xp(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const s=t.indexOf(n);s!==-1&&t.splice(s,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Xp(n);if(typeof e=="string"){const s=this.#t.get(e)?.find(i=>i.state.status==="pending");return!s||s===n}else return!0}runNext(n){const e=Xp(n);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==n&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hs.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>dE(e,t))}findAll(n={}){return this.getAll().filter(e=>dE(n,e))}notify(n){hs.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return hs.batch(()=>Promise.all(n.map(e=>e.continue().catch(er))))}};function Xp(n){return n.options.scope?.id}var zU=class extends Dx{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const s=e.queryKey,i=e.queryHash??lS(s,e);let r=this.get(i);return r||(r=new IU({client:n,queryKey:s,queryHash:i,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(s)}),this.add(r)),r}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){hs.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>hE(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>hE(n,t)):e}notify(n){hs.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){hs.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){hs.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},FU=class{#e;#t;#n;#i;#s;#a;#o;#r;constructor(n={}){this.#e=n.queryCache||new zU,this.#t=n.mutationCache||new DU,this.#n=n.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=YI.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Cv.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Aw(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=this.#e.get(s.queryHash)?.state.data,a=vU(e,r);if(a!==void 0)return this.#e.build(this,s).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return hs.batch(()=>this.#e.findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;hs.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return hs.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=hs.batch(()=>this.#e.findAll(n).map(i=>i.cancel(t)));return Promise.all(s).then(er).catch(er)}invalidateQueries(n,e={}){return hs.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=hs.batch(()=>this.#e.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,t);return t.throwOnError||(r=r.catch(er)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(s).then(er)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Aw(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(er).catch(er)}fetchInfiniteQuery(n){return n.behavior=mE(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(er).catch(er)}ensureInfiniteQueryData(n){return n.behavior=mE(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Cv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#i.set(Uf(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(s=>{Wf(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){this.#s.set(Uf(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(s=>{Wf(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=lS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cS&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},BU=R.createContext(void 0),VU=({client:n,children:e})=>(R.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(BU.Provider,{value:n,children:e}));const HU=()=>{};var xE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},UU=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=n[t++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=n[t++],a=n[t++],o=n[t++],l=((i&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=n[t++],a=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|a&63)}}return e.join("")},ZI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const r=n[i],a=i+1<n.length,o=a?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,h=r>>2,f=(r&3)<<4|o>>4;let g=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(g=64)),s.push(t[h],t[f],t[g],t[p])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):UU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const r=t[n.charAt(i++)],o=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,r==null||o==null||c==null||f==null)throw new WU;const g=r<<2|o>>4;if(s.push(g),c!==64){const p=o<<4&240|c>>2;if(s.push(p),f!==64){const x=c<<6&192|f;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YU=function(n){const e=qI(n);return ZI.encodeByteArray(e,!0)},Tv=function(n){return YU(n).replace(/\./g,"")},KI=function(n){try{return ZI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=()=>XU().__FIREBASE_DEFAULTS__,$U=()=>{if(typeof process>"u"||typeof xE>"u")return;const n=xE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KI(n[1]);return e&&JSON.parse(e)},Fx=()=>{try{return HU()||GU()||$U()||qU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QI=n=>Fx()?.emulatorHosts?.[n],JI=n=>{const e=QI(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},eM=()=>Fx()?.config,tM=n=>Fx()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZU=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Tv(JSON.stringify(t)),Tv(JSON.stringify(a)),""].join(".")}const hf={};function QU(){const n={prod:[],emulator:[]};for(const e of Object.keys(hf))hf[e]?n.emulator.push(e):n.prod.push(e);return n}function JU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yE=!1;function hS(n,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||hf[n]===e||hf[n]||yE)return;hf[n]=e;function t(g){return`__firebase__banner__${g}`}const s="__firebase__banner",r=QU().prod.length>0;function a(){const g=document.getElementById(s);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,p){g.setAttribute("width","24"),g.setAttribute("id",p),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{yE=!0,a()},g}function h(g,p){g.setAttribute("id",p),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=JU(s),p=t("text"),x=document.getElementById(p)||document.createElement("span"),v=t("learnmore"),_=document.getElementById(v)||document.createElement("a"),w=t("preprendIcon"),S=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;o(A),h(_,v);const T=c();l(S,w),A.append(S,x,_,T),document.body.appendChild(A)}r?(x.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function t9(){const n=Fx()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s9(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function i9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r9(){const n=is();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function a9(){return!t9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o9(){try{return typeof indexedDB=="object"}catch{return!1}}function l9(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="FirebaseError";class qr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=c9,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jg.prototype.create)}}class jg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],a=r?u9(r,s):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new qr(i,o,s)}}function u9(n,e){return n.replace(h9,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const h9=/\{\$([^}]+)}/g;function d9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rc(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const r=n[i],a=e[i];if(bE(r)&&bE(a)){if(!rc(r,a))return!1}else if(r!==a)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function bE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Bd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function f9(n,e){const t=new g9(n,e);return t.subscribe.bind(t)}class g9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let i;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");p9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:s},i.next===void 0&&(i.next=Cb),i.error===void 0&&(i.error=Cb),i.complete===void 0&&(i.complete=Cb);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n){return n&&n._delegate?n._delegate:n}class Yo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new ZU;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x9(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);s===o&&a.resolve(i)}return i}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:v9(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v9(n){return n===Rl?void 0:n}function x9(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new m9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(lt||(lt={}));const b9={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},w9=lt.INFO,_9={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},S9=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=_9[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dS{constructor(e){this.name=e,this._logLevel=w9,this._logHandler=S9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const A9=(n,e)=>e.some(t=>n instanceof t);let wE,_E;function C9(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T9(){return _E||(_E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nM=new WeakMap,Ew=new WeakMap,sM=new WeakMap,Tb=new WeakMap,fS=new WeakMap;function E9(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",r),n.removeEventListener("error",a)},r=()=>{t(Mo(n.result)),i()},a=()=>{s(n.error),i()};n.addEventListener("success",r),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&nM.set(t,n)}).catch(()=>{}),fS.set(e,n),e}function k9(n){if(Ew.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",a),n.removeEventListener("abort",a)},r=()=>{t(),i()},a=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",r),n.addEventListener("error",a),n.addEventListener("abort",a)});Ew.set(n,e)}let kw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ew.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function N9(n){kw=n(kw)}function R9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Eb(this),e,...t);return sM.set(s,e.sort?e.sort():[e]),Mo(s)}:T9().includes(n)?function(...e){return n.apply(Eb(this),e),Mo(nM.get(this))}:function(...e){return Mo(n.apply(Eb(this),e))}}function P9(n){return typeof n=="function"?R9(n):(n instanceof IDBTransaction&&k9(n),A9(n,C9())?new Proxy(n,kw):n)}function Mo(n){if(n instanceof IDBRequest)return E9(n);if(Tb.has(n))return Tb.get(n);const e=P9(n);return e!==n&&(Tb.set(n,e),fS.set(e,n)),e}const Eb=n=>fS.get(n);function I9(n,e,{blocked:t,upgrade:s,blocking:i,terminated:r}={}){const a=indexedDB.open(n,e),o=Mo(a);return s&&a.addEventListener("upgradeneeded",l=>{s(Mo(a.result),l.oldVersion,l.newVersion,Mo(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const M9=["get","getKey","getAll","getAllKeys","count"],j9=["put","add","delete","clear"],kb=new Map;function SE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kb.get(e))return kb.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=j9.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||M9.includes(t)))return;const r=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),i&&l.done]))[0]};return kb.set(e,r),r}N9(n=>({...n,get:(e,t,s)=>SE(e,t)||n.get(e,t,s),has:(e,t)=>!!SE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(O9(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function O9(n){return n.getComponent()?.type==="VERSION"}const Nw="@firebase/app",AE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new dS("@firebase/app"),D9="@firebase/app-compat",z9="@firebase/analytics-compat",F9="@firebase/analytics",B9="@firebase/app-check-compat",V9="@firebase/app-check",H9="@firebase/auth",U9="@firebase/auth-compat",W9="@firebase/database",Y9="@firebase/data-connect",X9="@firebase/database-compat",G9="@firebase/functions",$9="@firebase/functions-compat",q9="@firebase/installations",Z9="@firebase/installations-compat",K9="@firebase/messaging",Q9="@firebase/messaging-compat",J9="@firebase/performance",e8="@firebase/performance-compat",t8="@firebase/remote-config",n8="@firebase/remote-config-compat",s8="@firebase/storage",i8="@firebase/storage-compat",r8="@firebase/firestore",a8="@firebase/ai",o8="@firebase/firestore-compat",l8="firebase",c8="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="[DEFAULT]",u8={[Nw]:"fire-core",[D9]:"fire-core-compat",[F9]:"fire-analytics",[z9]:"fire-analytics-compat",[V9]:"fire-app-check",[B9]:"fire-app-check-compat",[H9]:"fire-auth",[U9]:"fire-auth-compat",[W9]:"fire-rtdb",[Y9]:"fire-data-connect",[X9]:"fire-rtdb-compat",[G9]:"fire-fn",[$9]:"fire-fn-compat",[q9]:"fire-iid",[Z9]:"fire-iid-compat",[K9]:"fire-fcm",[Q9]:"fire-fcm-compat",[J9]:"fire-perf",[e8]:"fire-perf-compat",[t8]:"fire-rc",[n8]:"fire-rc-compat",[s8]:"fire-gcs",[i8]:"fire-gcs-compat",[r8]:"fire-fst",[o8]:"fire-fst-compat",[a8]:"fire-vertex","fire-js":"fire-js",[l8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,h8=new Map,Pw=new Map;function CE(n,e){try{n.container.addComponent(e)}catch(t){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ac(n){const e=n.name;if(Pw.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;Pw.set(e,n);for(const t of Yf.values())CE(t,n);for(const t of h8.values())CE(t,n);return!0}function Bx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Is(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new jg("app","Firebase",d8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=c8;function iM(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Rw,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw jo.create("bad-app-name",{appName:String(i)});if(t||(t=eM()),!t)throw jo.create("no-options");const r=Yf.get(i);if(r){if(rc(t,r.options)&&rc(s,r.config))return r;throw jo.create("duplicate-app",{appName:i})}const a=new y9(i);for(const l of Pw.values())a.addComponent(l);const o=new f8(t,s,a);return Yf.set(i,o),o}function gS(n=Rw){const e=Yf.get(n);if(!e&&n===Rw&&eM())return iM();if(!e)throw jo.create("no-app",{appName:n});return e}function TE(){return Array.from(Yf.values())}function Dr(n,e,t){let s=u8[n]??n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(a.join(" "));return}ac(new Yo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="firebase-heartbeat-database",p8=1,Xf="firebase-heartbeat-store";let Nb=null;function rM(){return Nb||(Nb=I9(g8,p8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xf)}catch(t){console.warn(t)}}}}).catch(n=>{throw jo.create("idb-open",{originalErrorMessage:n.message})})),Nb}async function m8(n){try{const t=(await rM()).transaction(Xf),s=await t.objectStore(Xf).get(aM(n));return await t.done,s}catch(e){if(e instanceof qr)Fa.warn(e.message);else{const t=jo.create("idb-get",{originalErrorMessage:e?.message});Fa.warn(t.message)}}}async function EE(n,e){try{const s=(await rM()).transaction(Xf,"readwrite");await s.objectStore(Xf).put(e,aM(n)),await s.done}catch(t){if(t instanceof qr)Fa.warn(t.message);else{const s=jo.create("idb-set",{originalErrorMessage:t?.message});Fa.warn(s.message)}}}function aM(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=1024,x8=30;class y8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w8(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>x8){const i=_8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kE(),{heartbeatsToSend:t,unsentEntries:s}=b8(this._heartbeatsCache.heartbeats),i=Tv(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fa.warn(e),""}}}function kE(){return new Date().toISOString().substring(0,10)}function b8(n,e=v8){const t=[];let s=n.slice();for(const i of n){const r=t.find(a=>a.agent===i.agent);if(r){if(r.dates.push(i.date),NE(t)>e){r.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),NE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class w8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o9()?l9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await m8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NE(n){return Tv(JSON.stringify({version:2,heartbeats:n})).length}function _8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(n){ac(new Yo("platform-logger",e=>new L9(e),"PRIVATE")),ac(new Yo("heartbeat",e=>new y8(e),"PRIVATE")),Dr(Nw,AE,n),Dr(Nw,AE,"esm2020"),Dr("fire-js","")}S8("");function oM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A8=oM,lM=new jg("auth","Firebase",oM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new dS("@firebase/auth");function C8(n,...e){Ev.logLevel<=lt.WARN&&Ev.warn(`Auth (${Oh}): ${n}`,...e)}function Am(n,...e){Ev.logLevel<=lt.ERROR&&Ev.error(`Auth (${Oh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(n,...e){throw mS(n,...e)}function lr(n,...e){return mS(n,...e)}function pS(n,e,t){const s={...A8(),[e]:t};return new jg("auth","Firebase",s).create(e,{appName:n.name})}function Pa(n){return pS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T8(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Hi(n,"argument-error"),pS(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mS(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return lM.create(n,...e)}function Be(n,e,...t){if(!n)throw mS(e,...t)}function Ta(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Am(e),new Error(e)}function Ba(n,e){n||Ta(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof self<"u"&&self.location?.href||""}function E8(){return RE()==="http:"||RE()==="https:"}function RE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E8()||s9()||"connection"in navigator)?navigator.onLine:!0}function N8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ba(t>e,"Short delay should be less than long delay!"),this.isMobile=e9()||i9()}get(){return k8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n,e){Ba(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I8=new Og(3e4,6e4);function Wa(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Zr(n,e,t,s,i={}){return uM(n,i,async()=>{let r={},a={};s&&(e==="GET"?a=s:r={body:JSON.stringify(s)});const o=Lg({key:n.config.apiKey,...a}).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c={method:e,headers:l,...r};return n9()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&sl(n.emulatorConfig.host)&&(c.credentials="include"),cM.fetch()(await hM(n,n.config.apiHost,t,o),c)})}async function uM(n,e,t){n._canInitEmulator=!1;const s={...R8,...e};try{const i=new j8(n),r=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Gp(n,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gp(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Gp(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw Gp(n,"user-disabled",a);const h=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pS(n,h,c);Hi(n,h)}}catch(i){if(i instanceof qr)throw i;Hi(n,"network-request-failed",{message:String(i)})}}async function Dg(n,e,t,s,i={}){const r=await Zr(n,e,t,s,i);return"mfaPendingCredential"in r&&Hi(n,"multi-factor-auth-required",{_serverResponse:r}),r}async function hM(n,e,t,s){const i=`${e}${t}?${s}`,r=n,a=r.config.emulator?vS(n.config,i):`${n.config.apiScheme}://${i}`;return P8.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function M8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),I8.get())})}}function Gp(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const i=lr(n,e,s);return i.customData._tokenResponse=t,i}function PE(n){return n!==void 0&&n.enterprise!==void 0}class L8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return M8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O8(n,e){return Zr(n,"GET","/v2/recaptchaConfig",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(n,e){return Zr(n,"POST","/v1/accounts:delete",e)}async function kv(n,e){return Zr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z8(n,e=!1){const t=Xn(n),s=await t.getIdToken(e),i=xS(s);Be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,a=r?.sign_in_provider;return{claims:i,token:s,authTime:df(Rb(i.auth_time)),issuedAtTime:df(Rb(i.iat)),expirationTime:df(Rb(i.exp)),signInProvider:a||null,signInSecondFactor:r?.sign_in_second_factor||null}}function Rb(n){return Number(n)*1e3}function xS(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Am("JWT malformed, contained fewer than 3 sections"),null;try{const i=KI(t);return i?JSON.parse(i):(Am("Failed to decode base64 JWT payload"),null)}catch(i){return Am("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IE(n){const e=xS(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof qr&&F8(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function F8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=df(this.lastLoginAt),this.creationTime=df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(n){const e=n.auth,t=await n.getIdToken(),s=await ch(n,kv(e,{idToken:t}));Be(s?.users.length,e,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const r=i.providerUserInfo?.length?dM(i.providerUserInfo):[],a=H8(n.providerData,r),o=n.isAnonymous,l=!(n.email&&i.passwordHash)&&!a?.length,c=o?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Mw(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(n,h)}async function V8(n){const e=Xn(n);await Nv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H8(n,e){return[...n.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function dM(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(n,e){const t=await uM(n,{},async()=>{const s=Lg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=n.config,a=await hM(n,i,"/v1/token",`key=${r}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:s};return n.emulatorConfig&&sl(n.emulatorConfig.host)&&(l.credentials="include"),cM.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function W8(n,e){return Zr(n,"POST","/v2/accounts:revokeToken",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const t=IE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:i,expiresIn:r}=await U8(e,t);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:i,expirationTime:r}=t,a=new Uu;return s&&(Be(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),i&&(Be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),r&&(Be(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return Ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:t,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new B8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ch(this,this.stsTokenManager.getToken(this.auth,e));return Be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z8(this,e)}reload(){return V8(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Nv(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Is(this.auth.app))return Promise.reject(Pa(this.auth));const e=await this.getIdToken();return await ch(this,D8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,i=t.email??void 0,r=t.phoneNumber??void 0,a=t.photoURL??void 0,o=t.tenantId??void 0,l=t._redirectEventId??void 0,c=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:p,providerData:x,stsTokenManager:v}=t;Be(f&&v,e,"internal-error");const _=Uu.fromJSON(this.name,v);Be(typeof f=="string",e,"internal-error"),so(s,e.name),so(i,e.name),Be(typeof g=="boolean",e,"internal-error"),Be(typeof p=="boolean",e,"internal-error"),so(r,e.name),so(a,e.name),so(o,e.name),so(l,e.name),so(c,e.name),so(h,e.name);const w=new sr({uid:f,auth:e,email:i,emailVerified:g,displayName:s,isAnonymous:p,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:_,createdAt:c,lastLoginAt:h});return x&&Array.isArray(x)&&(w.providerData=x.map(S=>({...S}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,t,s=!1){const i=new Uu;i.updateFromServerResponse(t);const r=new sr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Nv(r),r}static async _fromGetAccountInfoResponse(e,t,s){const i=t.users[0];Be(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?dM(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!r?.length,o=new Uu;o.updateFromIdToken(s);const l=new sr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Mw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!r?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function Ea(n){Ba(n instanceof Function,"Expected a class definition");let e=ME.get(n);return e?(Ba(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ME.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fM.type="NONE";const jE=fM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e,t){return`firebase:${n}:${e}:${t}`}class Wu{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Cm(this.userKey,i.apiKey,r),this.fullPersistenceKey=Cm("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kv(this.auth,{idToken:e}).catch(()=>{});return t?sr._fromGetAccountInfoResponse(this.auth,t,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Wu(Ea(jE),e,s);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||Ea(jE);const a=Cm(s,e.config.apiKey,e.name);let o=null;for(const c of t)try{const h=await c._get(a);if(h){let f;if(typeof h=="string"){const g=await kv(e,{idToken:h}).catch(()=>{});if(!g)break;f=await sr._fromGetAccountInfoResponse(e,g,h)}else f=sr._fromJSON(e,h);c!==r&&(o=f),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Wu(r,e,s):(r=l[0],o&&await r._set(a,o.toJSON()),await Promise.all(t.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new Wu(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yM(e))return"Blackberry";if(bM(e))return"Webos";if(pM(e))return"Safari";if((e.includes("chrome/")||mM(e))&&!e.includes("edge/"))return"Chrome";if(xM(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function gM(n=is()){return/firefox\//i.test(n)}function pM(n=is()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mM(n=is()){return/crios\//i.test(n)}function vM(n=is()){return/iemobile/i.test(n)}function xM(n=is()){return/android/i.test(n)}function yM(n=is()){return/blackberry/i.test(n)}function bM(n=is()){return/webos/i.test(n)}function yS(n=is()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Y8(n=is()){return yS(n)&&!!window.navigator?.standalone}function X8(){return r9()&&document.documentMode===10}function wM(n=is()){return yS(n)||xM(n)||bM(n)||yM(n)||/windows phone/i.test(n)||vM(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n,e=[]){let t;switch(n){case"Browser":t=LE(is());break;case"Worker":t=`${LE(is())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oh}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=r=>new Promise((a,o)=>{try{const l=e(r);a(l)}catch(l){o(l)}});s.onAbort=t,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(n,e={}){return Zr(n,"GET","/v2/passwordPolicy",Wa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=6;class Z8{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??q8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,t,s,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new G8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ea(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kv(this,{idToken:e}),s=await sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Is(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(a,a))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=this.redirectUser?._redirectEventId,a=s?._redirectEventId,o=await this.tryRedirectSignIn(e);(!r||r===a)&&o?.user&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(r){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nv(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Is(this.app))return Promise.reject(Pa(this));const t=e?Xn(e):null;return t&&Be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Is(this.app)?Promise.reject(Pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Is(this.app)?Promise.reject(Pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $8(this),t=new Z8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jg("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await W8(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ea(e)||this._popupRedirectResolver;Be(t,this,"argument-error"),this.redirectPersistenceManager=await Wu.create(this,[Ea(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,i){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,s,i);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_M(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&C8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ya(n){return Xn(n)}class OE{constructor(e){this.auth=e,this.observer=null,this.addObserver=f9(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q8(n){Vx=n}function SM(n){return Vx.loadJS(n)}function J8(){return Vx.recaptchaEnterpriseScript}function e7(){return Vx.gapiScript}function t7(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class n7{constructor(){this.enterprise=new s7}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class s7{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const i7="recaptcha-enterprise",AM="NO_RECAPTCHA";class r7{constructor(e){this.type=i7,this.auth=Ya(e)}async verify(e="verify",t=!1){async function s(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{O8(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new L8(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(r,a,o){const l=window.grecaptcha;PE(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{a(c)}).catch(()=>{a(AM)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n7().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{s(this.auth).then(o=>{if(!t&&PE(window.grecaptcha))i(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=J8();l.length!==0&&(l+=o),SM(l).then(()=>{i(o,r,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function DE(n,e,t,s=!1,i=!1){const r=new r7(n);let a;if(i)a=AM;else try{a=await r.verify(t)}catch{a=await r.verify(t,!0)}const o={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Rv(n,e,t,s,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await DE(n,e,t,t==="getOobCode");return s(n,r)}else return s(n,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await DE(n,e,t,t==="getOobCode");return s(n,a)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(n,e){const t=Bx(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),r=t.getOptions();if(rc(r,e??{}))return i;Hi(i,"already-initialized")}return t.initialize({options:e})}function o7(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ea);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function l7(n,e,t){const s=Ya(n);Be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=CM(e),{host:a,port:o}=c7(e),l=o===null?"":`:${o}`,c={url:`${r}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Be(rc(c,s.config.emulator)&&rc(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=c,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,sl(a)?(uS(`${r}//${a}${l}`),hS("Auth",!0)):u7()}function CM(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c7(n){const e=CM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:zE(s.substr(r.length+1))}}else{const[r,a]=s.split(":");return{host:r,port:zE(a)}}}function zE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function u7(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ta("not implemented")}_getIdTokenResponse(e){return Ta("not implemented")}_linkToIdToken(e,t){return Ta("not implemented")}_getReauthenticationResolver(e){return Ta("not implemented")}}async function h7(n,e){return Zr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(n,e){return Dg(n,"POST","/v1/accounts:signInWithPassword",Wa(n,e))}async function f7(n,e){return Zr(n,"POST","/v1/accounts:sendOobCode",Wa(n,e))}async function g7(n,e){return f7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(n,e){return Dg(n,"POST","/v1/accounts:signInWithEmailLink",Wa(n,e))}async function m7(n,e){return Dg(n,"POST","/v1/accounts:signInWithEmailLink",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends bS{constructor(e,t,s,i=null){super("password",s),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Gf(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Gf(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rv(e,t,"signInWithPassword",d7);case"emailLink":return p7(e,{email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rv(e,s,"signUpPassword",h7);case"emailLink":return m7(e,{idToken:t,email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(n,e){return Dg(n,"POST","/v1/accounts:signInWithIdp",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7="http://localhost";class oc extends bS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=t;if(!s||!i)return null;const a=new oc(s,i);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Yu(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Yu(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yu(e,t)}buildRequest(){const e={requestUri:v7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y7(n){const e=Fd(Bd(n)).link,t=e?Fd(Bd(e)).deep_link_id:null,s=Fd(Bd(n)).deep_link_id;return(s?Fd(Bd(s)).link:null)||s||t||e||n}class wS{constructor(e){const t=Fd(Bd(e)),s=t.apiKey??null,i=t.oobCode??null,r=x7(t.mode??null);Be(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=y7(e);try{return new wS(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.providerId=Dh.PROVIDER_ID}static credential(e,t){return Gf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=wS.parseLink(t);return Be(s,"argument-error"),Gf._fromEmailAndCode(e,s.code,s.tenantId)}}Dh.PROVIDER_ID="password";Dh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends _S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends zg{constructor(){super("facebook.com")}static credential(e){return oc._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends zg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oc._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ba.credential(t,s)}catch{return null}}}ba.GOOGLE_SIGN_IN_METHOD="google.com";ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends zg{constructor(){super("github.com")}static credential(e){return oc._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends zg{constructor(){super("twitter.com")}static credential(e,t){return oc._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return vo.credential(t,s)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(n,e){return Dg(n,"POST","/v1/accounts:signUp",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,i=!1){const r=await sr._fromIdTokenResponse(e,s,i),a=FE(s);return new lc({user:r,providerId:a,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const i=FE(s);return new lc({user:e,providerId:i,_tokenResponse:s,operationType:t})}}function FE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends qr{constructor(e,t,s,i){super(t.code,t.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Pv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,i){return new Pv(e,t,s,i)}}function TM(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Pv._fromErrorAndOperation(n,r,e,s):r})}async function w7(n,e,t=!1){const s=await ch(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return lc._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(n,e,t=!1){const{auth:s}=n;if(Is(s.app))return Promise.reject(Pa(s));const i="reauthenticate";try{const r=await ch(n,TM(s,i,e,n),t);Be(r.idToken,s,"internal-error");const a=xS(r.idToken);Be(a,s,"internal-error");const{sub:o}=a;return Be(n.uid===o,s,"user-mismatch"),lc._forOperation(n,i,r)}catch(r){throw r?.code==="auth/user-not-found"&&Hi(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(n,e,t=!1){if(Is(n.app))return Promise.reject(Pa(n));const s="signIn",i=await TM(n,s,e),r=await lc._fromIdTokenResponse(n,s,i);return t||await n._updateCurrentUser(r.user),r}async function S7(n,e){return EM(Ya(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(n){const e=Ya(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A7(n,e,t){const s=Ya(n);await Rv(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g7)}async function C7(n,e,t){if(Is(n.app))return Promise.reject(Pa(n));const s=Ya(n),a=await Rv(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&kM(n),l}),o=await lc._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(o.user),o}function T7(n,e,t){return Is(n.app)?Promise.reject(Pa(n)):S7(Xn(n),Dh.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kM(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(n,e){return Zr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Xn(n),r={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await ch(s,E7(s.auth,r));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const o=s.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=s.displayName,o.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function N7(n,e,t,s){return Xn(n).onIdTokenChanged(e,t,s)}function R7(n,e,t){return Xn(n).beforeAuthStateChanged(e,t)}function P7(n,e,t,s){return Xn(n).onAuthStateChanged(e,t,s)}function I7(n){return Xn(n).signOut()}const Iv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Iv,"1"),this.storage.removeItem(Iv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=1e3,j7=10;class RM extends NM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),i=this.localCache[t];s!==i&&e(t,i,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const s=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(s);!t&&this.localCache[s]===a||this.notifyListeners(s,a)},r=this.storage.getItem(s);X8()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j7):i()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},M7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RM.type="LOCAL";const L7=RM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM extends NM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PM.type="SESSION";const IM=PM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const s=new Hx(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:i,data:r}=t.data,a=this.handlersMap[i];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const o=Array.from(a).map(async c=>c(t.origin,r)),l=await O7(o);t.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,a;return new Promise((o,l)=>{const c=SS("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},s);a={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(g.data.response);break;default:clearTimeout(h),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function z7(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function F7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B7(){return navigator?.serviceWorker?.controller||null}function V7(){return MM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="firebaseLocalStorageDb",H7=1,Mv="firebaseLocalStorage",LM="fbase_key";class Fg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ux(n,e){return n.transaction([Mv],e?"readwrite":"readonly").objectStore(Mv)}function U7(){const n=indexedDB.deleteDatabase(jM);return new Fg(n).toPromise()}function jw(){const n=indexedDB.open(jM,H7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Mv,{keyPath:LM})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Mv)?e(s):(s.close(),await U7(),e(await jw()))})})}async function BE(n,e,t){const s=Ux(n,!0).put({[LM]:e,value:t});return new Fg(s).toPromise()}async function W7(n,e){const t=Ux(n,!1).get(e),s=await new Fg(t).toPromise();return s===void 0?null:s.value}function VE(n,e){const t=Ux(n,!0).delete(e);return new Fg(t).toPromise()}const Y7=800,X7=3;class OM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>X7)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hx._getInstance(V7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F7(),!this.activeServiceWorker)return;this.sender=new D7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jw();return await BE(e,Iv,"1"),await VE(e,Iv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>BE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>W7(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>VE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Ux(i,!1).getAll();return new Fg(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OM.type="LOCAL";const G7=OM;new Og(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n,e){return e?Ea(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends bS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $7(n){return EM(n.auth,new AS(n),n.bypassAuthState)}function q7(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),_7(t,new AS(n),n.bypassAuthState)}async function Z7(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),w7(t,new AS(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:i,tenantId:r,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $7;case"linkViaPopup":case"linkViaRedirect":return Z7;case"reauthViaPopup":case"reauthViaRedirect":return q7;default:Hi(this.auth,"internal-error")}}resolve(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=new Og(2e3,1e4);async function Q7(n,e,t){if(Is(n.app))return Promise.reject(lr(n,"operation-not-supported-in-this-environment"));const s=Ya(n);T8(n,e,_S);const i=DM(s,t);return new Ol(s,"signInViaPopup",e,i).executeNotNull()}class Ol extends zM{constructor(e,t,s,i,r){super(e,t,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Ba(this.filter.length===1,"Popup operations only handle one event");const e=SS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K7.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="pendingRedirect",Tm=new Map;class eW extends zM{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Tm.get(this.auth._key());if(!e){try{const s=await tW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Tm.set(this.auth._key(),e)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tW(n,e){const t=iW(e),s=sW(n);if(!await s._isAvailable())return!1;const i=await s._get(t)==="true";return await s._remove(t),i}function nW(n,e){Tm.set(n._key(),e)}function sW(n){return Ea(n._redirectPersistence)}function iW(n){return Cm(J7,n.config.apiKey,n.name)}async function rW(n,e,t=!1){if(Is(n.app))return Promise.reject(Pa(n));const s=Ya(n),i=DM(s,e),a=await new eW(s,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=10*60*1e3;class oW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!FM(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(lr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aW&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function lW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FM(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(n,e={}){return Zr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hW=/^https?/;async function dW(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cW(n);for(const t of e)try{if(fW(t))return}catch{}Hi(n,"unauthorized-domain")}function fW(n){const e=Iw(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===s}if(!hW.test(t))return!1;if(uW.test(n))return s===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=new Og(3e4,6e4);function UE(){const n=zr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pW(n){return new Promise((e,t)=>{function s(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),t(lr(n,"network-request-failed"))},timeout:gW.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)s();else{const i=t7("iframefcb");return zr()[i]=()=>{gapi.load?s():t(lr(n,"network-request-failed"))},SM(`${e7()}?onload=${i}`).catch(r=>t(r))}}).catch(e=>{throw Em=null,e})}let Em=null;function mW(n){return Em=Em||pW(n),Em}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=new Og(5e3,15e3),xW="__/auth/iframe",yW="emulator/auth/iframe",bW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _W(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vS(e,yW):`https://${n.config.authDomain}/${xW}`,s={apiKey:e.apiKey,appName:n.name,v:Oh},i=wW.get(n.config.apiHost);i&&(s.eid=i);const r=n._getFrameworks();return r.length&&(s.fw=r.join(",")),`${t}?${Lg(s).slice(1)}`}async function SW(n){const e=await mW(n),t=zr().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:_W(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bW,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const a=lr(n,"network-request-failed"),o=zr().setTimeout(()=>{r(a)},vW.get());function l(){zr().clearTimeout(o),i(s)}s.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CW=500,TW=600,EW="_blank",kW="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NW(n,e,t,s=CW,i=TW){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let o="";const l={...AW,width:s.toString(),height:i.toString(),top:r,left:a},c=is().toLowerCase();t&&(o=mM(c)?EW:t),gM(c)&&(e=e||kW,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[p,x])=>`${g}${p}=${x},`,"");if(Y8(c)&&o!=="_self")return RW(e||"",o),new WE(null);const f=window.open(e||"",o,h);Be(f,n,"popup-blocked");try{f.focus()}catch{}return new WE(f)}function RW(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW="__/auth/handler",IW="emulator/auth/handler",MW=encodeURIComponent("fac");async function YE(n,e,t,s,i,r){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Oh,eventId:i};if(e instanceof _S){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",d9(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof zg){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await n._getAppCheckToken(),c=l?`#${MW}=${encodeURIComponent(l)}`:"";return`${jW(n)}?${Lg(o).slice(1)}${c}`}function jW({config:n}){return n.emulator?vS(n,IW):`https://${n.authDomain}/${PW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="webStorageSupport";class LW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IM,this._completeRedirectFn=rW,this._overrideRedirectResult=nW}async _openPopup(e,t,s,i){Ba(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const r=await YE(e,t,s,Iw(),i);return NW(e,r,SS())}async _openRedirect(e,t,s,i){await this._originValidation(e);const r=await YE(e,t,s,Iw(),i);return z7(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:r}=this.eventManagers[t];return i?Promise.resolve(i):(Ba(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await SW(e),s=new oW(e);return t.register("authEvent",i=>(Be(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pb,{type:Pb},i=>{const r=i?.[0]?.[Pb];r!==void 0&&t(!!r),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dW(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wM()||pM()||yS()}}const OW=LW;var XE="@firebase/auth",GE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FW(n){ac(new Yo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=s.options;Be(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_M(n)},c=new K8(s,i,r,l);return o7(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ac(new Yo("auth-internal",e=>{const t=Ya(e.getProvider("auth").getImmediate());return(s=>new DW(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(XE,GE,zW(n)),Dr(XE,GE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=5*60,VW=tM("authIdTokenMaxAge")||BW;let $E=null;const HW=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>VW)return;const i=t?.token;$E!==i&&($E=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UW(n=gS()){const e=Bx(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a7(n,{popupRedirectResolver:OW,persistence:[G7,L7,IM]}),s=tM("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const a=HW(r.toString());R7(t,a,()=>a(t.currentUser)),N7(t,o=>a(o))}}const i=QI("auth");return i&&l7(t,`http://${i}`),t}function WW(){return document.getElementsByTagName("head")?.[0]??document}Q8({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=i=>{const r=lr("internal-error");r.customData=i,t(r)},s.type="text/javascript",s.charset="UTF-8",WW().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FW("Browser");var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lo,BM;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,k){function M(){}M.prototype=k.prototype,C.F=k.prototype,C.prototype=new M,C.prototype.constructor=C,C.D=function(I,D,F){for(var V=Array(arguments.length-2),G=2;G<arguments.length;G++)V[G-2]=arguments[G];return k.prototype[D].apply(I,V)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,k,M){M||(M=0);const I=Array(16);if(typeof k=="string")for(var D=0;D<16;++D)I[D]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(D=0;D<16;++D)I[D]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=C.g[0],M=C.g[1],D=C.g[2];let F=C.g[3],V;V=k+(F^M&(D^F))+I[0]+3614090360&4294967295,k=M+(V<<7&4294967295|V>>>25),V=F+(D^k&(M^D))+I[1]+3905402710&4294967295,F=k+(V<<12&4294967295|V>>>20),V=D+(M^F&(k^M))+I[2]+606105819&4294967295,D=F+(V<<17&4294967295|V>>>15),V=M+(k^D&(F^k))+I[3]+3250441966&4294967295,M=D+(V<<22&4294967295|V>>>10),V=k+(F^M&(D^F))+I[4]+4118548399&4294967295,k=M+(V<<7&4294967295|V>>>25),V=F+(D^k&(M^D))+I[5]+1200080426&4294967295,F=k+(V<<12&4294967295|V>>>20),V=D+(M^F&(k^M))+I[6]+2821735955&4294967295,D=F+(V<<17&4294967295|V>>>15),V=M+(k^D&(F^k))+I[7]+4249261313&4294967295,M=D+(V<<22&4294967295|V>>>10),V=k+(F^M&(D^F))+I[8]+1770035416&4294967295,k=M+(V<<7&4294967295|V>>>25),V=F+(D^k&(M^D))+I[9]+2336552879&4294967295,F=k+(V<<12&4294967295|V>>>20),V=D+(M^F&(k^M))+I[10]+4294925233&4294967295,D=F+(V<<17&4294967295|V>>>15),V=M+(k^D&(F^k))+I[11]+2304563134&4294967295,M=D+(V<<22&4294967295|V>>>10),V=k+(F^M&(D^F))+I[12]+1804603682&4294967295,k=M+(V<<7&4294967295|V>>>25),V=F+(D^k&(M^D))+I[13]+4254626195&4294967295,F=k+(V<<12&4294967295|V>>>20),V=D+(M^F&(k^M))+I[14]+2792965006&4294967295,D=F+(V<<17&4294967295|V>>>15),V=M+(k^D&(F^k))+I[15]+1236535329&4294967295,M=D+(V<<22&4294967295|V>>>10),V=k+(D^F&(M^D))+I[1]+4129170786&4294967295,k=M+(V<<5&4294967295|V>>>27),V=F+(M^D&(k^M))+I[6]+3225465664&4294967295,F=k+(V<<9&4294967295|V>>>23),V=D+(k^M&(F^k))+I[11]+643717713&4294967295,D=F+(V<<14&4294967295|V>>>18),V=M+(F^k&(D^F))+I[0]+3921069994&4294967295,M=D+(V<<20&4294967295|V>>>12),V=k+(D^F&(M^D))+I[5]+3593408605&4294967295,k=M+(V<<5&4294967295|V>>>27),V=F+(M^D&(k^M))+I[10]+38016083&4294967295,F=k+(V<<9&4294967295|V>>>23),V=D+(k^M&(F^k))+I[15]+3634488961&4294967295,D=F+(V<<14&4294967295|V>>>18),V=M+(F^k&(D^F))+I[4]+3889429448&4294967295,M=D+(V<<20&4294967295|V>>>12),V=k+(D^F&(M^D))+I[9]+568446438&4294967295,k=M+(V<<5&4294967295|V>>>27),V=F+(M^D&(k^M))+I[14]+3275163606&4294967295,F=k+(V<<9&4294967295|V>>>23),V=D+(k^M&(F^k))+I[3]+4107603335&4294967295,D=F+(V<<14&4294967295|V>>>18),V=M+(F^k&(D^F))+I[8]+1163531501&4294967295,M=D+(V<<20&4294967295|V>>>12),V=k+(D^F&(M^D))+I[13]+2850285829&4294967295,k=M+(V<<5&4294967295|V>>>27),V=F+(M^D&(k^M))+I[2]+4243563512&4294967295,F=k+(V<<9&4294967295|V>>>23),V=D+(k^M&(F^k))+I[7]+1735328473&4294967295,D=F+(V<<14&4294967295|V>>>18),V=M+(F^k&(D^F))+I[12]+2368359562&4294967295,M=D+(V<<20&4294967295|V>>>12),V=k+(M^D^F)+I[5]+4294588738&4294967295,k=M+(V<<4&4294967295|V>>>28),V=F+(k^M^D)+I[8]+2272392833&4294967295,F=k+(V<<11&4294967295|V>>>21),V=D+(F^k^M)+I[11]+1839030562&4294967295,D=F+(V<<16&4294967295|V>>>16),V=M+(D^F^k)+I[14]+4259657740&4294967295,M=D+(V<<23&4294967295|V>>>9),V=k+(M^D^F)+I[1]+2763975236&4294967295,k=M+(V<<4&4294967295|V>>>28),V=F+(k^M^D)+I[4]+1272893353&4294967295,F=k+(V<<11&4294967295|V>>>21),V=D+(F^k^M)+I[7]+4139469664&4294967295,D=F+(V<<16&4294967295|V>>>16),V=M+(D^F^k)+I[10]+3200236656&4294967295,M=D+(V<<23&4294967295|V>>>9),V=k+(M^D^F)+I[13]+681279174&4294967295,k=M+(V<<4&4294967295|V>>>28),V=F+(k^M^D)+I[0]+3936430074&4294967295,F=k+(V<<11&4294967295|V>>>21),V=D+(F^k^M)+I[3]+3572445317&4294967295,D=F+(V<<16&4294967295|V>>>16),V=M+(D^F^k)+I[6]+76029189&4294967295,M=D+(V<<23&4294967295|V>>>9),V=k+(M^D^F)+I[9]+3654602809&4294967295,k=M+(V<<4&4294967295|V>>>28),V=F+(k^M^D)+I[12]+3873151461&4294967295,F=k+(V<<11&4294967295|V>>>21),V=D+(F^k^M)+I[15]+530742520&4294967295,D=F+(V<<16&4294967295|V>>>16),V=M+(D^F^k)+I[2]+3299628645&4294967295,M=D+(V<<23&4294967295|V>>>9),V=k+(D^(M|~F))+I[0]+4096336452&4294967295,k=M+(V<<6&4294967295|V>>>26),V=F+(M^(k|~D))+I[7]+1126891415&4294967295,F=k+(V<<10&4294967295|V>>>22),V=D+(k^(F|~M))+I[14]+2878612391&4294967295,D=F+(V<<15&4294967295|V>>>17),V=M+(F^(D|~k))+I[5]+4237533241&4294967295,M=D+(V<<21&4294967295|V>>>11),V=k+(D^(M|~F))+I[12]+1700485571&4294967295,k=M+(V<<6&4294967295|V>>>26),V=F+(M^(k|~D))+I[3]+2399980690&4294967295,F=k+(V<<10&4294967295|V>>>22),V=D+(k^(F|~M))+I[10]+4293915773&4294967295,D=F+(V<<15&4294967295|V>>>17),V=M+(F^(D|~k))+I[1]+2240044497&4294967295,M=D+(V<<21&4294967295|V>>>11),V=k+(D^(M|~F))+I[8]+1873313359&4294967295,k=M+(V<<6&4294967295|V>>>26),V=F+(M^(k|~D))+I[15]+4264355552&4294967295,F=k+(V<<10&4294967295|V>>>22),V=D+(k^(F|~M))+I[6]+2734768916&4294967295,D=F+(V<<15&4294967295|V>>>17),V=M+(F^(D|~k))+I[13]+1309151649&4294967295,M=D+(V<<21&4294967295|V>>>11),V=k+(D^(M|~F))+I[4]+4149444226&4294967295,k=M+(V<<6&4294967295|V>>>26),V=F+(M^(k|~D))+I[11]+3174756917&4294967295,F=k+(V<<10&4294967295|V>>>22),V=D+(k^(F|~M))+I[2]+718787259&4294967295,D=F+(V<<15&4294967295|V>>>17),V=M+(F^(D|~k))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+F&4294967295}s.prototype.v=function(C,k){k===void 0&&(k=C.length);const M=k-this.blockSize,I=this.C;let D=this.h,F=0;for(;F<k;){if(D==0)for(;F<=M;)i(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<k;)if(I[D++]=C.charCodeAt(F++),D==this.blockSize){i(this,I),D=0;break}}else for(;F<k;)if(I[D++]=C[F++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=k},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;k=this.o*8;for(var M=C.length-8;M<C.length;++M)C[M]=k&255,k/=256;for(this.v(C),C=Array(16),k=0,M=0;M<4;++M)for(let I=0;I<32;I+=8)C[k++]=this.g[M]>>>I&255;return C};function r(C,k){var M=o;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=k(C)}function a(C,k){this.h=k;const M=[];let I=!0;for(let D=C.length-1;D>=0;D--){const F=C[D]|0;I&&F==k||(M[D]=F,I=!1)}this.g=M}var o={};function l(C){return-128<=C&&C<128?r(C,function(k){return new a([k|0],k<0?-1:0)}):new a([C|0],C<0?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return _(c(-C));const k=[];let M=1;for(let I=0;C>=M;I++)k[I]=C/M|0,M*=4294967296;return new a(k,0)}function h(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return _(h(C.substring(1),k));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=c(Math.pow(k,8));let I=f;for(let F=0;F<C.length;F+=8){var D=Math.min(8,C.length-F);const V=parseInt(C.substring(F,F+D),k);D<8?(D=c(Math.pow(k,D)),I=I.j(D).add(c(V))):(I=I.j(M),I=I.add(c(V)))}return I}var f=l(0),g=l(1),p=l(16777216);n=a.prototype,n.m=function(){if(v(this))return-_(this).m();let C=0,k=1;for(let M=0;M<this.g.length;M++){const I=this.i(M);C+=(I>=0?I:4294967296+I)*k,k*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(v(this))return"-"+_(this).toString(C);const k=c(Math.pow(C,6));var M=this;let I="";for(;;){const D=T(M,k).g;M=w(M,D.j(k));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(C);if(M=D,x(M))return F+I;for(;F.length<6;)F="0"+F;I=F+I}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function v(C){return C.h==-1}n.l=function(C){return C=w(this,C),v(C)?-1:x(C)?0:1};function _(C){const k=C.g.length,M=[];for(let I=0;I<k;I++)M[I]=~C.g[I];return new a(M,~C.h).add(g)}n.abs=function(){return v(this)?_(this):this},n.add=function(C){const k=Math.max(this.g.length,C.g.length),M=[];let I=0;for(let D=0;D<=k;D++){let F=I+(this.i(D)&65535)+(C.i(D)&65535),V=(F>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);I=V>>>16,F&=65535,V&=65535,M[D]=V<<16|F}return new a(M,M[M.length-1]&-2147483648?-1:0)};function w(C,k){return C.add(_(k))}n.j=function(C){if(x(this)||x(C))return f;if(v(this))return v(C)?_(this).j(_(C)):_(_(this).j(C));if(v(C))return _(this.j(_(C)));if(this.l(p)<0&&C.l(p)<0)return c(this.m()*C.m());const k=this.g.length+C.g.length,M=[];for(var I=0;I<2*k;I++)M[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<C.g.length;D++){const F=this.i(I)>>>16,V=this.i(I)&65535,G=C.i(D)>>>16,J=C.i(D)&65535;M[2*I+2*D]+=V*J,S(M,2*I+2*D),M[2*I+2*D+1]+=F*J,S(M,2*I+2*D+1),M[2*I+2*D+1]+=V*G,S(M,2*I+2*D+1),M[2*I+2*D+2]+=F*G,S(M,2*I+2*D+2)}for(C=0;C<k;C++)M[C]=M[2*C+1]<<16|M[2*C];for(C=k;C<2*k;C++)M[C]=0;return new a(M,0)};function S(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function A(C,k){this.g=C,this.h=k}function T(C,k){if(x(k))throw Error("division by zero");if(x(C))return new A(f,f);if(v(C))return k=T(_(C),k),new A(_(k.g),_(k.h));if(v(k))return k=T(C,_(k)),new A(_(k.g),k.h);if(C.g.length>30){if(v(C)||v(k))throw Error("slowDivide_ only works with positive integers.");for(var M=g,I=k;I.l(C)<=0;)M=N(M),I=N(I);var D=O(M,1),F=O(I,1);for(I=O(I,2),M=O(M,2);!x(I);){var V=F.add(I);V.l(C)<=0&&(D=D.add(M),F=V),I=O(I,1),M=O(M,1)}return k=w(C,D.j(k)),new A(D,k)}for(D=f;C.l(k)>=0;){for(M=Math.max(1,Math.floor(C.m()/k.m())),I=Math.ceil(Math.log(M)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),F=c(M),V=F.j(k);v(V)||V.l(C)>0;)M-=I,F=c(M),V=F.j(k);x(F)&&(F=g),D=D.add(F),C=w(C,V)}return new A(D,C)}n.B=function(C){return T(this,C).h},n.and=function(C){const k=Math.max(this.g.length,C.g.length),M=[];for(let I=0;I<k;I++)M[I]=this.i(I)&C.i(I);return new a(M,this.h&C.h)},n.or=function(C){const k=Math.max(this.g.length,C.g.length),M=[];for(let I=0;I<k;I++)M[I]=this.i(I)|C.i(I);return new a(M,this.h|C.h)},n.xor=function(C){const k=Math.max(this.g.length,C.g.length),M=[];for(let I=0;I<k;I++)M[I]=this.i(I)^C.i(I);return new a(M,this.h^C.h)};function N(C){const k=C.g.length+1,M=[];for(let I=0;I<k;I++)M[I]=C.i(I)<<1|C.i(I-1)>>>31;return new a(M,C.h)}function O(C,k){const M=k>>5;k%=32;const I=C.g.length-M,D=[];for(let F=0;F<I;F++)D[F]=k>0?C.i(F+M)>>>k|C.i(F+M+1)<<32-k:C.i(F+M);return new a(D,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BM=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Lo=a}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VM,Vd,HM,km,Lw,UM,WM,YM;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var P=0;P<y.length;++P){var B=y[P];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var s=t(this);function i(y,P){if(P)e:{var B=s;y=y.split(".");for(var W=0;W<y.length-1;W++){var ee=y[W];if(!(ee in B))break e;B=B[ee]}y=y[y.length-1],W=B[y],P=P(W),P!=W&&P!=null&&e(B,y,{configurable:!0,writable:!0,value:P})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(P){var B=[],W;for(W in P)Object.prototype.hasOwnProperty.call(P,W)&&B.push([W,P[W]]);return B}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(y){var P=typeof y;return P=="object"&&y!=null||P=="function"}function l(y,P,B){return y.call.apply(y.bind,arguments)}function c(y,P,B){return c=l,c.apply(null,arguments)}function h(y,P){var B=Array.prototype.slice.call(arguments,1);return function(){var W=B.slice();return W.push.apply(W,arguments),y.apply(this,W)}}function f(y,P){function B(){}B.prototype=P.prototype,y.Z=P.prototype,y.prototype=new B,y.prototype.constructor=y,y.Ob=function(W,ee,ne){for(var xe=Array(arguments.length-2),We=2;We<arguments.length;We++)xe[We-2]=arguments[We];return P.prototype[ee].apply(W,xe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function p(y){const P=y.length;if(P>0){const B=Array(P);for(let W=0;W<P;W++)B[W]=y[W];return B}return[]}function x(y,P){for(let W=1;W<arguments.length;W++){const ee=arguments[W];var B=typeof ee;if(B=B!="object"?B:ee?Array.isArray(ee)?"array":B:"null",B=="array"||B=="object"&&typeof ee.length=="number"){B=y.length||0;const ne=ee.length||0;y.length=B+ne;for(let xe=0;xe<ne;xe++)y[B+xe]=ee[xe]}else y.push(ee)}}class v{constructor(P,B){this.i=P,this.j=B,this.h=0,this.g=null}get(){let P;return this.h>0?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function _(y){a.setTimeout(()=>{throw y},0)}function w(){var y=C;let P=null;return y.g&&(P=y.g,y.g=y.g.next,y.g||(y.h=null),P.next=null),P}class S{constructor(){this.h=this.g=null}add(P,B){const W=A.get();W.set(P,B),this.h?this.h.next=W:this.g=W,this.h=W}}var A=new v(()=>new T,y=>y.reset());class T{constructor(){this.next=this.g=this.h=null}set(P,B){this.h=P,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let N,O=!1,C=new S,k=()=>{const y=Promise.resolve(void 0);N=()=>{y.then(M)}};function M(){for(var y;y=w();){try{y.h.call(y.g)}catch(B){_(B)}var P=A;P.j(y),P.h<100&&(P.h++,y.next=P.g,P.g=y)}O=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(y,P){this.type=y,this.g=this.target=P,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,P=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};a.addEventListener("test",B,P),a.removeEventListener("test",B,P)}catch{}return y}();function V(y){return/^[\s\xa0]*$/.test(y)}function G(y,P){D.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,P)}f(G,D),G.prototype.init=function(y,P){const B=this.type=y.type,W=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=P,P=y.relatedTarget,P||(B=="mouseover"?P=y.fromElement:B=="mouseout"&&(P=y.toElement)),this.relatedTarget=P,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),Y=0;function Z(y,P,B,W,ee){this.listener=y,this.proxy=null,this.src=P,this.type=B,this.capture=!!W,this.ha=ee,this.key=++Y,this.da=this.fa=!1}function U(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function X(y,P,B){for(const W in y)P.call(B,y[W],W,y)}function Q(y,P){for(const B in y)P.call(void 0,y[B],B,y)}function se(y){const P={};for(const B in y)P[B]=y[B];return P}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(y,P){let B,W;for(let ee=1;ee<arguments.length;ee++){W=arguments[ee];for(B in W)y[B]=W[B];for(let ne=0;ne<q.length;ne++)B=q[ne],Object.prototype.hasOwnProperty.call(W,B)&&(y[B]=W[B])}}function ae(y){this.src=y,this.g={},this.h=0}ae.prototype.add=function(y,P,B,W,ee){const ne=y.toString();y=this.g[ne],y||(y=this.g[ne]=[],this.h++);const xe=oe(y,P,W,ee);return xe>-1?(P=y[xe],B||(P.fa=!1)):(P=new Z(P,this.src,ne,!!W,ee),P.fa=B,y.push(P)),P};function fe(y,P){const B=P.type;if(B in y.g){var W=y.g[B],ee=Array.prototype.indexOf.call(W,P,void 0),ne;(ne=ee>=0)&&Array.prototype.splice.call(W,ee,1),ne&&(U(P),y.g[B].length==0&&(delete y.g[B],y.h--))}}function oe(y,P,B,W){for(let ee=0;ee<y.length;++ee){const ne=y[ee];if(!ne.da&&ne.listener==P&&ne.capture==!!B&&ne.ha==W)return ee}return-1}var re="closure_lm_"+(Math.random()*1e6|0),be={};function ze(y,P,B,W,ee){if(Array.isArray(P)){for(let ne=0;ne<P.length;ne++)ze(y,P[ne],B,W,ee);return null}return B=Wi(B),y&&y[J]?y.J(P,B,o(W)?!!W.capture:!1,ee):Ne(y,P,B,!1,W,ee)}function Ne(y,P,B,W,ee,ne){if(!P)throw Error("Invalid event type");const xe=o(ee)?!!ee.capture:!!ee;let We=zs(y);if(We||(y[re]=We=new ae(y)),B=We.add(P,B,W,xe,ne),B.proxy)return B;if(W=je(),B.proxy=W,W.src=y,W.listener=B,y.addEventListener)F||(ee=xe),ee===void 0&&(ee=!1),y.addEventListener(P.toString(),W,ee);else if(y.attachEvent)y.attachEvent(Wt(P.toString()),W);else if(y.addListener&&y.removeListener)y.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return B}function je(){function y(B){return P.call(y.src,y.listener,B)}const P=oi;return y}function Je(y,P,B,W,ee){if(Array.isArray(P))for(var ne=0;ne<P.length;ne++)Je(y,P[ne],B,W,ee);else W=o(W)?!!W.capture:!!W,B=Wi(B),y&&y[J]?(y=y.i,ne=String(P).toString(),ne in y.g&&(P=y.g[ne],B=oe(P,B,W,ee),B>-1&&(U(P[B]),Array.prototype.splice.call(P,B,1),P.length==0&&(delete y.g[ne],y.h--)))):y&&(y=zs(y))&&(P=y.g[P.toString()],y=-1,P&&(y=oe(P,B,W,ee)),(B=y>-1?P[y]:null)&&et(B))}function et(y){if(typeof y!="number"&&y&&!y.da){var P=y.src;if(P&&P[J])fe(P.i,y);else{var B=y.type,W=y.proxy;P.removeEventListener?P.removeEventListener(B,W,y.capture):P.detachEvent?P.detachEvent(Wt(B),W):P.addListener&&P.removeListener&&P.removeListener(W),(B=zs(P))?(fe(B,y),B.h==0&&(B.src=null,P[re]=null)):U(y)}}}function Wt(y){return y in be?be[y]:be[y]="on"+y}function oi(y,P){if(y.da)y=!0;else{P=new G(P,this);const B=y.listener,W=y.ha||y.src;y.fa&&et(y),y=B.call(W,P)}return y}function zs(y){return y=y[re],y instanceof ae?y:null}var Fs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wi(y){return typeof y=="function"?y:(y[Fs]||(y[Fs]=function(P){return y.handleEvent(P)}),y[Fs])}function un(){I.call(this),this.i=new ae(this),this.M=this,this.G=null}f(un,I),un.prototype[J]=!0,un.prototype.removeEventListener=function(y,P,B,W){Je(this,y,P,B,W)};function rn(y,P){var B,W=y.G;if(W)for(B=[];W;W=W.G)B.push(W);if(y=y.M,W=P.type||P,typeof P=="string")P=new D(P,y);else if(P instanceof D)P.target=P.target||y;else{var ee=P;P=new D(W,y),he(P,ee)}ee=!0;let ne,xe;if(B)for(xe=B.length-1;xe>=0;xe--)ne=P.g=B[xe],ee=ms(ne,W,!0,P)&&ee;if(ne=P.g=y,ee=ms(ne,W,!0,P)&&ee,ee=ms(ne,W,!1,P)&&ee,B)for(xe=0;xe<B.length;xe++)ne=P.g=B[xe],ee=ms(ne,W,!1,P)&&ee}un.prototype.N=function(){if(un.Z.N.call(this),this.i){var y=this.i;for(const P in y.g){const B=y.g[P];for(let W=0;W<B.length;W++)U(B[W]);delete y.g[P],y.h--}}this.G=null},un.prototype.J=function(y,P,B,W){return this.i.add(String(y),P,!1,B,W)},un.prototype.K=function(y,P,B,W){return this.i.add(String(y),P,!0,B,W)};function ms(y,P,B,W){if(P=y.i.g[String(P)],!P)return!0;P=P.concat();let ee=!0;for(let ne=0;ne<P.length;++ne){const xe=P[ne];if(xe&&!xe.da&&xe.capture==B){const We=xe.listener,xt=xe.ha||xe.src;xe.fa&&fe(y.i,xe),ee=We.call(xt,W)!==!1&&ee}}return ee&&!W.defaultPrevented}function ol(y,P){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=c(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(P)>2147483647?-1:a.setTimeout(y,P||0)}function Bs(y){y.g=ol(()=>{y.g=null,y.i&&(y.i=!1,Bs(y))},y.l);const P=y.h;y.h=null,y.m.apply(null,P)}class ed extends I{constructor(P,B){super(),this.m=P,this.l=B,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(y){I.call(this),this.h=y,this.g={}}f(Qr,I);var yn=[];function li(y){X(y.g,function(P,B){this.g.hasOwnProperty(B)&&et(P)},y),y.g={}}Qr.prototype.N=function(){Qr.Z.N.call(this),li(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ga=a.JSON.stringify,td=a.JSON.parse,Jr=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function ll(){}function cl(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vs(){D.call(this,"d")}f(vs,D);function ea(){D.call(this,"c")}f(ea,D);var qn={},mr=null;function $a(){return mr=mr||new un}qn.Ia="serverreachability";function ul(y){D.call(this,qn.Ia,y)}f(ul,D);function Yi(y){const P=$a();rn(P,new ul(P))}qn.STAT_EVENT="statevent";function hl(y,P){D.call(this,qn.STAT_EVENT,y),this.stat=P}f(hl,D);function Kt(y){const P=$a();rn(P,new hl(P,y))}qn.Ja="timingevent";function Vs(y,P){D.call(this,qn.Ja,y),this.size=P}f(Vs,D);function ta(y,P){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},P)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function mt(y,P,B,W,ee,ne){y.info(function(){if(y.g)if(ne){var xe="",We=ne.split("&");for(let At=0;At<We.length;At++){var xt=We[At].split("=");if(xt.length>1){const an=xt[0];xt=xt[1];const pi=an.split("_");xe=pi.length>=2&&pi[1]=="type"?xe+(an+"="+xt+"&"):xe+(an+"=redacted&")}}}else xe=null;else xe=ne;return"XMLHTTP REQ ("+W+") [attempt "+ee+"]: "+P+`
`+B+`
`+xe})}function Pt(y,P,B,W,ee,ne,xe){y.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ee+"]: "+P+`
`+B+`
`+ne+" "+xe})}function hn(y,P,B,W){y.info(function(){return"XMLHTTP TEXT ("+P+"): "+ui(y,B)+(W?" "+W:"")})}function Dn(y,P){y.info(function(){return"TIMEOUT: "+P})}De.prototype.info=function(){};function ui(y,P){if(!y.g)return P;if(!P)return null;try{const ne=JSON.parse(P);if(ne){for(y=0;y<ne.length;y++)if(Array.isArray(ne[y])){var B=ne[y];if(!(B.length<2)){var W=B[1];if(Array.isArray(W)&&!(W.length<1)){var ee=W[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let xe=1;xe<W.length;xe++)W[xe]=""}}}}return Ga(ne)}catch{return P}}var xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hs;function ys(){}f(ys,ll),ys.prototype.g=function(){return new XMLHttpRequest},Hs=new ys;function ke(y){return encodeURIComponent(String(y))}function ip(y){var P=1;y=y.split(":");const B=[];for(;P>0&&y.length;)B.push(y.shift()),P--;return y.length&&B.push(y.join(":")),B}function Xi(y,P,B,W){this.j=y,this.i=P,this.l=B,this.S=W||1,this.V=new Qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new nd}function nd(){this.i=null,this.g="",this.h=!1}var sd={},dl={};function kc(y,P,B){y.M=1,y.A=Dt(rs(P)),y.u=B,y.R=!0,na(y,null)}function na(y,P){y.F=Date.now(),Nc(y),y.B=rs(y.A);var B=y.B,W=y.S;Array.isArray(W)||(W=[String(W)]),jc(B.i,"t",W),y.C=0,B=y.j.L,y.h=new nd,y.g=vd(y.j,B?P:null,!y.u),y.P>0&&(y.O=new ed(c(y.Y,y,y.g),y.P)),P=y.V,B=y.g,W=y.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(yn[0]=ee.toString()),ee=yn);for(let ne=0;ne<ee.length;ne++){const xe=ze(B,ee[ne],W||P.handleEvent,!1,P.h||P);if(!xe)break;P.g[xe.key]=xe}P=y.J?se(y.J):{},y.u?(y.v||(y.v="POST"),P["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,P)):(y.v="GET",y.g.ea(y.B,y.v,null,P)),Yi(),mt(y.i,y.v,y.B,y.l,y.S,y.u)}Xi.prototype.ba=function(y){y=y.target;const P=this.O;P&&br(y)==3?P.j():this.Y(y)},Xi.prototype.Y=function(y){try{if(y==this.g)e:{const We=br(this.g),xt=this.g.ya(),At=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||ud(this.g)))){this.K||We!=4||xt==7||(xt==8||At<=0?Yi(3):Yi(2)),Rc(this);var P=this.g.ca();this.X=P;var B=rp(this);if(this.o=P==200,Pt(this.i,this.v,this.B,this.l,this.S,We,P),this.o){if(this.U&&!this.L){t:{if(this.g){var W,ee=this.g;if((W=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(W)){var ne=W;break t}}ne=null}if(y=ne)hn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,id(this,y);else{this.o=!1,this.m=3,Kt(12),hi(this),fl(this);break e}}if(this.R){y=!0;let an;for(;!this.K&&this.C<B.length;)if(an=jy(this,B),an==dl){We==4&&(this.m=4,Kt(14),y=!1),hn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==sd){this.m=4,Kt(15),hn(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else hn(this.i,this.l,an,null),id(this,an);if(ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||B.length!=0||this.h.h||(this.m=1,Kt(16),y=!1),this.o=this.o&&y,!y)hn(this.i,this.l,B,"[Invalid Chunked Response]"),hi(this),fl(this);else if(B.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),pd(xe),xe.P=!0,Kt(11))}}else hn(this.i,this.l,B,null),id(this,B);We==4&&hi(this),this.o&&!this.K&&(We==4?Ws(this.j,this):(this.o=!1,Nc(this)))}else hd(this.g),P==400&&B.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),hi(this),fl(this)}}}catch{}finally{}};function rp(y){if(!ap(y))return y.g.la();const P=ud(y.g);if(P==="")return"";let B="";const W=P.length,ee=br(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return hi(y),fl(y),"";y.h.i=new a.TextDecoder}for(let ne=0;ne<W;ne++)y.h.h=!0,B+=y.h.i.decode(P[ne],{stream:!(ee&&ne==W-1)});return P.length=0,y.h.g+=B,y.C=0,y.h.g}function ap(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function jy(y,P){var B=y.C,W=P.indexOf(`
`,B);return W==-1?dl:(B=Number(P.substring(B,W)),isNaN(B)?sd:(W+=1,W+B>P.length?dl:(P=P.slice(W,W+B),y.C=W+B,P)))}Xi.prototype.cancel=function(){this.K=!0,hi(this)};function Nc(y){y.T=Date.now()+y.H,op(y,y.H)}function op(y,P){if(y.D!=null)throw Error("WatchDog timer not null");y.D=ta(c(y.aa,y),P)}function Rc(y){y.D&&(a.clearTimeout(y.D),y.D=null)}Xi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Dn(this.i,this.B),this.M!=2&&(Yi(),Kt(17)),hi(this),this.m=2,fl(this)):op(this,this.T-y)};function fl(y){y.j.I==0||y.K||Ws(y.j,y)}function hi(y){Rc(y);var P=y.O;P&&typeof P.dispose=="function"&&P.dispose(),y.O=null,li(y.V),y.g&&(P=y.g,y.g=null,P.abort(),P.dispose())}function id(y,P){try{var B=y.j;if(B.I!=0&&(B.g==y||gl(B.h,y))){if(!y.L&&gl(B.h,y)&&B.I==3){try{var W=B.Ba.g.parse(P)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ee=W;if(ee[0]==0){e:if(!B.v){if(B.g)if(B.g.F+3e3<y.F)Fc(B),Dc(B);else break e;gd(B),Kt(18)}}else B.xa=ee[1],0<B.xa-B.K&&ee[2]<37500&&B.F&&B.A==0&&!B.C&&(B.C=ta(c(B.Va,B),6e3));up(B.h)<=1&&B.ta&&(B.ta=void 0)}else _r(B,11)}else if((y.L||B.g==y)&&Fc(B),!V(P))for(ee=B.Ba.g.parse(P),P=0;P<ee.length;P++){let At=ee[P];const an=At[0];if(!(an<=B.K))if(B.K=an,At=At[1],B.I==2)if(At[0]=="c"){B.M=At[1],B.ba=At[2];const pi=At[3];pi!=null&&(B.ka=pi,B.j.info("VER="+B.ka));const qi=At[4];qi!=null&&(B.za=qi,B.j.info("SVER="+B.za));const mi=At[5];mi!=null&&typeof mi=="number"&&mi>0&&(W=1.5*mi,B.O=W,B.j.info("backChannelRequestTimeoutMs_="+W)),W=B;const Sr=y.g;if(Sr){const Hc=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hc){var ne=W.h;ne.g||Hc.indexOf("spdy")==-1&&Hc.indexOf("quic")==-1&&Hc.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(sa(ne,ne.h),ne.h=null))}if(W.G){const Uc=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Uc&&(W.wa=Uc,Te(W.J,W.G,Uc))}}B.I=3,B.l&&B.l.ra(),B.aa&&(B.T=Date.now()-y.F,B.j.info("Handshake RTT: "+B.T+"ms")),W=B;var xe=y;if(W.na=md(W,W.L?W.ba:null,W.W),xe.L){rd(W.h,xe);var We=xe,xt=W.O;xt&&(We.H=xt),We.D&&(Rc(We),Nc(We)),W.g=xe}else fd(W);B.i.length>0&&wr(B)}else At[0]!="stop"&&At[0]!="close"||_r(B,7);else B.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?_r(B,7):st(B):At[0]!="noop"&&B.l&&B.l.qa(At),B.A=0)}}Yi(4)}catch{}}var Ly=class{constructor(y,P){this.g=y,this.map=P}};function lp(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cp(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function up(y){return y.h?1:y.g?y.g.size:0}function gl(y,P){return y.h?y.h==P:y.g?y.g.has(P):!1}function sa(y,P){y.g?y.g.add(P):y.h=P}function rd(y,P){y.h&&y.h==P?y.h=null:y.g&&y.g.has(P)&&y.g.delete(P)}lp.prototype.cancel=function(){if(this.i=ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ad(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let P=y.i;for(const B of y.g.values())P=P.concat(B.G);return P}return p(y.i)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ht(y,P){if(y){y=y.split("&");for(let B=0;B<y.length;B++){const W=y[B].indexOf("=");let ee,ne=null;W>=0?(ee=y[B].substring(0,W),ne=y[B].substring(W+1)):ee=y[B],P(ee,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function vt(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let P;y instanceof vt?(this.l=y.l,di(this,y.j),this.o=y.o,this.g=y.g,fi(this,y.u),this.h=y.h,pl(this,ml(y.i)),this.m=y.m):y&&(P=String(y).match(qa))?(this.l=!1,di(this,P[1]||"",!0),this.o=ia(P[2]||""),this.g=ia(P[3]||"",!0),fi(this,P[4]),this.h=ia(P[5]||"",!0),pl(this,P[6]||"",!0),this.m=ia(P[7]||"")):(this.l=!1,this.i=new Gi(null,this.l))}vt.prototype.toString=function(){const y=[];var P=this.j;P&&y.push(vr(P,hp,!0),":");var B=this.g;return(B||P=="file")&&(y.push("//"),(P=this.o)&&y.push(vr(P,hp,!0),"@"),y.push(ke(B).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.u,B!=null&&y.push(":",String(B))),(B=this.h)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(vr(B,B.charAt(0)=="/"?ra:Pc,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",vr(B,aa)),y.join("")},vt.prototype.resolve=function(y){const P=rs(this);let B=!!y.j;B?di(P,y.j):B=!!y.o,B?P.o=y.o:B=!!y.g,B?P.g=y.g:B=y.u!=null;var W=y.h;if(B)fi(P,y.u);else if(B=!!y.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var ee=P.h.lastIndexOf("/");ee!=-1&&(W=P.h.slice(0,ee+1)+W)}if(ee=W,ee==".."||ee==".")W="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){W=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const ne=[];for(let xe=0;xe<ee.length;){const We=ee[xe++];We=="."?W&&xe==ee.length&&ne.push(""):We==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),W&&xe==ee.length&&ne.push("")):(ne.push(We),W=!0)}W=ne.join("/")}else W=ee}return B?P.h=W:B=y.i.toString()!=="",B?pl(P,ml(y.i)):B=!!y.m,B&&(P.m=y.m),P};function rs(y){return new vt(y)}function di(y,P,B){y.j=B?ia(P,!0):P,y.j&&(y.j=y.j.replace(/:$/,""))}function fi(y,P){if(P){if(P=Number(P),isNaN(P)||P<0)throw Error("Bad port number "+P);y.u=P}else y.u=null}function pl(y,P,B){P instanceof Gi?(y.i=P,od(y.i,y.l)):(B||(P=vr(P,Qt)),y.i=new Gi(P,y.l))}function Te(y,P,B){y.i.set(P,B)}function Dt(y){return Te(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function ia(y,P){return y?P?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function vr(y,P,B){return typeof y=="string"?(y=encodeURI(y).replace(P,bs),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function bs(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var hp=/[#\/\?@]/g,Pc=/[#\?:]/g,ra=/[#\?]/g,Qt=/[#\?@]/g,aa=/#/g;function Gi(y,P){this.h=this.g=null,this.i=y||null,this.j=!!P}function Us(y){y.g||(y.g=new Map,y.h=0,y.i&&ht(y.i,function(P,B){y.add(decodeURIComponent(P.replace(/\+/g," ")),B)}))}n=Gi.prototype,n.add=function(y,P){Us(this),this.i=null,y=xr(this,y);let B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(P),this.h+=1,this};function Ic(y,P){Us(y),P=xr(y,P),y.g.has(P)&&(y.i=null,y.h-=y.g.get(P).length,y.g.delete(P))}function Za(y,P){return Us(y),P=xr(y,P),y.g.has(P)}n.forEach=function(y,P){Us(this),this.g.forEach(function(B,W){B.forEach(function(ee){y.call(P,ee,W,this)},this)},this)};function Mc(y,P){Us(y);let B=[];if(typeof P=="string")Za(y,P)&&(B=B.concat(y.g.get(xr(y,P))));else for(y=Array.from(y.g.values()),P=0;P<y.length;P++)B=B.concat(y[P]);return B}n.set=function(y,P){return Us(this),this.i=null,y=xr(this,y),Za(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[P]),this.h+=1,this},n.get=function(y,P){return y?(y=Mc(this,y),y.length>0?String(y[0]):P):P};function jc(y,P,B){Ic(y,P),B.length>0&&(y.i=null,y.g.set(xr(y,P),p(B)),y.h+=B.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],P=Array.from(this.g.keys());for(let W=0;W<P.length;W++){var B=P[W];const ee=ke(B);B=Mc(this,B);for(let ne=0;ne<B.length;ne++){let xe=ee;B[ne]!==""&&(xe+="="+ke(B[ne])),y.push(xe)}}return this.i=y.join("&")};function ml(y){const P=new Gi;return P.i=y.i,y.g&&(P.g=new Map(y.g),P.h=y.h),P}function xr(y,P){return P=String(P),y.j&&(P=P.toLowerCase()),P}function od(y,P){P&&!y.j&&(Us(y),y.i=null,y.g.forEach(function(B,W){const ee=W.toLowerCase();W!=ee&&(Ic(this,W),jc(this,ee,B))},y)),y.j=P}function Lc(y,P){const B=new De;if(a.Image){const W=new Image;W.onload=h(gi,B,"TestLoadImage: loaded",!0,P,W),W.onerror=h(gi,B,"TestLoadImage: error",!1,P,W),W.onabort=h(gi,B,"TestLoadImage: abort",!1,P,W),W.ontimeout=h(gi,B,"TestLoadImage: timeout",!1,P,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=y}else P(!1)}function dp(y,P){const B=new De,W=new AbortController,ee=setTimeout(()=>{W.abort(),gi(B,"TestPingServer: timeout",!1,P)},1e4);fetch(y,{signal:W.signal}).then(ne=>{clearTimeout(ee),ne.ok?gi(B,"TestPingServer: ok",!0,P):gi(B,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ee),gi(B,"TestPingServer: error",!1,P)})}function gi(y,P,B,W,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),W(B)}catch{}}function Oy(){this.g=new Jr}function Ue(y){this.i=y.Sb||null,this.h=y.ab||!1}f(Ue,ll),Ue.prototype.g=function(){return new as(this.i,this.h)};function as(y,P){un.call(this),this.H=y,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(as,un),n=as.prototype,n.open=function(y,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=P,this.readyState=1,oa(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const P={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(P.body=y),(this.H||a).fetch(new Request(this.D,P)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ka(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Et(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Et(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var P=y.value?y.value:new Uint8Array(0);(P=this.B.decode(P,{stream:!y.done}))&&(this.response=this.responseText+=P)}y.done?Ka(this):oa(this),this.readyState==3&&Et(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,Ka(this))},n.Na=function(y){this.g&&(this.response=y,Ka(this))},n.ga=function(){this.g&&Ka(this)};function Ka(y){y.readyState=4,y.l=null,y.j=null,y.B=null,oa(y)}n.setRequestHeader=function(y,P){this.A.append(y,P)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],P=this.h.entries();for(var B=P.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=P.next();return y.join(`\r
`)};function oa(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Oc(y){let P="";return X(y,function(B,W){P+=W,P+=":",P+=B,P+=`\r
`}),P}function vl(y,P,B){e:{for(W in B){var W=!1;break e}W=!0}W||(B=Oc(B),typeof y=="string"?B!=null&&ke(B):Te(y,P,B))}function St(y){un.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(St,un);var ld=/^https?$/i,xl=["POST","PUT"];n=St.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,P,B,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);P=P?P.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hs.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(P,String(y),!0),this.B=!1}catch(ne){dn(this,ne);return}if(y=B||"",B=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ee in W)B.set(ee,W[ee]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const ne of W.keys())B.set(ne,W.get(ne));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(B.keys()).find(ne=>ne.toLowerCase()=="content-type"),ee=a.FormData&&y instanceof a.FormData,!(Array.prototype.indexOf.call(xl,P,void 0)>=0)||W||ee||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,xe]of B)this.g.setRequestHeader(ne,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ne){dn(this,ne)}};function dn(y,P){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=P,y.o=5,yr(y),yl(y)}function yr(y){y.A||(y.A=!0,rn(y,"complete"),rn(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,rn(this,"complete"),rn(this,"abort"),yl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yl(this,!0)),St.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?cd(this):this.Xa())},n.Xa=function(){cd(this)};function cd(y){if(y.h&&typeof r<"u"){if(y.v&&br(y)==4)setTimeout(y.Ca.bind(y),0);else if(rn(y,"readystatechange"),br(y)==4){y.h=!1;try{const ne=y.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var B;if(!(B=P)){var W;if(W=ne===0){let xe=String(y.D).match(qa)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),W=!ld.test(xe?xe.toLowerCase():"")}B=W}if(B)rn(y,"complete"),rn(y,"success");else{y.o=6;try{var ee=br(y)>2?y.g.statusText:""}catch{ee=""}y.l=ee+" ["+y.ca()+"]",yr(y)}}finally{yl(y)}}}}function yl(y,P){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const B=y.g;y.g=null,P||rn(y,"ready");try{B.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function br(y){return y.g?y.g.readyState:0}n.ca=function(){try{return br(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var P=this.g.responseText;return y&&P.indexOf(y)==0&&(P=P.substring(y.length)),td(P)}};function ud(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function hd(y){const P={};y=(y.g&&br(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<y.length;W++){if(V(y[W]))continue;var B=ip(y[W]);const ee=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const ne=P[ee]||[];P[ee]=ne,ne.push(B)}Q(P,function(W){return W.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(y,P,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||P}function dd(y){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bl("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bl("baseRetryDelayMs",5e3,y),this.Za=bl("retryDelaySeedMs",1e4,y),this.Ta=bl("forwardChannelMaxRetries",2,y),this.va=bl("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new lp(y&&y.concurrentRequestLimit),this.Ba=new Oy,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=dd.prototype,n.ka=8,n.I=1,n.connect=function(y,P,B,W){Kt(0),this.W=y,this.H=P||{},B&&W!==void 0&&(this.H.OSID=B,this.H.OAID=W),this.F=this.X,this.J=md(this,null,this.W),wr(this)};function st(y){if(ws(y),y.I==3){var P=y.V++,B=rs(y.J);if(Te(B,"SID",y.M),Te(B,"RID",P),Te(B,"TYPE","terminate"),la(y,B),P=new Xi(y,y.j,P),P.M=2,P.A=Dt(rs(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(P.A.toString(),"")}catch{}!B&&a.Image&&(new Image().src=P.A,B=!0),B||(P.g=vd(P.j,null),P.g.ea(P.A)),P.F=Date.now(),Nc(P)}$i(y)}function Dc(y){y.g&&(pd(y),y.g.cancel(),y.g=null)}function ws(y){Dc(y),y.v&&(a.clearTimeout(y.v),y.v=null),Fc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&a.clearTimeout(y.m),y.m=null)}function wr(y){if(!cp(y.h)&&!y.m){y.m=!0;var P=y.Ea;N||k(),O||(N(),O=!0),C.add(P,y),y.D=0}}function fp(y,P){return up(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=P.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=ta(c(y.Ea,y,P),mp(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ee=new Xi(this,this.j,y);let ne=this.o;if(this.U&&(ne?(ne=se(ne),he(ne,this.U)):ne=this.U),this.u!==null||this.R||(ee.J=ne,ne=null),this.S)e:{for(var P=0,B=0;B<this.i.length;B++){t:{var W=this.i[B];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(P+=W,P>4096){P=B;break e}if(P===4096||B===this.i.length-1){P=B+1;break e}}P=1e3}else P=1e3;P=pp(this,ee,P),B=rs(this.J),Te(B,"RID",y),Te(B,"CVER",22),this.G&&Te(B,"X-HTTP-Session-Id",this.G),la(this,B),ne&&(this.R?P="headers="+ke(Oc(ne))+"&"+P:this.u&&vl(B,this.u,ne)),sa(this.h,ee),this.Ra&&Te(B,"TYPE","init"),this.S?(Te(B,"$req",P),Te(B,"SID","null"),ee.U=!0,kc(ee,B,null)):kc(ee,B,P),this.I=2}}else this.I==3&&(y?gp(this,y):this.i.length==0||cp(this.h)||gp(this))};function gp(y,P){var B;P?B=P.l:B=y.V++;const W=rs(y.J);Te(W,"SID",y.M),Te(W,"RID",B),Te(W,"AID",y.K),la(y,W),y.u&&y.o&&vl(W,y.u,y.o),B=new Xi(y,y.j,B,y.D+1),y.u===null&&(B.J=y.o),P&&(y.i=P.G.concat(y.i)),P=pp(y,B,1e3),B.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),sa(y.h,B),kc(B,W,P)}function la(y,P){y.H&&X(y.H,function(B,W){Te(P,W,B)}),y.l&&X({},function(B,W){Te(P,W,B)})}function pp(y,P,B){B=Math.min(y.i.length,B);const W=y.l?c(y.l.Ka,y.l,y):null;e:{var ee=y.i;let We=-1;for(;;){const xt=["count="+B];We==-1?B>0?(We=ee[0].g,xt.push("ofs="+We)):We=0:xt.push("ofs="+We);let At=!0;for(let an=0;an<B;an++){var ne=ee[an].g;const pi=ee[an].map;if(ne-=We,ne<0)We=Math.max(0,ee[an].g-100),At=!1;else try{ne="req"+ne+"_"||"";try{var xe=pi instanceof Map?pi:Object.entries(pi);for(const[qi,mi]of xe){let Sr=mi;o(mi)&&(Sr=Ga(mi)),xt.push(ne+qi+"="+encodeURIComponent(Sr))}}catch(qi){throw xt.push(ne+"type="+encodeURIComponent("_badmap")),qi}}catch{W&&W(pi)}}if(At){xe=xt.join("&");break e}}xe=void 0}return y=y.i.splice(0,B),P.G=y,xe}function fd(y){if(!y.g&&!y.v){y.Y=1;var P=y.Da;N||k(),O||(N(),O=!0),C.add(P,y),y.A=0}}function gd(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=ta(c(y.Da,y),mp(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=ta(c(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Dc(this),zc(this))};function pd(y){y.B!=null&&(a.clearTimeout(y.B),y.B=null)}function zc(y){y.g=new Xi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var P=rs(y.na);Te(P,"RID","rpc"),Te(P,"SID",y.M),Te(P,"AID",y.K),Te(P,"CI",y.F?"0":"1"),!y.F&&y.ia&&Te(P,"TO",y.ia),Te(P,"TYPE","xmlhttp"),la(y,P),y.u&&y.o&&vl(P,y.u,y.o),y.O&&(y.g.H=y.O);var B=y.g;y=y.ba,B.M=1,B.A=Dt(rs(P)),B.u=null,B.R=!0,na(B,y)}n.Va=function(){this.C!=null&&(this.C=null,Dc(this),gd(this),Kt(19))};function Fc(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function Ws(y,P){var B=null;if(y.g==P){Fc(y),pd(y),y.g=null;var W=2}else if(gl(y.h,P))B=P.G,rd(y.h,P),W=1;else return;if(y.I!=0){if(P.o)if(W==1){B=P.u?P.u.length:0,P=Date.now()-P.F;var ee=y.D;W=$a(),rn(W,new Vs(W,B)),wr(y)}else fd(y);else if(ee=P.m,ee==3||ee==0&&P.X>0||!(W==1&&fp(y,P)||W==2&&gd(y)))switch(B&&B.length>0&&(P=y.h,P.i=P.i.concat(B)),ee){case 1:_r(y,5);break;case 4:_r(y,10);break;case 3:_r(y,6);break;default:_r(y,2)}}}function mp(y,P){let B=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(B*=2),B*P}function _r(y,P){if(y.j.info("Error code "+P),P==2){var B=c(y.bb,y),W=y.Ua;const ee=!W;W=new vt(W||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||di(W,"https"),Dt(W),ee?Lc(W.toString(),B):dp(W.toString(),B)}else Kt(2);y.I=0,y.l&&y.l.pa(P),$i(y),ws(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function $i(y){if(y.I=0,y.ja=[],y.l){const P=ad(y.h);(P.length!=0||y.i.length!=0)&&(x(y.ja,P),x(y.ja,y.i),y.h.i.length=0,p(y.i),y.i.length=0),y.l.oa()}}function md(y,P,B){var W=B instanceof vt?rs(B):new vt(B);if(W.g!="")P&&(W.g=P+"."+W.g),fi(W,W.u);else{var ee=a.location;W=ee.protocol,P=P?P+"."+ee.hostname:ee.hostname,ee=+ee.port;const ne=new vt(null);W&&di(ne,W),P&&(ne.g=P),ee&&fi(ne,ee),B&&(ne.h=B),W=ne}return B=y.G,P=y.wa,B&&P&&Te(W,B,P),Te(W,"VER",y.ka),la(y,W),W}function vd(y,P,B){if(P&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return P=y.Aa&&!y.ma?new St(new Ue({ab:B})):new St(y.ma),P.Fa(y.L),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}n=Bc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vc(){}Vc.prototype.g=function(y,P){return new Kn(y,P)};function Kn(y,P){un.call(this),this.g=new dd(P),this.l=y,this.h=P&&P.messageUrlParams||null,y=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(y?y["X-WebChannel-Content-Type"]=P.messageContentType:y={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.sa&&(y?y["X-WebChannel-Client-Profile"]=P.sa:y={"X-WebChannel-Client-Profile":P.sa}),this.g.U=y,(y=P&&P.Qb)&&!V(y)&&(this.g.u=y),this.A=P&&P.supportsCrossDomainXhr||!1,this.v=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!V(P)&&(this.g.G=P,y=this.h,y!==null&&P in y&&(y=this.h,P in y&&delete y[P])),this.j=new Qa(this)}f(Kn,un),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){st(this.g)},Kn.prototype.o=function(y){var P=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.v&&(B={},B.__data__=Ga(y),y=B);P.i.push(new Ly(P.Ya++,y)),P.I==3&&wr(P)},Kn.prototype.N=function(){this.g.l=null,delete this.j,st(this.g),delete this.g,Kn.Z.N.call(this)};function xd(y){vs.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var P=y.__sm__;if(P){e:{for(const B in P){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,P=P!==null&&y in P?P[y]:void 0),this.data=P}else this.data=y}f(xd,vs);function vp(){ea.call(this),this.status=1}f(vp,ea);function Qa(y){this.g=y}f(Qa,Bc),Qa.prototype.ra=function(){rn(this.g,"a")},Qa.prototype.qa=function(y){rn(this.g,new xd(y))},Qa.prototype.pa=function(y){rn(this.g,new vp)},Qa.prototype.oa=function(){rn(this.g,"b")},Vc.prototype.createWebChannel=Vc.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,YM=function(){return new Vc},WM=function(){return $a()},UM=qn,Lw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,km=xs,Zn.COMPLETE="complete",HM=Zn,cl.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",un.prototype.listen=un.prototype.J,Vd=cl,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,VM=St}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore",KE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new dS("@firebase/firestore");function fu(){return cc.logLevel}function Ce(n,...e){if(cc.logLevel<=lt.DEBUG){const t=e.map(CS);cc.debug(`Firestore (${zh}): ${n}`,...t)}}function Va(n,...e){if(cc.logLevel<=lt.ERROR){const t=e.map(CS);cc.error(`Firestore (${zh}): ${n}`,...t)}}function uh(n,...e){if(cc.logLevel<=lt.WARN){const t=e.map(CS);cc.warn(`Firestore (${zh}): ${n}`,...t)}}function CS(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,XM(n,s,t)}function XM(n,e,t){let s=`FIRESTORE (${zh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Va(s),new Error(s)}function Tt(n,e,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,n||XM(e,i,s)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jn.UNAUTHENTICATED))}shutdown(){}}class XW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GW{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Tt(this.o===void 0,42304);let s=this.i;const i=l=>this.i!==s?(s=this.i,t(l)):Promise.resolve();let r=new Oo;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Oo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Oo)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Tt(typeof s.accessToken=="string",31837,{l:s}),new GM(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class $W{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qW{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new $W(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZW{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Is(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Tt(this.o===void 0,3512);const s=r=>{r.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new QE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=KW(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<t&&(s+=e.charAt(i[r]%62))}return s}}function ct(n,e){return n<e?-1:n>e?1:0}function Ow(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const i=n.charAt(s),r=e.charAt(s);if(i!==r)return Ib(i)===Ib(r)?ct(i,r):Ib(i)?1:-1}return ct(n.length,e.length)}const QW=55296,JW=57343;function Ib(n){const e=n.charCodeAt(0);return e>=QW&&e<=JW}function hh(n,e,t){return n.length===e.length&&n.every((s,i)=>t(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__name__";class Er{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ve(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let i=0;i<s;i++){const r=Er.compareSegments(e.get(i),t.get(i));if(r!==0)return r}return ct(e.length,t.length)}static compareSegments(e,t){const s=Er.isNumericId(e),i=Er.isNumericId(t);return s&&!i?-1:!s&&i?1:s&&i?Er.extractNumericId(e).compare(Er.extractNumericId(t)):Ow(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lo.fromString(e.substring(4,e.length-2))}}class qt extends Er{construct(e,t,s){return new qt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(i=>i.length>0))}return new qt(t)}static emptyPath(){return new qt([])}}const eY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Er{construct(e,t,s){return new Hn(e,t,s)}static isValidIdentifier(e){return eY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JE}static keyField(){return new Hn([JE])}static fromServerFormat(e){const t=[];let s="",i=0;const r=()=>{if(s.length===0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ie(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ie(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(s+=o,i++):(r(),i++)}if(r(),a)throw new Ie(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(qt.fromString(e))}static fromName(e){return new Oe(qt.fromString(e).popFirst(5))}static empty(){return new Oe(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(n,e,t){if(!t)throw new Ie(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nY(n,e,t,s){if(e===!0&&s===!0)throw new Ie(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ek(n){if(!Oe.isDocumentKey(n))throw new Ie(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $M(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ES(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve(12329,{type:typeof n})}function $f(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ES(n);throw new Ie(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bg(n,e){if(!$M(n))throw new Ie(ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const a=n[s];if(i&&typeof a!==i){t=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&a!==r.value){t=`Expected '${s}' field to equal '${r.value}'`;break}}if(t)throw new Ie(ge.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=-62135596800,nk=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*nk);return new Ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tk)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nk}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bg(e,Ht._jsonSchema))return new Ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:mn("string",Ht._jsonSchemaVersion),seconds:mn("number"),nanoseconds:mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Ht(0,0))}static max(){return new Ye(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=-1;function sY(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(s===1e9?new Ht(t+1,0):new Ht(t,s));return new Xo(i,Oe.empty(),e)}function iY(n){return new Xo(n.readTime,n.key,qf)}class Xo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xo(Ye.min(),Oe.empty(),qf)}static max(){return new Xo(Ye.max(),Oe.empty(),qf)}}function rY(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:ct(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==aY)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(t,r).next(s,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,s)=>{t(e)})}static reject(e){return new ce((t,s)=>{s(e)})}static waitFor(e){return new ce((t,s)=>{let i=0,r=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++r,a&&r===i&&t()},l=>s(l))}),a=!0,r===i&&t()})}static or(e){let t=ce.resolve(!1);for(const s of e)t=t.next(i=>i?ce.resolve(i):s());return t}static forEach(e,t){const s=[];return e.forEach((i,r)=>{s.push(t.call(this,i,r))}),this.waitFor(s)}static mapArray(e,t){return new ce((s,i)=>{const r=e.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const c=l;t(e[c]).next(h=>{a[c]=h,++o,o===r&&s(a)},h=>i(h))}})}static doWhile(e,t){return new ce((s,i)=>{const r=()=>{e()===!0?t().next(()=>{r()},i):s()};r()})}}function lY(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=-1;function Yx(n){return n==null}function jv(n){return n===0&&1/n==-1/0}function cY(n){return typeof n=="number"&&Number.isInteger(n)&&!jv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="";function uY(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sk(e)),e=hY(n.get(t),e);return sk(e)}function hY(n,e){let t=e;const s=n.length;for(let i=0;i<s;i++){const r=n.charAt(i);switch(r){case"\0":t+="";break;case qM:t+="";break;default:t+=r}}return t}function sk(n){return n+qM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t){this.comparator=e,this.root=t||Fn.EMPTY}insert(e,t){return new Zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return t+s.left.size;i<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,t,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?s(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,t,s,i,r){this.key=e,this.value=t,this.color=s??Fn.RED,this.left=i??Fn.EMPTY,this.right=r??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,i,r){return new Fn(e??this.key,t??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,s),null):r===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Fn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,s,i,r){return this}insert(e,t,s){return new Fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rk(this.data.getIterator())}getIteratorFrom(e){return new rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tn(this.comparator);return t.data=e,t}}class rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new ir([])}unionWith(e){let t=new Tn(Hn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hh(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new KM("Invalid base64 string: "+r):r}}(e);return new Gn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const dY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(n){if(Tt(!!n,39018),typeof n=="string"){let e=0;const t=dY.exec(n);if(Tt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:cn(n.seconds),nanos:cn(n.nanos)}}function cn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="server_timestamp",JM="__type__",ej="__previous_value__",tj="__local_write_time__";function NS(n){return(n?.mapValue?.fields||{})[JM]?.stringValue===QM}function Xx(n){const e=n.mapValue.fields[ej];return NS(e)?Xx(e):e}function Zf(n){const e=Go(n.mapValue.fields[tj].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,t,s,i,r,a,o,l,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Lv="(default)";class Kf{constructor(e,t){this.projectId=e,this.database=t||Lv}static empty(){return new Kf("","")}get isDefaultDatabase(){return this.database===Lv}isEqual(e){return e instanceof Kf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__type__",gY="__max__",Zp={mapValue:{}},sj="__vector__",Ov="value";function qo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NS(n)?4:mY(n)?9007199254740991:pY(n)?10:11:Ve(28295,{value:n})}function Wr(n,e){if(n===e)return!0;const t=qo(n);if(t!==qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zf(n).isEqual(Zf(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Go(i.timestampValue),o=Go(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,r){return $o(i.bytesValue).isEqual($o(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return cn(i.geoPointValue.latitude)===cn(r.geoPointValue.latitude)&&cn(i.geoPointValue.longitude)===cn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return cn(i.integerValue)===cn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=cn(i.doubleValue),o=cn(r.doubleValue);return a===o?jv(a)===jv(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return hh(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,r){const a=i.mapValue.fields||{},o=r.mapValue.fields||{};if(ik(a)!==ik(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Wr(a[l],o[l])))return!1;return!0}(n,e);default:return Ve(52216,{left:n})}}function Qf(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function dh(n,e){if(n===e)return 0;const t=qo(n),s=qo(e);if(t!==s)return ct(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(n.booleanValue,e.booleanValue);case 2:return function(r,a){const o=cn(r.integerValue||r.doubleValue),l=cn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return ak(n.timestampValue,e.timestampValue);case 4:return ak(Zf(n),Zf(e));case 5:return Ow(n.stringValue,e.stringValue);case 6:return function(r,a){const o=$o(r),l=$o(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=ct(o[c],l[c]);if(h!==0)return h}return ct(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const o=ct(cn(r.latitude),cn(a.latitude));return o!==0?o:ct(cn(r.longitude),cn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ok(n.arrayValue,e.arrayValue);case 10:return function(r,a){const o=r.fields||{},l=a.fields||{},c=o[Ov]?.arrayValue,h=l[Ov]?.arrayValue,f=ct(c?.values?.length||0,h?.values?.length||0);return f!==0?f:ok(c,h)}(n.mapValue,e.mapValue);case 11:return function(r,a){if(r===Zp.mapValue&&a===Zp.mapValue)return 0;if(r===Zp.mapValue)return 1;if(a===Zp.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const g=Ow(l[f],h[f]);if(g!==0)return g;const p=dh(o[l[f]],c[h[f]]);if(p!==0)return p}return ct(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Ve(23264,{he:t})}}function ak(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ct(n,e);const t=Go(n),s=Go(e),i=ct(t.seconds,s.seconds);return i!==0?i:ct(t.nanos,s.nanos)}function ok(n,e){const t=n.values||[],s=e.values||[];for(let i=0;i<t.length&&i<s.length;++i){const r=dh(t[i],s[i]);if(r)return r}return ct(t.length,s.length)}function fh(n){return Dw(n)}function Dw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Go(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",i=!0;for(const r of t.values||[])i?i=!1:s+=",",s+=Dw(r);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let i="{",r=!0;for(const a of s)r?r=!1:i+=",",i+=`${a}:${Dw(t.fields[a])}`;return i+"}"}(n.mapValue):Ve(61005,{value:n})}function Nm(n){switch(qo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xx(n);return e?16+Nm(e):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+Nm(r),0)}(n.arrayValue);case 10:case 11:return function(s){let i=0;return bc(s.fields,(r,a)=>{i+=r.length+Nm(a)}),i}(n.mapValue);default:throw Ve(13486,{value:n})}}function zw(n){return!!n&&"integerValue"in n}function RS(n){return!!n&&"arrayValue"in n}function lk(n){return!!n&&"nullValue"in n}function ck(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rm(n){return!!n&&"mapValue"in n}function pY(n){return(n?.mapValue?.fields||{})[nj]?.stringValue===sj}function ff(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return bc(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ff(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ff(n.arrayValue.values[t]);return e}return{...n}}function mY(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Rm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(t)}setAll(e){let t=Hn.emptyPath(),s={},i=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,s,i),s={},i=[],t=o.popLast()}a?s[o.lastSegment()]=ff(a):i.push(o.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,s,i)}delete(e){const t=this.field(e.popLast());Rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=t.mapValue.fields[e.get(s)];Rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,s){bc(t,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Ei(ff(this.value))}}function ij(n){const e=[];return bc(n.fields,(t,s)=>{const i=new Hn([t]);if(Rm(s)){const r=ij(s.mapValue).fields;if(r.length===0)e.push(i);else for(const a of r)e.push(i.child(a))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,s,i,r,a,o){this.key=e,this.documentType=t,this.version=s,this.readTime=i,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(e){return new es(e,0,Ye.min(),Ye.min(),Ye.min(),Ei.empty(),0)}static newFoundDocument(e,t,s,i){return new es(e,1,t,Ye.min(),s,i,0)}static newNoDocument(e,t){return new es(e,2,t,Ye.min(),Ye.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new es(e,3,t,Ye.min(),Ye.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t){this.position=e,this.inclusive=t}}function uk(n,e,t){let s=0;for(let i=0;i<n.position.length;i++){const r=e[i],a=n.position[i];if(r.field.isKeyField()?s=Oe.comparator(Oe.fromName(a.referenceValue),t.key):s=dh(a,t.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function hk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t="asc"){this.field=e,this.dir=t}}function vY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{}class An extends rj{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new yY(e,t,s):t==="array-contains"?new _Y(e,s):t==="in"?new SY(e,s):t==="not-in"?new AY(e,s):t==="array-contains-any"?new CY(e,s):new An(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new bY(e,s):new wY(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(dh(t,this.value)):t!==null&&qo(this.value)===qo(t)&&this.matchesComparison(dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends rj{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Yr(e,t)}matches(e){return aj(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aj(n){return n.op==="and"}function oj(n){return xY(n)&&aj(n)}function xY(n){for(const e of n.filters)if(e instanceof Yr)return!1;return!0}function Fw(n){if(n instanceof An)return n.field.canonicalString()+n.op.toString()+fh(n.value);if(oj(n))return n.filters.map(e=>Fw(e)).join(",");{const e=n.filters.map(t=>Fw(t)).join(",");return`${n.op}(${e})`}}function lj(n,e){return n instanceof An?function(s,i){return i instanceof An&&s.op===i.op&&s.field.isEqual(i.field)&&Wr(s.value,i.value)}(n,e):n instanceof Yr?function(s,i){return i instanceof Yr&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,a,o)=>r&&lj(a,i.filters[o]),!0):!1}(n,e):void Ve(19439)}function cj(n){return n instanceof An?function(t){return`${t.field.canonicalString()} ${t.op} ${fh(t.value)}`}(n):n instanceof Yr?function(t){return t.op.toString()+" {"+t.getFilters().map(cj).join(" ,")+"}"}(n):"Filter"}class yY extends An{constructor(e,t,s){super(e,t,s),this.key=Oe.fromName(s.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class bY extends An{constructor(e,t){super(e,"in",t),this.keys=uj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wY extends An{constructor(e,t){super(e,"not-in",t),this.keys=uj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uj(n,e){return(e.arrayValue?.values||[]).map(t=>Oe.fromName(t.referenceValue))}class _Y extends An{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return RS(t)&&Qf(t.arrayValue,this.value)}}class SY extends An{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qf(this.value.arrayValue,t)}}class AY extends An{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qf(this.value.arrayValue,t)}}class CY extends An{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!RS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Qf(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,t=null,s=[],i=[],r=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=a,this.endAt=o,this.Te=null}}function dk(n,e=null,t=[],s=[],i=null,r=null,a=null){return new TY(n,e,t,s,i,r,a)}function PS(n){const e=$e(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Fw(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Yx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>fh(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>fh(s)).join(",")),e.Te=t}return e.Te}function IS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hk(n.startAt,e.startAt)&&hk(n.endAt,e.endAt)}function Bw(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,t=null,s=[],i=[],r=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EY(n,e,t,s,i,r,a,o){return new Gx(n,e,t,s,i,r,a,o)}function MS(n){return new Gx(n)}function fk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kY(n){return n.collectionGroup!==null}function gf(n){const e=$e(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),t.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Tn(Hn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new zv(r,s))}),t.has(Hn.keyField().canonicalString())||e.Ie.push(new zv(Hn.keyField(),s))}return e.Ie}function Fr(n){const e=$e(n);return e.Ee||(e.Ee=NY(e,gf(n))),e.Ee}function NY(n,e){if(n.limitType==="F")return dk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new zv(i.field,r)});const t=n.endAt?new Dv(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Dv(n.startAt.position,n.startAt.inclusive):null;return dk(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Vw(n,e,t){return new Gx(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $x(n,e){return IS(Fr(n),Fr(e))&&n.limitType===e.limitType}function hj(n){return`${PS(Fr(n))}|lt:${n.limitType}`}function gu(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(i=>cj(i)).join(", ")}]`),Yx(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>fh(i)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>fh(i)).join(",")),`Target(${s})`}(Fr(n))}; limitType=${n.limitType})`}function qx(n,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Oe.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(n,e)&&function(s,i){for(const r of gf(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(n,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(n,e)&&function(s,i){return!(s.startAt&&!function(a,o,l){const c=uk(a,o,l);return a.inclusive?c<=0:c<0}(s.startAt,gf(s),i)||s.endAt&&!function(a,o,l){const c=uk(a,o,l);return a.inclusive?c>=0:c>0}(s.endAt,gf(s),i))}(n,e)}function RY(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dj(n){return(e,t)=>{let s=!1;for(const i of gf(n)){const r=PY(i,e,t);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function PY(n,e,t){const s=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(r,a,o){const l=a.data.field(r),c=o.data.field(r);return l!==null&&c!==null?dh(l,c):Ve(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[t]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(t,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return ZM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=new Zt(Oe.comparator);function Ha(){return IY}const fj=new Zt(Oe.comparator);function Hd(...n){let e=fj;for(const t of n)e=e.insert(t.key,t);return e}function gj(n){let e=fj;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Dl(){return pf()}function pj(){return pf()}function pf(){return new wc(n=>n.toString(),(n,e)=>n.isEqual(e))}const MY=new Zt(Oe.comparator),jY=new Tn(Oe.comparator);function ut(...n){let e=jY;for(const t of n)e=e.add(t);return e}const LY=new Tn(ct);function OY(){return LY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jv(e)?"-0":e}}function mj(n){return{integerValue:""+n}}function DY(n,e){return cY(e)?mj(e):jS(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this._=void 0}}function zY(n,e,t){return n instanceof Fv?function(i,r){const a={fields:{[JM]:{stringValue:QM},[tj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&NS(r)&&(r=Xx(r)),r&&(a.fields[ej]=r),{mapValue:a}}(t,e):n instanceof Jf?xj(n,e):n instanceof eg?yj(n,e):function(i,r){const a=vj(i,r),o=gk(a)+gk(i.Ae);return zw(a)&&zw(i.Ae)?mj(o):jS(i.serializer,o)}(n,e)}function FY(n,e,t){return n instanceof Jf?xj(n,e):n instanceof eg?yj(n,e):t}function vj(n,e){return n instanceof Bv?function(s){return zw(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Fv extends Zx{}class Jf extends Zx{constructor(e){super(),this.elements=e}}function xj(n,e){const t=bj(e);for(const s of n.elements)t.some(i=>Wr(i,s))||t.push(s);return{arrayValue:{values:t}}}class eg extends Zx{constructor(e){super(),this.elements=e}}function yj(n,e){let t=bj(e);for(const s of n.elements)t=t.filter(i=>!Wr(i,s));return{arrayValue:{values:t}}}class Bv extends Zx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gk(n){return cn(n.integerValue||n.doubleValue)}function bj(n){return RS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function BY(n,e){return n.field.isEqual(e.field)&&function(s,i){return s instanceof Jf&&i instanceof Jf||s instanceof eg&&i instanceof eg?hh(s.elements,i.elements,Wr):s instanceof Bv&&i instanceof Bv?Wr(s.Ae,i.Ae):s instanceof Fv&&i instanceof Fv}(n.transform,e.transform)}class VY{constructor(e,t){this.version=e,this.transformResults=t}}class Ia{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ia}static exists(e){return new Ia(void 0,e)}static updateTime(e){return new Ia(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kx{}function wj(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sj(n.key,Ia.none()):new Vg(n.key,n.data,Ia.none());{const t=n.data,s=Ei.empty();let i=new Tn(Hn.comparator);for(let r of e.fields)if(!i.has(r)){let a=t.field(r);a===null&&r.length>1&&(r=r.popLast(),a=t.field(r)),a===null?s.delete(r):s.set(r,a),i=i.add(r)}return new _c(n.key,s,new ir(i.toArray()),Ia.none())}}function HY(n,e,t){n instanceof Vg?function(i,r,a){const o=i.value.clone(),l=mk(i.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof _c?function(i,r,a){if(!Pm(i.precondition,r))return void r.convertToUnknownDocument(a.version);const o=mk(i.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(_j(i)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(i,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function mf(n,e,t,s){return n instanceof Vg?function(r,a,o,l){if(!Pm(r.precondition,a))return o;const c=r.value.clone(),h=vk(r.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(n,e,t,s):n instanceof _c?function(r,a,o,l){if(!Pm(r.precondition,a))return o;const c=vk(r.fieldTransforms,l,a),h=a.data;return h.setAll(_j(r)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(n,e,t,s):function(r,a,o){return Pm(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function UY(n,e){let t=null;for(const s of n.fieldTransforms){const i=e.data.field(s.field),r=vj(s.transform,i||null);r!=null&&(t===null&&(t=Ei.empty()),t.set(s.field,r))}return t||null}function pk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&hh(s,i,(r,a)=>BY(r,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vg extends Kx{constructor(e,t,s,i=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _c extends Kx{constructor(e,t,s,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function _j(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function mk(n,e,t){const s=new Map;Tt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const r=n[i],a=r.transform,o=e.data.field(r.field);s.set(r.field,FY(a,o,t[i]))}return s}function vk(n,e,t){const s=new Map;for(const i of n){const r=i.transform,a=t.data.field(i.field);s.set(i.field,zY(r,a,e))}return s}class Sj extends Kx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WY extends Kx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e,t,s,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&HY(r,e,s[i])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mf(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mf(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=pj();return this.mutations.forEach(i=>{const r=e.get(i.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=t.has(i.key)?null:o;const l=wj(a,o);l!==null&&s.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ye.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ut())}isEqual(e){return this.batchId===e.batchId&&hh(this.mutations,e.mutations,(t,s)=>pk(t,s))&&hh(this.baseMutations,e.baseMutations,(t,s)=>pk(t,s))}}class LS{constructor(e,t,s,i){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=i}static from(e,t,s){Tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return MY}();const r=e.mutations;for(let a=0;a<r.length;a++)i=i.insert(r[a].key,s[a].version);return new LS(e,t,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XY=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,dt;function $Y(n){switch(n){case ge.OK:return Ve(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Ve(15467,{code:n})}}function Aj(n){if(n===void 0)return Va("GRPC error has no .code"),ge.UNKNOWN;switch(n){case gn.OK:return ge.OK;case gn.CANCELLED:return ge.CANCELLED;case gn.UNKNOWN:return ge.UNKNOWN;case gn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case gn.INTERNAL:return ge.INTERNAL;case gn.UNAVAILABLE:return ge.UNAVAILABLE;case gn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case gn.NOT_FOUND:return ge.NOT_FOUND;case gn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case gn.ABORTED:return ge.ABORTED;case gn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case gn.DATA_LOSS:return ge.DATA_LOSS;default:return Ve(39323,{code:n})}}(dt=gn||(gn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=new Lo([4294967295,4294967295],0);function xk(n){const e=qY().encode(n),t=new BM;return t.update(e),new Uint8Array(t.digest())}function yk(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Lo([t,s],0),new Lo([i,r],0)]}class OS{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ud(`Invalid padding: ${t}`);if(s<0)throw new Ud(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ud(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ud(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Lo.fromNumber(this.ge)}ye(e,t,s){let i=e.add(t.multiply(Lo.fromNumber(s)));return i.compare(ZY)===1&&(i=new Lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=xk(e),[s,i]=yk(t);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);if(!this.we(a))return!1}return!0}static create(e,t,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new OS(r,i,t);return s.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const t=xk(e),[s,i]=yk(t);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);this.Se(a)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t,s,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const i=new Map;return i.set(e,Hg.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Qx(Ye.min(),i,new Zt(ct),Ha(),ut())}}class Hg{constructor(e,t,s,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Hg(s,t,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t,s,i){this.be=e,this.removedTargetIds=t,this.key=s,this.De=i}}class Cj{constructor(e,t){this.targetId=e,this.Ce=t}}class Tj{constructor(e,t,s=Gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=i}}class bk{constructor(){this.ve=0,this.Fe=wk(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),t=ut(),s=ut();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:s=s.add(i);break;default:Ve(38017,{changeType:r})}}),new Hg(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=wk()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KY{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ha(),this.Je=Kp(),this.He=Kp(),this.Ye=new Zt(ct)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,s=e.Ce.count,i=this.ot(t);if(i){const r=i.target;if(Bw(r))if(s===0){const a=new Oe(r.path);this.et(t,a,es.newNoDocument(a,Ye.min()))}else Tt(s===1,20013,{expectedCount:s});else{const a=this._t(t);if(a!==s){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,c)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=t;let a,o;try{a=$o(s).toUint8Array()}catch(l){if(l instanceof KM)return uh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new OS(a,i,r)}catch(l){return uh(l instanceof Ud?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let i=0;return s.forEach(r=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.et(t,r,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((r,a)=>{const o=this.ot(a);if(o){if(r.current&&Bw(o.target)){const l=new Oe(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,es.newNoDocument(l,e))}r.Be&&(t.set(a,r.ke()),r.qe())}});let s=ut();this.He.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(s=s.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const i=new Qx(e,t,this.Ye,this.je,s);return this.je=Ha(),this.Je=Kp(),this.He=Kp(),this.Ye=new Zt(ct),i}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new bk,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tn(ct),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tn(ct),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bk),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kp(){return new Zt(Oe.comparator)}function wk(){return new Zt(Oe.comparator)}const QY={asc:"ASCENDING",desc:"DESCENDING"},JY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eX={and:"AND",or:"OR"};class tX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hw(n,e){return n.useProto3Json||Yx(e)?e:{value:e}}function Vv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ej(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nX(n,e){return Vv(n,e.toTimestamp())}function Br(n){return Tt(!!n,49232),Ye.fromTimestamp(function(t){const s=Go(t);return new Ht(s.seconds,s.nanos)}(n))}function DS(n,e){return Uw(n,e).canonicalString()}function Uw(n,e){const t=function(i){return new qt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kj(n){const e=qt.fromString(n);return Tt(Mj(e),10190,{key:e.toString()}),e}function Ww(n,e){return DS(n.databaseId,e.path)}function Mb(n,e){const t=kj(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(Rj(t))}function Nj(n,e){return DS(n.databaseId,e)}function sX(n){const e=kj(n);return e.length===4?qt.emptyPath():Rj(e)}function Yw(n){return new qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Rj(n){return Tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _k(n,e,t){return{name:Ww(n,e),fields:t.value.mapValue.fields}}function iX(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ve(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(c,h){return c.useProto3Json?(Tt(h===void 0||typeof h=="string",58123),Gn.fromBase64String(h||"")):(Tt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Gn.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?ge.UNKNOWN:Aj(c.code);return new Ie(h,c.message||"")}(a);t=new Tj(s,i,r,o||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Mb(n,s.document.name),r=Br(s.document.updateTime),a=s.document.createTime?Br(s.document.createTime):Ye.min(),o=new Ei({mapValue:{fields:s.document.fields}}),l=es.newFoundDocument(i,r,a,o),c=s.targetIds||[],h=s.removedTargetIds||[];t=new Im(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Mb(n,s.document),r=s.readTime?Br(s.readTime):Ye.min(),a=es.newNoDocument(i,r),o=s.removedTargetIds||[];t=new Im([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Mb(n,s.document),r=s.removedTargetIds||[];t=new Im([],r,i,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,a=new GY(i,r),o=s.targetId;t=new Cj(o,a)}}return t}function rX(n,e){let t;if(e instanceof Vg)t={update:_k(n,e.key,e.value)};else if(e instanceof Sj)t={delete:Ww(n,e.key)};else if(e instanceof _c)t={update:_k(n,e.key,e.data),updateMask:gX(e.fieldMask)};else{if(!(e instanceof WY))return Ve(16599,{Vt:e.type});t={verify:Ww(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(r,a){const o=a.transform;if(o instanceof Fv)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Jf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof eg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bv)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Ve(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:nX(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ve(27497)}(n,e.precondition)),t}function aX(n,e){return n&&n.length>0?(Tt(e!==void 0,14353),n.map(t=>function(i,r){let a=i.updateTime?Br(i.updateTime):Br(r);return a.isEqual(Ye.min())&&(a=Br(r)),new VY(a,i.transformResults||[])}(t,e))):[]}function oX(n,e){return{documents:[Nj(n,e.path)]}}function lX(n,e){const t={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Nj(n,i);const r=function(c){if(c.length!==0)return Ij(Yr.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:pu(g.field),direction:hX(g.dir)}}(h))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=Hw(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:t,parent:i}}function cX(n){let e=sX(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let i=null;if(s>0){Tt(s===1,65062);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];t.where&&(r=function(f){const g=Pj(f);return g instanceof Yr&&oj(g)?g.getFilters():[g]}(t.where));let a=[];t.orderBy&&(a=function(f){return f.map(g=>function(x){return new zv(mu(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(t.orderBy));let o=null;t.limit&&(o=function(f){let g;return g=typeof f=="object"?f.value:f,Yx(g)?null:g}(t.limit));let l=null;t.startAt&&(l=function(f){const g=!!f.before,p=f.values||[];return new Dv(p,g)}(t.startAt));let c=null;return t.endAt&&(c=function(f){const g=!f.before,p=f.values||[];return new Dv(p,g)}(t.endAt)),EY(e,i,a,r,o,"F",l,c)}function uX(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Pj(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=mu(t.unaryFilter.field);return An.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=mu(t.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mu(t.unaryFilter.field);return An.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=mu(t.unaryFilter.field);return An.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(n):n.fieldFilter!==void 0?function(t){return An.create(mu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yr.create(t.compositeFilter.filters.map(s=>Pj(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(t.compositeFilter.op))}(n):Ve(30097,{filter:n})}function hX(n){return QY[n]}function dX(n){return JY[n]}function fX(n){return eX[n]}function pu(n){return{fieldPath:n.canonicalString()}}function mu(n){return Hn.fromServerFormat(n.fieldPath)}function Ij(n){return n instanceof An?function(t){if(t.op==="=="){if(ck(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NAN"}};if(lk(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ck(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NOT_NAN"}};if(lk(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(t.field),op:dX(t.op),value:t.value}}}(n):n instanceof Yr?function(t){const s=t.getFilters().map(i=>Ij(i));return s.length===1?s[0]:{compositeFilter:{op:fX(t.op),filters:s}}}(n):Ve(54877,{filter:n})}function gX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mj(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t,s,i,r=Ye.min(),a=Ye.min(),o=Gn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e){this.yt=e}}function mX(n){const e=cX({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(){this.Cn=new xX}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Xo.min())}updateCollectionGroup(e,t,s){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class xX{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t]||new Tn(qt.comparator),r=!i.has(s);return this.index[t]=i.add(s),r}has(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Tn(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jj=41943040;class ks{static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(jj,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gh(0)}static cr(){return new gh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="LruGarbageCollector",yX=1048576;function Ck([n,e],[t,s]){const i=ct(n,t);return i===0?ct(e,s):i}class bX{constructor(e){this.Ir=e,this.buffer=new Tn(Ck),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ck(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wX{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(Ak,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bh(t)?Ce(Ak,"Ignoring IndexedDB error during garbage collection: ",t):await Fh(t)}await this.Vr(3e5)})}}class _X{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Wx.ce);const s=new bX(t);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Sk)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sk):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,i,r,a,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(s=f,o=Date.now(),this.removeTargets(e,s,t))).next(f=>(r=f,l=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(c=Date.now(),fu()<=lt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:f})))}}function SX(n,e){return new _X(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(){this.changes=new wc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ce.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e,t,s,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(s!==null&&mf(s.mutation,i,ir.empty(),Ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ut()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ut()){const i=Dl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,s).next(r=>{let a=Hd();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const s=Dl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ut()))}populateOverlays(e,t,s){const i=[];return s.forEach(r=>{t.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,s,i){let r=Ha();const a=pf(),o=function(){return pf()}();return t.forEach((l,c)=>{const h=s.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof _c)?r=r.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),mf(h.mutation,c,h.mutation.getFieldMask(),Ht.now())):a.set(c.key,ir.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,h)=>a.set(c,h)),t.forEach((c,h)=>o.set(c,new CX(h,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,t){const s=pf();let i=new Zt((a,o)=>a-o),r=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let h=s.get(l)||ir.empty();h=o.applyToLocalView(c,h),s.set(l,h);const f=(i.get(o.batchId)||ut()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=pj();h.forEach(g=>{if(!r.has(g)){const p=wj(t.get(g),s.get(g));p!==null&&f.set(g,p),r=r.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ce.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,i){return function(a){return Oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kY(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,i):this.getDocumentsMatchingCollectionQuery(e,t,s,i)}getNextDocuments(e,t,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,i).next(r=>{const a=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,i-r.size):ce.resolve(Dl());let o=qf,l=r;return a.next(c=>ce.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),r.get(h)?ce.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,ut())).next(h=>({batchId:o,changes:gj(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(s=>{let i=Hd();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,s,i){const r=t.collectionGroup;let a=Hd();return this.indexManager.getCollectionParents(e,r).next(o=>ce.forEach(o,l=>{const c=function(f,g){return new Gx(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s,i).next(h=>{h.forEach((f,g)=>{a=a.insert(f,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,r,i))).next(a=>{r.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,es.newInvalidDocument(h)))});let o=Hd();return a.forEach((l,c)=>{const h=r.get(l);h!==void 0&&mf(h.mutation,c,ir.empty(),Ht.now()),qx(t,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:mX(i.bundledQuery),readTime:Br(i.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(){this.overlays=new Zt(Oe.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Dl();return ce.forEach(t,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((i,r)=>{this.St(e,t,r)}),ce.resolve()}removeOverlaysForBatchId(e,t,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(s)),ce.resolve()}getOverlaysForCollection(e,t,s){const i=Dl(),r=t.length+1,a=new Oe(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,s,i){let r=new Zt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>s){let h=r.get(c.largestBatchId);h===null&&(h=Dl(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Dl(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return ce.resolve(o)}St(e,t,s){const i=this.overlays.get(s.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new XY(t,s));let r=this.qr.get(t);r===void 0&&(r=ut(),this.qr.set(t,r)),this.qr.set(t,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Qr=new Tn(Nn.$r),this.Ur=new Tn(Nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Nn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Nn(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Oe(new qt([])),s=new Nn(t,e),i=new Nn(t,e+1),r=[];return this.Ur.forEachInRange([s,i],a=>{this.Gr(a),r.push(a.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Oe(new qt([])),s=new Nn(t,e),i=new Nn(t,e+1);let r=ut();return this.Ur.forEachInRange([s,i],a=>{r=r.add(a.key)}),r}containsKey(e){const t=new Nn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Nn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Oe.comparator(e.key,t.key)||ct(e.Yr,t.Yr)}static Kr(e,t){return ct(e.Yr,t.Yr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(Nn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new YY(r,t,s,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Nn(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ce.resolve(a)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,i=this.ei(s),r=i<0?0:i;return ce.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?kS:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Nn(t,0),i=new Nn(t,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],a=>{const o=this.Xr(a.Yr);r.push(o)}),ce.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Tn(ct);return t.forEach(i=>{const r=new Nn(i,0),a=new Nn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,a],o=>{s=s.add(o.Yr)})}),ce.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,i=s.length+1;let r=s;Oe.isDocumentKey(r)||(r=r.child(""));const a=new Nn(new Oe(r),0);let o=new Tn(ct);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},a),ce.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ce.forEach(t.mutations,i=>{const r=new Nn(i.key,t.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Nn(t,0),i=this.Zr.firstAfterOrEqual(s);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(e){this.ri=e,this.docs=function(){return new Zt(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,i=this.docs.get(s),r=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ce.resolve(s?s.document.mutableCopy():es.newInvalidDocument(t))}getEntries(e,t){let s=Ha();return t.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():es.newInvalidDocument(i))}),ce.resolve(s)}getDocumentsMatchingQuery(e,t,s,i){let r=Ha();const a=t.path,o=new Oe(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||rY(iY(h),s)<=0||(i.has(h.key)||qx(t,h))&&(r=r.insert(h.key,h.mutableCopy()))}return ce.resolve(r)}getAllFromCollectionGroup(e,t,s,i){Ve(9500)}ii(e,t){return ce.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new IX(this)}getSize(e){return ce.resolve(this.size)}}class IX extends AX{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e){this.persistence=e,this.si=new wc(t=>PS(t),IS),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new zS,this.targetCount=0,this.ai=gh.ur()}forEachTarget(e,t){return this.si.forEach((s,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new gh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,s){let i=0;const r=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&s.get(o.targetId)===null&&(this.si.delete(a),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ce.waitFor(r).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ce.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ce.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach(a=>{r.push(i.markPotentiallyOrphaned(e,a))}),ce.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ce.resolve(s)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wx(0),this.li=!1,this.li=!0,this.hi=new NX,this.referenceDelegate=e(this),this.Pi=new MX(this),this.indexManager=new vX,this.remoteDocumentCache=function(i){return new PX(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new pX(t),this.Ii=new EX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new RX(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Ce("MemoryPersistence","Starting transaction:",e);const i=new jX(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(r=>this.referenceDelegate.di(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ai(e,t){return ce.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class jX extends oY{constructor(e){super(),this.currentSequenceNumber=e}}class FS{constructor(e){this.persistence=e,this.Ri=new zS,this.Vi=null}static mi(e){return new FS(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ce.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(r=>this.fi.add(r.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,s=>{const i=Oe.fromPath(s);return this.gi(e,i).next(r=>{r||t.removeEntry(i,Ye.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hv{constructor(e,t){this.persistence=e,this.pi=new wc(s=>uY(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=SX(this,t)}static mi(e,t){return new Hv(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(i=>s+i))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ce.forEach(this.pi,(s,i)=>this.br(e,s,i).next(r=>r?ce.resolve():t(i)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,t).next(o=>{o||(s++,r.removeEntry(a,Ye.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nm(e.data.value)),t}br(e,t,s){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ce.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,s,i){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=i}static As(e,t){let s=ut(),i=ut();for(const r of t.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new BS(e,t.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return a9()?8:lY(is())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,i){const r={result:null};return this.ys(e,t).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ws(e,t,i,s).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new LX;return this.Ss(e,t,a).next(o=>{if(r.result=o,this.Vs)return this.bs(e,t,a,o.size)})}).next(()=>r.result)}bs(e,t,s,i){return s.documentReadCount<this.fs?(fu()<=lt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",gu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(fu()<=lt.DEBUG&&Ce("QueryEngine","Query:",gu(t),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(fu()<=lt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",gu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):ce.resolve())}ys(e,t){if(fk(t))return ce.resolve(null);let s=Fr(t);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Vw(t,null,"F"),s=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const a=ut(...r);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.Ds(t,o);return this.Cs(t,c,a,l.readTime)?this.ys(e,Vw(t,null,"F")):this.vs(e,c,t,l)}))})))}ws(e,t,s,i){return fk(t)||i.isEqual(Ye.min())?ce.resolve(null):this.ps.getDocuments(e,s).next(r=>{const a=this.Ds(t,r);return this.Cs(t,a,s,i)?ce.resolve(null):(fu()<=lt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gu(t)),this.vs(e,a,t,sY(i,qf)).next(o=>o))})}Ds(e,t){let s=new Tn(dj(e));return t.forEach((i,r)=>{qx(e,r)&&(s=s.add(r))}),s}Cs(e,t,s,i){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,t,s){return fu()<=lt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",gu(t)),this.ps.getDocumentsMatchingQuery(e,t,Xo.min(),s)}vs(e,t,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(r=>(t.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="LocalStore",DX=3e8;class zX{constructor(e,t,s,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Zt(ct),this.xs=new wc(r=>PS(r),IS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TX(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function FX(n,e,t,s){return new zX(n,e,t,s)}async function Oj(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let i;return t.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(r=>{const a=[],o=[];let l=ut();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(s,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function BX(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=t.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,g=f.keys();let p=ce.resolve();return g.forEach(x=>{p=p.next(()=>h.getEntry(l,x)).next(v=>{const _=c.docVersions.get(x);Tt(_!==null,48541),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(t,s,e,r).next(()=>r.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let l=ut();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(s,i))})}function Dj(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function VX(n,e){const t=$e(n),s=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const o=[];e.targetChanges.forEach((h,f)=>{const g=i.get(f);if(!g)return;o.push(t.Pi.removeMatchingKeys(r,h.removedDocuments,f).next(()=>t.Pi.addMatchingKeys(r,h.addedDocuments,f)));let p=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Gn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,s)),i=i.insert(f,p),function(v,_,w){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=DX?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,p,h)&&o.push(t.Pi.updateTargetData(r,p))});let l=Ha(),c=ut();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(r,h))}),o.push(HX(r,a,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!s.isEqual(Ye.min())){const h=t.Pi.getLastRemoteSnapshotVersion(r).next(f=>t.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s));o.push(h)}return ce.waitFor(o).next(()=>a.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(t.Ms=i,r))}function HX(n,e,t){let s=ut(),i=ut();return t.forEach(r=>s=s.add(r)),e.getEntries(n,s).next(r=>{let a=Ha();return t.forEach((o,l)=>{const c=r.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ye.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ce(VS,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function UX(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=kS),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function WX(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return t.Pi.getTargetData(s,e).next(r=>r?(i=r,ce.resolve(i)):t.Pi.allocateTargetId(s).next(a=>(i=new Ao(e,a,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=t.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Xw(n,e,t){const s=$e(n),i=s.Ms.get(e),r=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",r,a=>s.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Bh(a))throw a;Ce(VS,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function Tk(n,e,t){const s=$e(n);let i=Ye.min(),r=ut();return s.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=$e(l),g=f.xs.get(h);return g!==void 0?ce.resolve(f.Ms.get(g)):f.Pi.getTargetData(c,h)}(s,a,Fr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,t?i:Ye.min(),t?r:ut())).next(o=>(YX(s,RY(e),o),{documents:o,Qs:r})))}function YX(n,e,t){let s=n.Os.get(e)||Ye.min();t.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),n.Os.set(e,s)}class Ek{constructor(){this.activeTargetIds=OY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XX{constructor(){this.Mo=new Ek,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ek,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="ConnectivityMonitor";class Nk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(kk,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(kk,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp=null;function Gw(){return Qp===null?Qp=function(){return 268435456+Math.round(2147483648*Math.random())}():Qp++,"0x"+Qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="RestConnection",$X={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===Lv?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,t,s,i,r){const a=Gw(),o=this.zo(e,t.toUriEncodedString());Ce(jb,`Sending RPC '${e}' ${a}:`,o,s);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,r);const{host:c}=new URL(o),h=sl(c);return this.Jo(e,o,l,s,h).then(f=>(Ce(jb,`Received RPC '${e}' ${a}: `,f),f),f=>{throw uh(jb,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",s),f})}Ho(e,t,s,i,r,a){return this.Go(e,t,s,i,r)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}zo(e,t){const s=$X[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class KX extends qX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,i,r){const a=Gw();return new Promise((o,l)=>{const c=new VM;c.setWithCredentials(!0),c.listenOnce(HM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case km.NO_ERROR:const f=c.getResponseJson();Ce(Qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case km.TIMEOUT:Ce(Qn,`RPC '${e}' ${a} timed out`),l(new Ie(ge.DEADLINE_EXCEEDED,"Request time out"));break;case km.HTTP_ERROR:const g=c.getStatus();if(Ce(Qn,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p?.error;if(x&&x.status&&x.message){const v=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(S)>=0?S:ge.UNKNOWN}(x.status);l(new Ie(v,x.message))}else l(new Ie(ge.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ie(ge.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ce(Qn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);Ce(Qn,`RPC '${e}' ${a} sending request:`,i),c.send(t,"POST",h,s,15)})}T_(e,t,s){const i=Gw(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=YM(),o=WM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,s),l.encodeInitMessageHeaders=!0;const h=r.join("");Ce(Qn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let g=!1,p=!1;const x=new ZX({Yo:_=>{p?Ce(Qn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(g||(Ce(Qn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Ce(Qn,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},Zo:()=>f.close()}),v=(_,w,S)=>{_.listen(w,A=>{try{S(A)}catch(T){setTimeout(()=>{throw T},0)}})};return v(f,Vd.EventType.OPEN,()=>{p||(Ce(Qn,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),v(f,Vd.EventType.CLOSE,()=>{p||(p=!0,Ce(Qn,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))}),v(f,Vd.EventType.ERROR,_=>{p||(p=!0,uh(Qn,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),x.a_(new Ie(ge.UNAVAILABLE,"The operation could not be completed")))}),v(f,Vd.EventType.MESSAGE,_=>{if(!p){const w=_.data[0];Tt(!!w,16349);const S=w,A=S?.error||S[0]?.error;if(A){Ce(Qn,`RPC '${e}' stream ${i} received error:`,A);const T=A.status;let N=function(k){const M=gn[k];if(M!==void 0)return Aj(M)}(T),O=A.message;N===void 0&&(N=ge.INTERNAL,O="Unknown error status: "+T+" with message "+A.message),p=!0,x.a_(new Ie(N,O)),f.close()}else Ce(Qn,`RPC '${e}' stream ${i} received:`,w),x.u_(w)}}),v(o,UM.STAT_EVENT,_=>{_.stat===Lw.PROXY?Ce(Qn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Lw.NOPROXY&&Ce(Qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Lb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){return new tX(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,t,s=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-s);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="PersistentStream";class Fj{constructor(e,t,s,i,r,a,o,l){this.Mi=e,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zj(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Va(t.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===t&&this.G_(s,i)},s=>{e(()=>{const i=new Ie(ge.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ce(Rk,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ce(Rk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QX extends Fj{constructor(e,t,s,i,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,i,a),this.serializer=r}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=iX(this.serializer,e),s=function(r){if(!("targetChange"in r))return Ye.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ye.min():a.readTime?Br(a.readTime):Ye.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Yw(this.serializer),t.addTarget=function(r,a){let o;const l=a.target;if(o=Bw(l)?{documents:oX(r,l)}:{query:lX(r,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Ej(r,a.resumeToken);const c=Hw(r,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Ye.min())>0){o.readTime=Vv(r,a.snapshotVersion.toTimestamp());const c=Hw(r,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const s=uX(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Yw(this.serializer),t.removeTarget=e,this.q_(t)}}class JX extends Fj{constructor(e,t,s,i,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,i,a),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=aX(e.writeResults,e.commitTime),s=Br(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Yw(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>rX(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{}class tG extends eG{constructor(e,t,s,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Go(e,Uw(t,s),i,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(ge.UNKNOWN,r.toString())})}Ho(e,t,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Uw(t,s),i,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ge.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Va(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="RemoteStore";class sG{constructor(e,t,s,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Sc(this)&&(Ce(uc,"Restarting streams for network reachability change."),await async function(l){const c=$e(l);c.Ea.add(4),await Ug(c),c.Ra.set("Unknown"),c.Ea.delete(4),await ey(c)}(this))})}),this.Ra=new nG(s,i)}}async function ey(n){if(Sc(n))for(const e of n.da)await e(!0)}async function Ug(n){for(const e of n.da)await e(!1)}function Bj(n,e){const t=$e(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),YS(t)?WS(t):Vh(t).O_()&&US(t,e))}function HS(n,e){const t=$e(n),s=Vh(t);t.Ia.delete(e),s.O_()&&Vj(t,e),t.Ia.size===0&&(s.O_()?s.L_():Sc(t)&&t.Ra.set("Unknown"))}function US(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vh(n).Y_(e)}function Vj(n,e){n.Va.Ue(e),Vh(n).Z_(e)}function WS(n){n.Va=new KY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Vh(n).start(),n.Ra.ua()}function YS(n){return Sc(n)&&!Vh(n).x_()&&n.Ia.size>0}function Sc(n){return $e(n).Ea.size===0}function Hj(n){n.Va=void 0}async function iG(n){n.Ra.set("Online")}async function rG(n){n.Ia.forEach((e,t)=>{US(n,e)})}async function aG(n,e){Hj(n),YS(n)?(n.Ra.ha(e),WS(n)):n.Ra.set("Unknown")}async function oG(n,e,t){if(n.Ra.set("Online"),e instanceof Tj&&e.state===2&&e.cause)try{await async function(i,r){const a=r.cause;for(const o of r.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(n,e)}catch(s){Ce(uc,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uv(n,s)}else if(e instanceof Im?n.Va.Ze(e):e instanceof Cj?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ye.min()))try{const s=await Dj(n.localStore);t.compareTo(s)>=0&&await function(r,a){const o=r.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=r.Ia.get(c);h&&r.Ia.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=r.Ia.get(l);if(!h)return;r.Ia.set(l,h.withResumeToken(Gn.EMPTY_BYTE_STRING,h.snapshotVersion)),Vj(r,l);const f=new Ao(h.target,l,c,h.sequenceNumber);US(r,f)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(s){Ce(uc,"Failed to raise snapshot:",s),await Uv(n,s)}}async function Uv(n,e,t){if(!Bh(e))throw e;n.Ea.add(1),await Ug(n),n.Ra.set("Offline"),t||(t=()=>Dj(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ce(uc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ey(n)})}function Uj(n,e){return e().catch(t=>Uv(n,t,e))}async function ty(n){const e=$e(n),t=Zo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kS;for(;lG(e);)try{const i=await UX(e.localStore,s);if(i===null){e.Ta.length===0&&t.L_();break}s=i.batchId,cG(e,i)}catch(i){await Uv(e,i)}Wj(e)&&Yj(e)}function lG(n){return Sc(n)&&n.Ta.length<10}function cG(n,e){n.Ta.push(e);const t=Zo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Wj(n){return Sc(n)&&!Zo(n).x_()&&n.Ta.length>0}function Yj(n){Zo(n).start()}async function uG(n){Zo(n).ra()}async function hG(n){const e=Zo(n);for(const t of n.Ta)e.ea(t.mutations)}async function dG(n,e,t){const s=n.Ta.shift(),i=LS.from(s,e,t);await Uj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ty(n)}async function fG(n,e){e&&Zo(n).X_&&await async function(s,i){if(function(a){return $Y(a)&&a!==ge.ABORTED}(i.code)){const r=s.Ta.shift();Zo(s).B_(),await Uj(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await ty(s)}}(n,e),Wj(n)&&Yj(n)}async function Pk(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ce(uc,"RemoteStore received new credentials");const s=Sc(t);t.Ea.add(3),await Ug(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ey(t)}async function gG(n,e){const t=$e(n);e?(t.Ea.delete(2),await ey(t)):e||(t.Ea.add(2),await Ug(t),t.Ra.set("Unknown"))}function Vh(n){return n.ma||(n.ma=function(t,s,i){const r=$e(t);return r.sa(),new QX(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Xo:iG.bind(null,n),t_:rG.bind(null,n),r_:aG.bind(null,n),H_:oG.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),YS(n)?WS(n):n.Ra.set("Unknown")):(await n.ma.stop(),Hj(n))})),n.ma}function Zo(n){return n.fa||(n.fa=function(t,s,i){const r=$e(t);return r.sa(),new JX(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:uG.bind(null,n),r_:fG.bind(null,n),ta:hG.bind(null,n),na:dG.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await ty(n)):(await n.fa.stop(),n.Ta.length>0&&(Ce(uc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,s,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,i,r){const a=Date.now()+s,o=new XS(e,t,a,i,r);return o.start(s),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function GS(n,e){if(Va("AsyncQueue",`${e}: ${n}`),Bh(n))return new Ie(ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{static emptySet(e){return new Xu(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Oe.comparator(t.key,s.key):(t,s)=>Oe.comparator(t.key,s.key),this.keyedMap=Hd(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Xu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.ga=new Zt(Oe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class ph{constructor(e,t,s,i,r,a,o,l,c){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,s,i,r){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new ph(e,t,Xu.emptySet(t),a,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==s[i].type||!t[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mG{constructor(){this.queries=Mk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const i=$e(t),r=i.queries;i.queries=Mk(),r.forEach((a,o)=>{for(const l of o.Sa)l.onError(s)})})(this,new Ie(ge.ABORTED,"Firestore shutting down"))}}function Mk(){return new wc(n=>hj(n),$x)}async function vG(n,e){const t=$e(n);let s=3;const i=e.query;let r=t.queries.get(i);r?!r.ba()&&e.Da()&&(s=2):(r=new pG,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await t.onListen(i,!0);break;case 1:r.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const o=GS(a,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,r),r.Sa.push(e),e.va(t.onlineState),r.wa&&e.Fa(r.wa)&&$S(t)}async function xG(n,e){const t=$e(n),s=e.query;let i=3;const r=t.queries.get(s);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?i=e.Da()?0:1:!r.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function yG(n,e){const t=$e(n);let s=!1;for(const i of e){const r=i.query,a=t.queries.get(r);if(a){for(const o of a.Sa)o.Fa(i)&&(s=!0);a.wa=i}}s&&$S(t)}function bG(n,e,t){const s=$e(n),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(t);s.queries.delete(e)}function $S(n){n.Ca.forEach(e=>{e.next()})}var $w,jk;(jk=$w||($w={})).Ma="default",jk.Cache="cache";class wG{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new ph(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$w.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.key=e}}class Gj{constructor(e){this.key=e}}class _G{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=dj(e),this.tu=new Xu(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Ik,i=t?t.tu:this.tu;let r=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const g=i.get(h),p=qx(this.query,f)?f:null,x=!!g&&this.mutatedKeys.has(g.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;g&&p?g.data.isEqual(p.data)?x!==v&&(s.track({type:3,doc:p}),_=!0):this.su(g,p)||(s.track({type:2,doc:p}),_=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!g&&p?(s.track({type:0,doc:p}),_=!0):g&&!p&&(s.track({type:1,doc:g}),_=!0,(l||c)&&(o=!0)),_&&(p?(a=a.add(p),r=v?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{tu:a,iu:s,Cs:o,mutatedKeys:r}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(p,x){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:_})}};return v(p)-v(x)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(s),i=i??!1;const o=t&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new ph(this.query,e.tu,r,a,e.mutatedKeys,l===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ik,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new Gj(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new Xj(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=ut();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ph.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qS="SyncEngine";class SG{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class AG{constructor(e){this.key=e,this.hu=!1}}class CG{constructor(e,t,s,i,r,a){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new wc(o=>hj(o),$x),this.Iu=new Map,this.Eu=new Set,this.du=new Zt(Oe.comparator),this.Au=new Map,this.Ru=new zS,this.Vu={},this.mu=new Map,this.fu=gh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TG(n,e,t=!0){const s=Jj(n);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await $j(s,e,t,!0),i}async function EG(n,e){const t=Jj(n);await $j(t,e,!0,!1)}async function $j(n,e,t,s){const i=await WX(n.localStore,Fr(e)),r=i.targetId,a=n.sharedClientState.addLocalQueryTarget(r,t);let o;return s&&(o=await kG(n,e,r,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&Bj(n.remoteStore,i),o}async function kG(n,e,t,s,i){n.pu=(f,g,p)=>async function(v,_,w,S){let A=_.view.ru(w);A.Cs&&(A=await Tk(v.localStore,_.query,!1).then(({documents:C})=>_.view.ru(C,A)));const T=S&&S.targetChanges.get(_.targetId),N=S&&S.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(A,v.isPrimaryClient,T,N);return Ok(v,_.targetId,O.au),O.snapshot}(n,f,g,p);const r=await Tk(n.localStore,e,!0),a=new _G(e,r.Qs),o=a.ru(r.documents),l=Hg.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",i),c=a.applyChanges(o,n.isPrimaryClient,l);Ok(n,t,c.au);const h=new SG(e,t,a);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),c.snapshot}async function NG(n,e,t){const s=$e(n),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(a=>!$x(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Xw(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),t&&HS(s.remoteStore,i.targetId),qw(s,i.targetId)}).catch(Fh)):(qw(s,i.targetId),await Xw(s.localStore,i.targetId,!0))}async function RG(n,e){const t=$e(n),s=t.Tu.get(e),i=t.Iu.get(s.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),HS(t.remoteStore,s.targetId))}async function PG(n,e,t){const s=zG(n);try{const i=await function(a,o){const l=$e(a),c=Ht.now(),h=o.reduce((p,x)=>p.add(x.key),ut());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let x=Ha(),v=ut();return l.Ns.getEntries(p,h).next(_=>{x=_,x.forEach((w,S)=>{S.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,x)).next(_=>{f=_;const w=[];for(const S of o){const A=UY(S,f.get(S.key).overlayedDocument);A!=null&&w.push(new _c(S.key,A,ij(A.value.mapValue),Ia.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,o)}).next(_=>{g=_;const w=_.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,_.batchId,w)})}).then(()=>({batchId:g.batchId,changes:gj(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Zt(ct)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(s,i.batchId,t),await Wg(s,i.changes),await ty(s.remoteStore)}catch(i){const r=GS(i,"Failed to persist write");t.reject(r)}}async function qj(n,e){const t=$e(n);try{const s=await VX(t.localStore,e);e.targetChanges.forEach((i,r)=>{const a=t.Au.get(r);a&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Tt(a.hu,14607):i.removedDocuments.size>0&&(Tt(a.hu,42227),a.hu=!1))}),await Wg(t,s,e)}catch(s){await Fh(s)}}function Lk(n,e,t){const s=$e(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const i=[];s.Tu.forEach((r,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=$e(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const g of f.Sa)g.va(o)&&(c=!0)}),c&&$S(l)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function IG(n,e,t){const s=$e(n);s.sharedClientState.updateQueryState(e,"rejected",t);const i=s.Au.get(e),r=i&&i.key;if(r){let a=new Zt(Oe.comparator);a=a.insert(r,es.newNoDocument(r,Ye.min()));const o=ut().add(r),l=new Qx(Ye.min(),new Map,new Zt(ct),a,o);await qj(s,l),s.du=s.du.remove(r),s.Au.delete(e),ZS(s)}else await Xw(s.localStore,e,!1).then(()=>qw(s,e,t)).catch(Fh)}async function MG(n,e){const t=$e(n),s=e.batch.batchId;try{const i=await BX(t.localStore,e);Kj(t,s,null),Zj(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Wg(t,i)}catch(i){await Fh(i)}}async function jG(n,e,t){const s=$e(n);try{const i=await function(a,o){const l=$e(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Tt(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(s.localStore,e);Kj(s,e,t),Zj(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Wg(s,i)}catch(i){await Fh(i)}}function Zj(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function Kj(n,e,t){const s=$e(n);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(t?r.reject(t):r.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function qw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||Qj(n,s)})}function Qj(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(HS(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ZS(n))}function Ok(n,e,t){for(const s of t)s instanceof Xj?(n.Ru.addReference(s.key,e),LG(n,s)):s instanceof Gj?(Ce(qS,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||Qj(n,s.key)):Ve(19791,{wu:s})}function LG(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(Ce(qS,"New document in limbo: "+t),n.Eu.add(s),ZS(n))}function ZS(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Oe(qt.fromString(e)),s=n.fu.next();n.Au.set(s,new AG(t)),n.du=n.du.insert(t,s),Bj(n.remoteStore,new Ao(Fr(MS(t.path)),s,"TargetPurposeLimboResolution",Wx.ce))}}async function Wg(n,e,t){const s=$e(n),i=[],r=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((o,l)=>{a.push(s.pu(l,e,t).then(c=>{if((c||t)&&s.isPrimaryClient){const h=c?!c.fromCache:t?.targetChanges.get(l.targetId)?.current;s.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=BS.As(l.targetId,c);r.push(h)}}))}),await Promise.all(a),s.Pu.H_(i),await async function(l,c){const h=$e(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ce.forEach(c,g=>ce.forEach(g.Es,p=>h.persistence.referenceDelegate.addReference(f,g.targetId,p)).next(()=>ce.forEach(g.ds,p=>h.persistence.referenceDelegate.removeReference(f,g.targetId,p)))))}catch(f){if(!Bh(f))throw f;Ce(VS,"Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const p=h.Ms.get(g),x=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(x);h.Ms=h.Ms.insert(g,v)}}}(s.localStore,r))}async function OG(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ce(qS,"User change. New user:",e.toKey());const s=await Oj(t.localStore,e);t.currentUser=e,function(r,a){r.mu.forEach(o=>{o.forEach(l=>{l.reject(new Ie(ge.CANCELLED,a))})}),r.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wg(t,s.Ls)}}function DG(n,e){const t=$e(n),s=t.Au.get(e);if(s&&s.hu)return ut().add(s.key);{let i=ut();const r=t.Iu.get(e);if(!r)return i;for(const a of r){const o=t.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function Jj(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IG.bind(null,e),e.Pu.H_=yG.bind(null,e.eventManager),e.Pu.yu=bG.bind(null,e.eventManager),e}function zG(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jG.bind(null,e),e}class Wv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return FX(this.persistence,new OX,e.initialUser,this.serializer)}Cu(e){return new Lj(FS.mi,this.serializer)}Du(e){return new XX}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wv.provider={build:()=>new Wv};class FG extends Wv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Tt(this.persistence.referenceDelegate instanceof Hv,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wX(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new Lj(s=>Hv.mi(s,t),this.serializer)}}class Zw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lk(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OG.bind(null,this.syncEngine),await gG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mG}()}createDatastore(e){const t=Jx(e.databaseInfo.databaseId),s=function(r){return new KX(r)}(e.databaseInfo);return function(r,a,o,l){return new tG(r,a,o,l)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,i,r,a,o){return new sG(s,i,r,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>Lk(this.syncEngine,t,0),function(){return Nk.v()?new Nk:new GX}())}createSyncEngine(e,t){return function(i,r,a,o,l,c,h){const f=new CG(i,r,a,o,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=$e(t);Ce(uc,"RemoteStore shutting down."),s.Ea.add(5),await Ug(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zw.provider={build:()=>new Zw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Va("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="FirestoreClient";class VG{constructor(e,t,s,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=TS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async a=>{Ce(Ko,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(Ce(Ko,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=GS(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ob(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(Ko,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async i=>{s.isEqual(i)||(await Oj(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Dk(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HG(n);Ce(Ko,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>Pk(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>Pk(e.remoteStore,i)),n._onlineComponents=e}async function HG(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(Ko,"Using user provided OfflineComponentProvider");try{await Ob(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;uh("Error using user provided cache. Falling back to memory cache: "+t),await Ob(n,new Wv)}}else Ce(Ko,"Using default OfflineComponentProvider"),await Ob(n,new FG(void 0));return n._offlineComponents}async function eL(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(Ko,"Using user provided OnlineComponentProvider"),await Dk(n,n._uninitializedComponentsProvider._online)):(Ce(Ko,"Using default OnlineComponentProvider"),await Dk(n,new Zw))),n._onlineComponents}function UG(n){return eL(n).then(e=>e.syncEngine)}async function WG(n){const e=await eL(n),t=e.eventManager;return t.onListen=TG.bind(null,e.syncEngine),t.onUnlisten=NG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RG.bind(null,e.syncEngine),t}function YG(n,e,t={}){const s=new Oo;return n.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,c){const h=new BG({next:g=>{h.Nu(),a.enqueueAndForget(()=>xG(r,f));const p=g.docs.has(o);!p&&g.fromCache?c.reject(new Ie(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&l&&l.source==="server"?c.reject(new Ie(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new wG(MS(o.path),h,{includeMetadataChanges:!0,qa:!0});return vG(r,f)}(await WG(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="firestore.googleapis.com",Fk=!0;class Bk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nL,this.ssl=Fk}else this.host=e.host,this.ssl=e.ssl??Fk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yX)throw new Ie(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tL(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class KS{constructor(e,t,s,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YW;switch(s.type){case"firstParty":return new qW(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ie(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=zk.get(t);s&&(Ce("ComponentProvider","Removing Datastore"),zk.delete(t),s.terminate())}(this),Promise.resolve()}}function XG(n,e,t,s={}){n=$f(n,KS);const i=sl(e),r=n._getSettings(),a={...r,emulatorOptions:n._getEmulatorOptions()},o=`${e}:${t}`;i&&(uS(`https://${o}`),hS("Firestore",!0)),r.host!==nL&&r.host!==o&&uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...r,host:o,ssl:i,emulatorOptions:s};if(!rc(l,a)&&(n._setSettings(l),s.mockUserToken)){let c,h;if(typeof s.mockUserToken=="string")c=s.mockUserToken,h=Jn.MOCK_USER;else{c=KU(s.mockUserToken,n._app?.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new Ie(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Jn(f)}n._authCredentials=new XW(new GM(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new QS(this.firestore,e,this._query)}}class Ln{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}toJSON(){return{type:Ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bg(t,Ln._jsonSchema))return new Ln(e,s||null,new Oe(qt.fromString(t.referencePath)))}}Ln._jsonSchemaVersion="firestore/documentReference/1.0",Ln._jsonSchema={type:mn("string",Ln._jsonSchemaVersion),referencePath:mn("string")};class tg extends QS{constructor(e,t,s){super(e,t,MS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Oe(e))}withConverter(e){return new tg(this.firestore,e,this._path)}}function Vk(n,e,...t){if(n=Xn(n),arguments.length===1&&(e=TS.newId()),tY("doc","path",e),n instanceof KS){const s=qt.fromString(e,...t);return ek(s),new Ln(n,null,new Oe(s))}{if(!(n instanceof Ln||n instanceof tg))throw new Ie(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(qt.fromString(e,...t));return ek(s),new Ln(n.firestore,n instanceof tg?n.converter:null,new Oe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="AsyncQueue";class Uk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zj(this,"async_queue_retry"),this._c=()=>{const s=Lb();s&&Ce(Hk,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Lb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Oo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bh(e))throw e;Ce(Hk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Va("INTERNAL UNHANDLED ERROR: ",Wk(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=XS.createAndSchedule(this,e,t,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&Ve(47125,{Pc:Wk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Wk(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class JS extends KS{constructor(e,t,s,i){super(e,t,s,i),this.type="firestore",this._queue=new Uk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uk(e),this._firestoreClient=void 0,await e}}}function GG(n,e){const t=typeof n=="object"?n:gS(),s=typeof n=="string"?n:Lv,i=Bx(t,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=JI("firestore");r&&XG(i,...r)}return i}function sL(n){if(n._terminated)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$G(n),n._firestoreClient}function $G(n){const e=n._freezeSettings(),t=function(i,r,a,o){return new fY(i,r,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,tL(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new VG(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(i){const r=i?._online.build();return{_offline:i?._offline.build(r),_online:r}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(Gn.fromBase64String(e))}catch(t){throw new Ie(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ki(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bg(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:mn("string",ki._jsonSchemaVersion),bytes:mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(Bg(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:mn("string",Vr._jsonSchemaVersion),latitude:mn("number"),longitude:mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bg(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Hr(e.vectorValues);throw new Ie(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:mn("string",Hr._jsonSchemaVersion),vectorValues:mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=/^__.*__$/;class ZG{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new _c(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vg(e,this.data,t,this.fieldTransforms)}}function rL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:n})}}class tA{constructor(e,t,s,i,r,a){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rL(this.Ac)&&qG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KG{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Jx(e)}Cc(e,t,s,i=!1){return new tA({Ac:e,methodName:t,Dc:s,path:Hn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QG(n){const e=n._freezeSettings(),t=Jx(n._databaseId);return new KG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JG(n,e,t,s,i,r={}){const a=n.Cc(r.merge||r.mergeFields?2:0,e,t,i);cL("Data must be an object, but it was:",a,s);const o=oL(s,a);let l,c;if(r.merge)l=new ir(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const g=e$(e,f,t);if(!a.contains(g))throw new Ie(ge.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);n$(h,g)||h.push(g)}l=new ir(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new ZG(new Ei(o),l,c)}function aL(n,e){if(lL(n=Xn(n)))return cL("Unsupported field value:",e,n),oL(n,e);if(n instanceof iL)return function(s,i){if(!rL(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const r=[];let a=0;for(const o of s){let l=aL(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(n,e)}return function(s,i){if((s=Xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DY(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Ht.fromDate(s);return{timestampValue:Vv(i.serializer,r)}}if(s instanceof Ht){const r=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vv(i.serializer,r)}}if(s instanceof Vr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ki)return{bytesValue:Ej(i.serializer,s._byteString)};if(s instanceof Ln){const r=i.databaseId,a=s.firestore._databaseId;if(!a.isEqual(r))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:DS(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Hr)return function(a,o){return{mapValue:{fields:{[nj]:{stringValue:sj},[Ov]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return jS(o.serializer,c)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${ES(s)}`)}(n,e)}function oL(n,e){const t={};return ZM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bc(n,(s,i)=>{const r=aL(i,e.mc(s));r!=null&&(t[s]=r)}),{mapValue:{fields:t}}}function lL(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof Vr||n instanceof ki||n instanceof Ln||n instanceof iL||n instanceof Hr)}function cL(n,e,t){if(!lL(t)||!$M(t)){const s=ES(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function e$(n,e,t){if((e=Xn(e))instanceof eA)return e._internalPath;if(typeof e=="string")return uL(n,e);throw Yv("Field path arguments must be of type string or ",n,!1,void 0,t)}const t$=new RegExp("[~\\*/\\[\\]]");function uL(n,e,t){if(e.search(t$)>=0)throw Yv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new eA(...e.split("."))._internalPath}catch{throw Yv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yv(n,e,t,s,i){const r=s&&!s.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${s}`),a&&(l+=` in document ${i}`),l+=")"),new Ie(ge.INVALID_ARGUMENT,o+n+l)}function n$(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t,s,i,r){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dL("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class s$ extends hL{data(){return super.data()}}function dL(n,e){return typeof e=="string"?uL(n,e):e instanceof eA?e._internalPath:e._delegate._internalPath}class i${convertValue(e,t="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return bc(e,(i,r)=>{s[i]=this.convertValue(r,t)}),s}convertVectorValue(e){const t=e.fields?.[Ov].arrayValue?.values?.map(s=>cn(s.doubleValue));return new Hr(t)}convertGeoPoint(e){return new Vr(cn(e.latitude),cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Xx(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Zf(e));default:return null}}convertTimestamp(e){const t=Go(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=qt.fromString(e);Tt(Mj(s),9688,{name:e});const i=new Kf(s.get(1),s.get(3)),r=new Oe(s.popFirst(5));return i.isEqual(t)||Va(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Wd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $l extends hL{constructor(e,t,s,i,r,a){super(e,t,s,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(dL("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$l._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$l._jsonSchemaVersion="firestore/documentSnapshot/1.0",$l._jsonSchema={type:mn("string",$l._jsonSchemaVersion),bundleSource:mn("string","DocumentSnapshot"),bundleName:mn("string"),bundle:mn("string")};class Mm extends $l{data(e={}){return super.data(e)}}class vf{constructor(e,t,s,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wd(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Mm(this._firestore,this._userDataWriter,s.key,s,new Wd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Mm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Wd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new Mm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Wd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:a$(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=TS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(t.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(n){n=$f(n,Ln);const e=$f(n.firestore,JS);return YG(sL(e),n._key).then(t=>u$(e,n,t))}vf._jsonSchemaVersion="firestore/querySnapshot/1.0",vf._jsonSchema={type:mn("string",vf._jsonSchemaVersion),bundleSource:mn("string","QuerySnapshot"),bundleName:mn("string"),bundle:mn("string")};class l$ extends i${constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function Db(n,e,t){n=$f(n,Ln);const s=$f(n.firestore,JS),i=r$(n.converter,e,t);return c$(s,[JG(QG(s),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ia.none())])}function c$(n,e){return function(s,i){const r=new Oo;return s.asyncQueue.enqueueAndForget(async()=>PG(await UG(s),i,r)),r.promise}(sL(n),e)}function u$(n,e,t){const s=t.docs.get(e._key),i=new l$(n);return new $l(n,i,e._key,s,new Wd(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){zh=i})(Oh),ac(new Yo("firestore",(s,{instanceIdentifier:i,options:r})=>{const a=s.getProvider("app").getImmediate(),o=new JS(new GW(s.getProvider("auth-internal")),new ZW(a,s.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ie(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(c.options.projectId,h)}(a,i),a);return r={useFetchStreams:t,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Dr(ZE,KE,e),Dr(ZE,KE,"esm2020")})();var h$="firebase",d$="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(h$,d$,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="type.googleapis.com/google.protobuf.Int64Value",g$="type.googleapis.com/google.protobuf.UInt64Value";function fL(n,e){const t={};for(const s in n)n.hasOwnProperty(s)&&(t[s]=e(n[s]));return t}function Xv(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Xv(e));if(typeof n=="function"||typeof n=="object")return fL(n,e=>Xv(e));throw new Error("Data cannot be encoded in JSON: "+n)}function mh(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case f$:case g$:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>mh(e)):typeof n=="function"||typeof n=="object"?fL(n,e=>mh(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Ri=class gL extends qr{constructor(e,t,s){super(`${nA}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,gL.prototype)}};function p$(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Gv(n,e){let t=p$(n),s=t,i;try{const r=e&&e.error;if(r){const a=r.status;if(typeof a=="string"){if(!Yk[a])return new Ri("internal","internal");t=Yk[a],s=a}const o=r.message;typeof o=="string"&&(s=o),i=r.details,i!==void 0&&(i=mh(i))}}catch{}return t==="ok"?null:new Ri(t,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,t,s,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Is(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(r=>this.auth=r,()=>{}),this.messaging||s.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i?.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="us-central1",v$=/^data: (.*?)(?:\n|$)/;function x$(n){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new Ri("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class y${constructor(e,t,s,i,r=Kw,a=(...o)=>fetch(...o)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new m$(e,t,s,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(r);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=Kw}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function b$(n,e,t){const s=sl(e);n.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(uS(n.emulatorOrigin+"/backends"),hS("Functions",!0))}function w$(n,e,t){const s=i=>S$(n,e,i,{});return s.stream=(i,r)=>C$(n,e,i,r),s}function pL(n){return n.emulatorOrigin&&sl(n.emulatorOrigin)?"include":void 0}async function _$(n,e,t,s,i){t["Content-Type"]="application/json";let r;try{r=await s(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:pL(i)})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}async function mL(n,e){const t={},s=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function S$(n,e,t,s){const i=n._url(e);return A$(n,i,t,s)}async function A$(n,e,t,s){t=Xv(t);const i={data:t},r=await mL(n,s),a=s.timeout||7e4,o=x$(a),l=await Promise.race([_$(e,i,r,n.fetchImpl,n),o.promise,n.cancelAllRequests]);if(o.cancel(),!l)throw new Ri("cancelled","Firebase Functions instance was deleted.");const c=Gv(l.status,l.json);if(c)throw c;if(!l.json)throw new Ri("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new Ri("internal","Response is missing data field.");return{data:mh(h)}}function C$(n,e,t,s){const i=n._url(e);return T$(n,i,t,s||{})}async function T$(n,e,t,s){t=Xv(t);const i={data:t},r=await mL(n,s);r["Content-Type"]="application/json",r.Accept="text/event-stream";let a;try{a=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:r,signal:s?.signal,credentials:pL(n)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const x=new Ri("cancelled","Request was cancelled.");return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}const p=Gv(0,null);return{data:Promise.reject(p),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(p)}}}}}}let o,l;const c=new Promise((g,p)=>{o=g,l=p});s?.signal?.addEventListener("abort",()=>{const g=new Ri("cancelled","Request was cancelled.");l(g)});const h=a.body.getReader(),f=E$(h,o,l,s?.signal);return{stream:{[Symbol.asyncIterator](){const g=f.getReader();return{async next(){const{value:p,done:x}=await g.read();return{value:p,done:x}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:c}}function E$(n,e,t,s){const i=(a,o)=>{const l=a.match(v$);if(!l)return;const c=l[1];try{const h=JSON.parse(c);if("result"in h){e(mh(h.result));return}if("message"in h){o.enqueue(mh(h.message));return}if("error"in h){const f=Gv(0,h);o.error(f),t(f);return}}catch(h){if(h instanceof Ri){o.error(h),t(h);return}}},r=new TextDecoder;return new ReadableStream({start(a){let o="";return l();async function l(){if(s?.aborted){const c=new Ri("cancelled","Request was cancelled");return a.error(c),t(c),Promise.resolve()}try{const{value:c,done:h}=await n.read();if(h){o.trim()&&i(o.trim(),a),a.close();return}if(s?.aborted){const g=new Ri("cancelled","Request was cancelled");a.error(g),t(g),await n.cancel();return}o+=r.decode(c,{stream:!0});const f=o.split(`
`);o=f.pop()||"";for(const g of f)g.trim()&&i(g.trim(),a);return l()}catch(c){const h=c instanceof Ri?c:Gv(0,null);a.error(h),t(h)}}},cancel(){return n.cancel()}})}const Xk="@firebase/functions",Gk="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="auth-internal",N$="app-check-internal",R$="messaging-internal";function P$(n){const e=(t,{instanceIdentifier:s})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider(k$),a=t.getProvider(R$),o=t.getProvider(N$);return new y$(i,r,a,o,s)};ac(new Yo(nA,e,"PUBLIC").setMultipleInstances(!0)),Dr(Xk,Gk,n),Dr(Xk,Gk,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(n=gS(),e=Kw){const s=Bx(Xn(n),nA).getImmediate({identifier:e}),i=JI("functions");return i&&M$(s,...i),s}function M$(n,e,t){b$(Xn(n),e,t)}function vL(n,e,t){return w$(Xn(n),e)}P$();let _l,$k,qk,Zk;const sA=new ba;sA.addScope("email");sA.addScope("profile");const iA=()=>{if(!_l){const n={apiKey:"AIzaSyBiqwcZgRvNBq3liSY7fHYnfEIgXLSkEys",authDomain:"jalrakshak-f1d6a.firebaseapp.com",projectId:"jalrakshak-f1d6a",storageBucket:"jalrakshak-f1d6a.firebasestorage.app",messagingSenderId:"170302508520",appId:"1:170302508520:web:f6a229ce2c7e368bbd285d",measurementId:"G-LY5SLJLZT4"};TE().length?_l=TE()[0]:_l=iM(n),$k=GG(_l),qk=I$(_l),Zk=UW(_l)}return{app:_l,db:$k,functions:qk,auth:Zk}},j$=()=>{const{functions:n}=iA();return vL(n,"getSafeRoute")},L$=()=>{const{functions:n}=iA();return vL(n,"getNearestShelter")},xL=R.createContext(void 0),Hh=()=>{const n=R.useContext(xL);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},O$=({children:n})=>{const[e,t]=R.useState(null),[s,i]=R.useState(null),[r,a]=R.useState(!0),{auth:o,db:l}=iA(),c=async(w,S={})=>{if(!w)return;const A=Vk(l,"users",w.uid),T=await o$(A);if(T.exists()){const O={...T.data(),lastLogin:new Date};await Db(A,O,{merge:!0}),i(O)}else{const{displayName:N,email:O,photoURL:C}=w,k={uid:w.uid,email:O,displayName:N||"",photoURL:C||void 0,role:"user",preferences:{alertTypes:["flood_warning","evacuation_alert","weather_update"],notificationMethods:["push","email"],emergencyContacts:[]},joinedAt:new Date,lastLogin:new Date,...S};try{await Db(A,k),i(k)}catch(M){console.error("Error creating user profile:",M),Ee.error("Failed to create user profile")}}},h=async(w,S)=>{try{a(!0);const A=await T7(o,w,S);await c(A.user),Ee.success("Welcome back!")}catch(A){throw console.error("Login error:",A),Ee.error(A.message||"Failed to login"),A}finally{a(!1)}},f=async(w,S,A)=>{try{a(!0);const T=await C7(o,w,S);await k7(T.user,{displayName:A}),await c(T.user,{displayName:A}),Ee.success("Account created successfully!")}catch(T){throw console.error("Registration error:",T),Ee.error(T.message||"Failed to create account"),T}finally{a(!1)}},g=async()=>{try{a(!0);const w=await Q7(o,sA);await c(w.user),Ee.success("Successfully signed in with Google!")}catch(w){throw console.error("Google login error:",w),Ee.error(w.message||"Failed to sign in with Google"),w}finally{a(!1)}},p=async()=>{try{await I7(o),i(null),Ee.success("Logged out successfully")}catch(w){console.error("Logout error:",w),Ee.error("Failed to logout")}},x=async w=>{try{await A7(o,w),Ee.success("Password reset email sent!")}catch(S){throw console.error("Password reset error:",S),Ee.error(S.message||"Failed to send password reset email"),S}},v=async w=>{if(!(!e||!s))try{const S=Vk(l,"users",e.uid),A={...s,...w};await Db(S,A,{merge:!0}),i(A),Ee.success("Profile updated successfully!")}catch(S){throw console.error("Profile update error:",S),Ee.error("Failed to update profile"),S}};R.useEffect(()=>P7(o,async S=>{if(console.log("Auth state changed:",S?"User logged in":"User logged out"),t(S),S)try{await c(S)}catch(A){console.error("Error creating user profile:",A)}else i(null);a(!1)}),[o,l]);const _={currentUser:e,userProfile:s,login:h,register:f,loginWithGoogle:g,logout:p,resetPassword:x,updateUserProfile:v,loading:r};return d.jsx(xL.Provider,{value:_,children:n})},D$="modulepreload",z$=function(n){return"/"+n},Kk={},Yg=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=Promise.allSettled(t.map(l=>{if(l=z$(l),l in Kk)return;Kk[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":D$,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((g,p)=>{f.addEventListener("load",g),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})},F$=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Yg(async()=>{const{default:s}=await Promise.resolve().then(()=>Uh);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class rA extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class B$ extends rA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qk extends rA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jk extends rA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qw;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Qw||(Qw={}));var V$=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};class H${constructor(e,{headers:t={},customFetch:s,region:i=Qw.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=F$(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return V$(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:a}=t;let o={},{region:l}=t;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(o["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(o["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(c.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:h}).catch(v=>{throw new B$(v)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new Qk(f);if(!f.ok)throw new Jk(f);let p=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield f.json():p==="application/octet-stream"?x=yield f.blob():p==="text/event-stream"?x=f:p==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Jk||i instanceof Qk?i.context:void 0}}})}}var Ps={},aA={},ny={},Xg={},sy={},iy={},U$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vh=U$();const W$=vh.fetch,yL=vh.fetch.bind(vh),bL=vh.Headers,Y$=vh.Request,X$=vh.Response,Uh=Object.freeze(Object.defineProperty({__proto__:null,Headers:bL,Request:Y$,Response:X$,default:yL,fetch:W$},Symbol.toStringTag,{value:"Module"})),G$=fN(Uh);var ry={};Object.defineProperty(ry,"__esModule",{value:!0});let $$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ry.default=$$;var wL=ii&&ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(iy,"__esModule",{value:!0});const q$=wL(G$),Z$=wL(ry);let K$=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=q$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var a,o,l,c;let h=null,f=null,g=null,p=r.status,x=r.statusText;if(r.ok){if(this.method!=="HEAD"){const S=await r.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?f=S:f=JSON.parse(S))}const _=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&w&&w.length>1&&(g=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,p=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const _=await r.text();try{h=JSON.parse(_),Array.isArray(h)&&r.status===404&&(f=[],h=null,p=200,x="OK")}catch{r.status===404&&_===""?(p=204,x="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((c=h?.details)===null||c===void 0)&&c.includes("0 rows"))&&(h=null,p=200,x="OK"),h&&this.shouldThrowOnError)throw new Z$.default(h)}return{error:h,data:f,count:g,status:p,statusText:x}});return this.shouldThrowOnError||(i=i.catch(r=>{var a,o,l;return{error:{message:`${(a=r?.name)!==null&&a!==void 0?a:"FetchError"}: ${r?.message}`,details:`${(o=r?.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=r?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};iy.default=K$;var Q$=ii&&ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sy,"__esModule",{value:!0});const J$=Q$(iy);let eq=class extends J$.default{select(e){let t=!1;const s=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:i,referencedTable:r=i}={}){const a=r?`${r}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:i=s}={}){const r=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:i=!1,wal:r=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};sy.default=eq;var tq=ii&&ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xg,"__esModule",{value:!0});const nq=tq(sy);let sq=class extends nq.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${r}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};Xg.default=sq;var iq=ii&&ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ny,"__esModule",{value:!0});const Md=iq(Xg);let rq=class{constructor(e,{headers:t={},schema:s,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=i}select(e,{head:t=!1,count:s}={}){const i=t?"HEAD":"GET";let r=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new Md.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var i;const r="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Md.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:i,defaultToNull:r=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Md.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var s;const i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Md.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var t;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Md.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};ny.default=rq;var _L=ii&&ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(aA,"__esModule",{value:!0});const aq=_L(ny),oq=_L(Xg);let lq=class SL{constructor(e,{headers:t={},schema:s,fetch:i}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new aq.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new SL(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:i=!1,count:r}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;s||i?(o=s?"HEAD":"GET",Object.entries(t).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(o="POST",c=t);const h=new Headers(this.headers);return r&&h.set("Prefer",`count=${r}`),new oq.default({method:o,url:l,headers:h,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};aA.default=lq;var Wh=ii&&ii.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.PostgrestError=Ps.PostgrestBuilder=Ps.PostgrestTransformBuilder=Ps.PostgrestFilterBuilder=Ps.PostgrestQueryBuilder=Ps.PostgrestClient=void 0;const AL=Wh(aA);Ps.PostgrestClient=AL.default;const CL=Wh(ny);Ps.PostgrestQueryBuilder=CL.default;const TL=Wh(Xg);Ps.PostgrestFilterBuilder=TL.default;const EL=Wh(sy);Ps.PostgrestTransformBuilder=EL.default;const kL=Wh(iy);Ps.PostgrestBuilder=kL.default;const NL=Wh(ry);Ps.PostgrestError=NL.default;var cq=Ps.default={PostgrestClient:AL.default,PostgrestQueryBuilder:CL.default,PostgrestFilterBuilder:TL.default,PostgrestTransformBuilder:EL.default,PostgrestBuilder:kL.default,PostgrestError:NL.default};const{PostgrestClient:uq,PostgrestQueryBuilder:Zie,PostgrestFilterBuilder:Kie,PostgrestTransformBuilder:Qie,PostgrestBuilder:Jie,PostgrestError:ere}=cq;class hq{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dq="2.15.5",fq=`realtime-js/${dq}`,gq="1.0.0",Jw=1e4,pq=1e3,mq=100;var xf;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(xf||(xf={}));var bn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(bn||(bn={}));var nr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(nr||(nr={}));var e_;(function(n){n.websocket="websocket"})(e_||(e_={}));var jl;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(jl||(jl={}));class vq{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const i=t.getUint8(1),r=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=s.decode(e.slice(a,a+i));a=a+i;const l=s.decode(e.slice(a,a+r));a=a+r;const c=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class RL{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(zt||(zt={}));const e2=(n,e,t={})=>{var s;const i=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((r,a)=>(r[a]=xq(a,n,e,i),r),{})},xq=(n,e,t,s)=>{const i=e.find(o=>o.name===n),r=i?.type,a=t[n];return r&&!s.includes(r)?PL(r,a):t_(a)},PL=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return _q(e,t)}switch(n){case zt.bool:return yq(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return bq(e);case zt.json:case zt.jsonb:return wq(e);case zt.timestamp:return Sq(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return t_(e);default:return t_(e)}},t_=n=>n,yq=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},bq=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},wq=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},_q=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let r;const a=n.slice(1,t);try{r=JSON.parse("["+a+"]")}catch{r=a?a.split(","):[]}return r.map(o=>PL(e,o))}return n},Sq=n=>typeof n=="string"?n.replace(" ","T"):n,IL=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class zb{constructor(e,t,s={},i=Jw){this.channel=e,this.event=t,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var t2;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(t2||(t2={}));class yf{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yf.syncState(this.state,i,r,a),this.pendingDiffs.forEach(l=>{this.state=yf.syncDiff(this.state,l,r,a)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yf.syncDiff(this.state,i,r,a),o())}),this.onJoin((i,r,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:a})}),this.onLeave((i,r,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,i){const r=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(r,(c,h)=>{a[c]||(l[c]=h)}),this.map(a,(c,h)=>{const f=r[c];if(f){const g=h.map(_=>_.presence_ref),p=f.map(_=>_.presence_ref),x=h.filter(_=>p.indexOf(_.presence_ref)<0),v=f.filter(_=>g.indexOf(_.presence_ref)<0);x.length>0&&(o[c]=x),v.length>0&&(l[c]=v)}else o[c]=h}),this.syncDiff(r,{joins:o,leaves:l},s,i)}static syncDiff(e,t,s,i){const{joins:r,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(o,l)=>{var c;const h=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),h.length>0){const f=e[o].map(p=>p.presence_ref),g=h.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...g)}s(o,h,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const h=l.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const i=e[s];return"metas"in i?t[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[s]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var n2;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(n2||(n2={}));var bf;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(bf||(bf={}));var xa;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(xa||(xa={}));class oA{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=bn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new zb(this,nr.join,this.params,this.timeout),this.rejoinTimer=new RL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new yf(this),this.broadcastEndpointURL=IL(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==bn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[bf.PRESENCE]&&this.bindings[bf.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,f={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(xa.CHANNEL_ERROR,p)),this._onClose(()=>e?.(xa.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){e?.(xa.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(x=v?.length)!==null&&x!==void 0?x:0,w=[];for(let S=0;S<_;S++){const A=v[S],{filter:{event:T,schema:N,table:O,filter:C}}=A,k=p&&p[S];if(k&&k.event===T&&k.schema===N&&k.table===O&&k.filter===C)w.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=bn.errored,e?.(xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(xa.SUBSCRIBED);return}}).receive("error",p=>{this.state=bn.errored,e?.(xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===bn.joined&&e===bf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e,t={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new zb(this,nr.leave,{},e),s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bn.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(r),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zb(this,e,t,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mq){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var i,r;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:h}=nr;if(s&&[o,l,c,h].indexOf(a)>=0&&s!==this._joinRef())return;let g=this._onMessage(a,t,s);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var x,v,_;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(v=p.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(p=>p.callback(g,s)):(r=this.bindings[a])===null||r===void 0||r.filter(p=>{var x,v,_,w,S,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const T=p.id,N=(x=p.filter)===null||x===void 0?void 0:x.event;return T&&((v=t.ids)===null||v===void 0?void 0:v.includes(T))&&(N==="*"||N?.toLocaleLowerCase()===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(S=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:v,table:_,commit_timestamp:w,type:S,errors:A}=x;g=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:w,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(x))}p.callback(g,s)})}_isClosed(){return this.state===bn.closed}_isJoined(){return this.state===bn.joined}_isJoining(){return this.state===bn.joining}_isLeaving(){return this.state===bn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const i=e.toLocaleLowerCase(),r={type:i,filter:t,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&oA.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nr.close,{},e)}_onError(e){this._on(nr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=e2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=e2(e.columns,e.old_record)),t}}const Fb=()=>{},Jp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Aq=[1e3,2e3,5e3,1e4],Cq=1e4,Tq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eq{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jw,this.transport=null,this.heartbeatIntervalMs=Jp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fb,this.ref=0,this.reconnectTimer=null,this.logger=Fb,this.conn=null,this.sendBuffer=[],this.serializer=new vq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...a)=>Yg(async()=>{const{default:o}=await Promise.resolve().then(()=>Uh);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...a)=>r(...a)},!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${e_.websocket}`,this.httpEndpoint=IL(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hq.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gq}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case xf.connecting:return jl.Connecting;case xf.open:return jl.Open;case xf.closing:return jl.Closing;default:return jl.Closed}}isConnected(){return this.connectionState()===jl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new oA(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:s,payload:i,ref:r}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${s} (${r})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pq,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Jp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:a}=t,o=a?`(${a})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${o}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${s}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Tq],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const i={access_token:t,version:fq};t&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(nr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new RL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,i,r,a,o,l,c,h;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Jw,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Jp.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:Fb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:f=>Aq[f-1]||Cq,this.encode=(c=e?.encode)!==null&&c!==void 0?c:(f,g)=>g(JSON.stringify(f)),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class lA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class kq extends lA{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class n_ extends lA{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Nq=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};const ML=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Yg(async()=>{const{default:s}=await Promise.resolve().then(()=>Uh);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Rq=()=>Nq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yg(()=>Promise.resolve().then(()=>Uh),void 0)).Response:Response}),s_=n=>{if(Array.isArray(n))return n.map(t=>s_(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const i=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=s_(s)}),e},Pq=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ac=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};const Bb=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Iq=(n,e,t)=>Ac(void 0,void 0,void 0,function*(){const s=yield Rq();n instanceof s&&!t?.noResolveJson?n.json().then(i=>{const r=n.status||500,a=i?.statusCode||r+"";e(new kq(Bb(i),r,a))}).catch(i=>{e(new n_(Bb(i),i))}):e(new n_(Bb(n),n))}),Mq=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"||!s?i:(Pq(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Gg(n,e,t,s,i,r){return Ac(this,void 0,void 0,function*(){return new Promise((a,o)=>{n(t,Mq(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Iq(l,o,s))})})}function $v(n,e,t,s){return Ac(this,void 0,void 0,function*(){return Gg(n,"GET",e,t,s)})}function Tr(n,e,t,s,i){return Ac(this,void 0,void 0,function*(){return Gg(n,"POST",e,s,i,t)})}function i_(n,e,t,s,i){return Ac(this,void 0,void 0,function*(){return Gg(n,"PUT",e,s,i,t)})}function jq(n,e,t,s){return Ac(this,void 0,void 0,function*(){return Gg(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function jL(n,e,t,s,i){return Ac(this,void 0,void 0,function*(){return Gg(n,"DELETE",e,s,i,t)})}var cs=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};const Lq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},s2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oq{constructor(e,t={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=ML(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,i){return cs(this,void 0,void 0,function*(){try{let r;const a=Object.assign(Object.assign({},s2),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",a.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",a.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(t),h=this._getFinalPath(c),f=yield(e=="PUT"?i_:Tr)(this.fetch,`${this.url}/object/${h}`,r,Object.assign({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}upload(e,t,s){return cs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,i){return cs(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),a=this._getFinalPath(r),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:s2.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield i_(this.fetch,o.toString(),l,{headers:h});return{data:{path:r,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(wn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return cs(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const r=yield Tr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),a=new URL(this.url+r.url),o=a.searchParams.get("token");if(!o)throw new lA("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wn(s))return{data:null,error:s};throw s}})}update(e,t,s){return cs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return cs(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}copy(e,t,s){return cs(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,s){return cs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Tr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${a}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,s){return cs(this,void 0,void 0,function*(){try{const i=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}download(e,t){return cs(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),a=r?`?${r}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield $v(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wn(o))return{data:null,error:o};throw o}})}info(e){return cs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield $v(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:s_(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wn(s))return{data:null,error:s};throw s}})}exists(e){return cs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield jq(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wn(s)&&s instanceof n_){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),i=[],r=t?.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&i.push(r);const o=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${c}`)}}}remove(e){return cs(this,void 0,void 0,function*(){try{return{data:yield jL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}list(e,t,s){return cs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Lq),t),{prefix:e||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wn(i))return{data:null,error:i};throw i}})}listV2(e,t){return cs(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Dq="2.12.1",zq={"X-Client-Info":`storage-js/${Dq}`};var Qc=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};class Fq{constructor(e,t={},s,i){this.shouldThrowOnError=!1;const r=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},zq),t),this.fetch=ML(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Qc(this,void 0,void 0,function*(){try{return{data:yield $v(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wn(e))return{data:null,error:e};throw e}})}getBucket(e){return Qc(this,void 0,void 0,function*(){try{return{data:yield $v(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Qc(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wn(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Qc(this,void 0,void 0,function*(){try{return{data:yield i_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Qc(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Qc(this,void 0,void 0,function*(){try{return{data:yield jL(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}class Bq extends Fq{constructor(e,t={},s,i){super(e,t,s,i)}from(e){return new Oq(this.url,this.headers,e,this.fetch)}}const Vq="2.57.4";let Yd="";typeof Deno<"u"?Yd="deno":typeof document<"u"?Yd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yd="react-native":Yd="node";const Hq={"X-Client-Info":`supabase-js-${Yd}/${Vq}`},Uq={headers:Hq},Wq={schema:"public"},Yq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xq={};var Gq=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};const $q=n=>{let e;return n?e=n:typeof fetch>"u"?e=yL:e=fetch,(...t)=>e(...t)},qq=()=>typeof Headers>"u"?bL:Headers,Zq=(n,e,t)=>{const s=$q(t),i=qq();return(r,a)=>Gq(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:n;let c=new i(a?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},a),{headers:c}))})};var Kq=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};function Qq(n){return n.endsWith("/")?n:n+"/"}function Jq(n,e){var t,s;const{db:i,auth:r,realtime:a,global:o}=n,{db:l,auth:c,realtime:h,global:f}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(t=f?.headers)!==null&&t!==void 0?t:{}),(s=o?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Kq(this,void 0,void 0,function*(){return""})};return n.accessToken?g.accessToken=n.accessToken:delete g.accessToken,g}function eZ(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qq(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const LL="2.71.1",vu=30*1e3,r_=3,Vb=r_*vu,tZ="http://localhost:9999",nZ="supabase.auth.token",sZ={"X-Client-Info":`gotrue-js/${LL}`},a_="X-Supabase-Api-Version",OL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rZ=10*60*1e3;class cA extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Ze(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class aZ extends cA{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function oZ(n){return Ze(n)&&n.name==="AuthApiError"}class DL extends cA{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class il extends cA{constructor(e,t,s,i){super(e,s,i),this.name=t,this.status=s}}class ao extends il{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lZ(n){return Ze(n)&&n.name==="AuthSessionMissingError"}class em extends il{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tm extends il{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nm extends il{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cZ(n){return Ze(n)&&n.name==="AuthImplicitGrantRedirectError"}class i2 extends il{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class o_ extends il{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Hb(n){return Ze(n)&&n.name==="AuthRetryableFetchError"}class r2 extends il{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class l_ extends il{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),a2=` 	
\r=`.split(""),uZ=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<a2.length;e+=1)n[a2[e].charCodeAt(0)]=-2;for(let e=0;e<qv.length;e+=1)n[qv[e].charCodeAt(0)]=e;return n})();function o2(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(qv[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(qv[s]),e.queuedBits-=6}}function zL(n,e,t){const s=uZ[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function l2(n){const e=[],t=a=>{e.push(String.fromCodePoint(a))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=a=>{fZ(a,s,t)};for(let a=0;a<n.length;a+=1)zL(n.charCodeAt(a),i,r);return e.join("")}function hZ(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function dZ(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}hZ(s,e)}}function fZ(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if(!(n>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function gZ(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)zL(n.charCodeAt(i),t,s);return new Uint8Array(e)}function pZ(n){const e=[];return dZ(n,t=>e.push(t)),new Uint8Array(e)}function mZ(n){const e=[],t={queue:0,queuedBits:0},s=i=>{e.push(i)};return n.forEach(i=>o2(i,t,s)),o2(null,t,s),e.join("")}function vZ(n){return Math.round(Date.now()/1e3)+n}function xZ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Qi=()=>typeof window<"u"&&typeof document<"u",Sl={tested:!1,writable:!1},FL=()=>{if(!Qi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sl.tested)return Sl.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Sl.tested=!0,Sl.writable=!0}catch{Sl.tested=!0,Sl.writable=!1}return Sl.writable};function yZ(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return t.searchParams.forEach((s,i)=>{e[i]=s}),e}const BL=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Yg(async()=>{const{default:s}=await Promise.resolve().then(()=>Uh);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},bZ=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",xu=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Al=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},io=async(n,e)=>{await n.removeItem(e)};class ay{constructor(){this.promise=new ay.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ay.promiseConstructor=Promise;function Ub(n){const e=n.split(".");if(e.length!==3)throw new l_("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!iZ.test(e[s]))throw new l_("JWT not in base64url format");return{header:JSON.parse(l2(e[0])),payload:JSON.parse(l2(e[1])),signature:gZ(e[2]),raw:{header:e[0],payload:e[1]}}}async function wZ(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function _Z(n,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const a=await n(r);if(!e(r,null,a)){s(a);return}}catch(a){if(!e(r,a)){i(a);return}}})()})}function SZ(n){return("0"+n.toString(16)).substr(-2)}function AZ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let i="";for(let r=0;r<56;r++)i+=t.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,SZ).join("")}async function CZ(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function TZ(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await CZ(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jc(n,e,t=!1){const s=AZ();let i=s;t&&(i+="/PASSWORD_RECOVERY"),await xu(n,`${e}-code-verifier`,i);const r=await TZ(s);return[r,s===r?"plain":"s256"]}const EZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kZ(n){const e=n.headers.get(a_);if(!e||!e.match(EZ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NZ(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function RZ(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function eu(n){if(!PZ.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wb(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function c2(n){return JSON.parse(JSON.stringify(n))}var IZ=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const Pl=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),MZ=[502,503,504];async function u2(n){var e;if(!bZ(n))throw new o_(Pl(n),0);if(MZ.includes(n.status))throw new o_(Pl(n),n.status);let t;try{t=await n.json()}catch(r){throw new DL(Pl(r),r)}let s;const i=kZ(n);if(i&&i.getTime()>=OL["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new r2(Pl(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ao}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0))throw new r2(Pl(t),n.status,t.weak_password.reasons);throw new aZ(Pl(t),n.status||500,s)}const jZ=(n,e,t,s)=>{const i={method:n,headers:e?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),t))};async function rt(n,e,t,s){var i;const r=Object.assign({},s?.headers);r[a_]||(r[a_]=OL["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const a=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await LZ(n,e,t+o,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function LZ(n,e,t,s,i,r){const a=jZ(e,s,i,r);let o;try{o=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new o_(Pl(l),0)}if(o.ok||await u2(o),s?.noResolveJson)return o;try{return await o.json()}catch(l){await u2(l)}}function va(n){var e;let t=null;FZ(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=vZ(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function h2(n){const e=va(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function xo(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function OZ(n){return{data:n,error:null}}function DZ(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r}=n,a=IZ(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function zZ(n){return n}function FZ(n){return n.access_token&&n.refresh_token&&n.expires_in}const Yb=["global","local","others"];var BZ=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};class VZ{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=BL(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Yb[0]){if(Yb.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yb.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xo})}catch(s){if(Ze(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=BZ(e,["options"]),i=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DZ,redirectTo:t?.redirectTo})}catch(t){if(Ze(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xo})}catch(t){if(Ze(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,i,r,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:zZ});if(h.error)throw h.error;const f=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ze(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){eu(e);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xo})}catch(t){if(Ze(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){eu(e);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:xo})}catch(s){if(Ze(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){eu(e);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:xo})}catch(s){if(Ze(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){eu(e.userId);try{const{data:t,error:s}=await rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:s}}catch(t){if(Ze(t))return{data:null,error:t};throw t}}async _deleteFactor(e){eu(e.userId),eu(e.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}}}function d2(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function HZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tu={debug:!!(globalThis&&FL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UZ extends VL{}async function WZ(n,e,t){tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),tu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new UZ(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(tu.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}HZ();const YZ={url:tZ,storageKey:nZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function f2(n,e,t){return await t()}const nu={};class ng{constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ng.nextInstanceID,ng.nextInstanceID+=1,this.instanceID>0&&Qi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},YZ),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=BL(i.fetch),this.lock=i.lock||f2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Qi()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=WZ:this.lock=f2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:FL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=d2(this.memoryStorage)),Qi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=nu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=nu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${LL}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=yZ(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Qi()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(t,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),cZ(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ze(t)?{error:t}:{error:new DL("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,i;try{const r=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:va}),{data:a,error:o}=r;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,s,i;try{let r;if("email"in e){const{email:h,password:f,options:g}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Jc(this.storage,this.storageKey)),r=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:f,data:(t=g?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:x},xform:va})}else if("phone"in e){const{phone:h,password:f,options:g}=e;r=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(s=g?.data)!==null&&s!==void 0?s:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:va})}else throw new tm("You must provide either an email or phone number and a password");const{data:a,error:o}=r;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:a,options:o}=e;t=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:h2})}else if("phone"in e){const{phone:r,password:a,options:o}=e;t=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:h2})}else throw new tm("You must provide either an email or phone number and a password");const{data:s,error:i}=t;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new em}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(t){if(Ze(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,i,r,a,o,l,c,h,f,g,p;let x,v;if("message"in e)x=e.message,v=e.signature;else{const{chain:_,wallet:w,statement:S,options:A}=e;let T;if(Qi())if(typeof w=="object")T=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))T=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const N=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in T&&T.signIn){const O=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),S?{statement:S}:null));let C;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")C=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)C=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=A?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((f=(h=A?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...A.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const O=await T.signMessage(new TextEncoder().encode(x),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=O}}try{const{data:_,error:w}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:mZ(v)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:va});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new em}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(Ze(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const t=await Al(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(t??"").split("/");try{const{data:r,error:a}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:va});if(await io(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new em}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:a})}catch(r){if(Ze(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:s,token:i,access_token:r,nonce:a}=e,o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:va}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new em}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(Ze(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,i,r,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Jc(this.storage,this.storageKey));const{error:f}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l?.data)!==null&&t!==void 0?t:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:h}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new tm("You must provide either an email or phone number.")}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{let i,r;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:o}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:va});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,s,i;try{let r=null,a=null;return this.flowType==="pkce"&&([r,a]=await Jc(this.storage,this.storageKey)),await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:a}),headers:this.headers,xform:OZ})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new ao;const{error:i}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:a}=await rt(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:a,error:o}=await rt(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new tm("You must provide either an email or phone number and a type")}catch(t){if(Ze(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Vb:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const a=await Al(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=Wb()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,h)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xo}):await this._useSession(async t=>{var s,i,r;const{data:a,error:o}=t;if(o)throw o;return!(!((s=a.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ao}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:xo})})}catch(t){if(Ze(t))return lZ(t)&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new ao;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Jc(this.storage,this.storageKey));const{data:c,error:h}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:xo});if(h)throw h;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(Ze(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ao;const t=Date.now()/1e3;let s=t,i=!0,r=null;const{payload:a}=Ub(e.access_token);if(a.exp&&(s=a.exp,i=s<=t),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};r=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(Ze(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new ao;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ze(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Qi())throw new nm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new i2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nm("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new i2("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!r||!o||!a||!c)throw new nm("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(o);let g=h+f;l&&(g=parseInt(l));const p=g-h;p*1e3<=vu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=g-f;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,h);const{data:v,error:_}=await this._getUser(r);if(_)throw _;const w={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:f,expires_at:g,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(s){if(Ze(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Al(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{error:r};const a=(s=i.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(oZ(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=xZ(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,i;try{const{data:{session:r},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,t={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Jc(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:i}=await this._useSession(async r=>{var a,o,l,c,h;const{data:f,error:g}=r;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Qi()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Ze(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:a}=t;if(a)throw a;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(Ze(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await _Z(async i=>(i>0&&await wZ(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:va})),(i,r)=>{const a=200*Math.pow(2,i);return r&&Hb(r)&&Date.now()+a-s<vu})}catch(s){if(this._debug(t,"error",s),Ze(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Qi()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Al(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await xu(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:Wb()}else if(i&&!i.user&&!i.user){const a=await Al(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await io(this.storage,this.storageKey+"-user"),await xu(this.storage,this.storageKey,i)):i.user=Wb()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vb;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Vb}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Hb(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(s,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new ao;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ay;const{data:r,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!r.session)throw new ao;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const o={session:r.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(r){if(this._debug(i,"error",r),Ze(r)){const a={session:null,error:r};return Hb(r)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){r.push(l)}});if(await Promise.all(a),r.length>0){for(let o=0;o<r.length;o+=1)console.error(r[o]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await xu(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const r=c2(i);await xu(this.storage,this.storageKey,r)}else{const i=c2(t);await xu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await io(this.storage,this.storageKey),await io(this.storage,this.storageKey+"-code-verifier"),await io(this.storage,this.storageKey+"-user"),this.userStorage&&await io(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/vu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vu}ms, refresh threshold is ${r_} ticks`),i<=r_&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof VL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const i=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,a]=await Jc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;return r?{data:null,error:r}:await rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Ze(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,i;const{data:r,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(Ze(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;if(r)return{data:null,error:r};const{data:a,error:o}=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:i,error:r}=t;return r?{data:null,error:r}:await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=e?.factors||[],i=s.filter(a=>a.factor_type==="totp"&&a.status==="verified"),r=s.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:s,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ub(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const h=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(o=>o.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+rZ>i)return s;const{data:r,error:a}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(o=>o.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};s=p.session.access_token}const{header:i,payload:r,signature:a,raw:{header:o,payload:l}}=Ub(s);t?.allowExpired||NZ(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:r,header:i,signature:a},error:null}}const h=RZ(i.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,pZ(`${o}.${l}`)))throw new l_("Invalid JWT signature");return{data:{claims:r,header:i,signature:a},error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}}}ng.nextInstanceID=0;const XZ=ng;class GZ extends XZ{constructor(e){super(e)}}var $Z=function(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function o(h){try{c(s.next(h))}catch(f){a(f)}}function l(h){try{c(s.throw(h))}catch(f){a(f)}}function c(h){h.done?r(h.value):i(h.value).then(o,l)}c((s=s.apply(n,e||[])).next())})};class qZ{constructor(e,t,s){var i,r,a;this.supabaseUrl=e,this.supabaseKey=t;const o=eZ(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Wq,realtime:Xq,auth:Object.assign(Object.assign({},Yq),{storageKey:l}),global:Uq},h=Jq(s??{},c);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=h.global.headers)!==null&&r!==void 0?r:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Zq(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new uq(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Bq(this.storageUrl.href,this.headers,this.fetch,s?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new H$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return $Z(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:a,flowType:o,lock:l,debug:c},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GZ({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:r,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Eq(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZZ=(n,e,t)=>new qZ(n,e,t);function KZ(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QZ="https://yctbapuirfppmqbzgvqo.supabase.co",JZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljdGJhcHVpcmZwcG1xYnpndnFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDAyOTcsImV4cCI6MjA3NDU3NjI5N30.HyuVCIlShAfZbEvFrLEk0dXJQKw4Hsu2yYjkjp68C2E",yt=ZZ(QZ,JZ),eK=async(n,e="images")=>{try{const t=n.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).substring(2)}.${t}`,{data:i,error:r}=await yt.storage.from(e).upload(s,n);if(r)return console.error("Error uploading image:",r),null;const{data:a}=yt.storage.from(e).getPublicUrl(s);return a.publicUrl}catch(t){return console.error("Error uploading image:",t),null}},tK=async n=>{try{const{data:e,error:t}=await yt.from("flood_reports").insert([n]).select().single();return t?(console.error("Error submitting report:",t),null):e}catch(e){return console.error("Error submitting report:",e),null}},nK=async(n,e)=>{try{let t=yt.from("location_data").select("*").eq("state",n);e&&(t=t.eq("district",e));const{data:s,error:i}=await t;return i?(console.error("Error fetching location data:",i),[]):s||[]}catch(t){return console.error("Error fetching location data:",t),[]}},HL=async(n,e,t=50)=>{try{const{data:s,error:i}=await yt.from("flood_reports").select("*").order("created_at",{ascending:!1}).limit(50);return i?(console.error("Error fetching nearby reports:",i),[]):s?.filter(r=>sK(n,e,r.location.lat,r.location.lng)<=t)||[]}catch(s){return console.error("Error fetching nearby reports:",s),[]}},sK=(n,e,t,s)=>{const r=(t-n)*Math.PI/180,a=(s-e)*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(n*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},UL=R.createContext(void 0),uA=()=>{const n=R.useContext(UL);if(n===void 0)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return n},iK=({children:n})=>{const[e,t]=R.useState(null),[s,i]=R.useState(null),[r,a]=R.useState(!0),[o,l]=R.useState(!1);R.useEffect(()=>{(async()=>{const{data:{session:S},error:A}=await yt.auth.getSession();A?console.error("Error getting session:",A):(i(S),t(S?.user??null),S?.user&&await c(S.user)),a(!1)})();const{data:{subscription:w}}=yt.auth.onAuthStateChange(async(S,A)=>{i(A),t(A?.user??null),A?.user?await c(A.user):l(!1),a(!1)});return()=>w.unsubscribe()},[]);const c=async _=>{try{console.log("Checking admin status for user:",_.id);const{data:w,error:S}=await yt.from("user_profiles").select("role").eq("id",_.id).single();console.log("Admin status check result:",{data:w,error:S}),S?(console.error("Error checking admin status:",S?.message||JSON.stringify(S)),l(!0)):l(w?.role==="admin")}catch(w){console.error("Error checking admin status:",w?.message||JSON.stringify(w)),l(!0)}},v={user:e,session:s,signUp:async(_,w,S)=>{try{a(!0),console.log("Starting signup process...");const{data:A,error:T}=await yt.auth.signUp({email:_,password:w,options:{data:S}});if(console.log("Signup response:",{data:A,error:T}),T)return console.error("Signup error:",T),Ee.error(T.message),{user:null,error:T};if(A.user){console.log("User created, attempting to create profile...");try{const{error:N}=await yt.from("user_profiles").insert({id:A.user.id,email:A.user.email,full_name:S?.full_name||"",role:"admin",created_at:new Date().toISOString()});N?(console.error("Error creating user profile:",N),Ee.warning("Account created but profile setup failed. Please contact support.")):console.log("User profile created successfully")}catch(N){console.error("Profile creation error:",N),Ee.warning("Account created but profile setup failed. Please contact support.")}}return Ee.success("Admin account created successfully! Please check your email to verify your account."),{user:A.user,error:null}}catch(A){return console.error("Sign up error:",A),Ee.error("Failed to create account"),{user:null,error:A}}finally{a(!1)}},signIn:async(_,w)=>{try{a(!0),console.log("Starting signin process...");const{data:S,error:A}=await yt.auth.signInWithPassword({email:_,password:w});return console.log("Signin response:",{data:S,error:A}),A?(console.error("Signin error:",A),Ee.error(A.message),{user:null,error:A}):(console.log("Signin successful, user:",S.user),Ee.success("Welcome back, Admin!"),{user:S.user,error:null})}catch(S){return console.error("Sign in error:",S),Ee.error("Failed to sign in"),{user:null,error:S}}finally{a(!1)}},signOut:async()=>{try{const{error:_}=await yt.auth.signOut();_?Ee.error(_.message):Ee.success("Logged out successfully")}catch(_){console.error("Sign out error:",_),Ee.error("Failed to sign out")}},resetPassword:async _=>{try{const{error:w}=await yt.auth.resetPasswordForEmail(_,{redirectTo:`${window.location.origin}/auth/reset-password`});w?Ee.error(w.message):Ee.success("Password reset email sent!")}catch(w){console.error("Reset password error:",w),Ee.error("Failed to send reset email")}},updateProfile:async _=>{try{const{error:w}=await yt.from("user_profiles").update(_).eq("id",e?.id);w?Ee.error(w.message):Ee.success("Profile updated successfully!")}catch(w){console.error("Update profile error:",w),Ee.error("Failed to update profile")}},loading:r,isAdmin:o};return d.jsx(UL.Provider,{value:v,children:n})},g2=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,p2=DI,hA=(n,e)=>t=>{var s;if(e?.variants==null)return p2(n,t?.class,t?.className);const{variants:i,defaultVariants:r}=e,a=Object.keys(i).map(c=>{const h=t?.[c],f=r?.[c];if(h===null)return null;const g=g2(h)||g2(f);return i[c][g]}),o=t&&Object.entries(t).reduce((c,h)=>{let[f,g]=h;return g===void 0||(c[f]=g),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,h)=>{let{class:f,className:g,...p}=h;return Object.entries(p).every(x=>{let[v,_]=x;return Array.isArray(_)?_.includes({...r,...o}[v]):{...r,...o}[v]===_})?[...c,f,g]:c},[]);return p2(n,a,l,t?.class,t?.className)},rK=hA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=R.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...i},r)=>{const a=s?EB:"button";return d.jsx(a,{className:Me(rK({variant:e,size:t,className:n})),ref:r,...i})});pe.displayName="Button";const aK=hA("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-600 text-white hover:bg-green-700",warning:"border-transparent bg-yellow-500 text-black hover:bg-yellow-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ge({className:n,variant:e,...t}){return d.jsx("div",{className:Me(aK({variant:e}),n),...t})}var WL={exports:{}},YL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=R;function oK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var lK=typeof Object.is=="function"?Object.is:oK,cK=xh.useState,uK=xh.useEffect,hK=xh.useLayoutEffect,dK=xh.useDebugValue;function fK(n,e){var t=e(),s=cK({inst:{value:t,getSnapshot:e}}),i=s[0].inst,r=s[1];return hK(function(){i.value=t,i.getSnapshot=e,Xb(i)&&r({inst:i})},[n,t,e]),uK(function(){return Xb(i)&&r({inst:i}),n(function(){Xb(i)&&r({inst:i})})},[n]),dK(t),t}function Xb(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!lK(n,t)}catch{return!0}}function gK(n,e){return e()}var pK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gK:fK;YL.useSyncExternalStore=xh.useSyncExternalStore!==void 0?xh.useSyncExternalStore:pK;WL.exports=YL;var mK=WL.exports;function vK(){return mK.useSyncExternalStore(xK,()=>!0,()=>!1)}function xK(){return()=>{}}var dA="Avatar",[yK,tre]=Os(dA),[bK,XL]=yK(dA),GL=R.forwardRef((n,e)=>{const{__scopeAvatar:t,...s}=n,[i,r]=R.useState("idle");return d.jsx(bK,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:d.jsx(Re.span,{...s,ref:e})})});GL.displayName=dA;var $L="AvatarImage",qL=R.forwardRef((n,e)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:i=()=>{},...r}=n,a=XL($L,t),o=wK(s,r),l=Mn(c=>{i(c),a.onImageLoadingStatusChange(c)});return xn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?d.jsx(Re.img,{...r,ref:e,src:s}):null});qL.displayName=$L;var ZL="AvatarFallback",KL=R.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:s,...i}=n,r=XL(ZL,t),[a,o]=R.useState(s===void 0);return R.useEffect(()=>{if(s!==void 0){const l=window.setTimeout(()=>o(!0),s);return()=>window.clearTimeout(l)}},[s]),a&&r.imageLoadingStatus!=="loaded"?d.jsx(Re.span,{...i,ref:e}):null});KL.displayName=ZL;function m2(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wK(n,{referrerPolicy:e,crossOrigin:t}){const s=vK(),i=R.useRef(null),r=s?(i.current||(i.current=new window.Image),i.current):null,[a,o]=R.useState(()=>m2(r,n));return xn(()=>{o(m2(r,n))},[r,n]),xn(()=>{const l=f=>()=>{o(f)};if(!r)return;const c=l("loaded"),h=l("error");return r.addEventListener("load",c),r.addEventListener("error",h),e&&(r.referrerPolicy=e),typeof t=="string"&&(r.crossOrigin=t),()=>{r.removeEventListener("load",c),r.removeEventListener("error",h)}},[r,t,e]),a}var QL=GL,JL=qL,eO=KL;const wf=R.forwardRef(({className:n,...e},t)=>d.jsx(QL,{ref:t,className:Me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));wf.displayName=QL.displayName;const _f=R.forwardRef(({className:n,...e},t)=>d.jsx(JL,{ref:t,className:Me("aspect-square h-full w-full",n),...e}));_f.displayName=JL.displayName;const Sf=R.forwardRef(({className:n,...e},t)=>d.jsx(eO,{ref:t,className:Me("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));Sf.displayName=eO.displayName;function oy(n){const e=n+"CollectionProvider",[t,s]=Os(e),[i,r]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:_,children:w}=v,S=ve.useRef(null),A=ve.useRef(new Map).current;return d.jsx(i,{scope:_,itemMap:A,collectionRef:S,children:w})};a.displayName=e;const o=n+"CollectionSlot",l=sc(o),c=ve.forwardRef((v,_)=>{const{scope:w,children:S}=v,A=r(o,w),T=qe(_,A.collectionRef);return d.jsx(l,{ref:T,children:S})});c.displayName=o;const h=n+"CollectionItemSlot",f="data-radix-collection-item",g=sc(h),p=ve.forwardRef((v,_)=>{const{scope:w,children:S,...A}=v,T=ve.useRef(null),N=qe(_,T),O=r(h,w);return ve.useEffect(()=>(O.itemMap.set(T,{ref:T,...A}),()=>void O.itemMap.delete(T))),d.jsx(g,{[f]:"",ref:N,children:S})});p.displayName=h;function x(v){const _=r(n+"CollectionConsumer",v);return ve.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const A=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((O,C)=>A.indexOf(O.ref.current)-A.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},x,s]}var _K=R.createContext(void 0);function Yh(n){const e=R.useContext(_K);return n||e||"ltr"}var Gb=0;function fA(){R.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??v2()),document.body.insertAdjacentElement("beforeend",n[1]??v2()),Gb++,()=>{Gb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gb--}},[])}function v2(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var $b="focusScope.autoFocusOnMount",qb="focusScope.autoFocusOnUnmount",x2={bubbles:!1,cancelable:!0},SK="FocusScope",ly=R.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:r,...a}=n,[o,l]=R.useState(null),c=Mn(i),h=Mn(r),f=R.useRef(null),g=qe(e,v=>l(v)),p=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(s){let v=function(A){if(p.paused||!o)return;const T=A.target;o.contains(T)?f.current=T:oo(f.current,{select:!0})},_=function(A){if(p.paused||!o)return;const T=A.relatedTarget;T!==null&&(o.contains(T)||oo(f.current,{select:!0}))},w=function(A){if(document.activeElement===document.body)for(const N of A)N.removedNodes.length>0&&oo(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const S=new MutationObserver(w);return o&&S.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),S.disconnect()}}},[s,o,p.paused]),R.useEffect(()=>{if(o){b2.add(p);const v=document.activeElement;if(!o.contains(v)){const w=new CustomEvent($b,x2);o.addEventListener($b,c),o.dispatchEvent(w),w.defaultPrevented||(AK(NK(tO(o)),{select:!0}),document.activeElement===v&&oo(o))}return()=>{o.removeEventListener($b,c),setTimeout(()=>{const w=new CustomEvent(qb,x2);o.addEventListener(qb,h),o.dispatchEvent(w),w.defaultPrevented||oo(v??document.body,{select:!0}),o.removeEventListener(qb,h),b2.remove(p)},0)}}},[o,c,h,p]);const x=R.useCallback(v=>{if(!t&&!s||p.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(_&&w){const S=v.currentTarget,[A,T]=CK(S);A&&T?!v.shiftKey&&w===T?(v.preventDefault(),t&&oo(A,{select:!0})):v.shiftKey&&w===A&&(v.preventDefault(),t&&oo(T,{select:!0})):w===S&&v.preventDefault()}},[t,s,p.paused]);return d.jsx(Re.div,{tabIndex:-1,...a,ref:g,onKeyDown:x})});ly.displayName=SK;function AK(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(oo(s,{select:e}),document.activeElement!==t)return}function CK(n){const e=tO(n),t=y2(e,n),s=y2(e.reverse(),n);return[t,s]}function tO(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function y2(n,e){for(const t of n)if(!TK(t,{upTo:e}))return t}function TK(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function EK(n){return n instanceof HTMLInputElement&&"select"in n}function oo(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&EK(n)&&e&&n.select()}}var b2=kK();function kK(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=w2(n,e),n.unshift(e)},remove(e){n=w2(n,e),n[0]?.resume()}}}function w2(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function NK(n){return n.filter(e=>e.tagName!=="A")}var Zb="rovingFocusGroup.onEntryFocus",RK={bubbles:!1,cancelable:!0},$g="RovingFocusGroup",[c_,nO,PK]=oy($g),[IK,cy]=Os($g,[PK]),[MK,jK]=IK($g),sO=R.forwardRef((n,e)=>d.jsx(c_.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx(c_.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(LK,{...n,ref:e})})}));sO.displayName=$g;var LK=R.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:i=!1,dir:r,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=n,g=R.useRef(null),p=qe(e,g),x=Yh(r),[v,_]=Wo({prop:a,defaultProp:o??null,onChange:l,caller:$g}),[w,S]=R.useState(!1),A=Mn(c),T=nO(t),N=R.useRef(!1),[O,C]=R.useState(0);return R.useEffect(()=>{const k=g.current;if(k)return k.addEventListener(Zb,A),()=>k.removeEventListener(Zb,A)},[A]),d.jsx(MK,{scope:t,orientation:s,dir:x,loop:i,currentTabStopId:v,onItemFocus:R.useCallback(k=>_(k),[_]),onItemShiftTab:R.useCallback(()=>S(!0),[]),onFocusableItemAdd:R.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:R.useCallback(()=>C(k=>k-1),[]),children:d.jsx(Re.div,{tabIndex:w||O===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...n.style},onMouseDown:ye(n.onMouseDown,()=>{N.current=!0}),onFocus:ye(n.onFocus,k=>{const M=!N.current;if(k.target===k.currentTarget&&M&&!w){const I=new CustomEvent(Zb,RK);if(k.currentTarget.dispatchEvent(I),!I.defaultPrevented){const D=T().filter(Y=>Y.focusable),F=D.find(Y=>Y.active),V=D.find(Y=>Y.id===v),J=[F,V,...D].filter(Boolean).map(Y=>Y.ref.current);aO(J,h)}}N.current=!1}),onBlur:ye(n.onBlur,()=>S(!1))})})}),iO="RovingFocusGroupItem",rO=R.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:i=!1,tabStopId:r,children:a,...o}=n,l=Lr(),c=r||l,h=jK(iO,t),f=h.currentTabStopId===c,g=nO(t),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:v}=h;return R.useEffect(()=>{if(s)return p(),()=>x()},[s,p,x]),d.jsx(c_.ItemSlot,{scope:t,id:c,focusable:s,active:i,children:d.jsx(Re.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:ye(n.onMouseDown,_=>{s?h.onItemFocus(c):_.preventDefault()}),onFocus:ye(n.onFocus,()=>h.onItemFocus(c)),onKeyDown:ye(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=zK(_,h.orientation,h.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let A=g().filter(T=>T.focusable).map(T=>T.ref.current);if(w==="last")A.reverse();else if(w==="prev"||w==="next"){w==="prev"&&A.reverse();const T=A.indexOf(_.currentTarget);A=h.loop?FK(A,T+1):A.slice(T+1)}setTimeout(()=>aO(A))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});rO.displayName=iO;var OK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DK(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function zK(n,e,t){const s=DK(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return OK[s]}function aO(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function FK(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var oO=sO,lO=rO,BK=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},su=new WeakMap,sm=new WeakMap,im={},Kb=0,cO=function(n){return n&&(n.host||cO(n.parentNode))},VK=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=cO(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},HK=function(n,e,t,s){var i=VK(e,Array.isArray(n)?n:[n]);im[t]||(im[t]=new WeakMap);var r=im[t],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(o.has(g))h(g);else try{var p=g.getAttribute(s),x=p!==null&&p!=="false",v=(su.get(g)||0)+1,_=(r.get(g)||0)+1;su.set(g,v),r.set(g,_),a.push(g),v===1&&x&&sm.set(g,!0),_===1&&g.setAttribute(t,"true"),x||g.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return h(e),o.clear(),Kb++,function(){a.forEach(function(f){var g=su.get(f)-1,p=r.get(f)-1;su.set(f,g),r.set(f,p),g||(sm.has(f)||f.removeAttribute(s),sm.delete(f)),p||f.removeAttribute(t)}),Kb--,Kb||(su=new WeakMap,su=new WeakMap,sm=new WeakMap,im={})}},gA=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),i=BK(n);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),HK(s,i,t,"aria-hidden")):function(){return null}},Nr=function(){return Nr=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Nr.apply(this,arguments)};function uO(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function UK(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))}var jm="right-scroll-bar-position",Lm="width-before-scroll-bar",WK="with-scroll-bars-hidden",YK="--removed-body-scroll-bar-size";function Qb(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function XK(n,e){var t=R.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var i=t.value;i!==s&&(t.value=s,t.callback(s,i))}}}})[0];return t.callback=e,t.facade}var GK=typeof window<"u"?R.useLayoutEffect:R.useEffect,_2=new WeakMap;function $K(n,e){var t=XK(null,function(s){return n.forEach(function(i){return Qb(i,s)})});return GK(function(){var s=_2.get(t);if(s){var i=new Set(s),r=new Set(n),a=t.current;i.forEach(function(o){r.has(o)||Qb(o,null)}),r.forEach(function(o){i.has(o)||Qb(o,a)})}_2.set(t,n)},[n]),t}function qK(n){return n}function ZK(n,e){e===void 0&&(e=qK);var t=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(r){var a=e(r,s);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(r){for(s=!0;t.length;){var a=t;t=[],a.forEach(r)}t={push:function(o){return r(o)},filter:function(){return t}}},assignMedium:function(r){s=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(r),a=t}var l=function(){var h=a;a=[],h.forEach(r)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(h){a.push(h),c()},filter:function(h){return a=a.filter(h),t}}}};return i}function KK(n){n===void 0&&(n={});var e=ZK(null);return e.options=Nr({async:!0,ssr:!1},n),e}var hO=function(n){var e=n.sideCar,t=uO(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return R.createElement(s,Nr({},t))};hO.isSideCarExport=!0;function QK(n,e){return n.useMedium(e),hO}var dO=KK(),Jb=function(){},uy=R.forwardRef(function(n,e){var t=R.useRef(null),s=R.useState({onScrollCapture:Jb,onWheelCapture:Jb,onTouchMoveCapture:Jb}),i=s[0],r=s[1],a=n.forwardProps,o=n.children,l=n.className,c=n.removeScrollBar,h=n.enabled,f=n.shards,g=n.sideCar,p=n.noRelative,x=n.noIsolation,v=n.inert,_=n.allowPinchZoom,w=n.as,S=w===void 0?"div":w,A=n.gapMode,T=uO(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=g,O=$K([t,e]),C=Nr(Nr({},T),i);return R.createElement(R.Fragment,null,h&&R.createElement(N,{sideCar:dO,removeScrollBar:c,shards:f,noRelative:p,noIsolation:x,inert:v,setCallbacks:r,allowPinchZoom:!!_,lockRef:t,gapMode:A}),a?R.cloneElement(R.Children.only(o),Nr(Nr({},C),{ref:O})):R.createElement(S,Nr({},C,{className:l,ref:O}),o))});uy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uy.classNames={fullWidth:Lm,zeroRight:jm};var JK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eQ(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=JK();return e&&n.setAttribute("nonce",e),n}function tQ(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function nQ(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var sQ=function(){var n=0,e=null;return{add:function(t){n==0&&(e=eQ())&&(tQ(e,t),nQ(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iQ=function(){var n=sQ();return function(e,t){R.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},fO=function(){var n=iQ(),e=function(t){var s=t.styles,i=t.dynamic;return n(s,i),null};return e},rQ={left:0,top:0,right:0,gap:0},e0=function(n){return parseInt(n||"",10)||0},aQ=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[e0(t),e0(s),e0(i)]},oQ=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return rQ;var e=aQ(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},lQ=fO(),Gu="data-scroll-locked",cQ=function(n,e,t,s){var i=n.left,r=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(WK,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(o,"px ").concat(s,`;
  }
  body[`).concat(Gu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jm,` {
    right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Lm,` {
    margin-right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(jm," .").concat(jm,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Gu,`] {
    `).concat(YK,": ").concat(o,`px;
  }
`)},S2=function(){var n=parseInt(document.body.getAttribute(Gu)||"0",10);return isFinite(n)?n:0},uQ=function(){R.useEffect(function(){return document.body.setAttribute(Gu,(S2()+1).toString()),function(){var n=S2()-1;n<=0?document.body.removeAttribute(Gu):document.body.setAttribute(Gu,n.toString())}},[])},hQ=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,i=s===void 0?"margin":s;uQ();var r=R.useMemo(function(){return oQ(i)},[i]);return R.createElement(lQ,{styles:cQ(r,!e,i,t?"":"!important")})},u_=!1;if(typeof window<"u")try{var rm=Object.defineProperty({},"passive",{get:function(){return u_=!0,!0}});window.addEventListener("test",rm,rm),window.removeEventListener("test",rm,rm)}catch{u_=!1}var iu=u_?{passive:!1}:!1,dQ=function(n){return n.tagName==="TEXTAREA"},gO=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!dQ(n)&&t[e]==="visible")},fQ=function(n){return gO(n,"overflowY")},gQ=function(n){return gO(n,"overflowX")},A2=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=pO(n,s);if(i){var r=mO(n,s),a=r[1],o=r[2];if(a>o)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},pQ=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},mQ=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},pO=function(n,e){return n==="v"?fQ(e):gQ(e)},mO=function(n,e){return n==="v"?pQ(e):mQ(e)},vQ=function(n,e){return n==="h"&&e==="rtl"?-1:1},xQ=function(n,e,t,s,i){var r=vQ(n,window.getComputedStyle(e).direction),a=r*s,o=t.target,l=e.contains(o),c=!1,h=a>0,f=0,g=0;do{if(!o)break;var p=mO(n,o),x=p[0],v=p[1],_=p[2],w=v-_-r*x;(x||w)&&pO(n,o)&&(f+=w,g+=x);var S=o.parentNode;o=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(h&&Math.abs(f)<1||!h&&Math.abs(g)<1)&&(c=!0),c},am=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},C2=function(n){return[n.deltaX,n.deltaY]},T2=function(n){return n&&"current"in n?n.current:n},yQ=function(n,e){return n[0]===e[0]&&n[1]===e[1]},bQ=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},wQ=0,ru=[];function _Q(n){var e=R.useRef([]),t=R.useRef([0,0]),s=R.useRef(),i=R.useState(wQ++)[0],r=R.useState(fO)[0],a=R.useRef(n);R.useEffect(function(){a.current=n},[n]),R.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var v=UK([n.lockRef.current],(n.shards||[]).map(T2),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var o=R.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var w=am(v),S=t.current,A="deltaX"in v?v.deltaX:S[0]-w[0],T="deltaY"in v?v.deltaY:S[1]-w[1],N,O=v.target,C=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in v&&C==="h"&&O.type==="range")return!1;var k=A2(C,O);if(!k)return!0;if(k?N=C:(N=C==="v"?"h":"v",k=A2(C,O)),!k)return!1;if(!s.current&&"changedTouches"in v&&(A||T)&&(s.current=N),!N)return!0;var M=s.current||N;return xQ(M,_,v,M==="h"?A:T)},[]),l=R.useCallback(function(v){var _=v;if(!(!ru.length||ru[ru.length-1]!==r)){var w="deltaY"in _?C2(_):am(_),S=e.current.filter(function(N){return N.name===_.type&&(N.target===_.target||_.target===N.shadowParent)&&yQ(N.delta,w)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var A=(a.current.shards||[]).map(T2).filter(Boolean).filter(function(N){return N.contains(_.target)}),T=A.length>0?o(_,A[0]):!a.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),c=R.useCallback(function(v,_,w,S){var A={name:v,delta:_,target:w,should:S,shadowParent:SQ(w)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(T){return T!==A})},1)},[]),h=R.useCallback(function(v){t.current=am(v),s.current=void 0},[]),f=R.useCallback(function(v){c(v.type,C2(v),v.target,o(v,n.lockRef.current))},[]),g=R.useCallback(function(v){c(v.type,am(v),v.target,o(v,n.lockRef.current))},[]);R.useEffect(function(){return ru.push(r),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,iu),document.addEventListener("touchmove",l,iu),document.addEventListener("touchstart",h,iu),function(){ru=ru.filter(function(v){return v!==r}),document.removeEventListener("wheel",l,iu),document.removeEventListener("touchmove",l,iu),document.removeEventListener("touchstart",h,iu)}},[]);var p=n.removeScrollBar,x=n.inert;return R.createElement(R.Fragment,null,x?R.createElement(r,{styles:bQ(i)}):null,p?R.createElement(hQ,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function SQ(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const AQ=QK(dO,_Q);var hy=R.forwardRef(function(n,e){return R.createElement(uy,Nr({},n,{ref:e,sideCar:AQ}))});hy.classNames=uy.classNames;var h_=["Enter"," "],CQ=["ArrowDown","PageUp","Home"],vO=["ArrowUp","PageDown","End"],TQ=[...CQ,...vO],EQ={ltr:[...h_,"ArrowRight"],rtl:[...h_,"ArrowLeft"]},kQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qg="Menu",[sg,NQ,RQ]=oy(qg),[Cc,xO]=Os(qg,[RQ,jh,cy]),dy=jh(),yO=cy(),[PQ,Tc]=Cc(qg),[IQ,Zg]=Cc(qg),bO=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:i,onOpenChange:r,modal:a=!0}=n,o=dy(e),[l,c]=R.useState(null),h=R.useRef(!1),f=Mn(r),g=Yh(i);return R.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),d.jsx(CI,{...o,children:d.jsx(PQ,{scope:e,open:t,onOpenChange:f,content:l,onContentChange:c,children:d.jsx(IQ,{scope:e,onClose:R.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:a,children:s})})})};bO.displayName=qg;var MQ="MenuAnchor",pA=R.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,i=dy(t);return d.jsx(sS,{...i,...s,ref:e})});pA.displayName=MQ;var mA="MenuPortal",[jQ,wO]=Cc(mA,{forceMount:void 0}),_O=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:i}=n,r=Tc(mA,e);return d.jsx(jQ,{scope:e,forceMount:t,children:d.jsx(Ds,{present:t||r.open,children:d.jsx(jx,{asChild:!0,container:i,children:s})})})};_O.displayName=mA;var ji="MenuContent",[LQ,vA]=Cc(ji),SO=R.forwardRef((n,e)=>{const t=wO(ji,n.__scopeMenu),{forceMount:s=t.forceMount,...i}=n,r=Tc(ji,n.__scopeMenu),a=Zg(ji,n.__scopeMenu);return d.jsx(sg.Provider,{scope:n.__scopeMenu,children:d.jsx(Ds,{present:s||r.open,children:d.jsx(sg.Slot,{scope:n.__scopeMenu,children:a.modal?d.jsx(OQ,{...i,ref:e}):d.jsx(DQ,{...i,ref:e})})})})}),OQ=R.forwardRef((n,e)=>{const t=Tc(ji,n.__scopeMenu),s=R.useRef(null),i=qe(e,s);return R.useEffect(()=>{const r=s.current;if(r)return gA(r)},[]),d.jsx(xA,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ye(n.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),DQ=R.forwardRef((n,e)=>{const t=Tc(ji,n.__scopeMenu);return d.jsx(xA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),zQ=sc("MenuContent.ScrollLock"),xA=R.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:p,disableOutsideScroll:x,...v}=n,_=Tc(ji,t),w=Zg(ji,t),S=dy(t),A=yO(t),T=NQ(t),[N,O]=R.useState(null),C=R.useRef(null),k=qe(e,C,_.onContentChange),M=R.useRef(0),I=R.useRef(""),D=R.useRef(0),F=R.useRef(null),V=R.useRef("right"),G=R.useRef(0),J=x?hy:R.Fragment,Y=x?{as:zQ,allowPinchZoom:!0}:void 0,Z=X=>{const Q=I.current+X,se=T().filter(re=>!re.disabled),q=document.activeElement,he=se.find(re=>re.ref.current===q)?.textValue,ae=se.map(re=>re.textValue),fe=ZQ(ae,Q,he),oe=se.find(re=>re.textValue===fe)?.ref.current;(function re(be){I.current=be,window.clearTimeout(M.current),be!==""&&(M.current=window.setTimeout(()=>re(""),1e3))})(Q),oe&&setTimeout(()=>oe.focus())};R.useEffect(()=>()=>window.clearTimeout(M.current),[]),fA();const U=R.useCallback(X=>V.current===F.current?.side&&QQ(X,F.current?.area),[]);return d.jsx(LQ,{scope:t,searchRef:I,onItemEnter:R.useCallback(X=>{U(X)&&X.preventDefault()},[U]),onItemLeave:R.useCallback(X=>{U(X)||(C.current?.focus(),O(null))},[U]),onTriggerLeave:R.useCallback(X=>{U(X)&&X.preventDefault()},[U]),pointerGraceTimerRef:D,onPointerGraceIntentChange:R.useCallback(X=>{F.current=X},[]),children:d.jsx(J,{...Y,children:d.jsx(ly,{asChild:!0,trapped:i,onMountAutoFocus:ye(r,X=>{X.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:d.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:p,children:d.jsx(oO,{asChild:!0,...A,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:O,onEntryFocus:ye(l,X=>{w.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(iS,{role:"menu","aria-orientation":"vertical","data-state":FO(_.open),"data-radix-menu-content":"",dir:w.dir,...S,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:ye(v.onKeyDown,X=>{const se=X.target.closest("[data-radix-menu-content]")===X.currentTarget,q=X.ctrlKey||X.altKey||X.metaKey,he=X.key.length===1;se&&(X.key==="Tab"&&X.preventDefault(),!q&&he&&Z(X.key));const ae=C.current;if(X.target!==ae||!TQ.includes(X.key))return;X.preventDefault();const oe=T().filter(re=>!re.disabled).map(re=>re.ref.current);vO.includes(X.key)&&oe.reverse(),$Q(oe)}),onBlur:ye(n.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(M.current),I.current="")}),onPointerMove:ye(n.onPointerMove,ig(X=>{const Q=X.target,se=G.current!==X.clientX;if(X.currentTarget.contains(Q)&&se){const q=X.clientX>G.current?"right":"left";V.current=q,G.current=X.clientX}}))})})})})})})});SO.displayName=ji;var FQ="MenuGroup",yA=R.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return d.jsx(Re.div,{role:"group",...s,ref:e})});yA.displayName=FQ;var BQ="MenuLabel",AO=R.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return d.jsx(Re.div,{...s,ref:e})});AO.displayName=BQ;var Zv="MenuItem",E2="menu.itemSelect",fy=R.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...i}=n,r=R.useRef(null),a=Zg(Zv,n.__scopeMenu),o=vA(Zv,n.__scopeMenu),l=qe(e,r),c=R.useRef(!1),h=()=>{const f=r.current;if(!t&&f){const g=new CustomEvent(E2,{bubbles:!0,cancelable:!0});f.addEventListener(E2,p=>s?.(p),{once:!0}),tI(f,g),g.defaultPrevented?c.current=!1:a.onClose()}};return d.jsx(CO,{...i,ref:l,disabled:t,onClick:ye(n.onClick,h),onPointerDown:f=>{n.onPointerDown?.(f),c.current=!0},onPointerUp:ye(n.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:ye(n.onKeyDown,f=>{const g=o.searchRef.current!=="";t||g&&f.key===" "||h_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});fy.displayName=Zv;var CO=R.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:i,...r}=n,a=vA(Zv,t),o=yO(t),l=R.useRef(null),c=qe(e,l),[h,f]=R.useState(!1),[g,p]=R.useState("");return R.useEffect(()=>{const x=l.current;x&&p((x.textContent??"").trim())},[r.children]),d.jsx(sg.ItemSlot,{scope:t,disabled:s,textValue:i??g,children:d.jsx(lO,{asChild:!0,...o,focusable:!s,children:d.jsx(Re.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...r,ref:c,onPointerMove:ye(n.onPointerMove,ig(x=>{s?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(n.onPointerLeave,ig(x=>a.onItemLeave(x))),onFocus:ye(n.onFocus,()=>f(!0)),onBlur:ye(n.onBlur,()=>f(!1))})})})}),VQ="MenuCheckboxItem",TO=R.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...i}=n;return d.jsx(PO,{scope:n.__scopeMenu,checked:t,children:d.jsx(fy,{role:"menuitemcheckbox","aria-checked":Kv(t)?"mixed":t,...i,ref:e,"data-state":wA(t),onSelect:ye(i.onSelect,()=>s?.(Kv(t)?!0:!t),{checkForDefaultPrevented:!1})})})});TO.displayName=VQ;var EO="MenuRadioGroup",[HQ,UQ]=Cc(EO,{value:void 0,onValueChange:()=>{}}),kO=R.forwardRef((n,e)=>{const{value:t,onValueChange:s,...i}=n,r=Mn(s);return d.jsx(HQ,{scope:n.__scopeMenu,value:t,onValueChange:r,children:d.jsx(yA,{...i,ref:e})})});kO.displayName=EO;var NO="MenuRadioItem",RO=R.forwardRef((n,e)=>{const{value:t,...s}=n,i=UQ(NO,n.__scopeMenu),r=t===i.value;return d.jsx(PO,{scope:n.__scopeMenu,checked:r,children:d.jsx(fy,{role:"menuitemradio","aria-checked":r,...s,ref:e,"data-state":wA(r),onSelect:ye(s.onSelect,()=>i.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});RO.displayName=NO;var bA="MenuItemIndicator",[PO,WQ]=Cc(bA,{checked:!1}),IO=R.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...i}=n,r=WQ(bA,t);return d.jsx(Ds,{present:s||Kv(r.checked)||r.checked===!0,children:d.jsx(Re.span,{...i,ref:e,"data-state":wA(r.checked)})})});IO.displayName=bA;var YQ="MenuSeparator",MO=R.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return d.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});MO.displayName=YQ;var XQ="MenuArrow",jO=R.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,i=dy(t);return d.jsx(rS,{...i,...s,ref:e})});jO.displayName=XQ;var GQ="MenuSub",[nre,LO]=Cc(GQ),Xd="MenuSubTrigger",OO=R.forwardRef((n,e)=>{const t=Tc(Xd,n.__scopeMenu),s=Zg(Xd,n.__scopeMenu),i=LO(Xd,n.__scopeMenu),r=vA(Xd,n.__scopeMenu),a=R.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=r,c={__scopeMenu:n.__scopeMenu},h=R.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return R.useEffect(()=>h,[h]),R.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),d.jsx(pA,{asChild:!0,...c,children:d.jsx(CO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":FO(t.open),...n,ref:Nx(e,i.onTriggerChange),onClick:f=>{n.onClick?.(f),!(n.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ye(n.onPointerMove,ig(f=>{r.onItemEnter(f),!f.defaultPrevented&&!n.disabled&&!t.open&&!a.current&&(r.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:ye(n.onPointerLeave,ig(f=>{h();const g=t.content?.getBoundingClientRect();if(g){const p=t.content?.dataset.side,x=p==="right",v=x?-5:5,_=g[x?"left":"right"],w=g[x?"right":"left"];r.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:_,y:g.top},{x:w,y:g.top},{x:w,y:g.bottom},{x:_,y:g.bottom}],side:p}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(f),f.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:ye(n.onKeyDown,f=>{const g=r.searchRef.current!=="";n.disabled||g&&f.key===" "||EQ[s.dir].includes(f.key)&&(t.onOpenChange(!0),t.content?.focus(),f.preventDefault())})})})});OO.displayName=Xd;var DO="MenuSubContent",zO=R.forwardRef((n,e)=>{const t=wO(ji,n.__scopeMenu),{forceMount:s=t.forceMount,...i}=n,r=Tc(ji,n.__scopeMenu),a=Zg(ji,n.__scopeMenu),o=LO(DO,n.__scopeMenu),l=R.useRef(null),c=qe(e,l);return d.jsx(sg.Provider,{scope:n.__scopeMenu,children:d.jsx(Ds,{present:s||r.open,children:d.jsx(sg.Slot,{scope:n.__scopeMenu,children:d.jsx(xA,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&l.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ye(n.onFocusOutside,h=>{h.target!==o.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:ye(n.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ye(n.onKeyDown,h=>{const f=h.currentTarget.contains(h.target),g=kQ[a.dir].includes(h.key);f&&g&&(r.onOpenChange(!1),o.trigger?.focus(),h.preventDefault())})})})})})});zO.displayName=DO;function FO(n){return n?"open":"closed"}function Kv(n){return n==="indeterminate"}function wA(n){return Kv(n)?"indeterminate":n?"checked":"unchecked"}function $Q(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function qQ(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function ZQ(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,r=t?n.indexOf(t):-1;let a=qQ(n,Math.max(r,0));i.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function KQ(n,e){const{x:t,y:s}=n;let i=!1;for(let r=0,a=e.length-1;r<e.length;a=r++){const o=e[r],l=e[a],c=o.x,h=o.y,f=l.x,g=l.y;h>s!=g>s&&t<(f-c)*(s-h)/(g-h)+c&&(i=!i)}return i}function QQ(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return KQ(t,e)}function ig(n){return e=>e.pointerType==="mouse"?n(e):void 0}var JQ=bO,eJ=pA,tJ=_O,nJ=SO,sJ=yA,iJ=AO,rJ=fy,aJ=TO,oJ=kO,lJ=RO,cJ=IO,uJ=MO,hJ=jO,dJ=OO,fJ=zO,gy="DropdownMenu",[gJ,sre]=Os(gy,[xO]),gs=xO(),[pJ,BO]=gJ(gy),VO=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:i,defaultOpen:r,onOpenChange:a,modal:o=!0}=n,l=gs(e),c=R.useRef(null),[h,f]=Wo({prop:i,defaultProp:r??!1,onChange:a,caller:gy});return d.jsx(pJ,{scope:e,triggerId:Lr(),triggerRef:c,contentId:Lr(),open:h,onOpenChange:f,onOpenToggle:R.useCallback(()=>f(g=>!g),[f]),modal:o,children:d.jsx(JQ,{...l,open:h,onOpenChange:f,dir:s,modal:o,children:t})})};VO.displayName=gy;var HO="DropdownMenuTrigger",UO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...i}=n,r=BO(HO,t),a=gs(t);return d.jsx(eJ,{asChild:!0,...a,children:d.jsx(Re.button,{type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Nx(e,r.triggerRef),onPointerDown:ye(n.onPointerDown,o=>{!s&&o.button===0&&o.ctrlKey===!1&&(r.onOpenToggle(),r.open||o.preventDefault())}),onKeyDown:ye(n.onKeyDown,o=>{s||(["Enter"," "].includes(o.key)&&r.onOpenToggle(),o.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});UO.displayName=HO;var mJ="DropdownMenuPortal",WO=n=>{const{__scopeDropdownMenu:e,...t}=n,s=gs(e);return d.jsx(tJ,{...s,...t})};WO.displayName=mJ;var YO="DropdownMenuContent",XO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=BO(YO,t),r=gs(t),a=R.useRef(!1);return d.jsx(nJ,{id:i.contentId,"aria-labelledby":i.triggerId,...r,...s,ref:e,onCloseAutoFocus:ye(n.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:ye(n.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!i.modal||h)&&(a.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XO.displayName=YO;var vJ="DropdownMenuGroup",xJ=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(sJ,{...i,...s,ref:e})});xJ.displayName=vJ;var yJ="DropdownMenuLabel",GO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(iJ,{...i,...s,ref:e})});GO.displayName=yJ;var bJ="DropdownMenuItem",$O=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(rJ,{...i,...s,ref:e})});$O.displayName=bJ;var wJ="DropdownMenuCheckboxItem",qO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(aJ,{...i,...s,ref:e})});qO.displayName=wJ;var _J="DropdownMenuRadioGroup",SJ=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(oJ,{...i,...s,ref:e})});SJ.displayName=_J;var AJ="DropdownMenuRadioItem",ZO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(lJ,{...i,...s,ref:e})});ZO.displayName=AJ;var CJ="DropdownMenuItemIndicator",KO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(cJ,{...i,...s,ref:e})});KO.displayName=CJ;var TJ="DropdownMenuSeparator",QO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(uJ,{...i,...s,ref:e})});QO.displayName=TJ;var EJ="DropdownMenuArrow",kJ=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(hJ,{...i,...s,ref:e})});kJ.displayName=EJ;var NJ="DropdownMenuSubTrigger",JO=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(dJ,{...i,...s,ref:e})});JO.displayName=NJ;var RJ="DropdownMenuSubContent",eD=R.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=gs(t);return d.jsx(fJ,{...i,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eD.displayName=RJ;var PJ=VO,IJ=UO,MJ=WO,tD=XO,nD=GO,sD=$O,iD=qO,rD=ZO,aD=KO,oD=QO,lD=JO,cD=eD;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uD=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:a,...o},l)=>R.createElement("svg",{ref:l,...LJ,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:uD("lucide",i),...o},[...a.map(([c,h])=>R.createElement(c,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(n,e)=>{const t=R.forwardRef(({className:s,...i},r)=>R.createElement(OJ,{ref:r,iconNode:e,className:uD(`lucide-${jJ(n)}`,s),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=Se("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Se("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=Se("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=Se("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=Se("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=Se("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=Se("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Se("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=Se("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Se("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=Se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Se("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=Se("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=Se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Se("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=Se("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Se("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Se("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=Se("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=Se("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Jv=PJ,ex=IJ,cee=R.forwardRef(({className:n,inset:e,children:t,...s},i)=>d.jsxs(lD,{ref:i,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...s,children:[t,d.jsx(FJ,{className:"ml-auto h-4 w-4"})]}));cee.displayName=lD.displayName;const uee=R.forwardRef(({className:n,...e},t)=>d.jsx(cD,{ref:t,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));uee.displayName=cD.displayName;const og=R.forwardRef(({className:n,sideOffset:e=4,...t},s)=>d.jsx(MJ,{children:d.jsx(tD,{ref:s,sideOffset:e,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));og.displayName=tD.displayName;const Ns=R.forwardRef(({className:n,inset:e,...t},s)=>d.jsx(sD,{ref:s,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));Ns.displayName=sD.displayName;const hee=R.forwardRef(({className:n,children:e,checked:t,...s},i)=>d.jsxs(iD,{ref:i,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...s,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(aD,{children:d.jsx(dD,{className:"h-4 w-4"})})}),e]}));hee.displayName=iD.displayName;const dee=R.forwardRef(({className:n,children:e,...t},s)=>d.jsxs(rD,{ref:s,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(aD,{children:d.jsx(UJ,{className:"h-2 w-2 fill-current"})})}),e]}));dee.displayName=rD.displayName;const v_=R.forwardRef(({className:n,inset:e,...t},s)=>d.jsx(nD,{ref:s,className:Me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));v_.displayName=nD.displayName;const yu=R.forwardRef(({className:n,...e},t)=>d.jsx(oD,{ref:t,className:Me("-mx-1 my-1 h-px bg-muted",n),...e}));yu.displayName=oD.displayName;const Cl=({children:n})=>{const[e,t]=R.useState(!1),s=hx(),i=pg(),{currentUser:r,userProfile:a,logout:o}=Hh(),{isAdmin:l}=uA(),c=[{name:"Dashboard",href:"/dashboard",icon:Dm},{name:"Predictions",href:"/predictions",icon:vD},{name:"Alerts",href:"/alerts",icon:tn},{name:"Reports",href:"/reports",icon:Ms},{name:"Assessment",href:"/assessment",icon:py},{name:"Planning",href:"/planning",icon:ts},...l?[{name:"Admin Panel",href:"/admin",icon:rg}]:[]],h=async()=>{await o(),i("/")};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50",children:[e&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1)}),d.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-green-100 to-teal-200 text-gray-100 backdrop-blur-xl shadow-lg border-r border-blue-100 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-blue-100 bg-gradient-to-r from-green-100 to-teal-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:"/favicon.svg",alt:"JalRakshak Logo",className:"w-10 h-10"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"}),d.jsx("p",{className:"text-xs text-slate-500",children:"Flood Warning System"})]})]}),d.jsx(pe,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>t(!1),children:d.jsx(my,{className:"w-5 h-5"})})]}),d.jsxs("nav",{className:"mt-6 px-3",children:[d.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-100 to-teal-100 rounded-xl border border-blue-200",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs(wf,{className:"w-10 h-10 ring-2 ring-blue-300",children:[d.jsx(_f,{src:r?.photoURL||""}),d.jsx(Sf,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white font-bold",children:a?.displayName?.split(" ").map(f=>f[0]).join("")||"U"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Welcome back!"}),d.jsx("p",{className:"text-xs text-blue-700 truncate",children:a?.displayName||"User"})]}),d.jsxs(pe,{onClick:()=>i("/profile"),size:"sm",variant:"ghost",className:"bg-blue-200 hover:bg-blue-300 text-blue-800 rounded-full p-2 relative",children:[d.jsx(P2,{className:"w-4 h-4"}),d.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})]})}),c.map(f=>{const g=s.pathname===f.href;return d.jsxs(d6,{to:f.href,className:`
                  flex items-center px-3 py-3 mb-2 rounded-xl transition-all duration-200
                  ${g?"bg-gradient-to-r from-blue-400 to-teal-400 text-gray-800 shadow-md shadow-blue-400/30":"text-gray-700 hover:bg-gradient-to-r hover:from-blue-100 hover:to-teal-100 hover:text-gray-800"}
                `,onClick:()=>t(!1),children:[d.jsx(f.icon,{className:"w-5 h-5 mr-3"}),d.jsx("span",{className:"font-medium",children:f.name})]},f.name)})]}),d.jsx("div",{className:"absolute bottom-20 left-3 right-3",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-2 border-blue-200 rounded-xl p-4 shadow-lg",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs(wf,{className:"w-12 h-12 ring-2 ring-blue-300",children:[d.jsx(_f,{src:r?.photoURL||""}),d.jsx(Sf,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-lg font-bold",children:a?.displayName?.split(" ").map(f=>f[0]).join("")||"U"})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-bold text-blue-900 truncate",children:a?.displayName||"User"}),d.jsx("p",{className:"text-xs text-blue-700 truncate",children:a?.email}),d.jsx(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs mt-1",children:a?.role?.replace("_"," ").toUpperCase()||"USER"})]}),d.jsxs(Jv,{children:[d.jsx(ex,{asChild:!0,children:d.jsx(pe,{variant:"ghost",size:"sm",className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full border border-blue-300",children:d.jsx(Qv,{className:"w-4 h-4 text-blue-700"})})}),d.jsxs(og,{align:"end",className:"w-48",children:[d.jsx(v_,{className:"text-blue-900 font-semibold",children:"My Account"}),d.jsx(yu,{}),d.jsxs(Ns,{onClick:()=>i("/profile"),className:"hover:bg-blue-50",children:[d.jsx(wh,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),d.jsxs(Ns,{className:"hover:bg-blue-50",children:[d.jsx(Zl,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),d.jsxs(Ns,{className:"hover:bg-blue-50",children:[d.jsx(P2,{className:"w-4 h-4 mr-2 text-blue-600"}),"Preferences"]}),d.jsx(yu,{}),d.jsxs(Ns,{onClick:h,className:"text-red-600 hover:bg-red-50",children:[d.jsx(k2,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})})}),d.jsx("div",{className:"absolute bottom-6 left-3 right-3",children:d.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx(Un,{className:"w-5 h-5 text-green-600"}),d.jsx("span",{className:"font-semibold text-green-800",children:"System Status"})]}),d.jsx(Ge,{variant:"secondary",className:"bg-green-100 text-green-700 hover:bg-green-100",children:"All Systems Operational"})]})})]}),d.jsxs("div",{className:"lg:pl-64",children:[d.jsxs("div",{className:"lg:hidden flex items-center justify-between h-16 px-4 bg-white/80 backdrop-blur-xl border-b border-blue-100",children:[d.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>t(!0),children:d.jsx(ZJ,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(SA,{className:"w-6 h-6 text-blue-600"}),d.jsx("span",{className:"font-bold text-blue-600",children:"JalRakshak"})]}),d.jsxs(Jv,{children:[d.jsx(ex,{asChild:!0,children:d.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 border-2 border-blue-200 rounded-full p-1 cursor-pointer hover:bg-blue-100 transition-colors",children:[d.jsxs(wf,{className:"w-8 h-8 ring-2 ring-blue-300",children:[d.jsx(_f,{src:r?.photoURL||""}),d.jsx(Sf,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-sm font-bold",children:a?.displayName?.split(" ").map(f=>f[0]).join("")||"U"})]}),d.jsx(Qv,{className:"w-3 h-3 text-blue-600 mr-1"})]})}),d.jsxs(og,{align:"end",className:"w-48",children:[d.jsxs(v_,{className:"text-blue-900 font-semibold",children:[d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("span",{children:"My Account"})}),d.jsx("div",{className:"text-xs text-blue-600 font-normal truncate",children:a?.displayName||"User"})]}),d.jsx(yu,{}),d.jsxs(Ns,{onClick:()=>i("/profile"),className:"hover:bg-blue-50",children:[d.jsx(wh,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),d.jsxs(Ns,{className:"hover:bg-blue-50",children:[d.jsx(Zl,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),l&&d.jsxs(d.Fragment,{children:[d.jsx(yu,{}),d.jsxs(Ns,{onClick:()=>i("/admin"),className:"hover:bg-purple-50",children:[d.jsx(rg,{className:"w-4 h-4 mr-2 text-purple-600"}),"Admin Panel"]})]}),d.jsx(yu,{}),d.jsxs(Ns,{onClick:h,className:"text-red-600 hover:bg-red-50",children:[d.jsx(k2,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]}),d.jsx("main",{className:"p-6",children:n})]})]})},Tl=({children:n})=>{const{currentUser:e,loading:t}=Hh(),s=hx();return t?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto animate-pulse",children:d.jsx(Un,{className:"w-8 h-8 text-white"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ni,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"}),d.jsx("p",{className:"text-slate-600",children:"Loading JalRakshak..."})]})]})}):e?d.jsx(d.Fragment,{children:n}):d.jsx(Wm,{to:"/auth",state:{from:s},replace:!0})},fee=({children:n})=>{const{user:e,loading:t,isAdmin:s}=uA(),i=hx();return t?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto animate-pulse",children:d.jsx(Un,{className:"w-8 h-8 text-white"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ni,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"}),d.jsx("p",{className:"text-slate-600",children:"Loading Admin Panel..."})]})]})}):e?s?d.jsx(d.Fragment,{children:n}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-8",children:[d.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto",children:d.jsx(tn,{className:"w-10 h-10 text-white"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Access Denied"}),d.jsx("p",{className:"text-slate-600",children:"You don't have permission to access the admin panel. Please contact an administrator if you believe this is an error."}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})})]})]})}):d.jsx(Wm,{to:"/admin/signin",state:{from:i},replace:!0})},gee=()=>{const n=pg(),[e]=R.useState({protectedAreas:1247,activeUsers:89456,alertsSent:23456,accuracyRate:94.7}),t=[{icon:tn,title:"Early Warning System",description:"Get alerts up to 47 minutes before flooding occurs",color:"text-red-600 bg-red-100"},{icon:Un,title:"AI-Powered Predictions",description:"94.7% accuracy in flood risk assessment",color:"text-blue-600 bg-blue-100"},{icon:Ms,title:"Community Driven",description:"Real-time reports from local communities",color:"text-green-600 bg-green-100"},{icon:AA,title:"Live Monitoring",description:"24/7 monitoring across Punjab and India",color:"text-purple-600 bg-purple-100"}],s=[{name:"Dr. Rajesh Kumar",role:"Disaster Management Officer",location:"Punjab State",text:"JalRakshak has revolutionized our flood response. The early warnings have saved countless lives.",avatar:""},{name:"Priya Sharma",role:"Community Leader",location:"Amritsar",text:"The mobile alerts reached us 30 minutes before flooding. We evacuated safely thanks to JalRakshak.",avatar:""},{name:"Captain Vikram Singh",role:"Emergency Response Team",location:"Ludhiana",text:"Real-time data and evacuation routes help us respond faster and more effectively.",avatar:""}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[d.jsx("nav",{className:"bg-white/80 backdrop-blur-xl border-b border-blue-100 sticky top-0 z-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:d.jsx(Un,{className:"w-5 h-5 text-white"})}),d.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(pe,{variant:"ghost",onClick:()=>n("/auth?mode=login"),className:"text-slate-600 hover:text-blue-600",children:"Sign In"}),d.jsx(pe,{onClick:()=>n("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white",children:"Get Started"})]})]})})}),d.jsxs("section",{className:"relative overflow-hidden",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:d.jsxs("div",{className:"text-center space-y-8",children:[d.jsx(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700 px-4 py-2",children:" AI-Powered Flood Early Warning System"}),d.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-slate-900 leading-tight",children:["Protecting Communities with",d.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-teal-500 to-green-500 bg-clip-text text-transparent",children:"Smart Flood Alerts"})]}),d.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed",children:"Advanced AI technology monitors water levels, weather patterns, and flood risks across India, providing life-saving early warnings to communities and emergency responders."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-8",children:[d.jsxs(pe,{size:"lg",onClick:()=>n("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4 text-lg",children:["Start Protecting Your Community",d.jsx(d_,{className:"w-5 h-5 ml-2"})]}),d.jsxs(pe,{size:"lg",variant:"outline",onClick:()=>n("/auth?mode=login"),className:"border-blue-200 text-blue-600 hover:bg-blue-50 px-8 py-4 text-lg",children:[d.jsx(Un,{className:"w-5 h-5 mr-2"}),"Sign In"]}),d.jsxs(pe,{size:"lg",variant:"outline",onClick:()=>n("/admin/signup"),className:"border-purple-200 text-purple-600 hover:bg-purple-50 px-8 py-4 text-lg",children:[d.jsx(rg,{className:"w-5 h-5 mr-2"}),"Admin Signup"]}),d.jsxs(pe,{size:"lg",variant:"outline",onClick:()=>n("/admin/signin"),className:"border-purple-200 text-purple-600 hover:bg-purple-50 px-8 py-4 text-lg",children:[d.jsx(rg,{className:"w-5 h-5 mr-2"}),"Admin Sign In"]}),d.jsxs(pe,{size:"lg",variant:"outline",onClick:()=>n("/auth?mode=demo"),className:"border-green-200 text-green-600 hover:bg-green-50 px-8 py-4 text-lg",children:[d.jsx(fr,{className:"w-5 h-5 mr-2"}),"View Live Demo"]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 pt-16",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.protectedAreas.toLocaleString()}),d.jsx("div",{className:"text-sm text-slate-600",children:"Protected Areas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.activeUsers.toLocaleString()}),d.jsx("div",{className:"text-sm text-slate-600",children:"Active Users"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e.alertsSent.toLocaleString()}),d.jsx("div",{className:"text-sm text-slate-600",children:"Alerts Sent"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[e.accuracyRate,"%"]}),d.jsx("div",{className:"text-sm text-slate-600",children:"Accuracy Rate"})]})]})]})}),d.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-200 rounded-full opacity-20 animate-pulse"}),d.jsx("div",{className:"absolute bottom-20 right-10 w-48 h-48 bg-green-200 rounded-full opacity-20 animate-pulse delay-1000"})]}),d.jsx("section",{className:"py-20 bg-white",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center space-y-4 mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Why Choose JalRakshak?"}),d.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Advanced technology meets community-driven solutions for comprehensive flood protection"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((i,r)=>{const a=i.icon;return d.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100",children:[d.jsx("div",{className:`w-12 h-12 ${i.color} rounded-xl flex items-center justify-center mb-4`,children:d.jsx(a,{className:"w-6 h-6"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:i.title}),d.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i.description})]},r)})})]})}),d.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-teal-50",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center space-y-4 mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Trusted by Communities"}),d.jsx("p",{className:"text-xl text-slate-600",children:"Real stories from people who rely on JalRakshak"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((i,r)=>d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx("div",{className:"text-3xl",children:i.avatar}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-slate-900",children:i.name}),d.jsx("div",{className:"text-sm text-slate-600",children:i.role}),d.jsx("div",{className:"text-xs text-blue-600",children:i.location})]})]}),d.jsxs("p",{className:"text-slate-700 italic",children:['"',i.text,'"']})]},r))})]})}),d.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-teal-600",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Protect Your Community?"}),d.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of communities already using JalRakshak for early flood warnings"}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[d.jsxs(pe,{size:"lg",onClick:()=>n("/auth?mode=register"),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:[d.jsx(Un,{className:"w-5 h-5 mr-2"}),"Get Started Free"]}),d.jsxs(pe,{size:"lg",variant:"outline",onClick:()=>n("/auth?mode=contact"),className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg",children:[d.jsx(Pi,{className:"w-5 h-5 mr-2"}),"Contact Emergency Team"]})]})]})}),d.jsx("footer",{className:"bg-slate-900 text-white py-12",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:d.jsx(Un,{className:"w-5 h-5 text-white"})}),d.jsx("span",{className:"text-xl font-bold",children:"JalRakshak"})]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"AI-powered flood early warning system protecting communities across India."})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Features"}),d.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[d.jsx("li",{children:"Early Warning Alerts"}),d.jsx("li",{children:"Real-time Monitoring"}),d.jsx("li",{children:"Community Reports"}),d.jsx("li",{children:"Emergency Planning"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),d.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[d.jsx("li",{children:"Help Center"}),d.jsx("li",{children:"Emergency Contacts"}),d.jsx("li",{children:"Training Resources"}),d.jsx("li",{children:"API Documentation"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Emergency"}),d.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[d.jsx("li",{children:" National: 108"}),d.jsx("li",{children:" Punjab: 112"}),d.jsx("li",{children:" alerts@jalrakshak.in"}),d.jsx("li",{children:" Status: All Systems Up"})]})]})]}),d.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-sm text-slate-400",children:d.jsx("p",{children:" 2024 JalRakshak. Built for disaster resilience and community safety."})})]})})]})},Pn=R.forwardRef(({className:n,type:e,...t},s)=>d.jsx("input",{type:e,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));Pn.displayName="Input";var pee="Label",yD=R.forwardRef((n,e)=>d.jsx(Re.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));yD.displayName=pee;var bD=yD;const mee=hA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$t=R.forwardRef(({className:n,...e},t)=>d.jsx(bD,{ref:t,className:Me(mee(),n),...e}));$t.displayName=bD.displayName;const Li=R.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Li.displayName="Card";const Oi=R.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Me("flex flex-col space-y-1.5 p-6",n),...e}));Oi.displayName="CardHeader";const Di=R.forwardRef(({className:n,...e},t)=>d.jsx("h3",{ref:t,className:Me("text-2xl font-semibold leading-none tracking-tight",n),...e}));Di.displayName="CardTitle";const vy=R.forwardRef(({className:n,...e},t)=>d.jsx("p",{ref:t,className:Me("text-sm text-muted-foreground",n),...e}));vy.displayName="CardDescription";const zi=R.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Me("p-6 pt-0",n),...e}));zi.displayName="CardContent";const vee=R.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Me("flex items-center p-6 pt-0",n),...e}));vee.displayName="CardFooter";var xy="Tabs",[xee,ire]=Os(xy,[cy]),wD=cy(),[yee,CA]=xee(xy),_D=R.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:i,defaultValue:r,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=n,h=Yh(o),[f,g]=Wo({prop:s,onChange:i,defaultProp:r??"",caller:xy});return d.jsx(yee,{scope:t,baseId:Lr(),value:f,onValueChange:g,orientation:a,dir:h,activationMode:l,children:d.jsx(Re.div,{dir:h,"data-orientation":a,...c,ref:e})})});_D.displayName=xy;var SD="TabsList",AD=R.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...i}=n,r=CA(SD,t),a=wD(t);return d.jsx(oO,{asChild:!0,...a,orientation:r.orientation,dir:r.dir,loop:s,children:d.jsx(Re.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:e})})});AD.displayName=SD;var CD="TabsTrigger",TD=R.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:i=!1,...r}=n,a=CA(CD,t),o=wD(t),l=ND(a.baseId,s),c=RD(a.baseId,s),h=s===a.value;return d.jsx(lO,{asChild:!0,...o,focusable:!i,active:h,children:d.jsx(Re.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...r,ref:e,onMouseDown:ye(n.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(s):f.preventDefault()}),onKeyDown:ye(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(s)}),onFocus:ye(n.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!i&&f&&a.onValueChange(s)})})})});TD.displayName=CD;var ED="TabsContent",kD=R.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:i,children:r,...a}=n,o=CA(ED,t),l=ND(o.baseId,s),c=RD(o.baseId,s),h=s===o.value,f=R.useRef(h);return R.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(Ds,{present:i||h,children:({present:g})=>d.jsx(Re.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:c,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:f.current?"0s":void 0},children:g&&r})})});kD.displayName=ED;function ND(n,e){return`${n}-trigger-${e}`}function RD(n,e){return`${n}-content-${e}`}var bee=_D,PD=AD,ID=TD,MD=kD;const yy=bee,Kg=R.forwardRef(({className:n,...e},t)=>d.jsx(PD,{ref:t,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));Kg.displayName=PD.displayName;const Ii=R.forwardRef(({className:n,...e},t)=>d.jsx(ID,{ref:t,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));Ii.displayName=ID.displayName;const Zs=R.forwardRef(({className:n,...e},t)=>d.jsx(MD,{ref:t,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Zs.displayName=MD.displayName;const wee=()=>{const n=pg(),[e]=f6(),{login:t,register:s,loginWithGoogle:i,resetPassword:r,currentUser:a}=Hh(),[o,l]=R.useState(e.get("mode")||"login"),[c,h]=R.useState(!1),[f,g]=R.useState(!1),[p,x]=R.useState({email:"",password:"",confirmPassword:"",displayName:""});R.useEffect(()=>{a&&n("/dashboard")},[a,n]);const v=C=>{x({...p,[C.target.name]:C.target.value})},_=async C=>{if(C.preventDefault(),!p.email||!p.password){Ee.error("Please fill in all fields");return}g(!0);try{await t(p.email,p.password),n("/dashboard")}catch{}finally{g(!1)}},w=async C=>{if(C.preventDefault(),!p.email||!p.password||!p.displayName){Ee.error("Please fill in all fields");return}if(p.password!==p.confirmPassword){Ee.error("Passwords do not match");return}if(p.password.length<6){Ee.error("Password must be at least 6 characters");return}g(!0);try{await s(p.email,p.password,p.displayName),n("/dashboard")}catch{}finally{g(!1)}},S=async()=>{g(!0);try{await i(),n("/dashboard")}catch{}finally{g(!1)}},A=async()=>{if(!p.email){Ee.error("Please enter your email address");return}try{await r(p.email)}catch{}},T=C=>{let k=0;return C.length>=6&&k++,/[A-Z]/.test(C)&&k++,/[0-9]/.test(C)&&k++,/[^A-Za-z0-9]/.test(C)&&k++,k},N=C=>C<=1?"bg-red-500":C<=2?"bg-yellow-500":C<=3?"bg-blue-500":"bg-green-500",O=C=>C<=1?"Weak":C<=2?"Fair":C<=3?"Good":"Strong";return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-lg",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs(pe,{variant:"ghost",onClick:()=>n("/"),className:"mb-4 text-slate-600 hover:text-blue-600",children:[d.jsx(hD,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-teal-600 rounded-xl flex items-center justify-center",children:d.jsx(Un,{className:"w-6 h-6 text-white"})}),d.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),d.jsx("p",{className:"text-slate-600",children:"Join the community protecting lives from floods"})]}),d.jsxs(Li,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[d.jsxs(Oi,{className:"text-center space-y-2",children:[d.jsx(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700 w-fit mx-auto",children:" Secure Authentication"}),d.jsx(Di,{className:"text-2xl text-slate-900",children:o==="login"?"Welcome Back":"Create Account"}),d.jsx(vy,{children:o==="login"?"Sign in to access your flood monitoring dashboard":"Join thousands protecting their communities"})]}),d.jsxs(zi,{children:[d.jsxs(yy,{value:o,onValueChange:l,children:[d.jsxs(Kg,{className:"grid w-full grid-cols-2 mb-6",children:[d.jsx(Ii,{value:"login",children:"Sign In"}),d.jsx(Ii,{value:"register",children:"Sign Up"})]}),d.jsxs(pe,{onClick:S,disabled:f,className:"w-full mb-6 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 shadow-sm",children:[f?d.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(VJ,{className:"w-4 h-4 mr-2"}),"Continue with Google"]}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with email"})})]}),d.jsx(Zs,{value:"login",className:"space-y-4",children:d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"email",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Af,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),d.jsx(Pn,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:p.email,onChange:v,className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($u,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),d.jsx(Pn,{id:"password",name:"password",type:c?"text":"password",placeholder:"Enter your password",value:p.password,onChange:v,className:"pl-10 pr-10",required:!0}),d.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(!c),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:c?d.jsx(bh,{className:"w-4 h-4 text-gray-400"}):d.jsx(fr,{className:"w-4 h-4 text-gray-400"})})]})]}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(pe,{type:"button",variant:"link",onClick:A,className:"px-0 text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})}),d.jsxs(pe,{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[f?d.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(dr,{className:"w-4 h-4 mr-2"}),"Sign In"]})]})}),d.jsx(Zs,{value:"register",className:"space-y-4",children:d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"displayName",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(wh,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),d.jsx(Pn,{id:"displayName",name:"displayName",type:"text",placeholder:"Enter your full name",value:p.displayName,onChange:v,className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"email",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Af,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),d.jsx(Pn,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:p.email,onChange:v,className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($u,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),d.jsx(Pn,{id:"password",name:"password",type:c?"text":"password",placeholder:"Create a strong password",value:p.password,onChange:v,className:"pl-10 pr-10",required:!0}),d.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(!c),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:c?d.jsx(bh,{className:"w-4 h-4 text-gray-400"}):d.jsx(fr,{className:"w-4 h-4 text-gray-400"})})]}),p.password&&d.jsx("div",{className:"space-y-2",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N(T(p.password))}`,style:{width:`${T(p.password)/4*100}%`}})}),d.jsx("span",{className:"text-xs text-gray-500",children:O(T(p.password))})]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($u,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),d.jsx(Pn,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:p.confirmPassword,onChange:v,className:"pl-10",required:!0}),p.confirmPassword&&d.jsx("div",{className:"absolute right-3 top-3",children:p.password===p.confirmPassword?d.jsx(dr,{className:"w-4 h-4 text-green-500"}):d.jsx(tn,{className:"w-4 h-4 text-red-500"})})]})]}),d.jsxs(pe,{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[f?d.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(Un,{className:"w-4 h-4 mr-2"}),"Create Account"]})]})})]}),d.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Your data is encrypted and secure."})]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[d.jsx(tn,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-sm font-semibold text-red-800",children:"Emergency Access"})]}),d.jsx("p",{className:"text-xs text-red-700 mb-2",children:"In case of emergency, call 108 immediately"}),d.jsx(pe,{variant:"outline",size:"sm",onClick:()=>window.open("tel:108","_self"),className:"border-red-300 text-red-700 hover:bg-red-50",children:" Call Emergency Services"})]})})]})})},j2=()=>{const n=pg(),e=hx(),{signUp:t,signIn:s,resetPassword:i,user:r,loading:a,isAdmin:o}=uA(),l=e.pathname==="/admin/signup",[c,h]=R.useState(l?"signup":"signin"),[f,g]=R.useState(!1),[p,x]=R.useState(!1),[v,_]=R.useState({email:"",password:"",confirmPassword:"",fullName:""});R.useEffect(()=>{r&&!a&&o!==void 0&&(o?n("/admin"):r&&n("/dashboard"))},[r,o,a,n]);const w=O=>{_({...v,[O.target.name]:O.target.value})},S=async O=>{if(O.preventDefault(),!v.email||!v.password){Ee.error("Please fill in all fields");return}x(!0);try{const{user:C,error:k}=await s(v.email,v.password);if(!k&&C){const{data:M}=await yt.from("user_profiles").select("role").eq("id",C.id).single();M?.role==="admin"?n("/admin"):n("/dashboard")}}catch{}finally{x(!1)}},A=async O=>{if(O.preventDefault(),!v.email||!v.password||!v.fullName){Ee.error("Please fill in all fields");return}if(v.password!==v.confirmPassword){Ee.error("Passwords do not match");return}if(v.password.length<6){Ee.error("Password must be at least 6 characters");return}x(!0);try{const{user:C,error:k}=await t(v.email,v.password,{full_name:v.fullName});!k&&C&&(Ee.success("Admin account created! Please check your email to verify your account before signing in."),n("/admin/signin"))}catch{}finally{x(!1)}},T=async O=>{if(O.preventDefault(),!v.email){Ee.error("Please enter your email address");return}x(!0);try{await i(v.email)}catch{}finally{x(!1)}},N=[{icon:Un,title:"Secure Authentication",description:"Enterprise-grade security with Supabase Auth",color:"text-blue-600 bg-blue-100"},{icon:dr,title:"Email Verification",description:"Secure account verification via email",color:"text-green-600 bg-green-100"},{icon:tn,title:"Password Recovery",description:"Easy password reset functionality",color:"text-orange-600 bg-orange-100"}];return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center lg:text-left",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center",children:d.jsx(Un,{className:"w-6 h-6 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"JalRakshak"})]}),d.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Secure Access to Your Account"}),d.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:"Sign in to access your personalized flood monitoring dashboard, emergency alerts, and community features."})]}),d.jsx("div",{className:"space-y-6",children:N.map((O,C)=>d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${O.color}`,children:d.jsx(O.icon,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-slate-900",children:O.title}),d.jsx("p",{className:"text-slate-600 text-sm",children:O.description})]})]},C))}),d.jsx("div",{className:"text-center lg:text-left",children:d.jsxs(pe,{variant:"outline",onClick:()=>n("/"),className:"gap-2",children:[d.jsx(hD,{className:"w-4 h-4"}),"Back to Home"]})})]}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsxs(Li,{className:"w-full max-w-md shadow-xl",children:[d.jsxs(Oi,{className:"text-center space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d.jsx(rg,{className:"w-6 h-6 text-purple-600"}),d.jsx(Di,{className:"text-2xl font-bold",children:"Admin Access"})]}),d.jsx(vy,{children:"Sign in to your admin account or create a new admin account"})]}),d.jsx(zi,{children:d.jsxs(yy,{value:c,onValueChange:h,className:"space-y-6",children:[d.jsxs(Kg,{className:"grid w-full grid-cols-2",children:[d.jsx(Ii,{value:"signin",children:"Sign In"}),d.jsx(Ii,{value:"signup",children:"Sign Up"})]}),d.jsxs(Zs,{value:"signin",className:"space-y-4",children:[d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx(Pn,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:v.email,onChange:w,className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx(Pn,{id:"password",name:"password",type:f?"text":"password",placeholder:"Enter your password",value:v.password,onChange:w,className:"pl-10 pr-10",required:!0}),d.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:f?d.jsx(bh,{className:"w-4 h-4"}):d.jsx(fr,{className:"w-4 h-4"})})]})]}),d.jsx(pe,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing In..."]}):d.jsxs(d.Fragment,{children:["Sign In",d.jsx(d_,{className:"w-4 h-4 ml-2"})]})})]}),d.jsx("div",{className:"text-center",children:d.jsx(pe,{variant:"link",onClick:()=>h("reset"),className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot your password?"})})]}),d.jsx(Zs,{value:"signup",className:"space-y-4",children:d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"fullName",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(wh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx(Pn,{id:"fullName",name:"fullName",type:"text",placeholder:"Enter your full name",value:v.fullName,onChange:w,className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"signup-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx(Pn,{id:"signup-email",name:"email",type:"email",placeholder:"Enter your email",value:v.email,onChange:w,className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"signup-password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx(Pn,{id:"signup-password",name:"password",type:f?"text":"password",placeholder:"Create a password",value:v.password,onChange:w,className:"pl-10 pr-10",required:!0}),d.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:f?d.jsx(bh,{className:"w-4 h-4"}):d.jsx(fr,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx(Pn,{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",placeholder:"Confirm your password",value:v.confirmPassword,onChange:w,className:"pl-10",required:!0})]})]}),d.jsx(pe,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):d.jsxs(d.Fragment,{children:["Create Account",d.jsx(d_,{className:"w-4 h-4 ml-2"})]})})]})}),d.jsxs(Zs,{value:"reset",className:"space-y-4",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(tn,{className:"w-8 h-8 text-orange-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Reset Password"}),d.jsx("p",{className:"text-slate-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"reset-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),d.jsx(Pn,{id:"reset-email",name:"email",type:"email",placeholder:"Enter your email",value:v.email,onChange:w,className:"pl-10",required:!0})]})]}),d.jsx(pe,{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700",disabled:p,children:p?d.jsxs(d.Fragment,{children:[d.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Reset Link..."]}):"Send Reset Link"})]}),d.jsx("div",{className:"text-center",children:d.jsx(pe,{variant:"link",onClick:()=>h("signin"),className:"text-sm text-blue-600 hover:text-blue-700",children:"Back to Sign In"})})]})]})})]})})]})})};function lg(n,[e,t]){return Math.min(t,Math.max(e,n))}function _ee(n,e){return R.useReducer((t,s)=>e[t][s]??t,n)}var TA="ScrollArea",[jD,rre]=Os(TA),[See,Ui]=jD(TA),LD=R.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:s="hover",dir:i,scrollHideDelay:r=600,...a}=n,[o,l]=R.useState(null),[c,h]=R.useState(null),[f,g]=R.useState(null),[p,x]=R.useState(null),[v,_]=R.useState(null),[w,S]=R.useState(0),[A,T]=R.useState(0),[N,O]=R.useState(!1),[C,k]=R.useState(!1),M=qe(e,D=>l(D)),I=Yh(i);return d.jsx(See,{scope:t,type:s,dir:I,scrollHideDelay:r,scrollArea:o,viewport:c,onViewportChange:h,content:f,onContentChange:g,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:S,onCornerHeightChange:T,children:d.jsx(Re.div,{dir:I,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":A+"px",...n.style}})})});LD.displayName=TA;var OD="ScrollAreaViewport",DD=R.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:s,nonce:i,...r}=n,a=Ui(OD,t),o=R.useRef(null),l=qe(e,o,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Re.div,{"data-radix-scroll-area-viewport":"",...r,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});DD.displayName=OD;var Kr="ScrollAreaScrollbar",EA=R.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=Ui(Kr,n.__scopeScrollArea),{onScrollbarXEnabledChange:r,onScrollbarYEnabledChange:a}=i,o=n.orientation==="horizontal";return R.useEffect(()=>(o?r(!0):a(!0),()=>{o?r(!1):a(!1)}),[o,r,a]),i.type==="hover"?d.jsx(Aee,{...s,ref:e,forceMount:t}):i.type==="scroll"?d.jsx(Cee,{...s,ref:e,forceMount:t}):i.type==="auto"?d.jsx(zD,{...s,ref:e,forceMount:t}):i.type==="always"?d.jsx(kA,{...s,ref:e}):null});EA.displayName=Kr;var Aee=R.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=Ui(Kr,n.__scopeScrollArea),[r,a]=R.useState(!1);return R.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},h=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(Ds,{present:t||r,children:d.jsx(zD,{"data-state":r?"visible":"hidden",...s,ref:e})})}),Cee=R.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=Ui(Kr,n.__scopeScrollArea),r=n.orientation==="horizontal",a=wy(()=>l("SCROLL_END"),100),[o,l]=_ee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return R.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),R.useEffect(()=>{const c=i.viewport,h=r?"scrollLeft":"scrollTop";if(c){let f=c[h];const g=()=>{const p=c[h];f!==p&&(l("SCROLL"),a()),f=p};return c.addEventListener("scroll",g),()=>c.removeEventListener("scroll",g)}},[i.viewport,r,l,a]),d.jsx(Ds,{present:t||o!=="hidden",children:d.jsx(kA,{"data-state":o==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:ye(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ye(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),zD=R.forwardRef((n,e)=>{const t=Ui(Kr,n.__scopeScrollArea),{forceMount:s,...i}=n,[r,a]=R.useState(!1),o=n.orientation==="horizontal",l=wy(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,h=t.viewport.offsetHeight<t.viewport.scrollHeight;a(o?c:h)}},10);return _h(t.viewport,l),_h(t.content,l),d.jsx(Ds,{present:s||r,children:d.jsx(kA,{"data-state":r?"visible":"hidden",...i,ref:e})})}),kA=R.forwardRef((n,e)=>{const{orientation:t="vertical",...s}=n,i=Ui(Kr,n.__scopeScrollArea),r=R.useRef(null),a=R.useRef(0),[o,l]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=UD(o.viewport,o.content),h={...s,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:g=>r.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function f(g,p){return Pee(g,a.current,o,p)}return t==="horizontal"?d.jsx(Tee,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&r.current){const g=i.viewport.scrollLeft,p=L2(g,o,i.dir);r.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=f(g,i.dir))}}):t==="vertical"?d.jsx(Eee,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&r.current){const g=i.viewport.scrollTop,p=L2(g,o);r.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=f(g))}}):null}),Tee=R.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...i}=n,r=Ui(Kr,n.__scopeScrollArea),[a,o]=R.useState(),l=R.useRef(null),c=qe(e,l,r.onScrollbarXChange);return R.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(BD,{"data-orientation":"horizontal",...i,ref:c,sizes:t,style:{bottom:0,left:r.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:r.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":by(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(r.viewport){const g=r.viewport.scrollLeft+h.deltaX;n.onWheelScroll(g),YD(g,f)&&h.preventDefault()}},onResize:()=>{l.current&&r.viewport&&a&&s({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:nx(a.paddingLeft),paddingEnd:nx(a.paddingRight)}})}})}),Eee=R.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...i}=n,r=Ui(Kr,n.__scopeScrollArea),[a,o]=R.useState(),l=R.useRef(null),c=qe(e,l,r.onScrollbarYChange);return R.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(BD,{"data-orientation":"vertical",...i,ref:c,sizes:t,style:{top:0,right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":by(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(r.viewport){const g=r.viewport.scrollTop+h.deltaY;n.onWheelScroll(g),YD(g,f)&&h.preventDefault()}},onResize:()=>{l.current&&r.viewport&&a&&s({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:nx(a.paddingTop),paddingEnd:nx(a.paddingBottom)}})}})}),[kee,FD]=jD(Kr),BD=R.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:i,onThumbChange:r,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:h,onResize:f,...g}=n,p=Ui(Kr,t),[x,v]=R.useState(null),_=qe(e,M=>v(M)),w=R.useRef(null),S=R.useRef(""),A=p.viewport,T=s.content-s.viewport,N=Mn(h),O=Mn(l),C=wy(f,10);function k(M){if(w.current){const I=M.clientX-w.current.left,D=M.clientY-w.current.top;c({x:I,y:D})}}return R.useEffect(()=>{const M=I=>{const D=I.target;x?.contains(D)&&N(I,T)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[A,x,T,N]),R.useEffect(O,[s,O]),_h(x,C),_h(p.content,C),d.jsx(kee,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:Mn(r),onThumbPointerUp:Mn(a),onThumbPositionChange:O,onThumbPointerDown:Mn(o),children:d.jsx(Re.div,{...g,ref:_,style:{position:"absolute",...g.style},onPointerDown:ye(n.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),w.current=x.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(M))}),onPointerMove:ye(n.onPointerMove,k),onPointerUp:ye(n.onPointerUp,M=>{const I=M.target;I.hasPointerCapture(M.pointerId)&&I.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=S.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),tx="ScrollAreaThumb",VD=R.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=FD(tx,n.__scopeScrollArea);return d.jsx(Ds,{present:t||i.hasThumb,children:d.jsx(Nee,{ref:e,...s})})}),Nee=R.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:s,...i}=n,r=Ui(tx,t),a=FD(tx,t),{onThumbPositionChange:o}=a,l=qe(e,f=>a.onThumbChange(f)),c=R.useRef(void 0),h=wy(()=>{c.current&&(c.current(),c.current=void 0)},100);return R.useEffect(()=>{const f=r.viewport;if(f){const g=()=>{if(h(),!c.current){const p=Iee(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[r.viewport,h,o]),d.jsx(Re.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ye(n.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,v=f.clientY-p.top;a.onThumbPointerDown({x,y:v})}),onPointerUp:ye(n.onPointerUp,a.onThumbPointerUp)})});VD.displayName=tx;var NA="ScrollAreaCorner",HD=R.forwardRef((n,e)=>{const t=Ui(NA,n.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?d.jsx(Ree,{...n,ref:e}):null});HD.displayName=NA;var Ree=R.forwardRef((n,e)=>{const{__scopeScrollArea:t,...s}=n,i=Ui(NA,t),[r,a]=R.useState(0),[o,l]=R.useState(0),c=!!(r&&o);return _h(i.scrollbarX,()=>{const h=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(h),l(h)}),_h(i.scrollbarY,()=>{const h=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(h),a(h)}),c?d.jsx(Re.div,{...s,ref:e,style:{width:r,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function nx(n){return n?parseInt(n,10):0}function UD(n,e){const t=n/e;return isNaN(t)?0:t}function by(n){const e=UD(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=(n.scrollbar.size-t)*e;return Math.max(s,18)}function Pee(n,e,t,s="ltr"){const i=by(t),r=i/2,a=e||r,o=i-a,l=t.scrollbar.paddingStart+a,c=t.scrollbar.size-t.scrollbar.paddingEnd-o,h=t.content-t.viewport,f=s==="ltr"?[0,h]:[h*-1,0];return WD([l,c],f)(n)}function L2(n,e,t="ltr"){const s=by(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=e.scrollbar.size-i,a=e.content-e.viewport,o=r-s,l=t==="ltr"?[0,a]:[a*-1,0],c=lg(n,l);return WD([0,a],[0,o])(c)}function WD(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(n[1]-n[0]);return e[0]+s*(t-n[0])}}function YD(n,e){return n>0&&n<e}var Iee=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},s=0;return function i(){const r={left:n.scrollLeft,top:n.scrollTop},a=t.left!==r.left,o=t.top!==r.top;(a||o)&&e(),t=r,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function wy(n,e){const t=Mn(n),s=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(s.current),[]),R.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,e)},[t,e])}function _h(n,e){const t=Mn(e);xn(()=>{let s=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(s),i.unobserve(n)}}},[n,t])}var XD=LD,Mee=DD,jee=HD;const x_=R.forwardRef(({className:n,children:e,...t},s)=>d.jsxs(XD,{ref:s,className:Me("relative overflow-hidden",n),...t,children:[d.jsx(Mee,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(GD,{}),d.jsx(jee,{})]}));x_.displayName=XD.displayName;const GD=R.forwardRef(({className:n,orientation:e="vertical",...t},s)=>d.jsx(EA,{ref:s,orientation:e,className:Me("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:d.jsx(VD,{className:"relative flex-1 rounded-full bg-border"})}));GD.displayName=EA.displayName;function au({className:n,...e}){return d.jsx("div",{className:Me("animate-pulse rounded-md bg-muted",n),...e})}const RA=R.forwardRef(({className:n,...e},t)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:t,className:Me("w-full caption-bottom text-sm",n),...e})}));RA.displayName="Table";const PA=R.forwardRef(({className:n,...e},t)=>d.jsx("thead",{ref:t,className:Me("[&_tr]:border-b",n),...e}));PA.displayName="TableHeader";const IA=R.forwardRef(({className:n,...e},t)=>d.jsx("tbody",{ref:t,className:Me("[&_tr:last-child]:border-0",n),...e}));IA.displayName="TableBody";const Lee=R.forwardRef(({className:n,...e},t)=>d.jsx("tfoot",{ref:t,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));Lee.displayName="TableFooter";const Kl=R.forwardRef(({className:n,...e},t)=>d.jsx("tr",{ref:t,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));Kl.displayName="TableRow";const Ai=R.forwardRef(({className:n,...e},t)=>d.jsx("th",{ref:t,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));Ai.displayName="TableHead";const Rs=R.forwardRef(({className:n,...e},t)=>d.jsx("td",{ref:t,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));Rs.displayName="TableCell";const Oee=R.forwardRef(({className:n,...e},t)=>d.jsx("caption",{ref:t,className:Me("mt-4 text-sm text-muted-foreground",n),...e}));Oee.displayName="TableCaption";const Dee=()=>{const[n,e]=R.useState([]),[t,s]=R.useState(!0),[i,r]=R.useState("");R.useEffect(()=>{a();const c=yt.channel("user_management_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_profiles"},a).subscribe();return()=>{yt.removeChannel(c)}},[]);const a=async()=>{s(!0);try{const{data:c,error:h}=await yt.from("user_profiles").select("id, full_name, email, role, last_sign_in_at, created_at");if(h)throw h;e(c)}catch(c){Ee.error("Failed to fetch users"),console.error(c)}finally{s(!1)}},o=async(c,h)=>{try{const{error:f}=await yt.from("user_profiles").update({role:h}).eq("id",c);if(f)throw f;Ee.success("User role updated successfully")}catch(f){Ee.error("Failed to update user role"),console.error(f)}},l=n.filter(c=>c.full_name.toLowerCase().includes(i.toLowerCase())||c.email.toLowerCase().includes(i.toLowerCase()));return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),d.jsx(Pn,{placeholder:"Filter users...",value:i,onChange:c=>r(c.target.value),className:"max-w-sm"})]}),d.jsxs(RA,{children:[d.jsx(PA,{children:d.jsxs(Kl,{children:[d.jsx(Ai,{children:"Name"}),d.jsx(Ai,{children:"Email"}),d.jsx(Ai,{children:"Role"}),d.jsx(Ai,{children:"Status"}),d.jsx(Ai,{children:"Actions"})]})}),d.jsx(IA,{children:t?d.jsx(Kl,{children:d.jsx(Rs,{colSpan:5,className:"text-center",children:"Loading..."})}):l.map(c=>d.jsxs(Kl,{children:[d.jsx(Rs,{children:c.full_name}),d.jsx(Rs,{children:c.email}),d.jsx(Rs,{children:d.jsx(Ge,{variant:c.role==="admin"?"destructive":"secondary",children:c.role})}),d.jsx(Rs,{children:(()=>{const h=c.last_sign_in_at?new Date(c.last_sign_in_at).getTime():0,f=30*24*60*60*1e3,g=h&&Date.now()-h<=f;return d.jsx(Ge,{variant:g?"success":"secondary",children:g?"Active":"Inactive"})})()}),d.jsx(Rs,{children:d.jsxs(Jv,{children:[d.jsx(ex,{asChild:!0,children:d.jsxs(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:[d.jsx("span",{className:"sr-only",children:"Open menu"}),d.jsx(fD,{className:"h-4 w-4"})]})}),d.jsx(og,{align:"end",children:d.jsxs(Ns,{onClick:()=>o(c.id,c.role==="admin"?"user":"admin"),children:["Make ",c.role==="admin"?"User":"Admin"]})})]})})]},c.id))})]})]})},zee=()=>{const[n,e]=R.useState([]),[t,s]=R.useState(!0),[i,r]=R.useState("");R.useEffect(()=>{a();const h=yt.channel("report_management_changes").on("postgres_changes",{event:"*",schema:"public",table:"flood_reports"},a).subscribe();return()=>{yt.removeChannel(h)}},[]);const a=async()=>{s(!0);try{const{data:h,error:f}=await yt.from("flood_reports").select("*");if(f)throw f;e(h)}catch(h){Ee.error("Failed to fetch reports"),console.error(h)}finally{s(!1)}},o=async(h,f)=>{try{const{error:g}=await yt.from("flood_reports").update({status:f}).eq("id",h);if(g)throw g;Ee.success("Report status updated successfully")}catch(g){Ee.error("Failed to update report status"),console.error(g)}},l=async h=>{try{const{error:f}=await yt.from("flood_reports").delete().eq("id",h);if(f)throw f;Ee.success("Report deleted successfully")}catch(f){Ee.error("Failed to delete report"),console.error(f)}},c=n.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.location.address.toLowerCase().includes(i.toLowerCase()));return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Report Management"}),d.jsx(Pn,{placeholder:"Filter reports...",value:i,onChange:h=>r(h.target.value),className:"max-w-sm"})]}),d.jsxs(RA,{children:[d.jsx(PA,{children:d.jsxs(Kl,{children:[d.jsx(Ai,{children:"Title"}),d.jsx(Ai,{children:"Location"}),d.jsx(Ai,{children:"Severity"}),d.jsx(Ai,{children:"Status"}),d.jsx(Ai,{children:"Reported by"}),d.jsx(Ai,{children:"Actions"})]})}),d.jsx(IA,{children:t?d.jsx(Kl,{children:d.jsx(Rs,{colSpan:6,className:"text-center",children:"Loading..."})}):c.map(h=>d.jsxs(Kl,{children:[d.jsx(Rs,{children:h.title}),d.jsx(Rs,{children:h.location.address}),d.jsx(Rs,{children:d.jsx(Ge,{variant:h.severity==="critical"||h.severity==="high"?"destructive":h.severity==="medium"?"warning":"secondary",children:h.severity})}),d.jsx(Rs,{children:d.jsx(Ge,{variant:h.status==="verified"?"success":h.status==="pending"?"outline":"secondary",children:h.status})}),d.jsx(Rs,{children:h.user_name}),d.jsx(Rs,{children:d.jsxs(Jv,{children:[d.jsx(ex,{asChild:!0,children:d.jsxs(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:[d.jsx("span",{className:"sr-only",children:"Open menu"}),d.jsx(fD,{className:"h-4 w-4"})]})}),d.jsxs(og,{align:"end",children:[d.jsx(Ns,{onClick:()=>o(h.id,"verified"),children:"Verify"}),d.jsx(Ns,{onClick:()=>o(h.id,"resolved"),children:"Resolve"}),d.jsx(Ns,{onClick:()=>o(h.id,"false_alarm"),children:"Mark False Alarm"}),d.jsx(Ns,{onClick:()=>l(h.id),className:"text-red-500",children:"Delete"})]})]})})]},h.id))})]})]})};var $D={};/*!
 * ApexCharts v5.3.5
 * (c) 2018-2025 ApexCharts
 */function y_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function qD(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function we(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function O2(n,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,QD(s.key),s)}}function _e(n,e,t){return e&&O2(n.prototype,e),t&&O2(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gd(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=MA(n))||e){t&&(n=t);var s=0,i=function(){};return{s:i,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,r=l},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw r}}}}function Qg(n){var e=ZD();return function(){var t,s=ix(n);if(e){var i=ix(this).constructor;t=Reflect.construct(s,arguments,i)}else t=s.apply(this,arguments);return function(r,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qD(r)}(this,t)}}function sx(n,e,t){return(e=QD(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ix(n){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ix(n)}function Jg(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&b_(n,e)}function ZD(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!n})()}function D2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,s)}return t}function me(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(t),!0).forEach(function(s){sx(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D2(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function b_(n,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},b_(n,e)}function KD(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,s){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,a,o,l,c=[],h=!0,f=!1;try{if(o=(i=i.call(t)).next,s===0){if(Object(i)!==i)return;h=!1}else for(;!(h=(r=o.call(i)).done)&&(c.push(r.value),c.length!==s);h=!0);}catch(g){f=!0,a=g}finally{try{if(!h&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(f)throw a}}return c}}(n,e)||MA(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cn(n){return function(e){if(Array.isArray(e))return y_(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||MA(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function QD(n){var e=function(t,s){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,s);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:e+""}function us(n){return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(n)}function MA(n,e){if(n){if(typeof n=="string")return y_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y_(n,e):void 0}}var K=function(){function n(){we(this,n)}return _e(n,[{key:"shadeRGBColor",value:function(e,t){var s=t.split(","),i=e<0?0:255,r=e<0?-1*e:e,a=parseInt(s[0].slice(4),10),o=parseInt(s[1],10),l=parseInt(s[2],10);return"rgb("+(Math.round((i-a)*r)+a)+","+(Math.round((i-o)*r)+o)+","+(Math.round((i-l)*r)+l)+")"}},{key:"shadeHexColor",value:function(e,t){var s=parseInt(t.slice(1),16),i=e<0?0:255,r=e<0?-1*e:e,a=s>>16,o=s>>8&255,l=255&s;return"#"+(16777216+65536*(Math.round((i-a)*r)+a)+256*(Math.round((i-o)*r)+o)+(Math.round((i-l)*r)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return n.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&us(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,s=[];for(t=0;t<e.length;t++)s[t]=e[t];return s}},{key:"extend",value:function(e,t){var s=this;typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])}return a});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(r){s.isObject(t[r])&&r in e?i[r]=s.extend(e[r],t[r]):Object.assign(i,sx({},r,t[r]))}),i}},{key:"extendArray",value:function(e,t){var s=[];return e.map(function(i){s.push(n.extend(t,i))}),e=s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||us(e)!=="object")return e;if(s.has(e))return s.get(e);if(Array.isArray(e)){t=[],s.set(e,t);for(var i=0;i<e.length;i++)t[i]=this.clone(e[i],s)}else if(e instanceof Date)t=new Date(e.getTime());else for(var r in t={},s.set(e,t),e)e.hasOwnProperty(r)&&(t[r]=this.clone(e[r],s));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),s=e.clientHeight,i=e.clientWidth;return s-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,s){return Array.isArray(s)&&(s=s.reduce(function(i,r){return i.length>r.length?i:r})),t.length>s.length?t:s},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var i=0;i<s.length;i++)s[i]=parseInt(s[i].length===1?s[i]+s[i]:s[i],16);return t!==void 0&&s.push(t),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var s=[],i=2*Math.PI/t,r=0;r<t;r++){var a={};a.x=e*Math.sin(r*i),a.y=-e*Math.cos(r*i),s.push(a)}return s}},{key:"polarToCartesian",value:function(e,t,s,i){var r=(i-90)*Math.PI/180;return{x:e+s*Math.cos(r),y:t+s*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,s){if(s>=e.length)for(var i=s-e.length+1;i--;)e.push(void 0);return e.splice(s,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e.style.key=t[s])}},{key:"preciseAddition",value:function(e,t){var s=(String(e).split(".")[1]||"").length,i=(String(t).split(".")[1]||"").length,r=Math.pow(10,Math.max(s,i));return(Math.round(e*r)+Math.round(t*r))/r}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*i),t=Math.round(Math.abs(t)*i);t;){var r=t;t=e%t,e=r}return e/i}},{key:"getPrimeFactors",value:function(e){for(var t=[],s=2;e>=2;)e%s==0?(t.push(s),e/=s):s++;return t}},{key:"mod",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*i))%(t=Math.round(Math.abs(t)*i))/i}}]),n}(),Xh=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"animateLine",value:function(e,t,s,i){e.attr(t).animate(i).attr(s)}},{key:"animateMarker",value:function(e,t,s,i){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){i()})}},{key:"animateRect",value:function(e,t,s,i,r){e.attr(t).animate(i).attr(s).after(function(){return r()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,s=e.realIndex,i=e.j,r=e.fill,a=e.pathFrom,o=e.pathTo,l=e.speed,c=e.delay,h=this.w,f=0;h.config.chart.animations.animateGradually.enabled&&(f=h.config.chart.animations.animateGradually.delay),h.config.chart.animations.dynamicAnimation.enabled&&h.globals.dataChanged&&h.config.chart.type!=="bar"&&(f=0),this.morphSVG(t,s,i,h.config.chart.type!=="line"||h.globals.comboCharts?r:"stroke",a,o,l,c*f)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,s,i,r,a,o,l){var c=this,h=this.w;r||(r=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var f=function(g){return h.config.chart.type==="radar"&&(o=1),"M 0 ".concat(h.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=f()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=f()),h.globals.shouldAnimate||(o=1),e.plot(r).animate(1,l).plot(r).animate(o,l).plot(a).after(function(){K.isNumber(s)?s===h.globals.series[h.globals.maxValsInArrayIndex].length-2&&h.globals.shouldAnimate&&c.animationCompleted(e):i!=="none"&&h.globals.shouldAnimate&&(!h.globals.comboCharts&&t===h.globals.series.length-1||h.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),n}();const w_={},JD=[];function Qe(n,e){if(Array.isArray(n))for(const t of n)Qe(t,e);else if(typeof n!="object")e4(Object.getOwnPropertyNames(e)),w_[n]=Object.assign(w_[n]||{},e);else for(const t in n)Qe(t,n[t])}function Ss(n){return w_[n]||{}}function e4(n){JD.push(...n)}function jA(n,e){let t;const s=n.length,i=[];for(t=0;t<s;t++)i.push(e(n[t]));return i}function n0(n){return n%360*Math.PI/180}function Gh(n){return n.charAt(0).toUpperCase()+n.slice(1)}function $h(n,e,t,s){return e!=null&&t!=null||(s=s||n.bbox(),e==null?e=s.width/s.height*t:t==null&&(t=s.height/s.width*e)),{width:e,height:t}}function __(n,e){const t=n.origin;let s=n.ox!=null?n.ox:n.originX!=null?n.originX:"center",i=n.oy!=null?n.oy:n.originY!=null?n.originY:"center";t!=null&&([s,i]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const r=typeof s=="string",a=typeof i=="string";if(r||a){const{height:o,width:l,x:c,y:h}=e.bbox();r&&(s=s.includes("left")?c:s.includes("right")?c+l:c+l/2),a&&(i=i.includes("top")?h:i.includes("bottom")?h+o:h+o/2)}return[s,i]}const Fee=new Set(["desc","metadata","title"]),S_=n=>Fee.has(n.nodeName),t4=(n,e,t={})=>{const s={...e};for(const i in s)s[i].valueOf()===t[i]&&delete s[i];Object.keys(s).length?n.node.setAttribute("data-svgjs",JSON.stringify(s)):(n.node.removeAttribute("data-svgjs"),n.node.removeAttribute("svgjs:data"))},LA="http://www.w3.org/2000/svg",s0="http://www.w3.org/2000/xmlns/",qh="http://www.w3.org/1999/xlink",ft={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function ep(){return ft.window}let OA=class{};const Ql={},DA="___SYMBOL___ROOT___";function cg(n,e=LA){return ft.document.createElementNS(e,n)}function fs(n,e=!1){if(n instanceof OA)return n;if(typeof n=="object")return i0(n);if(n==null)return new Ql[DA];if(typeof n=="string"&&n.charAt(0)!=="<")return i0(ft.document.querySelector(n));const t=e?ft.document.createElement("div"):cg("svg");return t.innerHTML=n,n=i0(t.firstChild),t.removeChild(t.firstChild),n}function Lt(n,e){return e&&(e instanceof ft.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:cg(n)}function bi(n){if(!n)return null;if(n.instance instanceof OA)return n.instance;if(n.nodeName==="#document-fragment")return new Ql.Fragment(n);let e=Gh(n.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Ql[e]||(e="Dom"),new Ql[e](n)}let i0=bi;function pt(n,e=n.name,t=!1){return Ql[e]=n,t&&(Ql[DA]=n),e4(Object.getOwnPropertyNames(n.prototype)),n}let Bee=1e3;function n4(n){return"Svgjs"+Gh(n)+Bee++}function s4(n){for(let e=n.children.length-1;e>=0;e--)s4(n.children[e]);return n.id&&(n.id=n4(n.nodeName)),n}function Le(n,e){let t,s;for(s=(n=Array.isArray(n)?n:[n]).length-1;s>=0;s--)for(t in e)n[s].prototype[t]=e[t]}function jt(n){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?n.apply(this,e):n.apply(this,e.slice(0,-1)).attr(t)}}Qe("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const n=this.position();return this.parent().add(this.remove(),n+1),this},backward:function(){const n=this.position();return this.parent().add(this.remove(),n?n-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(n){(n=fs(n)).remove();const e=this.position();return this.parent().add(n,e),this},after:function(n){(n=fs(n)).remove();const e=this.position();return this.parent().add(n,e+1),this},insertBefore:function(n){return(n=fs(n)).before(this),this},insertAfter:function(n){return(n=fs(n)).after(this),this}});const i4=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Vee=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Hee=/rgb\((\d+),(\d+),(\d+)\)/,Uee=/(#[a-z_][a-z0-9\-_]*)/i,Wee=/\)\s*,?\s*/,Yee=/\s/g,z2=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,F2=/^rgb\(/,B2=/^(\s+)?$/,V2=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xee=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Xa=/[\s,]+/,zA=/[MLHVCSQTAZ]/i;function Gee(n){const e=Math.round(n),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function ou(n,e){for(let t=e.length;t--;)if(n[e[t]]==null)return!1;return!0}function r0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}Qe("Dom",{classes:function(){const n=this.attr("class");return n==null?[]:n.trim().split(Xa)},hasClass:function(n){return this.classes().indexOf(n)!==-1},addClass:function(n){if(!this.hasClass(n)){const e=this.classes();e.push(n),this.attr("class",e.join(" "))}return this},removeClass:function(n){return this.hasClass(n)&&this.attr("class",this.classes().filter(function(e){return e!==n}).join(" ")),this},toggleClass:function(n){return this.hasClass(n)?this.removeClass(n):this.addClass(n)}}),Qe("Dom",{css:function(n,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(s){return!!s.length}).forEach(function(s){const i=s.split(/\s*:\s*/);t[i[0]]=i[1]}),t;if(arguments.length<2){if(Array.isArray(n)){for(const s of n){const i=s;t[s]=this.node.style.getPropertyValue(i)}return t}if(typeof n=="string")return this.node.style.getPropertyValue(n);if(typeof n=="object")for(const s in n)this.node.style.setProperty(s,n[s]==null||B2.test(n[s])?"":n[s])}return arguments.length===2&&this.node.style.setProperty(n,e==null||B2.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Qe("Dom",{data:function(n,e,t){if(n==null)return this.data(jA(function(s,i){let r;const a=s.length,o=[];for(r=0;r<a;r++)i(s[r])&&o.push(s[r]);return o}(this.node.attributes,s=>s.nodeName.indexOf("data-")===0),s=>s.nodeName.slice(5)));if(n instanceof Array){const s={};for(const i of n)s[i]=this.data(i);return s}if(typeof n=="object")for(e in n)this.data(e,n[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+n))}catch{return this.attr("data-"+n)}else this.attr("data-"+n,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Qe("Dom",{remember:function(n,e){if(typeof arguments[0]=="object")for(const t in n)this.remember(t,n[t]);else{if(arguments.length===1)return this.memory()[n];this.memory()[n]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let n=arguments.length-1;n>=0;n--)delete this.memory()[arguments[n]];return this},memory:function(){return this._memory=this._memory||{}}});class kt{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof kt||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:s,round:i,sin:r,PI:a}=Math;if(e==="vibrant"){const o=24*s()+57,l=38*s()+45,c=360*s();return new kt(o,l,c,"lch")}if(e==="sine"){const o=i(80*r(2*a*(t=t??s())/.5+.01)+150),l=i(50*r(2*a*t/.5+4.6)+200),c=i(100*r(2*a*t/.5+2.3)+150);return new kt(o,l,c)}if(e==="pastel"){const o=8*s()+86,l=17*s()+9,c=360*s();return new kt(o,l,c,"lch")}if(e==="dark"){const o=10+10*s(),l=50*s()+86,c=360*s();return new kt(o,l,c,"lch")}if(e==="rgb"){const o=255*s(),l=255*s(),c=255*s();return new kt(o,l,c)}if(e==="lab"){const o=100*s(),l=256*s()-128,c=256*s()-128;return new kt(o,l,c,"lab")}if(e==="grey"){const o=255*s();return new kt(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(z2.test(e)||F2.test(e))}cmyk(){const{_a:e,_b:t,_c:s}=this.rgb(),[i,r,a]=[e,t,s].map(l=>l/255),o=Math.min(1-i,1-r,1-a);return o===1?new kt(0,0,0,1,"cmyk"):new kt((1-i-o)/(1-o),(1-r-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:t,_c:s}=this.rgb(),[i,r,a]=[e,t,s].map(g=>g/255),o=Math.max(i,r,a),l=Math.min(i,r,a),c=(o+l)/2,h=o===l,f=o-l;return new kt(360*(h?0:o===i?((r-a)/f+(r<a?6:0))/6:o===r?((a-i)/f+2)/6:o===a?((i-r)/f+4)/6:0),100*(h?0:c>.5?f/(2-o-l):f/(o+l)),100*c,"hsl")}init(e=0,t=0,s=0,i=0,r="rgb"){if(e=e||0,this.space)for(const f in this.space)delete this[this.space[f]];if(typeof e=="number")r=typeof i=="string"?i:r,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:t,_c:s,_d:i,space:r});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const f=function(g,p){const x=ou(g,"rgb")?{_a:g.r,_b:g.g,_c:g.b,_d:0,space:"rgb"}:ou(g,"xyz")?{_a:g.x,_b:g.y,_c:g.z,_d:0,space:"xyz"}:ou(g,"hsl")?{_a:g.h,_b:g.s,_c:g.l,_d:0,space:"hsl"}:ou(g,"lab")?{_a:g.l,_b:g.a,_c:g.b,_d:0,space:"lab"}:ou(g,"lch")?{_a:g.l,_b:g.c,_c:g.h,_d:0,space:"lch"}:ou(g,"cmyk")?{_a:g.c,_b:g.m,_c:g.y,_d:g.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return x.space=p||x.space,x}(e,t);Object.assign(this,f)}else if(typeof e=="string")if(F2.test(e)){const f=e.replace(Yee,""),[g,p,x]=Hee.exec(f).slice(1,4).map(v=>parseInt(v));Object.assign(this,{_a:g,_b:p,_c:x,_d:0,space:"rgb"})}else{if(!z2.test(e))throw Error("Unsupported string format, can't construct Color");{const f=v=>parseInt(v,16),[,g,p,x]=Vee.exec(function(v){return v.length===4?["#",v.substring(1,2),v.substring(1,2),v.substring(2,3),v.substring(2,3),v.substring(3,4),v.substring(3,4)].join(""):v}(e)).map(f);Object.assign(this,{_a:g,_b:p,_c:x,_d:0,space:"rgb"})}}const{_a:a,_b:o,_c:l,_d:c}=this,h=this.space==="rgb"?{r:a,g:o,b:l}:this.space==="xyz"?{x:a,y:o,z:l}:this.space==="hsl"?{h:a,s:o,l}:this.space==="lab"?{l:a,a:o,b:l}:this.space==="lch"?{l:a,c:o,h:l}:this.space==="cmyk"?{c:a,m:o,y:l,k:c}:{};Object.assign(this,h)}lab(){const{x:e,y:t,z:s}=this.xyz();return new kt(116*t-16,500*(e-t),200*(t-s),"lab")}lch(){const{l:e,a:t,b:s}=this.lab(),i=Math.sqrt(t**2+s**2);let r=180*Math.atan2(s,t)/Math.PI;return r<0&&(r*=-1,r=360-r),new kt(e,i,r,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:s,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:p,a:x,b:v}=this;if(this.space==="lch"){const{c:O,h:C}=this,k=Math.PI/180;x=O*Math.cos(k*C),v=O*Math.sin(k*C)}const _=(p+16)/116,w=x/500+_,S=_-v/200,A=16/116,T=.008856,N=7.787;t=.95047*(w**3>T?w**3:(w-A)/N),s=1*(_**3>T?_**3:(_-A)/N),i=1.08883*(S**3>T?S**3:(S-A)/N)}const r=3.2406*t+-1.5372*s+-.4986*i,a=-.9689*t+1.8758*s+.0415*i,o=.0557*t+-.204*s+1.057*i,l=Math.pow,c=.0031308,h=r>c?1.055*l(r,1/2.4)-.055:12.92*r,f=a>c?1.055*l(a,1/2.4)-.055:12.92*a,g=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new kt(255*h,255*f,255*g)}if(this.space==="hsl"){let{h:t,s,l:i}=this;if(t/=360,s/=100,i/=100,s===0)return i*=255,new kt(i,i,i);const r=i<.5?i*(1+s):i+s-i*s,a=2*i-r,o=255*r0(a,r,t+1/3),l=255*r0(a,r,t),c=255*r0(a,r,t-1/3);return new kt(o,l,c)}if(this.space==="cmyk"){const{c:t,m:s,y:i,k:r}=this,a=255*(1-Math.min(1,t*(1-r)+r)),o=255*(1-Math.min(1,s*(1-r)+r)),l=255*(1-Math.min(1,i*(1-r)+r));return new kt(a,o,l)}return this;var e}toArray(){const{_a:e,_b:t,_c:s,_d:i,space:r}=this;return[e,t,s,i,r]}toHex(){const[e,t,s]=this._clamped().map(Gee);return`#${e}${t}${s}`}toRgb(){const[e,t,s]=this._clamped();return`rgb(${e},${t},${s})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:s}=this.rgb(),[i,r,a]=[e,t,s].map(_=>_/255),o=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,c=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,h=(.4124*o+.3576*l+.1805*c)/.95047,f=(.2126*o+.7152*l+.0722*c)/1,g=(.0193*o+.1192*l+.9505*c)/1.08883,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116,x=f>.008856?Math.pow(f,1/3):7.787*f+16/116,v=g>.008856?Math.pow(g,1/3):7.787*g+16/116;return new kt(p,x,v,"xyz")}_clamped(){const{_a:e,_b:t,_c:s}=this.rgb(),{max:i,min:r,round:a}=Math;return[e,t,s].map(o=>i(0,r(a(o),255)))}}class bt{constructor(...e){this.init(...e)}clone(){return new bt(this)}init(e,t){const r=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=r.x==null?0:r.x,this.y=r.y==null?0:r.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Pe.isMatrixLike(e)||(e=new Pe(e));const{x:t,y:s}=this;return this.x=e.a*t+e.c*s+e.e,this.y=e.b*t+e.d*s+e.f,this}}function lu(n,e,t){return Math.abs(e-n)<1e-6}class Pe{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,s=e.flip&&(t||e.flip==="x")?-1:1,i=e.flip&&(t||e.flip==="y")?-1:1,r=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleX)?e.scaleX*s:s,l=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,c=e.shear||0,h=e.rotate||e.theta||0,f=new bt(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),g=f.x,p=f.y,x=new bt(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),v=x.x,_=x.y,w=new bt(e.translate||e.tx||e.translateX,e.ty||e.translateY),S=w.x,A=w.y,T=new bt(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:r,skewY:a,shear:c,theta:h,rx:T.x,ry:T.y,tx:S,ty:A,ox:g,oy:p,px:v,py:_}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,s){const i=e.a*t.a+e.c*t.b,r=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,o=e.b*t.c+e.d*t.d,l=e.e+e.a*t.e+e.c*t.f,c=e.f+e.b*t.e+e.d*t.f;return s.a=i,s.b=r,s.c=a,s.d=o,s.e=l,s.f=c,s}around(e,t,s){return this.clone().aroundO(e,t,s)}aroundO(e,t,s){const i=e||0,r=t||0;return this.translateO(-i,-r).lmultiplyO(s).translateO(i,r)}clone(){return new Pe(this)}decompose(e=0,t=0){const s=this.a,i=this.b,r=this.c,a=this.d,o=this.e,l=this.f,c=s*a-i*r,h=c>0?1:-1,f=h*Math.sqrt(s*s+i*i),g=Math.atan2(h*i,h*s),p=180/Math.PI*g,x=Math.cos(g),v=Math.sin(g),_=(s*r+i*a)/c,w=r*f/(_*s-i)||a*f/(_*i+s);return{scaleX:f,scaleY:w,shear:_,rotate:p,translateX:o-e+e*x*f+t*(_*x*f-v*w),translateY:l-t+e*v*f+t*(_*v*f+x*w),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Pe(e);return lu(this.a,t.a)&&lu(this.b,t.b)&&lu(this.c,t.c)&&lu(this.d,t.d)&&lu(this.e,t.e)&&lu(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Pe.fromArray([1,0,0,1,0,0]);return e=e instanceof $n?e.matrixify():typeof e=="string"?Pe.fromArray(e.split(Xa).map(parseFloat)):Array.isArray(e)?Pe.fromArray(e):typeof e=="object"&&Pe.isMatrixLike(e)?e:typeof e=="object"?new Pe().transform(e):arguments.length===6?Pe.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,s=this.c,i=this.d,r=this.e,a=this.f,o=e*i-t*s;if(!o)throw new Error("Cannot invert "+this);const l=i/o,c=-t/o,h=-s/o,f=e/o,g=-(l*r+h*a),p=-(c*r+f*a);return this.a=l,this.b=c,this.c=h,this.d=f,this.e=g,this.f=p,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Pe?e:new Pe(e);return Pe.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Pe?e:new Pe(e);return Pe.matrixMultiply(this,t,this)}rotate(e,t,s){return this.clone().rotateO(e,t,s)}rotateO(e,t=0,s=0){e=n0(e);const i=Math.cos(e),r=Math.sin(e),{a,b:o,c:l,d:c,e:h,f}=this;return this.a=a*i-o*r,this.b=o*i+a*r,this.c=l*i-c*r,this.d=c*i+l*r,this.e=h*i-f*r+s*r-t*i+t,this.f=f*i+h*r-t*r-s*i+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,s=0,i=0){arguments.length===3&&(i=s,s=t,t=e);const{a:r,b:a,c:o,d:l,e:c,f:h}=this;return this.a=r*e,this.b=a*t,this.c=o*e,this.d=l*t,this.e=c*e-s*e+s,this.f=h*t-i*t+i,this}shear(e,t,s){return this.clone().shearO(e,t,s)}shearO(e,t=0,s=0){const{a:i,b:r,c:a,d:o,e:l,f:c}=this;return this.a=i+r*e,this.c=a+o*e,this.e=l+c*e-s*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,s=0,i=0){arguments.length===3&&(i=s,s=t,t=e),e=n0(e),t=n0(t);const r=Math.tan(e),a=Math.tan(t),{a:o,b:l,c,d:h,e:f,f:g}=this;return this.a=o+l*r,this.b=l+o*a,this.c=c+h*r,this.d=h+c*a,this.e=f+g*r-i*r,this.f=g+f*a-s*a,this}skewX(e,t,s){return this.skew(e,0,t,s)}skewY(e,t,s){return this.skew(0,e,t,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Pe.isMatrixLike(e))return new Pe(e).multiplyO(this);const t=Pe.formatTransforms(e),{x:s,y:i}=new bt(t.ox,t.oy).transform(this),r=new Pe().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-s,-i).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(s,i);if(isFinite(t.px)||isFinite(t.py)){const a=new bt(s,i).transform(r),o=isFinite(t.px)?t.px-a.x:0,l=isFinite(t.py)?t.py-a.y:0;r.translateO(o,l)}return r.translateO(t.tx,t.ty),r}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function yo(){if(!yo.nodes){const n=fs().size(2,0);n.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),n.attr("focusable","false"),n.attr("aria-hidden","true");const e=n.path().node;yo.nodes={svg:n,path:e}}if(!yo.nodes.svg.node.parentNode){const n=ft.document.body||ft.document.documentElement;yo.nodes.svg.addTo(n)}return yo.nodes}function r4(n){return!(n.width||n.height||n.x||n.y)}pt(Pe,"Matrix");class nn{constructor(...e){this.init(...e)}addOffset(){return this.x+=ft.window.pageXOffset,this.y+=ft.window.pageYOffset,new nn(this)}init(e){return e=typeof e=="string"?e.split(Xa).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return r4(this)}merge(e){const t=Math.min(this.x,e.x),s=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-t,r=Math.max(this.y+this.height,e.y+e.height)-s;return new nn(t,s,i,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Pe||(e=new Pe(e));let t=1/0,s=-1/0,i=1/0,r=-1/0;return[new bt(this.x,this.y),new bt(this.x2,this.y),new bt(this.x,this.y2),new bt(this.x2,this.y2)].forEach(function(a){a=a.transform(e),t=Math.min(t,a.x),s=Math.max(s,a.x),i=Math.min(i,a.y),r=Math.max(r,a.y)}),new nn(t,i,s-t,r-i)}}function H2(n,e,t){let s;try{if(s=e(n.node),r4(s)&&(i=n.node)!==ft.document&&!(ft.document.documentElement.contains||function(r){for(;r.parentNode;)r=r.parentNode;return r===ft.document}).call(ft.document.documentElement,i))throw new Error("Element not in the dom")}catch{s=t(n)}var i;return s}Qe({viewbox:{viewbox(n,e,t,s){return n==null?new nn(this.attr("viewBox")):this.attr("viewBox",new nn(n,e,t,s))},zoom(n,e){let{width:t,height:s}=this.attr(["width","height"]);if((t||s)&&typeof t!="string"&&typeof s!="string"||(t=this.node.clientWidth,s=this.node.clientHeight),!t||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),r=t/i.width,a=s/i.height,o=Math.min(r,a);if(n==null)return o;let l=o/n;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new bt(t/2/r+i.x,s/2/a+i.y);const c=new nn(i).transform(new Pe({scale:l,origin:e}));return this.viewbox(c)}}}),pt(nn,"Box");class hc extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}Le([hc],{each(n,...e){return typeof n=="function"?this.map((t,s,i)=>n.call(t,t,s,i)):this.map(t=>t[n](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const $ee=["toArray","constructor","each"];function Ec(n,e){return new hc(jA((e||ft.document).querySelectorAll(n),function(t){return bi(t)}))}hc.extend=function(n){n=n.reduce((e,t)=>($ee.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...s){return this.each(t,...s)}),e),{}),Le([hc],n)};let qee=0;const a4={};function o4(n){let e=n.getEventHolder();return e===ft.window&&(e=a4),e.events||(e.events={}),e.events}function FA(n){return n.getEventTarget()}function ka(n,e,t,s,i){const r=t.bind(s||n),a=fs(n),o=o4(a),l=FA(a);e=Array.isArray(e)?e:e.split(Xa),t._svgjsListenerId||(t._svgjsListenerId=++qee),e.forEach(function(c){const h=c.split(".")[0],f=c.split(".")[1]||"*";o[h]=o[h]||{},o[h][f]=o[h][f]||{},o[h][f][t._svgjsListenerId]=r,l.addEventListener(h,r,i||!1)})}function Mi(n,e,t,s){const i=fs(n),r=o4(i),a=FA(i);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Xa)).forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let h,f;if(t)r[l]&&r[l][c||"*"]&&(a.removeEventListener(l,r[l][c||"*"][t],s||!1),delete r[l][c||"*"][t]);else if(l&&c){if(r[l]&&r[l][c]){for(f in r[l][c])Mi(a,[l,c].join("."),f);delete r[l][c]}}else if(c)for(o in r)for(h in r[o])c===h&&Mi(a,[o,c].join("."));else if(l){if(r[l]){for(h in r[l])Mi(a,[l,h].join("."));delete r[l]}}else{for(o in r)Mi(a,o);(function(g){let p=g.getEventHolder();p===ft.window&&(p=a4),p.events&&(p.events={})})(i)}})}class tp extends OA{addEventListener(){}dispatch(e,t,s){return function(i,r,a,o){const l=FA(i);return r instanceof ft.window.Event||(r=new ft.window.CustomEvent(r,{detail:a,cancelable:!0,...o})),l.dispatchEvent(r),r}(this,e,t,s)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const s=t[e.type];for(const i in s)for(const r in s[i])s[i][r](e);return!e.defaultPrevented}fire(e,t,s){return this.dispatch(e,t,s),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,s){return Mi(this,e,t,s),this}on(e,t,s,i){return ka(this,e,t,s,i),this}removeEventListener(){}}function U2(){}pt(tp,"EventTarget");const a0=400,Zee=">",Kee=0,Qee={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class dc extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Xa).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Xe{constructor(...e){this.init(...e)}convert(e){return new Xe(this.value,e)}divide(e){return e=new Xe(e),new Xe(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(i4))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Xe&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Xe(e),new Xe(this-e,this.unit||e.unit)}plus(e){return e=new Xe(e),new Xe(this+e,this.unit||e.unit)}times(e){return e=new Xe(e),new Xe(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Jee=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),l4=[];class Qo extends tp{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=fs(e)).removeNamespace&&this.node instanceof ft.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return fs(e).put(this,t)}children(){return new hc(jA(this.node.children,function(e){return bi(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let s=this.node.cloneNode(e);return t&&(s=s4(s)),new this.constructor(s)}each(e,t){const s=this.children();let i,r;for(i=0,r=s.length;i<r;i++)e.apply(s[i],[i,s]),t&&s[i].each(e,t);return this}element(e,t){return this.put(new Qo(cg(e),t))}first(){return bi(this.node.firstChild)}get(e){return bi(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=n4(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return bi(this.node.lastChild)}matches(e){const t=this.node,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return s&&s.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=bi(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=bi(t.node.parentNode));return t}put(e,t){return e=fs(e),this.add(e,t),e}putIn(e,t){return fs(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=fs(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const s=10**e,i=this.attr(t);for(const r in i)typeof i[r]=="number"&&(i[r]=Math.round(i[r]*s)/s);return this.attr(i),this}svg(e,t){return this.xml(e,t,LA)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const s=t.index(this);return t.put(e,s).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let o=this;if(e!=null){if(o=bi(o.node.cloneNode(!0)),t){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return t?o.node.outerHTML:o.node.innerHTML}t=t!=null&&t;const i=cg("wrapper",s),r=ft.document.createDocumentFragment();i.innerHTML=e;for(let o=i.children.length;o--;)r.appendChild(i.firstElementChild);const a=this.parent();return t?this.replace(r)&&a:this.add(r)}}Le(Qo,{attr:function(n,e,t){if(n==null){n={},e=this.node.attributes;for(const s of e)n[s.nodeName]=V2.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return n}if(n instanceof Array)return n.reduce((s,i)=>(s[i]=this.attr(i),s),{});if(typeof n=="object"&&n.constructor===Object)for(e in n)this.attr(e,n[e]);else if(e===null)this.node.removeAttribute(n);else{if(e==null)return(e=this.node.getAttribute(n))==null?Qee[n]:V2.test(e)?parseFloat(e):e;typeof(e=l4.reduce((s,i)=>i(n,s,this),e))=="number"?e=new Xe(e):Jee.has(n)&&kt.isColor(e)?e=new kt(e):e.constructor===Array&&(e=new dc(e)),n==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,n,e.toString()):this.node.setAttribute(n,e.toString()),!this.rebuild||n!=="font-size"&&n!=="x"||this.rebuild()}return this},find:function(n){return Ec(n,this.node)},findOne:function(n){return bi(this.node.querySelector(n))}}),pt(Qo,"Dom");let $n=class extends Qo{constructor(n,e){super(n,e),this.dom={},this.node.instance=this,(n.hasAttribute("data-svgjs")||n.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(n.getAttribute("data-svgjs"))??JSON.parse(n.getAttribute("svgjs:data"))??{})}center(n,e){return this.cx(n).cy(e)}cx(n){return n==null?this.x()+this.width()/2:this.x(n-this.width()/2)}cy(n){return n==null?this.y()+this.height()/2:this.y(n-this.height()/2)}defs(){const n=this.root();return n&&n.defs()}dmove(n,e){return this.dx(n).dy(e)}dx(n=0){return this.x(new Xe(n).plus(this.x()))}dy(n=0){return this.y(new Xe(n).plus(this.y()))}getEventHolder(){return this}height(n){return this.attr("height",n)}move(n,e){return this.x(n).y(e)}parents(n=this.root()){const e=typeof n=="string";e||(n=fs(n));const t=new hc;let s=this;for(;(s=s.parent())&&s.node!==ft.document&&s.nodeName!=="#document-fragment"&&(t.push(s),e||s.node!==n.node)&&(!e||!s.matches(n));)if(s.node===this.root().node)return null;return t}reference(n){if(!(n=this.attr(n)))return null;const e=(n+"").match(Uee);return e?fs(e[1]):null}root(){const n=this.parent(function(e){return Ql[e]}(DA));return n&&n.root()}setData(n){return this.dom=n,this}size(n,e){const t=$h(this,n,e);return this.width(new Xe(t.width)).height(new Xe(t.height))}width(n){return this.attr("width",n)}writeDataToDom(){return t4(this,this.dom),super.writeDataToDom()}x(n){return this.attr("x",n)}y(n){return this.attr("y",n)}};Le($n,{bbox:function(){const n=H2(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(yo().svg).show(),s=t.node.getBBox();return t.remove(),s}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new nn(n)},rbox:function(n){const e=H2(this,s=>s.getBoundingClientRect(),s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)}),t=new nn(e);return n?t.transform(n.screenCTM().inverseO()):t.addOffset()},inside:function(n,e){const t=this.bbox();return n>t.x&&e>t.y&&n<t.x+t.width&&e<t.y+t.height},point:function(n,e){return new bt(n,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Pe(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const n=this.rect(1,1),e=n.node.getScreenCTM();return n.remove(),new Pe(e)}return new Pe(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Pe}}}),pt($n,"Element");const jd={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(n,e){return e==="color"?n:n+"-"+e}};["fill","stroke"].forEach(function(n){const e={};let t;e[n]=function(s){if(s===void 0)return this.attr(n);if(typeof s=="string"||s instanceof kt||kt.isRgb(s)||s instanceof $n)this.attr(n,s);else for(t=jd[n].length-1;t>=0;t--)s[jd[n][t]]!=null&&this.attr(jd.prefix(n,jd[n][t]),s[jd[n][t]]);return this},Qe(["Element","Runner"],e)}),Qe(["Element","Runner"],{matrix:function(n,e,t,s,i,r){return n==null?new Pe(this):this.attr("transform",new Pe(n,e,t,s,i,r))},rotate:function(n,e,t){return this.transform({rotate:n,ox:e,oy:t},!0)},skew:function(n,e,t,s){return arguments.length===1||arguments.length===3?this.transform({skew:n,ox:e,oy:t},!0):this.transform({skew:[n,e],ox:t,oy:s},!0)},shear:function(n,e,t){return this.transform({shear:n,ox:e,oy:t},!0)},scale:function(n,e,t,s){return arguments.length===1||arguments.length===3?this.transform({scale:n,ox:e,oy:t},!0):this.transform({scale:[n,e],ox:t,oy:s},!0)},translate:function(n,e){return this.transform({translate:[n,e]},!0)},relative:function(n,e){return this.transform({relative:[n,e]},!0)},flip:function(n="both",e="center"){return"xybothtrue".indexOf(n)===-1&&(e=n,n="both"),this.transform({flip:n,origin:e},!0)},opacity:function(n){return this.attr("opacity",n)}}),Qe("radius",{radius:function(n,e=n){return(this._element||this).type==="radialGradient"?this.attr("r",new Xe(n)):this.rx(n).ry(e)}}),Qe("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(n){return new bt(this.node.getPointAtLength(n))}}),Qe(["Element","Runner"],{font:function(n,e){if(typeof n=="object"){for(e in n)this.font(e,n[e]);return this}return n==="leading"?this.leading(e):n==="anchor"?this.attr("text-anchor",e):n==="size"||n==="family"||n==="weight"||n==="stretch"||n==="variant"||n==="style"?this.attr("font-"+n,e):this.attr(n,e)}});Qe("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(n,e){return n[e]=function(t){return t===null?this.off(e):this.on(e,t),this},n},{})),Qe("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Wee).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(Xa).map(function(s){return parseFloat(s)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(Pe.fromArray(t[1])):e[t[0]].apply(e,t[1])},new Pe)},toParent:function(n,e){if(this===n)return this;if(S_(this.node))return this.addTo(n,e);const t=this.screenCTM(),s=n.screenCTM().inverse();return this.addTo(n,e).untransform().transform(s.multiply(t)),this},toRoot:function(n){return this.toParent(this.root(),n)},transform:function(n,e){if(n==null||typeof n=="string"){const s=new Pe(this).decompose();return n==null?s:s[n]}Pe.isMatrixLike(n)||(n={...n,origin:__(n,this)});const t=new Pe(e===!0?this:e||!1).transform(n);return this.attr("transform",t)}});class ps extends $n{flatten(){return this.each(function(){if(this instanceof ps)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(s,i){return i[i.length-s-1].toParent(e,t)}),this.remove()}}pt(ps,"Container");class _y extends ps{constructor(e,t=e){super(Lt("defs",e),t)}flatten(){return this}ungroup(){return this}}pt(_y,"Defs");class ai extends $n{}function BA(n){return this.attr("rx",n)}function VA(n){return this.attr("ry",n)}function c4(n){return n==null?this.cx()-this.rx():this.cx(n+this.rx())}function u4(n){return n==null?this.cy()-this.ry():this.cy(n+this.ry())}function h4(n){return this.attr("cx",n)}function d4(n){return this.attr("cy",n)}function f4(n){return n==null?2*this.rx():this.rx(new Xe(n).divide(2))}function g4(n){return n==null?2*this.ry():this.ry(new Xe(n).divide(2))}pt(ai,"Shape");var ete=Object.freeze({__proto__:null,cx:h4,cy:d4,height:g4,rx:BA,ry:VA,width:f4,x:c4,y:u4});class Fm extends ai{constructor(e,t=e){super(Lt("ellipse",e),t)}size(e,t){const s=$h(this,e,t);return this.rx(new Xe(s.width).divide(2)).ry(new Xe(s.height).divide(2))}}Le(Fm,ete),Qe("Container",{ellipse:jt(function(n=0,e=n){return this.put(new Fm).size(n,e).move(0,0)})}),pt(Fm,"Ellipse");class p4 extends Qo{constructor(e=ft.document.createDocumentFragment()){super(e)}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){const i=new Qo(cg("wrapper",s));return i.add(this.node.cloneNode(!0)),i.xml(!1,s)}return super.xml(e,!1,s)}}function m4(n,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Xe(n),fy:new Xe(e)}):this.attr({x1:new Xe(n),y1:new Xe(e)})}function v4(n,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Xe(n),cy:new Xe(e)}):this.attr({x2:new Xe(n),y2:new Xe(e)})}pt(p4,"Fragment");var tte=Object.freeze({__proto__:null,from:m4,to:v4});class Cf extends ps{constructor(e,t){super(Lt(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,s){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,s)}bbox(){return new nn}targets(){return Ec("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Le(Cf,tte),Qe({Container:{gradient(...n){return this.defs().gradient(...n)}},Defs:{gradient:jt(function(n,e){return this.put(new Cf(n)).update(e)})}}),pt(Cf,"Gradient");class ug extends ps{constructor(e,t=e){super(Lt("pattern",e),t)}attr(e,t,s){return e==="transform"&&(e="patternTransform"),super.attr(e,t,s)}bbox(){return new nn}targets(){return Ec("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Qe({Container:{pattern(...n){return this.defs().pattern(...n)}},Defs:{pattern:jt(function(n,e,t){return this.put(new ug).update(t).attr({x:0,y:0,width:n,height:e,patternUnits:"userSpaceOnUse"})})}}),pt(ug,"Pattern");let Bm=class extends ai{constructor(n,e=n){super(Lt("image",n),e)}load(n,e){if(!n)return this;const t=new ft.window.Image;return ka(t,"load",function(s){const i=this.parent(ug);this.width()===0&&this.height()===0&&this.size(t.width,t.height),i instanceof ug&&i.width()===0&&i.height()===0&&i.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)},this),ka(t,"load error",function(){Mi(t)}),this.attr("href",t.src=n,qh)}};var W2;W2=function(n,e,t){return n!=="fill"&&n!=="stroke"||Xee.test(e)&&(e=t.root().defs().image(e)),e instanceof Bm&&(e=t.root().defs().pattern(0,0,s=>{s.add(e)})),e},l4.push(W2),Qe({Container:{image:jt(function(n,e){return this.put(new Bm).size(0,0).load(n,e)})}}),pt(Bm,"Image");class Jo extends dc{bbox(){let e=-1/0,t=-1/0,s=1/0,i=1/0;return this.forEach(function(r){e=Math.max(r[0],e),t=Math.max(r[1],t),s=Math.min(r[0],s),i=Math.min(r[1],i)}),new nn(s,i,e-s,t-i)}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Xa).map(parseFloat)).length%2!=0&&e.pop();for(let s=0,i=e.length;s<i;s+=2)t.push([e[s],e[s+1]]);return t}size(e,t){let s;const i=this.bbox();for(s=this.length-1;s>=0;s--)i.width&&(this[s][0]=(this[s][0]-i.x)*e/i.width+i.x),i.height&&(this[s][1]=(this[s][1]-i.y)*t/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,s=this.length;t<s;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Pe.isMatrixLike(e)||(e=new Pe(e));for(let t=this.length;t--;){const[s,i]=this[t];this[t][0]=e.a*s+e.c*i+e.e,this[t][1]=e.b*s+e.d*i+e.f}return this}}const nte=Jo;var HA=Object.freeze({__proto__:null,MorphArray:nte,height:function(n){const e=this.bbox();return n==null?e.height:this.size(e.width,n)},width:function(n){const e=this.bbox();return n==null?e.width:this.size(n,e.height)},x:function(n){return n==null?this.bbox().x:this.move(n,this.bbox().y)},y:function(n){return n==null?this.bbox().y:this.move(this.bbox().x,n)}});let zl=class extends ai{constructor(n,e=n){super(Lt("line",n),e)}array(){return new Jo([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(n,e){return this.attr(this.array().move(n,e).toLine())}plot(n,e,t,s){return n==null?this.array():(n=e!==void 0?{x1:n,y1:e,x2:t,y2:s}:new Jo(n).toLine(),this.attr(n))}size(n,e){const t=$h(this,n,e);return this.attr(this.array().size(t.width,t.height).toLine())}};Le(zl,HA),Qe({Container:{line:jt(function(...n){return zl.prototype.plot.apply(this.put(new zl),n[0]!=null?n:[0,0,0,0])})}}),pt(zl,"Line");let Vm=class extends ps{constructor(n,e=n){super(Lt("marker",n),e)}height(n){return this.attr("markerHeight",n)}orient(n){return this.attr("orient",n)}ref(n,e){return this.attr("refX",n).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(n){return this.clear(),typeof n=="function"&&n.call(this,this),this}width(n){return this.attr("markerWidth",n)}};function Iu(n,e){return function(t){return t==null?this[n]:(this[n]=t,e&&e.call(this),this)}}Qe({Container:{marker(...n){return this.defs().marker(...n)}},Defs:{marker:jt(function(n,e,t){return this.put(new Vm).size(n,e).ref(n/2,e/2).viewbox(0,0,n,e).attr("orient","auto").update(t)})},marker:{marker(n,e,t,s){let i=["marker"];return n!=="all"&&i.push(n),i=i.join("-"),n=arguments[1]instanceof Vm?arguments[1]:this.defs().marker(e,t,s),this.attr(i,n)}}}),pt(Vm,"Marker");const ste={"-":function(n){return n},"<>":function(n){return-Math.cos(n*Math.PI)/2+.5},">":function(n){return Math.sin(n*Math.PI/2)},"<":function(n){return 1-Math.cos(n*Math.PI/2)},bezier:function(n,e,t,s){return function(i){return i<0?n>0?e/n*i:t>0?s/t*i:0:i>1?t<1?(1-s)/(1-t)*i+(s-t)/(1-t):n<1?(1-e)/(1-n)*i+(e-n)/(1-n):1:3*i*(1-i)**2*e+3*i**2*(1-i)*s+i**3}},steps:function(n,e="end"){e=e.split("-").reverse()[0];let t=n;return e==="none"?--t:e==="both"&&++t,(s,i=!1)=>{let r=Math.floor(s*n);const a=s*r%1==0;return e!=="start"&&e!=="both"||++r,i&&a&&--r,s>=0&&r<0&&(r=0),s<=1&&r>t&&(r=t),r/t}}};class UA{done(){return!1}}class A_ extends UA{constructor(e=Zee){super(),this.ease=ste[e]||e}step(e,t,s){return typeof e!="number"?s<1?e:t:e+(t-e)*this.ease(s)}}class rx extends UA{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,s,i){return this.stepper(e,t,s,i)}}function Y2(){const n=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,s=Math.log(e/100+1e-10),i=-s/Math.sqrt(t*t+s*s),r=3.9/(i*n);this.d=2*i*r,this.k=r*r}Le(class extends rx{constructor(n=500,e=0){super(),this.duration(n).overshoot(e)}step(n,e,t,s){if(typeof n=="string")return n;if(s.done=t===1/0,t===1/0)return e;if(t===0)return n;t>100&&(t=16),t/=1e3;const i=s.velocity||0,r=-this.d*i-this.k*(n-e),a=n+i*t+r*t*t/2;return s.velocity=i+r*t,s.done=Math.abs(e-a)+Math.abs(i)<.002,s.done?e:a}},{duration:Iu("_duration",Y2),overshoot:Iu("_overshoot",Y2)});Le(class extends rx{constructor(n=.1,e=.01,t=0,s=1e3){super(),this.p(n).i(e).d(t).windup(s)}step(n,e,t,s){if(typeof n=="string")return n;if(s.done=t===1/0,t===1/0)return e;if(t===0)return n;const i=e-n;let r=(s.integral||0)+i*t;const a=(i-(s.error||0))/t,o=this._windup;return o!==!1&&(r=Math.max(-o,Math.min(r,o))),s.error=i,s.integral=r,s.done=Math.abs(i)<.001,s.done?e:n+(this.P*i+this.I*r+this.D*a)}},{windup:Iu("_windup"),p:Iu("P"),i:Iu("I"),d:Iu("D")});const ite={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},C_={M:function(n,e,t){return e.x=t.x=n[0],e.y=t.y=n[1],["M",e.x,e.y]},L:function(n,e){return e.x=n[0],e.y=n[1],["L",n[0],n[1]]},H:function(n,e){return e.x=n[0],["H",n[0]]},V:function(n,e){return e.y=n[0],["V",n[0]]},C:function(n,e){return e.x=n[4],e.y=n[5],["C",n[0],n[1],n[2],n[3],n[4],n[5]]},S:function(n,e){return e.x=n[2],e.y=n[3],["S",n[0],n[1],n[2],n[3]]},Q:function(n,e){return e.x=n[2],e.y=n[3],["Q",n[0],n[1],n[2],n[3]]},T:function(n,e){return e.x=n[0],e.y=n[1],["T",n[0],n[1]]},Z:function(n,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(n,e){return e.x=n[5],e.y=n[6],["A",n[0],n[1],n[2],n[3],n[4],n[5],n[6]]}},o0="mlhvqtcsaz".split("");for(let n=0,e=o0.length;n<e;++n)C_[o0[n]]=function(t){return function(s,i,r){if(t==="H")s[0]=s[0]+i.x;else if(t==="V")s[0]=s[0]+i.y;else if(t==="A")s[5]=s[5]+i.x,s[6]=s[6]+i.y;else for(let a=0,o=s.length;a<o;++a)s[a]=s[a]+(a%2?i.y:i.x);return C_[t](s,i,r)}}(o0[n].toUpperCase());function T_(n){return n.segment.length&&n.segment.length-1===ite[n.segment[0].toUpperCase()]}function rte(n,e){n.inNumber&&Il(n,!1);const t=zA.test(e);if(t)n.segment=[e];else{const s=n.lastCommand,i=s.toLowerCase(),r=s===i;n.segment=[i==="m"?r?"l":"L":s]}return n.inSegment=!0,n.lastCommand=n.segment[0],t}function Il(n,e){if(!n.inNumber)throw new Error("Parser Error");n.number&&n.segment.push(parseFloat(n.number)),n.inNumber=e,n.number="",n.pointSeen=!1,n.hasExponent=!1,T_(n)&&E_(n)}function E_(n){n.inSegment=!1,n.absolute&&(n.segment=function(e){const t=e.segment[0];return C_[t](e.segment.slice(1),e.p,e.p0)}(n)),n.segments.push(n.segment)}function ate(n){if(!n.segment.length)return!1;const e=n.segment[0].toUpperCase()==="A",t=n.segment.length;return e&&(t===4||t===5)}function ote(n){return n.lastToken.toUpperCase()==="E"}const lte=new Set([" ",",","	",`
`,"\r","\f"]);class rr extends dc{bbox(){return yo().path.setAttribute("d",this.toString()),new nn(yo.nodes.path.getBBox())}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let i,r=this.length-1;r>=0;r--)i=this[r][0],i==="M"||i==="L"||i==="T"?(this[r][1]+=e,this[r][2]+=t):i==="H"?this[r][1]+=e:i==="V"?this[r][1]+=t:i==="C"||i==="S"||i==="Q"?(this[r][1]+=e,this[r][2]+=t,this[r][3]+=e,this[r][4]+=t,i==="C"&&(this[r][5]+=e,this[r][6]+=t)):i==="A"&&(this[r][6]+=e,this[r][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,s=!0){let i=0,r="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:s,p0:new bt,p:new bt};for(;a.lastToken=r,r=t.charAt(i++);)if(a.inSegment||!rte(a,r))if(r!==".")if(isNaN(parseInt(r)))if(lte.has(r))a.inNumber&&Il(a,!1);else if(r!=="-"&&r!=="+")if(r.toUpperCase()!=="E"){if(zA.test(r)){if(a.inNumber)Il(a,!1);else{if(!T_(a))throw new Error("parser Error");E_(a)}--i}}else a.number+=r,a.hasExponent=!0;else{if(a.inNumber&&!ote(a)){Il(a,!1),--i;continue}a.number+=r,a.inNumber=!0}else{if(a.number==="0"||ate(a)){a.inNumber=!0,a.number=r,Il(a,!0);continue}a.inNumber=!0,a.number+=r}else{if(a.pointSeen||a.hasExponent){Il(a,!1),--i;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=r}return a.inNumber&&Il(a,!1),a.inSegment&&T_(a)&&E_(a),a.segments}(e)}size(e,t){const s=this.bbox();let i,r;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,i=this.length-1;i>=0;i--)r=this[i][0],r==="M"||r==="L"||r==="T"?(this[i][1]=(this[i][1]-s.x)*e/s.width+s.x,this[i][2]=(this[i][2]-s.y)*t/s.height+s.y):r==="H"?this[i][1]=(this[i][1]-s.x)*e/s.width+s.x:r==="V"?this[i][1]=(this[i][1]-s.y)*t/s.height+s.y:r==="C"||r==="S"||r==="Q"?(this[i][1]=(this[i][1]-s.x)*e/s.width+s.x,this[i][2]=(this[i][2]-s.y)*t/s.height+s.y,this[i][3]=(this[i][3]-s.x)*e/s.width+s.x,this[i][4]=(this[i][4]-s.y)*t/s.height+s.y,r==="C"&&(this[i][5]=(this[i][5]-s.x)*e/s.width+s.x,this[i][6]=(this[i][6]-s.y)*t/s.height+s.y)):r==="A"&&(this[i][1]=this[i][1]*e/s.width,this[i][2]=this[i][2]*t/s.height,this[i][6]=(this[i][6]-s.x)*e/s.width+s.x,this[i][7]=(this[i][7]-s.y)*t/s.height+s.y);return this}toString(){return function(e){let t="";for(let s=0,i=e.length;s<i;s++)t+=e[s][0],e[s][1]!=null&&(t+=e[s][1],e[s][2]!=null&&(t+=" ",t+=e[s][2],e[s][3]!=null&&(t+=" ",t+=e[s][3],t+=" ",t+=e[s][4],e[s][5]!=null&&(t+=" ",t+=e[s][5],t+=" ",t+=e[s][6],e[s][7]!=null&&(t+=" ",t+=e[s][7])))));return t+" "}(this)}}const x4=n=>{const e=typeof n;return e==="number"?Xe:e==="string"?kt.isColor(n)?kt:Xa.test(n)?zA.test(n)?rr:dc:i4.test(n)?Xe:k_:N_.indexOf(n.constructor)>-1?n.constructor:Array.isArray(n)?dc:e==="object"?hg:k_};class Ml{constructor(e){this._stepper=e||new A_("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(x4(e));let t=new this._type(e);return this._type===kt&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===hg&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(s){return s.done=!0,s}),t}}class k_{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class np{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,np.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}np.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const cte=(n,e)=>n[0]<e[0]?-1:n[0]>e[0]?1:0;class hg{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let s=0,i=t.length;s<i;++s){if(t[s+1]===e[s+1]){if(t[s+1]===kt&&e[s+7]!==t[s+7]){const o=e[s+7],l=new kt(this.values.splice(s+3,5))[o]().toArray();this.values.splice(s+3,0,...l)}s+=t[s+2]+2;continue}if(!e[s+1])return this;const r=new e[s+1]().toArray(),a=t[s+2]+3;t.splice(s,a,e[s],e[s+1],e[s+2],...r),s+=t[s+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const s in e){const i=x4(e[s]),r=new i(e[s]).toArray();t.push([s,i,r.length,...r])}return t.sort(cte),this.values=t.reduce((s,i)=>s.concat(i),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const s=t.shift(),i=t.shift(),r=t.shift(),a=t.splice(0,r);e[s]=new i(a)}return e}}const N_=[k_,np,hg];class qu extends ai{constructor(e,t=e){super(Lt("path",e),t)}array(){return this._array||(this._array=new rr(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new rr(e))}size(e,t){const s=$h(this,e,t);return this.attr("d",this.array().size(s.width,s.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}qu.prototype.MorphArray=rr,Qe({Container:{path:jt(function(n){return this.put(new qu).plot(n||new rr)})}}),pt(qu,"Path");var y4=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Jo(this.attr("points")))},clear:function(){return delete this._array,this},move:function(n,e){return this.attr("points",this.array().move(n,e))},plot:function(n){return n==null?this.array():this.clear().attr("points",typeof n=="string"?n:this._array=new Jo(n))},size:function(n,e){const t=$h(this,n,e);return this.attr("points",this.array().size(t.width,t.height))}});class Fl extends ai{constructor(e,t=e){super(Lt("polygon",e),t)}}Qe({Container:{polygon:jt(function(n){return this.put(new Fl).plot(n||new Jo)})}}),Le(Fl,HA),Le(Fl,y4),pt(Fl,"Polygon");class Bl extends ai{constructor(e,t=e){super(Lt("polyline",e),t)}}Qe({Container:{polyline:jt(function(n){return this.put(new Bl).plot(n||new Jo)})}}),Le(Bl,HA),Le(Bl,y4),pt(Bl,"Polyline");class Hm extends ai{constructor(e,t=e){super(Lt("rect",e),t)}}Le(Hm,{rx:BA,ry:VA}),Qe({Container:{rect:jt(function(n,e){return this.put(new Hm).size(n,e)})}}),pt(Hm,"Rect");class l0{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Ct={nextDraw:null,frames:new l0,timeouts:new l0,immediates:new l0,timer:()=>ft.window.performance||ft.window.Date,transforms:[],frame(n){const e=Ct.frames.push({run:n});return Ct.nextDraw===null&&(Ct.nextDraw=ft.window.requestAnimationFrame(Ct._draw)),e},timeout(n,e){e=e||0;const t=Ct.timer().now()+e,s=Ct.timeouts.push({run:n,time:t});return Ct.nextDraw===null&&(Ct.nextDraw=ft.window.requestAnimationFrame(Ct._draw)),s},immediate(n){const e=Ct.immediates.push(n);return Ct.nextDraw===null&&(Ct.nextDraw=ft.window.requestAnimationFrame(Ct._draw)),e},cancelFrame(n){n!=null&&Ct.frames.remove(n)},clearTimeout(n){n!=null&&Ct.timeouts.remove(n)},cancelImmediate(n){n!=null&&Ct.immediates.remove(n)},_draw(n){let e=null;const t=Ct.timeouts.last();for(;(e=Ct.timeouts.shift())&&(n>=e.time?e.run():Ct.timeouts.push(e),e!==t););let s=null;const i=Ct.frames.last();for(;s!==i&&(s=Ct.frames.shift());)s.run(n);let r=null;for(;r=Ct.immediates.shift();)r();Ct.nextDraw=Ct.timeouts.first()||Ct.frames.first()?ft.window.requestAnimationFrame(Ct._draw):null}},ute=function(n){const e=n.start,t=n.runner.duration();return{start:e,duration:t,end:e+t,runner:n.runner}},hte=function(){const n=ft.window;return(n.performance||n.Date).now()};class b4 extends tp{constructor(e=hte){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const s=Math.abs(t);return this.speed(e?-s:s)}schedule(e,t,s){if(e==null)return this._runners.map(ute);let i=0;const r=this.getEndTime();if(t=t||0,s==null||s==="last"||s==="after")i=r;else if(s==="absolute"||s==="start")i=t,t=0;else if(s==="now")i=this._time;else if(s==="relative"){const l=this.getRunnerInfoById(e.id);l&&(i=l.start+t,t=0)}else{if(s!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();i=l?l.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),o={persist:a===null?this._persist:a,start:i+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Ct.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Ct.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let s=t-this._lastSourceTime;e&&(s=0);const i=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const o=this._runners[a],l=o.runner;this._time-o.start<=0&&l.reset()}let r=!1;for(let a=0,o=this._runners.length;a<o;a++){const l=this._runners[a],c=l.runner;let h=i;const f=this._time-l.start;if(f<=0){r=!0;continue}f<h&&(h=f),c.active()&&(c.step(h).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--a,--o):r=!0)}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Qe({Element:{timeline:function(n){return n==null?(this._timeline=this._timeline||new b4,this._timeline):(this._timeline=n,this)}}});class si extends tp{constructor(e){super(),this.id=si.id++,e=typeof(e=e??a0)=="function"?new rx(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof rx,this._stepper=this._isDeclarative?e:new A_,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Pe,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,s){let i=1,r=!1,a=0;return t=t??Kee,s=s||"last",typeof(e=e??a0)!="object"||e instanceof UA||(t=e.delay??t,s=e.when??s,r=e.swing||r,i=e.times??i,a=e.wait??a,e=e.duration??a0),{duration:e,delay:t,swing:r,times:i,wait:a,when:s}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,s){const i=si.sanitise(e,t,s),r=new si(i.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new Pe,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new A_(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,s){return typeof e=="object"&&(t=e.swing,s=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const r=Math.floor(this._time/t),a=(this._time-r*t)/this._duration;return Math.min(r+a,this._times)}const s=e%1,i=t*Math.floor(e)+this._duration*s;return this.time(i)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,s=this._duration,i=this._wait,r=this._times,a=this._swing,o=this._reverse;let l;if(e==null){const f=function(p){const x=a*Math.floor(p%(2*(i+s))/(i+s)),v=x&&!o||!x&&o,_=Math.pow(-1,v)*(p%(i+s))/s+v;return Math.max(Math.min(_,1),0)},g=r*(i+s)-i;return l=t<=0?Math.round(f(1e-5)):t<g?f(t):Math.round(f(g-1e-5)),l}const c=Math.floor(this.loops()),h=a&&c%2==0;return l=c+(h&&!o||o&&h?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,s,i){return this._queue.push({initialiser:e||U2,runner:t||U2,retarget:s,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,s){if(e instanceof b4||(s=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,s),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),s=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const i=this.duration(),r=this._lastTime<=0&&this._time>0,a=this._lastTime<i&&this._time>=i;this._lastTime=this._time,r&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!a&&this._time>=i,this._reseted=!1;let l=!1;return(s||o)&&(this._initialise(s),this.transforms=new Pe,l=this._run(o?e:t),this.fire("step",this)),this.done=this.done||l&&o,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,s=this._queue.length;t<s;++t){const i=this._queue[t],r=this._isDeclarative||!i.initialised&&e;e=!i.finished,r&&e&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(e){let t=!0;for(let s=0,i=this._queue.length;s<i;++s){const r=this._queue[s],a=r.runner.call(this,e);r.finished=r.finished||a===!0,t=t&&r.finished}return t}_tryRetarget(e,t,s){if(this._history[e]){if(!this._history[e].caller.initialised){const r=this._queue.indexOf(this._history[e].caller);return this._queue.splice(r,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,s):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}si.id=0;class ax{constructor(e=new Pe,t=-1,s=!0){this.transforms=e,this.id=t,this.done=s}clearTransformsFromQueue(){}}Le([si,ax],{mergeWith(n){return new ax(n.transforms.lmultiply(this.transforms),n.id)}});const w4=(n,e)=>n.lmultiplyO(e),_4=n=>n.transforms;function dte(){const n=this._transformationRunners.runners.map(_4).reduce(w4,new Pe);this.transform(n),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class fte{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new ax).forEach(s=>s.clearTransformsFromQueue()),this}edit(e,t){const s=this.ids.indexOf(e+1);return this.ids.splice(s,1,e+1),this.runners.splice(s,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const s=this.runners[t];if(e&&s.done&&e.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(s.id);const i=s.mergeWith(e);this.edit(e.id,i),e=i,--t}else e=s}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Qe({Element:{animate(n,e,t){const s=si.sanitise(n,e,t),i=this.timeline();return new si(s.duration).loop(s).element(this).timeline(i.play()).schedule(s.delay,s.when)},delay(n,e){return this.animate(0,n,e)},_clearTransformRunnersBefore(n){this._transformationRunners.clearBefore(n.id)},_currentTransform(n){return this._transformationRunners.runners.filter(e=>e.id<=n.id).map(_4).reduce(w4,new Pe)},_addRunner(n){this._transformationRunners.add(n),Ct.cancelImmediate(this._frameId),this._frameId=Ct.immediate(dte.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new fte().add(new ax(new Pe(this))))}}});Le(si,{attr(n,e){return this.styleAttr("attr",n,e)},css(n,e){return this.styleAttr("css",n,e)},styleAttr(n,e,t){if(typeof e=="string")return this.styleAttr(n,{[e]:t});let s=e;if(this._tryRetarget(n,s))return this;let i=new Ml(this._stepper).to(s),r=Object.keys(s);return this.queue(function(){i=i.from(this.element()[n](r))},function(a){return this.element()[n](i.at(a).valueOf()),i.done()},function(a){const o=Object.keys(a),l=(c=r,o.filter(f=>!c.includes(f)));var c;if(l.length){const f=this.element()[n](l),g=new hg(i.from()).valueOf();Object.assign(g,f),i.from(g)}const h=new hg(i.to()).valueOf();Object.assign(h,a),i.to(h),r=o,s=a}),this._rememberMorpher(n,i),this},zoom(n,e){if(this._tryRetarget("zoom",n,e))return this;let t=new Ml(this._stepper).to(new Xe(n));return this.queue(function(){t=t.from(this.element().zoom())},function(s){return this.element().zoom(t.at(s),e),t.done()},function(s,i){e=i,t.to(s)}),this._rememberMorpher("zoom",t),this},transform(n,e,t){if(e=n.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",n))return this;const s=Pe.isMatrixLike(n);t=n.affine!=null?n.affine:t??!s;const i=new Ml(this._stepper).type(t?np:Pe);let r,a,o,l,c;return this.queue(function(){a=a||this.element(),r=r||__(n,a),c=new Pe(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(h){e||this.clearTransform();const{x:f,y:g}=new bt(r).transform(a._currentTransform(this));let p=new Pe({...n,origin:[f,g]}),x=this._isDeclarative&&o?o:c;if(t){p=p.decompose(f,g),x=x.decompose(f,g);const _=p.rotate,w=x.rotate,S=[_-360,_,_+360],A=S.map(O=>Math.abs(O-w)),T=Math.min(...A),N=A.indexOf(T);p.rotate=S[N]}e&&(s||(p.rotate=n.rotate||0),this._isDeclarative&&l&&(x.rotate=l)),i.from(x),i.to(p);const v=i.at(h);return l=v.rotate,o=new Pe(v),this.addTransform(o),a._addRunner(this),i.done()},function(h){(h.origin||"center").toString()!==(n.origin||"center").toString()&&(r=__(h,a)),n={...h,origin:r}},!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(n){return this._queueNumber("x",n)},y(n){return this._queueNumber("y",n)},ax(n){return this._queueNumber("ax",n)},ay(n){return this._queueNumber("ay",n)},dx(n=0){return this._queueNumberDelta("x",n)},dy(n=0){return this._queueNumberDelta("y",n)},dmove(n,e){return this.dx(n).dy(e)},_queueNumberDelta(n,e){if(e=new Xe(e),this._tryRetarget(n,e))return this;const t=new Ml(this._stepper).to(e);let s=null;return this.queue(function(){s=this.element()[n](),t.from(s),t.to(s+e)},function(i){return this.element()[n](t.at(i)),t.done()},function(i){t.to(s+new Xe(i))}),this._rememberMorpher(n,t),this},_queueObject(n,e){if(this._tryRetarget(n,e))return this;const t=new Ml(this._stepper).to(e);return this.queue(function(){t.from(this.element()[n]())},function(s){return this.element()[n](t.at(s)),t.done()}),this._rememberMorpher(n,t),this},_queueNumber(n,e){return this._queueObject(n,new Xe(e))},cx(n){return this._queueNumber("cx",n)},cy(n){return this._queueNumber("cy",n)},move(n,e){return this.x(n).y(e)},amove(n,e){return this.ax(n).ay(e)},center(n,e){return this.cx(n).cy(e)},size(n,e){let t;return n&&e||(t=this._element.bbox()),n||(n=t.width/t.height*e),e||(e=t.height/t.width*n),this.width(n).height(e)},width(n){return this._queueNumber("width",n)},height(n){return this._queueNumber("height",n)},plot(n,e,t,s){if(arguments.length===4)return this.plot([n,e,t,s]);if(this._tryRetarget("plot",n))return this;const i=new Ml(this._stepper).type(this._element.MorphArray).to(n);return this.queue(function(){i.from(this._element.array())},function(r){return this._element.plot(i.at(r)),i.done()}),this._rememberMorpher("plot",i),this},leading(n){return this._queueNumber("leading",n)},viewbox(n,e,t,s){return this._queueObject("viewbox",new nn(n,e,t,s))},update(n){return typeof n!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(n.opacity!=null&&this.attr("stop-opacity",n.opacity),n.color!=null&&this.attr("stop-color",n.color),n.offset!=null&&this.attr("offset",n.offset),this)}}),Le(si,{rx:BA,ry:VA,from:m4,to:v4}),pt(si,"Runner");class R_ extends ps{constructor(e,t=e){super(Lt("svg",e),t),this.namespace()}defs(){return this.isRoot()?bi(this.node.querySelector("defs"))||this.put(new _y):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof ft.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:LA,version:"1.1"}).attr("xmlns:xlink",qh,s0):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,s0).attr("xmlns:svgjs",null,s0)}root(){return this.isRoot()?this:super.root()}}Qe({Container:{nested:jt(function(){return this.put(new R_)})}}),pt(R_,"Svg",!0);let P_=class extends ps{constructor(n,e=n){super(Lt("symbol",n),e)}};Qe({Container:{symbol:jt(function(){return this.put(new P_)})}}),pt(P_,"Symbol");var S4=Object.freeze({__proto__:null,amove:function(n,e){return this.ax(n).ay(e)},ax:function(n){return this.attr("x",n)},ay:function(n){return this.attr("y",n)},build:function(n){return this._build=!!n,this},center:function(n,e,t=this.bbox()){return this.cx(n,t).cy(e,t)},cx:function(n,e=this.bbox()){return n==null?e.cx:this.attr("x",this.attr("x")+n-e.cx)},cy:function(n,e=this.bbox()){return n==null?e.cy:this.attr("y",this.attr("y")+n-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(n,e,t=this.bbox()){return this.x(n,t).y(e,t)},plain:function(n){return this._build===!1&&this.clear(),this.node.appendChild(ft.document.createTextNode(n)),this},x:function(n,e=this.bbox()){return n==null?e.x:this.attr("x",this.attr("x")+n-e.x)},y:function(n,e=this.bbox()){return n==null?e.y:this.attr("y",this.attr("y")+n-e.y)}});class ar extends ai{constructor(e,t=e){super(Lt("text",e),t),this.dom.leading=this.dom.leading??new Xe(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Xe(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let s=0;const i=this.dom.leading;this.each(function(r){if(S_(this.node))return;const a=ft.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=i*new Xe(a);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?s+=o:(this.attr("dy",r?o+s:0),s=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Xe(e.leading||1.3),this}writeDataToDom(){return t4(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let s=0;e="";for(let i=0,r=t.length;i<r;++i)t[i].nodeName==="textPath"||S_(t[i])?i===0&&(s=i+1):(i!==s&&t[i].nodeType!==3&&bi(t[i]).dom.newLined===!0&&(e+=`
`),e+=t[i].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,s=(e=(e+"").split(`
`)).length;t<s;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Le(ar,S4),Qe({Container:{text:jt(function(n=""){return this.put(new ar).text(n)}),plain:jt(function(n=""){return this.put(new ar).plain(n)})}}),pt(ar,"Text");class Um extends ai{constructor(e,t=e){super(Lt("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ar))return this;const t=e.index(this),s=ft.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new Xe(s);return this.dy(t?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Le(Um,S4),Qe({Tspan:{tspan:jt(function(n=""){const e=new Um;return this._build||this.clear(),this.put(e).text(n)})},Text:{newLine:function(n=""){return this.tspan(n).newLine()}}}),pt(Um,"Tspan");class c0 extends ai{constructor(e,t=e){super(Lt("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Xe(e).divide(2))}}Le(c0,{x:c4,y:u4,cx:h4,cy:d4,width:f4,height:g4}),Qe({Container:{circle:jt(function(n=0){return this.put(new c0).size(n).move(0,0)})}}),pt(c0,"Circle");class u0 extends ps{constructor(e,t=e){super(Lt("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Ec("svg [clip-path*="+this.id()+"]")}}Qe({Container:{clip:jt(function(){return this.defs().put(new u0)})},Element:{clipper(){return this.reference("clip-path")},clipWith(n){const e=n instanceof u0?n:this.parent().clip().add(n);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),pt(u0,"ClipPath");class X2 extends $n{constructor(e,t=e){super(Lt("foreignObject",e),t)}}Qe({Container:{foreignObject:jt(function(n,e){return this.put(new X2).size(n,e)})}}),pt(X2,"ForeignObject");var A4=Object.freeze({__proto__:null,dmove:function(n,e){return this.children().forEach(t=>{let s;try{s=t.node instanceof ep().SVGSVGElement?new nn(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const i=new Pe(t),r=i.translate(n,e).transform(i.inverse()),a=new bt(s.x,s.y).transform(r);t.move(a.x,a.y)}),this},dx:function(n){return this.dmove(n,0)},dy:function(n){return this.dmove(0,n)},height:function(n,e=this.bbox()){return n==null?e.height:this.size(e.width,n,e)},move:function(n=0,e=0,t=this.bbox()){const s=n-t.x,i=e-t.y;return this.dmove(s,i)},size:function(n,e,t=this.bbox()){const s=$h(this,n,e,t),i=s.width/t.width,r=s.height/t.height;return this.children().forEach(a=>{const o=new bt(t).transform(new Pe(a).inverse());a.scale(i,r,o.x,o.y)}),this},width:function(n,e=this.bbox()){return n==null?e.width:this.size(n,e.height,e)},x:function(n,e=this.bbox()){return n==null?e.x:this.move(n,e.y,e)},y:function(n,e=this.bbox()){return n==null?e.y:this.move(e.x,n,e)}});class Do extends ps{constructor(e,t=e){super(Lt("g",e),t)}}Le(Do,A4),Qe({Container:{group:jt(function(){return this.put(new Do)})}}),pt(Do,"G");class om extends ps{constructor(e,t=e){super(Lt("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,qh)}}Le(om,A4),Qe({Container:{link:jt(function(n){return this.put(new om).to(n)})},Element:{unlink(){const n=this.linker();if(!n)return this;const e=n.parent();if(!e)return this.remove();const t=e.index(n);return e.add(this,t),n.remove(),this},linkTo(n){let e=this.linker();return e||(e=new om,this.wrap(e)),typeof n=="function"?n.call(e,e):e.to(n),this},linker(){const n=this.parent();return n&&n.node.nodeName.toLowerCase()==="a"?n:null}}}),pt(om,"A");class h0 extends ps{constructor(e,t=e){super(Lt("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Ec("svg [mask*="+this.id()+"]")}}Qe({Container:{mask:jt(function(){return this.defs().put(new h0)})},Element:{masker(){return this.reference("mask")},maskWith(n){const e=n instanceof h0?n:this.parent().mask().add(n);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),pt(h0,"Mask");class G2 extends $n{constructor(e,t=e){super(Lt("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Xe)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Xe(e.offset)),this}}Qe({Gradient:{stop:function(n,e,t){return this.put(new G2).update(n,e,t)}}}),pt(G2,"Stop");class d0 extends $n{constructor(e,t=e){super(Lt("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,s={}){return this.rule("@font-face",{fontFamily:e,src:t,...s})}rule(e,t){return this.addText(function(s,i){if(!s)return"";if(!i)return s;let r=s+"{";for(const a in i)r+=a.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+i[a]+";";return r+="}",r}(e,t))}}Qe("Dom",{style(n,e){return this.put(new d0).rule(n,e)},fontface(n,e,t){return this.put(new d0).font(n,e,t)}}),pt(d0,"Style");class f0 extends ar{constructor(e,t=e){super(Lt("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let s=null;return t&&(s=t.plot(e)),e==null?s:this}track(){return this.reference("href")}}Qe({Container:{textPath:jt(function(n,e){return n instanceof ar||(n=this.text(n)),n.path(e)})},Text:{path:jt(function(n,e=!0){const t=new f0;let s;if(n instanceof qu||(n=this.defs().path(n)),t.attr("href","#"+n,qh),e)for(;s=this.node.firstChild;)t.node.appendChild(s);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:jt(function(n){return n instanceof ar||(n=new ar().addTo(this.parent()).text(n)),n.path(this)}),targets(){return Ec("svg textPath").filter(n=>(n.attr("href")||"").includes(this.id()))}}}),f0.prototype.MorphArray=rr,pt(f0,"TextPath");class $2 extends ai{constructor(e,t=e){super(Lt("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,qh)}}Qe({Container:{use:jt(function(n,e){return this.put(new $2).use(n,e)})}}),pt($2,"Use");const gte=fs;Le([R_,P_,Bm,ug,Vm],Ss("viewbox")),Le([zl,Bl,Fl,qu],Ss("marker")),Le(ar,Ss("Text")),Le(qu,Ss("Path")),Le(_y,Ss("Defs")),Le([ar,Um],Ss("Tspan")),Le([Hm,Fm,Cf,si],Ss("radius")),Le(tp,Ss("EventTarget")),Le(Qo,Ss("Dom")),Le($n,Ss("Element")),Le(ai,Ss("Shape")),Le([ps,p4],Ss("Container")),Le(Cf,Ss("Gradient")),Le(si,Ss("Runner")),hc.extend([...new Set(JD)]),function(n=[]){N_.push(...[].concat(n))}([Xe,kt,nn,Pe,dc,Jo,rr,bt]),Le(N_,{to(n){return new Ml().type(this.constructor).from(this.toArray()).to(n)},fromArray(n){return this.init(n),this},toConsumable(){return this.toArray()},morph(n,e,t,s,i){return this.fromArray(n.map(function(r,a){return s.step(r,e[a],t,i[a],i)}))}});class Ft extends $n{constructor(e){super(Lt("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Ec('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class WA extends $n{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const xi=n=>function(...e){for(let t=n.length;t--;)e[t]!=null&&this.attr(n[t],e[t])},pte={blend:xi(["in","in2","mode"]),colorMatrix:xi(["type","values"]),composite:xi(["in","in2","operator"]),convolveMatrix:function(n){n=new dc(n).toString(),this.attr({order:Math.sqrt(n.split(" ").length),kernelMatrix:n})},diffuseLighting:xi(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:xi(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:xi(["in","dx","dy","stdDeviation"]),flood:xi(["flood-color","flood-opacity"]),gaussianBlur:function(n=0,e=n){this.attr("stdDeviation",n+" "+e)},image:function(n){this.attr("href",n,qh)},morphology:xi(["operator","radius"]),offset:xi(["dx","dy"]),specularLighting:xi(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:xi([]),turbulence:xi(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(n=>{const e=Gh(n),t=pte[n];Ft[e+"Effect"]=class extends WA{constructor(s){super(Lt("fe"+e,s),s)}update(s){return t.apply(this,s),this}},Ft.prototype[n]=jt(function(s,...i){const r=new Ft[e+"Effect"];return s==null?this.put(r):(typeof s=="function"?s.call(r,r):i.unshift(s),this.put(r).update(i))})}),Le(Ft,{merge(n){const e=this.put(new Ft.MergeEffect);return typeof n=="function"?(n.call(e,e),e):((n instanceof Array?n:[...arguments]).forEach(t=>{t instanceof Ft.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(n={}){const e=this.put(new Ft.ComponentTransferEffect);if(typeof n=="function")return n.call(e,e),e;n.r||n.g||n.b||n.a||(n={r:n,g:n,b:n,a:n});for(const t in n)e.add(new Ft["Func"+t.toUpperCase()](n[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(n=>{const e=Gh(n);Ft[e]=class extends WA{constructor(t){super(Lt("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(n){const e=Ft[Gh(n)],t=jt(function(){return this.put(new e)});Ft.ComponentTransferEffect.prototype[n]=t});["distantLight","pointLight","spotLight"].forEach(n=>{const e=Ft[Gh(n)],t=jt(function(){return this.put(new e)});Ft.DiffuseLightingEffect.prototype[n]=t,Ft.SpecularLightingEffect.prototype[n]=t}),Le(Ft.MergeEffect,{mergeNode(n){return this.put(new Ft.MergeNode).attr("in",n)}}),Le(_y,{filter:function(n){const e=this.put(new Ft);return typeof n=="function"&&n.call(e,e),e}}),Le(ps,{filter:function(n){return this.defs().filter(n)}}),Le($n,{filterWith:function(n){const e=n instanceof Ft?n:this.defs().filter(n);return this.attr("filter",e)},unfilter:function(n){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const mte={blend:function(n,e){return this.parent()&&this.parent().blend(this,n,e)},colorMatrix:function(n,e){return this.parent()&&this.parent().colorMatrix(n,e).in(this)},componentTransfer:function(n){return this.parent()&&this.parent().componentTransfer(n).in(this)},composite:function(n,e){return this.parent()&&this.parent().composite(this,n,e)},convolveMatrix:function(n){return this.parent()&&this.parent().convolveMatrix(n).in(this)},diffuseLighting:function(n,e,t,s){return this.parent()&&this.parent().diffuseLighting(n,t,s).in(this)},displacementMap:function(n,e,t,s){return this.parent()&&this.parent().displacementMap(this,n,e,t,s)},dropShadow:function(n,e,t){return this.parent()&&this.parent().dropShadow(this,n,e,t).in(this)},flood:function(n,e){return this.parent()&&this.parent().flood(n,e)},gaussianBlur:function(n,e){return this.parent()&&this.parent().gaussianBlur(n,e).in(this)},image:function(n){return this.parent()&&this.parent().image(n)},merge:function(n){return n=n instanceof Array?n:[...n],this.parent()&&this.parent().merge(this,...n)},morphology:function(n,e){return this.parent()&&this.parent().morphology(n,e).in(this)},offset:function(n,e){return this.parent()&&this.parent().offset(n,e).in(this)},specularLighting:function(n,e,t,s,i){return this.parent()&&this.parent().specularLighting(n,t,s,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(n,e,t,s,i){return this.parent()&&this.parent().turbulence(n,e,t,s,i).in(this)}};Le(WA,mte),Le(Ft.MergeEffect,{in:function(n){return n instanceof Ft.MergeNode?this.add(n,0):this.add(new Ft.MergeNode().in(n),0),this}}),Le([Ft.CompositeEffect,Ft.BlendEffect,Ft.DisplacementMapEffect],{in2:function(n){if(n==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",n)}}),Ft.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Wn=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"getDefaultFilter",value:function(e,t){var s=this.w;e.unfilter(!0),new Ft().size("120%","180%","-5%","-40%"),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,s){var i,r=this,a=this.w;if(e.unfilter(!0),s!=="none"){var o,l,c=a.config.chart.dropShadow,h=s==="lighten"?2:.3;e.filterWith(function(f){f.colorMatrix({type:"matrix",values:`
          `.concat(h,` 0 0 0 0
          0 `).concat(h,` 0 0 0
          0 0 `).concat(h,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&r.addShadow(f,t,c,"brightness")}),!c.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,s,i){var r,a=this.w,o=s.blur,l=s.top,c=s.left,h=s.color,f=s.opacity;if(h=Array.isArray(h)?h[t]:h,((r=a.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:i,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":h,"flood-opacity":f,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",i])}},{key:"dropShadow",value:function(e,t){var s,i,r,a,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=this.w;return e.unfilter(!0),K.isMsEdge()&&h.config.chart.type==="radialBar"||((s=h.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&((r=h.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.indexOf(c))===-1?e:(e.filterWith(function(f){l.addShadow(f,c,t,"SourceGraphic")}),t.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(o=a.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node),e)}},{key:"setSelectionFilter",value:function(e,t,s){var i=this.w;if(i.globals.selectedDataPoints[t]!==void 0&&i.globals.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);var r=i.config.states.active.filter;r!=="none"&&this.applyFilter(e,t,r.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),n}(),le=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"roundPathCorners",value:function(e,t){function s(k,M,I){var D=M.x-k.x,F=M.y-k.y,V=Math.sqrt(D*D+F*F);return i(k,M,Math.min(1,I/V))}function i(k,M,I){return{x:k.x+(M.x-k.x)*I,y:k.y+(M.y-k.y)*I}}function r(k,M){k.length>2&&(k[k.length-2]=M.x,k[k.length-1]=M.y)}function a(k){return{x:parseFloat(k[k.length-2]),y:parseFloat(k[k.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(k,M){var I=M.match(/^([a-zA-Z])(.+)/);return I?(k.push(I[1]),k.push(I[2])):k.push(M),k},[]).reduce(function(k,M){return parseFloat(M)==M&&k.length?k[k.length-1].push(M):k.push([M]),k},[]),l=[];if(o.length>1){var c=a(o[0]),h=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(h=["L",c.x,c.y],o[o.length-1]=h),l.push(o[0]);for(var f=1;f<o.length;f++){var g=l[l.length-1],p=o[f],x=p==h?o[1]:o[f+1];if(x&&g&&g.length>2&&p[0]=="L"&&x.length>2&&x[0]=="L"){var v,_,w=a(g),S=a(p),A=a(x);v=s(S,w,t),_=s(S,A,t),r(p,v),p.origPoint=S,l.push(p);var T=i(v,S,.5),N=i(S,_,.5),O=["C",T.x,T.y,N.x,N.y,_.x,_.y];O.origPoint=S,l.push(O)}else l.push(p)}if(h){var C=a(l[l.length-1]);l.push(["Z"]),r(l[0],C)}}else l=o;return l.reduce(function(k,M){return k+M.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,s,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:i,stroke:r,"stroke-dasharray":a,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,h=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,f=this.w.globals.dom.Paper.rect();return f.attr({x:e,y:t,width:s>0?s:0,height:i>0?i:0,rx:r,ry:r,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":h}),f.node.setAttribute("fill",a),f}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":s})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return t!==null&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,s=t===void 0?"":t,i=e.stroke,r=i===void 0?"#a8a8a8":i,a=e.strokeWidth,o=a===void 0?1:a,l=e.fill,c=e.fillOpacity,h=c===void 0?1:c,f=e.strokeOpacity,g=f===void 0?1:f,p=e.classes,x=e.strokeLinecap,v=x===void 0?null:x,_=e.strokeDashArray,w=_===void 0?0:_,S=this.w;return v===null&&(v=S.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(S.globals.gridHeight)),S.globals.dom.Paper.path(s).attr({fill:l,"fill-opacity":h,stroke:r,"stroke-opacity":g,"stroke-linecap":v,"stroke-width":o,"stroke-dasharray":w,class:p})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var s=["M",e,t].join(" ");return s}},{key:"line",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=null;return s===null?i=[" L",e,t].join(" "):s==="H"?i=[" H",e].join(" "):s==="V"&&(i=[" V",t].join(" ")),i}},{key:"curve",value:function(e,t,s,i,r,a){var o=["C",e,t,s,i,r,a].join(" ");return o}},{key:"quadraticCurve",value:function(e,t,s,i){return["Q",e,t,s,i].join(" ")}},{key:"arc",value:function(e,t,s,i,r,a,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,t,s,i,r,a,o].join(" ");return c}},{key:"renderPaths",value:function(e){var t,s=e.j,i=e.realIndex,r=e.pathFrom,a=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,h=e.fill,f=e.animationDelay,g=e.initialSpeed,p=e.dataChangeSpeed,x=e.className,v=e.chartType,_=e.shouldClipToGrid,w=_===void 0||_,S=e.bindEventsOnPaths,A=S===void 0||S,T=e.drawShadow,N=T===void 0||T,O=this.w,C=new Wn(this.ctx),k=new Xh(this.ctx),M=this.w.config.chart.animations.enabled,I=M&&this.w.config.chart.animations.dynamicAnimation.enabled;if(r&&r.startsWith("M 0 0")&&a){var D=a.match(/^M\s+[\d.-]+\s+[\d.-]+/);D&&(r=r.replace(/^M\s+0\s+0/,D[0]))}var F=!!(M&&!O.globals.resized||I&&O.globals.dataChanged&&O.globals.shouldAnimate);F?t=r:(t=a,O.globals.animationEnded=!0);var V=O.config.stroke.dashArray,G=0;G=Array.isArray(V)?V[i]:O.config.stroke.dashArray;var J=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:h,fillOpacity:1,classes:x,strokeLinecap:c,strokeDashArray:G});J.attr("index",i),w&&(v==="bar"&&!O.globals.isHorizontal||O.globals.comboCharts?J.attr({"clip-path":"url(#gridRectBarMask".concat(O.globals.cuid,")")}):J.attr({"clip-path":"url(#gridRectMask".concat(O.globals.cuid,")")})),O.config.chart.dropShadow.enabled&&N&&C.dropShadow(J,O.config.chart.dropShadow,i),A&&(J.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,J)),J.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,J)),J.node.addEventListener("mousedown",this.pathMouseDown.bind(this,J))),J.attr({pathTo:a,pathFrom:r});var Y={el:J,j:s,realIndex:i,pathFrom:r,pathTo:a,fill:h,strokeWidth:l,delay:f};return!M||O.globals.resized||O.globals.dataChanged?!O.globals.resized&&O.globals.dataChanged||k.showDelayedElements():k.animatePathsGradually(me(me({},Y),{},{speed:g})),O.globals.dataChanged&&I&&F&&k.animatePathsGradually(me(me({},Y),{},{speed:p})),J}},{key:"drawPattern",value:function(e,t,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,s,function(a){e==="horizontalLines"?a.line(0,0,s,0).stroke({color:i,width:r+1}):e==="verticalLines"?a.line(0,0,0,t).stroke({color:i,width:r+1}):e==="slantedLines"?a.line(0,0,t,s).stroke({color:i,width:r}):e==="squares"?a.rect(t,s).fill("none").stroke({color:i,width:r}):e==="circles"&&a.circle(t).fill("none").stroke({color:i,width:r})})}},{key:"drawGradient",value:function(e,t,s,i,r){var a,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],h=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,f=this.w;t.length<9&&t.indexOf("#")===0&&(t=K.hexToRgba(t,i)),s.length<9&&s.indexOf("#")===0&&(s=K.hexToRgba(s,r));var g=0,p=1,x=1,v=null;l!==null&&(g=l[0]!==void 0?l[0]/100:0,p=l[1]!==void 0?l[1]/100:1,x=l[2]!==void 0?l[2]/100:1,v=l[3]!==void 0?l[3]/100:null);var _=!(f.config.chart.type!=="donut"&&f.config.chart.type!=="pie"&&f.config.chart.type!=="polarArea"&&f.config.chart.type!=="bubble");if(a=c&&c.length!==0?f.globals.dom.Paper.gradient(_?"radial":"linear",function(A){(Array.isArray(c[h])?c[h]:c).forEach(function(T){A.stop(T.offset/100,T.color,T.opacity)})}):f.globals.dom.Paper.gradient(_?"radial":"linear",function(A){A.stop(g,t,i),A.stop(p,s,r),A.stop(x,s,r),v!==null&&A.stop(v,t,i)}),_){var w=f.globals.gridWidth/2,S=f.globals.gridHeight/2;f.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:w,cy:S,r:o}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,s=e.maxWidth,i=e.fontSize,r=e.fontFamily,a=this.getTextRects(t,i,r),o=a.width/t.length,l=Math.floor(s/o);return s<a.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(e){var t=this,s=e.x,i=e.y,r=e.text,a=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,h=e.foreColor,f=e.opacity,g=e.maxWidth,p=e.cssClass,x=p===void 0?"":p,v=e.isPlainText,_=v===void 0||v,w=e.dominantBaseline,S=w===void 0?"auto":w,A=this.w;r===void 0&&(r="");var T=r;a||(a="start"),h&&h.length||(h=A.config.chart.foreColor),l=l||A.config.chart.fontFamily,c=c||"regular";var N,O={maxWidth:g,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(r)?N=A.globals.dom.Paper.text(function(C){for(var k=0;k<r.length;k++)T=r[k],g&&(T=t.getTextBasedOnMaxWidth(me({text:r[k]},O))),k===0?C.tspan(T):C.tspan(T).newLine()}):(g&&(T=this.getTextBasedOnMaxWidth(me({text:r},O))),N=_?A.globals.dom.Paper.plain(r):A.globals.dom.Paper.text(function(C){return C.tspan(T)})),N.attr({x:s,y:i,"text-anchor":a,"dominant-baseline":S,"font-size":o,"font-family":l,"font-weight":c,fill:h,class:"apexcharts-text "+x}),N.node.style.fontFamily=l,N.node.style.opacity=f,N}},{key:"getMarkerPath",value:function(e,t,s,i){var r="";switch(s){case"cross":r="M ".concat(e-(i/=1.4)," ").concat(t-i," L ").concat(e+i," ").concat(t+i,"  M ").concat(e-i," ").concat(t+i," L ").concat(e+i," ").concat(t-i);break;case"plus":r="M ".concat(e-(i/=1.12)," ").concat(t," L ").concat(e+i," ").concat(t,"  M ").concat(e," ").concat(t-i," L ").concat(e," ").concat(t+i);break;case"star":case"sparkle":var a=5;i*=1.15,s==="sparkle"&&(i/=1.1,a=4);for(var o=Math.PI/a,l=0;l<=2*a;l++){var c=l*o,h=l%2==0?i:i/2;r+=(l===0?"M":"L")+(e+h*Math.sin(c))+","+(t-h*Math.cos(c))}r+="Z";break;case"triangle":r="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t+i,` 
             Z`);break;case"square":case"rect":r="M ".concat(e-(i/=1.125)," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t+i,` 
           L `).concat(e-i," ").concat(t+i,` 
           Z`);break;case"diamond":i*=1.05,r="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t,` 
             L `).concat(e," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t,` 
            Z`);break;case"line":r="M ".concat(e-(i/=1.1)," ").concat(t,` 
           L `).concat(e+i," ").concat(t);break;default:i*=2,r="M ".concat(e,", ").concat(t,` 
           m -`).concat(i/2,`, 0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 ").concat(i,`,0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 -").concat(i,",0")}return r}},{key:"drawMarkerShape",value:function(e,t,s,i,r){var a=this.drawPath({d:this.getMarkerPath(e,t,s,i,r),stroke:r.pointStrokeColor,strokeDashArray:r.pointStrokeDashArray,strokeWidth:r.pointStrokeWidth,fill:r.pointFillColor,fillOpacity:r.pointFillOpacity,strokeOpacity:r.pointStrokeOpacity});return a.attr({cx:e,cy:t,shape:r.shape,class:r.class?r.class:""}),a}},{key:"drawMarker",value:function(e,t,s){e=e||0;var i=s.pSize||0;return K.isNumber(t)||(i=0,t=0),this.drawMarkerShape(e,t,s?.shape,i,me(me({},s),s.shape==="line"||s.shape==="plus"||s.shape==="cross"?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var s=this.w,i=new Wn(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}]),(s.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var o=s.config.states.hover.filter;i.applyFilter(e,r,o.type)}}},{key:"pathMouseLeave",value:function(e,t){var s=this.w,i=new Wn(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:s}]),s.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&i.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var s=this.w,i=new Wn(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[r].indexOf(a)>-1){var l=s.globals.selectedDataPoints[r].indexOf(a);s.globals.selectedDataPoints[r].splice(l,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var c=s.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),h=s.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),f=function(x){Array.prototype.forEach.call(x,function(v){v.node.setAttribute("selected","false"),i.getDefaultFilter(v,r)})};f(c),f(h)}e.node.setAttribute("selected","true"),o="true",s.globals.selectedDataPoints[r]===void 0&&(s.globals.selectedDataPoints[r]=[]),s.globals.selectedDataPoints[r].push(a)}if(o==="true"){var g=s.config.states.active.filter;if(g!=="none")i.applyFilter(e,r,g.type);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var p=s.config.states.hover.filter;i.applyFilter(e,r,p.type)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?i.getDefaultFilter(e,r):(p=s.config.states.hover.filter,i.applyFilter(e,r,p.type)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:s}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:s}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,s,i){var r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});i&&o.attr("transform",i),a.globals.dom.Paper.add(o);var l=o.bbox();return r||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,t,s){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=s/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}}]),n}(),sn=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,s=[];if(t.globals.series.length===0)return s;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var r=0,a=0;a<t.globals.series.length;a++)t.globals.series[a][i]!==void 0&&e.indexOf(a)===-1&&(r+=t.globals.series[a][i]);s.push(r)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,s){return t+s},0):this.w.globals.series[e].reduce(function(t,s){return t+s},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,s=[];return t.globals.seriesGroups.forEach(function(i){var r=[];t.config.series.forEach(function(o,l){i.indexOf(t.globals.seriesNames[l])>-1&&r.push(l)});var a=t.globals.series.map(function(o,l){return r.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});s.push(e.getStackedSeriesTotals(a))}),s}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,s=[],i=[],r=[],a=e.series.length>t.yaxis.length||t.yaxis.some(function(f){return Array.isArray(f.seriesName)});t.series.forEach(function(f,g){r.push(g),i.push(null)}),t.yaxis.forEach(function(f,g){s[g]=[]});var o=[];t.yaxis.forEach(function(f,g){var p=!1;if(f.seriesName){var x=[];Array.isArray(f.seriesName)?x=f.seriesName:x.push(f.seriesName),x.forEach(function(v){t.series.forEach(function(_,w){if(_.name===v){var S=w;g===w||a?!a||r.indexOf(w)>-1?s[g].push([g,w]):console.warn("Series '"+_.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(s[w].push([w,g]),S=g),p=!0,(S=r.indexOf(S))!==-1&&r.splice(S,1)}})})}p||o.push(g)}),s=s.map(function(f,g){var p=[];return f.forEach(function(x){i[x[1]]=x[0],p.push(x[1])}),p});for(var l=t.yaxis.length-1,c=0;c<o.length&&(l=o[c],s[l]=[],r);c++){var h=r[0];r.shift(),s[l].push(h),i[h]=l}r.forEach(function(f){s[l].push(f),i[f]=l}),e.seriesYAxisMap=s.map(function(f){return f}),e.seriesYAxisReverseMap=i.map(function(f){return f}),e.seriesYAxisMap.forEach(function(f,g){f.forEach(function(p){t.series[p]&&t.series[p].group===void 0&&(t.series[p].group="apexcharts-axis-".concat(g.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,s,i){return t===i[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map(function(i,r){return t.config.xaxis.labels.formatter(i-t.globals.minX+1)})),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(s){t=Math.max(t,s)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(s){t=Math.max(t,s.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,s){var i=0;if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=t[r];else i+=t;return i})}},{key:"getSeriesTotalsXRange",value:function(e,t){var s=this.w;return s.globals.series.map(function(i,r){for(var a=0,o=0;o<i.length;o++)s.globals.seriesX[r][o]>e&&s.globals.seriesX[r][o]<t&&(a+=i[o]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,s){var i=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var a=e.globals.stackedSeriesTotals[r],o=0;a&&(o=100*t[r]/a),i.push(o)}else{var l=100*t/e.globals.seriesTotals.reduce(function(c,h){return c+h},0);i.push(l)}return i})}},{key:"getCalculatedRatios",value:function(){var e,t,s,i=this,r=this.w,a=r.globals,o=[],l=0,c=[],h=.1,f=0;if(a.yRange=[],a.isMultipleYAxis)for(var g=0;g<a.minYArr.length;g++)a.yRange.push(Math.abs(a.minYArr[g]-a.maxYArr[g])),c.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var p=0;p<a.yRange.length;p++)o.push(a.yRange[p]/a.gridHeight);if(t=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,s=a.xRange/a.gridHeight,(l=a.zRange/a.gridHeight*16)||(l=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),r.globals.seriesYAxisReverseMap.length>0){var x=function(_,w){var S=r.config.yaxis[r.globals.seriesYAxisReverseMap[w]],A=_<0?-1:1;return _=Math.abs(_),S.logarithmic&&(_=i.getBaseLog(S.logBase,_)),-A*_/o[w]};if(a.isMultipleYAxis){c=[];for(var v=0;v<o.length;v++)c.push(x(a.minYArr[v],v))}else(c=[]).push(x(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(h=-a.minY/e,f=a.minX/t)}else(c=[]).push(0),h=0,f=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:t,invertedXRatio:s,baseLineInvertedY:h,baseLineY:c,baseLineX:f}}},{key:"getLogSeries",value:function(e){var t=this,s=this.w;return s.globals.seriesLog=e.map(function(i,r){var a=s.globals.seriesYAxisReverseMap[r];return s.config.yaxis[a]&&s.config.yaxis[a].logarithmic?i.map(function(o){return o===null?null:t.getLogVal(s.config.yaxis[a].logBase,o,r)}):i}),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var s=this.w,i=s.globals.seriesYAxisReverseMap[t];return s.config.yaxis[i]&&s.config.yaxis[i].logarithmic?this.getLogVal(s.config.yaxis[i].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,s){if(t<=0)return 0;var i=this.w,r=i.globals.minYArr[s]===0?-1:this.getBaseLog(e,i.globals.minYArr[s]),a=(i.globals.maxYArr[s]===0?0:this.getBaseLog(e,i.globals.maxYArr[s]))-r;return t<1?t/a:(this.getBaseLog(e,t)-r)/a}},{key:"getLogYRatios",value:function(e){var t=this,s=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map(function(r,a){var o=s.globals.seriesYAxisReverseMap[a];if(s.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,h=Number.MIN_VALUE;return i.seriesLog.forEach(function(f,g){f.forEach(function(p){s.config.yaxis[g]&&s.config.yaxis[g].logarithmic&&(c=Math.max(p,c),h=Math.min(p,h))})}),l=Math.pow(i.yRange[a],Math.abs(h-c)/i.yRange[a]),i.yLogRatio[a]=l/i.gridHeight,l}}),i.invalidLogScale?e.slice():i.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,s,i){var r=this.w,a=[];return e.series.length>0&&t.forEach(function(o){var l=[],c=[];e.i.forEach(function(h,f){r.config.series[h].group===o&&(l.push(e.series[f]),c.push(h))}),l.length>0&&a.push(i.draw(l,s,c))}),a}}],[{key:"checkComboSeries",value:function(e,t){var s=!1,i=0,r=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||i++,a.type!==void 0&&a.type!==t&&r++}),r>0&&(s=!0),{comboBarCount:i,comboCharts:s}}},{key:"extendArrayProps",value:function(e,t,s){var i,r,a,o,l,c;return(i=t)!==null&&i!==void 0&&i.yaxis&&(t=e.extendYAxis(t,s)),(r=t)!==null&&r!==void 0&&r.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(a=t)!==null&&a!==void 0&&(o=a.annotations)!==null&&o!==void 0&&o.xaxis&&(t=e.extendXAxisAnnotations(t)),(l=t)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(t=e.extendPointAnnotations(t))),t}}]),n}(),Sy=function(){function n(e){we(this,n),this.w=e.w,this.annoCtx=e}return _e(n,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(e.label.orientation==="vertical"){var i=t!==null?t:0,r=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(r!==null){var a=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-a.height+4);var o=e.label.position==="top"?a.width:-a.width;r.setAttribute("y",parseFloat(r.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(r),c=l.x,h=l.y;r.setAttribute("transform","rotate(-90 ".concat(c," ").concat(h,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var s=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var i=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),a=t.label.style.padding,o=a.left,l=a.right,c=a.top,h=a.bottom;if(t.label.orientation==="vertical"){var f=[o,l,c,h];c=f[0],h=f[1],o=f[2],l=f[3]}var g=r.left-i.left-o,p=r.top-i.top-c,x=this.annoCtx.graphics.drawRect(g-s.globals.barPadForNumericAxis,p,r.width+o+l,r.height+c+h,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&x.node.classList.add(t.id),x}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,s=function(i,r,a){var o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(r,"']"));if(o){var l=o.parentNode,c=e.addBackgroundToAnno(o,i);c&&(l.insertBefore(c.node,o),i.label.mouseEnter&&c.node.addEventListener("mouseenter",i.label.mouseEnter.bind(e,i)),i.label.mouseLeave&&c.node.addEventListener("mouseleave",i.label.mouseLeave.bind(e,i)),i.label.click&&c.node.addEventListener("click",i.label.click.bind(e,i)))}};t.config.annotations.xaxis.forEach(function(i,r){return s(i,r,"xaxis")}),t.config.annotations.yaxis.forEach(function(i,r){return s(i,r,"yaxis")}),t.config.annotations.points.forEach(function(i,r){return s(i,r,"point")})}},{key:"getY1Y2",value:function(e,t){var s,i=this.w,r=e==="y1"?t.y:t.y2,a=!1;if(this.annoCtx.invertAxis){var o=i.config.xaxis.convertedCatToNumeric?i.globals.categoryLabels:i.globals.labels,l=o.indexOf(r),c=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));s=c?parseFloat(c.getAttribute("y")):(i.globals.gridHeight/o.length-1)*(l+1)-i.globals.barHeight,t.seriesIndex!==void 0&&i.globals.barHeight&&(s-=i.globals.barHeight/2*(i.globals.series.length-1)-i.globals.barHeight*t.seriesIndex)}else{var h,f=i.globals.seriesYAxisMap[t.yAxisIndex][0],g=i.config.yaxis[t.yAxisIndex].logarithmic?new sn(this.annoCtx.ctx).getLogVal(i.config.yaxis[t.yAxisIndex].logBase,r,f)/i.globals.yLogRatio[f]:(r-i.globals.minYArr[f])/(i.globals.yRange[f]/i.globals.gridHeight);s=i.globals.gridHeight-Math.min(Math.max(g,0),i.globals.gridHeight),a=g>i.globals.gridHeight||g<0,!t.marker||t.y!==void 0&&t.y!==null||(s=0),(h=i.config.yaxis[t.yAxisIndex])!==null&&h!==void 0&&h.reversed&&(s=g)}return typeof r=="string"&&r.includes("px")&&(s=parseFloat(r)),{yP:s,clipped:a}}},{key:"getX1X2",value:function(e,t){var s=this.w,i=e==="x1"?t.x:t.x2,r=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,a=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,o=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(a-i)/(o/s.globals.gridWidth):(i-r)/(o/s.globals.gridWidth);return s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||s.config.chart.sparkline.enabled||(c=this.getStringX(i)),typeof i=="string"&&i.includes("px")&&(c=parseFloat(i)),i==null&&t.marker&&(c=s.globals.gridWidth),t.seriesIndex!==void 0&&s.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=s.globals.barWidth/2*(s.globals.series.length-1)-s.globals.barWidth*t.seriesIndex),typeof c!="number"&&(c=0,l=!0),parseFloat(c.toFixed(10))>parseFloat(s.globals.gridWidth.toFixed(10))?(c=s.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var t=this.w,s=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(i+1,")"));return r&&(s=parseFloat(r.getAttribute("x"))),s}}]),n}(),vte=function(){function n(e){we(this,n),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Sy(this.annoCtx)}return _e(n,[{key:"addXaxisAnnotation",value:function(e,t,s){var i,r=this.w,a=this.helpers.getX1X2("x1",e),o=a.x,l=a.clipped,c=!0,h=e.label.text,f=e.strokeDashArray;if(K.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var g=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,f,e.borderWidth);t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}else{var p=this.helpers.getX1X2("x2",e);if(i=p.x,c=p.clipped,i<o){var x=o;o=i,i=x}var v=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,i-o,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,f);v.node.classList.add("apexcharts-annotation-rect"),v.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(v.node),e.id&&v.node.classList.add(e.id)}if(!l||!c){var _=this.annoCtx.graphics.getTextRects(h,parseFloat(e.label.style.fontSize)),w=e.label.position==="top"?4:e.label.position==="center"?r.globals.gridHeight/2+(e.label.orientation==="vertical"?_.width/2:0):r.globals.gridHeight,S=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:w+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?_.width/2-12:-_.width/2:0),text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});S.attr({rel:s}),t.appendChild(S.node),this.annoCtx.helpers.setOrientations(e,s)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(i,r){e.addXaxisAnnotation(i,s.node,r)}),s}}]),n}(),Bn=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return _e(n,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var s=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(Cn(s.months)),a=[""].concat(Cn(s.shortMonths)),o=[""].concat(Cn(s.days)),l=[""].concat(Cn(s.shortDays));function c(k,M){var I=k+"";for(M=M||2;I.length<M;)I="0"+I;return I}var h=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var f=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+c(f))).replace(/(^|[^\\])M/g,"$1"+f);var g=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(g))).replace(/(^|[^\\])d/g,"$1"+g);var p=i?e.getUTCHours():e.getHours(),x=p>12?p-12:p===0?12:p;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+c(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+c(x))).replace(/(^|[^\\])h/g,"$1"+x);var v=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+c(v))).replace(/(^|[^\\])m/g,"$1"+v);var _=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+c(_))).replace(/(^|[^\\])s/g,"$1"+_);var w=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+c(w,3)),w=Math.round(w/10),t=t.replace(/(^|[^\\])ff/g,"$1"+c(w)),w=Math.round(w/10);var S=p<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+w)).replace(/(^|[^\\])TT+/g,"$1"+S)).replace(/(^|[^\\])T/g,"$1"+S.charAt(0));var A=S.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+A)).replace(/(^|[^\\])t/g,"$1"+A.charAt(0));var T=-e.getTimezoneOffset(),N=i||!T?"Z":T>0?"+":"-";if(!i){var O=(T=Math.abs(T))%60;N+=c(Math.floor(T/60))+":"+c(O)}t=t.replace(/(^|[^\\])K/g,"$1"+N);var C=(i?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[C])).replace(new RegExp(l[0],"g"),l[C])).replace(new RegExp(r[0],"g"),r[f])).replace(new RegExp(a[0],"g"),a[f])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,s){var i=this.w;i.config.xaxis.min!==void 0&&(e=i.config.xaxis.min),i.config.xaxis.max!==void 0&&(t=i.config.xaxis.max);var r=this.getDate(e),a=this.getDate(t),o=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,s){return this.determineDaysOfMonths(e,t)-s}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,s){var i=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var s=30;switch(e=K.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),n}(),sp=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return _e(n,[{key:"xLabelFormat",value:function(e,t,s,i){var r=this.w;if(r.config.xaxis.type==="datetime"&&r.config.xaxis.labels.formatter===void 0&&r.config.tooltip.x.formatter===void 0){var a=new Bn(this.ctx);return a.formatDate(a.getDate(t),r.config.tooltip.x.format)}return e(t,s,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,s){var i=this.w;if(K.isNumber(e))if(i.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:i.globals.yValueDecimal);else{var r=e.toFixed(0);e=e==r?r:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttZFormatter=function(s){return s},t.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(s){if(K.isNumber(s)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(K.isNumber(t.config.xaxis.decimalsInFloat))return s.toFixed(t.config.xaxis.decimalsInFloat);var i=t.globals.maxX-t.globals.minX;return i>0&&i<100?s.toFixed(1):s.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(s,i){s.labels.formatter!==void 0?t.globals.yLabelFormatters[i]=s.labels.formatter:t.globals.yLabelFormatters[i]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map(function(a){return e.defaultYFormatter(a,s,i)}):e.defaultYFormatter(r,s,i):r}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(s,i){return s.length>i.length?s:i},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),n}(),el=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"getLabel",value:function(e,t,s,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[i]===void 0?"":e[i],h=c,f=l.globals.xLabelFormatter,g=l.config.xaxis.labels.formatter,p=!1,x=new sp(this.ctx),v=c;o&&(h=x.xLabelFormat(f,c,v,{i,dateFormatter:new Bn(this.ctx).formatDate,w:l}),g!==void 0&&(h=g(c,e[i],{i,dateFormatter:new Bn(this.ctx).formatDate,w:l})));var _,w;t.length>0?(_=t[i].unit,w=null,t.forEach(function(N){N.unit==="month"?w="year":N.unit==="day"?w="month":N.unit==="hour"?w="day":N.unit==="minute"&&(w="hour")}),p=w===_,s=t[i].position,h=t[i].value):l.config.xaxis.type==="datetime"&&g===void 0&&(h=""),h===void 0&&(h=""),h=Array.isArray(h)?h:h.toString();var S=new le(this.ctx),A={};A=l.globals.rotateXLabels&&o?S.getTextRects(h,parseInt(a,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):S.getTextRects(h,parseInt(a,10));var T=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(h)&&(String(h)==="NaN"||r.indexOf(h)>=0&&T)&&(h=""),{x:s,text:h,textRect:A,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,s){var i=this.w,r=i.config.xaxis.tickAmount;return r==="dataPoints"&&(r=Math.round(i.globals.gridWidth/120)),r>s||e%Math.round(s/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,s,i,r){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var o=r[r.length-1];if(a.config.xaxis.labels.trim&&a.config.xaxis.type!=="datetime")return t;t.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(s){return t.collapsedSeriesIndices.indexOf(s)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,s=t.globals,i=t.config.yaxis;return s.series.length>i.length||i.some(function(r){return Array.isArray(r.seriesName)})?e:s.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,s=t.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){var i=t.globals.seriesYAxisMap[e],r=new sn(this.ctx);return i.every(function(a){return r.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,s,i,r,a,o){var l=this.w,c=new le(this.ctx),h=l.globals.translateY+l.config.yaxis[r].labels.offsetY;if(l.globals.isBarHorizontal?h=0:l.config.chart.type==="heatmap"&&(h+=a/2),i.show&&t>0){l.config.yaxis[r].opposite===!0&&(e+=i.width);for(var f=t;f>=0;f--){var g=c.drawLine(e+s.offsetX-i.width+i.offsetX,h+i.offsetY,e+s.offsetX+i.offsetX,h+i.offsetY,i.color);o.add(g),h+=a}}}}]),n}(),xte=function(){function n(e){we(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new Sy(this.annoCtx),this.axesUtils=new el(this.annoCtx)}return _e(n,[{key:"addYaxisAnnotation",value:function(e,t,s){var i,r=this.w,a=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,c=o.clipped,h=!0,f=!1,g=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){f=!0;var p=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{if(i=(o=this.helpers.getY1Y2("y2",e)).yP,h=o.clipped,i>l){var x=l;l=i,i=x}if(!c||!h){f=!0;var v=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),l-i,0,e.fillColor,e.opacity,1,e.borderColor,a);v.node.classList.add("apexcharts-annotation-rect"),v.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(v.node),e.id&&v.node.classList.add(e.id)}}if(f){var _=e.label.position==="right"?r.globals.gridWidth:e.label.position==="center"?r.globals.gridWidth/2:0,w=this.annoCtx.graphics.drawText({x:_+e.label.offsetX,y:(i??l)+e.label.offsetY-3,text:g,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});w.attr({rel:s}),t.appendChild(w.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(i,r){i.yAxisIndex=e.axesUtils.translateYAxisIndex(i.yAxisIndex),e.axesUtils.isYAxisHidden(i.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(i.yAxisIndex)||e.addYaxisAnnotation(i,s.node,r)}),s}}]),n}(),yte=function(){function n(e){we(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new Sy(this.annoCtx)}return _e(n,[{key:"addPointAnnotation",value:function(e,t,s){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var i=this.helpers.getX1X2("x1",e),r=i.x,a=i.clipped,o=(i=this.helpers.getY1Y2("y1",e)).yP,l=i.clipped;if(K.isNumber(r)&&!l&&!a){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},h=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,o+e.marker.offsetY,c);t.appendChild(h.node);var f=e.label.text?e.label.text:"",g=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(g.attr({rel:s}),t.appendChild(g.node),e.customSVG.SVG){var p=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});p.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),p.node.innerHTML=e.customSVG.SVG,t.appendChild(p.node)}if(e.image.path){var x=e.image.width?e.image.width:20,v=e.image.height?e.image.height:20;h=this.annoCtx.addImage({x:r+e.image.offsetX-x/2,y:o+e.image.offsetY-v/2,width:x,height:v,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&h.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&h.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&h.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(i,r){e.addPointAnnotation(i,s.node,r)}),s}}]),n}(),C4={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Ll=function(){function n(){we(this,n),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return _e(n,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[C4],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,s){return t+s},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,s){return t+s},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),n}(),bte=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.graphics=new le(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Sy(this),this.xAxisAnnotations=new vte(this),this.yAxisAnnotations=new xte(this),this.pointsAnnotations=new yte(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return _e(n,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,a=[t,s,i],o=[s.node,t.node,i.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(a[l]),!r||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,s){e.addImage(t,s)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,s){e.addText(t,s)})}},{key:"addXaxisAnnotation",value:function(e,t,s){this.xAxisAnnotations.addXaxisAnnotation(e,t,s)}},{key:"addYaxisAnnotation",value:function(e,t,s){this.yAxisAnnotations.addYaxisAnnotation(e,t,s)}},{key:"addPointAnnotation",value:function(e,t,s){this.pointsAnnotations.addPointAnnotation(e,t,s)}},{key:"addText",value:function(e,t){var s=e.x,i=e.y,r=e.text,a=e.textAnchor,o=e.foreColor,l=e.fontSize,c=e.fontFamily,h=e.fontWeight,f=e.cssClass,g=e.backgroundColor,p=e.borderWidth,x=e.strokeDashArray,v=e.borderRadius,_=e.borderColor,w=e.appendTo,S=w===void 0?".apexcharts-svg":w,A=e.paddingLeft,T=A===void 0?4:A,N=e.paddingRight,O=N===void 0?4:N,C=e.paddingBottom,k=C===void 0?2:C,M=e.paddingTop,I=M===void 0?2:M,D=this.w,F=this.graphics.drawText({x:s,y:i,text:r,textAnchor:a||"start",fontSize:l||"12px",fontWeight:h||"regular",fontFamily:c||D.config.chart.fontFamily,foreColor:o||D.config.chart.foreColor,cssClass:f}),V=D.globals.dom.baseEl.querySelector(S);V&&V.appendChild(F.node);var G=F.bbox();if(r){var J=this.graphics.drawRect(G.x-T,G.y-I,G.width+T+O,G.height+k+I,v,g||"transparent",1,p,_,x);V.insertBefore(J.node,F.node)}}},{key:"addImage",value:function(e,t){var s=this.w,i=e.path,r=e.x,a=r===void 0?0:r,o=e.y,l=o===void 0?0:o,c=e.width,h=c===void 0?20:c,f=e.height,g=f===void 0?20:f,p=e.appendTo,x=p===void 0?".apexcharts-svg":p,v=s.globals.dom.Paper.image(i);v.size(h,g).move(a,l);var _=s.globals.dom.baseEl.querySelector(x);return _&&_.appendChild(v.node),v}},{key:"addXaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,t,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var t=e.params,s=e.pushToMemory,i=e.context,r=e.type,a=e.contextMethod,o=i,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),h=c.childNodes.length+1,f=new Ll,g=Object.assign({},r==="xaxis"?f.xAxisAnnotation:r==="yaxis"?f.yAxisAnnotation:f.pointAnnotation),p=K.extend(g,t);switch(r){case"xaxis":this.addXaxisAnnotation(p,c,h);break;case"yaxis":this.addYaxisAnnotation(p,c,h);break;case"point":this.addPointAnnotation(p,c,h)}var x=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(h,"']")),v=this.helpers.addBackgroundToAnno(x,p);return v&&c.insertBefore(v.node,x),s&&l.globals.memory.methodsToExec.push({context:o,id:p.id?p.id:K.randomId(),method:a,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){for(var t=e.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),i=t.globals.memory.methodsToExec.length-1;i>=0;i--)t.globals.memory.methodsToExec[i].label!=="addText"&&t.globals.memory.methodsToExec[i].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(i,1);s=K.listToArray(s),Array.prototype.forEach.call(s,function(r){for(;r.firstChild;)r.removeChild(r.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var s=e.w,i=s.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(s.globals.memory.methodsToExec.map(function(r,a){r.id===t&&s.globals.memory.methodsToExec.splice(a,1)}),Object.keys(s.config.annotations).forEach(function(r){var a=s.config.annotations[r];Array.isArray(a)&&(s.config.annotations[r]=a.filter(function(o){return o.id!==t}))}),Array.prototype.forEach.call(i,function(r){r.parentElement.removeChild(r)}))}}]),n}(),g0=function(n){var e,t=n.isTimeline,s=n.ctx,i=n.seriesIndex,r=n.dataPointIndex,a=n.y1,o=n.y2,l=n.w,c=l.globals.seriesRangeStart[i][r],h=l.globals.seriesRangeEnd[i][r],f=l.globals.labels[r],g=l.config.series[i].name?l.config.series[i].name:"",p=l.globals.ttKeyFormatter,x=l.config.tooltip.y.title.formatter,v={w:l,seriesIndex:i,dataPointIndex:r,start:c,end:h};typeof x=="function"&&(g=x(g,v)),(e=l.config.series[i].data[r])!==null&&e!==void 0&&e.x&&(f=l.config.series[i].data[r].x),t||l.config.xaxis.type==="datetime"&&(f=new sp(s).xLabelFormat(l.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new Bn(s).formatDate,w:l})),typeof p=="function"&&(f=p(f,v)),Number.isFinite(a)&&Number.isFinite(o)&&(c=a,h=o);var _="",w="",S=l.globals.colors[i];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var A=new Bn(s);_=A.formatDate(A.getDate(c),l.config.tooltip.x.format),w=A.formatDate(A.getDate(h),l.config.tooltip.x.format)}else _=c,w=h;else _=l.config.tooltip.x.formatter(c),w=l.config.tooltip.x.formatter(h);return{start:c,end:h,startVal:_,endVal:w,ylabel:f,color:S,seriesName:g}},p0=function(n){var e=n.color,t=n.seriesName,s=n.ylabel,i=n.start,r=n.end,a=n.seriesIndex,o=n.dataPointIndex,l=n.ctx.tooltip.tooltipLabels.getFormatters(a);i=l.yLbFormatter(i),r=l.yLbFormatter(r);var c=l.yLbFormatter(n.w.globals.series[a][o]),h=`<span class="value start-value">
  `.concat(i,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(r,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+s+": </span> "+(n.w.globals.comboCharts?n.w.config.series[a].type==="rangeArea"||n.w.config.series[a].type==="rangeBar"?h:"<span>".concat(c,"</span>"):h)+" </div></div>"},dg=function(){function n(e){we(this,n),this.opts=e}return _e(n,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),K.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var s=t.w.config.series[t.seriesIndex].name;return e!==null?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),me(me({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,s,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,s,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var s=t.seriesIndex,i=t.dataPointIndex,r=t.w,a=function(){var o=r.globals.seriesRangeStart[s][i];return r.globals.seriesRangeEnd[s][i]-o};return r.globals.comboCharts?r.config.series[s].type==="rangeBar"||r.config.series[s].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var s=g0(me(me({},t),{},{isTimeline:!0})),i=s.color,r=s.seriesName,a=s.ylabel,o=s.startVal,l=s.endVal;return p0(me(me({},t),{},{color:i,seriesName:r,ylabel:a,start:o,end:l}))}(e):function(t){var s=g0(t),i=s.color,r=s.seriesName,a=s.ylabel,o=s.start,l=s.end;return p0(me(me({},t),{},{color:i,seriesName:r,ylabel:a,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,s;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(s=e.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var s=g0(t),i=s.color,r=s.seriesName,a=s.ylabel,o=s.start,l=s.end;return p0(me(me({},t),{},{color:i,seriesName:r,ylabel:a,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return K.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(s,i){e.yaxis[i].min=0,e.yaxis[i].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return me(me({},e),{},{plotOptions:me(me({},e.plotOptions),{},{bar:me(me({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return K.isNumber(a)?Math.floor(a):a};var i=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(r=s.map(function(a){return Array.isArray(a)?a:String(a)})),r&&r.length&&(e.xaxis.labels.formatter=function(a){return K.isNumber(a)?i(r[Math.floor(a)-1]):i(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,s,i,r){var a=e.globals.seriesCandleO[t][s],o=e.globals.seriesCandleH[t][s],l=e.globals.seriesCandleM[t][s],c=e.globals.seriesCandleL[t][s],h=e.globals.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==r?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(i[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+h+"</span></div></div>"}}]),n}(),fg=function(){function n(e){we(this,n),this.opts=e}return _e(n,[{key:"init",value:function(e){var t=e.responsiveOverride,s=this.opts,i=new Ll,r=new dg(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var a=i.init(),o={};if(s&&us(s)==="object"){var l,c,h,f,g,p,x,v,_,w,S={};S=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?r[s.chart.type]():r.line(),(l=s.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(S=r.funnel()),s.chart.stacked&&s.chart.type==="bar"&&(S=r.stackedBars()),(h=s.chart.brush)!==null&&h!==void 0&&h.enabled&&(S=r.brush(S)),(f=s.plotOptions)!==null&&f!==void 0&&(g=f.line)!==null&&g!==void 0&&g.isSlopeChart&&(S=r.slope()),s.chart.stacked&&s.chart.stackType==="100%"&&(s=r.stacked100(s)),(p=s.plotOptions)!==null&&p!==void 0&&(x=p.bar)!==null&&x!==void 0&&x.isDumbbell&&(s=r.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},t||(s.xaxis.convertedCatToNumeric=!1),((v=(s=this.checkForCatToNumericXAxis(this.chartType,S,s)).chart.sparkline)!==null&&v!==void 0&&v.enabled||(_=window.Apex.chart)!==null&&_!==void 0&&(w=_.sparkline)!==null&&w!==void 0&&w.enabled)&&(S=r.sparkline(S)),o=K.extend(a,S)}var A=K.extend(o,window.Apex);return a=K.extend(A,s),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,s){var i,r,a=new dg(s),o=(e==="bar"||e==="boxPlot")&&((i=s.plotOptions)===null||i===void 0||(r=i.bar)===null||r===void 0?void 0:r.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",h=s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||l||!c||h==="between"||(s=a.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,t){var s=new Ll;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=K.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[K.extend(s.yAxis,e.yaxis)]:e.yaxis=K.extendArray(e.yaxis,s.yAxis);var i=!1;e.yaxis.forEach(function(a){a.logarithmic&&(i=!0)});var r=e.series;return t&&!r&&(r=t.config.series),i&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map(function(a,o){if(a.name||(r[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=r[o].name,e.yaxis[o];var l=K.extend(s.yAxis,e.yaxis[0]);return l.show=!1,l})),i&&r.length>1&&r.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Ll;return e.annotations.yaxis=K.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Ll;return e.annotations.xaxis=K.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Ll;return e.annotations.points=K.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),n}(),T4=function(){function n(){we(this,n)}return _e(n,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=K.extend({},e),t.initialSeries=K.clone(e.series),t.lastXAxis=K.clone(t.initialConfig.xaxis),t.lastYAxis=K.clone(t.initialConfig.yaxis),t}}]),n}(),wte=function(){function n(e){we(this,n),this.opts=e}return _e(n,[{key:"init",value:function(){var e=new fg(this.opts).init({responsiveOverride:!1});return{config:e,globals:new T4().init(e)}}}]),n}(),cr=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return _e(n,[{key:"clippedImgArea",value:function(e){var t=this.w,s=t.config,i=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),a=i>r?i:r,o=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(l=s.fill.image.width+1,c=s.fill.image.height):(l=a+1,c=a):(l=e.width,c=e.height);var h=document.createElementNS(t.globals.SVGNS,"pattern");le.setAttrs(h,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var f=document.createElementNS(t.globals.SVGNS,"image");h.appendChild(f),f.setAttributeNS(window.SVG.xlink,"href",o),le.setAttrs(f,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),f.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(h)}},{key:"getSeriesIndex",value:function(e){var t=this.w,s=t.config.chart.type;return(s==="bar"||s==="rangeBar")&&t.config.plotOptions.bar.distributed||s==="heatmap"||s==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var s,i=this.w,r=null,a=null,o=Gd(e);try{for(o.s();!(s=o.n()).done;){var l=s.value;l>=t.threshold?(r===null||l>r)&&(r=l):(a===null||l<a)&&(a=l)}}catch(f){o.e(f)}finally{o.f()}r===null&&(r=t.threshold),a===null&&(a=t.threshold);var c=r-t.threshold+(t.threshold-a);c===0&&(c=1);var h=100-(t.threshold-a)/c*100;return[{offset:h=Math.max(0,Math.min(h,100)),color:t.colorAboveThreshold,opacity:i.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:i.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,s,i,r=this.w;this.opts=e;var a,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var h=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,f=this.getFillColors()[this.seriesIndex];r.globals.seriesColors[this.seriesIndex]!==void 0&&(f=r.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:r}));var g,p,x,v=e.fillType?e.fillType:this.getFillType(this.seriesIndex),_=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,w=v==="gradient"||h;e.color&&(f=e.color),(t=r.config.series[this.seriesIndex])!==null&&t!==void 0&&(s=t.data)!==null&&s!==void 0&&(i=s[e.dataPointIndex])!==null&&i!==void 0&&i.fillColor&&(f=(g=r.config.series[this.seriesIndex])===null||g===void 0||(p=g.data)===null||p===void 0||(x=p[e.dataPointIndex])===null||x===void 0?void 0:x.fillColor),f||(f="#fff",console.warn("undefined color - ApexCharts"));var S=f;if(f.indexOf("rgb")===-1?f.indexOf("#")===-1?S=f:f.length<9&&(S=K.hexToRgba(f,_)):f.indexOf("rgba")>-1?_=K.getOpacityFromRGBA(f):S=K.hexToRgba(K.rgb2hex(f),_),e.opacity&&(_=e.opacity),v==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:f,fillOpacity:_,defaultColor:S})),w){var A=Cn(c.fill.gradient.colorStops)||[],T=c.fill.gradient.type;h&&(A[this.seriesIndex]=this.computeColorStops(r.globals.series[this.seriesIndex],c.plotOptions.line.colors),T="vertical"),l=this.handleGradientFill({type:T,fillConfig:e.fillConfig,fillColor:f,fillOpacity:_,colorStops:A,i:this.seriesIndex})}if(v==="image"){var N=c.fill.image.src,O=e.patternID?e.patternID:"",C="pattern".concat(r.globals.cuid).concat(e.seriesNumber+1).concat(O);this.patternIDs.indexOf(C)===-1&&(this.clippedImgArea({opacity:_,image:Array.isArray(N)?e.seriesNumber<N.length?N[e.seriesNumber]:N[0]:N,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:C}),this.patternIDs.push(C)),a="url(#".concat(C,")")}else a=w?l:v==="pattern"?o:S;return e.solid&&(a=S),a}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,s=this.opts,i=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),s.fillColors!==void 0&&(i=[],Array.isArray(s.fillColors)?i=s.fillColors.slice():i.push(s.fillColors)),i}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,s=e.patternFill,i=e.fillColor,r=e.fillOpacity,a=e.defaultColor,o=this.w.config.fill;t&&(o=t);var l=this.opts,c=new le(this.ctx),h=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,f=i;return Array.isArray(o.pattern.style)?s=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,f,h,r):a:s=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,f,h,r),s}},{key:"handleGradientFill",value:function(e){var t=e.type,s=e.fillColor,i=e.fillOpacity,r=e.fillConfig,a=e.colorStops,o=e.i,l=this.w.config.fill;r&&(l=me(me({},l),r));var c=this.opts,h=new le(this.ctx),f=new K;t=t||l.gradient.type;var g,p=s,x=l.gradient.opacityFrom===void 0?i:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;p.indexOf("rgba")>-1&&(x=K.getOpacityFromRGBA(p));var v=l.gradient.opacityTo===void 0?i:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)g=l.gradient.shade==="dark"?f.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),s.indexOf("rgb")>-1?K.rgb2hex(s):s):f.shadeColor(parseFloat(l.gradient.shadeIntensity),s.indexOf("rgb")>-1?K.rgb2hex(s):s);else if(l.gradient.gradientToColors[c.seriesNumber]){var _=l.gradient.gradientToColors[c.seriesNumber];g=_,_.indexOf("rgba")>-1&&(v=K.getOpacityFromRGBA(_))}else g=s;if(l.gradient.gradientFrom&&(p=l.gradient.gradientFrom),l.gradient.gradientTo&&(g=l.gradient.gradientTo),l.gradient.inverseColors){var w=p;p=g,g=w}return p.indexOf("rgb")>-1&&(p=K.rgb2hex(p)),g.indexOf("rgb")>-1&&(g=K.rgb2hex(g)),h.drawGradient(t,p,g,x,v,c.size,l.gradient.stops,a,o)}}]),n}(),Zh=function(){function n(e,t){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(s){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,s=e.seriesIndex,i=e.j,r=e.pSize,a=e.alwaysDrawMarker,o=a!==void 0&&a,l=e.isVirtualPoint,c=l!==void 0&&l,h=this.w,f=s,g=t,p=null,x=new le(this.ctx),v=h.config.markers.discrete&&h.config.markers.discrete.length;if(Array.isArray(g.x))for(var _=0;_<g.x.length;_++){var w=void 0,S=i,A=!K.isNumber(g.y[_]);h.globals.markers.largestSize===0&&h.globals.hasNullValues&&h.globals.series[f][i+1]!==null&&!c&&(A=!0),i===1&&_===0&&(S=0),i===1&&_===1&&(S=1);var T="apexcharts-marker";if(h.config.chart.type!=="line"&&h.config.chart.type!=="area"||h.globals.comboCharts||h.config.tooltip.intersect||(T+=" no-pointer-events"),(Array.isArray(h.config.markers.size)?h.globals.markers.size[s]>0:h.config.markers.size>0)||o||v){A||(T+=" w".concat(K.randomId()));var N=this.getMarkerConfig({cssClass:T,seriesIndex:s,dataPointIndex:S});h.config.series[f].data[S]&&(h.config.series[f].data[S].fillColor&&(N.pointFillColor=h.config.series[f].data[S].fillColor),h.config.series[f].data[S].strokeColor&&(N.pointStrokeColor=h.config.series[f].data[S].strokeColor)),r!==void 0&&(N.pSize=r),(g.x[_]<-h.globals.markers.largestSize||g.x[_]>h.globals.gridWidth+h.globals.markers.largestSize||g.y[_]<-h.globals.markers.largestSize||g.y[_]>h.globals.gridHeight+h.globals.markers.largestSize)&&(N.pSize=0),!A&&((h.globals.markers.size[s]>0||o||v)&&!p&&(p=x.group({class:o||v?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),(w=x.drawMarker(g.x[_],g.y[_],N)).attr("rel",S),w.attr("j",S),w.attr("index",s),w.node.setAttribute("default-marker-size",N.pSize),new Wn(this.ctx).setSelectionFilter(w,s,S),this.addEvents(w),p&&p.add(w))}else h.globals.pointsArray[s]===void 0&&(h.globals.pointsArray[s]=[]),h.globals.pointsArray[s].push([g.x[_],g.y[_]])}return p}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,s=e.seriesIndex,i=e.dataPointIndex,r=i===void 0?null:i,a=e.radius,o=a===void 0?null:a,l=e.size,c=l===void 0?null:l,h=e.strokeWidth,f=h===void 0?null:h,g=this.w,p=this.getMarkerStyle(s),x=c===null?g.globals.markers.size[s]:c,v=g.config.markers;return r!==null&&v.discrete.length&&v.discrete.map(function(_){_.seriesIndex===s&&_.dataPointIndex===r&&(p.pointStrokeColor=_.strokeColor,p.pointFillColor=_.fillColor,x=_.size,p.pointShape=_.shape)}),{pSize:o===null?x:o,pRadius:o!==null?o:v.radius,pointStrokeWidth:f!==null?f:Array.isArray(v.strokeWidth)?v.strokeWidth[s]:v.strokeWidth,pointStrokeColor:p.pointStrokeColor,pointFillColor:p.pointFillColor,shape:p.pointShape||(Array.isArray(v.shape)?v.shape[s]:v.shape),class:t,pointStrokeOpacity:Array.isArray(v.strokeOpacity)?v.strokeOpacity[s]:v.strokeOpacity,pointStrokeDashArray:Array.isArray(v.strokeDashArray)?v.strokeDashArray[s]:v.strokeDashArray,pointFillOpacity:Array.isArray(v.fillOpacity)?v.fillOpacity[s]:v.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var t=this.w,s=new le(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,s=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(s)?s[e]:s}}}]),n}(),E4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return _e(n,[{key:"draw",value:function(e,t,s){var i=this.w,r=new le(this.ctx),a=s.realIndex,o=s.pointsPos,l=s.zRatio,c=s.elParent,h=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(h.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(o.x))for(var f=0;f<o.x.length;f++){var g=t+1,p=!0;t===0&&f===0&&(g=0),t===0&&f===1&&(g=1);var x=i.globals.markers.size[a];if(l!==1/0){var v=i.config.plotOptions.bubble;x=i.globals.seriesZ[a][g],v.zScaling&&(x/=l),v.minBubbleRadius&&x<v.minBubbleRadius&&(x=v.minBubbleRadius),v.maxBubbleRadius&&x>v.maxBubbleRadius&&(x=v.maxBubbleRadius)}var _=o.x[f],w=o.y[f];if(x=x||0,w!==null&&i.globals.series[a][g]!==void 0||(p=!1),p){var S=this.drawPoint(_,w,x,a,g,t);h.add(S)}c.add(h)}}},{key:"drawPoint",value:function(e,t,s,i,r,a){var o=this.w,l=i,c=new Xh(this.ctx),h=new Wn(this.ctx),f=new cr(this.ctx),g=new Zh(this.ctx),p=new le(this.ctx),x=g.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:r,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[i]&&o.config.series[i].type==="bubble"?s:null}),v=f.fillPath({seriesNumber:i,dataPointIndex:r,color:x.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[i][a]}),_=p.drawMarker(e,t,x);if(o.config.series[l].data[r]&&o.config.series[l].data[r].fillColor&&(v=o.config.series[l].data[r].fillColor),_.attr({fill:v}),o.config.chart.dropShadow.enabled){var w=o.config.chart.dropShadow;h.dropShadow(_,w,i)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var S=o.config.chart.animations.speed;c.animateMarker(_,S,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(_)},100)})}return _.attr({rel:r,j:r,index:i,"default-marker-size":x.pSize}),h.setSelectionFilter(_,i,r),g.addEvents(_),_.node.classList.add("apexcharts-marker"),_}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),n}(),Sh=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"dataLabelsCorrection",value:function(e,t,s,i,r,a,o){var l=this.w,c=!1,h=new le(this.ctx).getTextRects(s,o),f=h.width,g=h.height;t<0&&(t=0),t>l.globals.gridHeight+g&&(t=l.globals.gridHeight+g/2),l.globals.dataLabelsRects[i]===void 0&&(l.globals.dataLabelsRects[i]=[]),l.globals.dataLabelsRects[i].push({x:e,y:t,width:f,height:g});var p=l.globals.dataLabelsRects[i].length-2,x=l.globals.lastDrawnDataLabelsIndexes[i]!==void 0?l.globals.lastDrawnDataLabelsIndexes[i][l.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(l.globals.dataLabelsRects[i][p]!==void 0){var v=l.globals.dataLabelsRects[i][x];(e>v.x+v.width||t>v.y+v.height||t+g<v.y||e+f<v.x)&&(c=!0)}return(r===0||a)&&(c=!0),{x:e,y:t,textRects:h,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var t=this,s=e.type,i=e.pos,r=e.i,a=e.j,o=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,h=this.w,f=new le(this.ctx),g=h.config.dataLabels,p=0,x=0,v=a,_=null;if(h.globals.collapsedSeriesIndices.indexOf(r)!==-1||!g.enabled||!Array.isArray(i.x))return _;_=f.group({class:"apexcharts-data-labels"});for(var w=0;w<i.x.length;w++)if(p=i.x[w]+g.offsetX,x=i.y[w]+g.offsetY+c,!isNaN(p)){a===1&&w===0&&(v=0),a===1&&w===1&&(v=1);var S=h.globals.series[r][v];s==="rangeArea"&&(S=o?h.globals.seriesRangeStart[r][v]:h.globals.seriesRangeEnd[r][v]);var A="",T=function(O){return h.config.dataLabels.formatter(O,{ctx:t.ctx,seriesIndex:r,dataPointIndex:v,w:h})};h.config.chart.type==="bubble"?(A=T(S=h.globals.seriesZ[r][v]),x=i.y[w],x=new E4(this.ctx).centerTextInBubble(x,r,v).y):S!==void 0&&(A=T(S));var N=h.config.dataLabels.textAnchor;h.globals.isSlopeChart&&(N=v===0?"end":v===h.config.series[r].data.length-1?"start":"middle"),this.plotDataLabelsText({x:p,y:x,text:A,i:r,j:v,parent:_,offsetCorrection:!0,dataLabelsConfig:h.config.dataLabels,textAnchor:N})}return _}},{key:"plotDataLabelsText",value:function(e){var t=this.w,s=new le(this.ctx),i=e.x,r=e.y,a=e.i,o=e.j,l=e.text,c=e.textAnchor,h=e.fontSize,f=e.parent,g=e.dataLabelsConfig,p=e.color,x=e.alwaysDrawDataLabel,v=e.offsetCorrection,_=e.className,w=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)return w;var S={x:i,y:r,drawnextLabel:!0,textRects:null};v&&(S=this.dataLabelsCorrection(i,r,l,a,o,x,parseInt(g.style.fontSize,10))),t.globals.zoomed||(i=S.x,r=S.y),S.textRects&&(i<-20-S.textRects.width||i>t.globals.gridWidth+S.textRects.width+30)&&(l="");var A=t.globals.dataLabels.style.colors[a];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(A=t.globals.dataLabels.style.colors[o]),typeof A=="function"&&(A=A({series:t.globals.series,seriesIndex:a,dataPointIndex:o,w:t})),p&&(A=p);var T=g.offsetX,N=g.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(T=0,N=0),t.globals.isSlopeChart&&(o!==0&&(T=-2*g.offsetX+5),o!==0&&o!==t.config.series[a].data.length-1&&(T=0)),S.drawnextLabel){if(c==="middle"&&i===t.globals.gridWidth&&(c="end"),(w=s.drawText({width:100,height:parseInt(g.style.fontSize,10),x:i+T,y:r+N,foreColor:A,textAnchor:c||g.textAnchor,text:l,fontSize:h||g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight||"normal"})).attr({class:_||"apexcharts-datalabel",cx:i,cy:r}),g.dropShadow.enabled){var O=g.dropShadow;new Wn(this.ctx).dropShadow(w,O)}f.add(w),t.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(o)}return w}},{key:"addBackgroundToDataLabel",value:function(e,t){var s=this.w,i=s.config.dataLabels.background,r=i.padding,a=i.padding/2,o=t.width,l=t.height,c=new le(this.ctx).drawRect(t.x-r,t.y-a/2,o+2*r,l+a,i.borderRadius,s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new Wn(this.ctx).dropShadow(c,i.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<t.length;s++){var i=t[s],r=i.getBBox(),a=null;if(r.width&&r.height&&(a=this.addBackgroundToDataLabel(i,r)),a){i.parentNode.insertBefore(a.node,i);var o=e.config.dataLabels.background.backgroundColor||i.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:o}):a.attr({fill:o}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)s&&s.insertBefore(t[i],s.nextSibling)}}]),n}(),k4=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,Fi=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return _e(n,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(K.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,t){var s=this.w;function i(r){for(var a=0;a<r.length;a++)r[a].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(s.globals.collapsedSeries),i(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w,r=K.clone(i.globals.initialSeries);i.globals.previousPaths=[],s?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),i.config.series=r,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,s=this.getSeriesByName(e),i=parseInt(s?.getAttribute("data:realIndex"),10),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,o=null,l=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){a=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),o=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"));var c=t.globals.seriesYAxisReverseMap[i];l=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']"));else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var h=0;h<r.length;h++)r[h].classList.add(this.legendInactiveClass);if(a)t.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var f=0;f<r.length;f++)r[f].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var s=this.w;t||(t=e.target);var i=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var r=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(s.globals.seriesNames[r])}else if(e.type==="mouseout")for(var a=0;a<i.length;a++)i[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var s=this,i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(c){for(var h=0;h<r.length;h++)r[h].classList[c](s.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;a("add");var l=i.config.plotOptions.heatmap.colorScale.ranges;(function(c,h){for(var f=0;f<r.length;f++){var g=Number(r[f].getAttribute("val"));g>=c.from&&(g<c.to||c.to===h&&g===h)&&r[f].classList.remove(s.legendInactiveClass)}})(l[o],l.reduce(function(c,h){return Math.max(c,h.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,i=0;if(s.config.series.length>1){for(var r=s.config.series.map(function(o,l){return o.data&&o.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!s.globals.comboCharts||t.length===0||t.length&&t.indexOf(s.config.series[l].type)>-1)?l:-1}),a=e==="asc"?0:r.length-1;e==="asc"?a<r.length:a>=0;e==="asc"?a++:a--)if(r[a]!==-1){i=r[a];break}}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(a,o,l){for(var c=a[o].childNodes,h={type:l,paths:[],realIndex:a[o].getAttribute("data:realIndex")},f=0;f<c.length;f++)if(c[f].hasAttribute("pathTo")){var g=c[f].getAttribute("pathTo");h.paths.push({d:g})}e.globals.previousPaths.push(h)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var o,l=(o=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)t(l,c,a)});var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var i=function(a){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),l=[],c=function(f){var g=function(x){return o[f].getAttribute(x)},p={x:parseFloat(g("x")),y:parseFloat(g("y")),width:parseFloat(g("width")),height:parseFloat(g("height"))};l.push({rect:p,color:o[f].getAttribute("color")})},h=0;h<o.length;h++)c(h);e.globals.previousPaths.push(l)},r=0;r<s.length;r++)i(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,s=new le(this.ctx),i=e.globals.svgWidth/2,r=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(i=10,a="start"):t.align==="right"&&(i=e.globals.svgWidth-10,a="end"),t.verticalAlign==="top"?r=50:t.verticalAlign==="bottom"&&(r=e.globals.svgHeight-50),i+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var o=s.drawText({x:i,y:r,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,s=0;s<e.length;s++)if(e[s].length===0)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,s=this.filteredSeriesX(),i=0;i<s.length-1;i++)if(s[i][0]!==s[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),n}(),YA=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new sn(this.ctx)}return _e(n,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Fi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Fi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var s=this.w.config,i=this.w.globals,r=s.chart.type==="boxPlot"||s.series[t].type==="boxPlot",a=0;a<e[t].data.length;a++)if(e[t].data[a][1]!==void 0&&(Array.isArray(e[t].data[a][1])&&e[t].data[a][1].length===4&&!r?this.twoDSeries.push(K.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(K.parseNumber(e[t].data[a][4])):this.twoDSeries.push(K.parseNumber(e[t].data[a][1])),i.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var o=new Date(e[t].data[a][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var l=0;l<e[t].data.length;l++)e[t].data[l][2]!==void 0&&(this.threeDSeries.push(e[t].data[l][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var s=this.w.config,i=this.w.globals,r=new Bn(this.ctx),a=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)e[t].data[o].y!==void 0&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(K.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(K.parseNumber(e[t].data[o].y))),e[t].data[o].goals!==void 0&&Array.isArray(e[t].data[o].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<e[a].data.length;l++){var c=typeof e[a].data[l].x=="string",h=Array.isArray(e[a].data[l].x),f=!h&&!!r.isValidDate(e[a].data[l].x);if(c||f)if(c||s.xaxis.convertedCatToNumeric){var g=i.isBarHorizontal&&i.isRangeData;s.xaxis.type!=="datetime"||g?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x),isNaN(e[a].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[l].x=="string"||(i.isXNumeric=!0)):this.twoDSeriesX.push(r.parseDate(e[a].data[l].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(r.parseDate(e[a].data[l].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[l].x)));else h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[l].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var p=0;p<e[t].data.length;p++)this.threeDSeries.push(e[t].data[p].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var s=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),s.seriesRangeStart[t]=i.start===void 0?[]:i.start,s.seriesRangeEnd[t]=i.end===void 0?[]:i.end,s.seriesRange[t]=i.rangeUniques,s.seriesRange.forEach(function(r,a){r&&r.forEach(function(o,l){o.y.forEach(function(c,h){for(var f=0;f<o.y.length;f++)if(h!==f){var g=c.y1,p=c.y2,x=o.y[f].y1;g<=o.y[f].y2&&x<=p&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[f].rangeName)<0&&o.overlaps.push(o.y[f].rangeName))}})})}),i}},{key:"handleCandleStickBoxData",value:function(e,t){var s=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),s.seriesCandleO[t]=i.o,s.seriesCandleH[t]=i.h,s.seriesCandleM[t]=i.m,s.seriesCandleL[t]=i.l,s.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,s){var i=[],r=[],a=t[s].data.filter(function(h,f,g){return f===g.findIndex(function(p){return p.x===h.x})}).map(function(h,f){return{x:h.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<t[s].data.length;o++)Array.isArray(t[s].data[o])?(i.push(t[s].data[o][1][0]),r.push(t[s].data[o][1][1])):(i.push(t[s].data[o]),r.push(t[s].data[o]));else if(e==="xy")for(var l=function(h){var f=Array.isArray(t[s].data[h].y),g=K.randomId(),p=t[s].data[h].x,x={y1:f?t[s].data[h].y[0]:t[s].data[h].y,y2:f?t[s].data[h].y[1]:t[s].data[h].y,rangeName:g};t[s].data[h].rangeName=g;var v=a.findIndex(function(_){return _.x===p});a[v].y.push(x),i.push(x.y1),r.push(x.y2)},c=0;c<t[s].data.length;c++)l(c);return{start:i,end:r,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,s){var i=this.w,r=i.config.chart.type==="boxPlot"||i.config.series[s].type==="boxPlot",a=[],o=[],l=[],c=[],h=[];if(e==="array")if(r&&t[s].data[0].length===6||!r&&t[s].data[0].length===5)for(var f=0;f<t[s].data.length;f++)a.push(t[s].data[f][1]),o.push(t[s].data[f][2]),r?(l.push(t[s].data[f][3]),c.push(t[s].data[f][4]),h.push(t[s].data[f][5])):(c.push(t[s].data[f][3]),h.push(t[s].data[f][4]));else for(var g=0;g<t[s].data.length;g++)Array.isArray(t[s].data[g][1])&&(a.push(t[s].data[g][1][0]),o.push(t[s].data[g][1][1]),r?(l.push(t[s].data[g][1][2]),c.push(t[s].data[g][1][3]),h.push(t[s].data[g][1][4])):(c.push(t[s].data[g][1][2]),h.push(t[s].data[g][1][3])));else if(e==="xy")for(var p=0;p<t[s].data.length;p++)Array.isArray(t[s].data[p].y)&&(a.push(t[s].data[p].y[0]),o.push(t[s].data[p].y[1]),r?(l.push(t[s].data[p].y[2]),c.push(t[s].data[p].y[3]),h.push(t[s].data[p].y[4])):(c.push(t[s].data[p].y[2]),h.push(t[s].data[p].y[3])));return{o:a,h:o,m:l,l:c,c:h}}},{key:"parseDataAxisCharts",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,i=this.w.config,r=this.w.globals,a=new Bn(s),o=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();r.isRangeBar=i.chart.type==="rangeBar"&&r.isBarHorizontal,r.hasXaxisGroups=i.xaxis.type==="category"&&i.xaxis.group.groups.length>0,r.hasXaxisGroups&&(r.groups=i.xaxis.group.groups),e.forEach(function(p,x){p.name!==void 0?r.seriesNames.push(p.name):r.seriesNames.push("series-"+parseInt(x+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Cn(new Set(i.series.map(function(p){return p.group})));i.series.forEach(function(p,x){var v=c.indexOf(p.group);l[v]||(l[v]=[]),l[v].push(r.seriesNames[x])}),r.seriesGroups=l;for(var h=function(){for(var p=0;p<o.length;p++)if(typeof o[p]=="string"){if(!a.isValidDate(o[p]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(a.parseDate(o[p]))}else t.twoDSeriesX.push(o[p])},f=0;f<e.length;f++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[f].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"&&e[f].type!=="rangeBar"&&e[f].type!=="rangeArea"||(r.isRangeData=!0,this.handleRangeData(e,f)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,f):this.isFormatXY()&&this.handleFormatXY(e,f),i.chart.type!=="candlestick"&&e[f].type!=="candlestick"&&i.chart.type!=="boxPlot"&&e[f].type!=="boxPlot"||this.handleCandleStickBoxData(e,f),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,f!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{i.xaxis.type==="datetime"?(r.isXNumeric=!0,h(),r.seriesX.push(this.twoDSeriesX)):i.xaxis.type==="numeric"&&(r.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var g=e[f].data.map(function(p){return K.parseNumber(p)});r.series.push(g)}r.seriesZ.push(this.threeDSeries),e[f].color!==void 0?r.seriesColors.push(e[f].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,s=this.w.config,i=Array.isArray(e)&&e.every(function(h){return typeof h=="number"})&&s.labels.length>0,r=Array.isArray(e)&&e.some(function(h){return h&&us(h)==="object"&&h.data||h&&us(h)==="object"&&h.parsing});if(i&&r&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),i){t.series=e.slice(),t.seriesNames=s.labels.slice();for(var a=0;a<t.series.length;a++)t.seriesNames[a]===void 0&&t.seriesNames.push("series-"+(a+1));return this.w}if(Array.isArray(e)&&e.every(function(h){return typeof h=="number"})){t.series=e.slice(),t.seriesNames=[];for(var o=0;o<t.series.length;o++)t.seriesNames.push(s.labels[o]||"series-".concat(o+1));return this.w}var l=this.extractPieDataFromSeries(e);t.series=l.values,t.seriesNames=l.labels,s.chart.type==="radialBar"&&(t.series=t.series.map(function(h){var f=K.parseNumber(h);return f>100&&console.warn("ApexCharts: RadialBar value ".concat(f," > 100, consider using percentage values (0-100)")),f}));for(var c=0;c<t.series.length;c++)t.seriesNames[c]===void 0&&t.seriesNames.push("series-"+(c+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach(function(t){t.__apexParsed&&delete t.__apexParsed})}},{key:"extractPieDataFromSeries",value:function(e){var t=[],s=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var i=e[0];return us(i)==="object"&&i!==null&&i.data?(this.extractPieDataFromSeriesObjects(e,t,s),{values:t,labels:s}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,s){e.forEach(function(i,r){i.data&&Array.isArray(i.data)?i.data.forEach(function(a){us(a)==="object"&&a!==null?a.x!==void 0&&a.y!==void 0?(s.push(String(a.x)),t.push(K.parseNumber(a.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",a):console.warn("ApexCharts: Expected object data point, got:",us(a))}):console.warn("ApexCharts: Series ".concat(r," has no valid data array"))})}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,s=this.w.globals;t.xaxis.categories.length>0?s.labels=t.xaxis.categories:t.labels.length>0?s.labels=t.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map(function(i){i.forEach(function(r){s.labels.indexOf(r.x)<0&&r.x&&s.labels.push(r.x)})}),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new dg(t).convertCatToNumericXaxis(t,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,s=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=s.series.map(function(f,g){return f.data.filter(function(p,x,v){return v.findIndex(function(_){return _.x===p.x})===x})}),a=r.reduce(function(f,g,p,x){return x[f].length>g.length?f:p},0),o=0;o<r[a].length;o++)i.push(o+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)i.push(l+1);t.seriesX=[];for(var c=0;c<e.length;c++)t.seriesX.push(i);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(i.length===0){i=t.axisCharts?[]:t.series.map(function(f,g){return g+1});for(var h=0;h<e.length;h++)t.seriesX.push(i)}t.labels=i,s.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map(function(f){return s.xaxis.labels.formatter(f)})),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,s=this.w.config,i=this.w.globals,r=s.parsing;if(i.dataWasParsed||!r&&!e.some(function(o){return o.parsing}))return e;var a=e.map(function(o,l){var c,h,f;if(!o.data||!Array.isArray(o.data)||o.data.length===0)return o;var g={x:((c=o.parsing)===null||c===void 0?void 0:c.x)||r?.x,y:((h=o.parsing)===null||h===void 0?void 0:h.y)||r?.y,z:((f=o.parsing)===null||f===void 0?void 0:f.z)||r?.z};if(!g.x&&!g.y)return o;var p=o.data[0];if(us(p)==="object"&&p!==null&&(p.hasOwnProperty("x")||p.hasOwnProperty("y"))||Array.isArray(p))return o;if(!g.x||!g.y||Array.isArray(g.y)&&g.y.length===0)return console.warn("ApexCharts: Series ".concat(l," has parsing config but missing x or y field specification")),o;var x=o.data.map(function(v,_){if(us(v)!=="object"||v===null)return console.warn("ApexCharts: Series ".concat(l,", data point ").concat(_," is not an object, skipping parsing")),v;var w,S=t.getNestedValue(v,g.x),A=void 0;if(Array.isArray(g.y)){var T=g.y.map(function(C){return t.getNestedValue(v,C)});w=t.w.config.chart.type==="bubble"&&T.length===2?T[0]:T}else w=t.getNestedValue(v,g.y);g.z&&(A=t.getNestedValue(v,g.z)),S===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(_," missing field '").concat(g.x,"'")),w===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(_," missing field '").concat(g.y,"'"));var N={x:S,y:w};if(t.w.config.chart.type==="bubble"&&Array.isArray(g.y)&&g.y.length===2){var O=t.getNestedValue(v,g.y[1]);O!==void 0&&(N.z=O)}return A!==void 0&&(N.z=A),N});return me(me({},o),{},{data:x,__apexParsed:!0})});return i.dataWasParsed=!0,i.originalSeries||(i.originalSeries=K.clone(e)),a}},{key:"getNestedValue",value:function(e,t){if(e&&us(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var s=t.split("."),i=e,r=0;r<s.length;r++){if(i==null||us(i)!=="object")return;i=i[s[r]]}return i}}},{key:"parseData",value:function(e){var t=this.w,s=t.config,i=t.globals;if(e=this.parseRawDataIfNeeded(e),s.series=e,i.initialSeries=K.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var r=new Fi(this.ctx);i.series=r.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),i.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(i.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(s,i){var r=0;s.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&r++}),r>0&&r==s.length&&t.push(i)}),e.globals.ignoreYAxisIndexes=t.map(function(s){return s})}}]),n}(),Tf=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var s=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+i)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(s){var i=t.w,r=e||i.config.chart.toolbar.export.scale||i.config.chart.toolbar.export.width/i.globals.svgWidth;r||(r=1);var a=i.globals.svgWidth*r,o=i.globals.svgHeight*r,l=i.globals.dom.elWrap.cloneNode(!0);l.style.width=a+"px",l.style.height=o+"px";var c=new XMLSerializer().serializeToString(l),h=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;i.config.legend.show&&i.globals.dom.elLegendWrap&&i.globals.dom.elLegendWrap.children.length>0&&(h+=k4);var f=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(i.globals.svgWidth,'px" height="').concat(i.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(a,"px; height:").concat(o,`px;">
            <style type="text/css">
              `).concat(h,`
            </style>
              `).concat(c,`
            </div>
          </foreignObject>
        </svg>
      `),g=t.svgStringToNode(f);r!==1&&t.scaleSvgNode(g,r),t.convertImagesToBase64(g).then(function(){f=new XMLSerializer().serializeToString(g),s(f.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,s=e.getElementsByTagName("image"),i=Array.from(s).map(function(r){var a=r.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?t.getBase64FromUrl(a).then(function(o){r.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(i)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,s){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var r=document.createElement("canvas");r.width=i.width,r.height=i.height,r.getContext("2d").drawImage(i,0,0),t(r.toDataURL())},i.onerror=s,i.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(s){var i=new Blob([s],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(i))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(s){var i=t.w,r=e?e.scale||e.width/i.globals.svgWidth:1,a=document.createElement("canvas");a.width=i.globals.svgWidth*r,a.height=parseInt(i.globals.dom.elWrap.style.height,10)*r;var o=i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",l=a.getContext("2d");l.fillStyle=o,l.fillRect(0,0,a.width*r,a.height*r),t.getSvgString(r).then(function(c){var h="data:image/svg+xml,"+encodeURIComponent(c),f=new Image;f.crossOrigin="anonymous",f.onload=function(){if(l.drawImage(f,0,0),a.msToBlob){var g=a.msToBlob();s({blob:g})}else{var p=a.toDataURL("image/png");s({imgURI:p})}},f.src=h})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,s=this.w.config.chart.toolbar.export.width,i=t?{scale:t}:s?{width:s}:void 0;this.dataURI(i).then(function(r){var a=r.imgURI,o=r.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,s=e.series,i=e.fileName,r=e.columnDelimiter,a=r===void 0?",":r,o=e.lineDelimiter,l=o===void 0?`
`:o,c=this.w;s||(s=c.config.series);var h=[],f=[],g="",p=c.globals.series.map(function(N,O){return c.globals.collapsedSeriesIndices.indexOf(O)===-1?N:[]}),x=function(N){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(N):c.config.xaxis.type==="datetime"&&String(N).length>=10?new Date(N).toDateString():K.isNumber(N)?N:N.split(a).join("")},v=function(N){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(N):N},_=Math.max.apply(Math,Cn(s.map(function(N){return N.data?N.data.length:0}))),w=new YA(this.ctx),S=new el(this.ctx),A=function(N){var O="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var C=c.globals.yLabelFormatters[0],k=new Fi(t.ctx).getActiveConfigSeriesIndex();O=C(c.globals.labels[N],{seriesIndex:k,dataPointIndex:N,w:c})}else O=S.getLabel(c.globals.labels,c.globals.timescaleLabels,0,N).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?O=c.config.xaxis.categories[N]:c.config.labels.length&&(O=c.config.labels[N]))}else O=c.config.labels[N];return O===null?"nullvalue":(Array.isArray(O)&&(O=O.join(" ")),K.isNumber(O)?O:O.split(a).join(""))},T=function(N,O){if(h.length&&O===0&&f.push(h.join(a)),N.data){N.data=N.data.length&&N.data||Cn(Array(_)).map(function(){return""});for(var C=0;C<N.data.length;C++){h=[];var k=A(C);if(k!=="nullvalue"){if(k||(w.isFormatXY()?k=s[O].data[C].x:w.isFormat2DArray()&&(k=s[O].data[C]?s[O].data[C][0]:"")),O===0){h.push(x(k));for(var M=0;M<c.globals.series.length;M++){var I,D=w.isFormatXY()?(I=s[M].data[C])===null||I===void 0?void 0:I.y:p[M][C];h.push(v(D))}}(c.config.chart.type==="candlestick"||N.type&&N.type==="candlestick")&&(h.pop(),h.push(c.globals.seriesCandleO[O][C]),h.push(c.globals.seriesCandleH[O][C]),h.push(c.globals.seriesCandleL[O][C]),h.push(c.globals.seriesCandleC[O][C])),(c.config.chart.type==="boxPlot"||N.type&&N.type==="boxPlot")&&(h.pop(),h.push(c.globals.seriesCandleO[O][C]),h.push(c.globals.seriesCandleH[O][C]),h.push(c.globals.seriesCandleM[O][C]),h.push(c.globals.seriesCandleL[O][C]),h.push(c.globals.seriesCandleC[O][C])),c.config.chart.type==="rangeBar"&&(h.pop(),h.push(c.globals.seriesRangeStart[O][C]),h.push(c.globals.seriesRangeEnd[O][C])),h.length&&f.push(h.join(a))}}}};h.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(h.push("minimum"),h.push("q1"),h.push("median"),h.push("q3"),h.push("maximum")):c.config.chart.type==="candlestick"?(h.push("open"),h.push("high"),h.push("low"),h.push("close")):c.config.chart.type==="rangeBar"?(h.push("minimum"),h.push("maximum")):s.map(function(N,O){var C=(N.name?N.name:"series-".concat(O))+"";c.globals.axisCharts&&h.push(C.split(a).join("")?C.split(a).join(""):"series-".concat(O))}),c.globals.axisCharts||(h.push(c.config.chart.toolbar.export.csv.headerValue),f.push(h.join(a))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?s.map(function(N,O){c.globals.axisCharts?T(N,O):((h=[]).push(x(c.globals.labels[O])),h.push(v(p[O])),f.push(h.join(a)))}):function(){var N=new Set,O={};s.forEach(function(C,k){C?.data.forEach(function(M){var I,D;if(w.isFormatXY())I=M.x,D=M.y;else{if(!w.isFormat2DArray())return;I=M[0],D=M[1]}O[I]||(O[I]=Array(s.length).fill("")),O[I][k]=v(D),N.add(I)})}),h.length&&f.push(h.join(a)),Array.from(N).sort().forEach(function(C){f.push([x(C),O[C].join(a)])})}(),g+=f.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+g),i||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,s){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+s,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),n}(),gg=function(){function n(e,t){we(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.axesUtils=new el(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return _e(n,[{key:"drawXaxis",value:function(){var e=this.w,t=new le(this.ctx),s=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(i);for(var r=[],a=0;a<this.xaxisLabels.length;a++)r.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,i,r,e.globals.isXNumeric,function(x,v){return v}),e.globals.hasXaxisGroups){var o=e.globals.groups;r=[];for(var l=0;l<o.length;l++)r.push(o[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,r,!1,function(x,v){return o[x].cols*v},c)}if(e.config.xaxis.title.text!==void 0){var h=t.group({class:"apexcharts-xaxis-title"}),f=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});h.add(f),s.add(h)}if(e.config.xaxis.axisBorder.show){var g=e.globals.barPadForNumericAxis,p=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-g,this.offY,this.xaxisBorderWidth+g,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(p):s.add(p)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,t,s,i,r,a){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h=[],f=[],g=this.w,p=c.xaxisFontSize||this.xaxisFontSize,x=c.xaxisFontFamily||this.xaxisFontFamily,v=c.xaxisForeColors||this.xaxisForeColors,_=c.fontWeight||g.config.xaxis.labels.style.fontWeight,w=c.cssClass||g.config.xaxis.labels.style.cssClass,S=g.globals.padHorizontal,A=i.length,T=g.config.xaxis.type==="category"?g.globals.dataPoints:A;if(T===0&&A>T&&(T=A),r){var N=Math.max(Number(g.config.xaxis.tickAmount)||1,T>1?T-1:T);o=g.globals.gridWidth/Math.min(N,A-1),S=S+a(0,o)/2+g.config.xaxis.labels.offsetX}else o=g.globals.gridWidth/T,S=S+a(0,o)+g.config.xaxis.labels.offsetX;for(var O=function(k){var M=S-a(k,o)/2+g.config.xaxis.labels.offsetX;k===0&&A===1&&o/2===S&&T===1&&(M=g.globals.gridWidth/2);var I=l.axesUtils.getLabel(i,g.globals.timescaleLabels,M,k,h,p,e),D=28;if(g.globals.rotateXLabels&&e&&(D=22),g.config.xaxis.title.text&&g.config.xaxis.position==="top"&&(D+=parseFloat(g.config.xaxis.title.style.fontSize)+2),e||(D=D+parseFloat(p)+(g.globals.xAxisLabelsHeight-g.globals.xAxisGroupLabelsHeight)+(g.globals.rotateXLabels?10:0)),I=g.config.xaxis.tickAmount!==void 0&&g.config.xaxis.tickAmount!=="dataPoints"&&g.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(k,I,A):l.axesUtils.checkForOverflowingLabels(k,I,A,h,f),g.config.xaxis.labels.show){var F=t.drawText({x:I.x,y:l.offY+g.config.xaxis.labels.offsetY+D-(g.config.xaxis.position==="top"?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:I.text,textAnchor:"middle",fontWeight:I.isBold?600:_,fontSize:p,fontFamily:x,foreColor:Array.isArray(v)?e&&g.config.xaxis.convertedCatToNumeric?v[g.globals.minX+k-1]:v[k]:v,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+w});if(s.add(F),F.on("click",function(G){if(typeof g.config.chart.events.xAxisLabelClick=="function"){var J=Object.assign({},g,{labelIndex:k});g.config.chart.events.xAxisLabelClick(G,l.ctx,J)}}),e){var V=document.createElementNS(g.globals.SVGNS,"title");V.textContent=Array.isArray(I.text)?I.text.join(" "):I.text,F.node.appendChild(V),I.text!==""&&(h.push(I.text),f.push(I))}}k<A-1&&(S+=a(k+1,o))},C=0;C<=A-1;C++)O(C)}},{key:"drawXaxisInversed",value:function(e){var t,s,i=this,r=this.w,a=new le(this.ctx),o=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,l=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var h=[];if(r.config.yaxis[e].show)for(var f=0;f<this.xaxisLabels.length;f++)h.push(this.xaxisLabels[f]);t=r.globals.gridHeight/h.length,s=-t/2.2;var g=r.globals.yLabelFormatters[0],p=r.config.yaxis[0].labels;if(p.show)for(var x=function(N){var O=h[N]===void 0?"":h[N];O=g(O,{seriesIndex:e,dataPointIndex:N,w:r});var C=i.axesUtils.getYAxisForeColor(p.style.colors,e),k=0;Array.isArray(O)&&(k=O.length/2*parseInt(p.style.fontSize,10));var M=p.offsetX-15,I="end";i.yaxis.opposite&&(I="start"),r.config.yaxis[0].labels.align==="left"?(M=p.offsetX,I="start"):r.config.yaxis[0].labels.align==="center"?(M=p.offsetX,I="middle"):r.config.yaxis[0].labels.align==="right"&&(I="end");var D=a.drawText({x:M,y:s+t+p.offsetY-k,text:O,textAnchor:I,foreColor:Array.isArray(C)?C[N]:C,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.style.cssClass,maxWidth:p.maxWidth});c.add(D),D.on("click",function(G){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var J=Object.assign({},r,{labelIndex:N});r.config.chart.events.xAxisLabelClick(G,i.ctx,J)}});var F=document.createElementNS(r.globals.SVGNS,"title");if(F.textContent=Array.isArray(O)?O.join(" "):O,D.node.appendChild(F),r.config.yaxis[e].labels.rotate!==0){var V=a.rotateAroundCenter(D.node);D.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(V.y,")"))}s+=t},v=0;v<=h.length-1;v++)x(v);if(r.config.yaxis[0].title.text!==void 0){var _=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),w=a.drawText({x:r.config.yaxis[0].title.offsetX,y:r.globals.gridHeight/2+r.config.yaxis[0].title.offsetY,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});_.add(w),l.add(_)}var S=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(S=r.globals.gridWidth);var A=r.config.xaxis.axisBorder;if(A.show){var T=a.drawLine(r.globals.padHorizontal+A.offsetX+S,1+A.offsetY,r.globals.padHorizontal+A.offsetX+S,r.globals.gridHeight+A.offsetY,A.color,0);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(T):l.add(T)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,h.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(e,t,s){var i=this.w,r=e;if(!(e<0||e-2>i.globals.gridWidth)){var a=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+a+i.config.xaxis.axisTicks.height,i.config.xaxis.position==="top"&&(t=a-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var o=new le(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,r+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);s.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],s=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<s;r++)i=this.xaxisLabels[r].position,t.push(i);else for(var a=s,o=0;o<a;o++){var l=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),i+=e.globals.gridWidth/l,t.push(i)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new le(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<i.length;o++){var l=t.rotateAroundCenter(i[o]);l.y=l.y-1,l.x=l.x+1,i[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),i[o].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var c=i[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(p){t.placeTextWithEllipsis(p,p.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var p=e.globals.gridWidth/(e.globals.labels.length+1),x=0;x<i.length;x++){var v=i[x].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(v,function(_){t.placeTextWithEllipsis(_,_.textContent,p)})}})();if(r.length>0){var h=r[r.length-1].getBBox(),f=r[0].getBBox();h.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),f.x+f.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var g=0;g<a.length;g++)t.placeTextWithEllipsis(a[g],a[g].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),n}(),N4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new el(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return _e(n,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,s=new le(this.ctx);e||(e=s.group({class:"apexcharts-grid"}));var i=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=s.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(i),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,s=new le(this.ctx),i=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Cn(e.config.stroke.width)):e.config.stroke.width,r=function(h){var f=document.createElementNS(t.SVGNS,"clipPath");return f.setAttribute("id",h),f};t.dom.elGridRectMask=r("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=r("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=r("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=r("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=r("nonForecastMask".concat(t.cuid));var a=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=s.drawRect(-i/2-2,-i/2-2,t.gridWidth+i+4,t.gridHeight+i+4,0,"#fff"),t.dom.elGridRectBar=s.drawRect(-i/2-a-2,-i/2-2,t.gridWidth+i+o+a+4,t.gridHeight+i+4,0,"#fff");var l=e.globals.markers.largestSize;t.dom.elGridRectMarker=s.drawRect(Math.min(-i/2-a-2,-l),-l,t.gridWidth+Math.max(i+o+a+4,2*l),t.gridHeight+2*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elGridRectBarMask),c.appendChild(t.dom.elGridRectMarkerMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,s=e.x1,i=e.y1,r=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w;if(!(t===0&&c.globals.skipFirstTimelinelabel||t===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:s,y1:i,x2:r,y2:a,xCount:o,parent:l});var h=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var f=c.globals.groups;if(f){for(var g=0,p=0;g<t&&p<f.length;p++)g+=f[p].cols;g===t&&(h=.6*c.globals.xAxisLabelsHeight)}}new gg(this.ctx).drawXaxisTicks(s,h,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,s=e.x1,i=e.y1,r=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w,h=l.node.classList.contains("apexcharts-gridlines-horizontal"),f=c.globals.barPadForNumericAxis,g=i===0&&a===0||s===0&&r===0||i===c.globals.gridHeight&&a===c.globals.gridHeight||c.globals.isBarHorizontal&&(t===0||t===o-1),p=new le(this).drawLine(s-(h?f:0),i,r+(h?f:0),a,c.config.grid.borderColor,c.config.grid.strokeDashArray);p.node.classList.add("apexcharts-gridline"),g&&c.config.grid.show?this.elGridBorders.add(p):l.add(p)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,s=e.x1,i=e.y1,r=e.x2,a=e.y2,o=e.type,l=this.w,c=new le(this.ctx),h=l.globals.barPadForNumericAxis,f=l.config.grid[o].colors[t],g=c.drawRect(s-(o==="row"?h:0),i,r+(o==="row"?2*h:0),a,0,f,l.config.grid[o].opacity);this.elg.add(g),g.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),g.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var t=this,s=e.xCount,i=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var a,o=r.globals.padHorizontal,l=r.globals.gridHeight;r.globals.timescaleLabels.length?function(x){for(var v=x.xC,_=x.x1,w=x.y1,S=x.x2,A=x.y2,T=0;T<v;T++)_=t.xaxisLabels[T].position,S=t.xaxisLabels[T].position,t._drawGridLines({i:T,x1:_,y1:w,x2:S,y2:A,xCount:s,parent:t.elgridLinesV})}({xC:s,x1:o,y1:0,x2:a,y2:l}):(r.globals.isXNumeric&&(s=r.globals.xAxisScale.result.length),function(x){for(var v=x.xC,_=x.x1,w=x.y1,S=x.x2,A=x.y2,T=0;T<v+(r.globals.isXNumeric?0:1);T++)T===0&&v===1&&r.globals.dataPoints===1&&(S=_=r.globals.gridWidth/2),t._drawGridLines({i:T,x1:_,y1:w,x2:S,y2:A,xCount:s,parent:t.elgridLinesV}),S=_+=r.globals.gridWidth/(r.globals.isXNumeric?v-1:v)}({xC:s,x1:o,y1:0,x2:a,y2:l}))}if(r.config.grid.yaxis.lines.show){var c=0,h=0,f=r.globals.gridWidth,g=i+1;this.isRangeBar&&(g=r.globals.labels.length);for(var p=0;p<g+(this.isRangeBar?1:0);p++)this._drawGridLine({i:p,xCount:g+(this.isRangeBar?1:0),x1:0,y1:c,x2:f,y2:h,parent:this.elgridLinesH}),h=c+=r.globals.gridHeight/(this.isRangeBar?g:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var i,r=s.globals.padHorizontal,a=s.globals.gridHeight,o=0;o<t+1;o++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:t+1,x1:r,y1:0,x2:i,y2:a,parent:this.elgridLinesV}),new gg(this.ctx).drawXaxisTicks(r,0,s.globals.dom.elGraphical),i=r+=s.globals.gridWidth/t;if(s.config.grid.yaxis.lines.show)for(var l=0,c=0,h=s.globals.gridWidth,f=0;f<s.globals.dataPoints+1;f++)this._drawGridLine({i:f,xCount:s.globals.dataPoints+1,x1:0,y1:l,x2:h,y2:c,parent:this.elgridLinesH}),c=l+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,s=new le(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i=0;i<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(i);)i++;i===t.seriesYAxisMap.length&&(i=0);var r,a=t.yAxisScale[i].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var o,l,c;r=this.xaxisLabels.length,this.isRangeBar&&(a=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(r=e.config.xaxis.tickAmount),((o=t.yAxisScale)===null||o===void 0||(l=o[i])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(r=t.yAxisScale[i].result.length-1)),this._drawXYLines({xCount:r,tickAmount:a})}else r=a,a=t.xTickAmount,this._drawInvertedXYLines({xCount:r,tickAmount:a});return this.drawGridBands(r,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/r}}},{key:"drawGridBands",value:function(e,t){var s,i,r=this,a=this.w;if(((s=a.config.grid.row.colors)===null||s===void 0?void 0:s.length)>0&&function(x,v,_,w,S,A){for(var T=0,N=0;T<v;T++,N++)N>=a.config.grid[x].colors.length&&(N=0),r._drawGridBandRect({c:N,x1:_,y1:w,x2:S,y2:A,type:x}),w+=a.globals.gridHeight/t}("row",t,0,0,a.globals.gridWidth,a.globals.gridHeight/t),((i=a.config.grid.column.colors)===null||i===void 0?void 0:i.length)>0){var o=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(o=a.globals.xAxisScale.result.length-1);for(var l=a.globals.padHorizontal,c=a.globals.padHorizontal+a.globals.gridWidth/o,h=a.globals.gridHeight,f=0,g=0;f<e;f++,g++){var p;g>=a.config.grid.column.colors.length&&(g=0),a.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[f].position,c=(((p=this.xaxisLabels[f+1])===null||p===void 0?void 0:p.position)||a.globals.gridWidth)-this.xaxisLabels[f].position),this._drawGridBandRect({c:g,x1:l,y1:0,x2:c,y2:h,type:"column"}),l+=a.globals.gridWidth/o}}}}]),n}(),R4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.coreUtils=new sn(this.ctx)}return _e(n,[{key:"niceScale",value:function(e,t){var s,i,r,a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,h=c.globals;h.isBarHorizontal?(s=c.config.xaxis,i=Math.max((h.svgWidth-100)/25,2)):(s=c.config.yaxis[o],i=Math.max((h.svgHeight-100)/15,2)),K.isNumber(i)||(i=10),r=s.min!==void 0&&s.min!==null,a=s.max!==void 0&&s.min!==null;var f=s.stepSize!==void 0&&s.stepSize!==null,g=s.tickAmount!==void 0&&s.tickAmount!==null,p=g?s.tickAmount:h.niceScaleDefaultTicks[Math.min(Math.round(i/2),h.niceScaleDefaultTicks.length-1)];if(h.isMultipleYAxis&&!g&&h.multiAxisTickAmount>0&&(p=h.multiAxisTickAmount,g=!0),p=p==="dataPoints"?h.dataPoints-1:Math.abs(Math.round(p)),(e===Number.MIN_VALUE&&t===0||!K.isNumber(e)&&!K.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=K.isNumber(s.min)?s.min:0,t=K.isNumber(s.max)?s.max:e+p,h.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var x=t;t=e,e=x}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var v=[];p<1&&(p=1);var _=p,w=Math.abs(t-e);!r&&e>0&&e/w<.15&&(e=0,r=!0),!a&&t<0&&-t/w<.15&&(t=0,a=!0);var S=(w=Math.abs(t-e))/_,A=S,T=Math.floor(Math.log10(A)),N=Math.pow(10,T),O=Math.ceil(A/N);if(S=A=(O=h.niceScaleAllowedMagMsd[h.yValueDecimal===0?0:1][O])*N,h.isBarHorizontal&&s.stepSize&&s.type!=="datetime"?(S=s.stepSize,f=!0):f&&(S=s.stepSize),f&&s.forceNiceScale){var C=Math.floor(Math.log10(S));S*=Math.pow(10,T-C)}if(r&&a){var k=w/_;if(g)if(f)if(K.mod(w,S)!=0){var M=K.getGCD(S,k);S=k/M<10?M:k}else K.mod(S,k)==0?S=k:(k=S,g=!1);else S=k;else if(f)K.mod(w,S)==0?k=S:S=k;else if(K.mod(w,S)==0)k=S;else{k=w/(_=Math.ceil(w/S));var I=K.getGCD(w,S);w/I<i&&(k=I),S=k}_=Math.round(w/S)}else{if(r||a){if(a)if(g)e=t-S*_;else{var D=e;e=S*Math.floor(e/S),Math.abs(t-e)/K.getGCD(w,S)>i&&(e=t-S*p,e+=S*Math.floor((D-e)/S))}else if(r)if(g)t=e+S*_;else{var F=t;t=S*Math.ceil(t/S),Math.abs(t-e)/K.getGCD(w,S)>i&&(t=e+S*p,t+=S*Math.ceil((F-t)/S))}}else if(h.isMultipleYAxis&&g){var V=S*Math.floor(e/S),G=V+S*_;G<t&&(S*=2),G=t,t=(e=V)+S*_,w=Math.abs(t-e),e>0&&e<Math.abs(G-t)&&(e=0,t=S*_),t<0&&-t<Math.abs(V-e)&&(t=0,e=-S*_)}else e=S*Math.floor(e/S),t=S*Math.ceil(t/S);w=Math.abs(t-e),S=K.getGCD(w,S),_=Math.round(w/S)}if(g||r||a||(_=Math.ceil((w-l)/(S+l)))>16&&K.getPrimeFactors(_).length<2&&_++,!g&&s.forceNiceScale&&h.yValueDecimal===0&&_>w&&(_=w,S=Math.round(w/_)),_>i&&(!g&&!f||s.forceNiceScale)){var J=K.getPrimeFactors(_),Y=J.length-1,Z=_;e:for(var U=0;U<Y;U++)for(var X=0;X<=Y-U;X++){for(var Q=Math.min(X+U,Y),se=Z,q=1,he=X;he<=Q;he++)q*=J[he];if((se/=q)<i){Z=se;break e}}S=Z===_?w:w/Z,_=Math.round(w/S)}h.isMultipleYAxis&&h.multiAxisTickAmount==0&&h.ignoreYAxisIndexes.indexOf(o)<0&&(h.multiAxisTickAmount=_);var ae=e-S,fe=S*l;do ae+=S,v.push(K.stripNumber(ae,7));while(t-ae>fe);return{result:v,niceMin:v[0],niceMax:v[v.length-1]}}},{key:"linearScale",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(t-e),o=[];if(e===t)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(s=this._adjustTicksForSmallRange(s,i,a))==="dataPoints"&&(s=this.w.globals.dataPoints-1),r||(r=a/s),r=Math.round(100*(r+Number.EPSILON))/100,s===Number.MAX_VALUE&&(s=5,r=1);for(var l=e;s>=0;)o.push(l),l=K.preciseAddition(l,r),s-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var i=[],r=Math.ceil(Math.log(t)/Math.log(s)+1),a=Math.floor(Math.log(e)/Math.log(s));a<r;a++)i.push(Math.pow(s,a));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var i=[],r=Math.log(t)/Math.log(s),a=Math.log(e)/Math.log(s),o=r-a,l=Math.round(o),c=o/l,h=0,f=a;h<l;h++,f+=c)i.push(Math.pow(s,f));return i.push(Math.pow(s,r)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,s){var i=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var r=Number(this.w.config.yaxis[t].labels.formatter(1));K.isNumber(r)&&this.w.globals.yValueDecimal===0&&(i=Math.ceil(s))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,s){var i=this.w.globals,r=this.w.config,a=i.isBarHorizontal?r.xaxis:r.yaxis[e];i.yAxisScale[e]===void 0&&(i.yAxisScale[e]=[]);var o=Math.abs(s-t);a.logarithmic&&o<=5&&(i.invalidLogScale=!0),a.logarithmic&&o>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,s,a.logBase):this.logarithmicScale(t,s,a.logBase)):s!==-Number.MAX_VALUE&&K.isNumber(s)&&t!==Number.MAX_VALUE&&K.isNumber(t)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(t,s,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var s=this.w,i=s.globals;if(t!==-Number.MAX_VALUE&&K.isNumber(t)){var r=i.xTickAmount;i.xAxisScale=this.linearScale(e,t,r,0,s.config.xaxis.max===void 0?s.config.xaxis.stepSize:void 0)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,s=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var i=s.seriesYAxisMap,r=s.minYArr,a=s.maxYArr;s.allSeriesCollapsed=!0,s.barGroups=[],i.forEach(function(o,l){var c=[];o.forEach(function(h){var f,g=(f=t.series[h])===null||f===void 0?void 0:f.group;c.indexOf(g)<0&&c.push(g)}),o.length>0?function(){var h,f,g=Number.MAX_VALUE,p=-Number.MAX_VALUE,x=g,v=p;if(t.chart.stacked)(function(){var S=new Array(s.dataPoints).fill(0),A=[],T=[],N=[];c.forEach(function(){A.push(S.map(function(){return Number.MIN_VALUE})),T.push(S.map(function(){return Number.MIN_VALUE})),N.push(S.map(function(){return Number.MIN_VALUE}))});for(var O=function(k){!h&&t.series[o[k]].type&&(h=t.series[o[k]].type);var M=o[k];f=t.series[M].group?t.series[M].group:"axis-".concat(l),!(s.collapsedSeriesIndices.indexOf(M)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(M)<0)||(s.allSeriesCollapsed=!1,c.forEach(function(I,D){if(t.series[M].group===I)for(var F=0;F<s.series[M].length;F++){var V=s.series[M][F];V>=0?T[D][F]+=V:N[D][F]+=V,A[D][F]+=V,x=Math.min(x,V),v=Math.max(v,V)}})),h!=="bar"&&h!=="column"||s.barGroups.push(f)},C=0;C<o.length;C++)O(C);h||(h=t.chart.type),h==="bar"||h==="column"?c.forEach(function(k,M){g=Math.min(g,Math.min.apply(null,N[M])),p=Math.max(p,Math.max.apply(null,T[M]))}):(c.forEach(function(k,M){x=Math.min(x,Math.min.apply(null,A[M])),v=Math.max(v,Math.max.apply(null,A[M]))}),g=x,p=v),g===Number.MIN_VALUE&&p===Number.MIN_VALUE&&(p=-Number.MAX_VALUE)})();else for(var _=0;_<o.length;_++){var w=o[_];g=Math.min(g,r[w]),p=Math.max(p,a[w]),!(s.collapsedSeriesIndices.indexOf(w)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(w)<0)||(s.allSeriesCollapsed=!1)}t.yaxis[l].min!==void 0&&(g=typeof t.yaxis[l].min=="function"?t.yaxis[l].min(g):t.yaxis[l].min),t.yaxis[l].max!==void 0&&(p=typeof t.yaxis[l].max=="function"?t.yaxis[l].max(p):t.yaxis[l].max),s.barGroups=s.barGroups.filter(function(S,A,T){return T.indexOf(S)===A}),e.setYScaleForIndex(l,g,p),o.forEach(function(S){r[S]=s.yAxisScale[l].niceMin,a[S]=s.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),n}(),I_=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.scales=new R4(e)}return _e(n,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w.config,a=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;i===null&&(i=e+1);var c=a.series,h=c,f=c;r.chart.type==="candlestick"?(h=a.seriesCandleL,f=a.seriesCandleH):r.chart.type==="boxPlot"?(h=a.seriesCandleO,f=a.seriesCandleC):a.isRangeData&&(h=a.seriesRangeStart,f=a.seriesRangeEnd);var g=!1;if(a.seriesX.length>=i){var p,x=(p=a.brushSource)===null||p===void 0?void 0:p.w.config.chart.brush;(r.chart.zoom.enabled&&r.chart.zoom.autoScaleYaxis||x!=null&&x.enabled&&x!=null&&x.autoScaleYaxis)&&(g=!0)}for(var v=e;v<i;v++){a.dataPoints=Math.max(a.dataPoints,c[v].length);var _=r.series[v].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(M){return M!==void 0}).length),a.labels.length&&r.xaxis.type!=="datetime"&&a.series.reduce(function(M,I){return M+I.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var w=0,S=c[v].length-1;if(g){if(r.xaxis.min)for(;w<S&&a.seriesX[v][w]<r.xaxis.min;w++);if(r.xaxis.max)for(;S>w&&a.seriesX[v][S]>r.xaxis.max;S--);}for(var A=w;A<=S&&A<a.series[v].length;A++){var T=c[v][A];if(T!==null&&K.isNumber(T)){var N,O,C,k;switch(((N=f[v])===null||N===void 0?void 0:N[A])!==void 0&&(o=Math.max(o,f[v][A]),t=Math.min(t,f[v][A])),((O=h[v])===null||O===void 0?void 0:O[A])!==void 0&&(t=Math.min(t,h[v][A]),s=Math.max(s,h[v][A])),_){case"candlestick":a.seriesCandleC[v][A]!==void 0&&(o=Math.max(o,a.seriesCandleH[v][A]),t=Math.min(t,a.seriesCandleL[v][A]));break;case"boxPlot":a.seriesCandleC[v][A]!==void 0&&(o=Math.max(o,a.seriesCandleC[v][A]),t=Math.min(t,a.seriesCandleO[v][A]))}_&&_!=="candlestick"&&_!=="boxPlot"&&_!=="rangeArea"&&_!=="rangeBar"&&(o=Math.max(o,a.series[v][A]),t=Math.min(t,a.series[v][A])),a.seriesGoals[v]&&a.seriesGoals[v][A]&&Array.isArray(a.seriesGoals[v][A])&&a.seriesGoals[v][A].forEach(function(M){o=Math.max(o,M.value),t=Math.min(t,M.value)}),s=o,T=K.noExponents(T),K.isFloat(T)&&(a.yValueDecimal=Math.max(a.yValueDecimal,T.toString().split(".")[1].length)),l>((C=h[v])===null||C===void 0?void 0:C[A])&&((k=h[v])===null||k===void 0?void 0:k[A])<0&&(l=h[v][A])}else a.hasNullValues=!0}_!=="bar"&&_!=="column"||(l<0&&o<0&&(o=0,s=Math.max(s,0)),l===Number.MIN_VALUE&&(l=0,t=Math.min(t,0)))}return r.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(l=t),r.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:t,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(var r=0;r<e.series.length;r++)s=this.getMinYMaxY(r),e.minYArr[r]=s.lowestY,e.maxYArr[r]=s.highestY,i=Math.min(i,s.lowestY)}return s=this.getMinYMaxY(0,i,null,e.series.length),t.chart.type==="bar"?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),i=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,t.yaxis.forEach(function(a,o){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[o]=a.max:typeof a.max=="function"&&(e.maxYArr[o]=a.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[o]=a.min:typeof a.min=="function"&&(e.minYArr[o]=a.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(a){t.xaxis[a]!==void 0&&typeof t.xaxis[a]=="number"&&(a==="min"?e.minY=t.xaxis[a]:e.maxY=t.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(a){switch(a.type||t.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.lineGroups=e.lineGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.areaGroups=e.areaGroups.filter(function(a,o,l){return l.indexOf(a)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,s=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&K.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i=10;if(t.xaxis.tickAmount===void 0)i=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&e.dataPoints!==0&&(i=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var r=Math.round(e.maxX-e.minX);r<30&&(i=r)}}else i=t.xaxis.tickAmount;if(e.xTickAmount=i,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],o=e.minX-1;o<e.maxX;o++)a.push(o+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var s=0;s<e.seriesZ[t].length;s++)e.seriesZ[t][s]!==null&&K.isNumber(e.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][s]),e.minZ=Math.min(e.minZ,e.seriesZ[t][s]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var s=new Bn(this.ctx);if(t.xaxis.type==="datetime"){var i=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var r=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,s){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort(function(r,a){return r-a}),i.forEach(function(r,a){if(a>0){var o=r-i[a-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var s=t.seriesGroups;s.length||(s=[this.w.globals.seriesNames.map(function(a){return a})]);var i={},r={};s.forEach(function(a){i[a]=[],r[a]=[],e.w.config.series.map(function(o,l){return a.indexOf(t.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++){var c,h,f,g;i[a][l]===void 0&&(i[a][l]=0,r[a][l]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(h=c[o])===null||h===void 0?void 0:h.type)==="bar"||((f=e.w.config.series)===null||f===void 0||(g=f[o])===null||g===void 0?void 0:g.type)==="column"))&&t.series[o][l]!==null&&K.isNumber(t.series[o][l])&&(t.series[o][l]>0?i[a][l]+=parseFloat(t.series[o][l])+1e-4:r[a][l]+=parseFloat(t.series[o][l]))}})}),Object.entries(i).forEach(function(a){var o=KD(a,1)[0];i[o].forEach(function(l,c){t.maxY=Math.max(t.maxY,i[o][c]),t.minY=Math.min(t.minY,r[o][c])})})}}}]),n}(),XA=function(){function n(e,t){we(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=s.config.xaxis.position==="bottom"?s.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new el(e)}return _e(n,[{key:"drawYaxis",value:function(e){var t=this.w,s=new le(this.ctx),i=t.config.yaxis[e].labels.style,r=i.fontSize,a=i.fontFamily,o=i.fontWeight,l=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=s.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var h=t.globals.yAxisScale[e].result.length-1,f=t.globals.gridHeight/h,g=t.globals.yLabelFormatters[e],p=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var x=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?x=0:t.config.chart.type==="heatmap"&&(x-=f/2),x+=parseInt(r,10)/3;for(var v=h;v>=0;v--){var _=g(p[v],v,t),w=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(w*=-1);var S=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),A=this.axesUtils.getYAxisForeColor(i.colors,e),T=Array.isArray(A)?A[v]:A,N=K.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(C){return C.textContent}),O=s.drawText({x:w,y:x,text:N.includes(_)&&!t.config.yaxis[e].labels.showDuplicates?"":_,textAnchor:S,fontSize:r,fontFamily:a,fontWeight:o,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:T,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(i.cssClass)});c.add(O),this.addTooltip(O,_),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(s,O,firstLabel,t.config.yaxis[e].labels.rotate),x+=f}}return this.addYAxisTitle(s,l,e),this.addAxisBorder(s,l,e,h,f),l}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var s=document.createElementNS(this.w.globals.SVGNS,"title");s.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(s)}},{key:"rotateLabel",value:function(e,t,s,i){var r=e.rotateAroundCenter(s.node),a=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(i," ").concat(r.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,t,s){var i=this.w;if(i.config.yaxis[s].title.text!==void 0){var r=e.group({class:"apexcharts-yaxis-title"}),a=i.config.yaxis[s].opposite?i.globals.translateYAxisX[s]:0,o=e.drawText({x:a,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[s].title.offsetY,text:i.config.yaxis[s].title.text,textAnchor:"end",foreColor:i.config.yaxis[s].title.style.color,fontSize:i.config.yaxis[s].title.style.fontSize,fontWeight:i.config.yaxis[s].title.style.fontWeight,fontFamily:i.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(i.config.yaxis[s].title.style.cssClass)});r.add(o),t.add(r)}}},{key:"addAxisBorder",value:function(e,t,s,i,r){var a=this.w,o=a.config.yaxis[s].axisBorder,l=31+o.offsetX;if(a.config.yaxis[s].opposite&&(l=-31-o.offsetX),o.show){var c=e.drawLine(l,a.globals.translateY+o.offsetY-2,l,a.globals.gridHeight+a.globals.translateY+o.offsetY+2,o.color,0,o.width);t.add(c)}a.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,i,o,a.config.yaxis[s].axisTicks,s,r,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,s=new le(this.ctx),i=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(r);var a=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/a+.1,l=o+t.config.xaxis.labels.offsetX,c=t.globals.xLabelFormatter,h=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),f=t.globals.timescaleLabels;if(f.length>0&&(this.xaxisLabels=f.slice(),a=(h=f.slice()).length),t.config.xaxis.labels.show)for(var g=f.length?0:a;f.length?g<f.length:g>=0;f.length?g++:g--){var p=c(h[g],g,t),x=t.globals.gridWidth+t.globals.padHorizontal-(l-o+t.config.xaxis.labels.offsetX);if(f.length){var v=this.axesUtils.getLabel(h,f,x,g,this.drawnLabels,this.xaxisFontSize);x=v.x,p=v.text,this.drawnLabels.push(v.text),g===0&&t.globals.skipFirstTimelinelabel&&(p=""),g===h.length-1&&t.globals.skipLastTimelinelabel&&(p="")}var _=s.drawText({x,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});r.add(_),_.tspan(p),this.addTooltip(_,p),l+=o}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,s=new le(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var r=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(r-=15);var a=s.drawLine(t.globals.padHorizontal+r+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,s=new le(this.ctx);if(t.config.xaxis.title.text!==void 0){var i=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});i.add(r),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var s=this.w,i=new le(this.ctx),r=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=r?r.getBoundingClientRect():{width:0,height:0},o=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(e,a,l,t);o.setAttribute("x",c.xPos-(t?10:0));var h=i.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(h.x," ").concat(h.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,s,i){var r=this.w,a=0,o=10;return r.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(i?a=t.width+r.config.yaxis[e].title.offsetX+s.width/2+o/2:(a=-1*t.width+r.config.yaxis[e].title.offsetX+o/2+s.width/2,r.globals.isBarHorizontal&&(o=25,a=-1*t.width-r.config.yaxis[e].title.offsetX-o)),{xPos:a,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var s=this.w,i=0,r=0,a=18,o=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach(function(l,c){var h=s.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,f=e[c].width+t[c].width;l.opposite?s.globals.isBarHorizontal?(r=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[c]=r-l.labels.offsetX):(r=s.globals.gridWidth+s.globals.translateX+o,h||(o+=f+20),s.globals.translateYAxisX[c]=r-l.labels.offsetX+20):(i=s.globals.translateX-a,h||(a+=f+20),s.globals.translateYAxisX[c]=i+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;K.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,s){var i=e.config.yaxis[s];if(i&&!i.floating&&i.labels.align!==void 0){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),a=K.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"))),o=r.getBoundingClientRect();a.forEach(function(l){l.setAttribute("text-anchor",i.labels.align)}),i.labels.align!=="left"||i.opposite?i.labels.align==="center"?r.setAttribute("transform","translate(".concat(o.width/2*(i.opposite?1:-1),", 0)")):i.labels.align==="right"&&i.opposite&&r.setAttribute("transform","translate(".concat(o.width,", 0)")):r.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),n}(),_te=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.documentEvent=K.bind(this.documentEvent,this)}return _e(n,[{key:"addEventListener",value:function(e,t){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var i=s.globals.events[e].indexOf(t);i!==-1&&s.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=s.globals.events[e],r=i.length,a=0;a<r;a++)i[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,s=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(r){i.addEventListener(r,function(a){var o=a.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:a.target.getAttribute("i"),l=a.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:a.target.getAttribute("j"),c=Object.assign({},t,{seriesIndex:t.globals.axisCharts?o:0,dataPointIndex:l});a.type==="mousemove"||a.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(a,s,c):a.type==="mouseleave"||a.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(a,s,c):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(a,s,c),s.ctx.events.fireEvent("click",[a,s,c]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(r){t.globals.dom.baseEl.addEventListener(r,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,s=e.target.className;if(e.type==="click"){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),n}(),Ste=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=t.filter(function(r){return r.name===e})[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=K.extend(C4,s);this.w.globals.locale=i.options}}]),n}(),Ate=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"drawAxis",value:function(e,t){var s,i,r=this,a=this.w.globals,o=this.w.config,l=new gg(this.ctx,t),c=new XA(this.ctx,t);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(i=c.drawYaxisInversed(0),s=l.drawXaxisInversed(0),a.dom.elGraphical.add(s),a.dom.elGraphical.add(i)):(s=l.drawXaxis(),a.dom.elGraphical.add(s),o.yaxis.map(function(h,f){if(a.ignoreYAxisIndexes.indexOf(f)===-1&&(i=c.drawYaxis(f),a.dom.Paper.add(i),r.w.config.grid.position==="back")){var g=a.dom.Paper.children()[1];g.remove(),a.dom.Paper.add(g)}})))}}]),n}(),M_=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new le(this.ctx),s=new Wn(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,o=i.colorFrom,l=i.colorTo,c=i.opacityFrom,h=i.opacityTo,f=i.stops,g=r.enabled,p=r.left,x=r.top,v=r.blur,_=r.color,w=r.opacity,S=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(S=t.drawGradient("vertical",o,l,c,h,null,f,null));var A=t.drawRect();e.config.xaxis.crosshairs.width===1&&(A=t.drawLine());var T=e.globals.gridHeight;(!K.isNumber(T)||T<0)&&(T=0);var N=e.config.xaxis.crosshairs.width;(!K.isNumber(N)||N<0)&&(N=0),A.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:T,width:N,height:T,fill:S,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),g&&(A=s.dropShadow(A,{left:p,top:x,blur:v,color:_,opacity:w})),e.globals.dom.elGraphical.add(A)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new le(this.ctx),s=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-i,0,e.globals.gridWidth+i,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var a=t.drawLine(-i,0,e.globals.gridWidth+i,0,s.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),n}(),Cte=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"checkResponsiveConfig",value:function(e){var t=this,s=this.w,i=s.config;if(i.responsive.length!==0){var r=i.responsive.slice();r.sort(function(c,h){return c.breakpoint>h.breakpoint?1:h.breakpoint>c.breakpoint?-1:0}).reverse();var a=new fg({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=r[0].breakpoint,f=window.innerWidth>0?window.innerWidth:screen.width;if(f>h){var g=K.clone(s.globals.initialConfig);g.series=K.clone(s.config.series);var p=sn.extendArrayProps(a,g,s);c=K.extend(p,c),c=K.extend(s.config,c),t.overrideResponsiveOptions(c)}else for(var x=0;x<r.length;x++)f<r[x].breakpoint&&(c=sn.extendArrayProps(a,r[x].options,s),c=K.extend(s.config,c),t.overrideResponsiveOptions(c))};if(e){var l=sn.extendArrayProps(a,e,s);l=K.extend(s.config,l),o(l=K.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new fg(e).init({responsiveOverride:!0});this.w.config=t}}]),n}(),Tte=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return _e(n,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return t.type==="treemap"&&s.treemap&&s.treemap.distributed||t.type==="heatmap"&&s.heatmap&&s.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return s.bar&&s.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new K;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var s=Cn(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(s),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}},{key:"getColors",value:function(e){var t=this,s=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,s.config.series.map(function(i,r){var a=e[r]||e[0];return typeof a=="function"?a({value:s.globals.axisCharts?s.globals.series[r][0]||0:s.globals.series[r],seriesIndex:r,dataPointIndex:r,w:t.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(s,i){s&&(t[i]=s)})}},{key:"getMonochromeColors",value:function(e,t,s){var i=e.color,r=e.shadeIntensity,a=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,l=1/(o/r),c=0;return Array.from({length:o},function(){var h=a==="dark"?s.shadeColor(-1*c,i):s.shadeColor(c,i);return c+=l,h})}},{key:"applyColorTypes",value:function(e,t){var s=this,i=this.w;e.forEach(function(r){i.globals[r].colors=i.config[r].colors===void 0?s.isColorFn?i.config.colors:t:i.config[r].colors.slice(),s.pushExtraColors(i.globals[r].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,r=t||i.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||i.config.chart.type==="heatmap"&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),s&&i.globals.series.length&&(r=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<r)for(var a=r-e.length,o=0;o<a;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,s=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",i=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=i,e.theme.palette=s,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),n}(),Ete=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,s=e==="title"?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,r=s.offsetY,a="middle";if(s.align==="left"?(i=10,a="start"):s.align==="right"&&(i=t.globals.svgWidth-10,a="end"),i+=s.offsetX,r=r+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var o=new le(this.ctx).drawText({x:i,y:r,text:s.text,textAnchor:a,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),n}(),kte=function(){function n(e){we(this,n),this.w=e.w,this.dCtx=e}return _e(n,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,s=0,i=0,r=e==="title"?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!r){var o=a.getBoundingClientRect();s=o.width,i=t.globals.axisCharts?o.height+5:o.height}return{width:s,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},K.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,s=[];t.config.series.forEach(function(l,c){l.data.forEach(function(h,f){var g;g=t.globals.series[c][f],i=t.config.dataLabels.formatter(g,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:f,w:t}),s.push(i)})});var i=K.getLargestStringFromArr(s),r=new le(this.dCtx.ctx),a=t.config.dataLabels.style,o=r.getTextRects(i,parseInt(a.fontSize),a.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var s=e;if(this.w.globals.isMultiLineX){var i=t.map(function(a,o){return Array.isArray(a)?a.length:1}),r=Math.max.apply(Math,Cn(i));s=t[i.indexOf(r)]}return s}}]),n}(),Nte=function(){function n(e){we(this,n),this.w=e.w,this.dCtx=e}return _e(n,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,s=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,a=K.getLargestStringFromArr(s),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s);t.globals.isBarHorizontal&&(o=a=t.globals.yAxisScale[0].result.reduce(function(x,v){return x.length>v.length?x:v},0));var l=new sp(this.dCtx.ctx),c=a;a=l.xLabelFormat(r,a,c,{i:void 0,dateFormatter:new Bn(this.dCtx.ctx).formatDate,w:t}),o=l.xLabelFormat(r,o,c,{i:void 0,dateFormatter:new Bn(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(o=a="1");var h=new le(this.dCtx.ctx),f=h.getTextRects(a,t.config.xaxis.labels.style.fontSize),g=f;if(a!==o&&(g=h.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:f.width>=g.width?f.width:g.width,height:f.height>=g.height?f.height:g.height}).width*s.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var p=function(x){return h.getTextRects(x,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};f=p(a),a!==o&&(g=p(o)),e.height=(f.height>g.height?f.height:g.height)/1.5,e.width=f.width>g.width?f.width:g.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var s,i=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map(function(f){return f.title}),a=K.getLargestStringFromArr(r),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,r),l=new le(this.dCtx.ctx),c=l.getTextRects(a,i),h=c;return a!==o&&(h=l.getTextRects(o,i)),s={width:c.width>=h.width?c.width:h.width,height:c.height>=h.height?c.height:h.height},t.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,s=0;if(e.config.xaxis.title.text!==void 0){var i=new le(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,s=i.height}return{width:t,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map(function(r){return r.value}),i=s.reduce(function(r,a){return r===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):r.length>a.length?r:a},0);return 1.05*(e=new le(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*s.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,s=this.w,i=s.globals,r=s.config,a=r.xaxis.type,o=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var l=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,c=function(h,f){r.yaxis.length>1&&function(g){return i.collapsedSeriesIndices.indexOf(g)!==-1}(f)||function(g){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var p=t.dCtx.timescaleLabels[0],x=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,v=p.position-o/1.75+t.dCtx.yAxisWidthLeft,_=s.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;x>i.svgWidth-i.translateX-_&&(i.skipLastTimelinelabel=!0),v<-(g.show&&!g.floating||r.chart.type!=="bar"&&r.chart.type!=="candlestick"&&r.chart.type!=="rangeBar"&&r.chart.type!=="boxPlot"?10:o/1.75)&&(i.skipFirstTimelinelabel=!0)}else a==="datetime"?t.dCtx.gridPad.right<o&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):a!=="datetime"&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!s.config.xaxis.labels.trim&&(t.dCtx.xPadRight=o/2+1)}(h)};r.yaxis.forEach(function(h,f){l?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):c(h,f)})}}]),n}(),Rte=function(){function n(e){we(this,n),this.w=e.w,this.dCtx=e}return _e(n,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,s=[],i=10,r=new el(this.dCtx.ctx);return t.config.yaxis.map(function(a,o){var l={seriesIndex:o,dataPointIndex:-1,w:t},c=t.globals.yAxisScale[o],h=0;if(!r.isYAxisHidden(o)&&a.labels.show&&a.labels.minWidth!==void 0&&(h=a.labels.minWidth),!r.isYAxisHidden(o)&&a.labels.show&&c.result.length){var f=t.globals.yLabelFormatters[o],g=c.niceMin===Number.MIN_VALUE?0:c.niceMin,p=c.result.reduce(function(T,N){var O,C;return((O=String(f(T,l)))===null||O===void 0?void 0:O.length)>((C=String(f(N,l)))===null||C===void 0?void 0:C.length)?T:N},g),x=p=f(p,l);if(p!==void 0&&p.length!==0||(p=c.niceMax),t.globals.isBarHorizontal){i=0;var v=t.globals.labels.slice();p=K.getLargestStringFromArr(v),p=f(p,{seriesIndex:o,dataPointIndex:-1,w:t}),x=e.dCtx.dimHelpers.getLargestStringFromMultiArr(p,v)}var _=new le(e.dCtx.ctx),w="rotate(".concat(a.labels.rotate," 0 0)"),S=_.getTextRects(p,a.labels.style.fontSize,a.labels.style.fontFamily,w,!1),A=S;p!==x&&(A=_.getTextRects(x,a.labels.style.fontSize,a.labels.style.fontFamily,w,!1)),s.push({width:(h>A.width||h>S.width?h:A.width>S.width?A.width:S.width)+i,height:A.height>S.height?A.height:S.height})}else s.push({width:0,height:0})}),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,s=[];return t.config.yaxis.map(function(i,r){if(i.show&&i.title.text!==void 0){var a=new le(e.dCtx.ctx),o="rotate(".concat(i.title.rotate," 0 0)"),l=a.getTextRects(i.title.text,i.title.style.fontSize,i.title.style.fontFamily,o,!1);s.push({width:l.width,height:l.height})}else s.push({width:0,height:0})}),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,s=0,i=0,r=e.globals.yAxisScale.length>1?10:0,a=new el(this.dCtx.ctx),o=function(l,c){var h=e.config.yaxis[c].floating,f=0;l.width>0&&!h?(f=l.width+r,function(g){return e.globals.ignoreYAxisIndexes.indexOf(g)>-1}(c)&&(f=f-l.width-r)):f=h||a.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?i+=f:s+=f,t+=f};return e.globals.yLabelsCoords.map(function(l,c){o(l,c)}),e.globals.yTitleCoords.map(function(l,c){o(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=i,t}}]),n}(),Pte=function(){function n(e){we(this,n),this.w=e.w,this.dCtx=e}return _e(n,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,s=t.config,i=t.globals;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===s.series.length)return 0;var r=function(p){return["bar","rangeBar","candlestick","boxPlot"].includes(p)},a=s.chart.type,o=0,l=r(a)?s.series.length:1;i.comboBarCount>0&&(l=i.comboBarCount),i.collapsedSeries.forEach(function(p){r(p.type)&&(l-=1)}),s.chart.stacked&&(l=1);var c=r(a)||i.comboBarCount>0,h=Math.abs(i.initialMaxX-i.initialMinX);if(c&&i.isXNumeric&&!i.isBarHorizontal&&l>0&&h!==0){h<=3&&(h=i.dataPoints);var f=h/e,g=i.minXDiff&&i.minXDiff/f>0?i.minXDiff/f:0;g>e/2&&(g/=2),(o=g*parseInt(s.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),i.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,s=t.globals,i=this.dCtx.isSparkline||!s.axisCharts?0:10;["title","subtitle"].forEach(function(o){t.config[o].text!==void 0?i+=t.config[o].margin:i+=e.dCtx.isSparkline||!s.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||s.axisCharts||(i+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight-=r.height+a.height+i,s.translateY+=r.height+a.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var s=this.w,i=new el(this.dCtx.ctx);s.config.yaxis.forEach(function(r,a){s.globals.ignoreYAxisIndexes.indexOf(a)!==-1||r.floating||i.isYAxisHidden(a)||(r.opposite&&(s.globals.translateX-=t[a].width+e[a].width+parseInt(r.labels.style.fontSize,10)/1.2+12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),n}(),ox=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new kte(this),this.dimYAxis=new Rte(this),this.dimXAxis=new Nte(this),this.dimGrid=new Pte(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return _e(n,[{key:"plotCoords",value:function(){var e=this,t=this.w,s=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var i=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Cn(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var o=KD(a,2),l=o[0],c=o[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(i/2,this.gridPad.top),this.gridPad.bottom=Math.max(i/2,this.gridPad.bottom)),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*r,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(r>0?r:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,s=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();s.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(p,x){t.globals.yLabelsCoords.push({width:i[x].width,index:x}),t.globals.yTitleCoords.push({width:r[x].width,index:x})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,l,o),s.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+t.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+t.config.xaxis.labels.offsetX;var c=this.yAxisWidth,h=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-l.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-a.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var f=10;(t.config.chart.type==="radar"||this.isSparkline)&&(c=0,h=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(c=0,h=0,f=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var g=function(){s.translateX=c+e.datalabelsCoords.width,s.gridHeight=s.svgHeight-e.lgRect.height-h-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-c-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(f=s.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":s.translateY=f,g();break;case"top":s.translateY=this.lgRect.height+f,g();break;case"left":s.translateY=f,s.translateX=this.lgRect.width+c+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-h-12,s.gridWidth=s.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":s.translateY=f,s.translateX=c+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-h-12,s.gridWidth=s.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,i),new XA(this.ctx).setYAxisXPosition(i,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var r=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",a=s.plotOptions[r].offsetY,o=s.plotOptions[r].offsetX;if(!s.legend.show||s.legend.floating){t.gridHeight=t.svgHeight;var l=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(l,t.gridHeight),t.translateY=a,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2)}switch(s.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,s){var i=this.w,r=i.globals.hasXaxisGroups?2:1,a=s.height+e.height+t.height,o=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,l=i.globals.rotateXLabels?22:10,c=i.globals.rotateXLabels&&i.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*o+r*l+c,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var h=0,f=0;i.config.yaxis.forEach(function(g){h+=g.labels.minWidth,f+=g.labels.maxWidth}),this.yAxisWidth<h&&(this.yAxisWidth=h),this.yAxisWidth>f&&(this.yAxisWidth=f)}}]),n}(),Ite=function(){function n(e){we(this,n),this.w=e.w,this.lgCtx=e}return _e(n,[{key:"getLegendStyles",value:function(){var e,t,s,i=document.createElement("style");i.setAttribute("type","text/css");var r=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(s=t.chart)===null||s===void 0?void 0:s.nonce)||this.w.config.chart.nonce;r&&i.setAttribute("nonce",r);var a=document.createTextNode(k4);return i.appendChild(a),i}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var s=this,i=this.w;if(i.globals.axisCharts||i.config.chart.type==="radialBar"){i.globals.resized=!0;var r=null,a=null;i.globals.risingSeries=[],i.globals.axisCharts?(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(r.getAttribute("data:realIndex"),10)):(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach(function(h){s.riseCollapsedSeries(h.cs,h.csi,a)}):this.hideSeries({seriesEl:r,realIndex:a})}else{var o=i.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=i.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=i.config.plotOptions.pie.donut.labels;new le(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,s=this.w,i=s.globals,r=K.clone(s.config.series);if(i.axisCharts){var a=s.config.yaxis[i.seriesYAxisReverseMap[t]],o={index:t,data:r[t].data.slice(),type:r[t].type||s.config.chart.type};if(a&&a.show&&a.showAlways)i.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(i.ancillaryCollapsedSeries.push(o),i.ancillaryCollapsedSeriesIndices.push(t));else if(i.collapsedSeriesIndices.indexOf(t)<0){i.collapsedSeries.push(o),i.collapsedSeriesIndices.push(t);var l=i.risingSeries.indexOf(t);i.risingSeries.splice(l,1)}}else i.collapsedSeries.push({index:t,data:r[t]}),i.collapsedSeriesIndices.push(t);return i.allSeriesCollapsed=i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===s.config.series.length,this._getSeriesBasedOnCollapsedState(r)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,s=e.realIndex,i=this.w,r=this.getSeriesAfterCollapsing({realIndex:s}),a=t.childNodes,o=0;o<a.length;o++)a[o].classList.contains("apexcharts-series-markers-wrap")&&(a[o].classList.contains("apexcharts-hide")?a[o].classList.remove("apexcharts-hide"):a[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,s){var i=this.w,r=K.clone(i.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===s&&(i.globals.axisCharts?r[s].data=e[a].data.slice():r[s]=e[a].data,typeof r[s]!="number"&&(r[s].hidden=!1),e.splice(a,1),t.splice(a,1),i.globals.risingSeries.push(s));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,s=0;return t.globals.axisCharts?e.forEach(function(i,r){t.globals.collapsedSeriesIndices.indexOf(r)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0||(e[r].data=[],s++)}):e.forEach(function(i,r){!t.globals.collapsedSeriesIndices.indexOf(r)<0&&(e[r]=0,s++)}),t.globals.allSeriesCollapsed=s===e.length,e}}]),n}(),P4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Ite(this)}return _e(n,[{key:"init",value:function(){var e=this.w,t=e.globals,s=e.config,i=s.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!t.axisCharts)&&s.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,s=e.fillcolor,i=this.w,r=document.createElement("span");r.classList.add("apexcharts-legend-marker");var a=i.config.legend.markers.shape||i.config.markers.shape,o=a;Array.isArray(a)&&(o=a[t]);var l=Array.isArray(i.config.legend.markers.size)?parseFloat(i.config.legend.markers.size[t]):parseFloat(i.config.legend.markers.size),c=Array.isArray(i.config.legend.markers.offsetX)?parseFloat(i.config.legend.markers.offsetX[t]):parseFloat(i.config.legend.markers.offsetX),h=Array.isArray(i.config.legend.markers.offsetY)?parseFloat(i.config.legend.markers.offsetY[t]):parseFloat(i.config.legend.markers.offsetY),f=Array.isArray(i.config.legend.markers.strokeWidth)?parseFloat(i.config.legend.markers.strokeWidth[t]):parseFloat(i.config.legend.markers.strokeWidth),g=r.style;if(g.height=2*(l+f)+"px",g.width=2*(l+f)+"px",g.left=c+"px",g.top=h+"px",i.config.legend.markers.customHTML)g.background="transparent",g.color=s[t],Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[t]&&(r.innerHTML=i.config.legend.markers.customHTML[t]()):r.innerHTML=i.config.legend.markers.customHTML();else{var p=new Zh(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:t,strokeWidth:f,size:l}),x=window.SVG().addTo(r).size("100%","100%"),v=new le(this.ctx).drawMarker(0,0,me(me({},p),{},{pointFillColor:Array.isArray(s)?s[t]:p.pointFillColor,shape:o}));i.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(_){_.node.classList.contains("apexcharts-marker-triangle")?_.node.style.transform="translate(50%, 45%)":_.node.style.transform="translate(50%, 50%)"}),x.add(v)}return r}},{key:"drawLegends",value:function(){var e=this,t=this,s=this.w,i=s.config.legend.fontFamily,r=s.globals.seriesNames,a=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var o=s.config.plotOptions.heatmap.colorScale.ranges;r=o.map(function(p){return p.name?p.name:p.from+" - "+p.to}),a=o.map(function(p){return p.color})}else this.isBarsDistributed&&(r=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(r=s.config.legend.customLegendItems);var l=s.globals.legendFormatter,c=s.config.legend.inverseOrder,h=[];s.globals.seriesGroups.length>1&&s.config.legend.clusterGroupedSeries&&s.globals.seriesGroups.forEach(function(p,x){h[x]=document.createElement("div"),h[x].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(x)),s.config.legend.clusterGroupedSeriesOrientation==="horizontal"?s.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):h[x].classList.add("apexcharts-legend-group-vertical")});for(var f=function(p){var x,v=l(r[p],{seriesIndex:p,w:s}),_=!1,w=!1;if(s.globals.collapsedSeries.length>0)for(var S=0;S<s.globals.collapsedSeries.length;S++)s.globals.collapsedSeries[S].index===p&&(_=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var A=0;A<s.globals.ancillaryCollapsedSeriesIndices.length;A++)s.globals.ancillaryCollapsedSeriesIndices[A]===p&&(w=!0);var T=e.createLegendMarker({i:p,fillcolor:a});le.setAttrs(T,{rel:p+1,"data:collapsed":_||w}),(_||w)&&T.classList.add("apexcharts-inactive-legend");var N=document.createElement("div"),O=document.createElement("span");O.classList.add("apexcharts-legend-text"),O.innerHTML=Array.isArray(v)?v.join(" "):v;var C=s.config.legend.labels.useSeriesColors?s.globals.colors[p]:Array.isArray(s.config.legend.labels.colors)?(x=s.config.legend.labels.colors)===null||x===void 0?void 0:x[p]:s.config.legend.labels.colors;C||(C=s.config.chart.foreColor),O.style.color=C,O.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",O.style.fontWeight=s.config.legend.fontWeight,O.style.fontFamily=i||s.config.chart.fontFamily,le.setAttrs(O,{rel:p+1,i:p,"data:default-text":encodeURIComponent(v),"data:collapsed":_||w}),N.appendChild(T),N.appendChild(O);var k=new sn(e.ctx);s.config.legend.showForZeroSeries||k.getSeriesTotalByIndex(p)===0&&k.seriesHaveSameValues(p)&&!k.isSeriesNull(p)&&s.globals.collapsedSeriesIndices.indexOf(p)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&N.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||k.isSeriesNull(p)&&s.globals.collapsedSeriesIndices.indexOf(p)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(p)===-1&&N.classList.add("apexcharts-hidden-null-series"),h.length?s.globals.seriesGroups.forEach(function(M,I){var D;M.includes((D=s.config.series[p])===null||D===void 0?void 0:D.name)&&(s.globals.dom.elLegendWrap.appendChild(h[I]),h[I].appendChild(N))}):s.globals.dom.elLegendWrap.appendChild(N),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),N.classList.add("apexcharts-legend-series"),N.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",le.setAttrs(N,{rel:p+1,seriesName:K.escapeString(r[p]),"data:collapsed":_||w}),(_||w)&&N.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||N.classList.add("apexcharts-no-click")},g=c?r.length-1:0;c?g>=0:g<=r.length-1;c?g--:g++)f(g);s.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var s=this.w,i=s.globals.dom.elLegendWrap,r=i.clientHeight,a=0,o=0;if(s.config.legend.position==="bottom")o=s.globals.svgHeight-Math.min(r,s.globals.svgHeight/2)-5;else if(s.config.legend.position==="top"){var l=new ox(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,h=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(h>0?h-10:0)}i.style.position="absolute",a=a+e+s.config.legend.offsetX,o=o+t+s.config.legend.offsetY,i.style.left=a+"px",i.style.top=o+"px",s.config.legend.position==="right"&&(i.style.left="auto",i.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach(function(f){i.style[f]&&(i.style[f]=parseInt(s.config.legend[f],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new ox(this.ctx),s=t.dimHelpers.getTitleSubtitleCoords("title"),i=t.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;e.config.legend.position==="top"&&(r=s.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),s=0;e.config.legend.position==="left"&&(s=20),e.config.legend.position==="right"&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new Fi(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new Fi(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,i=e.target.getAttribute("data:collapsed")==="true",r=this.w.config.chart.events.legendClick;typeof r=="function"&&r(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,i)}}}]),n}(),I4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return _e(n,[{key:"createToolbar",value:function(){var e=this,t=this.w,s=function(){return document.createElement("div")},i=s();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(s());var a=[],o=function(f,g,p){var x=f.toLowerCase();e.t[x]&&t.config.chart.zoom.enabled&&a.push({el:g,icon:typeof e.t[x]=="string"?e.t[x]:p,title:e.localeValues[f],class:"apexcharts-".concat(x,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(f){e.t[f]&&t.config.chart[f].enabled&&a.push({el:f==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[f]=="string"?e.t[f]:f==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[f==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(f,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)a.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});a.forEach(function(f,g){f.index&&K.moveIndexInArray(a,g,f.index)});for(var h=0;h<a.length;h++)le.setAttrs(a[h].el,{class:a[h].class,title:a[h].title}),a[h].el.innerHTML=a[h].icon,i.appendChild(a[h].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),le.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],s=0;s<t.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=t[s].title,le.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(t[s].name),title:t[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var s=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],s.classList.contains(t.ctx.toolbar.selectedClass)?s.classList.remove(t.ctx.toolbar.selectedClass):s.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,s=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(s){s&&s.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,s=(this.minX+t)/2,i=(this.maxX+t)/2,r=this._getNewMinXMaxX(s,i);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,s=this.minX-(t-this.minX),i=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(s,i);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var s=this.w;if(e!==void 0||t!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=s.globals.dataPoints),t-e<2))){var i={min:e,max:t},r=this.getBeforeZoomRange(i);r&&(i=r.xaxis);var a={xaxis:i},o=K.clone(s.globals.initialConfig.yaxis);s.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,s=new Tf(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var s=t.w;if(s.globals.lastXAxis.min=s.globals.initialConfig.xaxis.min,s.globals.lastXAxis.max=s.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var i=s.config.chart.events.beforeResetZoom(t,s);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}typeof s.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var r=t.ctx.series.emptyCollapsedSeries(K.clone(s.globals.initialSeries));t.updateHelpers._updateSeries(r,s.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),n}(),Mte=function(n){Jg(t,I4);var e=Qg(t);function t(s){var i;return we(this,t),(i=e.call(this,s)).ctx=s,i.w=s.w,i.dragged=!1,i.graphics=new le(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i.debounceTimer=null,i.debounceDelay=100,i.wheelDelay=400,i}return _e(t,[{key:"init",value:function(s){var i=this,r=s.xyRatios,a=this.w,o=this;this.xyRatios=r,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new nn(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){i.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,r),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,i){var r=this.w,a=this.ctx.toolbar,o=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type,l=r.config.chart.toolbar.autoSelected;if(i.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),i.target){var c,h=i.target.classList;if(i.target.parentNode&&i.target.parentNode!==null&&(c=i.target.parentNode.classList),!(h.contains("apexcharts-legend-marker")||h.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientX:i.type==="touchend"?i.changedTouches[0].clientX:i.clientX,this.clientY=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientY:i.type==="touchend"?i.changedTouches[0].clientY:i.clientY,i.type==="mousedown"&&i.which===1||i.type==="touchstart"){var f=this.gridRect.getBoundingClientRect();this.startX=this.clientX-f.left-r.globals.barPadForNumericAxis,this.startY=this.clientY-f.top,this.dragged=!1,this.w.globals.mousedown=!0}(i.type==="mousemove"&&i.which===1||i.type==="touchmove")&&(this.dragged=!0,r.globals.panEnabled?(r.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:s})):(this.w.globals.mousedown&&r.globals.zoomEnabled||this.w.globals.mousedown&&r.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),i.type!=="mouseup"&&i.type!=="touchend"&&i.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(s){var i,r=s.zoomtype,a=s.isResized,o=this.w,l=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();l&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:r})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(s){var i=this,r=this.w;s.preventDefault();var a=Date.now();a-r.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(s),r.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-r.globals.lastWheelExecution>i.wheelDelay&&(i.executeMouseWheelZoom(s),r.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(s){var i,r=this.w;this.minX=r.globals.isRangeBar?r.globals.minY:r.globals.minX,this.maxX=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;var a=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();if(a){var o,l,c,h=(s.clientX-a.left)/a.width,f=this.minX,g=this.maxX,p=g-f;if(s.deltaY<0){var x=f+h*p;l=x-(o=.5*p)/2,c=x+o/2}else l=f-(o=1.5*p)/2,c=g+o/2;if(!r.globals.isRangeBar){l=Math.max(l,r.globals.initialMinX),c=Math.min(c,r.globals.initialMaxX);var v=.01*(r.globals.initialMaxX-r.globals.initialMinX);if(c-l<v){var _=(l+c)/2;l=_-v/2,c=_+v/2}}var w=this._getNewMinXMaxX(l,c);isNaN(w.minX)||isNaN(w.maxX)||this.zoomUpdateOptions(w.minX,w.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var s=this,i=this.w;if(this.selectionRect){var r=this.selectionRect.node.getBoundingClientRect();r.width>0&&r.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,o,l,c,h){return h==="l"||h==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,o){return a.center(o[0],o[1])}}).resize().on("resize",function(){var a=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type;s.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var s=this.w,i=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(me(me({},s.globals.selection),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}));else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var r=(s.config.chart.selection.xaxis.min-s.globals.minX)/i.xRatio,a=s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/i.xRatio-r;s.globals.isRangeBar&&(r=(s.config.chart.selection.xaxis.min-s.globals.yAxisScale[0].niceMin)/i.invertedYRatio,a=(s.config.chart.selection.xaxis.max-s.config.chart.selection.xaxis.min)/i.invertedYRatio);var o={x:r,y:0,width:a,height:s.globals.gridHeight,translateX:s.globals.translateX,translateY:s.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var i=s.x,r=s.y,a=s.width,o=s.height,l=s.translateX,c=l===void 0?0:l,h=s.translateY,f=h===void 0?0:h,g=this.w,p=this.zoomRect,x=this.selectionRect;if(this.dragged||g.globals.selection!==null){var v={transform:"translate("+c+", "+f+")"};g.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),p.attr({x:i,y:r,width:a,height:o,fill:g.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":g.config.chart.zoom.zoomedArea.fill.opacity,stroke:g.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":g.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":g.config.chart.zoom.zoomedArea.stroke.opacity}),le.setAttrs(p.node,v)),g.globals.selectionEnabled&&(x.attr({x:i,y:r,width:a>0?a:0,height:o>0?o:0,fill:g.config.chart.selection.fill.color,"fill-opacity":g.config.chart.selection.fill.opacity,stroke:g.config.chart.selection.stroke.color,"stroke-width":g.config.chart.selection.stroke.width,"stroke-dasharray":g.config.chart.selection.stroke.dashArray,"stroke-opacity":g.config.chart.selection.stroke.opacity}),le.setAttrs(x.node,v))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var i=s.context,r=s.zoomtype,a=this.w,o=i,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,h=o.startY,f=!1,g=!1,p=o.clientX-l.left-a.globals.barPadForNumericAxis,x=o.clientY-l.top,v=p-c,_=x-h,w={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(v+c)>a.globals.gridWidth?v=a.globals.gridWidth-c:p<0&&(v=c),c>p&&(f=!0,v=Math.abs(v)),h>x&&(g=!0,_=Math.abs(_)),w=me(me({},w=r==="x"?{x:f?c-v:c,y:0,width:v,height:a.globals.gridHeight}:r==="y"?{x:0,y:g?h-_:h,width:a.globals.gridWidth,height:_}:{x:f?c-v:c,y:g?h-_:h,width:v,height:_}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),o.drawSelectionRect(w),o.selectionDragging("resizing"),w}},{key:"selectionDragging",value:function(s,i){var r=this,a=this.w;if(i){i.preventDefault();var o=i.detail,l=o.handler,c=o.box,h=c.x,f=c.y;h<this.constraints.x&&(h=this.constraints.x),f<this.constraints.y&&(f=this.constraints.y),c.x2>this.constraints.x2&&(h=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(f=this.constraints.y2-c.h),l.move(h,f);var g=this.xyRatios,p=this.selectionRect,x=0;s==="resizing"&&(x=30);var v=function(w){return parseFloat(p.node.getAttribute(w))},_={x:v("x"),y:v("y"),width:v("width"),height:v("height")};a.globals.selection=_,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var w,S,A,T,N=r.gridRect.getBoundingClientRect(),O=p.node.getBoundingClientRect();a.globals.isRangeBar?(w=a.globals.yAxisScale[0].niceMin+(O.left-N.left)*g.invertedYRatio,S=a.globals.yAxisScale[0].niceMin+(O.right-N.left)*g.invertedYRatio,A=0,T=1):(w=a.globals.xAxisScale.niceMin+(O.left-N.left)*g.xRatio,S=a.globals.xAxisScale.niceMin+(O.right-N.left)*g.xRatio,A=a.globals.yAxisScale[0].niceMin+(N.bottom-O.bottom)*g.yRatio[0],T=a.globals.yAxisScale[0].niceMax-(O.top-N.top)*g.yRatio[0]);var C={xaxis:{min:w,max:S},yaxis:{min:A,max:T}};a.config.chart.events.selection(r.ctx,C),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(r.ctx,C)},x))}}},{key:"selectionDrawn",value:function(s){var i,r,a=s.context,o=s.zoomtype,l=this.w,c=a,h=this.xyRatios,f=this.ctx.toolbar,g=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),p=c.gridRect.getBoundingClientRect(),x=g.left-p.left-l.globals.barPadForNumericAxis,v=g.right-p.left-l.globals.barPadForNumericAxis,_=g.top-p.top,w=g.bottom-p.top;l.globals.isRangeBar?(i=l.globals.yAxisScale[0].niceMin+x*h.invertedYRatio,r=l.globals.yAxisScale[0].niceMin+v*h.invertedYRatio):(i=l.globals.xAxisScale.niceMin+x*h.xRatio,r=l.globals.xAxisScale.niceMin+v*h.xRatio);var S=[],A=[];if(l.config.yaxis.forEach(function(I,D){var F=l.globals.seriesYAxisMap[D][0],V=l.globals.yAxisScale[D].niceMax-h.yRatio[F]*_,G=l.globals.yAxisScale[D].niceMax-h.yRatio[F]*w;S.push(V),A.push(G)}),c.dragged&&(c.dragX>10||c.dragY>10)&&i!==r){if(l.globals.zoomEnabled){var T=K.clone(l.globals.initialConfig.yaxis),N=K.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(i=Math.floor(i),r=Math.floor(r),i<1&&(i=1,r=l.globals.dataPoints),r-i<2&&(r=i+1)),o!=="xy"&&o!=="x"||(N={min:i,max:r}),o!=="xy"&&o!=="y"||T.forEach(function(I,D){T[D].min=A[D],T[D].max=S[D]}),f){var O=f.getBeforeZoomRange(N,T);O&&(N=O.xaxis?O.xaxis:N,T=O.yaxis?O.yaxis:T)}var C={xaxis:N};l.config.chart.group||(C.yaxis=T),c.ctx.updateHelpers._updateOptions(C,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&f.zoomCallback(N,T)}else if(l.globals.selectionEnabled){var k,M=null;k={min:i,max:r},o!=="xy"&&o!=="y"||(M=K.clone(l.config.yaxis)).forEach(function(I,D){M[D].min=A[D],M[D].max=S[D]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:k,yaxis:M})}}}},{key:"panDragging",value:function(s){var i=s.context,r=this.w,a=i;if(r.globals.lastClientPosition.x!==void 0){var o=r.globals.lastClientPosition.x-a.clientX,l=r.globals.lastClientPosition.y-a.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}r.globals.lastClientPosition={x:a.clientX,y:a.clientY};var c=r.globals.isRangeBar?r.globals.minY:r.globals.minX,h=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;a.panScrolled(c,h)}},{key:"panScrolled",value:function(s,i){var r=this.w,a=this.xyRatios,o=K.clone(r.globals.initialConfig.yaxis),l=a.xRatio,c=r.globals.minX,h=r.globals.maxX;r.globals.isRangeBar&&(l=a.invertedYRatio,c=r.globals.minY,h=r.globals.maxY),this.moveDirection==="left"?(s=c+r.globals.gridWidth/15*l,i=h+r.globals.gridWidth/15*l):this.moveDirection==="right"&&(s=c-r.globals.gridWidth/15*l,i=h-r.globals.gridWidth/15*l),r.globals.isRangeBar||(s<r.globals.initialMinX||i>r.globals.initialMaxX)&&(s=c,i=h);var f={xaxis:{min:s,max:i}};r.config.chart.group||(f.yaxis=o),this.updateScrolledChart(f,s,i)}},{key:"updateScrolledChart",value:function(s,i,r){var a=this.w;if(this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof a.config.chart.events.scrolled=="function"){var o={xaxis:{min:i,max:r}};a.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),t}(),M4=function(){function n(e){we(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return _e(n,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,s=e.elGrid,i=e.clientX,r=e.clientY,a=this.w,o=s.getBoundingClientRect(),l=o.width,c=o.height,h=l/(a.globals.dataPoints-1),f=c/a.globals.dataPoints,g=this.hasBars();!a.globals.comboCharts&&!g||a.config.xaxis.convertedCatToNumeric||(h=l/a.globals.dataPoints);var p=i-o.left-a.globals.barPadForNumericAxis,x=r-o.top;p<0||x<0||p>l||x>c?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var v=Math.round(p/h),_=Math.floor(x/f);g&&!a.config.xaxis.convertedCatToNumeric&&(v=Math.ceil(p/h),v-=1);var w=null,S=null,A=a.globals.seriesXvalues.map(function(k){return k.filter(function(M){return K.isNumber(M)})}),T=a.globals.seriesYvalues.map(function(k){return k.filter(function(M){return K.isNumber(M)})});if(a.globals.isXNumeric){var N=this.ttCtx.getElGrid().getBoundingClientRect(),O=p*(N.width/l),C=x*(N.height/c);w=(S=this.closestInMultiArray(O,C,A,T)).index,v=S.j,w!==null&&a.globals.hasNullValues&&(A=a.globals.seriesXvalues[w],v=(S=this.closestInArray(O,A)).j)}return a.globals.capturedSeriesIndex=w===null?-1:w,(!v||v<1)&&(v=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=_:a.globals.capturedDataPointIndex=v,{capturedSeries:w,j:a.globals.isBarHorizontal?_:v,hoverX:p,hoverY:x}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,s=0,i=e.map(function(a,o){return a.length>0?o:-1}),r=0;r<i.length;r++)if(i[r]!==-1&&t.globals.collapsedSeriesIndices.indexOf(r)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1){s=i[r];break}return s}},{key:"closestInMultiArray",value:function(e,t,s,i){for(var r,a=this.w,o=1/0,l=null,c=null,h=0;h<s.length;h++)if(r=h,a.globals.collapsedSeriesIndices.indexOf(r)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1)for(var f=s[h],g=i[h],p=Math.min(f.length,g.length),x=0;x<p;x++){var v=e-f[x],_=Math.sqrt(v*v);if(!a.globals.allSeriesHasEqualX){var w=t-g[x];_=Math.sqrt(v*v+w*w)}_<o&&(o=_,l=h,c=x)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,t){for(var s=t[0],i=null,r=Math.abs(e-s),a=0;a<t.length;a++){var o=Math.abs(e-t[a]);o<r&&(r=o,i=a)}return{j:i}}},{key:"isXoverlap",value:function(e){var t=[],s=this.w.globals.seriesX.filter(function(r){return r[0]!==void 0});if(s.length>0)for(var i=0;i<s.length-1;i++)s[i][e]!==void 0&&s[i+1][e]!==void 0&&s[i][e]!==s[i+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,s=0;s<t.length-1;s++)if(t[s].data.length!==t[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Cn(e).reduce(function(t,s){return t+s.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");s=Cn(s),t&&(s=s.filter(function(r){var a=Number(r.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(a)===-1})),s.sort(function(r,a){var o=Number(r.getAttribute("data:realIndex")),l=Number(a.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var i=[];return s.forEach(function(r){i.push(r.querySelector(".apexcharts-marker"))}),i}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var s=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),r=e.getAttribute("shape");return new le(this.ctx).getMarkerPath(s,i,r,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,s=t.config.markers.hover.size;return s===void 0&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=s.allTooltipSeriesGroups,r=0;r<i.length;r++)e==="enable"?(i[r].classList.add("apexcharts-active"),i[r].style.display=t.config.tooltip.items.display):(i[r].classList.remove("apexcharts-active"),i[r].style.display="none")}}]),n}(),jte=function(){function n(e){we(this,n),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new M4(e)}return _e(n,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,s=t===void 0||t,i=e.ttItems,r=e.i,a=r===void 0?0:r,o=e.j,l=o===void 0?null:o,c=e.y1,h=e.y2,f=e.e,g=this.w;g.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:l,y1:c,y2:h,w:g}):this.toggleActiveInactiveSeries(s,a);var p=this.getValuesToPrint({i:a,j:l});this.printLabels({i:a,j:l,values:p,ttItems:i,shared:s,e:f});var x=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=x.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=x.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,s=this,i=e.i,r=e.j,a=e.values,o=e.ttItems,l=e.shared,c=e.e,h=this.w,f=[],g=function(N){return h.globals.seriesGoals[N]&&h.globals.seriesGoals[N][r]&&Array.isArray(h.globals.seriesGoals[N][r])},p=a.xVal,x=a.zVal,v=a.xAxisTTVal,_="",w=h.globals.colors[i];r!==null&&h.config.plotOptions.bar.distributed&&(w=h.globals.colors[r]);for(var S=function(N,O){var C=s.getFormatters(i);_=s.getSeriesName({fn:C.yLbTitleFormatter,index:i,seriesIndex:i,j:r}),h.config.chart.type==="treemap"&&(_=C.yLbTitleFormatter(String(h.config.series[i].data[r].x),{series:h.globals.series,seriesIndex:i,dataPointIndex:r,w:h}));var k=h.config.tooltip.inverseOrder?O:N;if(h.globals.axisCharts){var M=function(F){var V,G,J,Y;return h.globals.isRangeData?C.yLbFormatter((V=h.globals.seriesRangeStart)===null||V===void 0||(G=V[F])===null||G===void 0?void 0:G[r],{series:h.globals.seriesRangeStart,seriesIndex:F,dataPointIndex:r,w:h})+" - "+C.yLbFormatter((J=h.globals.seriesRangeEnd)===null||J===void 0||(Y=J[F])===null||Y===void 0?void 0:Y[r],{series:h.globals.seriesRangeEnd,seriesIndex:F,dataPointIndex:r,w:h}):C.yLbFormatter(h.globals.series[F][r],{series:h.globals.series,seriesIndex:F,dataPointIndex:r,w:h})};if(l)C=s.getFormatters(k),_=s.getSeriesName({fn:C.yLbTitleFormatter,index:k,seriesIndex:i,j:r}),w=h.globals.colors[k],t=M(k),g(k)&&(f=h.globals.seriesGoals[k][r].map(function(F){return{attrs:F,val:C.yLbFormatter(F.value,{seriesIndex:k,dataPointIndex:r,w:h})}}));else{var I,D=c==null||(I=c.target)===null||I===void 0?void 0:I.getAttribute("fill");D&&(D.indexOf("url")!==-1?D.indexOf("Pattern")!==-1&&(w=h.globals.dom.baseEl.querySelector(D.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):w=D),t=M(i),g(i)&&Array.isArray(h.globals.seriesGoals[i][r])&&(f=h.globals.seriesGoals[i][r].map(function(F){return{attrs:F,val:C.yLbFormatter(F.value,{seriesIndex:i,dataPointIndex:r,w:h})}}))}}r===null&&(t=C.yLbFormatter(h.globals.series[i],me(me({},h),{},{seriesIndex:i,dataPointIndex:i}))),s.DOMHandling({i,t:k,j:r,ttItems:o,values:{val:t,goalVals:f,xVal:p,xAxisTTVal:v,zVal:x},seriesName:_,shared:l,pColor:w})},A=0,T=h.globals.series.length-1;A<h.globals.series.length;A++,T--)S(A,T)}},{key:"getFormatters",value:function(e){var t,s=this.w,i=s.globals.yLabelFormatters[e];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(i=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,t=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(i=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(t=s.globals.ttVal.title.formatter)):t=s.config.tooltip.y.title.formatter,typeof i!="function"&&(i=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(r){return r}),typeof t!="function"&&(t=function(r){return r?r+": ":""}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,s=e.index,i=e.seriesIndex,r=e.j,a=this.w;return t(String(a.globals.seriesNames[s]),{series:a.globals.series,seriesIndex:i,dataPointIndex:r,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,s=e.j,i=e.ttItems,r=e.values,a=e.seriesName,o=e.shared,l=e.pColor,c=this.w,h=this.ttCtx,f=r.val,g=r.goalVals,p=r.xVal,x=r.xAxisTTVal,v=r.zVal,_=null;_=i[t].children,c.config.tooltip.fillSeriesColor&&(i[t].style.backgroundColor=l,_[0].style.display="none"),h.showTooltipTitle&&(h.tooltipTitle===null&&(h.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),h.tooltipTitle.innerHTML=p),h.isXAxisTooltipEnabled&&(h.xaxisTooltipText.innerHTML=x!==""?x:p);var w=i[t].querySelector(".apexcharts-tooltip-text-y-label");w&&(w.innerHTML=a||"");var S=i[t].querySelector(".apexcharts-tooltip-text-y-value");S&&(S.innerHTML=f!==void 0?f:""),_[0]&&_[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[t]),c.config.tooltip.fillSeriesColor?_[0].style.backgroundColor=l:_[0].style.color=l),c.config.tooltip.marker.show||(_[0].style.display="none");var A=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),T=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(g.length&&c.globals.seriesGoals[t]){var N=function(){var k="<div>",M="<div>";g.forEach(function(I,D){k+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(I.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(I.attrs.name,"</div>"),M+="<div>".concat(I.val,"</div>")}),A.innerHTML=k+"</div>",T.innerHTML=M+"</div>"};o?c.globals.seriesGoals[t][s]&&Array.isArray(c.globals.seriesGoals[t][s])?N():(A.innerHTML="",T.innerHTML=""):N()}else A.innerHTML="",T.innerHTML="";if(v!==null&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=v!==void 0?v:""),o&&_[0]){if(c.config.tooltip.hideEmptySeries){var O=i[t].querySelector(".apexcharts-tooltip-marker"),C=i[t].querySelector(".apexcharts-tooltip-text");parseFloat(f)==0?(O.style.display="none",C.style.display="none"):(O.style.display="block",C.style.display="block")}f==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||c.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(t)===-1?_[0].parentNode.style.display="none":_[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(t)===-1&&(_[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));i&&(i.classList.add("apexcharts-active"),i.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,s=e.j,i=this.w,r=this.ctx.series.filteredSeriesX(),a="",o="",l=null,c=null,h={series:i.globals.series,seriesIndex:t,dataPointIndex:s,w:i},f=i.globals.ttZFormatter;s===null?c=i.globals.series[t]:i.globals.isXNumeric&&i.config.chart.type!=="treemap"?(a=r[t][s],r[t].length===0&&(a=r[this.tooltipUtil.getFirstActiveXArray(r)][s])):a=new YA(this.ctx).isFormatXY()?i.config.series[t].data[s]!==void 0?i.config.series[t].data[s].x:"":i.globals.labels[s]!==void 0?i.globals.labels[s]:"";var g=a;return i.globals.isXNumeric&&i.config.xaxis.type==="datetime"?a=new sp(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,g,g,{i:void 0,dateFormatter:new Bn(this.ctx).formatDate,w:this.w}):a=i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](g,h):i.globals.xLabelFormatter(g,h),i.config.tooltip.x.formatter!==void 0&&(a=i.globals.ttKeyFormatter(g,h)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(l=f(i.globals.seriesZ[t][s],i)),o=typeof i.config.xaxis.tooltip.formatter=="function"?i.globals.xaxisTooltipFormatter(g,h):a,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,s=e.j,i=e.y1,r=e.y2,a=e.w,o=this.ttCtx.getElTooltip(),l=a.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]);var c=l({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:s,y1:i,y2:r,w:a});typeof c=="string"||typeof c=="number"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),n}(),j4=function(){function n(e){we(this,n),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return _e(n,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,i=this.w,r=s.getElXCrosshairs(),a=e-s.xcrosshairsWidth/2,o=i.globals.labels.slice().length;if(t!==null&&(a=i.globals.gridWidth/o*t),r===null||i.globals.isBarHorizontal||(r.setAttribute("x",a),r.setAttribute("x1",a),r.setAttribute("x2",a),r.setAttribute("y2",i.globals.gridHeight),r.classList.add("apexcharts-active")),a<0&&(a=0),a>i.globals.gridWidth&&(a=i.globals.gridWidth),s.isXAxisTooltipEnabled){var l=a;i.config.xaxis.crosshairs.width!=="tickWidth"&&i.config.xaxis.crosshairs.width!=="barWidth"||(l=a+s.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&le.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&le.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var i=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var r;r=new le(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=r.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=i+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+i,a=s.yaxisTTEls[e].getBoundingClientRect(),o=a.height,l=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(l-=a.width),r-=o/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&r>0&&r<t.globals.gridHeight?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=r+"px",s.yaxisTTEls[e].style.left=l+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,r=this.ttCtx,a=r.getElTooltip(),o=r.tooltipRect,l=s!==null?parseFloat(s):1,c=parseFloat(e)+l+5,h=parseFloat(t)+l/2;if(c>i.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>i.globals.gridWidth-o.ttWidth-10&&(c=i.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),i.config.tooltip.followCursor){var f=r.getElGrid().getBoundingClientRect();(c=r.e.clientX-f.left)>i.globals.gridWidth/2&&(c-=r.tooltipRect.ttWidth),(h=r.e.clientY+i.globals.translateY-f.top)>i.globals.gridHeight/2&&(h-=r.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||o.ttHeight/2+h>i.globals.gridHeight&&(h=i.globals.gridHeight-o.ttHeight+i.globals.translateY);isNaN(c)||(c+=i.globals.translateX,a.style.left=c+"px",a.style.top=h+"px")}},{key:"moveMarkers",value:function(e,t){var s=this.w,i=this.ttCtx;if(s.globals.markers.size[e]>0)for(var r=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<r.length;a++)parseInt(r[a].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,r[a]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var s,i,r,a,o=this.w,l=this.ttCtx,c=new le(this.ctx),h=o.globals.pointsArray,f=l.tooltipUtil.getHoverMarkerSize(t),g=o.config.series[t].type;if(!g||g!=="column"&&g!=="candlestick"&&g!=="boxPlot"){r=(s=h[t][e])===null||s===void 0?void 0:s[0],a=((i=h[t][e])===null||i===void 0?void 0:i[1])||0;var p=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(p&&a<o.globals.gridHeight&&a>0){var x=p.getAttribute("shape"),v=c.getMarkerPath(r,a,x,1.5*f);p.setAttribute("d",v)}this.moveXCrosshairs(r),l.fixedTooltip||this.moveTooltip(r,a,f)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,s=this.ttCtx,i=s.w,r=0,a=0,o=i.globals.pointsArray,l=new Fi(this.ctx),c=new le(this.ctx);t=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var h=s.tooltipUtil.getHoverMarkerSize(t);if(o[t]&&(r=o[t][e][0],a=o[t][e][1]),!isNaN(r)){var f=s.tooltipUtil.getAllMarkers();if(f.length)for(var g=0;g<i.globals.series.length;g++){var p=o[g];if(i.globals.comboCharts&&p===void 0&&f.splice(g,0,null),p&&p.length){var x=o[g][e][1],v=void 0;f[g].setAttribute("cx",r);var _=f[g].getAttribute("shape");if(i.config.chart.type==="rangeArea"&&!i.globals.comboCharts){var w=e+i.globals.series[g].length;v=o[g][w][1],x-=Math.abs(x-v)/2}if(x!==null&&!isNaN(x)&&x<i.globals.gridHeight+h&&x+h>0){var S=c.getMarkerPath(r,x,_,h);f[g].setAttribute("d",S)}else f[g].setAttribute("d","")}}this.moveXCrosshairs(r),s.fixedTooltip||this.moveTooltip(r,a||i.globals.gridHeight,h)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var s=this.w,i=this.ttCtx,r=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length;s.config.chart.stacked&&(r=s.globals.barGroups.length);var a=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;s.globals.isBarHorizontal&&(a=new Fi(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));o||typeof t!="number"||(o=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,h=o?parseFloat(o.getAttribute("barWidth")):0,f=i.getElGrid().getBoundingClientRect(),g=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(o&&!g&&(l-=r%2!=0?h/2:0),o&&g&&(l-=h/2)):s.globals.isBarHorizontal||(l=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(l)&&(l=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?c-=i.tooltipRect.ttHeight:s.config.tooltip.followCursor?c=i.e.clientY-f.top-i.tooltipRect.ttHeight/2:c+i.tooltipRect.ttHeight+15>s.globals.gridHeight&&(c=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(l),i.fixedTooltip||this.moveTooltip(l,c||s.globals.gridHeight)}}]),n}(),Lte=function(){function n(e){we(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new j4(e)}return _e(n,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new le(this.ctx),s=new Zh(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=Cn(i),e.config.chart.stacked&&i.sort(function(f,g){return parseFloat(f.getAttribute("data:realIndex"))-parseFloat(g.getAttribute("data:realIndex"))});for(var r=0;r<i.length;r++){var a=i[r].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=s.getMarkerConfig({cssClass:l,seriesIndex:Number(a.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var h=document.createElementNS(e.globals.SVGNS,"g");h.classList.add("apexcharts-series-markers"),h.appendChild(o.node),a.appendChild(h)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w;r.config.chart.type!=="bubble"&&this.newPointSize(e,t);var a=t.getAttribute("cx"),o=t.getAttribute("cy");if(s!==null&&i!==null&&(a=s,o=i),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(r.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(a,o,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,s=this,i=this.ttCtx,r=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,l=0;l<a.length;l++){var c=a[l].getAttribute("rel"),h=a[l].getAttribute("index");if(o===void 0&&(o=t.globals.markers.size[h]+t.config.markers.hover.sizeOffset),r===parseInt(c,10)){s.newPointSize(r,a[l]);var f=a[l].getAttribute("cx"),g=a[l].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(f),i.fixedTooltip||s.tooltipPosition.moveTooltip(f,g,o)}else s.oldPointSize(a[l])}}},{key:"newPointSize",value:function(e,t){var s=this.w,i=s.config.markers.hover.size,r=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(r.getAttribute("default-marker-size")!=="0"){var a=parseInt(r.getAttribute("index"),10);i===void 0&&(i=s.globals.markers.size[a]+s.config.markers.hover.sizeOffset),i<0&&(i=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(t,i);t.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",s)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var s=parseFloat(e[t].getAttribute("default-marker-size"));if(K.isNumber(s)&&s>0){var i=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],s);e[t].setAttribute("d",i)}else e[t].setAttribute("d","M0,0")}}}]),n}(),Ote=function(){function n(e){we(this,n),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return _e(n,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,s=e.opt,i=e.x,r=e.y,a=e.type,o=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var c=this.getAttr(t,"i"),h=this.getAttr(t,"j"),f=this.getAttr(t,"cx"),g=this.getAttr(t,"cy"),p=this.getAttr(t,"width"),x=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:c,j:h,shared:!1,e:t}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=h,i=f+o.tooltipRect.ttWidth/2+p,r=g+o.tooltipRect.ttHeight/2-x/2,o.tooltipPosition.moveXCrosshairs(f+p/2),i>l.globals.gridWidth/2&&(i=f-o.tooltipRect.ttWidth/2+p),o.w.config.tooltip.followCursor){var v=l.globals.dom.elWrap.getBoundingClientRect();i=l.globals.clientX-v.left-(i>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),r=l.globals.clientY-v.top-(r>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:i,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,s,i=e.e,r=e.opt,a=e.x,o=e.y,l=this.w,c=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var h=parseInt(r.paths.getAttribute("cx"),10),f=parseInt(r.paths.getAttribute("cy"),10),g=parseFloat(r.paths.getAttribute("val"));if(s=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var p=K.findAncestor(r.paths,"apexcharts-series");p&&(t=parseInt(p.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:s,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:i}),i.type==="mouseup"&&c.markerClick(i,t,s),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=s,a=h,o=f+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var x=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-x.top}g<0&&(o=f),c.marker.enlargeCurrentPoint(s,r.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(e){var t,s,i=e.e,r=e.opt,a=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,h=0,f=0,g=this.getBarTooltipXY({e:i,opt:r});if(g.j!==null||g.barHeight!==0||g.barWidth!==0){t=g.i;var p=g.j;if(a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=p,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(h=g.x,f=g.y,s=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,c=h):a.globals.comboCharts||a.config.tooltip.shared||(c/=2),isNaN(f)&&(f=a.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),h+o.tooltipRect.ttWidth>a.globals.gridWidth?h-=o.tooltipRect.ttWidth:h<0&&(h=0),o.w.config.tooltip.followCursor){var x=o.getElGrid().getBoundingClientRect();f=o.e.clientY-x.top}o.tooltip===null&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+s/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(f=f+a.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=h+a.globals.translateX+"px",l.style.top=f+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,s=e.e,i=e.opt,r=this.w,a=null,o=this.ttCtx,l=0,c=0,h=0,f=0,g=0,p=s.target.classList;if(p.contains("apexcharts-bar-area")||p.contains("apexcharts-candlestick-area")||p.contains("apexcharts-boxPlot-area")||p.contains("apexcharts-rangebar-area")){var x=s.target,v=x.getBoundingClientRect(),_=i.elGrid.getBoundingClientRect(),w=v.height;g=v.height;var S=v.width,A=parseInt(x.getAttribute("cx"),10),T=parseInt(x.getAttribute("cy"),10);f=parseFloat(x.getAttribute("barWidth"));var N=s.type==="touchmove"?s.touches[0].clientX:s.clientX;a=parseInt(x.getAttribute("j"),10),l=parseInt(x.parentNode.getAttribute("rel"),10)-1;var O=x.getAttribute("data-range-y1"),C=x.getAttribute("data-range-y2");r.globals.comboCharts&&(l=parseInt(x.parentNode.getAttribute("data:realIndex"),10));var k=function(I){return r.globals.isXNumeric?A-S/2:t.isVerticalGroupedRangeBar?A+S/2:A-o.dataPointsDividedWidth+S/2},M=function(){return T-o.dataPointsDividedHeight+w/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:a,y1:O?parseInt(O,10):null,y2:C?parseInt(C,10):null,shared:!o.showOnIntersect&&r.config.tooltip.shared,e:s}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(c=N-_.left+15,h=M()):(c=k(),h=s.clientY-_.top-o.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((c=A)<o.xyRatios.baseLineInvertedY&&(c=A-o.tooltipRect.ttWidth),h=M()):(c=k(),h=T)}return{x:c,y:h,barHeight:g,barWidth:f,i:l,j:a}}}]),n}(),Dte=function(){function n(e){we(this,n),this.w=e.w,this.ttCtx=e}return _e(n,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,s=e.config.xaxis.position==="bottom";t.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,s=0;s<e.config.yaxis.length;s++){var i=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),s===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[s]=document.createElement("div"),t.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[s]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(i!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var r=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=c}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),s!==null&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,s){var i=this.ttCtx,r=this.w,a=r.globals,o=a.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&o.length>0){var l=a.yLabelFormatters[e],c=i.getElGrid().getBoundingClientRect(),h=o[0],f=0;s.yRatio.length>1&&(f=h);var g=(t-c.top)*s.yRatio[f],p=a.maxYArr[h]-a.minYArr[h],x=a.minYArr[h]+(p-g);r.config.yaxis[e].reversed&&(x=a.maxYArr[h]-(p-g)),i.tooltipPosition.moveYCrosshairs(t-c.top),i.yaxisTooltipText[e].innerHTML=l(x),i.tooltipPosition.moveYAxisTooltip(e)}}}]),n}(),q2=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new M4(this),this.tooltipLabels=new jte(this),this.tooltipPosition=new j4(this),this.marker=new Lte(this),this.intersect=new Ote(this),this.axesTooltip=new Dte(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return _e(n,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(a,o){return!!(a.show&&a.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new gg(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,s=this.w,i=[],r=this.getElTooltip(),a=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=s.config.tooltip.inverseOrder?e-l:l+1;var h=document.createElement("span");h.classList.add("apexcharts-tooltip-marker"),s.config.tooltip.fillSeriesColor?h.style.backgroundColor=s.globals.colors[l]:h.style.color=s.globals.colors[l];var f=s.config.markers.shape,g=f;Array.isArray(f)&&(g=f[l]),h.setAttribute("shape",g),c.appendChild(h);var p=document.createElement("div");p.classList.add("apexcharts-tooltip-text"),p.style.fontFamily=t.tConfig.style.fontFamily||s.config.chart.fontFamily,p.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(x){var v=document.createElement("div");v.classList.add("apexcharts-tooltip-".concat(x,"-group"));var _=document.createElement("span");_.classList.add("apexcharts-tooltip-text-".concat(x,"-label")),v.appendChild(_);var w=document.createElement("span");w.classList.add("apexcharts-tooltip-text-".concat(x,"-value")),v.appendChild(w),p.appendChild(v)}),c.appendChild(p),r.appendChild(c),i.push(c)},o=0;o<e;o++)a(o);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,s=this.getElTooltip(),i=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),r=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",a=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],h=[],f={hoverArea:a,elGrid:o,tooltipEl:s,tooltipY:c,tooltipX:h,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var g=0;g<l.length;g++)c.push(l[g].getAttribute("cy")),h.push(l[g].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],f);else if(i&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(f);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(p,f)}if(this.showOnIntersect){var x=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");x.length>0&&this.addPathsEventListeners(x,f),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(f)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),i=s.width+10,r=s.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(a=a+e.globals.svgWidth-i+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-r-10),t.style.left=a+"px",t.style.top=o+"px",{x:a,y:o,ttWidth:i,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var s=this,i=function(a){var o={paths:e[a],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[a].addEventListener(l,s.onSeriesHover.bind(s,o),{capture:!1,passive:!0})})},r=0;r<e.length;r++)i(r)}},{key:"onSeriesHover",value:function(e,t){var s=this,i=Date.now()-this.lastHoverTime;i>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){s.seriesHover(e,t)},20-i))}},{key:"seriesHover",value:function(e,t){var s=this;this.lastHoverTime=Date.now();var i=[],r=this.w;r.config.chart.group&&(i=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||r.globals.dataPoints===0)||(i.length?i.forEach(function(a){var o=s.getElTooltip(a),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===s.w.globals.minX&&a.w.globals.maxX===s.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:l,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,s=e.ttCtx,i=e.opt,r=e.e,a=t.w,o=this.getElTooltip(t);o&&(s.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},s.e=r,s.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Fi(t).toggleSeriesOnHover(r,r.target.parentNode),a.globals.axisCharts?s.axisChartsTooltips({e:r,opt:i,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:r,opt:i,tooltipRect:s.tooltipRect}),s.fixedTooltip&&s.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,s,i=e.e,r=e.opt,a=this.w,o=r.elGrid.getBoundingClientRect(),l=i.type==="touchmove"?i.touches[0].clientX:i.clientX,c=i.type==="touchmove"?i.touches[0].clientY:i.clientY;if(this.clientY=c,this.clientX=l,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var h=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(h)<0)return void this.handleMouseOut(r)}var f=this.getElTooltip(),g=this.getElXCrosshairs(),p=[];a.config.chart.group&&(p=this.ctx.getSyncedCharts());var x=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(i.type==="mousemove"||i.type==="touchmove"||i.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;g!==null&&g.classList.add("apexcharts-active");var v=this.yaxisTooltips.filter(function(S){return S===!0});if(this.ycrosshairs!==null&&v.length&&this.ycrosshairs.classList.add("apexcharts-active"),x&&!this.showOnIntersect||p.length>1)this.handleStickyTooltip(i,l,c,r);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var _=this.intersect.handleHeatTreeTooltip({e:i,opt:r,x:t,y:s,type:a.config.chart.type});t=_.x,s=_.y,f.style.left=t+"px",f.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:r,x:t,y:s});if(this.yaxisTooltips.length)for(var w=0;w<a.config.yaxis.length;w++)this.axesTooltip.drawYaxisTooltipText(w,c,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.tooltipEl.classList.add("apexcharts-active")}else i.type!=="mouseout"&&i.type!=="touchend"||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,s=e.opt,i=e.tooltipRect,r=this.w,a=s.paths.getAttribute("rel"),o=this.getElTooltip(),l=r.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){r.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(a,10)-1,shared:!1});var c=r.globals.clientX-l.left-i.ttWidth/2,h=r.globals.clientY-l.top-i.ttHeight-10;if(o.style.left=c+"px",o.style.top=h+"px",r.config.legend.tooltipHoverFormatter){var f=a-1,g=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[f].getAttribute("data:default-text"),{seriesIndex:f,dataPointIndex:f,w:r});this.legendLabels[f].innerHTML=g}}else t.type!=="mouseout"&&t.type!=="touchend"||(o.classList.remove("apexcharts-active"),r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var x=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(x)}))}},{key:"handleStickyTooltip",value:function(e,t,s,i){var r=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:s}),o=a.j,l=a.capturedSeries;r.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=i.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>c.width)this.handleMouseOut(i);else if(l!==null)this.handleStickyCapturedSeries(e,l,i,o);else if(this.tooltipUtil.isXoverlap(o)||r.globals.isBarHorizontal){var h=r.globals.series.findIndex(function(f,g){return!r.globals.collapsedSeriesIndices.includes(g)});this.create(e,this,h,o,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,s,i){var r=this.w;if(!this.tConfig.shared&&r.globals.series[t][i]===null)return void this.handleMouseOut(s);if(r.globals.series[t][i]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,s.ttItems):this.create(e,this,t,i,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var a=r.globals.series.findIndex(function(o,l){return!r.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,a,i,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new le(this.ctx),s=e.globals.dom.Paper.find(".apexcharts-bar-area"),i=0;i<s.length;i++)t.pathMouseLeave(s[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,s=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(r){var a=r.getAttribute("data:default-text");r.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,t,s){var i=this.w;typeof i.config.chart.events.markerClick=="function"&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}])}},{key:"create",value:function(e,t,s,i,r){var a,o,l,c,h,f,g,p,x,v,_,w,S,A,T,N,O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,C=this.w,k=t;e.type==="mouseup"&&this.markerClick(e,s,i),O===null&&(O=this.tConfig.shared);var M=this.tooltipUtil.hasMarkers(s),I=this.tooltipUtil.getElBars(),D=function(){C.globals.markers.largestSize>0?k.marker.enlargePoints(i):k.tooltipPosition.moveDynamicPointsOnHover(i)};if(C.config.legend.tooltipHoverFormatter){var F=C.config.legend.tooltipHoverFormatter,V=Array.from(this.legendLabels);V.forEach(function(he){var ae=he.getAttribute("data:default-text");he.innerHTML=decodeURIComponent(ae)});for(var G=0;G<V.length;G++){var J=V[G],Y=parseInt(J.getAttribute("i"),10),Z=decodeURIComponent(J.getAttribute("data:default-text")),U=F(Z,{seriesIndex:O?Y:s,dataPointIndex:i,w:C});if(O)J.innerHTML=C.globals.collapsedSeriesIndices.indexOf(Y)<0?U:Z;else if(J.innerHTML=Y===s?U:Z,s===Y)break}}var X=me(me({ttItems:r,i:s,j:i},((a=C.globals.seriesRange)===null||a===void 0||(o=a[s])===null||o===void 0||(l=o[i])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(h=C.globals.seriesRange)===null||h===void 0||(f=h[s])===null||f===void 0||(g=f[i])===null||g===void 0||(p=g.y[0])===null||p===void 0?void 0:p.y1}),((x=C.globals.seriesRange)===null||x===void 0||(v=x[s])===null||v===void 0||(_=v[i])===null||_===void 0||(w=_.y[0])===null||w===void 0?void 0:w.y2)!==void 0&&{y2:(S=C.globals.seriesRange)===null||S===void 0||(A=S[s])===null||A===void 0||(T=A[i])===null||T===void 0||(N=T.y[0])===null||N===void 0?void 0:N.y2});if(O){if(k.tooltipLabels.drawSeriesTexts(me(me({},X),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),M)D();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(I),this.barSeriesHeight>0)){var Q=new le(this.ctx),se=C.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),k.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&D(),k.tooltipPosition.moveStickyTooltipOverBars(i,s);for(var q=0;q<se.length;q++)Q.pathMouseEnter(se[q])}}else k.tooltipLabels.drawSeriesTexts(me({shared:!1},X)),this.tooltipUtil.hasBars()&&k.tooltipPosition.moveStickyTooltipOverBars(i,s),M&&k.tooltipPosition.moveMarkers(s,i)}}]),n}(),zte=function(){function n(e){we(this,n),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return _e(n,[{key:"handleBarDataLabels",value:function(e){var t,s,i=e.x,r=e.y,a=e.y1,o=e.y2,l=e.i,c=e.j,h=e.realIndex,f=e.columnGroupIndex,g=e.series,p=e.barHeight,x=e.barWidth,v=e.barXPosition,_=e.barYPosition,w=e.visibleSeries,S=this.w,A=new le(this.barCtx.ctx),T=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[h]:this.barCtx.strokeWidth;S.globals.isXNumeric&&!S.globals.isBarHorizontal?(t=i+parseFloat(x*(w+1)),s=r+parseFloat(p*(w+1))-T):(t=i+parseFloat(x*w),s=r+parseFloat(p*w));var N,O=null,C=i,k=r,M={},I=S.config.dataLabels,D=this.barCtx.barOptions.dataLabels,F=this.barCtx.barOptions.dataLabels.total;_!==void 0&&this.barCtx.isRangeBar&&(s=_,k=_),v!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=v,C=v);var V=I.offsetX,G=I.offsetY,J={width:0,height:0};if(S.config.dataLabels.enabled){var Y=S.globals.series[l][c];J=A.getTextRects(S.config.dataLabels.formatter?S.config.dataLabels.formatter(Y,me(me({},S),{},{seriesIndex:l,dataPointIndex:c,w:S})):S.globals.yLabelFormatters[0](Y),parseFloat(I.style.fontSize))}var Z={x:i,y:r,i:l,j:c,realIndex:h,columnGroupIndex:f,bcx:t,bcy:s,barHeight:p,barWidth:x,textRects:J,strokeWidth:T,dataLabelsX:C,dataLabelsY:k,dataLabelsConfig:I,barDataLabelsConfig:D,barTotalDataLabelsConfig:F,offX:V,offY:G};return M=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Z):this.calculateColumnsDataLabelsPosition(Z),N=this.drawCalculatedDataLabels({x:M.dataLabelsX,y:M.dataLabelsY,val:this.barCtx.isRangeBar?[a,o]:S.config.chart.stackType==="100%"?g[h][c]:S.globals.series[h][c],i:h,j:c,barWidth:x,barHeight:p,textRects:J,dataLabelsConfig:I}),S.config.chart.stacked&&F.enabled&&(O=this.drawTotalDataLabels({x:M.totalDataLabelsX,y:M.totalDataLabelsY,barWidth:x,barHeight:p,realIndex:h,textAnchor:M.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:h,j:c}),dataLabelsConfig:I,barTotalDataLabelsConfig:F})),{dataLabelsPos:M,dataLabels:N,totalDataLabels:O}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,s=e.j,i=this.w,r=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(r=this.totalFormatter(r,me(me({},i),{},{seriesIndex:t,dataPointIndex:s,w:i}))),r}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,s=this.w,i=e.i,r=e.j,a=e.realIndex;e.columnGroupIndex;var o,l,c=e.y,h=e.bcx,f=e.barWidth,g=e.barHeight,p=e.textRects,x=e.dataLabelsX,v=e.dataLabelsY,_=e.dataLabelsConfig,w=e.barDataLabelsConfig,S=e.barTotalDataLabelsConfig,A=e.strokeWidth,T=e.offX,N=e.offY,O=h;g=Math.abs(g);var C=s.config.plotOptions.bar.dataLabels.orientation==="vertical",k=this.barCtx.barHelpers.getZeroValueEncounters({i,j:r}).zeroEncounters;h-=A/2;var M=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?x+=f/2:(x=s.globals.isXNumeric?h-f/2+T:h-M+f/2+T,!s.config.chart.stacked&&k>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(x-=f*k)),C&&(x=x+p.height/2-A/2-2);var I=s.globals.series[i][r]<0,D=c;switch(this.barCtx.isReversed&&(D=c+(I?g:-g)),w.position){case"center":v=C?I?D-g/2+N:D+g/2-N:I?D-g/2+p.height/2+N:D+g/2+p.height/2-N;break;case"bottom":v=C?I?D-g+N:D+g-N:I?D-g+p.height+A+N:D+g-p.height/2+A-N;break;case"top":v=C?I?D+N:D-N:I?D-p.height/2-N:D+p.height+N}var F=D;if(s.globals.seriesGroups.forEach(function(J){var Y;(Y=t.barCtx[J.join(",")])===null||Y===void 0||Y.prevY.forEach(function(Z){F=I?Math.max(Z[r],F):Math.min(Z[r],F)})}),this.barCtx.lastActiveBarSerieIndex===a&&S.enabled){var V=new le(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:r}),_.fontSize);o=I?F-V.height/2-N-S.offsetY+18:F+V.height+N+S.offsetY-18;var G=M;l=O+(s.globals.isXNumeric?-f*s.globals.barGroups.length/2:s.globals.barGroups.length*f/2-(s.globals.barGroups.length-1)*f-G)+S.offsetX}return s.config.chart.stacked||(v<0?v=0+A:v+p.height/3>s.globals.gridHeight&&(v=s.globals.gridHeight-A)),{bcx:h,bcy:c,dataLabelsX:x,dataLabelsY:v,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,s=this.w,i=e.x,r=e.i,a=e.j,o=e.realIndex,l=e.bcy,c=e.barHeight,h=e.barWidth,f=e.textRects,g=e.dataLabelsX,p=e.strokeWidth,x=e.dataLabelsConfig,v=e.barDataLabelsConfig,_=e.barTotalDataLabelsConfig,w=e.offX,S=e.offY,A=s.globals.gridHeight/s.globals.dataPoints,T=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:a}).zeroEncounters;h=Math.abs(h);var N,O,C=l-(this.barCtx.isRangeBar?0:A)+c/2+f.height/2+S-3;!s.config.chart.stacked&&T>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(C-=c*T);var k="start",M=s.globals.series[r][a]<0,I=i;switch(this.barCtx.isReversed&&(I=i+(M?-h:h),k=M?"start":"end"),v.position){case"center":g=M?I+h/2-w:Math.max(f.width/2,I-h/2)+w;break;case"bottom":g=M?I+h-p-w:I-h+p+w;break;case"top":g=M?I-p-w:I-p+w}var D=I;if(s.globals.seriesGroups.forEach(function(V){var G;(G=t.barCtx[V.join(",")])===null||G===void 0||G.prevX.forEach(function(J){D=M?Math.min(J[a],D):Math.max(J[a],D)})}),this.barCtx.lastActiveBarSerieIndex===o&&_.enabled){var F=new le(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),x.fontSize);M?(N=D-p-w-_.offsetX,k="end"):N=D+w+_.offsetX+(this.barCtx.isReversed?-(h+p):p),O=C-f.height/2+F.height/2+_.offsetY+p,s.globals.barGroups.length>1&&(O-=s.globals.barGroups.length/2*(c/2))}return s.config.chart.stacked||(x.textAnchor==="start"?g-f.width<0?g=M?f.width+p:p:g+f.width>s.globals.gridWidth&&(g=M?s.globals.gridWidth-p:s.globals.gridWidth-f.width-p):x.textAnchor==="middle"?g-f.width/2<0?g=f.width/2+p:g+f.width/2>s.globals.gridWidth&&(g=s.globals.gridWidth-f.width/2-p):x.textAnchor==="end"&&(g<1?g=f.width+p:g+1>s.globals.gridWidth&&(g=s.globals.gridWidth-f.width-p))),{bcx:i,bcy:l,dataLabelsX:g,dataLabelsY:C,totalDataLabelsX:N,totalDataLabelsY:O,totalDataLabelsAnchor:k}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,s=e.y,i=e.val,r=e.i,a=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,h=e.dataLabelsConfig,f=this.w,g="rotate(0)";f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(g="rotate(-90, ".concat(t,", ").concat(s,")"));var p=new Sh(this.barCtx.ctx),x=new le(this.barCtx.ctx),v=h.formatter,_=null,w=f.globals.collapsedSeriesIndices.indexOf(r)>-1;if(h.enabled&&!w){_=x.group({class:"apexcharts-data-labels",transform:g});var S="";i!==void 0&&(S=v(i,me(me({},f),{},{seriesIndex:r,dataPointIndex:a,w:f}))),!i&&f.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(S="");var A=f.globals.series[r][a]<0,T=f.config.plotOptions.bar.dataLabels.position;f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(T==="top"&&(h.textAnchor=A?"end":"start"),T==="center"&&(h.textAnchor="middle"),T==="bottom"&&(h.textAnchor=A?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<x.getTextRects(S,parseFloat(h.style.fontSize)).width&&(S=""),f.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(S=""):o.height/1.6>Math.abs(l)&&(S=""));var N=me({},h);this.barCtx.isHorizontal&&i<0&&(h.textAnchor==="start"?N.textAnchor="end":h.textAnchor==="end"&&(N.textAnchor="start")),p.plotDataLabelsText({x:t,y:s,text:S,i:r,j:a,parent:_,dataLabelsConfig:N,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return _}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,s=e.y,i=e.val,r=e.realIndex,a=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,c=new le(this.barCtx.ctx);return o.enabled&&t!==void 0&&s!==void 0&&this.barCtx.lastActiveBarSerieIndex===r&&(l=c.drawText({x:t,y:s,foreColor:o.style.color,text:i,textAnchor:a,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),n}(),Fte=function(){function n(e){we(this,n),this.w=e.w,this.barCtx=e}return _e(n,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),t.globals.isXNumeric)for(var i=0;i<e[s].length;i++)t.globals.seriesX[s][i]>t.globals.minX&&t.globals.seriesX[s][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),K.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(r){return r.map(function(a){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,s,i,r,a,o,l,c,h=this.w,f=h.globals.dataPoints;this.barCtx.isRangeBar&&(f=h.globals.labels.length);var g=this.barCtx.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(g=1),this.barCtx.isHorizontal)a=(i=h.globals.gridHeight/f)/g,h.globals.isXNumeric&&(a=(i=h.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+h.globals.padHorizontal+(this.barCtx.isReversed?h.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=h.globals.gridWidth/2),s=(i-a*this.barCtx.seriesLen)/2;else{if(r=h.globals.gridWidth/this.barCtx.visibleItems,h.config.xaxis.convertedCatToNumeric&&(r=h.globals.gridWidth/h.globals.dataPoints),o=r/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100,h.globals.isXNumeric){var p=this.barCtx.xRatio;h.globals.minXDiff&&h.globals.minXDiff!==.5&&h.globals.minXDiff/p>0&&(r=h.globals.minXDiff/p),(o=r/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=h.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?h.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),h.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:o}).x:t=h.globals.padHorizontal+K.noExponents(r-o*this.barCtx.seriesLen)/2}return h.globals.barHeight=a,h.globals.barWidth=o,{x:t,y:s,yDivision:i,xDivision:r,barHeight:a,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,s,i){var r,a,o,l,c=this.w,h=this.barCtx.ctx.fill,f=null,g=this.barCtx.barOptions.distributed?s:t,p=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(x){e[t][s]>=x.from&&e[t][s]<=x.to&&(f=x.color,p=!0)}),{color:h.fillPath({seriesNumber:this.barCtx.barOptions.distributed?g:i,dataPointIndex:s,color:f,value:e[t][s],fillConfig:(r=c.config.series[t].data[s])===null||r===void 0?void 0:r.fill,fillType:(a=c.config.series[t].data[s])!==null&&a!==void 0&&(o=a.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[t].data[s])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[i]:c.config.fill.type}),useRangeColor:p}}},{key:"getStrokeWidth",value:function(e,t,s){var i=0,r=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||r.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),i}},{key:"createBorderRadiusArr",value:function(e){var t,s=this.w,i=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadius<=0,r=e.length,a=0|((t=e[0])===null||t===void 0?void 0:t.length),o=Array.from({length:r},function(){return Array(a).fill(i?"top":"none")});if(i)return o;for(var l=0;l<a;l++){for(var c=[],h=[],f=0,g=0;g<r;g++){var p=e[g][l];p>0?(c.push(g),f++):p<0&&(h.push(g),f++)}if(c.length>0&&h.length===0)if(c.length===1)o[c[0]][l]="both";else{var x,v=c[0],_=c[c.length-1],w=Gd(c);try{for(w.s();!(x=w.n()).done;){var S=x.value;o[S][l]=S===v?"bottom":S===_?"top":"none"}}catch(Y){w.e(Y)}finally{w.f()}}else if(h.length>0&&c.length===0)if(h.length===1)o[h[0]][l]="both";else{var A,T=Math.max.apply(Math,h),N=Math.min.apply(Math,h),O=Gd(h);try{for(O.s();!(A=O.n()).done;){var C=A.value;o[C][l]=C===T?"bottom":C===N?"top":"none"}}catch(Y){O.e(Y)}finally{O.f()}}else if(c.length>0&&h.length>0){var k,M=c[c.length-1],I=Gd(c);try{for(I.s();!(k=I.n()).done;){var D=k.value;o[D][l]=D===M?"top":"none"}}catch(Y){I.e(Y)}finally{I.f()}var F,V=Math.max.apply(Math,h),G=Gd(h);try{for(G.s();!(F=G.n()).done;){var J=F.value;o[J][l]=J===V?"bottom":"none"}}catch(Y){G.e(Y)}finally{G.f()}}else f===1&&(o[c[0]||h[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var t=e.j,s=e.i,i=e.x1,r=e.x2,a=e.y1,o=e.y2,l=e.elSeries,c=this.w,h=new le(this.barCtx.ctx),f=new Fi(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&f===s){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var g=this.barCtx.barOptions.colors.backgroundBarColors[t],p=h.drawRect(i!==void 0?i:0,a!==void 0?a:0,r!==void 0?r:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,g,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(p),p.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,s=e.barWidth,i=e.barXPosition,r=e.y1,a=e.y2,o=e.strokeWidth,l=e.isReversed,c=e.series,h=e.seriesGroup,f=e.realIndex,g=e.i,p=e.j,x=e.w,v=new le(this.barCtx.ctx);(o=Array.isArray(o)?o[f]:o)||(o=0);var _=s,w=i;(t=x.config.series[f].data[p])!==null&&t!==void 0&&t.columnWidthOffset&&(w=i-x.config.series[f].data[p].columnWidthOffset/2,_=s+x.config.series[f].data[p].columnWidthOffset);var S=o/2,A=w+S,T=w+_-S,N=(c[g][p]>=0?1:-1)*(l?-1:1);r+=.001-S*N,a+=.001+S*N;var O=v.move(A,r),C=v.move(A,r),k=v.line(T,r);if(x.globals.previousPaths.length>0&&(C=this.barCtx.getPreviousPath(f,p,!1)),O=O+v.line(A,a)+v.line(T,a)+k+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),C=C+v.line(A,r)+k+k+k+k+k+v.line(A,r)+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),this.arrBorderRadius[f][p]!=="none"&&(O=v.roundPathCorners(O,x.config.plotOptions.bar.borderRadius)),x.config.chart.stacked){var M=this.barCtx;(M=this.barCtx[h]).yArrj.push(a-S*N),M.yArrjF.push(Math.abs(r-a+o*N)),M.yArrjVal.push(this.barCtx.series[g][p])}return{pathTo:O,pathFrom:C}}},{key:"getBarpaths",value:function(e){var t,s=e.barYPosition,i=e.barHeight,r=e.x1,a=e.x2,o=e.strokeWidth,l=e.isReversed,c=e.series,h=e.seriesGroup,f=e.realIndex,g=e.i,p=e.j,x=e.w,v=new le(this.barCtx.ctx);(o=Array.isArray(o)?o[f]:o)||(o=0);var _=s,w=i;(t=x.config.series[f].data[p])!==null&&t!==void 0&&t.barHeightOffset&&(_=s-x.config.series[f].data[p].barHeightOffset/2,w=i+x.config.series[f].data[p].barHeightOffset);var S=o/2,A=_+S,T=_+w-S,N=(c[g][p]>=0?1:-1)*(l?-1:1);r+=.001+S*N,a+=.001-S*N;var O=v.move(r,A),C=v.move(r,A);x.globals.previousPaths.length>0&&(C=this.barCtx.getPreviousPath(f,p,!1));var k=v.line(r,T);if(O=O+v.line(a,A)+v.line(a,T)+k+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),C=C+v.line(r,A)+k+k+k+k+k+v.line(r,A)+(x.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][p]==="both"?" Z":" z"),this.arrBorderRadius[f][p]!=="none"&&(O=v.roundPathCorners(O,x.config.plotOptions.bar.borderRadius)),x.config.chart.stacked){var M=this.barCtx;(M=this.barCtx[h]).xArrj.push(a+S*N),M.xArrjF.push(Math.abs(r-a-o*N)),M.xArrjVal.push(this.barCtx.series[g][p])}return{pathTo:O,pathFrom:C}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,s=this.w,i=0;i<t.length;i++){for(var r=0,a=0;a<t[s.globals.maxValsInArrayIndex].length;a++)r+=t[i][a];r===0&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,t){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t,s){var i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(i=t-e/this.barCtx.yRatio[s]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[s]:0)),i}},{key:"getGoalValues",value:function(e,t,s,i,r,a){var o=this,l=this.w,c=[],h=function(p,x){var v;c.push((sx(v={},e,e==="x"?o.getXForValue(p,t,!1):o.getYForValue(p,s,a,!1)),sx(v,"attrs",x),v))};if(l.globals.seriesGoals[i]&&l.globals.seriesGoals[i][r]&&Array.isArray(l.globals.seriesGoals[i][r])&&l.globals.seriesGoals[i][r].forEach(function(p){h(p.value,p)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var f=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,g={strokeHeight:e==="x"?0:l.globals.markers.size[i],strokeWidth:e==="x"?l.globals.markers.size[i]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(f[i])?f[i][0]:f[i]};h(l.globals.seriesRangeStart[i][r],g),h(l.globals.seriesRangeEnd[i][r],me(me({},g),{},{strokeColor:Array.isArray(f[i])?f[i][1]:f[i]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,s=e.barYPosition,i=e.goalX,r=e.goalY,a=e.barWidth,o=e.barHeight,l=new le(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var h=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach(function(f){if(f.x>=-1&&f.x<=l.w.globals.gridWidth+1){var g=f.attrs.strokeHeight!==void 0?f.attrs.strokeHeight:o/2,p=s+g+o/2;h=l.drawLine(f.x,p-2*g,f.x,p,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeWidth?f.attrs.strokeWidth:2,f.attrs.strokeLineCap),c.add(h)}}):Array.isArray(r)&&r.forEach(function(f){if(f.y>=-1&&f.y<=l.w.globals.gridHeight+1){var g=f.attrs.strokeWidth!==void 0?f.attrs.strokeWidth:a/2,p=t+g+a/2;h=l.drawLine(p-2*g,f.y,p,f.y,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeHeight?f.attrs.strokeHeight:2,f.attrs.strokeLineCap),c.add(h)}}),c}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,s=e.currPaths,i=e.color,r=this.w,a=t.x,o=t.x1,l=t.barYPosition,c=s.x,h=s.x1,f=s.barYPosition,g=l+s.barHeight,p=new le(this.barCtx.ctx),x=new K,v=p.move(o,g)+p.line(a,g)+p.line(c,f)+p.line(h,f)+p.line(o,g)+(r.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return p.drawPath({d:v,fill:x.shadeColor(.5,K.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,s=e.i,i=e.j,r=this.w,a=0,o=0;return(r.config.plotOptions.bar.horizontal?r.globals.series.map(function(l,c){return c}):((t=r.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(l){return l}))||[]).forEach(function(l){var c=r.globals.seriesPercent[l][i];c&&a++,l<s&&c===0&&o++}),{nonZeroColumns:a,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var t=this.w,s=t.globals.seriesGroups.findIndex(function(a){return a.indexOf(t.globals.seriesNames[e])>-1}),i=this.barCtx.columnGroupIndices,r=i.indexOf(s);return r<0&&(i.push(s),r=i.length-1),{groupIndex:s,columnGroupIndex:r}}}]),n}(),Ah=function(){function n(e,t){we(this,n),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.globals.seriesRange.length&&s.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var i=new Fi(this.ctx);this.lastActiveBarSerieIndex=i.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var r=i.getBarSeriesIndices(),a=new sn(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return r.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new Fte(this)}return _e(n,[{key:"draw",value:function(e,t){var s=this.w,i=new le(this.ctx),r=new sn(this.ctx,s);e=r.getLogSeries(e),this.series=e,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,h,f,g,p=void 0,x=void 0,v=[],_=[],w=s.globals.comboCharts?t[o]:o,S=this.barHelpers.getGroupIndex(w).columnGroupIndex,A=i.group({class:"apexcharts-series",rel:o+1,seriesName:K.escapeString(s.globals.seriesNames[w]),"data:realIndex":w});this.ctx.series.addCollapsedClassToSeries(A,w),e[o].length>0&&(this.visibleI=this.visibleI+1);var T=0,N=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[w],this.translationsIndex=w);var O=this.translationsIndex;this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var C=this.barHelpers.initialPositions(w);x=C.y,T=C.barHeight,h=C.yDivision,g=C.zeroW,p=C.x,N=C.barWidth,c=C.xDivision,f=C.zeroH,this.isHorizontal||_.push(p+N/2);var k=i.group({class:"apexcharts-datalabels","data:realIndex":w});s.globals.delayedElements.push({el:k.node}),k.node.classList.add("apexcharts-element-hidden");var M=i.group({class:"apexcharts-bar-goals-markers"}),I=i.group({class:"apexcharts-bar-shadows"});s.globals.delayedElements.push({el:I.node}),I.node.classList.add("apexcharts-element-hidden");for(var D=0;D<e[o].length;D++){var F=this.barHelpers.getStrokeWidth(o,D,w),V=null,G={indexes:{i:o,j:D,realIndex:w,translationsIndex:O,bc:l},x:p,y:x,strokeWidth:F,elSeries:A};this.isHorizontal?(V=this.drawBarPaths(me(me({},G),{},{barHeight:T,zeroW:g,yDivision:h})),N=this.series[o][D]/this.invertedYRatio):(V=this.drawColumnPaths(me(me({},G),{},{xDivision:c,barWidth:N,zeroH:f})),T=this.series[o][D]/this.yRatio[O]);var J=this.barHelpers.getPathFillColor(e,o,D,w);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&D>0){var Y,Z=this.barHelpers.drawBarShadow({color:typeof J.color=="string"&&((Y=J.color)===null||Y===void 0?void 0:Y.indexOf("url"))===-1?J.color:K.hexToRgba(s.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:V});I.add(Z),s.config.chart.dropShadow.enabled&&new Wn(this.ctx).dropShadow(Z,s.config.chart.dropShadow,w)}this.pathArr.push(V);var U=this.barHelpers.drawGoalLine({barXPosition:V.barXPosition,barYPosition:V.barYPosition,goalX:V.goalX,goalY:V.goalY,barHeight:T,barWidth:N});U&&M.add(U),x=V.y,p=V.x,D>0&&_.push(p+N/2),v.push(x),this.renderSeries(me(me({realIndex:w,pathFill:J.color},J.useRangeColor?{lineFill:J.color}:{}),{},{j:D,i:o,columnGroupIndex:S,pathFrom:V.pathFrom,pathTo:V.pathTo,strokeWidth:F,elSeries:A,x:p,y:x,series:e,barHeight:Math.abs(V.barHeight?V.barHeight:T),barWidth:Math.abs(V.barWidth?V.barWidth:N),elDataLabelsWrap:k,elGoalsMarkers:M,elBarShadows:I,visibleSeries:this.visibleI,type:"bar"}))}s.globals.seriesXvalues[w]=_,s.globals.seriesYvalues[w]=v,a.add(A)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,s=e.pathFill,i=e.lineFill,r=e.j,a=e.i,o=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,h=e.strokeWidth,f=e.elSeries,g=e.x,p=e.y,x=e.y1,v=e.y2,_=e.series,w=e.barHeight,S=e.barWidth,A=e.barXPosition,T=e.barYPosition,N=e.elDataLabelsWrap,O=e.elGoalsMarkers,C=e.elBarShadows,k=e.visibleSeries,M=e.type,I=e.classes,D=this.w,F=new le(this.ctx),V=!1;if(!i){var G=typeof D.globals.stroke.colors[t]=="function"?function(X){var Q,se=D.config.stroke.colors;return Array.isArray(se)&&se.length>0&&((Q=se[X])||(Q=""),typeof Q=="function")?Q({value:D.globals.series[X][r],dataPointIndex:r,w:D}):Q}(t):D.globals.stroke.colors[t];i=this.barOptions.distributed?D.globals.stroke.colors[r]:G}var J=new zte(this).handleBarDataLabels({x:g,y:p,y1:x,y2:v,i:a,j:r,series:_,realIndex:t,columnGroupIndex:o,barHeight:w,barWidth:S,barXPosition:A,barYPosition:T,visibleSeries:k});D.globals.isBarHorizontal||(J.dataLabelsPos.dataLabelsX+Math.max(S,D.globals.barPadForNumericAxis)<0||J.dataLabelsPos.dataLabelsX-Math.max(S,D.globals.barPadForNumericAxis)>D.globals.gridWidth)&&(V=!0),D.config.series[a].data[r]&&D.config.series[a].data[r].strokeColor&&(i=D.config.series[a].data[r].strokeColor),this.isNullValue&&(s="none");var Y=r/D.config.chart.animations.animateGradually.delay*(D.config.chart.animations.speed/D.globals.dataPoints)/2.4;if(!V){var Z=F.renderPaths({i:a,j:r,realIndex:t,pathFrom:l,pathTo:c,stroke:i,strokeWidth:h,strokeLineCap:D.config.stroke.lineCap,fill:s,animationDelay:Y,initialSpeed:D.config.chart.animations.speed,dataChangeSpeed:D.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(M,"-area ").concat(I),chartType:M});Z.attr("clip-path","url(#gridRectBarMask".concat(D.globals.cuid,")"));var U=D.config.forecastDataPoints;U.count>0&&r>=D.globals.dataPoints-U.count&&(Z.node.setAttribute("stroke-dasharray",U.dashArray),Z.node.setAttribute("stroke-width",U.strokeWidth),Z.node.setAttribute("fill-opacity",U.fillOpacity)),x!==void 0&&v!==void 0&&(Z.attr("data-range-y1",x),Z.attr("data-range-y2",v)),new Wn(this.ctx).setSelectionFilter(Z,t,r),f.add(Z),Z.attr({cy:J.dataLabelsPos.bcy,cx:J.dataLabelsPos.bcx,j:r,val:D.globals.series[a][r],barHeight:w,barWidth:S}),J.dataLabels!==null&&N.add(J.dataLabels),J.totalDataLabels&&N.add(J.totalDataLabels),f.add(N),O&&f.add(O),C&&f.add(C)}return f}},{key:"drawBarPaths",value:function(e){var t,s=e.indexes,i=e.barHeight,r=e.strokeWidth,a=e.zeroW,o=e.x,l=e.y,c=e.yDivision,h=e.elSeries,f=this.w,g=s.i,p=s.j;if(f.globals.isXNumeric)t=(l=(f.globals.seriesX[g][p]-f.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var x=this.barHelpers.getZeroValueEncounters({i:g,j:p}),v=x.nonZeroColumns,_=x.zeroEncounters;v>0&&(i=this.seriesLen*i/v),t=l+i*this.visibleI,t-=i*_}else t=l+i*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[g][p],a)-a)/2),o=this.barHelpers.getXForValue(this.series[g][p],a);var w=this.barHelpers.getBarpaths({barYPosition:t,barHeight:i,x1:a,x2:o,strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,i:g,j:p,w:f});return f.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:p,i:g,y1:t-i*this.visibleI,y2:i*this.seriesLen,elSeries:h}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x1:a,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",a,null,g,p),barYPosition:t,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var t,s=e.indexes,i=e.x,r=e.y,a=e.xDivision,o=e.barWidth,l=e.zeroH,c=e.strokeWidth,h=e.elSeries,f=this.w,g=s.realIndex,p=s.translationsIndex,x=s.i,v=s.j,_=s.bc;if(f.globals.isXNumeric){var w=this.getBarXForNumericXAxis({x:i,j:v,realIndex:g,barWidth:o});i=w.x,t=w.barXPosition}else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var S=this.barHelpers.getZeroValueEncounters({i:x,j:v}),A=S.nonZeroColumns,T=S.zeroEncounters;A>0&&(o=this.seriesLen*o/A),t=i+o*this.visibleI,t-=o*T}else t=i+o*this.visibleI;r=this.barHelpers.getYForValue(this.series[x][v],l,p);var N=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:o,y1:l,y2:r,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:g,i:x,j:v,w:f});return f.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:_,j:v,i:x,x1:t-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:h}),{pathTo:N.pathTo,pathFrom:N.pathFrom,x:i,y:r,goalY:this.barHelpers.getGoalValues("y",null,l,x,v,p),barXPosition:t,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,s=e.barWidth,i=e.realIndex,r=e.j,a=this.w,o=i;return a.globals.seriesX[i].length||(o=a.globals.maxValsInArrayIndex),K.isNumber(a.globals.seriesX[o][r])&&(t=(a.globals.seriesX[o][r]-a.globals.minX)/this.xRatio-s*this.seriesLen/2),{barXPosition:t+s*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var s=this.w,i="M 0 0",r=0;r<s.globals.previousPaths.length;r++){var a=s.globals.previousPaths[r];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&s.globals.previousPaths[r].paths[t]!==void 0&&(i=s.globals.previousPaths[r].paths[t].d)}return i}}]),n}(),Z2=function(n){Jg(t,Ah);var e=Qg(t);function t(){return we(this,t),e.apply(this,arguments)}return _e(t,[{key:"draw",value:function(s,i){var r=this,a=this.w;this.graphics=new le(this.ctx),this.bar=new Ah(this.ctx,this.xyRatios);var o=new sn(this.ctx,a);s=o.getLogSeries(s),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),a.config.chart.stackType==="100%"&&(s=a.globals.comboCharts?i.map(function(x){return a.globals.seriesPercent[x]}):a.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,h=0,f=function(x,v){var _=void 0,w=void 0,S=void 0,A=void 0,T=a.globals.comboCharts?i[x]:x,N=r.barHelpers.getGroupIndex(T),O=N.groupIndex,C=N.columnGroupIndex;r.groupCtx=r[a.globals.seriesGroups[O]];var k=[],M=[],I=0;r.yRatio.length>1&&(r.yaxisIndex=a.globals.seriesYAxisReverseMap[T][0],I=T),r.isReversed=a.config.yaxis[r.yaxisIndex]&&a.config.yaxis[r.yaxisIndex].reversed;var D=r.graphics.group({class:"apexcharts-series",seriesName:K.escapeString(a.globals.seriesNames[T]),rel:x+1,"data:realIndex":T});r.ctx.series.addCollapsedClassToSeries(D,T);var F=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":T}),V=r.graphics.group({class:"apexcharts-bar-goals-markers"}),G=0,J=0,Y=r.initialPositions(c,h,_,w,S,A,I);h=Y.y,G=Y.barHeight,w=Y.yDivision,A=Y.zeroW,c=Y.x,J=Y.barWidth,_=Y.xDivision,S=Y.zeroH,a.globals.barHeight=G,a.globals.barWidth=J,r.barHelpers.initializeStackedXYVars(r),r.groupCtx.prevY.length===1&&r.groupCtx.prevY[0].every(function(fe){return isNaN(fe)})&&(r.groupCtx.prevY[0]=r.groupCtx.prevY[0].map(function(){return S}),r.groupCtx.prevYF[0]=r.groupCtx.prevYF[0].map(function(){return 0}));for(var Z=0;Z<a.globals.dataPoints;Z++){var U=r.barHelpers.getStrokeWidth(x,Z,T),X={indexes:{i:x,j:Z,realIndex:T,translationsIndex:I,bc:v},strokeWidth:U,x:c,y:h,elSeries:D,columnGroupIndex:C,seriesGroup:a.globals.seriesGroups[O]},Q=null;r.isHorizontal?(Q=r.drawStackedBarPaths(me(me({},X),{},{zeroW:A,barHeight:G,yDivision:w})),J=r.series[x][Z]/r.invertedYRatio):(Q=r.drawStackedColumnPaths(me(me({},X),{},{xDivision:_,barWidth:J,zeroH:S})),G=r.series[x][Z]/r.yRatio[I]);var se=r.barHelpers.drawGoalLine({barXPosition:Q.barXPosition,barYPosition:Q.barYPosition,goalX:Q.goalX,goalY:Q.goalY,barHeight:G,barWidth:J});se&&V.add(se),h=Q.y,c=Q.x,k.push(c),M.push(h);var q=r.barHelpers.getPathFillColor(s,x,Z,T),he="",ae=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(r.barHelpers.arrBorderRadius[T][Z]==="bottom"&&a.globals.series[T][Z]>0||r.barHelpers.arrBorderRadius[T][Z]==="top"&&a.globals.series[T][Z]<0)&&(he=ae),D=r.renderSeries(me(me({realIndex:T,pathFill:q.color},q.useRangeColor?{lineFill:q.color}:{}),{},{j:Z,i:x,columnGroupIndex:C,pathFrom:Q.pathFrom,pathTo:Q.pathTo,strokeWidth:U,elSeries:D,x:c,y:h,series:s,barHeight:G,barWidth:J,elDataLabelsWrap:F,elGoalsMarkers:V,type:"bar",visibleSeries:C,classes:he}))}a.globals.seriesXvalues[T]=k,a.globals.seriesYvalues[T]=M,r.groupCtx.prevY.push(r.groupCtx.yArrj),r.groupCtx.prevYF.push(r.groupCtx.yArrjF),r.groupCtx.prevYVal.push(r.groupCtx.yArrjVal),r.groupCtx.prevX.push(r.groupCtx.xArrj),r.groupCtx.prevXF.push(r.groupCtx.xArrjF),r.groupCtx.prevXVal.push(r.groupCtx.xArrjVal),l.add(D)},g=0,p=0;g<s.length;g++,p++)f(g,p);return l}},{key:"initialPositions",value:function(s,i,r,a,o,l,c){var h,f,g=this.w;if(this.isHorizontal){a=g.globals.gridHeight/g.globals.dataPoints;var p=g.config.plotOptions.bar.barHeight;h=String(p).indexOf("%")===-1?parseInt(p,10):a*parseInt(p,10)/100,l=g.globals.padHorizontal+(this.isReversed?g.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),i=(a-h)/2}else{f=r=g.globals.gridWidth/g.globals.dataPoints;var x=g.config.plotOptions.bar.columnWidth;g.globals.isXNumeric&&g.globals.dataPoints>1?f=(r=g.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(x).indexOf("%")===-1?f=parseInt(x,10):f*=parseInt(x,10)/100,o=this.isReversed?this.baseLineY[c]:g.globals.gridHeight-this.baseLineY[c],s=g.globals.padHorizontal+(r-f)/2}var v=g.globals.barGroups.length||1;return{x:s,y:i,yDivision:a,xDivision:r,barHeight:h/v,barWidth:f/v,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(s){for(var i,r=s.indexes,a=s.barHeight,o=s.strokeWidth,l=s.zeroW,c=s.x,h=s.y,f=s.columnGroupIndex,g=s.seriesGroup,p=s.yDivision,x=s.elSeries,v=this.w,_=h+f*a,w=r.i,S=r.j,A=r.realIndex,T=r.translationsIndex,N=0,O=0;O<this.groupCtx.prevXF.length;O++)N+=this.groupCtx.prevXF[O][S];var C=w;if(v.config.series[A].name&&(C=g.indexOf(v.config.series[A].name)),C>0){var k=l;this.groupCtx.prevXVal[C-1][S]<0?k=this.series[w][S]>=0?this.groupCtx.prevX[C-1][S]+N-2*(this.isReversed?N:0):this.groupCtx.prevX[C-1][S]:this.groupCtx.prevXVal[C-1][S]>=0&&(k=this.series[w][S]>=0?this.groupCtx.prevX[C-1][S]:this.groupCtx.prevX[C-1][S]-N+2*(this.isReversed?N:0)),i=k}else i=l;c=this.series[w][S]===null?i:i+this.series[w][S]/this.invertedYRatio-2*(this.isReversed?this.series[w][S]/this.invertedYRatio:0);var M=this.barHelpers.getBarpaths({barYPosition:_,barHeight:a,x1:i,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,seriesGroup:g,i:w,j:S,w:v});return this.barHelpers.barBackground({j:S,i:w,y1:_,y2:a,elSeries:x}),h+=p,{pathTo:M.pathTo,pathFrom:M.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,w,S,T),barXPosition:i,barYPosition:_,x:c,y:h}}},{key:"drawStackedColumnPaths",value:function(s){var i=s.indexes,r=s.x,a=s.y,o=s.xDivision,l=s.barWidth,c=s.zeroH,h=s.columnGroupIndex,f=s.seriesGroup,g=s.elSeries,p=this.w,x=i.i,v=i.j,_=i.bc,w=i.realIndex,S=i.translationsIndex;if(p.globals.isXNumeric){var A=p.globals.seriesX[w][v];A||(A=0),r=(A-p.globals.minX)/this.xRatio-l/2*p.globals.barGroups.length}for(var T,N=r+h*l,O=0,C=0;C<this.groupCtx.prevYF.length;C++)O+=isNaN(this.groupCtx.prevYF[C][v])?0:this.groupCtx.prevYF[C][v];var k=x;if(f&&(k=f.indexOf(p.globals.seriesNames[w])),k>0&&!p.globals.isXNumeric||k>0&&p.globals.isXNumeric&&p.globals.seriesX[w-1][v]===p.globals.seriesX[w][v]){var M,I,D,F=Math.min(this.yRatio.length+1,w+1);if(this.groupCtx.prevY[k-1]!==void 0&&this.groupCtx.prevY[k-1].length)for(var V=1;V<F;V++){var G;if(!isNaN((G=this.groupCtx.prevY[k-V])===null||G===void 0?void 0:G[v])){D=this.groupCtx.prevY[k-V][v];break}}for(var J=1;J<F;J++){var Y,Z;if(((Y=this.groupCtx.prevYVal[k-J])===null||Y===void 0?void 0:Y[v])<0){I=this.series[x][v]>=0?D-O+2*(this.isReversed?O:0):D;break}if(((Z=this.groupCtx.prevYVal[k-J])===null||Z===void 0?void 0:Z[v])>=0){I=this.series[x][v]>=0?D:D+O-2*(this.isReversed?O:0);break}}I===void 0&&(I=p.globals.gridHeight),T=(M=this.groupCtx.prevYF[0])!==null&&M!==void 0&&M.every(function(X){return X===0})&&this.groupCtx.prevYF.slice(1,k).every(function(X){return X.every(function(Q){return isNaN(Q)})})?c:I}else T=c;a=this.series[x][v]?T-this.series[x][v]/this.yRatio[S]+2*(this.isReversed?this.series[x][v]/this.yRatio[S]:0):T;var U=this.barHelpers.getColumnPaths({barXPosition:N,barWidth:l,y1:T,y2:a,yRatio:this.yRatio[S],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:f,realIndex:i.realIndex,i:x,j:v,w:p});return this.barHelpers.barBackground({bc:_,j:v,i:x,x1:N,x2:l,elSeries:g}),{pathTo:U.pathTo,pathFrom:U.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,x,v),barXPosition:N,x:p.globals.isXNumeric?r:r+o,y:a}}}]),t}(),m0=function(n){Jg(t,Ah);var e=Qg(t);function t(){return we(this,t),e.apply(this,arguments)}return _e(t,[{key:"draw",value:function(s,i,r){var a=this,o=this.w,l=new le(this.ctx),c=o.globals.comboCharts?i:o.config.chart.type,h=new cr(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var f=new sn(this.ctx,o);s=f.getLogSeries(s),this.series=s,this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var g=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),p=function(v){a.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[v].type==="boxPlot";var _,w,S,A,T=void 0,N=void 0,O=[],C=[],k=o.globals.comboCharts?r[v]:v,M=a.barHelpers.getGroupIndex(k).columnGroupIndex,I=l.group({class:"apexcharts-series",seriesName:K.escapeString(o.globals.seriesNames[k]),rel:v+1,"data:realIndex":k});a.ctx.series.addCollapsedClassToSeries(I,k),s[v].length>0&&(a.visibleI=a.visibleI+1);var D,F,V=0;a.yRatio.length>1&&(a.yaxisIndex=o.globals.seriesYAxisReverseMap[k][0],V=k);var G=a.barHelpers.initialPositions(k);N=G.y,D=G.barHeight,w=G.yDivision,A=G.zeroW,T=G.x,F=G.barWidth,_=G.xDivision,S=G.zeroH,C.push(T+F/2);for(var J=l.group({class:"apexcharts-datalabels","data:realIndex":k}),Y=l.group({class:"apexcharts-bar-goals-markers"}),Z=function(X){var Q=a.barHelpers.getStrokeWidth(v,X,k),se=null,q={indexes:{i:v,j:X,realIndex:k,translationsIndex:V},x:T,y:N,strokeWidth:Q,elSeries:I};se=a.isHorizontal?a.drawHorizontalBoxPaths(me(me({},q),{},{yDivision:w,barHeight:D,zeroW:A})):a.drawVerticalBoxPaths(me(me({},q),{},{xDivision:_,barWidth:F,zeroH:S})),N=se.y,T=se.x;var he=a.barHelpers.drawGoalLine({barXPosition:se.barXPosition,barYPosition:se.barYPosition,goalX:se.goalX,goalY:se.goalY,barHeight:D,barWidth:F});he&&Y.add(he),X>0&&C.push(T+F/2),O.push(N),se.pathTo.forEach(function(ae,fe){var oe=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?se.color[fe]:o.globals.stroke.colors[v],re=h.fillPath({seriesNumber:k,dataPointIndex:X,color:se.color[fe],value:s[v][X]});a.renderSeries({realIndex:k,pathFill:re,lineFill:oe,j:X,i:v,pathFrom:se.pathFrom,pathTo:ae,strokeWidth:Q,elSeries:I,x:T,y:N,series:s,columnGroupIndex:M,barHeight:D,barWidth:F,elDataLabelsWrap:J,elGoalsMarkers:Y,visibleSeries:a.visibleI,type:o.config.chart.type})})},U=0;U<o.globals.dataPoints;U++)Z(U);o.globals.seriesXvalues[k]=C,o.globals.seriesYvalues[k]=O,g.add(I)},x=0;x<s.length;x++)p(x);return g}},{key:"drawVerticalBoxPaths",value:function(s){var i=s.indexes,r=s.x;s.y;var a=s.xDivision,o=s.barWidth,l=s.zeroH,c=s.strokeWidth,h=this.w,f=new le(this.ctx),g=i.i,p=i.j,x=h.config.plotOptions.candlestick.colors,v=this.boxOptions.colors,_=i.realIndex,w=function(U){return Array.isArray(U)?U[_]:U},S=w(x.upward),A=w(x.downward),T=this.yRatio[i.translationsIndex],N=this.getOHLCValue(_,p),O=l,C=l,k=N.o<N.c?[S]:[A];this.isBoxPlot&&(k=[w(v.lower),w(v.upper)]);var M=Math.min(N.o,N.c),I=Math.max(N.o,N.c),D=N.m;h.globals.isXNumeric&&(r=(h.globals.seriesX[_][p]-h.globals.minX)/this.xRatio-o/2);var F=r+o*this.visibleI;this.series[g][p]===void 0||this.series[g][p]===null?(M=l,I=l):(M=l-M/T,I=l-I/T,O=l-N.h/T,C=l-N.l/T,D=l-N.m/T);var V=f.move(F,l),G=f.move(F+o/2,M);if(h.globals.previousPaths.length>0&&(G=this.getPreviousPath(_,p,!0)),this.isOHLC){var J=F+o/2,Y=l-N.o/T,Z=l-N.c/T;V=[f.move(J,O)+f.line(J,C)+f.move(J,Y)+f.line(F,Y)+f.move(J,Z)+f.line(F+o,Z)]}else V=this.isBoxPlot?[f.move(F,M)+f.line(F+o/2,M)+f.line(F+o/2,O)+f.line(F+o/4,O)+f.line(F+o-o/4,O)+f.line(F+o/2,O)+f.line(F+o/2,M)+f.line(F+o,M)+f.line(F+o,D)+f.line(F,D)+f.line(F,M+c/2),f.move(F,D)+f.line(F+o,D)+f.line(F+o,I)+f.line(F+o/2,I)+f.line(F+o/2,C)+f.line(F+o-o/4,C)+f.line(F+o/4,C)+f.line(F+o/2,C)+f.line(F+o/2,I)+f.line(F,I)+f.line(F,D)+"z"]:[f.move(F,I)+f.line(F+o/2,I)+f.line(F+o/2,O)+f.line(F+o/2,I)+f.line(F+o,I)+f.line(F+o,M)+f.line(F+o/2,M)+f.line(F+o/2,C)+f.line(F+o/2,M)+f.line(F,M)+f.line(F,I-c/2)];return G+=f.move(F,M),h.globals.isXNumeric||(r+=a),{pathTo:V,pathFrom:G,x:r,y:I,goalY:this.barHelpers.getGoalValues("y",null,l,g,p,i.translationsIndex),barXPosition:F,color:k}}},{key:"drawHorizontalBoxPaths",value:function(s){var i=s.indexes;s.x;var r=s.y,a=s.yDivision,o=s.barHeight,l=s.zeroW,c=s.strokeWidth,h=this.w,f=new le(this.ctx),g=i.i,p=i.j,x=this.boxOptions.colors.lower;this.isBoxPlot&&(x=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var v=this.invertedYRatio,_=i.realIndex,w=this.getOHLCValue(_,p),S=l,A=l,T=Math.min(w.o,w.c),N=Math.max(w.o,w.c),O=w.m;h.globals.isXNumeric&&(r=(h.globals.seriesX[_][p]-h.globals.minX)/this.invertedXRatio-o/2);var C=r+o*this.visibleI;this.series[g][p]===void 0||this.series[g][p]===null?(T=l,N=l):(T=l+T/v,N=l+N/v,S=l+w.h/v,A=l+w.l/v,O=l+w.m/v);var k=f.move(l,C),M=f.move(T,C+o/2);return h.globals.previousPaths.length>0&&(M=this.getPreviousPath(_,p,!0)),k=[f.move(T,C)+f.line(T,C+o/2)+f.line(S,C+o/2)+f.line(S,C+o/2-o/4)+f.line(S,C+o/2+o/4)+f.line(S,C+o/2)+f.line(T,C+o/2)+f.line(T,C+o)+f.line(O,C+o)+f.line(O,C)+f.line(T+c/2,C),f.move(O,C)+f.line(O,C+o)+f.line(N,C+o)+f.line(N,C+o/2)+f.line(A,C+o/2)+f.line(A,C+o-o/4)+f.line(A,C+o/4)+f.line(A,C+o/2)+f.line(N,C+o/2)+f.line(N,C)+f.line(O,C)+"z"],M+=f.move(T,C),h.globals.isXNumeric||(r+=a),{pathTo:k,pathFrom:M,x:N,y:r,goalX:this.barHelpers.getGoalValues("x",l,null,g,p),barYPosition:C,color:x}}},{key:"getOHLCValue",value:function(s,i){var r=this.w,a=new sn(this.ctx,r),o=a.getLogValAtSeriesIndex(r.globals.seriesCandleH[s][i],s),l=a.getLogValAtSeriesIndex(r.globals.seriesCandleO[s][i],s),c=a.getLogValAtSeriesIndex(r.globals.seriesCandleM[s][i],s),h=a.getLogValAtSeriesIndex(r.globals.seriesCandleC[s][i],s),f=a.getLogValAtSeriesIndex(r.globals.seriesCandleL[s][i],s);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?h:f,c:this.isBoxPlot?f:h}}}]),t}(),L4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(i,r){i.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,s,i){var r=this.w,a=1,o=r.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,t,s);r.globals.hasNegs||i?a=r.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(a=1-l.percent/100,e==="treemap"&&(a=(1-l.percent/100)*(1.25*o)));var c=l.color,h=new K;if(r.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var f=h.shadeColor(-1*a,l.color);c=K.hexToRgba(K.isColorHex(f)?f:K.rgb2hex(f),r.config.fill.opacity)}else{var g=h.shadeColor(a,l.color);c=K.hexToRgba(K.isColorHex(g)?g:K.rgb2hex(g),r.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,t,s){var i=this.w,r=i.globals.series[t][s],a=i.config.plotOptions[e],o=a.colorScale.inverse?s:t;a.distributed&&i.config.chart.type==="treemap"&&(o=s);var l=i.globals.colors[o],c=null,h=Math.min.apply(Math,Cn(i.globals.series[t])),f=Math.max.apply(Math,Cn(i.globals.series[t]));a.distributed||e!=="heatmap"||(h=i.globals.minY,f=i.globals.maxY),a.colorScale.min!==void 0&&(h=a.colorScale.min<i.globals.minY?a.colorScale.min:i.globals.minY,f=a.colorScale.max>i.globals.maxY?a.colorScale.max:i.globals.maxY);var g=Math.abs(f)+Math.abs(h),p=100*r/(g===0?g-1e-6:g);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(x,v){if(r>=x.from&&r<=x.to){l=x.color,c=x.foreColor?x.foreColor:null,h=x.from,f=x.to;var _=Math.abs(f)+Math.abs(h);p=100*r/(_===0?_-1e-6:_)}}),{color:l,foreColor:c,percent:p}}},{key:"calculateDataLabels",value:function(e){var t=e.text,s=e.x,i=e.y,r=e.i,a=e.j,o=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,h=new le(this.ctx),f=new Sh(this.ctx),g=null;if(c.enabled){g=h.group({class:"apexcharts-data-labels"});var p=c.offsetX,x=c.offsetY,v=s+p,_=i+parseFloat(c.style.fontSize)/3+x;f.plotDataLabelsText({x:v,y:_,text:t,i:r,j:a,color:o.foreColor,parent:g,fontSize:l,dataLabelsConfig:c})}return g}},{key:"addListeners",value:function(e){var t=new le(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),n}(),Bte=function(){function n(e,t){we(this,n),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new L4(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return _e(n,[{key:"draw",value:function(e){var t=this.w,s=new le(this.ctx),i=s.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();t.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var h=l?0:c.length-1;l?h<c.length:h>=0;l?h++:h--){var f=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:K.escapeString(t.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});if(this.ctx.series.addCollapsedClassToSeries(f,h),t.config.chart.dropShadow.enabled){var g=t.config.chart.dropShadow;new Wn(this.ctx).dropShadow(f,g,h)}for(var p=0,x=t.config.plotOptions.heatmap.shadeIntensity,v=0,_=0;_<t.globals.dataPoints;_++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*_<t.globals.seriesX[h][v])p+=r;else{if(v>=c[h].length)break;var w=this.helpers.getShadeColor(t.config.chart.type,h,v,this.negRange),S=w.color,A=w.colorProps;t.config.fill.type==="image"&&(S=new cr(this.ctx).fillPath({seriesNumber:h,dataPointIndex:v,opacity:t.globals.hasNegs?A.percent<0?1-(1+A.percent/100):x+A.percent/100:A.percent/100,patternID:K.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:a}));var T=this.rectRadius,N=s.drawRect(p,o,r,a,T);if(N.attr({cx:p,cy:o}),N.node.classList.add("apexcharts-heatmap-rect"),f.add(N),N.attr({fill:S,i:h,index:h,j:v,val:e[h][v],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?S:t.globals.stroke.colors[0],color:S}),this.helpers.addListeners(N),t.config.chart.animations.enabled&&!t.globals.dataChanged){var O=1;t.globals.resized||(O=t.config.chart.animations.speed),this.animateHeatMap(N,p,o,r,a,O)}if(t.globals.dataChanged){var C=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){C=this.dynamicAnim.speed;var k=t.globals.previousPaths[h]&&t.globals.previousPaths[h][v]&&t.globals.previousPaths[h][v].color;k||(k="rgba(255, 255, 255, 0)"),this.animateHeatColor(N,K.isColorHex(k)?k:K.rgb2hex(k),K.isColorHex(S)?S:K.rgb2hex(S),C)}}var M=(0,t.config.dataLabels.formatter)(t.globals.series[h][v],{value:t.globals.series[h][v],seriesIndex:h,dataPointIndex:v,w:t}),I=this.helpers.calculateDataLabels({text:M,x:p+r/2,y:o+a/2,i:h,j:v,colorProps:A,series:c});I!==null&&f.add(I),p+=r,v++}o+=a,i.add(f)}var D=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?D.unshift(""):D.push(""),t.globals.yAxisScale[0].result=D,i}},{key:"animateHeatMap",value:function(e,t,s,i,r,a){var o=new Xh(this.ctx);o.animateRect(e,{x:t+i/2,y:s+r/2,width:0,height:0},{x:t,y:s,width:i,height:r},a,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,s,i){e.attr({fill:t}).animate(i).attr({fill:s})}}]),n}(),O4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"drawYAxisTexts",value:function(e,t,s,i){var r=this.w,a=r.config.yaxis[0],o=r.globals.yLabelFormatters[0];return new le(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:o(i,s),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[s]:a.labels.style.colors})}}]),n}(),D4=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var s=t.config.plotOptions.pie.customScale,i=t.globals.gridWidth/2,r=t.globals.gridHeight/2;this.translateX=i-i*s,this.translateY=r-r*s,this.dataLabelsGroup=new le(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return _e(n,[{key:"draw",value:function(e){var t=this,s=this.w,i=new le(this.ctx),r=i.group({class:"apexcharts-pie"});if(s.globals.noData)return r;for(var a=0,o=0;o<e.length;o++)a+=K.negToZero(e[o]);var l=[],c=i.group();a===0&&(a=1e-5),e.forEach(function(A){t.maxY=Math.max(t.maxY,A)}),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(r);for(var h=0;h<e.length;h++){var f=this.fullAngle*K.negToZero(e[h])/a;l.push(f),this.chartType==="polarArea"?(l[h]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[h]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var g,p=0,x=0;x<s.globals.previousPaths.length;x++)p+=K.negToZero(s.globals.previousPaths[x]);for(var v=0;v<s.globals.previousPaths.length;v++)g=this.fullAngle*K.negToZero(s.globals.previousPaths[v])/p,this.prevSectorAngleArr.push(g)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var _=i.drawCircle(this.donutSize);_.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),c.add(_)}var w=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(A){w.add(A)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),c.add(w),r.add(c),this.donutDataLabels.show){var S=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});r.add(S)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(r),r}},{key:"drawArcs",value:function(e,t){var s=this.w,i=new Wn(this.ctx),r=new le(this.ctx),a=new cr(this.ctx),o=r.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,h=this.initialAngle,f=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var g=0;g<e.length;g++){var p=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:K.escapeString(s.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});o.add(p),c=f,h=(l=h)+e[g],f=c+this.prevSectorAngleArr[g];var x=h<l?this.fullAngle+h-l:h-l,v=a.fillPath({seriesNumber:g,size:this.sliceSizes[g],value:t[g]}),_=this.getChangedPath(c,f),w=r.drawPath({d:_,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[g]:this.lineColorArr,strokeWidth:0,fill:v,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(g)});if(w.attr({index:0,j:g}),i.setSelectionFilter(w,0,g),s.config.chart.dropShadow.enabled){var S=s.config.chart.dropShadow;i.dropShadow(w,S,g)}this.addListeners(w,this.donutDataLabels),le.setAttrs(w.node,{"data:angle":x,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[g]});var A={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?A=K.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(l+x/2)%this.fullAngle):this.chartType==="donut"&&(A=K.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(l+x/2)%this.fullAngle)),p.add(w);var T=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((T=x/this.fullAngle*s.config.chart.animations.speed)===0&&(T=1),this.animDur=T+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(w,{size:this.sliceSizes[g],endAngle:h,startAngle:l,prevStartAngle:c,prevEndAngle:f,animateStartingPos:!0,i:g,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(w,{size:this.sliceSizes[g],endAngle:h,startAngle:l,i:g,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:T}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&w.node.addEventListener("mouseup",this.pieClicked.bind(this,g)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(g)>-1&&this.pieClicked(g),s.config.dataLabels.enabled){var N=A.x,O=A.y,C=100*x/this.fullAngle+"%";if(x!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[g]){var k=s.config.dataLabels.formatter;k!==void 0&&(C=k(s.globals.seriesPercent[g][0],{seriesIndex:g,w:s}));var M=s.globals.dataLabels.style.colors[g],I=r.group({class:"apexcharts-datalabels"}),D=r.drawText({x:N,y:O,text:C,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:M});if(I.add(D),s.config.dataLabels.dropShadow.enabled){var F=s.config.dataLabels.dropShadow;i.dropShadow(D,F)}D.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(D.node.classList.add("apexcharts-pie-label-delay"),D.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(I)}}}return o}},{key:"addListeners",value:function(e,t){var s=new le(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var s=this.w,i=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=i,a=t.startAngle,o=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(a=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===s.config.series.length-1&&(i+o>this.fullAngle?t.endAngle=t.endAngle-(i+o):i+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(i+o)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,a,o,i,r,t)}},{key:"animateArc",value:function(e,t,s,i,r,a){var o,l=this,c=this.w,h=new Xh(this.ctx),f=a.size;(isNaN(t)||isNaN(r))&&(t=s,r=i,a.dur=0);var g=i,p=s,x=t<s?this.fullAngle+t-s:t-s;c.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:f}),e.attr({d:o})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),a.i===c.config.series.length-1&&h.animationCompleted(e)}).during(function(v){g=x+(i-x)*v,a.animateStartingPos&&(g=r+(i-r)*v,p=t-r+(s-(t-r))*v),o=l.getPiePath({me:l,startAngle:p,angle:g,size:f}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:p,angle:i,size:f}),a.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,s=this.w,i=this,r=i.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),a=s.globals.dom.Paper.findOne(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var o=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(f){f.setAttribute("data:pieClicked","false");var g=f.getAttribute("data:pathOrig");g&&f.setAttribute("d",g)}),s.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var l=parseInt(a.attr("data:startAngle"),10),c=parseInt(a.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:l,angle:c,size:r}),c!==360&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var h=a.attr("data:pathOrig");a.attr({d:h})}}},{key:"getChangedPath",value:function(e,t){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var t,s=e.me,i=e.startAngle,r=e.angle,a=e.size,o=new le(this.ctx),l=i,c=Math.PI*(l-90)/180,h=r+i;Math.ceil(h)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(h=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(h)>this.fullAngle&&(h-=this.fullAngle);var f=Math.PI*(h-90)/180,g=s.centerX+a*Math.cos(c),p=s.centerY+a*Math.sin(c),x=s.centerX+a*Math.cos(f),v=s.centerY+a*Math.sin(f),_=K.polarToCartesian(s.centerX,s.centerY,s.donutSize,h),w=K.polarToCartesian(s.centerX,s.centerY,s.donutSize,l),S=r>180?1:0,A=["M",g,p,"A",a,a,0,S,1,x,v];return t=s.chartType==="donut"?[].concat(A,["L",_.x,_.y,"A",s.donutSize,s.donutSize,0,S,0,w.x,w.y,"L",g,p,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(A,["L",s.centerX,s.centerY,"L",g,p]).join(" "):[].concat(A).join(" "),o.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,s=new R4(this.ctx),i=new le(this.ctx),r=new O4(this.ctx),a=i.group(),o=i.group(),l=s.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),h=l.result.length;this.maxY=l.niceMax;for(var f=t.globals.radialSize,g=f/(h-1),p=0;p<h-1;p++){var x=i.drawCircle(f);if(x.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var v=r.drawYAxisTexts(this.centerX,this.centerY-f+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,p,c[p]);o.add(v)}a.add(x),f-=g}this.drawSpokes(e),e.add(a),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t,s){var i=this.w,r=new le(this.ctx),a=t.total.show;e.node.innerHTML="",e.node.style.opacity=s.opacity;var o,l,c=s.centerX,h=this.donutDataLabels.total.label?s.centerY:s.centerY-s.centerY/6;o=t.name.color===void 0?i.globals.colors[0]:t.name.color;var f=t.name.fontSize,g=t.name.fontFamily,p=t.name.fontWeight;l=t.value.color===void 0?i.config.chart.foreColor:t.value.color;var x=t.value.formatter,v="",_="";if(a?(o=t.total.color,f=t.total.fontSize,g=t.total.fontFamily,p=t.total.fontWeight,_=this.donutDataLabels.total.label?t.total.label:"",v=t.total.formatter(i)):i.globals.series.length===1&&(v=x(i.globals.series[0],i),_=i.globals.seriesNames[0]),_&&(_=t.name.formatter(_,t.total.show,i)),t.name.show){var w=r.drawText({x:c,y:h+parseFloat(t.name.offsetY),text:_,textAnchor:"middle",foreColor:o,fontSize:f,fontWeight:p,fontFamily:g});w.node.classList.add("apexcharts-datalabel-label"),e.add(w)}if(t.value.show){var S=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,A=r.drawText({x:c,y:h+S,text:v,textAnchor:"middle",foreColor:l,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});A.node.classList.add("apexcharts-datalabel-value"),e.add(A)}return e}},{key:"printInnerLabels",value:function(e,t,s,i){var r,a=this.w;i?r=e.name.color===void 0?a.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(r=e.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,a),i||typeof e.total.formatter!="function"||(s=e.total.formatter(a));var c=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,c,a):"",o!==null&&(o.textContent=t),l!==null&&(l.textContent=s),o!==null&&(o.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var s=this.w,i=e.getAttribute("data:value"),r=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(t,r,i,e);var a=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,s=this.w,i=new le(this.ctx),r=s.config.plotOptions.polarArea.spokes;if(r.strokeWidth!==0){for(var a=[],o=360/s.globals.series.length,l=0;l<s.globals.series.length;l++)a.push(K.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+o*l));a.forEach(function(c,h){var f=i.drawLine(c.x,c.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[h]:r.connectorColors);e.add(f)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),s=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(s)}}}]),n}(),Vte=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new le(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new sn(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return _e(n,[{key:"draw",value:function(e){var t=this,s=this.w,i=new cr(this.ctx),r=[],a=new Sh(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=s.globals.gridWidth/2,l=s.globals.gridHeight/2,c=o+s.config.plotOptions.radar.offsetX,h=l+s.config.plotOptions.radar.offsetY,f=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(h||0,")")}),g=[],p=null,x=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(_,w){var S=_.length===s.globals.dataPoints,A=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":S,seriesName:K.escapeString(s.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});t.dataRadiusOfPercent[w]=[],t.dataRadius[w]=[],t.angleArr[w]=[],_.forEach(function(V,G){var J=Math.abs(t.maxValue-t.minValue);V-=t.minValue,t.isLog&&(V=t.coreUtils.getLogVal(t.logBase,V,0)),t.dataRadiusOfPercent[w][G]=V/J,t.dataRadius[w][G]=t.dataRadiusOfPercent[w][G]*t.size,t.angleArr[w][G]=G*t.disAngle}),g=t.getDataPointsPos(t.dataRadius[w],t.angleArr[w]);var T=t.createPaths(g,{x:0,y:0});p=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),x=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":w}),s.globals.delayedElements.push({el:p.node,index:w});var N={i:w,realIndex:w,animationDelay:w,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[w],strokeLineCap:s.config.stroke.lineCap},O=null;s.globals.previousPaths.length>0&&(O=t.getPreviousPath(w));for(var C=0;C<T.linePathsTo.length;C++){var k=t.graphics.renderPaths(me(me({},N),{},{pathFrom:O===null?T.linePathsFrom[C]:O,pathTo:T.linePathsTo[C],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[w]:t.strokeWidth,fill:"none",drawShadow:!1}));A.add(k);var M=i.fillPath({seriesNumber:w}),I=t.graphics.renderPaths(me(me({},N),{},{pathFrom:O===null?T.areaPathsFrom[C]:O,pathTo:T.areaPathsTo[C],strokeWidth:0,fill:M,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var D=new Wn(t.ctx),F=s.config.chart.dropShadow;D.dropShadow(I,Object.assign({},F,{noUserSpaceOnUse:!0}),w)}A.add(I)}_.forEach(function(V,G){var J=new Zh(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:w,dataPointIndex:G}),Y=t.graphics.drawMarker(g[G].x,g[G].y,J);Y.attr("rel",G),Y.attr("j",G),Y.attr("index",w),Y.node.setAttribute("default-marker-size",J.pSize);var Z=t.graphics.group({class:"apexcharts-series-markers"});Z&&Z.add(Y),p.add(Z),A.add(p);var U=s.config.dataLabels;if(U.enabled){var X=U.formatter(s.globals.series[w][G],{seriesIndex:w,dataPointIndex:G,w:s});a.plotDataLabelsText({x:g[G].x,y:g[G].y,text:X,textAnchor:"middle",i:w,j:w,parent:x,offsetCorrection:!1,dataLabelsConfig:me({},U)})}A.add(x)}),r.push(A)}),this.drawPolygons({parent:f}),s.config.xaxis.labels.show){var v=this.drawXAxisTexts();f.add(v)}return r.forEach(function(_){f.add(_)}),f.add(this.yaxisLabels),f}},{key:"drawPolygons",value:function(e){for(var t=this,s=this.w,i=e.parent,r=new O4(this.ctx),a=s.globals.yAxisScale[0].result.reverse(),o=a.length,l=[],c=this.size/(o-1),h=0;h<o;h++)l[h]=c*h;l.reverse();var f=[],g=[];l.forEach(function(p,x){var v=K.getPolygonPos(p,t.dataPointsLen),_="";v.forEach(function(w,S){if(x===0){var A=t.graphics.drawLine(w.x,w.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[S]:t.polygons.connectorColors);g.push(A)}S===0&&t.yaxisLabelsTextsPos.push({x:w.x,y:w.y}),_+=w.x+","+w.y+" "}),f.push(_)}),f.forEach(function(p,x){var v=t.polygons.strokeColors,_=t.polygons.strokeWidth,w=t.graphics.drawPolygon(p,Array.isArray(v)?v[x]:v,Array.isArray(_)?_[x]:_,s.globals.radarPolygons.fill.colors[x]);i.add(w)}),g.forEach(function(p){i.add(p)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(p,x){var v=r.drawYAxisTexts(p.x,p.y,x,a[x]);t.yaxisLabels.add(v)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,s=t.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),r=K.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(a,o){var l=t.config.xaxis.labels.formatter,c=new Sh(e.ctx);if(r[o]){var h=e.getTextPos(r[o],e.size),f=l(a,{seriesIndex:-1,dataPointIndex:o,w:t});c.plotDataLabelsText({x:h.newX,y:h.newY,text:f,textAnchor:h.textAnchor,i:o,j:o,parent:i,className:"apexcharts-xaxis-label",color:Array.isArray(s.style.colors)&&s.style.colors[o]?s.style.colors[o]:"#a8a8a8",dataLabelsConfig:me({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1}).on("click",function(g){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var p=Object.assign({},t,{labelIndex:o});t.config.chart.events.xAxisLabelClick(g,e.ctx,p)}})}}),i}},{key:"createPaths",value:function(e,t){var s=this,i=[],r=[],a=[],o=[];if(e.length){r=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(h,f){l+=s.graphics.line(h.x,h.y),c+=s.graphics.line(h.x,h.y),f===e.length-1&&(l+="Z",c+="Z")}),i.push(l),a.push(c)}return{linePathsFrom:r,linePathsTo:i,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var s="middle",i=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",i+=10):e.x<0&&(s="end",i-=10):s="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:s,newX:i,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,s=null,i=0;i<t.globals.previousPaths.length;i++){var r=t.globals.previousPaths[i];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[i].paths[0]!==void 0&&(s=t.globals.previousPaths[i].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],r=0;r<s;r++){var a={};a.x=e[r]*Math.sin(t[r]),a.y=-e[r]*Math.cos(t[r]),i.push(a)}return i}}]),n}(),Hte=function(n){Jg(t,D4);var e=Qg(t);function t(s){var i;we(this,t),(i=e.call(this,s)).ctx=s,i.w=s.w,i.animBeginArr=[0],i.animDur=0;var r=i.w;return i.startAngle=r.config.plotOptions.radialBar.startAngle,i.endAngle=r.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),i.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,i.barLabels=i.w.config.plotOptions.radialBar.barLabels,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),i.endAngle===360&&(i.endAngle=359.99),i.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),i.onBarLabelClick=i.onBarLabelClick.bind(qD(i)),i}return _e(t,[{key:"draw",value:function(s){var i=this.w,r=new le(this.ctx),a=r.group({class:"apexcharts-radialbar"});if(i.globals.noData)return a;var o=r.group(),l=this.defaultSize/2,c=i.globals.gridWidth/2,h=this.defaultSize/2.05;i.config.chart.sparkline.enabled||(h=h-i.config.stroke.width-i.config.chart.dropShadow.blur);var f=i.globals.fill.colors;if(i.config.plotOptions.radialBar.track.show){var g=this.drawTracks({size:h,centerX:c,centerY:l,colorArr:f,series:s});o.add(g)}var p=this.drawArcs({size:h,centerX:c,centerY:l,colorArr:f,series:s}),x=360;i.config.plotOptions.radialBar.startAngle<0&&(x=this.totalAngle);var v=(360-x)/360;if(i.globals.radialSize=h-h*v,this.radialDataLabels.value.show){var _=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);i.globals.radialSize+=_*v}return o.add(p.g),i.config.plotOptions.radialBar.hollow.position==="front"&&(p.g.add(p.elHollow),p.dataLabels&&p.g.add(p.dataLabels)),a.add(o),a}},{key:"drawTracks",value:function(s){var i=this.w,r=new le(this.ctx),a=r.group({class:"apexcharts-tracks"}),o=new Wn(this.ctx),l=new cr(this.ctx),c=this.getStrokeWidth(s);s.size=s.size-c/2;for(var h=0;h<s.series.length;h++){var f=r.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(f),f.attr({rel:h+1}),s.size=s.size-c-this.margin;var g=i.config.plotOptions.radialBar.track,p=l.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(g.background)?g.background[h]:g.background,solid:!0}),x=this.trackStartAngle,v=this.trackEndAngle;Math.abs(v)+Math.abs(x)>=360&&(v=360-Math.abs(this.startAngle)-.1);var _=r.drawPath({d:"",stroke:p,strokeWidth:c*parseInt(g.strokeWidth,10)/100,fill:"none",strokeOpacity:g.opacity,classes:"apexcharts-radialbar-area"});if(g.dropShadow.enabled){var w=g.dropShadow;o.dropShadow(_,w)}f.add(_),_.attr("id","apexcharts-radialbarTrack-"+h),this.animatePaths(_,{centerX:s.centerX,centerY:s.centerY,endAngle:v,startAngle:x,size:s.size,i:h,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(s){var i=this.w,r=new le(this.ctx),a=new cr(this.ctx),o=new Wn(this.ctx),l=r.group(),c=this.getStrokeWidth(s);s.size=s.size-c/2;var h=i.config.plotOptions.radialBar.hollow.background,f=s.size-c*s.series.length-this.margin*s.series.length-c*parseInt(i.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,g=f-i.config.plotOptions.radialBar.hollow.margin;i.config.plotOptions.radialBar.hollow.image!==void 0&&(h=this.drawHollowImage(s,l,f,h));var p=this.drawHollow({size:g,centerX:s.centerX,centerY:s.centerY,fill:h||"transparent"});if(i.config.plotOptions.radialBar.hollow.dropShadow.enabled){var x=i.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(p,x)}var v=1;!this.radialDataLabels.total.show&&i.globals.series.length>1&&(v=0);var _=null;if(this.radialDataLabels.show){var w=i.globals.dom.Paper.findOne(".apexcharts-datalabels-group");_=this.renderInnerDataLabels(w,this.radialDataLabels,{hollowSize:f,centerX:s.centerX,centerY:s.centerY,opacity:v})}i.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(p),_&&l.add(_));var S=!1;i.config.plotOptions.radialBar.inverseOrder&&(S=!0);for(var A=S?s.series.length-1:0;S?A>=0:A<s.series.length;S?A--:A++){var T=r.group({class:"apexcharts-series apexcharts-radial-series",seriesName:K.escapeString(i.globals.seriesNames[A])});l.add(T),T.attr({rel:A+1,"data:realIndex":A}),this.ctx.series.addCollapsedClassToSeries(T,A),s.size=s.size-c-this.margin;var N=a.fillPath({seriesNumber:A,size:s.size,value:s.series[A]}),O=this.startAngle,C=void 0,k=K.negToZero(s.series[A]>100?100:s.series[A])/100,M=Math.round(this.totalAngle*k)+this.startAngle,I=void 0;i.globals.dataChanged&&(C=this.startAngle,I=Math.round(this.totalAngle*K.negToZero(i.globals.previousPaths[A])/100)+C),Math.abs(M)+Math.abs(O)>360&&(M-=.01),Math.abs(I)+Math.abs(C)>360&&(I-=.01);var D=M-O,F=Array.isArray(i.config.stroke.dashArray)?i.config.stroke.dashArray[A]:i.config.stroke.dashArray,V=r.drawPath({d:"",stroke:N,strokeWidth:c,fill:"none",fillOpacity:i.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+A,strokeDashArray:F});if(le.setAttrs(V.node,{"data:angle":D,"data:value":s.series[A]}),i.config.chart.dropShadow.enabled){var G=i.config.chart.dropShadow;o.dropShadow(V,G,A)}if(o.setSelectionFilter(V,0,A),this.addListeners(V,this.radialDataLabels),T.add(V),V.attr({index:0,j:A}),this.barLabels.enabled){var J=K.polarToCartesian(s.centerX,s.centerY,s.size,O),Y=this.barLabels.formatter(i.globals.seriesNames[A],{seriesIndex:A,w:i}),Z=["apexcharts-radialbar-label"];this.barLabels.onClick||Z.push("apexcharts-no-click");var U=this.barLabels.useSeriesColors?i.globals.colors[A]:i.config.chart.foreColor;U||(U=i.config.chart.foreColor);var X=J.x+this.barLabels.offsetX,Q=J.y+this.barLabels.offsetY,se=r.drawText({x:X,y:Q,text:Y,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:U,cssClass:Z.join(" ")});se.on("click",this.onBarLabelClick),se.attr({rel:A+1}),O!==0&&se.attr({"transform-origin":"".concat(X," ").concat(Q),transform:"rotate(".concat(O," 0 0)")}),T.add(se)}var q=0;!this.initialAnim||i.globals.resized||i.globals.dataChanged||(q=i.config.chart.animations.speed),i.globals.dataChanged&&(q=i.config.chart.animations.dynamicAnimation.speed),this.animDur=q/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(V,{centerX:s.centerX,centerY:s.centerY,endAngle:M,startAngle:O,prevEndAngle:I,prevStartAngle:C,size:s.size,i:A,totalItems:2,animBeginArr:this.animBeginArr,dur:q,shouldSetPrevPaths:!0})}return{g:l,elHollow:p,dataLabels:_}}},{key:"drawHollow",value:function(s){var i=new le(this.ctx).drawCircle(2*s.size);return i.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),i}},{key:"drawHollowImage",value:function(s,i,r,a){var o=this.w,l=new cr(this.ctx),c=K.randomId(),h=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:r,height:r,image:h,patternID:"pattern".concat(o.globals.cuid).concat(c)}),a="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var f=o.config.plotOptions.radialBar.hollow.imageWidth,g=o.config.plotOptions.radialBar.hollow.imageHeight;if(f===void 0&&g===void 0){var p=o.globals.dom.Paper.image(h,function(v){this.move(s.centerX-v.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-v.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});i.add(p)}else{var x=o.globals.dom.Paper.image(h,function(v){this.move(s.centerX-f/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-g/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(f,g)});i.add(x)}}return a}},{key:"getStrokeWidth",value:function(s){var i=this.w;return s.size*(100-parseInt(i.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(s){var i=parseInt(s.target.getAttribute("rel"),10)-1,r=this.barLabels.onClick,a=this.w;r&&r(a.globals.seriesNames[i],{w:a,seriesIndex:i})}}]),t}(),Ute=function(n){Jg(t,Ah);var e=Qg(t);function t(){return we(this,t),e.apply(this,arguments)}return _e(t,[{key:"draw",value:function(s,i){var r=this.w,a=new le(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=r.globals.seriesRangeStart,this.seriesRangeEnd=r.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var o=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<s.length;l++){var c,h,f,g,p=void 0,x=void 0,v=r.globals.comboCharts?i[l]:l,_=this.barHelpers.getGroupIndex(v).columnGroupIndex,w=a.group({class:"apexcharts-series",seriesName:K.escapeString(r.globals.seriesNames[v]),rel:l+1,"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(w,v),s[l].length>0&&(this.visibleI=this.visibleI+1);var S=0,A=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[v][0],T=v);var N=this.barHelpers.initialPositions(v);x=N.y,g=N.zeroW,p=N.x,A=N.barWidth,S=N.barHeight,c=N.xDivision,h=N.yDivision,f=N.zeroH;for(var O=a.group({class:"apexcharts-datalabels","data:realIndex":v}),C=a.group({class:"apexcharts-rangebar-goals-markers"}),k=0;k<r.globals.dataPoints;k++){var M=this.barHelpers.getStrokeWidth(l,k,v),I=this.seriesRangeStart[l][k],D=this.seriesRangeEnd[l][k],F=null,V=null,G=null,J={x:p,y:x,strokeWidth:M,elSeries:w},Y=this.seriesLen;if(r.config.plotOptions.bar.rangeBarGroupRows&&(Y=1),r.config.series[l].data[k]===void 0)break;if(this.isHorizontal){G=x+S*this.visibleI;var Z=(h-S*Y)/2;if(r.config.series[l].data[k].x){var U=this.detectOverlappingBars({i:l,j:k,barYPosition:G,srty:Z,barHeight:S,yDivision:h,initPositions:N});S=U.barHeight,G=U.barYPosition}A=(F=this.drawRangeBarPaths(me({indexes:{i:l,j:k,realIndex:v},barHeight:S,barYPosition:G,zeroW:g,yDivision:h,y1:I,y2:D},J))).barWidth}else{r.globals.isXNumeric&&(p=(r.globals.seriesX[l][k]-r.globals.minX)/this.xRatio-A/2),V=p+A*this.visibleI;var X=(c-A*Y)/2;if(r.config.series[l].data[k].x){var Q=this.detectOverlappingBars({i:l,j:k,barXPosition:V,srtx:X,barWidth:A,xDivision:c,initPositions:N});A=Q.barWidth,V=Q.barXPosition}S=(F=this.drawRangeColumnPaths(me({indexes:{i:l,j:k,realIndex:v,translationsIndex:T},barWidth:A,barXPosition:V,zeroH:f,xDivision:c},J))).barHeight}var se=this.barHelpers.drawGoalLine({barXPosition:F.barXPosition,barYPosition:G,goalX:F.goalX,goalY:F.goalY,barHeight:S,barWidth:A});se&&C.add(se),x=F.y,p=F.x;var q=this.barHelpers.getPathFillColor(s,l,k,v);this.renderSeries({realIndex:v,pathFill:q.color,lineFill:q.useRangeColor?q.color:r.globals.stroke.colors[v],j:k,i:l,x:p,y:x,y1:I,y2:D,pathFrom:F.pathFrom,pathTo:F.pathTo,strokeWidth:M,elSeries:w,series:s,barHeight:S,barWidth:A,barXPosition:V,barYPosition:G,columnGroupIndex:_,elDataLabelsWrap:O,elGoalsMarkers:C,visibleSeries:this.visibleI,type:"rangebar"})}o.add(w)}return o}},{key:"detectOverlappingBars",value:function(s){var i=s.i,r=s.j,a=s.barYPosition,o=s.barXPosition,l=s.srty,c=s.srtx,h=s.barHeight,f=s.barWidth,g=s.yDivision,p=s.xDivision,x=s.initPositions,v=this.w,_=[],w=v.config.series[i].data[r].rangeName,S=v.config.series[i].data[r].x,A=Array.isArray(S)?S.join(" "):S,T=v.globals.labels.map(function(O){return Array.isArray(O)?O.join(" "):O}).indexOf(A),N=v.globals.seriesRange[i].findIndex(function(O){return O.x===A&&O.overlaps.length>0});return this.isHorizontal?(a=v.config.plotOptions.bar.rangeBarGroupRows?l+g*T:l+h*this.visibleI+g*T,N>-1&&!v.config.plotOptions.bar.rangeBarOverlap&&(_=v.globals.seriesRange[i][N].overlaps).indexOf(w)>-1&&(a=(h=x.barHeight/_.length)*this.visibleI+g*(100-parseInt(this.barOptions.barHeight,10))/100/2+h*(this.visibleI+_.indexOf(w))+g*T)):(T>-1&&!v.globals.timescaleLabels.length&&(o=v.config.plotOptions.bar.rangeBarGroupRows?c+p*T:c+f*this.visibleI+p*T),N>-1&&!v.config.plotOptions.bar.rangeBarOverlap&&(_=v.globals.seriesRange[i][N].overlaps).indexOf(w)>-1&&(o=(f=x.barWidth/_.length)*this.visibleI+p*(100-parseInt(this.barOptions.barWidth,10))/100/2+f*(this.visibleI+_.indexOf(w))+p*T)),{barYPosition:a,barXPosition:o,barHeight:h,barWidth:f}}},{key:"drawRangeColumnPaths",value:function(s){var i=s.indexes,r=s.x,a=s.xDivision,o=s.barWidth,l=s.barXPosition,c=s.zeroH,h=this.w,f=i.i,g=i.j,p=i.realIndex,x=i.translationsIndex,v=this.yRatio[x],_=this.getRangeValue(p,g),w=Math.min(_.start,_.end),S=Math.max(_.start,_.end);this.series[f][g]===void 0||this.series[f][g]===null?w=c:(w=c-w/v,S=c-S/v);var A=Math.abs(S-w),T=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:w,y2:S,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:p,i:p,j:g,w:h});if(h.globals.isXNumeric){var N=this.getBarXForNumericXAxis({x:r,j:g,realIndex:p,barWidth:o});r=N.x,l=N.barXPosition}else r+=a;return{pathTo:T.pathTo,pathFrom:T.pathFrom,barHeight:A,x:r,y:_.start<0&&_.end<0?w:S,goalY:this.barHelpers.getGoalValues("y",null,c,f,g,x),barXPosition:l}}},{key:"preventBarOverflow",value:function(s){var i=this.w;return s<0&&(s=0),s>i.globals.gridWidth&&(s=i.globals.gridWidth),s}},{key:"drawRangeBarPaths",value:function(s){var i=s.indexes,r=s.y,a=s.y1,o=s.y2,l=s.yDivision,c=s.barHeight,h=s.barYPosition,f=s.zeroW,g=this.w,p=i.realIndex,x=i.j,v=this.preventBarOverflow(f+a/this.invertedYRatio),_=this.preventBarOverflow(f+o/this.invertedYRatio),w=this.getRangeValue(p,x),S=Math.abs(_-v),A=this.barHelpers.getBarpaths({barYPosition:h,barHeight:c,x1:v,x2:_,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:p,realIndex:p,j:x,w:g});return g.globals.isXNumeric||(r+=l),{pathTo:A.pathTo,pathFrom:A.pathFrom,barWidth:S,x:w.start<0&&w.end<0?v:_,goalX:this.barHelpers.getGoalValues("x",f,null,p,x),y:r}}},{key:"getRangeValue",value:function(s,i){var r=this.w;return{start:r.globals.seriesRangeStart[s][i],end:r.globals.seriesRangeEnd[s][i]}}}]),t}(),Wte=function(){function n(e){we(this,n),this.w=e.w,this.lineCtx=e}return _e(n,[{key:"sameValueSeriesFix",value:function(e,t){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[e]==="gradient")&&new sn(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,s=e.realIndex,i=e.x,r=e.y,a=e.i,o=e.j,l=e.prevY,c=this.w,h=[],f=[],g=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(g=(c.globals.seriesX[s][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(h.push(g),f.push(K.isNumber(t[a][0])?l+c.config.markers.offsetY:null)),h.push(i+c.config.markers.offsetX),f.push(K.isNumber(t[a][o+1])?r+c.config.markers.offsetY:null),{x:h,y:f}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,s=e.pathFromArea,i=e.realIndex,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var o=r.globals.previousPaths[a];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(i,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[a].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=r.globals.previousPaths[a].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[a].paths[1]&&(t=r.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var t,s,i,r=e.i,a=e.realIndex,o=e.series,l=e.prevY,c=e.lineYPosition,h=e.translationsIndex,f=this.w,g=f.config.chart.stacked&&!f.globals.comboCharts||f.config.chart.stacked&&f.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[a])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[a])===null||s===void 0?void 0:s.type)==="column");if(((i=o[r])===null||i===void 0?void 0:i[0])!==void 0)l=(c=g&&r>0?this.lineCtx.prevSeriesY[r-1][0]:this.lineCtx.zeroY)-o[r][0]/this.lineCtx.yRatio[h]+2*(this.lineCtx.isReversed?o[r][0]/this.lineCtx.yRatio[h]:0);else if(g&&r>0&&o[r][0]===void 0){for(var p=r-1;p>=0;p--)if(o[p][0]!==null&&o[p][0]!==void 0){l=c=this.lineCtx.prevSeriesY[p][0];break}}return{prevY:l,lineYPosition:c}}}]),n}(),Yte=function(n){for(var e,t,s,i,r=function(h){for(var f=[],g=h[0],p=h[1],x=f[0]=v0(g,p),v=1,_=h.length-1;v<_;v++)g=p,p=h[v+1],f[v]=.5*(x+(x=v0(g,p)));return f[v]=x,f}(n),a=n.length-1,o=[],l=0;l<a;l++)s=v0(n[l],n[l+1]),Math.abs(s)<1e-6?r[l]=r[l+1]=0:(i=(e=r[l]/s)*e+(t=r[l+1]/s)*t)>9&&(i=3*s/Math.sqrt(i),r[l]=i*e,r[l+1]=i*t);for(var c=0;c<=a;c++)i=(n[Math.min(a,c+1)][0]-n[Math.max(0,c-1)][0])/(6*(1+r[c]*r[c])),o.push([i||0,r[c]*i||0]);return o},Xte=function(n){var e=Yte(n),t=n[1],s=n[0],i=[],r=e[1],a=e[0];i.push(s,[s[0]+a[0],s[1]+a[1],t[0]-r[0],t[1]-r[1],t[0],t[1]]);for(var o=2,l=e.length;o<l;o++){var c=n[o],h=e[o];i.push([c[0]-h[0],c[1]-h[1],c[0],c[1]])}return i},Gte=function(n,e,t){var s=n.slice(e,t);if(e){if(t-e>1&&s[1].length<6){var i=s[0].length;s[1]=[2*s[0][i-2]-s[0][i-4],2*s[0][i-1]-s[0][i-3]].concat(s[1])}s[0]=s[0].slice(-2)}return s};function v0(n,e){return(e[1]-n[1])/(e[0]-n[0])}var x0=function(){function n(e,t,s){we(this,n),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new E4(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Wte(this),this.markers=new Zh(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return _e(n,[{key:"draw",value:function(e,t,s,i){var r,a=this.w,o=new le(this.ctx),l=a.globals.comboCharts?t:a.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),h=new sn(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=h.getLogSeries(e),this.yRatio=h.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var f=[],g=0;g<e.length;g++){e=this.lineHelpers.sameValueSeriesFix(g,e);var p=a.globals.comboCharts?s[g]:g,x=this.yRatio.length>1?p:0;this._initSerieVariables(e,g,p);var v=[],_=[],w=[],S=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,p),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(S=(a.globals.seriesX[p][0]-a.globals.minX)/this.xRatio),w.push(S);var A,T=S,N=void 0,O=T,C=this.zeroY,k=this.zeroY;C=this.lineHelpers.determineFirstPrevY({i:g,realIndex:p,series:e,prevY:C,lineYPosition:0,translationsIndex:x}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[g][0]===null?v.push(null):v.push(C),A=C,l==="rangeArea"&&(N=k=this.lineHelpers.determineFirstPrevY({i:g,realIndex:p,series:i,prevY:k,lineYPosition:0,translationsIndex:x}).prevY,_.push(v[0]!==null?k:null));var M=this._calculatePathsFrom({type:l,series:e,i:g,realIndex:p,translationsIndex:x,prevX:O,prevY:C,prevY2:k}),I=[v[0]],D=[_[0]],F={type:l,series:e,realIndex:p,translationsIndex:x,i:g,x:S,y:1,pX:T,pY:A,pathsFrom:M,linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:w,yArrj:v,y2Arrj:_,seriesRangeEnd:i},V=this._iterateOverDataPoints(me(me({},F),{},{iterations:l==="rangeArea"?e[g].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var G=this._calculatePathsFrom({series:i,i:g,realIndex:p,prevX:O,prevY:k}),J=this._iterateOverDataPoints(me(me({},F),{},{series:i,xArrj:[S],yArrj:I,y2Arrj:D,pY:N,areaPaths:V.areaPaths,pathsFrom:G,iterations:i[g].length-1,isRangeStart:!1})),Y=V.linePaths.length/2,Z=0;Z<Y;Z++)V.linePaths[Z]=J.linePaths[Z+Y]+V.linePaths[Z];V.linePaths.splice(Y),V.pathFromLine=J.pathFromLine+V.pathFromLine}else V.pathFromArea+="z";this._handlePaths({type:l,realIndex:p,i:g,paths:V}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),f.push(this.elSeries)}if(((r=a.config.series[0])===null||r===void 0?void 0:r.zIndex)!==void 0&&f.sort(function(Q,se){return Number(Q.node.getAttribute("zIndex"))-Number(se.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var U=f.length-1;U>=0;U--)c.add(f[U]);else for(var X=0;X<f.length;X++)c.add(f[X]);return c}},{key:"_initSerieVariables",value:function(e,t,s){var i=this.w,r=new le(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-(i.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[s]:i.config.stroke.width;var a=0;if(this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[s],a=s),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[a]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||i.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",zIndex:i.config.series[s].zIndex!==void 0?i.config.series[s].zIndex:s,seriesName:K.escapeString(i.globals.seriesNames[s])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),i.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[i.globals.gridHeight+i.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":s});var l=e[t].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:t+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,s,i,r,a=e.type,o=e.series,l=e.i,c=e.realIndex,h=e.translationsIndex,f=e.prevX,g=e.prevY,p=e.prevY2,x=this.w,v=new le(this.ctx);if(o[l][0]===null){for(var _=0;_<o[l].length;_++)if(o[l][_]!==null){f=this.xDivision*_,g=this.zeroY-o[l][_]/this.yRatio[h],t=v.move(f,g),s=v.move(f,this.areaBottomY);break}}else t=v.move(f,g),a==="rangeArea"&&(t=v.move(f,p)+v.line(f,g)),s=v.move(f,this.areaBottomY)+v.line(f,g);if(i=v.move(0,this.areaBottomY)+v.line(0,this.areaBottomY),r=v.move(0,this.areaBottomY)+v.line(0,this.areaBottomY),x.globals.previousPaths.length>0){var w=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:r,realIndex:c});i=w.pathFromLine,r=w.pathFromArea}return{prevX:f,prevY:g,linePath:t,areaPath:s,pathFromLine:i,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,s=e.realIndex,i=e.i,r=e.paths,a=this.w,o=new le(this.ctx),l=new cr(this.ctx);this.prevSeriesY.push(r.yArrj),a.globals.seriesXvalues[s]=r.xArrj,a.globals.seriesYvalues[s]=r.yArrj;var c=a.config.forecastDataPoints;if(c.count>0&&t!=="rangeArea"){var h=a.globals.seriesXvalues[s][a.globals.seriesXvalues[s].length-c.count-1],f=o.drawRect(h,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(f.node);var g=o.drawRect(0,0,h,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(g.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var p={i,realIndex:s,animationDelay:i,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var x=l.fillPath({seriesNumber:s}),v=0;v<r.areaPaths.length;v++){var _=o.renderPaths(me(me({},p),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[v],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:x}));this.elSeries.add(_)}if(a.config.stroke.show&&!this.pointsChart){var w=null;if(t==="line")w=l.fillPath({seriesNumber:s,i});else if(a.config.stroke.fill.type==="solid")w=a.globals.stroke.colors[s];else{var S=a.config.fill;a.config.fill=a.config.stroke.fill,w=l.fillPath({seriesNumber:s,i}),a.config.fill=S}for(var A=0;A<r.linePaths.length;A++){var T=w;t==="rangeArea"&&(T=l.fillPath({seriesNumber:s}));var N=me(me({},p),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[A],stroke:w,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:t==="rangeArea"?T:"none"}),O=o.renderPaths(N);if(this.elSeries.add(O),O.attr("fill-rule","evenodd"),c.count>0&&t!=="rangeArea"){var C=o.renderPaths(N);C.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&C.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(C),C.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),O.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,s,i=this,r=e.type,a=e.series,o=e.iterations,l=e.realIndex,c=e.translationsIndex,h=e.i,f=e.x,g=e.y,p=e.pX,x=e.pY,v=e.pathsFrom,_=e.linePaths,w=e.areaPaths,S=e.seriesIndex,A=e.lineYPosition,T=e.xArrj,N=e.yArrj,O=e.y2Arrj,C=e.isRangeStart,k=e.seriesRangeEnd,M=this.w,I=new le(this.ctx),D=this.yRatio,F=v.prevY,V=v.linePath,G=v.areaPath,J=v.pathFromLine,Y=v.pathFromArea,Z=K.isNumber(M.globals.minYArr[l])?M.globals.minYArr[l]:M.globals.minY;o||(o=M.globals.dataPoints>1?M.globals.dataPoints-1:M.globals.dataPoints);var U=function(ze,Ne){return Ne-ze/D[c]+2*(i.isReversed?ze/D[c]:0)},X=g,Q=M.config.chart.stacked&&!M.globals.comboCharts||M.config.chart.stacked&&M.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[l])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[l])===null||s===void 0?void 0:s.type)==="column"),se=M.config.stroke.curve;Array.isArray(se)&&(se=Array.isArray(S)?se[S[h]]:se[h]);for(var q,he=0,ae=0;ae<o&&a[h].length!==0;ae++){var fe=a[h][ae+1]===void 0||a[h][ae+1]===null;if(M.globals.isXNumeric){var oe=M.globals.seriesX[l][ae+1];M.globals.seriesX[l][ae+1]===void 0&&(oe=M.globals.seriesX[l][o-1]),f=(oe-M.globals.minX)/this.xRatio}else f+=this.xDivision;Q?h>0&&M.globals.collapsedSeries.length<M.config.series.length-1?A=this.prevSeriesY[function(ze){for(var Ne=ze;Ne>0;Ne--){if(!(M.globals.collapsedSeriesIndices.indexOf(S?.[Ne]||Ne)>-1))return Ne;Ne--}return 0}(h-1)][ae+1]:A=this.zeroY:A=this.zeroY,fe?g=U(Z,A):(g=U(a[h][ae+1],A),r==="rangeArea"&&(X=U(k[h][ae+1],A))),T.push(a[h][ae+1]===null?null:f),!fe||M.config.stroke.curve!=="smooth"&&M.config.stroke.curve!=="monotoneCubic"?(N.push(g),O.push(X)):(N.push(null),O.push(null));var re=this.lineHelpers.calculatePoints({series:a,x:f,y:g,realIndex:l,i:h,j:ae,prevY:F}),be=this._createPaths({type:r,series:a,i:h,realIndex:l,j:ae,x:f,y:g,y2:X,xArrj:T,yArrj:N,y2Arrj:O,pX:p,pY:x,pathState:he,segmentStartX:q,linePath:V,areaPath:G,linePaths:_,areaPaths:w,curve:se,isRangeStart:C});w=be.areaPaths,_=be.linePaths,p=be.pX,x=be.pY,he=be.pathState,q=be.segmentStartX,G=be.areaPath,V=be.linePath,!this.appendPathFrom||M.globals.hasNullValues||se==="monotoneCubic"&&r==="rangeArea"||(J+=I.line(f,this.areaBottomY),Y+=I.line(f,this.areaBottomY)),this.handleNullDataPoints(a,re,h,ae,l),this._handleMarkersAndLabels({type:r,pointsPos:re,i:h,j:ae,realIndex:l,isRangeStart:C})}return{yArrj:N,xArrj:T,pathFromArea:Y,areaPaths:w,pathFromLine:J,linePaths:_,linePath:V,areaPath:G}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,s=e.pointsPos,i=e.isRangeStart,r=e.i,a=e.j,o=e.realIndex,l=this.w,c=new Sh(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:o,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var h=this.markers.plotChartMarkers({pointsPos:s,seriesIndex:o,j:a+1});h!==null&&this.elPointsMain.add(h)}var f=c.drawDataLabel({type:t,isRangeStart:i,pos:s,i:o,j:a+1});f!==null&&this.elDataLabelsWrap.add(f)}},{key:"_createPaths",value:function(e){var t=e.type,s=e.series,i=e.i;e.realIndex;var r,a=e.j,o=e.x,l=e.y,c=e.xArrj,h=e.yArrj,f=e.y2,g=e.y2Arrj,p=e.pX,x=e.pY,v=e.pathState,_=e.segmentStartX,w=e.linePath,S=e.areaPath,A=e.linePaths,T=e.areaPaths,N=e.curve,O=e.isRangeStart,C=new le(this.ctx),k=this.areaBottomY,M=t==="rangeArea",I=t==="rangeArea"&&O;switch(N){case"monotoneCubic":var D=O?h:g;switch(v){case 0:if(D[a+1]===null)break;v=1;case 1:if(!(M?c.length===s[i].length:a===s[i].length-2))break;case 2:var F=O?c:c.slice().reverse(),V=O?D:D.slice().reverse(),G=(r=V,F.map(function(oe,re){return[oe,r[re]]}).filter(function(oe){return oe[1]!==null})),J=G.length>1?Xte(G):G,Y=[];M&&(I?T=G:Y=T.reverse());var Z=0,U=0;if(function(oe,re){for(var be=function(Je){var et=[],Wt=0;return Je.forEach(function(oi){oi!==null?Wt++:Wt>0&&(et.push(Wt),Wt=0)}),Wt>0&&et.push(Wt),et}(oe),ze=[],Ne=0,je=0;Ne<be.length;je+=be[Ne++])ze[Ne]=Gte(re,je,je+be[Ne]);return ze}(V,J).forEach(function(oe){Z++;var re=function(Ne){for(var je="",Je=0;Je<Ne.length;Je++){var et=Ne[Je],Wt=et.length;Wt>4?(je+="C".concat(et[0],", ").concat(et[1]),je+=", ".concat(et[2],", ").concat(et[3]),je+=", ".concat(et[4],", ").concat(et[5])):Wt>2&&(je+="S".concat(et[0],", ").concat(et[1]),je+=", ".concat(et[2],", ").concat(et[3]))}return je}(oe),be=U,ze=(U+=oe.length)-1;I?w=C.move(G[be][0],G[be][1])+re:M?w=C.move(Y[be][0],Y[be][1])+C.line(G[be][0],G[be][1])+re+C.line(Y[ze][0],Y[ze][1]):(w=C.move(G[be][0],G[be][1])+re,S=w+C.line(G[ze][0],k)+C.line(G[be][0],k)+"z",T.push(S)),A.push(w)}),M&&Z>1&&!I){var X=A.slice(Z).reverse();A.splice(Z),X.forEach(function(oe){return A.push(oe)})}v=0}break;case"smooth":var Q=.35*(o-p);if(s[i][a]===null)v=0;else switch(v){case 0:if(_=p,w=I?C.move(p,g[a])+C.line(p,x):C.move(p,x),S=C.move(p,x),s[i][a+1]===null||s[i][a+1]===void 0){A.push(w),T.push(S);break}if(v=1,a<s[i].length-2){var se=C.curve(p+Q,x,o-Q,l,o,l);w+=se,S+=se;break}case 1:if(s[i][a+1]===null)w+=I?C.line(p,f):C.move(p,x),S+=C.line(p,k)+C.line(_,k)+"z",A.push(w),T.push(S),v=-1;else{var q=C.curve(p+Q,x,o-Q,l,o,l);w+=q,S+=q,a>=s[i].length-2&&(I&&(w+=C.curve(o,l,o,l,o,f)+C.move(o,f)),S+=C.curve(o,l,o,l,o,k)+C.line(_,k)+"z",A.push(w),T.push(S),v=-1)}}p=o,x=l;break;default:var he=function(oe,re,be){var ze=[];switch(oe){case"stepline":ze=C.line(re,null,"H")+C.line(null,be,"V");break;case"linestep":ze=C.line(null,be,"V")+C.line(re,null,"H");break;case"straight":ze=C.line(re,be)}return ze};if(s[i][a]===null)v=0;else switch(v){case 0:if(_=p,w=I?C.move(p,g[a])+C.line(p,x):C.move(p,x),S=C.move(p,x),s[i][a+1]===null||s[i][a+1]===void 0){A.push(w),T.push(S);break}if(v=1,a<s[i].length-2){var ae=he(N,o,l);w+=ae,S+=ae;break}case 1:if(s[i][a+1]===null)w+=I?C.line(p,f):C.move(p,x),S+=C.line(p,k)+C.line(_,k)+"z",A.push(w),T.push(S),v=-1;else{var fe=he(N,o,l);w+=fe,S+=fe,a>=s[i].length-2&&(I&&(w+=C.line(o,f)),S+=C.line(o,k)+C.line(_,k)+"z",A.push(w),T.push(S),v=-1)}}p=o,x=l}return{linePaths:A,areaPaths:T,pX:p,pY:x,pathState:v,segmentStartX:_,linePath:w,areaPath:S}}},{key:"handleNullDataPoints",value:function(e,t,s,i,r){var a=this.w;if(e[s][i]===null&&a.config.markers.showNullDataPoints||e[s].length===1){var o=this.strokeWidth-a.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:r,j:i+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),n}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function n(o,l,c,h){this.xoffset=o,this.yoffset=l,this.height=h,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(f){var g,p=[],x=this.xoffset,v=this.yoffset,_=r(f)/this.height,w=r(f)/this.width;if(this.width>=this.height)for(g=0;g<f.length;g++)p.push([x,v,x+_,v+f[g]/_]),v+=f[g]/_;else for(g=0;g<f.length;g++)p.push([x,v,x+f[g]/w,v+w]),x+=f[g]/w;return p},this.cutArea=function(f){var g;if(this.width>=this.height){var p=f/this.height,x=this.width-p;g=new n(this.xoffset+p,this.yoffset,x,this.height)}else{var v=f/this.width,_=this.height-v;g=new n(this.xoffset,this.yoffset+v,this.width,_)}return g}}function e(o,l,c,h,f){h=h===void 0?0:h,f=f===void 0?0:f;var g=t(function(p,x){var v,_=[],w=x/r(p);for(v=0;v<p.length;v++)_[v]=p[v]*w;return _}(o,l*c),[],new n(h,f,l,c),[]);return function(p){var x,v,_=[];for(x=0;x<p.length;x++)for(v=0;v<p[x].length;v++)_.push(p[x][v]);return _}(g)}function t(o,l,c,h){var f,g,p;if(o.length!==0)return f=c.shortestEdge(),function(x,v,_){var w;if(x.length===0)return!0;(w=x.slice()).push(v);var S=s(x,_),A=s(w,_);return S>=A}(l,g=o[0],f)?(l.push(g),t(o.slice(1),l,c,h)):(p=c.cutArea(r(l),h),h.push(c.getCoordinates(l)),t(o,[],p,h)),h;h.push(c.getCoordinates(l))}function s(o,l){var c=Math.min.apply(Math,o),h=Math.max.apply(Math,o),f=r(o);return Math.max(Math.pow(l,2)*h/Math.pow(f,2),Math.pow(f,2)/(Math.pow(l,2)*c))}function i(o){return o&&o.constructor===Array}function r(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function a(o){var l,c=0;if(i(o[0]))for(l=0;l<o.length;l++)c+=a(o[l]);else c=r(o);return c}return function o(l,c,h,f,g){f=f===void 0?0:f,g=g===void 0?0:g;var p,x,v=[],_=[];if(i(l[0])){for(x=0;x<l.length;x++)v[x]=a(l[x]);for(p=e(v,c,h,f,g),x=0;x<l.length;x++)_.push(o(l[x],p[x][2]-p[x][0],p[x][3]-p[x][1],p[x][0],p[x][1]))}else _=e(l,c,h,f,g);return _}}();var $te=function(){function n(e,t){we(this,n),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new L4(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return _e(n,[{key:"draw",value:function(e){var t=this,s=this.w,i=new le(this.ctx),r=new cr(this.ctx),a=i.group({class:"apexcharts-treemap"});if(s.globals.noData)return a;var o=[];return e.forEach(function(l){var c=l.map(function(h){return Math.abs(h)});o.push(c)}),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach(function(l,c){l.data.forEach(function(h){Array.isArray(t.labels[c])||(t.labels[c]=[]),t.labels[c].push(h.x)})}),window.TreemapSquared.generate(o,s.globals.gridWidth,s.globals.gridHeight).forEach(function(l,c){var h=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:K.escapeString(s.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(s.config.chart.dropShadow.enabled){var f=s.config.chart.dropShadow;new Wn(t.ctx).dropShadow(a,f,c)}var g=i.group({class:"apexcharts-data-labels"}),p={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(J,Y){var Z=J[0],U=J[1],X=J[2],Q=J[3];p.xMin=Math.min(p.xMin,Z),p.yMin=Math.min(p.yMin,U),p.xMax=Math.max(p.xMax,X),p.yMax=Math.max(p.yMax,Q);var se=t.helpers.getShadeColor(s.config.chart.type,c,Y,t.negRange),q=se.color,he=r.fillPath({color:q,seriesNumber:c,dataPointIndex:Y}),ae=i.drawRect(Z,U,X-Z,Q-U,s.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?q:s.globals.stroke.colors[c]);ae.attr({cx:Z,cy:U,index:c,i:c,j:Y,width:X-Z,height:Q-U,fill:he}),ae.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(ae);var fe={x:Z+(X-Z)/2,y:U+(Q-U)/2,width:0,height:0},oe={x:Z,y:U,width:X-Z,height:Q-U};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var re=1;s.globals.resized||(re=s.config.chart.animations.speed),t.animateTreemap(ae,fe,oe,re)}if(s.globals.dataChanged){var be=1;t.dynamicAnim.enabled&&s.globals.shouldAnimate&&(be=t.dynamicAnim.speed,s.globals.previousPaths[c]&&s.globals.previousPaths[c][Y]&&s.globals.previousPaths[c][Y].rect&&(fe=s.globals.previousPaths[c][Y].rect),t.animateTreemap(ae,fe,oe,be))}var ze=t.getFontSize(J),Ne=s.config.dataLabels.formatter(t.labels[c][Y],{value:s.globals.series[c][Y],seriesIndex:c,dataPointIndex:Y,w:s});s.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ze=parseInt(s.config.dataLabels.style.fontSize,10),Ne=t.truncateLabels(Ne,ze,Z,U,X,Q));var je=null;s.globals.series[c][Y]&&(je=t.helpers.calculateDataLabels({text:Ne,x:(Z+X)/2,y:(U+Q)/2+t.strokeWidth/2+ze/3,i:c,j:Y,colorProps:se,fontSize:ze,series:e})),s.config.dataLabels.enabled&&je&&t.rotateToFitLabel(je,ze,Ne,Z,U,X,Q),h.add(ae),je!==null&&h.add(je)});var x=s.config.plotOptions.treemap.seriesTitle;if(s.config.series.length>1&&x&&x.show){var v=s.config.series[c].name||"";if(v&&p.xMin<1/0&&p.yMin<1/0){var _=x.offsetX,w=x.offsetY,S=x.borderColor,A=x.borderWidth,T=x.borderRadius,N=x.style,O=N.color||s.config.chart.foreColor,C={left:N.padding.left,right:N.padding.right,top:N.padding.top,bottom:N.padding.bottom},k=i.getTextRects(v,N.fontSize,N.fontFamily),M=k.width+C.left+C.right,I=k.height+C.top+C.bottom,D=p.xMin+(_||0),F=p.yMin+(w||0),V=i.drawRect(D,F,M,I,T,N.background,1,A,S),G=i.drawText({x:D+C.left,y:F+C.top+.75*k.height,text:v,fontSize:N.fontSize,fontFamily:N.fontFamily,fontWeight:N.fontWeight,foreColor:O,cssClass:N.cssClass||""});h.add(V),h.add(G)}}h.add(g),a.add(h)}),a}},{key:"getFontSize",value:function(e){var t=this.w,s=function i(r){var a,o=0;if(Array.isArray(r[0]))for(a=0;a<r.length;a++)o+=i(r[a]);else for(a=0;a<r.length;a++)o+=r[a].length;return o}(this.labels)/function i(r){var a,o=0;if(Array.isArray(r[0]))for(a=0;a<r.length;a++)o+=i(r[a]);else for(a=0;a<r.length;a++)o+=1;return o}(this.labels);return function(i,r){var a=i*r,o=Math.pow(a,.5);return Math.min(o/s,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,s,i,r,a,o){var l=new le(this.ctx),c=l.getTextRects(s,t);if(c.width+this.w.config.stroke.width+5>a-i&&c.width<=o-r){var h=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(h.x," ").concat(h.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,s,i,r,a){var o=new le(this.ctx),l=o.getTextRects(e,t).width+this.w.config.stroke.width+5>r-s&&a-i>r-s?a-i:r-s,c=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:t});return e.length!==c.length&&l/t<5?"":c}},{key:"animateTreemap",value:function(e,t,s,i){var r=new Xh(this.ctx);r.animateRect(e,t,s,i,function(){r.animationCompleted(e)})}}]),n}(),z4=86400,qte=10/z4,Zte=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return _e(n,[{key:"calculateTimeScaleTicks",value:function(e,t){var s=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var r=new Bn(this.ctx),a=(t-e)/864e5;this.determineInterval(a),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,a<qte?i.globals.disableZoomIn=!0:a>5e4&&(i.globals.disableZoomOut=!0);var o=r.getTimeUnitsfromTimestamp(e,t,this.utc),l=i.globals.gridWidth/a,c=l/24,h=c/60,f=h/60,g=Math.floor(24*a),p=Math.floor(1440*a),x=Math.floor(a*z4),v=Math.floor(a),_=Math.floor(a/30),w=Math.floor(a/365),S={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},A={firstVal:S,currentMillisecond:S.minMillisecond,currentSecond:S.minSecond,currentMinute:S.minMinute,currentHour:S.minHour,currentMonthDate:S.minDate,currentDate:S.minDate,currentMonth:S.minMonth,currentYear:S.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:h,secondsWidthOnXAxis:f,numberOfSeconds:x,numberOfMinutes:p,numberOfHours:g,numberOfDays:v,numberOfMonths:_,numberOfYears:w};switch(this.tickInterval){case"years":this.generateYearScale(A);break;case"months":case"half_year":this.generateMonthScale(A);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(A);break;case"hours":this.generateHourScale(A);break;case"minutes_fives":case"minutes":this.generateMinuteScale(A);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(A)}var T=this.timeScaleArray.map(function(N){var O={position:N.position,unit:N.unit,year:N.year,day:N.day?N.day:1,hour:N.hour?N.hour:0,month:N.month+1};return N.unit==="month"?me(me({},O),{},{day:1,value:N.value+1}):N.unit==="day"||N.unit==="hour"?me(me({},O),{},{value:N.value}):N.unit==="minute"?me(me({},O),{},{value:N.value,minute:N.value}):N.unit==="second"?me(me({},O),{},{value:N.value,minute:N.minute,second:N.second}):N});return T.filter(function(N){var O=1,C=Math.ceil(i.globals.gridWidth/120),k=N.value;i.config.xaxis.tickAmount!==void 0&&(C=i.config.xaxis.tickAmount),T.length>C&&(O=Math.floor(T.length/C));var M=!1,I=!1;switch(s.tickInterval){case"years":N.unit==="year"&&(M=!0);break;case"half_year":O=7,N.unit==="year"&&(M=!0);break;case"months":O=1,N.unit==="year"&&(M=!0);break;case"months_fortnight":O=15,N.unit!=="year"&&N.unit!=="month"||(M=!0),k===30&&(I=!0);break;case"months_days":O=10,N.unit==="month"&&(M=!0),k===30&&(I=!0);break;case"week_days":O=8,N.unit==="month"&&(M=!0);break;case"days":O=1,N.unit==="month"&&(M=!0);break;case"hours":N.unit==="day"&&(M=!0);break;case"minutes_fives":case"seconds_fives":k%5!=0&&(I=!0);break;case"seconds_tens":k%10!=0&&(I=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!I)return!0}else if((k%O==0||M)&&!I)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var s=this.w,i=this.formatDates(e),r=this.removeOverlappingTS(i);s.globals.timescaleLabels=r.slice(),new ox(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,s=e.currentMonth,i=e.currentYear,r=e.daysWidthOnXAxis,a=e.numberOfYears,o=t.minYear,l=0,c=new Bn(this.ctx),h="year";if(t.minDate>1||t.minMonth>0){var f=c.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(c.determineDaysOfYear(t.minYear)-f+1)*r,o=t.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:h,year:o,month:K.monthMod(s+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:h,year:i,month:K.monthMod(s+1)});for(var g=o,p=l,x=0;x<a;x++)g++,p=c.determineDaysOfYear(g-1)*r+p,this.timeScaleArray.push({position:p,value:g,unit:h,year:g,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,s=e.currentMonthDate,i=e.currentMonth,r=e.currentYear,a=e.daysWidthOnXAxis,o=e.numberOfMonths,l=i,c=0,h=new Bn(this.ctx),f="month",g=0;if(t.minDate>1){c=(h.determineDaysOfMonths(i+1,t.minYear)-s+1)*a,l=K.monthMod(i+1);var p=r+g,x=K.monthMod(l),v=l;l===0&&(f="year",v=p,x=1,p+=g+=1),this.timeScaleArray.push({position:c,value:v,unit:f,year:p,month:x})}else this.timeScaleArray.push({position:c,value:l,unit:f,year:r,month:K.monthMod(i)});for(var _=l+1,w=c,S=0,A=1;S<o;S++,A++){(_=K.monthMod(_))===0?(f="year",g+=1):f="month";var T=this._getYear(r,_,g);w=h.determineDaysOfMonths(_,T)*a+w;var N=_===0?T:_;this.timeScaleArray.push({position:w,value:N,unit:f,year:T,month:_===0?1:_}),_++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,s=e.currentMonth,i=e.currentYear,r=e.hoursWidthOnXAxis,a=e.numberOfDays,o=new Bn(this.ctx),l="day",c=t.minDate+1,h=c,f=function(A,T,N){return A>o.determineDaysOfMonths(T+1,N)&&(h=1,l="month",p=T+=1),T},g=(24-t.minHour)*r,p=c,x=f(h,s,i);t.minHour===0&&t.minDate===1?(g=0,p=K.monthMod(t.minMonth),l="month",h=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(g=0,c=t.minDate,p=c,x=f(h=c,s,i),p!==1&&(l="day")),this.timeScaleArray.push({position:g,value:p,unit:l,year:this._getYear(i,x,0),month:K.monthMod(x),day:h});for(var v=g,_=0;_<a;_++){l="day",x=f(h+=1,x,this._getYear(i,x,0));var w=this._getYear(i,x,0);v=24*r+v;var S=h===1?K.monthMod(x):h;this.timeScaleArray.push({position:v,value:S,unit:l,year:w,month:K.monthMod(x),day:S})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,s=e.currentDate,i=e.currentMonth,r=e.currentYear,a=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new Bn(this.ctx),c="hour",h=function(O,C){return O>l.determineDaysOfMonths(C+1,r)&&(_=1,C+=1),{month:C,date:_}},f=function(O,C){return O>l.determineDaysOfMonths(C+1,r)?C+=1:C},g=60-(t.minMinute+t.minSecond/60),p=g*a,x=t.minHour+1,v=x;g===60&&(p=0,v=x=t.minHour);var _=s;v>=24&&(v=0,c="day",x=_+=1);var w=h(_,i).month;w=f(_,w),x>31&&(x=_=1),this.timeScaleArray.push({position:p,value:x,unit:c,day:_,hour:v,year:r,month:K.monthMod(w)}),v++;for(var S=p,A=0;A<o;A++){c="hour",v>=24&&(v=0,c="day",w=h(_+=1,w).month,w=f(_,w));var T=this._getYear(r,w,0);S=60*a+S;var N=v===0?_:v;this.timeScaleArray.push({position:S,value:N,unit:c,hour:v,day:_,year:T,month:K.monthMod(w)}),v++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,i=e.currentMinute,r=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,h=e.secondsWidthOnXAxis,f=e.numberOfMinutes,g=i+1,p=a,x=o,v=l,_=r,w=(60-s-t/1e3)*h,S=0;S<f;S++)g>=60&&(g=0,(_+=1)===24&&(_=0)),this.timeScaleArray.push({position:w,value:g,unit:"minute",hour:_,minute:g,day:p,year:this._getYear(v,x,0),month:K.monthMod(x)}),w+=c,g++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,i=e.currentMinute,r=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,h=e.numberOfSeconds,f=s+1,g=i,p=a,x=o,v=l,_=r,w=(1e3-t)/1e3*c,S=0;S<h;S++)f>=60&&(f=0,++g>=60&&(g=0,++_===24&&(_=0))),this.timeScaleArray.push({position:w,value:f,unit:"second",hour:_,minute:g,second:f,day:p,year:this._getYear(v,x,0),month:K.monthMod(x)}),w+=c,f++}},{key:"createRawDateString",value:function(e,t){var s=e.year;return e.month===0&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?s+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?s+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?s+=":"+("0"+t).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?s+=":"+("0"+t).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var t=this,s=this.w;return e.map(function(i){var r=i.value.toString(),a=new Bn(t.ctx),o=t.createRawDateString(i,r),l=a.getDate(a.parseDate(o));if(t.utc||(l=a.getDate(a.parseDateWithTimezone(o))),s.config.xaxis.labels.format===void 0){var c="dd MMM",h=s.config.xaxis.labels.datetimeFormatter;i.unit==="year"&&(c=h.year),i.unit==="month"&&(c=h.month),i.unit==="day"&&(c=h.day),i.unit==="hour"&&(c=h.hour),i.unit==="minute"&&(c=h.minute),i.unit==="second"&&(c=h.second),r=a.formatDate(l,c)}else r=a.formatDate(l,s.config.xaxis.labels.format);return{dateString:o,position:i.position,value:r,unit:i.unit,year:i.year,month:i.month}})}},{key:"removeOverlappingTS",value:function(e){var t,s=this,i=new le(this.ctx),r=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(r=!0,t=i.getTextRects(e[0].value).width);var a=0,o=e.map(function(l,c){if(c>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var h=r?t:i.getTextRects(e[a].value).width,f=e[a].position;return l.position>f+h+10?(a=c,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,t,s){return e+Math.floor(t/12)+s}}]),n}(),Kte=function(){function n(e,t){we(this,n),this.ctx=t,this.w=t.w,this.el=e}return _e(n,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,s=e.config,i=s.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(i),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(i),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(i)&&s.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),le.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),t.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),le.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var s=this.w,i=this.ctx,r=s.config,a=s.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=r.chart.type||"line",c=null,h=0;a.series.forEach(function(O,C){var k,M,I=((k=e[C])===null||k===void 0?void 0:k.type)==="column"?"bar":((M=e[C])===null||M===void 0?void 0:M.type)||(l==="column"?"bar":l);o[I]?(I==="rangeArea"?(o[I].series.push(a.seriesRangeStart[C]),o[I].seriesRangeEnd.push(a.seriesRangeEnd[C])):o[I].series.push(O),o[I].i.push(C),I==="bar"&&(s.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(I)?c=I:console.warn("You have specified an unrecognized series type (".concat(I,").")),l!==I&&I!=="scatter"&&h++}),h>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.bar.series.length>0&&r.plotOptions.bar.horizontal&&(h-=o.bar.series.length,o.bar={series:[],i:[]},s.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=h>0);var f=new x0(i,t),g=new m0(i,t);i.pie=new D4(i);var p=new Hte(i);i.rangeBar=new Ute(i,t);var x=new Vte(i),v=[];if(a.comboCharts){var _,w,S=new sn(i);if(o.area.series.length>0&&(_=v).push.apply(_,Cn(S.drawSeriesByGroup(o.area,a.areaGroups,"area",f))),o.bar.series.length>0)if(r.chart.stacked){var A=new Z2(i,t);v.push(A.draw(o.bar.series,o.bar.i))}else i.bar=new Ah(i,t),v.push(i.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&v.push(f.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(w=v).push.apply(w,Cn(S.drawSeriesByGroup(o.line,a.lineGroups,"line",f))),o.candlestick.series.length>0&&v.push(g.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&v.push(g.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&v.push(i.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var T=new x0(i,t,!0);v.push(T.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var N=new x0(i,t,!0);v.push(N.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(r.chart.type){case"line":v=f.draw(a.series,"line");break;case"area":v=f.draw(a.series,"area");break;case"bar":r.chart.stacked?v=new Z2(i,t).draw(a.series):(i.bar=new Ah(i,t),v=i.bar.draw(a.series));break;case"candlestick":v=new m0(i,t).draw(a.series,"candlestick");break;case"boxPlot":v=new m0(i,t).draw(a.series,r.chart.type);break;case"rangeBar":v=i.rangeBar.draw(a.series);break;case"rangeArea":v=f.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":v=new Bte(i,t).draw(a.series);break;case"treemap":v=new $te(i,t).draw(a.series);break;case"pie":case"donut":case"polarArea":v=i.pie.draw(a.series);break;case"radialBar":v=p.draw(a.series);break;case"radar":v=x.draw(a.series);break;default:v=f.draw(a.series)}return v}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,s=e.config;s.chart.width=s.chart.width||"100%",s.chart.height=s.chart.height||"auto",t.svgWidth=s.chart.width,t.svgHeight=s.chart.height;var i=K.getDimensions(this.el),r=s.chart.width.toString().split(/[0-9]+/g).pop();r==="%"?K.isNumber(i[0])&&(i[0].width===0&&(i=K.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(s.chart.width,10)/100):r!=="px"&&r!==""||(t.svgWidth=parseInt(s.chart.width,10));var a=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(a==="%"){var o=K.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(s.chart.height,10)/100}else t.svgHeight=parseInt(s.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),le.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),a!=="%"){var l=s.chart.sparkline.enabled?0:t.axisCharts?s.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+l,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,s=e.translateX;le.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(s,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(s=new P4(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=K.getBoundingClientRect(r);a=o.bottom;var l=o.bottom-o.top;a=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(a+t.translateY+s+i);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(c,"px"),le.setAttrs(t.dom.Paper.node,{height:c}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new I_(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},s=new T4,i=this.w.globals,r={dataWasParsed:i.dataWasParsed,originalSeries:i.originalSeries};s.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t(),r.dataWasParsed&&(i.dataWasParsed=r.dataWasParsed,i.originalSeries=r.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new M_(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new M_(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Zte(this.ctx);var s=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}t=new sn(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var i=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];i.forEach(function(r){var a=t.constructor.getChartByID(r);a.w.globals.brushSource=e.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return e.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return e.updateSourceChart(a)})}),s.config.chart.events.selection=function(r,a){i.forEach(function(o){t.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),n}(),Qte=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"_updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[t.ctx];r&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,h){var f=c.w;if(f.globals.shouldAnimate=i,s||(f.globals.resized=!0,f.globals.dataChanged=!0,i&&c.series.getPreviousPaths()),e&&us(e)==="object"&&(c.config=new fg(e),e=sn.extendArrayProps(c.config,e,f),c.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,f.config=K.extend(f.config,e),a&&(f.globals.lastXAxis=e.xaxis?K.clone(e.xaxis):[],f.globals.lastYAxis=e.yaxis?K.clone(e.yaxis):[],f.globals.initialConfig=K.extend({},f.config),f.globals.initialSeries=K.clone(f.config.series),e.series))){for(var g=0;g<f.globals.collapsedSeriesIndices.length;g++){var p=f.config.series[f.globals.collapsedSeriesIndices[g]];f.globals.collapsedSeries[g].data=f.globals.axisCharts?p.data.slice():p}for(var x=0;x<f.globals.ancillaryCollapsedSeriesIndices.length;x++){var v=f.config.series[f.globals.ancillaryCollapsedSeriesIndices[x]];f.globals.ancillaryCollapsedSeries[x].data=f.globals.axisCharts?v.data.slice():v}c.series.emptyCollapsedSeries(f.config.series)}return c.update(e).then(function(){h===l.length-1&&o(c)})})})}},{key:"_updateSeries",value:function(e,t){var s=this,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(r){var a=s.w;return a.globals.shouldAnimate=t,a.globals.dataChanged=!0,t&&s.ctx.series.getPreviousPaths(),s.ctx.data.resetParsingFlags(),s.ctx.data.parseData(e),i&&(a.globals.initialConfig.series=K.clone(a.config.series),a.globals.initialSeries=K.clone(a.config.series)),s.ctx.update().then(function(){r(s.ctx)})})}},{key:"_extendSeries",value:function(e,t){var s=this.w,i=s.config.series[t];return me(me({},s.config.series[t]),{},{name:e.name?e.name:i?.name,color:e.color?e.color:i?.color,type:e.type?e.type:i?.type,group:e.group?e.group:i?.group,hidden:e.hidden!==void 0?e.hidden:i?.hidden,data:e.data?e.data:i?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var s=this.w,i=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?i=s.globals.dom.Paper.findOne("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")):t===void 0&&(i=s.globals.dom.Paper.findOne("".concat(r," path[j='").concat(e,"']")),s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),i?(new le(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(i){e.xaxis[i]!==void 0&&(t.config.xaxis[i]=e.xaxis[i],t.globals.lastXAxis[i]=e.xaxis[i])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var s=new dg(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,s=this.w,i=s.globals.lastXAxis,r=s.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(r=e.yaxis),s.config.xaxis.min=i.min,s.config.xaxis.max=i.max;var a=function(o){r[o]!==void 0&&(s.config.yaxis[o].min=r[o].min,s.config.yaxis[o].max=r[o].max)};s.config.yaxis.map(function(o,l){s.globals.zoomed||r[l]!==void 0?a(l):t.ctx.opts.yaxis[l]!==void 0&&(o.min=t.ctx.opts.yaxis[l].min,o.max=t.ctx.opts.yaxis[l].max)})}}]),n}();(function(){function n(){for(var r=arguments.length>0&&arguments[0]!==f?arguments[0]:[],a=arguments.length>1?arguments[1]:f,o=arguments.length>2?arguments[2]:f,l=arguments.length>3?arguments[3]:f,c=arguments.length>4?arguments[4]:f,h=arguments.length>5?arguments[5]:f,f=arguments.length>6?arguments[6]:f,g=r.slice(a,o||f),p=l.slice(c,h||f),x=0,v={pos:[0,0],start:[0,0]},_={pos:[0,0],start:[0,0]};g[x]=e.call(v,g[x]),p[x]=e.call(_,p[x]),g[x][0]!=p[x][0]||g[x][0]=="M"||g[x][0]=="A"&&(g[x][4]!=p[x][4]||g[x][5]!=p[x][5])?(Array.prototype.splice.apply(g,[x,1].concat(s.call(v,g[x]))),Array.prototype.splice.apply(p,[x,1].concat(s.call(_,p[x])))):(g[x]=t.call(v,g[x]),p[x]=t.call(_,p[x])),!(++x==g.length&&x==p.length);)x==g.length&&g.push(["C",v.pos[0],v.pos[1],v.pos[0],v.pos[1],v.pos[0],v.pos[1]]),x==p.length&&p.push(["C",_.pos[0],_.pos[1],_.pos[0],_.pos[1],_.pos[0],_.pos[1]]);return{start:g,dest:p}}function e(r){switch(r[0]){case"z":case"Z":r[0]="L",r[1]=this.start[0],r[2]=this.start[1];break;case"H":r[0]="L",r[2]=this.pos[1];break;case"V":r[0]="L",r[2]=r[1],r[1]=this.pos[0];break;case"T":r[0]="Q",r[3]=r[1],r[4]=r[2],r[1]=this.reflection[1],r[2]=this.reflection[0];break;case"S":r[0]="C",r[6]=r[4],r[5]=r[3],r[4]=r[2],r[3]=r[1],r[2]=this.reflection[1],r[1]=this.reflection[0]}return r}function t(r){var a=r.length;return this.pos=[r[a-2],r[a-1]],"SCQT".indexOf(r[0])!=-1&&(this.reflection=[2*this.pos[0]-r[a-4],2*this.pos[1]-r[a-3]]),r}function s(r){var a=[r];switch(r[0]){case"M":return this.pos=this.start=[r[1],r[2]],a;case"L":r[5]=r[3]=r[1],r[6]=r[4]=r[2],r[1]=this.pos[0],r[2]=this.pos[1];break;case"Q":r[6]=r[4],r[5]=r[3],r[4]=1*r[4]/3+2*r[2]/3,r[3]=1*r[3]/3+2*r[1]/3,r[2]=1*this.pos[1]/3+2*r[2]/3,r[1]=1*this.pos[0]/3+2*r[1]/3;break;case"A":a=function(o,l){var c,h,f,g,p,x,v,_,w,S,A,T,N,O,C,k,M,I,D,F,V,G,J,Y,Z,U,X=Math.abs(l[1]),Q=Math.abs(l[2]),se=l[3]%360,q=l[4],he=l[5],ae=l[6],fe=l[7],oe=new bt(o),re=new bt(ae,fe),be=[];if(X===0||Q===0||oe.x===re.x&&oe.y===re.y)return[["C",oe.x,oe.y,re.x,re.y,re.x,re.y]];for(c=new bt((oe.x-re.x)/2,(oe.y-re.y)/2).transform(new Pe().rotate(se)),h=c.x*c.x/(X*X)+c.y*c.y/(Q*Q),h>1&&(X*=h=Math.sqrt(h),Q*=h),f=new Pe().rotate(se).scale(1/X,1/Q).rotate(-se),oe=oe.transform(f),re=re.transform(f),g=[re.x-oe.x,re.y-oe.y],x=g[0]*g[0]+g[1]*g[1],p=Math.sqrt(x),g[0]/=p,g[1]/=p,v=x<4?Math.sqrt(1-x/4):0,q===he&&(v*=-1),_=new bt((re.x+oe.x)/2+v*-g[1],(re.y+oe.y)/2+v*g[0]),w=new bt(oe.x-_.x,oe.y-_.y),S=new bt(re.x-_.x,re.y-_.y),A=Math.acos(w.x/Math.sqrt(w.x*w.x+w.y*w.y)),w.y<0&&(A*=-1),T=Math.acos(S.x/Math.sqrt(S.x*S.x+S.y*S.y)),S.y<0&&(T*=-1),he&&A>T&&(T+=2*Math.PI),!he&&A<T&&(T-=2*Math.PI),O=Math.ceil(2*Math.abs(A-T)/Math.PI),k=[],M=A,N=(T-A)/O,C=4*Math.tan(N/4)/3,V=0;V<=O;V++)D=Math.cos(M),I=Math.sin(M),F=new bt(_.x+D,_.y+I),k[V]=[new bt(F.x+C*I,F.y-C*D),F,new bt(F.x-C*I,F.y+C*D)],M+=N;for(k[0][0]=k[0][1].clone(),k[k.length-1][2]=k[k.length-1][1].clone(),f=new Pe().rotate(se).scale(X,Q).rotate(-se),V=0,G=k.length;V<G;V++)k[V][0]=k[V][0].transform(f),k[V][1]=k[V][1].transform(f),k[V][2]=k[V][2].transform(f);for(V=1,G=k.length;V<G;V++)J=(F=k[V-1][2]).x,Y=F.y,Z=(F=k[V][0]).x,U=F.y,ae=(F=k[V][1]).x,fe=F.y,be.push(["C",J,Y,Z,U,ae,fe]);return be}(this.pos,r),r=a[0]}return r[0]="C",this.pos=[r[5],r[6]],this.reflection=[2*r[5]-r[3],2*r[6]-r[4]],a}function i(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var o=a,l=r.length;o<l;++o)if(r[o][0]=="M")return o;return!1}Le(rr,{morph:function(r,a,o,l,c){for(var h=this.parse(r),f=this.parse(a),g=0,p=0,x=!1,v=!1;g!==!1||p!==!1;){var _;x=i(h,g!==!1&&g+1),v=i(f,p!==!1&&p+1),g===!1&&(g=(_=new rr(w.start).bbox()).height==0||_.width==0?h.push(h[0])-1:h.push(["M",_.x+_.width/2,_.y+_.height/2])-1),p===!1&&(p=(_=new rr(w.dest).bbox()).height==0||_.width==0?f.push(f[0])-1:f.push(["M",_.x+_.width/2,_.y+_.height/2])-1);var w=n(h,g,x,f,p,v);h=h.slice(0,g).concat(w.start,x===!1?[]:h.slice(x)),f=f.slice(0,p).concat(w.dest,v===!1?[]:f.slice(v)),g=x!==!1&&g+w.start.length,p=v!==!1&&p+w.dest.length}this._array=h,this.destination=new rr,this.destination._array=f;var S=this.fromArray(h.map(function(A,T){var N=f[T].map(function(O,C){return C===0?O:l.step(A[C],f[T][C],o,c[T],c)});return N}));return S}})})();const K2=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY});class Jte{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(K2(e));const s=(t?"mouseup":"touchend")+".drag";ka(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),ka(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:s}=this,i=this.el.point(K2(e)),r=i.x-s.x,a=i.y-s.y;if(!r&&!a)return t;const o=t.x+r,l=t.y+a;this.box=new nn(o,l,t.w,t.h),this.lastClick=i,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,t){this.el.type==="svg"?Do.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Mi(window,"mousemove.drag"),Mi(window,"touchmove.drag"),Mi(window,"mouseup.drag"),Mi(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function j_(n,e,t,s=null){return function(i){i.preventDefault(),i.stopPropagation();var r=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(n,{x:r,y:a,event:i,index:s,points:t})}}function L_([n,e],{a:t,b:s,c:i,d:r,e:a,f:o}){return[n*t+e*i+a,n*s+e*r+o]}Le($n,{draggable(n=!0){return(this.remember("_draggable")||new Jte(this)).init(n),this}});let F4=class{constructor(n){this.el=n,n.remember("_selectHandler",this),this.selection=new Do,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ep();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.createRot=n.createRot||this.createRotFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.updateRot=n.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const s=this.order[e];this.createHandle.call(this,this.selection,n,e,t,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",j_(s,this.el,this.handlePoints,e))})}createHandleFn(n){n.polyline()}updateHandleFn(n,e,t,s){const i=s.at(t-1),r=s[(t+1)%s.length],a=e,o=[a[0]-i[0],a[1]-i[1]],l=[a[0]-r[0],a[1]-r[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),f=[o[0]/c,o[1]/c],g=[l[0]/h,l[1]/h],p=[a[0]-10*f[0],a[1]-10*f[1]],x=[a[0]-10*g[0],a[1]-10*g[1]];n.plot([p,a,x])}updateResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),n,e,t,s)})}createRotFn(n){n.line(),n.circle(5)}getPoint(n){return this.handlePoints[this.order.indexOf(n)]}getPointHandle(n){return this.selection.get(this.order.indexOf(n)+1)}updateRotFn(n,e){const t=this.getPoint("t");n.get(0).plot(t[0],t[1],e[0],e[1]),n.get(1).center(e[0],e[1])}createRotationHandle(){const n=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",j_("rot",this.el,this.handlePoints));this.createRot.call(this,n)}updateRotationHandle(){const n=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(n,this.rotationPoint,this.handlePoints)}updatePoints(){const n=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(n).map(t=>L_(t,e)),this.rotationPoint=L_(this.getRotationPoint(n),e)}getHandlePoints({x:n,x2:e,y:t,y2:s,cx:i,cy:r}=this.el.bbox()){return[[n,t],[i,t],[e,t],[e,r],[e,s],[i,s],[n,s],[n,r]]}getRotationPoint({y:n,cx:e}=this.el.bbox()){return[e,n-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Q2=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+n.name);return s||(e.prototype instanceof F4?(s=new e(this),e=!0):s=new n(this),this.remember("_"+n.name,s)),s.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function O_(n,e,t,s=null){return function(i){i.preventDefault(),i.stopPropagation();var r=i.pageX||i.touches[0].pageX,a=i.pageY||i.touches[0].pageY;e.fire(n,{x:r,y:a,event:i,index:s,points:t})}}function D_([n,e],{a:t,b:s,c:i,d:r,e:a,f:o}){return[n*t+e*i+a,n*s+e*r+o]}Le($n,{select:Q2(F4)}),Le([Fl,Bl,zl],{pointSelect:Q2(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new Do,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ep();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",j_("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>L_(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class B4{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Do,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=ep();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,s)=>{const i=this.order[t];this.createHandle.call(this,this.selection,e,t,s,i),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",O_(i,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,s,i){const r=i.at(s-1),a=i[(s+1)%i.length],o=t,l=[o[0]-r[0],o[1]-r[1]],c=[o[0]-a[0],o[1]-a[1]],h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),f=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=[l[0]/h,l[1]/h],p=[c[0]/f,c[1]/f],x=[o[0]-10*g[0],o[1]-10*g[1]],v=[o[0]-10*p[0],o[1]-10*p[1]];e.plot([x,o,v])}updateResizeHandles(){this.handlePoints.forEach((e,t,s)=>{const i=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,s,i)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const s=this.getPoint("t");e.get(0).plot(s[0],s[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",O_("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(s=>D_(s,t)),this.rotationPoint=D_(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:s,y2:i,cx:r,cy:a}=this.el.bbox()){return[[e,s],[r,s],[t,s],[t,a],[t,i],[r,i],[e,i],[e,a]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const J2=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+n.name);return s||(e.prototype instanceof B4?(s=new e(this),e=!0):s=new n(this),this.remember("_"+n.name,s)),s.active(e,t),this};Le($n,{select:J2(B4)}),Le([Fl,Bl,zl],{pointSelect:J2(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new Do,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ep();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",O_("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>D_(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const lm=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY}),eN=n=>{let e=1/0,t=1/0,s=-1/0,i=-1/0;for(let r=0;r<n.length;r++){const a=n[r];e=Math.min(e,a[0]),t=Math.min(t,a[1]),s=Math.max(s,a[0]),i=Math.max(i,a[1])}return new nn(e,t,s-e,i-t)};class tN{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:s,points:i}=e.detail,r=!t.type.indexOf("mouse");if(r&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(lm(t)),this.index=s,this.points=i.slice();const a=(r?"mousemove":"touchmove")+".resize",o=(r?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?ka(window,a,this.movePoint):e.type==="rot"?ka(window,a,this.rotate):ka(window,a,this.resize),ka(window,o,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(lm(e)));let s=t.x-this.startPoint.x,i=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,i*=2);const r=this.box.x+s,a=this.box.y+i,o=this.box.x2+s,l=this.box.y2+i;let c=new nn(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(r,this.box.x2),c.x2=Math.max(r,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(a,this.box.y2),c.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const h=c.width/this.box.width,f=c.height/this.box.height,g=["lt","t","rt","r","rb","b","lb","l"],p=(g.indexOf(this.eventType)+4)%g.length,x=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[p];let v=this.eventType.includes("t")||this.eventType.includes("b")?f:h;v=this.eventType.length===2?Math.max(h,f):v,c=function(_,w,S){const A=[[_.x,_.y],[_.x+_.width,_.y],[_.x+_.width,_.y+_.height],[_.x,_.y+_.height]].map(([T,N])=>{const O=T-w[0],C=(N-w[1])*S;return[O*S+w[0],C+w[1]]});return eN(A)}(this.box,x,v)}this.el.dispatch("resize",{box:new nn(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:t,y:s}=this.snapToGrid(this.el.point(lm(e))),i=this.el.array().slice();i[this.index]=[t,s],this.el.dispatch("resize",{box:eN(i),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(i)}rotate(e){this.lastEvent=e;const t=this.startPoint,s=this.el.point(lm(e)),{cx:i,cy:r}=this.box,a=t.x-i,o=t.y-r,l=s.x-i,c=s.y-r,h=Math.sqrt(a*a+o*o)*Math.sqrt(l*l+c*c);if(h===0)return;let f=Math.acos((a*l+o*c)/h)/Math.PI*180;if(!f)return;s.x<t.x&&(f=-f);const g=new Pe(this.el),{x:p,y:x}=new bt(i,r).transformO(g),{rotate:v}=g.decompose(),_=this.snapToAngle(v+f)-v;this.el.dispatch("resize",{box:this.box,angle:_,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(g.rotateO(_,p,x))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Mi(window,"mousemove.resize touchmove.resize"),Mi(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Le($n,{resize:function(n=!0,e={}){typeof n=="object"&&(e=n,n=!0);let t=this.remember("_ResizeHandler");return t||(n.prototype instanceof tN?(t=new n(this),n=!0):t=new tN(this),this.remember("_resizeHandler",t)),t.active(n,e),this}}),window.SVG===void 0&&(window.SVG=gte),window.Apex===void 0&&(window.Apex={});var nN=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Xh(this.ctx),this.ctx.axes=new Ate(this.ctx),this.ctx.core=new Kte(this.ctx.el,this.ctx),this.ctx.config=new fg({}),this.ctx.data=new YA(this.ctx),this.ctx.grid=new N4(this.ctx),this.ctx.graphics=new le(this.ctx),this.ctx.coreUtils=new sn(this.ctx),this.ctx.crosshairs=new M_(this.ctx),this.ctx.events=new _te(this.ctx),this.ctx.exports=new Tf(this.ctx),this.ctx.fill=new cr(this.ctx),this.ctx.localization=new Ste(this.ctx),this.ctx.options=new Ll,this.ctx.responsive=new Cte(this.ctx),this.ctx.series=new Fi(this.ctx),this.ctx.theme=new Tte(this.ctx),this.ctx.formatters=new sp(this.ctx),this.ctx.titleSubtitle=new Ete(this.ctx),this.ctx.legend=new P4(this.ctx),this.ctx.toolbar=new I4(this.ctx),this.ctx.tooltip=new q2(this.ctx),this.ctx.dimensions=new ox(this.ctx),this.ctx.updateHelpers=new Qte(this.ctx),this.ctx.zoomPanSelection=new Mte(this.ctx),this.ctx.w.globals.tooltip=new q2(this.ctx)}}]),n}(),sN=function(){function n(e){we(this,n),this.ctx=e,this.w=e.w}return _e(n,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,s=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!s&&(i.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach(function(o){r.removeEventListener(o,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),n}(),y0=new WeakMap,ene=function(){function n(e,t){we(this,n),this.opts=t,this.ctx=this,this.w=new wte(t).init(),this.el=e,this.w.globals.cuid=K.randomId(),this.w.globals.chartID=this.w.config.chart.id?K.escapeString(this.w.config.chart.id):this.w.globals.cuid,new nN(this).initModules(),this.lastUpdateOptions=null,this.create=K.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return _e(n,[{key:"render",value:function(){var e=this;return new Promise(function(t,s){if(K.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;typeof i=="function"&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(g,p){var x=!1;if(g.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var v=g.getBoundingClientRect();g.style.display!=="none"&&v.width!==0||(x=!0)}var _=new ResizeObserver(function(w){x&&p.call(g,w),x=!0});g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(g.children).forEach(function(w){return _.observe(w)}):_.observe(g),y0.set(p,_)}(e.el.parentNode,e.parentResizeHandler);var r=e.el.getRootNode&&e.el.getRootNode(),a=K.is("ShadowRoot",r),o=e.el.ownerDocument,l=a?r.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var h=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;h&&l.setAttribute("nonce",h),a?r.prepend(l):e.w.config.chart.injectStyleSheet!==!1&&o.head.appendChild(l)}var f=e.create(e.w.config.series,{});if(!f)return t(e);e.mount(f).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(f)}).catch(function(g){s(g)})}else s(new Error("Element not found"))})}},{key:"create",value:function(e,t){var s=this,i=this.w;new nN(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,!K.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),i.config.xaxis.convertedCatToNumeric&&new dg(i.config).convertCatToNumericXaxis(i.config,this.ctx),this.core.setupElements(),i.config.chart.type==="treemap"&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),r.svgWidth===0))return r.animationEnded=!0,null;var a=e;e.forEach(function(g,p){g.hidden&&(a=s.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:p}))});var o=sn.checkComboSeries(a,i.config.chart.type);r.comboCharts=o.comboCharts,r.comboBarCount=o.comboBarCount;var l=a.every(function(g){return g.data&&g.data.length===0});(a.length===0||l&&r.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Zh(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),i.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new sn(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var h=this.core.plotChartType(a,c),f=new Sh(this);return f.bringForward(),i.config.dataLabels.background.enabled&&f.dataLabelsBackground(),this.core.shiftGraphPosition(),i.globals.dataPoints>50&&i.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:h,xyRatios:c,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,i=s.w;return new Promise(function(r,a){if(s.el===null)return a(new Error("Not enough data to display or target element not found"));(t===null||i.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new N4(s);var o,l,c=s.grid.drawGrid();if(s.annotations=new bte(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),i.config.grid.position==="back"&&(c&&i.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&i.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(t.elGraph))for(var h=0;h<t.elGraph.length;h++)i.globals.dom.elGraphical.add(t.elGraph[h]);else i.globals.dom.elGraphical.add(t.elGraph);i.config.grid.position==="front"&&(c&&i.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&i.globals.dom.elGraphical.add(c.elGridBorders)),i.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),i.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),i.config.chart.type!=="treemap"&&s.axes.drawAxis(i.config.chart.type,c);var f=new gg(e.ctx,c),g=new XA(e.ctx,c);if(c!==null&&(f.xAxisLabelCorrections(c.xAxisTickWidth),g.setYAxisTextAlignments(),i.config.yaxis.map(function(x,v){i.globals.ignoreYAxisIndexes.indexOf(v)===-1&&g.yAxisTitleRotate(v,x.opposite)})),s.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&s.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:t.xyRatios});else{var p=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(x){p[x]=!1})}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach(function(x){x.method(x.params,!1,x.context)}),i.globals.axisCharts||i.globals.noData||s.core.resizeNonAxisCharts(),r(s)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,s){var i=y0.get(s);i&&(i.disconnect(),y0.delete(s))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,s){t.id===K.escapeString(e)&&Apex._chartInstances.splice(s,1)}),new sN(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return t.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,i,r,a))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,s)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.data.resetParsingFlags(),s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var i=s.w.config.series.slice(),r=0;r<i.length;r++)if(e[r]!==null&&e[r]!==void 0)for(var a=0;a<e[r].data.length;a++)i[r].data.push(e[r].data[a]);return s.w.config.series=i,t&&(s.w.globals.initialSeries=K.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(s,i){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return s(t);t.lastUpdateOptions=K.clone(e),new sN(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return s(t);t.mount(r).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,s(t)}).catch(function(a){i(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(s){t.push(s)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;t&&(s=t),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new I_(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new I_(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Tf(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Tf(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Tf(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=K.escapeString(e);if(Apex._chartInstances){var s=Apex._chartInstances.filter(function(i){return i.id===t})[0];return s&&s.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new n(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var i=null;if(s.publicMethods.indexOf(t)!==-1){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];i=s[t].apply(s,a)}return i}}},{key:"merge",value:function(e,t){return K.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),n}();const tne=Object.freeze(Object.defineProperty({__proto__:null,default:ene},Symbol.toStringTag,{value:"Module"})),nne=fN(tne);var V4={exports:{}},sne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ine=sne,rne=ine;function H4(){}function U4(){}U4.resetWarningCache=H4;var ane=function(){function n(s,i,r,a,o,l){if(l!==rne){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U4,resetWarningCache:H4};return t.PropTypes=t,t};V4.exports=ane();var one=V4.exports;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=A;var e=o(R),t=r(nne),s=r(one),i=["type","width","height","series","options"];function r(T){return T&&T.__esModule?T:{default:T}}function a(T){var N,O;return typeof WeakMap!="function"?null:(N=new WeakMap,O=new WeakMap,(a=function(C){return C?O:N})(T))}function o(T,N){if(!N&&T&&T.__esModule)return T;if(T===null||f(T)!="object"&&typeof T!="function")return{default:T};if(N=a(N),N&&N.has(T))return N.get(T);var O,C,k={__proto__:null},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in T)O!=="default"&&{}.hasOwnProperty.call(T,O)&&((C=M?Object.getOwnPropertyDescriptor(T,O):null)&&(C.get||C.set)?Object.defineProperty(k,O,C):k[O]=T[O]);return k.default=T,N&&N.set(T,k),k}function l(){return(l=Object.assign?Object.assign.bind():function(T){for(var N=1;N<arguments.length;N++){var O,C=arguments[N];for(O in C)!{}.hasOwnProperty.call(C,O)||(T[O]=C[O])}return T}).apply(null,arguments)}function c(T,N){if(T==null)return{};var O,C=h(T,N);if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(T),M=0;M<k.length;M++)O=k[M],N.includes(O)||{}.propertyIsEnumerable.call(T,O)&&(C[O]=T[O]);return C}function h(T,N){if(T==null)return{};var O,C={};for(O in T)if({}.hasOwnProperty.call(T,O)){if(N.includes(O))continue;C[O]=T[O]}return C}function f(T){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function g(T,N){var O,C=Object.keys(T);return Object.getOwnPropertySymbols&&(O=Object.getOwnPropertySymbols(T),N&&(O=O.filter(function(k){return Object.getOwnPropertyDescriptor(T,k).enumerable})),C.push.apply(C,O)),C}function p(T){for(var N=1;N<arguments.length;N++){var O=arguments[N]!=null?arguments[N]:{};N%2?g(Object(O),!0).forEach(function(C){x(T,C,O[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):g(Object(O)).forEach(function(C){Object.defineProperty(T,C,Object.getOwnPropertyDescriptor(O,C))})}return T}function x(T,N,O){return(N=v(N))in T?Object.defineProperty(T,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):T[N]=O,T}function v(T){return T=_(T,"string"),f(T)=="symbol"?T:T+""}function _(T,N){if(f(T)!="object"||!T)return T;var O=T[Symbol.toPrimitive];if(O===void 0)return(N==="string"?String:Number)(T);if(O=O.call(T,N),f(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}function w(T,N){var O=p({},T);return N.forEach(function(C){delete O[C]}),O}function S(T,N){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(T!==N){if(f(T)!=="object"||T===null||f(N)!=="object"||N===null)return!1;if(!O.has(T)&&!O.has(N)){O.add(T),O.add(N);var C=Object.keys(T),k=Object.keys(N);if(C.length!==k.length)return!1;for(var M=0,I=C;M<I.length;M++){var D=I[M];if(!k.includes(D)||!S(T[D],N[D],O))return!1}}}return!0}function A(Z){function N(U){return U&&f(U)==="object"&&!Array.isArray(U)}var D=Z.type,O=D===void 0?"line":D,D=Z.width,C=D===void 0?"100%":D,D=Z.height,k=D===void 0?"auto":D,M=Z.series,I=Z.options,D=c(Z,i),F=(0,e.useRef)(null),V=(0,e.useRef)(null),G=(0,e.useRef)(),J=((0,e.useEffect)(function(){G.current=I;var U=F.current;return V.current=new t.default(U,J()),V.current.render(),function(){V.current&&typeof V.current.destroy=="function"&&V.current.destroy()}},[]),(0,e.useEffect)(function(){var U=!S(V.current.w.config.series,M),X=!S(G.current,I)||k!==V.current.opts.chart.height||C!==V.current.opts.chart.width;(U||X)&&(!U||X?V.current.updateOptions(J()):V.current.updateSeries(M)),G.current=I},[I,M,k,C]),function(){return Y(I,{chart:{type:O,height:k,width:C},series:M})}),Y=function(U,X){var Q=p({},U);return N(U)&&N(X)&&Object.keys(X).forEach(function(se){N(X[se])&&se in U?Q[se]=Y(U[se],X[se]):Object.assign(Q,x({},se,X[se]))}),Q},Z=w(D,Object.keys(A.propTypes));return e.default.createElement("div",l({ref:F},Z))}A.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}})($D);const GA=J_($D),lne=({data:n,title:e,color:t})=>{const s={chart:{type:"bar",toolbar:{show:!1},background:"transparent"},plotOptions:{bar:{borderRadius:6,horizontal:!1,columnWidth:"40%"}},dataLabels:{enabled:!1},xaxis:{categories:n.map(r=>r.x),labels:{style:{colors:"#64748b"}}},yaxis:{labels:{style:{colors:"#64748b"}}},fill:{colors:[t||"#2563eb"]},grid:{show:!1},title:{text:e,style:{color:"#334155",fontWeight:700}}},i=[{name:e,data:n.map(r=>r.y)}];return d.jsx("div",{className:"rounded-2xl bg-white/10 p-6",children:d.jsx(GA,{options:s,series:i,type:"bar",height:260})})},cne=({data:n,title:e,color:t})=>{const s={chart:{type:"line",toolbar:{show:!1},background:"transparent"},stroke:{curve:"smooth",width:3},xaxis:{categories:n.map(r=>r.x),labels:{style:{colors:"#64748b"}}},yaxis:{labels:{style:{colors:"#64748b"}}},fill:{colors:[t||"#6366f1"]},grid:{show:!1},title:{text:e,style:{color:"#334155",fontWeight:700}}},i=[{name:e,data:n.map(r=>r.y)}];return d.jsx("div",{className:"rounded-2xl bg-white/10 p-6",children:d.jsx(GA,{options:s,series:i,type:"line",height:260})})},une=({data:n,labels:e,title:t,colors:s})=>{const i={chart:{type:"pie",toolbar:{show:!1},background:"transparent"},labels:e,legend:{position:"bottom",labels:{colors:"#64748b"}},fill:{colors:s||["#fbbf24","#22c55e","#ef4444"]},colors:s,title:{text:t,style:{color:"#334155",fontWeight:700}}};return d.jsx("div",{className:"rounded-2xl bg-white/10 p-6",children:d.jsx(GA,{options:i,series:n,type:"pie",height:260})})},hne=()=>{const[n,e]=R.useState("overview"),[t,s]=R.useState(!0),[i,r]=R.useState({totalUsers:0,activeUsers:0,totalReports:0,pendingReports:0,criticalReports:0,verifiedReports:0,recentActivity:[],recentLocations:[]});R.useEffect(()=>{a();const o=yt.channel("flood_reports_changes").on("postgres_changes",{event:"*",schema:"public",table:"flood_reports"},a).subscribe(),l=yt.channel("users_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_profiles"},a).subscribe();return()=>{yt.removeChannel(o),yt.removeChannel(l)}},[]);const a=async()=>{s(!0);try{const{data:o,error:l}=await yt.from("flood_reports").select("*").order("created_at",{ascending:!1}).limit(5);if(l)throw new Error("Failed to fetch recent activity");const{data:c,error:h}=await yt.from("flood_reports").select("location, severity, created_at").order("created_at",{ascending:!1}).limit(5);if(h)throw new Error("Failed to fetch recent locations");const{data:f,error:g}=await yt.from("user_profiles").select("id, last_sign_in_at, created_at");if(g)throw new Error("Failed to fetch users");const{data:p,error:x}=await yt.from("flood_reports").select("id, status, severity");if(x)throw new Error("Failed to fetch reports");const v=30*24*60*60*1e3,_=Date.now(),w=(f||[]).filter(S=>{if(!S.last_sign_in_at)return!1;const A=new Date(S.last_sign_in_at).getTime();return!isNaN(A)&&_-A<=v}).length;r({totalUsers:f.length,activeUsers:w,totalReports:p.length,pendingReports:p.filter(S=>S.status==="pending").length,criticalReports:p.filter(S=>S.severity==="critical").length,verifiedReports:p.filter(S=>S.status==="verified").length,recentActivity:o.map(S=>({id:S.id,title:S.title,severity:S.severity,status:S.status,time:new Date(S.created_at).toLocaleString(),user:S.user_name||"Unknown User",avatar:void 0})),recentLocations:c.map(S=>({location:S.location,severity:S.severity,time:new Date(S.created_at).toLocaleString()}))})}catch(o){console.error("Error fetching data:",o),Ee.error(o.message||"Failed to load dashboard data")}finally{s(!1)}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-teal-500 to-green-400 text-white",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 mb-8",children:[d.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[d.jsx(see,{className:"h-10 w-10 text-white"}),d.jsx("h1",{className:"text-4xl font-bold",children:"Admin Panel"}),d.jsxs(Ge,{variant:"outline",className:"flex items-center gap-2 py-1.5 px-3 rounded-full bg-white/20 text-white",children:[d.jsx(gD,{className:"h-3 w-3 animate-spin"}),d.jsx("span",{className:"text-sm",children:"Real-time"})]})]}),d.jsx("p",{className:"text-lg opacity-90 max-w-2xl mx-auto",children:"Manage users, reports, and system analytics for the JalRakshak platform with a modern, unified dashboard experience."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:[d.jsxs(pe,{className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:[d.jsx(Ms,{className:"w-4 h-4 mr-2"}),"User Management"]}),d.jsxs(pe,{className:"bg-green-500 hover:bg-green-600 text-white shadow-lg",children:[d.jsx(Om,{className:"w-4 h-4 mr-2"}),"Report Analytics"]})]})]}),d.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[d.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full opacity-10"}),d.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-white rounded-full opacity-10"}),d.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full opacity-10"})]})]}),d.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-8",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(Ms,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:i.totalUsers}),d.jsx("div",{className:"text-sm opacity-80",children:"Total Users"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(f_,{className:"w-3 h-3 mr-1"}),d.jsxs("span",{children:[i.activeUsers," active"]})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(Om,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:i.totalReports}),d.jsx("div",{className:"text-sm opacity-80",children:"Total Reports"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(ql,{className:"w-3 h-3 mr-1"}),d.jsxs("span",{children:[i.pendingReports," pending"]})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(tn,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:i.criticalReports}),d.jsx("div",{className:"text-sm opacity-80",children:"Critical Reports"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(Zl,{className:"w-3 h-3 mr-1"}),d.jsxs("span",{children:[i.totalReports>0?Math.round(i.criticalReports/i.totalReports*100):0,"% of total"]})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(dr,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:i.verifiedReports}),d.jsx("div",{className:"text-sm opacity-80",children:"Verified Reports"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(dr,{className:"w-3 h-3 mr-1"}),d.jsxs("span",{children:[i.totalReports>0?Math.round(i.verifiedReports/i.totalReports*100):0,"% verified"]})]})]})]}),d.jsx("div",{className:"mt-10",children:d.jsxs(yy,{value:n,onValueChange:e,children:[d.jsxs(Kg,{className:"grid w-full grid-cols-1 sm:grid-cols-3 max-w-md mx-auto",children:[d.jsxs(Ii,{value:"overview",children:[d.jsx(ql,{className:"h-4 w-4 mr-2"}),"Overview"]}),d.jsxs(Ii,{value:"users",children:[d.jsx(Ms,{className:"h-4 w-4 mr-2"}),"User Management"]}),d.jsxs(Ii,{value:"reports",children:[d.jsx(Om,{className:"h-4 w-4 mr-2"}),"Report Management"]})]}),d.jsxs(Zs,{value:"overview",className:"mt-6",children:[d.jsx("div",{className:"mb-8",children:d.jsx(lne,{title:"Reports by Month",data:[{x:"Jan",y:12},{x:"Feb",y:19},{x:"Mar",y:7},{x:"Apr",y:15},{x:"May",y:22},{x:"Jun",y:9}],color:"#22d3ee"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[d.jsx(cne,{title:"User Growth",data:[{x:"Jan",y:100},{x:"Feb",y:150},{x:"Mar",y:200},{x:"Apr",y:300},{x:"May",y:400},{x:"Jun",y:650}],color:"#6366f1"}),d.jsx(une,{title:"Report Status",labels:["Pending","Verified","Critical"],data:[12,28,8],colors:["#fbbf24","#22c55e","#ef4444"]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs(Li,{className:"lg:col-span-2",children:[d.jsx(Oi,{children:d.jsxs(Di,{className:"text-lg flex items-center gap-2",children:[d.jsx(ql,{className:"h-5 w-5"}),"Recent Activity"]})}),d.jsx(zi,{children:d.jsx(x_,{className:"h-[350px]",children:t?d.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,l)=>d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(au,{className:"h-10 w-10 rounded-full"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(au,{className:"h-4 w-[250px]"}),d.jsx(au,{className:"h-4 w-[200px]"})]})]},l))}):i.recentActivity.map(o=>d.jsxs("div",{className:"flex items-start gap-4 mb-4 pb-4 border-b last:border-0",children:[d.jsxs(wf,{className:"h-10 w-10 border",children:[d.jsx(_f,{src:o.avatar}),d.jsx(Sf,{children:o.user.substring(0,2)})]}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"text-sm font-medium",children:o.title}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(Ge,{variant:o.severity==="critical"||o.severity==="high"?"destructive":o.severity==="medium"?"warning":"secondary",children:o.severity}),d.jsx(Ge,{variant:o.status==="verified"?"success":o.status==="pending"?"outline":"secondary",children:o.status})]}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[o.user,"  ",o.time]})]})]},o.id))})})]}),d.jsxs(Li,{children:[d.jsx(Oi,{children:d.jsxs(Di,{className:"text-lg flex items-center gap-2",children:[d.jsx(ts,{className:"h-5 w-5"}),"Hotspot Locations"]})}),d.jsx(zi,{children:d.jsx(x_,{className:"h-[350px]",children:t?d.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,l)=>d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(au,{className:"h-10 w-10 rounded-full"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(au,{className:"h-4 w-[150px]"}),d.jsx(au,{className:"h-4 w-[100px]"})]})]},l))}):i.recentLocations.map((o,l)=>d.jsxs("div",{className:"flex items-start gap-4 mb-4 pb-4 border-b last:border-0",children:[d.jsx("div",{className:"bg-muted rounded-full p-2 mt-1",children:d.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("p",{className:"text-sm font-medium",children:o.location?.address||"Unknown Location"}),d.jsx("div",{className:"flex items-center gap-2 mt-1",children:d.jsx(Ge,{variant:o.severity==="critical"||o.severity==="high"?"destructive":"warning",children:o.severity})}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:o.time})]})]},l))})})]})]})]}),d.jsx(Zs,{value:"users",className:"mt-6",children:d.jsx(Dee,{})}),d.jsx(Zs,{value:"reports",className:"mt-6",children:d.jsx(zee,{})})]})})]})]})},tt=({children:n,className:e,variant:t="default",hover:s=!0})=>{const i={default:"bg-gradient-to-br from-white to-blue-50 border-blue-100 hover:shadow-blue-200/50",success:"bg-gradient-to-br from-white to-green-50 border-green-100 hover:shadow-green-200/50",warning:"bg-gradient-to-br from-white to-yellow-50 border-yellow-100 hover:shadow-yellow-200/50",danger:"bg-gradient-to-br from-white to-red-50 border-red-100 hover:shadow-red-200/50"};return d.jsx("div",{className:Me("rounded-2xl border backdrop-blur-sm shadow-lg transition-all duration-300",i[t],s&&"hover:shadow-xl hover:-translate-y-1",e),children:n})},dne=()=>{const i=`https://embed.windy.com/embed2.html?lat=${31.1471}&lon=${75.3412}&zoom=8&overlay=wind&level=surface&product=GFS&key=windyisthebest`;return d.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},src:i,title:""})},fne=()=>d.jsx("div",{style:{height:"100%",width:"100%"},children:d.jsx(dne,{})}),W4=({text:n,topText:e,bottomText:t})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute top-2.5 left-1/2 -translate-x-1/2 z-10 pointer-events-none",children:d.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-4 py-2 rounded-full shadow-lg border-slate-700",children:e||n})}),d.jsx("div",{className:"absolute bottom-2.5 right-2.5 z-10 pointer-events-none",children:d.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-20 py-2 rounded-full shadow-lg border-slate-700",children:t||n})})]}),gne=()=>new Promise((n,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(t=>{n({lat:t.coords.latitude,lng:t.coords.longitude})},t=>{let s="Unable to get location";switch(t.code){case t.PERMISSION_DENIED:s="Location access denied by user";break;case t.POSITION_UNAVAILABLE:s="Location information unavailable";break;case t.TIMEOUT:s="Location request timed out";break}e(new Error(s))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),pne=async(n,e)=>{try{const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${e}&addressdetails=1`);if(!t.ok)throw new Error("Geocoding failed");const s=await t.json(),i=s.display_name||"Unknown location",r=s.address?.state||s.address?.region||"",a=s.address?.county||s.address?.city_district||s.address?.city||"",o=s.address?.country||"";return{coords:{lat:n,lng:e},address:i,state:r,district:a,country:o}}catch(t){return console.error("Reverse geocoding error:",t),{coords:{lat:n,lng:e},address:"Unknown location",state:"",district:"",country:""}}},z_=async()=>{try{const n=await gne();return await pne(n.lat,n.lng)}catch(n){throw Ee.error("Unable to get your location. Please enable location access."),n}},mne=async n=>{try{const e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n)}&addressdetails=1&limit=5&countrycodes=in`);if(!e.ok)throw new Error("Search failed");return(await e.json()).map(s=>({coords:{lat:parseFloat(s.lat),lng:parseFloat(s.lon)},address:s.display_name||"Unknown location",state:s.address?.state||s.address?.region||"",district:s.address?.county||s.address?.city_district||s.address?.city||"",country:s.address?.country||""}))}catch(e){return console.error("Location search error:",e),[]}},vne=()=>{const{userProfile:n}=Hh(),e=pg(),[t,s]=R.useState(null),[i,r]=R.useState(!1),[a,o]=R.useState(0),[l,c]=R.useState("safe"),[h,f]=R.useState(65),[g,p]=R.useState(5),[x,v]=R.useState(1247),[_,w]=R.useState(23),[S,A]=R.useState(89456);R.useEffect(()=>{T()},[]);const T=async()=>{r(!0);try{const C=await z_();if(s(C),C.state){const k=await nK(C.state,C.district);if(k.length>0){const I=k[0];f(I.current_water_level||65),c(I.risk_level||"safe")}const M=await HL(C.coords.lat,C.coords.lng,50);o(M.length),p(M.filter(I=>I.severity==="critical"||I.severity==="high").length)}Ee.success(`Location detected: ${C.district}, ${C.state}`)}catch(C){console.error("Error loading location data:",C),s({coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"})}finally{r(!1)}};R.useEffect(()=>{const C=setInterval(()=>{f(k=>Math.max(20,Math.min(95,k+(Math.random()-.5)*3))),p(k=>Math.max(0,Math.min(15,k+Math.floor((Math.random()-.5)*2))))},4e3);return()=>clearInterval(C)},[]);const N=[{name:"Normal Levels",percentage:67,color:"text-green-600",bgColor:"bg-green-100",icon:dr},{name:"Warning Zones",percentage:28,color:"text-yellow-600",bgColor:"bg-yellow-100",icon:tn},{name:"Critical Areas",percentage:5,color:"text-red-600",bgColor:"bg-red-100",icon:tn}],O=[{city:t?.district||"Amritsar",level:h,status:l==="critical"?"Critical":l==="warning"?"Warning":"Normal",color:l==="critical"?"bg-red-500":l==="warning"?"bg-yellow-500":"bg-green-500"},{city:"Ludhiana",level:62,status:"Moderate",color:"bg-yellow-500"},{city:"Jalandhar",level:35,status:"Light",color:"bg-green-500"},{city:"Patiala",level:15,status:"Minimal",color:"bg-green-400"}];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-600 via-teal-500 to-green-400 p-8 text-white",children:[d.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[d.jsx("h1",{className:"text-5xl font-bold",children:"Real-Time Flood Monitoring"}),i&&d.jsx(ni,{className:"w-6 h-6 animate-spin"})]}),t&&d.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 max-w-md mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[d.jsx(ts,{className:"w-4 h-4"}),d.jsxs("span",{children:["Monitoring: ",t.district||t.state,", ",t.state]})]}),d.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-xs",children:[d.jsxs(Ge,{className:`${l==="critical"?"bg-red-500":l==="warning"?"bg-yellow-500":"bg-green-500"} text-white`,children:[l.toUpperCase()," RISK"]}),d.jsxs("span",{children:[a," Local Reports"]}),d.jsx(pe,{size:"sm",variant:"ghost",onClick:T,className:"text-white hover:bg-white/20 p-1",children:d.jsx(ag,{className:"w-3 h-3"})})]})]}),d.jsx("p",{className:"text-xl opacity-90 max-w-3xl mx-auto",children:t?`Advanced AI-powered flood prediction and early warning system protecting your community in ${t.state} with precision and care`:"Advanced AI-powered flood prediction and early warning system protecting communities across India with precision and care"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-8",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(Un,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:x.toLocaleString()}),d.jsx("div",{className:"text-sm opacity-80",children:"Protected Areas"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(f_,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"+12% this week"})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(tn,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:_}),d.jsx("div",{className:"text-sm opacity-80",children:"Watch Zones"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(ql,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"Monitoring active"})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(tn,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:g}),d.jsx("div",{className:"text-sm opacity-80",children:"Alert Areas"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(Zl,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"Immediate action"})]})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(Ms,{className:"w-6 h-6 text-white"})}),d.jsx("div",{className:"text-3xl font-bold",children:S.toLocaleString()}),d.jsx("div",{className:"text-sm opacity-80",children:"Community Members"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[d.jsx(Ms,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"Engaged community"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[d.jsxs(pe,{onClick:()=>e("/reports"),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:[d.jsx(Om,{className:"w-4 h-4 mr-2"}),"View Detailed Analytics"]}),d.jsxs(pe,{onClick:()=>e("/alerts"),className:"bg-green-500 hover:bg-green-600 text-white shadow-lg",children:[d.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Get Mobile Alerts"]})]})]}),d.jsxs("div",{className:"absolute inset-0 opacity-20",children:[d.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full opacity-10"}),d.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-white rounded-full opacity-10"}),d.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full opacity-10"})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Live Flood Risk Assessment"}),d.jsx("p",{className:"text-lg text-slate-600",children:"Real-time monitoring of water levels, rainfall, and flood risk across Punjab"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Punjab Risk Heatmap"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[d.jsx(ql,{className:"w-3 h-3 mr-1"}),"Live"]}),d.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>console.log("Exporting map..."),children:[d.jsx(_A,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),d.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-80 overflow-hidden",children:[d.jsx(fne,{}),d.jsx(W4,{text:"Live Weather Data"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-4 mt-6",children:N.map((C,k)=>{const M=C.icon;return d.jsxs("div",{className:`${C.bgColor} rounded-xl p-4 text-center`,children:[d.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d.jsx(M,{className:`w-5 h-5 ${C.color} mr-2`}),d.jsx("span",{className:`text-sm font-semibold ${C.color}`,children:C.name})]}),d.jsxs("div",{className:`text-2xl font-bold ${C.color}`,children:[C.percentage,"%"]})]},k)})})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Water Level Gauges"}),d.jsx("div",{className:"space-y-4",children:O.map((C,k)=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-slate-700",children:C.city}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`w-3 h-3 ${C.color} rounded-full`}),d.jsx("span",{className:"text-xs text-slate-600",children:C.status})]})]}),d.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 ${C.color} rounded-full transition-all duration-1000`,style:{width:`${C.level}%`}})})]},k))})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Rainfall Intensity"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"Amritsar"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-16 h-2 bg-red-500 rounded-full"}),d.jsx("span",{className:"text-xs text-slate-600",children:"Heavy"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"Ludhiana"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-12 h-2 bg-yellow-500 rounded-full"}),d.jsx("span",{className:"text-xs text-slate-600",children:"Moderate"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"Jalandhar"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-2 bg-green-500 rounded-full"}),d.jsx("span",{className:"text-xs text-slate-600",children:"Light"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"Patiala"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-2 bg-green-400 rounded-full"}),d.jsx("span",{className:"text-xs text-slate-600",children:"Minimal"})]})]})]})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-teal-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(vD,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"AI Accuracy"}),d.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"94.7%"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Prediction Accuracy"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[d.jsx(f_,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"+2.3% from last month"})]})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(yh,{className:"w-8 h-8 text-green-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Early Warning"}),d.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"47 min"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Lead Time"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[d.jsx(dr,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"Within target range"})]})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(ql,{className:"w-8 h-8 text-purple-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Sources"}),d.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"1,247"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active Sensors"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-purple-600",children:[d.jsx(xD,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"Real-time monitoring"})]})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Un,{className:"w-8 h-8 text-yellow-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),d.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"2.3min"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Alert Time"}),d.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[d.jsx(DJ,{className:"w-3 h-3 mr-1"}),d.jsx("span",{children:"15% faster than target"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Recent Alerts & Updates"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border border-red-200",children:[d.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-2 animate-pulse"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Critical Flood Warning"}),d.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Amritsar District - 5 minutes ago"}),d.jsx("p",{className:"text-xs text-slate-700",children:"Water levels rising rapidly. Immediate evacuation required."})]}),d.jsx(Ge,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:"Critical"})]}),d.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[d.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mt-2 animate-pulse"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Water Level Alert"}),d.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Ludhiana Industrial Zone - 18 minutes ago"}),d.jsx("p",{className:"text-xs text-slate-700",children:"Approaching warning threshold. Monitoring continues."})]}),d.jsx(Ge,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:"Warning"})]}),d.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-teal-50 rounded-xl border border-blue-200",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mt-2"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"System Update"}),d.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Punjab State Wide - 1 hour ago"}),d.jsx("p",{className:"text-xs text-slate-700",children:"All sensors online and functioning normally."})]}),d.jsx(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:"Info"})]})]})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Emergency Actions"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(pe,{onClick:()=>e("/assessment"),className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[d.jsx(tn,{className:"w-5 h-5 mr-3"}),"Report Emergency Situation"]}),d.jsxs(pe,{onClick:()=>e("/predictions"),className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[d.jsx(fr,{className:"w-5 h-5 mr-3"}),"View Flood Predictions"]}),d.jsxs(pe,{onClick:()=>{navigator.userAgent.match(/iPhone|Android/i)?window.open("tel:108","_self"):window.open("https://www.dial108.com/","_blank"),console.log("Emergency helpline activated")},className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[d.jsx(Pi,{className:"w-5 h-5 mr-3"}),"Emergency Helpline"]}),d.jsxs(pe,{onClick:()=>e("/reports"),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[d.jsx(Ms,{className:"w-5 h-5 mr-3"}),"Community Reports"]})]})]})]})]})};function $A(n){const e=R.useRef({value:n,previous:n});return R.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Y4=["PageUp","PageDown"],X4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G4={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Kh="Slider",[F_,xne,yne]=oy(Kh),[$4,are]=Os(Kh,[yne]),[bne,Ay]=$4(Kh),q4=R.forwardRef((n,e)=>{const{name:t,min:s=0,max:i=100,step:r=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[s],value:h,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:p=!1,form:x,...v}=n,_=R.useRef(new Set),w=R.useRef(0),A=a==="horizontal"?wne:_ne,[T=[],N]=Wo({prop:h,defaultProp:c,onChange:D=>{[..._.current][w.current]?.focus(),f(D)}}),O=R.useRef(T);function C(D){const F=Ene(T,D);I(D,F)}function k(D){I(D,w.current)}function M(){const D=O.current[w.current];T[w.current]!==D&&g(T)}function I(D,F,{commit:V}={commit:!1}){const G=Pne(r),J=Ine(Math.round((D-s)/r)*r+s,G),Y=lg(J,[s,i]);N((Z=[])=>{const U=Cne(Z,Y,F);if(Rne(U,l*r)){w.current=U.indexOf(Y);const X=String(U)!==String(Z);return X&&V&&g(U),X?U:Z}else return Z})}return d.jsx(bne,{scope:n.__scopeSlider,name:t,disabled:o,min:s,max:i,valueIndexToChangeRef:w,thumbs:_.current,values:T,orientation:a,form:x,children:d.jsx(F_.Provider,{scope:n.__scopeSlider,children:d.jsx(F_.Slot,{scope:n.__scopeSlider,children:d.jsx(A,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:e,onPointerDown:ye(v.onPointerDown,()=>{o||(O.current=T)}),min:s,max:i,inverted:p,onSlideStart:o?void 0:C,onSlideMove:o?void 0:k,onSlideEnd:o?void 0:M,onHomeKeyDown:()=>!o&&I(s,0,{commit:!0}),onEndKeyDown:()=>!o&&I(i,T.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:F})=>{if(!o){const J=Y4.includes(D.key)||D.shiftKey&&X4.includes(D.key)?10:1,Y=w.current,Z=T[Y],U=r*J*F;I(Z+U,Y,{commit:!0})}}})})})})});q4.displayName=Kh;var[Z4,K4]=$4(Kh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wne=R.forwardRef((n,e)=>{const{min:t,max:s,dir:i,inverted:r,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...h}=n,[f,g]=R.useState(null),p=qe(e,A=>g(A)),x=R.useRef(void 0),v=Yh(i),_=v==="ltr",w=_&&!r||!_&&r;function S(A){const T=x.current||f.getBoundingClientRect(),N=[0,T.width],C=qA(N,w?[t,s]:[s,t]);return x.current=T,C(A-T.left)}return d.jsx(Z4,{scope:n.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:d.jsx(Q4,{dir:v,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const T=S(A.clientX);a?.(T)},onSlideMove:A=>{const T=S(A.clientX);o?.(T)},onSlideEnd:()=>{x.current=void 0,l?.()},onStepKeyDown:A=>{const N=G4[w?"from-left":"from-right"].includes(A.key);c?.({event:A,direction:N?-1:1})}})})}),_ne=R.forwardRef((n,e)=>{const{min:t,max:s,inverted:i,onSlideStart:r,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=n,h=R.useRef(null),f=qe(e,h),g=R.useRef(void 0),p=!i;function x(v){const _=g.current||h.current.getBoundingClientRect(),w=[0,_.height],A=qA(w,p?[s,t]:[t,s]);return g.current=_,A(v-_.top)}return d.jsx(Z4,{scope:n.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:d.jsx(Q4,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const _=x(v.clientY);r?.(_)},onSlideMove:v=>{const _=x(v.clientY);a?.(_)},onSlideEnd:()=>{g.current=void 0,o?.()},onStepKeyDown:v=>{const w=G4[p?"from-bottom":"from-top"].includes(v.key);l?.({event:v,direction:w?-1:1})}})})}),Q4=R.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:s,onSlideMove:i,onSlideEnd:r,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=n,h=Ay(Kh,t);return d.jsx(Re.span,{...c,ref:e,onKeyDown:ye(n.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):Y4.concat(X4).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:ye(n.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(g)?g.focus():s(f)}),onPointerMove:ye(n.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:ye(n.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),r(f))})})}),J4="SliderTrack",e5=R.forwardRef((n,e)=>{const{__scopeSlider:t,...s}=n,i=Ay(J4,t);return d.jsx(Re.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:e})});e5.displayName=J4;var B_="SliderRange",t5=R.forwardRef((n,e)=>{const{__scopeSlider:t,...s}=n,i=Ay(B_,t),r=K4(B_,t),a=R.useRef(null),o=qe(e,a),l=i.values.length,c=i.values.map(g=>i5(g,i.min,i.max)),h=l>1?Math.min(...c):0,f=100-Math.max(...c);return d.jsx(Re.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:o,style:{...n.style,[r.startEdge]:h+"%",[r.endEdge]:f+"%"}})});t5.displayName=B_;var V_="SliderThumb",n5=R.forwardRef((n,e)=>{const t=xne(n.__scopeSlider),[s,i]=R.useState(null),r=qe(e,o=>i(o)),a=R.useMemo(()=>s?t().findIndex(o=>o.ref.current===s):-1,[t,s]);return d.jsx(Sne,{...n,ref:r,index:a})}),Sne=R.forwardRef((n,e)=>{const{__scopeSlider:t,index:s,name:i,...r}=n,a=Ay(V_,t),o=K4(V_,t),[l,c]=R.useState(null),h=qe(e,S=>c(S)),f=l?a.form||!!l.closest("form"):!0,g=eS(l),p=a.values[s],x=p===void 0?0:i5(p,a.min,a.max),v=Tne(s,a.values.length),_=g?.[o.size],w=_?kne(_,x,o.direction):0;return R.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${x}% + ${w}px)`},children:[d.jsx(F_.ItemSlot,{scope:n.__scopeSlider,children:d.jsx(Re.span,{role:"slider","aria-label":n["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...r,ref:h,style:p===void 0?{display:"none"}:n.style,onFocus:ye(n.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),f&&d.jsx(s5,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},s)]})});n5.displayName=V_;var Ane="RadioBubbleInput",s5=R.forwardRef(({__scopeSlider:n,value:e,...t},s)=>{const i=R.useRef(null),r=qe(i,s),a=$A(e);return R.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const f=new Event("input",{bubbles:!0});h.call(o,e),o.dispatchEvent(f)}},[a,e]),d.jsx(Re.input,{style:{display:"none"},...t,ref:r,defaultValue:e})});s5.displayName=Ane;function Cne(n=[],e,t){const s=[...n];return s[t]=e,s.sort((i,r)=>i-r)}function i5(n,e,t){const r=100/(t-e)*(n-e);return lg(r,[0,100])}function Tne(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function Ene(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),s=Math.min(...t);return t.indexOf(s)}function kne(n,e,t){const s=n/2,r=qA([0,50],[0,s]);return(s-r(e)*t)*t}function Nne(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function Rne(n,e){if(e>0){const t=Nne(n);return Math.min(...t)>=e}return!0}function qA(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(n[1]-n[0]);return e[0]+s*(t-n[0])}}function Pne(n){return(String(n).split(".")[1]||"").length}function Ine(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var r5=q4,Mne=e5,jne=t5,Lne=n5;const a5=R.forwardRef(({className:n,...e},t)=>d.jsxs(r5,{ref:t,className:Me("relative flex w-full touch-none select-none items-center",n),...e,children:[d.jsx(Mne,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(jne,{className:"absolute h-full bg-primary"})}),d.jsx(Lne,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));a5.displayName=r5.displayName;var ZA="Progress",KA=100,[One,ore]=Os(ZA),[Dne,zne]=One(ZA),o5=R.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:i,getValueLabel:r=Fne,...a}=n;(i||i===0)&&!iN(i)&&console.error(Bne(`${i}`,"Progress"));const o=iN(i)?i:KA;s!==null&&!rN(s,o)&&console.error(Vne(`${s}`,"Progress"));const l=rN(s,o)?s:null,c=lx(l)?r(l,o):void 0;return d.jsx(Dne,{scope:t,value:l,max:o,children:d.jsx(Re.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":lx(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":u5(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});o5.displayName=ZA;var l5="ProgressIndicator",c5=R.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,i=zne(l5,t);return d.jsx(Re.div,{"data-state":u5(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:e})});c5.displayName=l5;function Fne(n,e){return`${Math.round(n/e*100)}%`}function u5(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function lx(n){return typeof n=="number"}function iN(n){return lx(n)&&!isNaN(n)&&n>0}function rN(n,e){return lx(n)&&!isNaN(n)&&n<=e&&n>=0}function Bne(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${KA}\`.`}function Vne(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${KA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var h5=o5,Hne=c5;const zo=R.forwardRef(({className:n,value:e,...t},s)=>d.jsx(h5,{ref:s,className:Me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:d.jsx(Hne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));zo.displayName=h5.displayName;class Une{openWeatherAPIKey="demo_key";baseURL="https://api.openweathermap.org/data/2.5";imdBaseURL="https://api.imd.gov.in/v1";punjabCoordinates={lat:30.7333,lon:76.7794,name:"Punjab, India"};async getCurrentWeather(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/weather?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok){const t=await e.json();return this.transformOpenWeatherData(t)}}return this.getMockWeatherData()}catch(e){return console.warn("Weather API failed, using mock data:",e),this.getMockWeatherData()}}async getWeatherForecast(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/forecast?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok)return(await e.json()).list.slice(0,24).map(s=>this.transformOpenWeatherData(s))}return this.getMockForecastData()}catch(e){return console.warn("Forecast API failed, using mock data:",e),this.getMockForecastData()}}async getFloodPrediction(e){const t=e[0],s=e.slice(1,8),i=this.calculateRainfallRisk(s),r=t.humidity>80?.3:0,a=t.windSpeed>20?.2:0,o=t.pressure<1e3?.3:0,l=i+r+a+o;let c,h;return l>.8?(c="critical",h=85+Math.random()*15):l>.6?(c="high",h=60+Math.random()*25):l>.4?(c="moderate",h=30+Math.random()*30):(c="low",h=5+Math.random()*25),{riskLevel:c,probability:Math.round(h),expectedTime:this.calculateExpectedTime(c),affectedAreas:this.getAffectedAreas(c),waterLevel:this.calculateWaterLevel(c),confidence:75+Math.random()*20,recommendations:this.getRecommendations(c)}}async getHistoricalData(){return[{date:"2024-07-15",rainfall:45.2,floodOccurred:!0,severity:"moderate",affectedPopulation:12500},{date:"2024-07-10",rainfall:32.1,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-07-05",rainfall:28.7,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-06-28",rainfall:67.3,floodOccurred:!0,severity:"severe",affectedPopulation:45e3},{date:"2024-06-20",rainfall:41.8,floodOccurred:!0,severity:"moderate",affectedPopulation:18e3}]}async getFloodMonitoringData(){return{riverLevels:[{name:"Sutlej River",level:245.6,status:"normal",trend:"rising"},{name:"Beas River",level:198.3,status:"alert",trend:"rising"},{name:"Ravi River",level:156.7,status:"normal",trend:"stable"}],damLevels:[{name:"Bhakra Dam",level:78.5,capacity:85.2,status:"normal"},{name:"Pong Dam",level:92.1,capacity:95.8,status:"alert"},{name:"Ranjit Sagar Dam",level:65.3,capacity:72.1,status:"normal"}],alerts:[{id:1,type:"flood_warning",message:"Rising water levels detected in Beas River",severity:"moderate",timestamp:new Date().toISOString()},{id:2,type:"dam_alert",message:"Pong Dam approaching capacity",severity:"high",timestamp:new Date().toISOString()}]}}transformOpenWeatherData(e){return{temperature:e.main.temp,humidity:e.main.humidity,rainfall:e.rain?.["1h"]||0,windSpeed:e.wind.speed*3.6,windDirection:e.wind.deg,pressure:e.main.pressure,visibility:e.visibility/1e3,uvIndex:e.uvi||0,timestamp:new Date(e.dt*1e3).toISOString(),location:this.punjabCoordinates}}getMockWeatherData(){return{temperature:28+Math.random()*8,humidity:70+Math.random()*20,rainfall:Math.random()*50,windSpeed:10+Math.random()*20,windDirection:Math.random()*360,pressure:1e3+Math.random()*20,visibility:8+Math.random()*4,uvIndex:5+Math.random()*5,timestamp:new Date().toISOString(),location:this.punjabCoordinates}}getMockForecastData(){const e=[],t=new Date;for(let s=0;s<24;s++){const i=new Date(t.getTime()+s*60*60*1e3);e.push({temperature:25+Math.random()*10,humidity:60+Math.random()*30,rainfall:Math.random()*30,windSpeed:8+Math.random()*15,windDirection:Math.random()*360,pressure:995+Math.random()*25,visibility:6+Math.random()*6,uvIndex:3+Math.random()*7,timestamp:i.toISOString(),location:this.punjabCoordinates})}return e}calculateRainfallRisk(e){const s=e.reduce((i,r)=>i+r.rainfall,0)/e.length;return s>20?.8:s>15?.6:s>10?.4:s>5?.2:.1}calculateExpectedTime(e){const t={critical:2+Math.random()*2,high:4+Math.random()*4,moderate:8+Math.random()*8,low:12+Math.random()*12},s=new Date;return s.setHours(s.getHours()+t[e]),s.toLocaleString()}getAffectedAreas(e){return{critical:["Riverside District","Low-lying Areas","Industrial Zone"],high:["Riverside District","Low-lying Areas"],moderate:["Riverside District"],low:[]}[e]}calculateWaterLevel(e){return 150+{critical:25+Math.random()*15,high:15+Math.random()*10,moderate:8+Math.random()*7,low:2+Math.random()*3}[e]}getRecommendations(e){return{critical:["Immediate evacuation of affected areas","Activate emergency response teams","Close all schools and offices","Set up emergency shelters"],high:["Prepare for evacuation","Move to higher ground","Secure important documents","Stock emergency supplies"],moderate:["Monitor water levels closely","Avoid low-lying areas","Keep emergency contacts ready","Prepare evacuation plan"],low:["Continue normal activities","Stay informed about weather updates","Keep emergency kit ready"]}[e]}}const cu=new Une;class Wne{grid;waterLevels;riskMap;timeStep;currentTime;isRunning;simulationData;constructor(){this.grid=[],this.waterLevels=[],this.riskMap=[],this.timeStep=5,this.currentTime=0,this.isRunning=!1,this.simulationData=[]}initializeSimulation(e){this.grid=e.terrainData,this.waterLevels=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill(0)),this.riskMap=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill("low")),this.timeStep=e.timeStep,this.currentTime=0,this.simulationData=[]}runSimulation(e){this.initializeSimulation(e),this.isRunning=!0;const t=Math.floor(e.totalTime/this.timeStep);for(let s=0;s<t;s++)this.simulateStep(e),this.currentTime+=this.timeStep;return this.isRunning=!1,this.simulationData}simulateStep(e){const t=this.waterLevels.map(i=>[...i]),s=e.waterSource;t[s.y][s.x]+=s.intensity*this.timeStep/60;for(let i=0;i<e.gridSize;i++)for(let r=0;r<e.gridSize;r++)this.waterLevels[i][r]>0&&this.simulateWaterFlow(r,i,t,e);this.waterLevels=t,this.updateRiskMap(),this.recordSimulationData()}simulateWaterFlow(e,t,s,i){const r=this.waterLevels[t][e],a=this.grid[t][e],o=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];for(const l of o){const c=e+l.dx,h=t+l.dy;if(c>=0&&c<i.gridSize&&h>=0&&h<i.gridSize){const f=this.grid[h][c],g=this.waterLevels[h][c],p=a-f,x=r-g;if(p>0&&x>0){const v=Math.min((p+x)*.1,r*.3);s[t][e]-=v,s[h][c]+=v}}}}updateRiskMap(){for(let e=0;e<this.waterLevels.length;e++)for(let t=0;t<this.waterLevels[e].length;t++){const s=this.waterLevels[e][t],i=this.grid[e][t];s>i+2?this.riskMap[e][t]="critical":s>i+1?this.riskMap[e][t]="high":s>i+.5?this.riskMap[e][t]="moderate":s>0?this.riskMap[e][t]="low":this.riskMap[e][t]="low"}}recordSimulationData(){for(let e=0;e<this.waterLevels.length;e++)for(let t=0;t<this.waterLevels[e].length;t++){const s=this.waterLevels[e][t];s>0&&this.simulationData.push({x:t,y:e,waterLevel:s,timestamp:this.currentTime,riskLevel:this.riskMap[e][t]})}}getFloodZones(){return[{id:"riverside_district",name:"Riverside District",coordinates:[{lat:30.74,lon:76.78},{lat:30.75,lon:76.79},{lat:30.76,lon:76.8},{lat:30.75,lon:76.81}],elevation:220,population:25e3,infrastructure:["Schools","Hospitals","Markets"],riskLevel:"critical",evacuationTime:30},{id:"industrial_zone",name:"Industrial Zone",coordinates:[{lat:30.72,lon:76.75},{lat:30.73,lon:76.76},{lat:30.74,lon:76.77},{lat:30.73,lon:76.78}],elevation:240,population:15e3,infrastructure:["Factories","Warehouses","Power Plants"],riskLevel:"high",evacuationTime:45},{id:"downtown_area",name:"Downtown Area",coordinates:[{lat:30.76,lon:76.72},{lat:30.77,lon:76.73},{lat:30.78,lon:76.74},{lat:30.77,lon:76.75}],elevation:260,population:4e4,infrastructure:["Government Buildings","Banks","Shopping Centers"],riskLevel:"moderate",evacuationTime:60},{id:"residential_blocks",name:"Residential Blocks",coordinates:[{lat:30.7,lon:76.7},{lat:30.71,lon:76.71},{lat:30.72,lon:76.72},{lat:30.71,lon:76.73}],elevation:250,population:35e3,infrastructure:["Housing","Schools","Community Centers"],riskLevel:"low",evacuationTime:90}]}generateTerrainData(e){const t=[];for(let s=0;s<e;s++){const i=[];for(let r=0;r<e;r++){const a=e/2,o=e/2,l=Math.sqrt((r-a)**2+(s-o)**2),c=Math.sqrt(a**2+o**2),h=300-l/c*100,f=(Math.random()-.5)*20,p=Math.abs(s-o)<5?-30:0;i.push(Math.max(200,h+f+p))}t.push(i)}return t}getSimulationStatus(){const e=this.simulationData.filter(t=>t.riskLevel==="critical").length;return{isRunning:this.isRunning,currentTime:this.currentTime,totalPoints:this.simulationData.length,criticalPoints:e}}reset(){this.waterLevels=this.waterLevels.map(e=>e.map(()=>0)),this.riskMap=this.riskMap.map(e=>e.map(()=>"low")),this.currentTime=0,this.simulationData=[],this.isRunning=!1}}const cm=new Wne,Yne=()=>{const[n,e]=R.useState(!1),[t,s]=R.useState([0]),[i,r]=R.useState("24h"),[a,o]=R.useState([]),[l,c]=R.useState(null),[h,f]=R.useState([]),[g,p]=R.useState([]),[x,v]=R.useState(!0),[_,w]=R.useState(0),[S,A]=R.useState(!0),[T,N]=R.useState(null),[O,C]=R.useState([]),k=R.useRef(null),M=[{label:"24h",value:"24h",active:!0},{label:"48h",value:"48h",active:!1},{label:"72h",value:"72h",active:!1}];R.useEffect(()=>{I()},[]),R.useEffect(()=>{a.length>0&&D()},[i,a]),R.useEffect(()=>(n?V():G(),()=>G()),[n]);const I=async()=>{v(!0);try{const q=await cu.getCurrentWeather(),he=await cu.getWeatherForecast(),ae=[q,...he];o(ae);const fe=await cu.getFloodPrediction(ae);c(fe);const oe=cm.getFloodZones();p(oe);const re=await cu.getFloodMonitoringData();N(re);const be=await cu.getHistoricalData();C(be),F()}catch(q){console.error("Failed to load data:",q)}finally{v(!1)}},D=async()=>{try{const q=await cu.getFloodPrediction(a);c(q)}catch(q){console.error("Failed to update prediction:",q)}},F=()=>{const q={timeStep:5,totalTime:360,gridSize:20,terrainData:cm.generateTerrainData(20),waterSource:{x:10,y:5,intensity:2.5}},he=cm.runSimulation(q);f(he)},V=()=>{k.current||(k.current=setInterval(()=>{w(q=>q>=100?(e(!1),100):q+2)},100))},G=()=>{k.current&&(clearInterval(k.current),k.current=null)},J=()=>{e(!1),w(0),s([0]),cm.reset(),F()},Y=q=>{s(q),w(q[0])},Z=async()=>{v(!0),await I()},U=()=>{const q={timestamp:new Date().toISOString(),weatherData:a[0],floodPrediction:l,simulationData:h.slice(0,100),floodZones:g.map(oe=>({name:oe.name,riskLevel:oe.riskLevel,population:oe.population}))},he=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),ae=URL.createObjectURL(he),fe=document.createElement("a");fe.href=ae,fe.download=`flood-prediction-report-${Date.now()}.json`,fe.click(),URL.revokeObjectURL(ae)},X=async()=>{if(navigator.share)try{await navigator.share({title:"Flood Prediction Alert",text:`Flood risk level: ${l?.riskLevel}. Probability: ${l?.probability}%`,url:window.location.href})}catch(q){console.log("Error sharing:",q)}else navigator.clipboard.writeText(`Flood Prediction Alert: Risk Level ${l?.riskLevel}, Probability ${l?.probability}%`)},Q=[{title:"AI Accuracy",value:`${l?.confidence||85}%`,change:"Based on 15+ data sources",icon:zJ,color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{title:"Early Warning",value:l?`${Math.round(Math.random()*60+30)} min`:"47 min",change:"Within target range",icon:HJ,color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{title:"Data Sources",value:"1,247",change:"Real-time monitoring",icon:ql,color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"}],se=()=>{if(a.length===0)return[];const q=a[0];return[{parameter:"Rainfall",value:`${q.rainfall.toFixed(1)}mm`,status:q.rainfall>20?"Heavy":q.rainfall>10?"Moderate":"Light",color:q.rainfall>20?"text-red-600":q.rainfall>10?"text-yellow-600":"text-green-600",bgColor:q.rainfall>20?"bg-red-100":q.rainfall>10?"bg-yellow-100":"bg-green-100"},{parameter:"Wind Speed",value:`${q.windSpeed.toFixed(1)} km/h`,status:q.windSpeed>30?"Strong":q.windSpeed>15?"Moderate":"Light",color:q.windSpeed>30?"text-red-600":q.windSpeed>15?"text-yellow-600":"text-green-600",bgColor:q.windSpeed>30?"bg-red-100":q.windSpeed>15?"bg-yellow-100":"bg-green-100"},{parameter:"Temperature",value:`${q.temperature.toFixed(1)}C`,status:"Normal",color:"text-green-600",bgColor:"bg-green-100"},{parameter:"Humidity",value:`${q.humidity.toFixed(0)}%`,status:q.humidity>80?"High":q.humidity>60?"Moderate":"Low",color:q.humidity>80?"text-orange-600":q.humidity>60?"text-yellow-600":"text-green-600",bgColor:q.humidity>80?"bg-orange-100":q.humidity>60?"bg-yellow-100":"bg-green-100"}]};return x?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),d.jsx("p",{className:"text-lg text-slate-600",children:"Loading flood prediction data..."})]})}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"AI-Powered Flood Prediction"}),d.jsxs(pe,{size:"sm",variant:"outline",onClick:Z,className:"flex items-center space-x-2",children:[d.jsx(gD,{className:"w-4 h-4"}),d.jsx("span",{children:"Refresh"})]})]}),d.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"Advanced machine learning algorithms analyze weather patterns, historical data, and real-time conditions to predict flood events up to 72 hours in advance"}),d.jsxs("div",{className:"flex justify-center space-x-4",children:[d.jsxs(pe,{onClick:U,variant:"outline",className:"flex items-center space-x-2",children:[d.jsx(_A,{className:"w-4 h-4"}),d.jsx("span",{children:"Download Report"})]}),d.jsxs(pe,{onClick:X,variant:"outline",className:"flex items-center space-x-2",children:[d.jsx(nee,{className:"w-4 h-4"}),d.jsx("span",{children:"Share Alert"})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Q.map((q,he)=>{const ae=q.icon;return d.jsxs(tt,{className:`p-6 bg-gradient-to-br ${q.bgColor}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${q.color} rounded-xl flex items-center justify-center`,children:d.jsx(ae,{className:"w-6 h-6 text-white"})}),d.jsx(Ge,{variant:"secondary",className:"bg-white/70 text-slate-700",children:q.title})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`text-3xl font-bold bg-gradient-to-r ${q.color} bg-clip-text text-transparent`,children:q.value}),d.jsx("p",{className:"text-sm text-slate-600",children:q.change})]})]},he)})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Prediction Timeline"}),d.jsx("div",{className:"flex space-x-2",children:M.map(q=>d.jsx(pe,{size:"sm",variant:i===q.value?"default":"outline",className:i===q.value?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>r(q.value),children:q.label},q.value))})]}),d.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-64 p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-6",children:d.jsxs("div",{className:"w-full h-full relative",children:[d.jsx("div",{className:"absolute inset-0 grid grid-cols-6 grid-rows-4 gap-0",children:Array.from({length:24}).map((q,he)=>d.jsx("div",{className:"border-r border-b border-slate-300/30"},he))}),d.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[d.jsx("path",{d:"M 20 180 Q 100 120 180 100 T 340 80 T 500 90",stroke:"url(#gradient)",strokeWidth:"3",fill:"none",className:"animate-pulse"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),d.jsx("stop",{offset:"50%",stopColor:"#F59E0B"}),d.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]})})]}),d.jsx("div",{className:"absolute top-16 left-16 w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),d.jsx("div",{className:"absolute top-12 left-32 w-3 h-3 bg-yellow-500 rounded-full animate-pulse delay-300"}),d.jsx("div",{className:"absolute top-8 left-48 w-3 h-3 bg-red-500 rounded-full animate-pulse delay-700"})]})}),d.jsxs("div",{className:"absolute bottom-4 left-6 right-6 flex justify-between text-xs text-slate-600",children:[d.jsx("span",{children:"Now"}),d.jsx("span",{children:"12h"}),d.jsx("span",{children:"24h"}),d.jsx("span",{children:"36h"}),d.jsx("span",{children:"48h"})]})]})]}),d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Flood Spread Simulation"}),d.jsx(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Next 6 hours"})]}),d.jsxs("div",{className:"flex items-center space-x-4 mb-6 p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl",children:[d.jsx(pe,{size:"sm",variant:n?"secondary":"default",className:n?"":"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>e(!n),children:n?d.jsx(KJ,{className:"w-4 h-4"}):d.jsx(QJ,{className:"w-4 h-4"})}),d.jsx(pe,{size:"sm",variant:"outline",onClick:J,children:d.jsx(eee,{className:"w-4 h-4"})}),d.jsx(pe,{size:"sm",variant:"outline",onClick:()=>A(!S),children:S?d.jsx(bh,{className:"w-4 h-4"}):d.jsx(fr,{className:"w-4 h-4"})}),d.jsx("div",{className:"flex-1 px-4",children:d.jsx(a5,{value:t,onValueChange:Y,max:100,step:1,className:"w-full"})}),d.jsxs("span",{className:"text-sm text-slate-600 min-w-fit",children:["T+",_,"%"]})]}),d.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-blue-900 rounded-2xl h-80 overflow-hidden",children:[S?d.jsx("div",{className:"absolute inset-4 rounded-xl overflow-hidden",children:d.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ${n?"animate-pulse":""}`,children:d.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-800 via-blue-600 to-teal-500 relative",children:[g.map((q,he)=>{const ae=1+_/100*2,fe=.6+_/100*.4,oe={critical:"from-red-400 to-red-600",high:"from-orange-400 to-orange-600",moderate:"from-yellow-400 to-yellow-600",low:"from-blue-400 to-blue-600"};return d.jsx("div",{className:`absolute bg-gradient-to-br ${oe[q.riskLevel]} rounded-full opacity-${Math.round(fe*100)} transition-all duration-2000`,style:{width:`${60*ae}px`,height:`${60*ae}px`,top:`${20+he*25}px`,left:`${30+he*30}px`},children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-xs font-bold",children:q.name.split(" ")[0]})},q.id)}),d.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-white text-xs",children:[d.jsxs("span",{children:["Water Level: ",l?.waterLevel?.toFixed(1)||"0.0","m"]}),d.jsxs("span",{children:["Risk: ",l?.riskLevel?.toUpperCase()||"LOW"]})]})]})})}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/50",children:d.jsxs("div",{className:"text-center",children:[d.jsx(bh,{className:"w-12 h-12 mx-auto mb-2"}),d.jsx("p",{children:"Simulation Hidden"})]})}),d.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:d.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center justify-between text-white text-sm mb-2",children:[d.jsx("span",{children:"Simulation Progress"}),d.jsx("span",{children:"Next 6 hours"})]}),d.jsx(zo,{value:t[0],className:"h-2 bg-white/20"})]})})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Weather Conditions"}),d.jsx("div",{className:"space-y-4",children:se().map((q,he)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[q.parameter==="Rainfall"&&d.jsx(YJ,{className:"w-5 h-5 text-blue-600"}),q.parameter==="Wind Speed"&&d.jsx(lee,{className:"w-5 h-5 text-slate-600"}),q.parameter==="Temperature"&&d.jsx(iee,{className:"w-5 h-5 text-red-600"}),q.parameter==="Humidity"&&d.jsx(SA,{className:"w-5 h-5 text-teal-600"}),d.jsx("span",{className:"text-sm font-medium text-slate-700",children:q.parameter})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm font-bold text-slate-900",children:q.value}),d.jsx(Ge,{variant:"secondary",className:`text-xs ${q.bgColor} ${q.color}`,children:q.status})]})]},he))})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Risk Assessment"}),d.jsx("div",{className:"space-y-4",children:g.map((q,he)=>{const ae={critical:"destructive",high:"bg-red-100 text-red-800",moderate:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},fe={critical:95,high:75,moderate:50,low:25},oe={critical:"High probability of severe flooding in 2-4 hours",high:"Moderate to high risk, prepare for evacuation",moderate:"Moderate risk, monitoring continues",low:"Low risk, normal conditions expected"};return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-slate-700",children:q.name}),d.jsx(Ge,{variant:q.riskLevel==="critical"?"destructive":"secondary",className:`text-xs ${ae[q.riskLevel]}`,children:q.riskLevel.charAt(0).toUpperCase()+q.riskLevel.slice(1)})]}),d.jsx(zo,{value:fe[q.riskLevel],className:"h-2"}),d.jsx("p",{className:"text-xs text-slate-600",children:oe[q.riskLevel]}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[d.jsxs("span",{children:["Population: ",q.population.toLocaleString()]}),d.jsxs("span",{children:["Evac Time: ",q.evacuationTime,"min"]})]})]},q.id)})})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Analysis"}),d.jsxs("div",{className:"space-y-4",children:[O.slice(0,2).map((q,he)=>d.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg border border-blue-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-slate-900",children:q.floodOccurred?"Flood Event":"Normal Period"}),d.jsx(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:new Date(q.date).toLocaleDateString()})]}),d.jsxs("p",{className:"text-xs text-slate-600 mb-2",children:["Rainfall: ",q.rainfall.toFixed(1),"mm |",q.floodOccurred?` ${q.severity} flooding`:" No flooding",q.affectedPopulation>0&&` | ${q.affectedPopulation.toLocaleString()} affected`]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${q.floodOccurred?"bg-red-500":"bg-green-500"}`}),d.jsx("span",{className:"text-xs text-slate-600",children:q.floodOccurred?"Flood occurred":"No flood risk"})]})]},he)),d.jsxs("div",{className:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Prediction Confidence"}),d.jsx(Ge,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:l?.confidence&&l.confidence>80?"High":"Medium"})]}),d.jsxs("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:[l?.confidence||85,"%"]}),d.jsxs("p",{className:"text-xs text-slate-600",children:["Based on ",O.length," historical events and ML models"]})]})]})]})]})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Predicted Alert Timeline"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.slice(0,3).map((q,he)=>{const fe={critical:{bg:"from-red-50 to-pink-50",border:"border-red-200",dot:"bg-red-500",text:"text-red-800",title:"Critical Alert"},high:{bg:"from-orange-50 to-red-50",border:"border-orange-200",dot:"bg-orange-500",text:"text-orange-800",title:"High Alert"},moderate:{bg:"from-yellow-50 to-orange-50",border:"border-yellow-200",dot:"bg-yellow-500",text:"text-yellow-800",title:"Warning Alert"},low:{bg:"from-blue-50 to-teal-50",border:"border-blue-200",dot:"bg-blue-500",text:"text-blue-800",title:"Advisory"}}[q.riskLevel],oe=q.evacuationTime+Math.random()*60;return d.jsxs("div",{className:`p-4 bg-gradient-to-r ${fe.bg} rounded-xl border ${fe.border}`,children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[d.jsx("div",{className:`w-4 h-4 ${fe.dot} rounded-full animate-pulse`,style:{animationDelay:`${he*300}ms`}}),d.jsx("span",{className:`text-sm font-semibold ${fe.text}`,children:fe.title})]}),d.jsx("p",{className:"text-sm text-slate-700 mb-2",children:q.name}),d.jsxs("p",{className:"text-xs text-slate-600",children:["Expected in ",Math.round(oe)," minutes"]}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:q.riskLevel==="critical"?"Immediate evacuation may be required":q.riskLevel==="high"?"Prepare for evacuation":q.riskLevel==="moderate"?"Precautionary measures advised":"Monitor conditions closely"}),d.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[d.jsxs("span",{children:["Population: ",q.population.toLocaleString()]}),d.jsxs("span",{children:["Evac Time: ",q.evacuationTime,"min"]})]})]},q.id)})})]})]})};var Cy="Switch",[Xne,lre]=Os(Cy),[Gne,$ne]=Xne(Cy),d5=R.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:i,defaultChecked:r,required:a,disabled:o,value:l="on",onCheckedChange:c,form:h,...f}=n,[g,p]=R.useState(null),x=qe(e,A=>p(A)),v=R.useRef(!1),_=g?h||!!g.closest("form"):!0,[w,S]=Wo({prop:i,defaultProp:r??!1,onChange:c,caller:Cy});return d.jsxs(Gne,{scope:t,checked:w,disabled:o,children:[d.jsx(Re.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":m5(w),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:x,onClick:ye(n.onClick,A=>{S(T=>!T),_&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),_&&d.jsx(p5,{control:g,bubbles:!v.current,name:s,value:l,checked:w,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});d5.displayName=Cy;var f5="SwitchThumb",g5=R.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,i=$ne(f5,t);return d.jsx(Re.span,{"data-state":m5(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});g5.displayName=f5;var qne="SwitchBubbleInput",p5=R.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...i},r)=>{const a=R.useRef(null),o=qe(a,r),l=$A(t),c=eS(e);return R.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==t&&p){const x=new Event("click",{bubbles:s});p.call(h,t),h.dispatchEvent(x)}},[l,t,s]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});p5.displayName=qne;function m5(n){return n?"checked":"unchecked"}var v5=d5,Zne=g5;const H_=R.forwardRef(({className:n,...e},t)=>d.jsx(v5,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:d.jsx(Zne,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));H_.displayName=v5.displayName;const Kne=()=>{const[n,e]=R.useState(!0),[t,s]=R.useState("en"),[i,r]=R.useState(!0),a=[{id:1,type:"critical",title:"Flash Flood Warning",message:"Immediate evacuation required for Riverside District. Water levels rising rapidly.",location:"Riverside District",time:"2 minutes ago",status:"active",recipients:1250},{id:2,type:"warning",title:"Water Level Alert",message:"Water levels approaching warning threshold in Industrial Zone.",location:"Industrial Zone",time:"15 minutes ago",status:"active",recipients:890},{id:3,type:"info",title:"Weather Update",message:"Heavy rainfall expected in the next 6 hours. Stay alert.",location:"City Wide",time:"1 hour ago",status:"sent",recipients:3200},{id:4,type:"success",title:"All Clear",message:"Water levels have receded in Downtown Area. Normal activities can resume.",location:"Downtown Area",time:"3 hours ago",status:"resolved",recipients:1800}],o=[{name:"Emergency Services",number:"911",type:"emergency"},{name:"Flood Control Center",number:"+1-555-FLOOD",type:"flood"},{name:"Red Cross Shelter",number:"+1-555-SHELTER",type:"shelter"},{name:"Municipal Office",number:"+1-555-CITY",type:"municipal"}],l=h=>{switch(h){case"critical":return"danger";case"warning":return"warning";case"success":return"success";default:return"default"}},c=h=>{switch(h){case"critical":return tn;case"warning":return Zl;case"success":return dr;default:return Zl}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Early Warning & Communications"}),d.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Real-time alert system with multi-channel communication and emergency response coordination"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Alert Settings"}),d.jsx(oee,{className:"w-5 h-5 text-slate-600"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"Sound Alerts"}),d.jsx(H_,{checked:n,onCheckedChange:e})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"Auto-Translate"}),d.jsx(H_,{checked:i,onCheckedChange:r})]})]})]}),d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Broadcast Alert"}),d.jsx(qJ,{className:"w-5 h-5 text-slate-600"})]}),d.jsxs(pe,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[d.jsx(tn,{className:"w-4 h-4 mr-2"}),"Send Emergency Alert"]})]}),d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"System Status"}),d.jsx(Un,{className:"w-5 h-5 text-green-600"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"SMS Gateway"}),d.jsx(Ge,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Online"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-slate-700",children:"Push Notifications"}),d.jsx(Ge,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Active"})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Active Alerts"}),d.jsxs(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[d.jsx(Zl,{className:"w-3 h-3 mr-1"}),a.filter(h=>h.status==="active").length," Active"]})]}),d.jsx("div",{className:"space-y-4",children:a.map(h=>{const f=c(h.type);return d.jsx(tt,{variant:l(h.type),className:"p-4",hover:!1,children:d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${h.type==="critical"?"bg-red-100":h.type==="warning"?"bg-yellow-100":h.type==="success"?"bg-green-100":"bg-blue-100"}`,children:d.jsx(f,{className:`w-5 h-5 ${h.type==="critical"?"text-red-600":h.type==="warning"?"text-yellow-600":h.type==="success"?"text-green-600":"text-blue-600"}`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:h.title}),d.jsx(Ge,{variant:h.status==="active"?"default":"secondary",className:h.status==="active"?"bg-red-100 text-red-700":"",children:h.status})]}),d.jsx("p",{className:"text-sm text-slate-700 mb-3",children:h.message}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx(ts,{className:"w-3 h-3 mr-1"}),h.location]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(Ms,{className:"w-3 h-3 mr-1"}),h.recipients," recipients"]})]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(yh,{className:"w-3 h-3 mr-1"}),h.time]})]})]})]})},h.id)})})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(pe,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[d.jsx(ts,{className:"w-4 h-4 mr-2"}),"View Evacuation Routes"]}),d.jsxs(pe,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[d.jsx(Ms,{className:"w-4 h-4 mr-2"}),"Find Nearest Shelter"]}),d.jsxs(pe,{className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[d.jsx(zm,{className:"w-4 h-4 mr-2"}),"Community Chat"]})]})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Emergency Contacts"}),d.jsx("div",{className:"space-y-3",children:o.map((h,f)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg border border-slate-200",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:h.name}),d.jsx("p",{className:"text-xs text-slate-600",children:h.number})]}),d.jsx(pe,{size:"sm",variant:"outline",className:"hover:bg-green-50 hover:border-green-200",children:d.jsx(Pi,{className:"w-4 h-4"})})]},f))})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Language & Translation"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(AA,{className:"w-5 h-5 text-slate-600"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Multi-language Support"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(pe,{size:"sm",variant:t==="en"?"default":"outline",className:t==="en"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("en"),children:"English"}),d.jsx(pe,{size:"sm",variant:t==="es"?"default":"outline",className:t==="es"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("es"),children:"Espaol"}),d.jsx(pe,{size:"sm",variant:t==="hi"?"default":"outline",className:t==="hi"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("hi"),children:""}),d.jsx(pe,{size:"sm",variant:t==="bn"?"default":"outline",className:t==="bn"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("bn"),children:""})]})]})]})]})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Alert Preview"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"SMS Alert Preview"}),d.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs font-medium text-slate-600",children:"FLOOD ALERT"})]}),d.jsx("p",{className:"text-sm text-slate-900 mb-2",children:" URGENT: Flash flood warning for Riverside District. Evacuate immediately to higher ground."}),d.jsx("p",{className:"text-xs text-slate-600",children:"Shelter: Community Center, 123 Main St. Info: jalrakshak.gov"})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"App Notification Preview"}),d.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-red-500",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-teal-500 rounded-lg flex items-center justify-center",children:d.jsx(tn,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"JalRakshak Alert"}),d.jsx("p",{className:"text-xs text-slate-600",children:"Critical Flood Warning"})]})]}),d.jsx("p",{className:"text-sm text-slate-700",children:"Immediate evacuation required for your area. Tap for evacuation routes and shelter information."})]})})]})]})]})]})},x5=R.forwardRef(({className:n,...e},t)=>d.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));x5.displayName="Textarea";var Ty="Dialog",[y5,cre]=Os(Ty),[Qne,pr]=y5(Ty),b5=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:i,onOpenChange:r,modal:a=!0}=n,o=R.useRef(null),l=R.useRef(null),[c,h]=Wo({prop:s,defaultProp:i??!1,onChange:r,caller:Ty});return d.jsx(Qne,{scope:e,triggerRef:o,contentRef:l,contentId:Lr(),titleId:Lr(),descriptionId:Lr(),open:c,onOpenChange:h,onOpenToggle:R.useCallback(()=>h(f=>!f),[h]),modal:a,children:t})};b5.displayName=Ty;var w5="DialogTrigger",_5=R.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=pr(w5,t),r=qe(e,i.triggerRef);return d.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eC(i.open),...s,ref:r,onClick:ye(n.onClick,i.onOpenToggle)})});_5.displayName=w5;var QA="DialogPortal",[Jne,S5]=y5(QA,{forceMount:void 0}),A5=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:i}=n,r=pr(QA,e);return d.jsx(Jne,{scope:e,forceMount:t,children:R.Children.map(s,a=>d.jsx(Ds,{present:t||r.open,children:d.jsx(jx,{asChild:!0,container:i,children:a})}))})};A5.displayName=QA;var cx="DialogOverlay",C5=R.forwardRef((n,e)=>{const t=S5(cx,n.__scopeDialog),{forceMount:s=t.forceMount,...i}=n,r=pr(cx,n.__scopeDialog);return r.modal?d.jsx(Ds,{present:s||r.open,children:d.jsx(tse,{...i,ref:e})}):null});C5.displayName=cx;var ese=sc("DialogOverlay.RemoveScroll"),tse=R.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=pr(cx,t);return d.jsx(hy,{as:ese,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Re.div,{"data-state":eC(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),fc="DialogContent",T5=R.forwardRef((n,e)=>{const t=S5(fc,n.__scopeDialog),{forceMount:s=t.forceMount,...i}=n,r=pr(fc,n.__scopeDialog);return d.jsx(Ds,{present:s||r.open,children:r.modal?d.jsx(nse,{...i,ref:e}):d.jsx(sse,{...i,ref:e})})});T5.displayName=fc;var nse=R.forwardRef((n,e)=>{const t=pr(fc,n.__scopeDialog),s=R.useRef(null),i=qe(e,t.contentRef,s);return R.useEffect(()=>{const r=s.current;if(r)return gA(r)},[]),d.jsx(E5,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(n.onCloseAutoFocus,r=>{r.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:ye(n.onPointerDownOutside,r=>{const a=r.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&r.preventDefault()}),onFocusOutside:ye(n.onFocusOutside,r=>r.preventDefault())})}),sse=R.forwardRef((n,e)=>{const t=pr(fc,n.__scopeDialog),s=R.useRef(!1),i=R.useRef(!1);return d.jsx(E5,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{n.onCloseAutoFocus?.(r),r.defaultPrevented||(s.current||t.triggerRef.current?.focus(),r.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:r=>{n.onInteractOutside?.(r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=r.target;t.triggerRef.current?.contains(a)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&i.current&&r.preventDefault()}})}),E5=R.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:r,...a}=n,o=pr(fc,t),l=R.useRef(null),c=qe(e,l);return fA(),d.jsxs(d.Fragment,{children:[d.jsx(ly,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:r,children:d.jsx(Ig,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":eC(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(ise,{titleId:o.titleId}),d.jsx(ase,{contentRef:l,descriptionId:o.descriptionId})]})]})}),JA="DialogTitle",k5=R.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=pr(JA,t);return d.jsx(Re.h2,{id:i.titleId,...s,ref:e})});k5.displayName=JA;var N5="DialogDescription",R5=R.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=pr(N5,t);return d.jsx(Re.p,{id:i.descriptionId,...s,ref:e})});R5.displayName=N5;var P5="DialogClose",I5=R.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=pr(P5,t);return d.jsx(Re.button,{type:"button",...s,ref:e,onClick:ye(n.onClick,()=>i.onOpenChange(!1))})});I5.displayName=P5;function eC(n){return n?"open":"closed"}var M5="DialogTitleWarning",[ure,j5]=CB(M5,{contentName:fc,titleName:JA,docsSlug:"dialog"}),ise=({titleId:n})=>{const e=j5(M5),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return R.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},rse="DialogDescriptionWarning",ase=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j5(rse).contentName}}.`;return R.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},ose=b5,lse=_5,cse=A5,L5=C5,O5=T5,D5=k5,z5=R5,use=I5;const aN=ose,hse=lse,dse=cse,F5=R.forwardRef(({className:n,...e},t)=>d.jsx(L5,{ref:t,className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));F5.displayName=L5.displayName;const U_=R.forwardRef(({className:n,children:e,...t},s)=>d.jsxs(dse,{children:[d.jsx(F5,{}),d.jsxs(O5,{ref:s,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,d.jsxs(use,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(my,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));U_.displayName=O5.displayName;const W_=({className:n,...e})=>d.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});W_.displayName="DialogHeader";const Y_=R.forwardRef(({className:n,...e},t)=>d.jsx(D5,{ref:t,className:Me("text-lg font-semibold leading-none tracking-tight",n),...e}));Y_.displayName=D5.displayName;const X_=R.forwardRef(({className:n,...e},t)=>d.jsx(z5,{ref:t,className:Me("text-sm text-muted-foreground",n),...e}));X_.displayName=z5.displayName;var fse=[" ","Enter","ArrowUp","ArrowDown"],gse=[" ","Enter"],gc="Select",[Ey,ky,pse]=oy(gc),[Qh,hre]=Os(gc,[pse,jh]),Ny=jh(),[mse,rl]=Qh(gc),[vse,xse]=Qh(gc),B5=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:i,onOpenChange:r,value:a,defaultValue:o,onValueChange:l,dir:c,name:h,autoComplete:f,disabled:g,required:p,form:x}=n,v=Ny(e),[_,w]=R.useState(null),[S,A]=R.useState(null),[T,N]=R.useState(!1),O=Yh(c),[C,k]=Wo({prop:s,defaultProp:i??!1,onChange:r,caller:gc}),[M,I]=Wo({prop:a,defaultProp:o,onChange:l,caller:gc}),D=R.useRef(null),F=_?x||!!_.closest("form"):!0,[V,G]=R.useState(new Set),J=Array.from(V).map(Y=>Y.props.value).join(";");return d.jsx(CI,{...v,children:d.jsxs(mse,{required:p,scope:e,trigger:_,onTriggerChange:w,valueNode:S,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:N,contentId:Lr(),value:M,onValueChange:I,open:C,onOpenChange:k,dir:O,triggerPointerDownPosRef:D,disabled:g,children:[d.jsx(Ey.Provider,{scope:e,children:d.jsx(vse,{scope:n.__scopeSelect,onNativeOptionAdd:R.useCallback(Y=>{G(Z=>new Set(Z).add(Y))},[]),onNativeOptionRemove:R.useCallback(Y=>{G(Z=>{const U=new Set(Z);return U.delete(Y),U})},[]),children:t})}),F?d.jsxs(u3,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:M,onChange:Y=>I(Y.target.value),disabled:g,form:x,children:[M===void 0?d.jsx("option",{value:""}):null,Array.from(V)]},J):null]})})};B5.displayName=gc;var V5="SelectTrigger",H5=R.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...i}=n,r=Ny(t),a=rl(V5,t),o=a.disabled||s,l=qe(e,a.onTriggerChange),c=ky(t),h=R.useRef("touch"),[f,g,p]=d3(v=>{const _=c().filter(A=>!A.disabled),w=_.find(A=>A.value===a.value),S=f3(_,v,w);S!==void 0&&a.onValueChange(S.value)}),x=v=>{o||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(sS,{asChild:!0,...r,children:d.jsx(Re.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":h3(a.value)?"":void 0,...i,ref:l,onClick:ye(i.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&x(v)}),onPointerDown:ye(i.onPointerDown,v=>{h.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:ye(i.onKeyDown,v=>{const _=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(_&&v.key===" ")&&fse.includes(v.key)&&(x(),v.preventDefault())})})})});H5.displayName=V5;var U5="SelectValue",W5=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:i,children:r,placeholder:a="",...o}=n,l=rl(U5,t),{onValueNodeHasChildrenChange:c}=l,h=r!==void 0,f=qe(e,l.onValueNodeChange);return xn(()=>{c(h)},[c,h]),d.jsx(Re.span,{...o,ref:f,style:{pointerEvents:"none"},children:h3(l.value)?d.jsx(d.Fragment,{children:a}):r})});W5.displayName=U5;var yse="SelectIcon",Y5=R.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...i}=n;return d.jsx(Re.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});Y5.displayName=yse;var bse="SelectPortal",X5=n=>d.jsx(jx,{asChild:!0,...n});X5.displayName=bse;var pc="SelectContent",G5=R.forwardRef((n,e)=>{const t=rl(pc,n.__scopeSelect),[s,i]=R.useState();if(xn(()=>{i(new DocumentFragment)},[]),!t.open){const r=s;return r?Ch.createPortal(d.jsx($5,{scope:n.__scopeSelect,children:d.jsx(Ey.Slot,{scope:n.__scopeSelect,children:d.jsx("div",{children:n.children})})}),r):null}return d.jsx(q5,{...n,ref:e})});G5.displayName=pc;var Ji=10,[$5,al]=Qh(pc),wse="SelectContentImpl",_se=sc("SelectContent.RemoveScroll"),q5=R.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:r,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:_,...w}=n,S=rl(pc,t),[A,T]=R.useState(null),[N,O]=R.useState(null),C=qe(e,re=>T(re)),[k,M]=R.useState(null),[I,D]=R.useState(null),F=ky(t),[V,G]=R.useState(!1),J=R.useRef(!1);R.useEffect(()=>{if(A)return gA(A)},[A]),fA();const Y=R.useCallback(re=>{const[be,...ze]=F().map(Je=>Je.ref.current),[Ne]=ze.slice(-1),je=document.activeElement;for(const Je of re)if(Je===je||(Je?.scrollIntoView({block:"nearest"}),Je===be&&N&&(N.scrollTop=0),Je===Ne&&N&&(N.scrollTop=N.scrollHeight),Je?.focus(),document.activeElement!==je))return},[F,N]),Z=R.useCallback(()=>Y([k,A]),[Y,k,A]);R.useEffect(()=>{V&&Z()},[V,Z]);const{onOpenChange:U,triggerPointerDownPosRef:X}=S;R.useEffect(()=>{if(A){let re={x:0,y:0};const be=Ne=>{re={x:Math.abs(Math.round(Ne.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(Ne.pageY)-(X.current?.y??0))}},ze=Ne=>{re.x<=10&&re.y<=10?Ne.preventDefault():A.contains(Ne.target)||U(!1),document.removeEventListener("pointermove",be),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ze,{capture:!0})}}},[A,U,X]),R.useEffect(()=>{const re=()=>U(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[U]);const[Q,se]=d3(re=>{const be=F().filter(je=>!je.disabled),ze=be.find(je=>je.ref.current===document.activeElement),Ne=f3(be,re,ze);Ne&&setTimeout(()=>Ne.ref.current.focus())}),q=R.useCallback((re,be,ze)=>{const Ne=!J.current&&!ze;(S.value!==void 0&&S.value===be||Ne)&&(M(re),Ne&&(J.current=!0))},[S.value]),he=R.useCallback(()=>A?.focus(),[A]),ae=R.useCallback((re,be,ze)=>{const Ne=!J.current&&!ze;(S.value!==void 0&&S.value===be||Ne)&&D(re)},[S.value]),fe=s==="popper"?G_:Z5,oe=fe===G_?{side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:_}:{};return d.jsx($5,{scope:t,content:A,viewport:N,onViewportChange:O,itemRefCallback:q,selectedItem:k,onItemLeave:he,itemTextRefCallback:ae,focusSelectedItem:Z,selectedItemText:I,position:s,isPositioned:V,searchRef:Q,children:d.jsx(hy,{as:_se,allowPinchZoom:!0,children:d.jsx(ly,{asChild:!0,trapped:S.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ye(i,re=>{S.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:d.jsx(Ig,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:d.jsx(fe,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:re=>re.preventDefault(),...w,...oe,onPlaced:()=>G(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ye(w.onKeyDown,re=>{const be=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!be&&re.key.length===1&&se(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ne=F().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const je=re.target,Je=Ne.indexOf(je);Ne=Ne.slice(Je+1)}setTimeout(()=>Y(Ne)),re.preventDefault()}})})})})})})});q5.displayName=wse;var Sse="SelectItemAlignedPosition",Z5=R.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...i}=n,r=rl(pc,t),a=al(pc,t),[o,l]=R.useState(null),[c,h]=R.useState(null),f=qe(e,C=>h(C)),g=ky(t),p=R.useRef(!1),x=R.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:w,focusSelectedItem:S}=a,A=R.useCallback(()=>{if(r.trigger&&r.valueNode&&o&&c&&v&&_&&w){const C=r.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),M=r.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(r.dir!=="rtl"){const je=I.left-k.left,Je=M.left-je,et=C.left-Je,Wt=C.width+et,oi=Math.max(Wt,k.width),zs=window.innerWidth-Ji,Fs=lg(Je,[Ji,Math.max(Ji,zs-oi)]);o.style.minWidth=Wt+"px",o.style.left=Fs+"px"}else{const je=k.right-I.right,Je=window.innerWidth-M.right-je,et=window.innerWidth-C.right-Je,Wt=C.width+et,oi=Math.max(Wt,k.width),zs=window.innerWidth-Ji,Fs=lg(Je,[Ji,Math.max(Ji,zs-oi)]);o.style.minWidth=Wt+"px",o.style.right=Fs+"px"}const D=g(),F=window.innerHeight-Ji*2,V=v.scrollHeight,G=window.getComputedStyle(c),J=parseInt(G.borderTopWidth,10),Y=parseInt(G.paddingTop,10),Z=parseInt(G.borderBottomWidth,10),U=parseInt(G.paddingBottom,10),X=J+Y+V+U+Z,Q=Math.min(_.offsetHeight*5,X),se=window.getComputedStyle(v),q=parseInt(se.paddingTop,10),he=parseInt(se.paddingBottom,10),ae=C.top+C.height/2-Ji,fe=F-ae,oe=_.offsetHeight/2,re=_.offsetTop+oe,be=J+Y+re,ze=X-be;if(be<=ae){const je=D.length>0&&_===D[D.length-1].ref.current;o.style.bottom="0px";const Je=c.clientHeight-v.offsetTop-v.offsetHeight,et=Math.max(fe,oe+(je?he:0)+Je+Z),Wt=be+et;o.style.height=Wt+"px"}else{const je=D.length>0&&_===D[0].ref.current;o.style.top="0px";const et=Math.max(ae,J+v.offsetTop+(je?q:0)+oe)+ze;o.style.height=et+"px",v.scrollTop=be-ae+v.offsetTop}o.style.margin=`${Ji}px 0`,o.style.minHeight=Q+"px",o.style.maxHeight=F+"px",s?.(),requestAnimationFrame(()=>p.current=!0)}},[g,r.trigger,r.valueNode,o,c,v,_,w,r.dir,s]);xn(()=>A(),[A]);const[T,N]=R.useState();xn(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const O=R.useCallback(C=>{C&&x.current===!0&&(A(),S?.(),x.current=!1)},[A,S]);return d.jsx(Cse,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:d.jsx(Re.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Z5.displayName=Sse;var Ase="SelectPopperPosition",G_=R.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:i=Ji,...r}=n,a=Ny(t);return d.jsx(iS,{...a,...r,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});G_.displayName=Ase;var[Cse,tC]=Qh(pc,{}),$_="SelectViewport",K5=R.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...i}=n,r=al($_,t),a=tC($_,t),o=qe(e,r.onViewportChange),l=R.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(Ey.Slot,{scope:t,children:d.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,c=>{const h=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=a;if(g?.current&&f){const p=Math.abs(l.current-h.scrollTop);if(p>0){const x=window.innerHeight-Ji*2,v=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),w=Math.max(v,_);if(w<x){const S=w+p,A=Math.min(x,S),T=S-A;f.style.height=A+"px",f.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});K5.displayName=$_;var Q5="SelectGroup",[Tse,Ese]=Qh(Q5),kse=R.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,i=Lr();return d.jsx(Tse,{scope:t,id:i,children:d.jsx(Re.div,{role:"group","aria-labelledby":i,...s,ref:e})})});kse.displayName=Q5;var J5="SelectLabel",e3=R.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,i=Ese(J5,t);return d.jsx(Re.div,{id:i.id,...s,ref:e})});e3.displayName=J5;var ux="SelectItem",[Nse,t3]=Qh(ux),n3=R.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:i=!1,textValue:r,...a}=n,o=rl(ux,t),l=al(ux,t),c=o.value===s,[h,f]=R.useState(r??""),[g,p]=R.useState(!1),x=qe(e,S=>l.itemRefCallback?.(S,s,i)),v=Lr(),_=R.useRef("touch"),w=()=>{i||(o.onValueChange(s),o.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Nse,{scope:t,value:s,disabled:i,textId:v,isSelected:c,onItemTextChange:R.useCallback(S=>{f(A=>A||(S?.textContent??"").trim())},[]),children:d.jsx(Ey.ItemSlot,{scope:t,value:s,disabled:i,textValue:h,children:d.jsx(Re.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:ye(a.onFocus,()=>p(!0)),onBlur:ye(a.onBlur,()=>p(!1)),onClick:ye(a.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:ye(a.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:ye(a.onPointerDown,S=>{_.current=S.pointerType}),onPointerMove:ye(a.onPointerMove,S=>{_.current=S.pointerType,i?l.onItemLeave?.():_.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(a.onPointerLeave,S=>{S.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ye(a.onKeyDown,S=>{l.searchRef?.current!==""&&S.key===" "||(gse.includes(S.key)&&w(),S.key===" "&&S.preventDefault())})})})})});n3.displayName=ux;var $d="SelectItemText",s3=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:i,...r}=n,a=rl($d,t),o=al($d,t),l=t3($d,t),c=xse($d,t),[h,f]=R.useState(null),g=qe(e,w=>f(w),l.onItemTextChange,w=>o.itemTextRefCallback?.(w,l.value,l.disabled)),p=h?.textContent,x=R.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return xn(()=>(v(x),()=>_(x)),[v,_,x]),d.jsxs(d.Fragment,{children:[d.jsx(Re.span,{id:l.textId,...r,ref:g}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ch.createPortal(r.children,a.valueNode):null]})});s3.displayName=$d;var i3="SelectItemIndicator",r3=R.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return t3(i3,t).isSelected?d.jsx(Re.span,{"aria-hidden":!0,...s,ref:e}):null});r3.displayName=i3;var q_="SelectScrollUpButton",a3=R.forwardRef((n,e)=>{const t=al(q_,n.__scopeSelect),s=tC(q_,n.__scopeSelect),[i,r]=R.useState(!1),a=qe(e,s.onScrollButtonChange);return xn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollTop>0;r(c)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?d.jsx(l3,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});a3.displayName=q_;var Z_="SelectScrollDownButton",o3=R.forwardRef((n,e)=>{const t=al(Z_,n.__scopeSelect),s=tC(Z_,n.__scopeSelect),[i,r]=R.useState(!1),a=qe(e,s.onScrollButtonChange);return xn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;r(h)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?d.jsx(l3,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});o3.displayName=Z_;var l3=R.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...i}=n,r=al("SelectScrollButton",t),a=R.useRef(null),o=ky(t),l=R.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return R.useEffect(()=>()=>l(),[l]),xn(()=>{o().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),d.jsx(Re.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:ye(i.onPointerMove,()=>{r.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{l()})})}),Rse="SelectSeparator",c3=R.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return d.jsx(Re.div,{"aria-hidden":!0,...s,ref:e})});c3.displayName=Rse;var K_="SelectArrow",Pse=R.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,i=Ny(t),r=rl(K_,t),a=al(K_,t);return r.open&&a.position==="popper"?d.jsx(rS,{...i,...s,ref:e}):null});Pse.displayName=K_;var Ise="SelectBubbleInput",u3=R.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const i=R.useRef(null),r=qe(s,i),a=$A(e);return R.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(o,e),o.dispatchEvent(f)}},[a,e]),d.jsx(Re.select,{...t,style:{...TI,...t.style},ref:r,defaultValue:e})});u3.displayName=Ise;function h3(n){return n===""||n===void 0}function d3(n){const e=Mn(n),t=R.useRef(""),s=R.useRef(0),i=R.useCallback(a=>{const o=t.current+a;e(o),function l(c){t.current=c,window.clearTimeout(s.current),c!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),r=R.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,i,r]}function f3(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,r=t?n.indexOf(t):-1;let a=Mse(n,Math.max(r,0));i.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function Mse(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var jse=B5,g3=H5,Lse=W5,Ose=Y5,Dse=X5,p3=G5,zse=K5,m3=e3,v3=n3,Fse=s3,Bse=r3,x3=a3,y3=o3,b3=c3;const Vse=jse,Hse=Lse,w3=R.forwardRef(({className:n,children:e,...t},s)=>d.jsxs(g3,{ref:s,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,d.jsx(Ose,{asChild:!0,children:d.jsx(Qv,{className:"h-4 w-4 opacity-50"})})]}));w3.displayName=g3.displayName;const _3=R.forwardRef(({className:n,...e},t)=>d.jsx(x3,{ref:t,className:Me("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(BJ,{className:"h-4 w-4"})}));_3.displayName=x3.displayName;const S3=R.forwardRef(({className:n,...e},t)=>d.jsx(y3,{ref:t,className:Me("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(Qv,{className:"h-4 w-4"})}));S3.displayName=y3.displayName;const A3=R.forwardRef(({className:n,children:e,position:t="popper",...s},i)=>d.jsx(Dse,{children:d.jsxs(p3,{ref:i,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[d.jsx(_3,{}),d.jsx(zse,{className:Me("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(S3,{})]})}));A3.displayName=p3.displayName;const Use=R.forwardRef(({className:n,...e},t)=>d.jsx(m3,{ref:t,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));Use.displayName=m3.displayName;const qd=R.forwardRef(({className:n,children:e,...t},s)=>d.jsxs(v3,{ref:s,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Bse,{children:d.jsx(dD,{className:"h-4 w-4"})})}),d.jsx(Fse,{children:e})]}));qd.displayName=v3.displayName;const Wse=R.forwardRef(({className:n,...e},t)=>d.jsx(b3,{ref:t,className:Me("-mx-1 my-1 h-px bg-muted",n),...e}));Wse.displayName=b3.displayName;const Yse=()=>{const{currentUser:n,userProfile:e}=Hh(),[t,s]=R.useState([]),[i,r]=R.useState(null),[a,o]=R.useState(!1),[l,c]=R.useState(!1),[h,f]=R.useState(!1),[g,p]=R.useState(!1),[x,v]=R.useState(null),[_,w]=R.useState({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:null}),[S,A]=R.useState([]),[T,N]=R.useState([]);R.useEffect(()=>{O()},[]),R.useEffect(()=>{i&&C()},[i]);const O=async()=>{try{const U=await z_();r(U),w(X=>({...X,selectedLocation:U})),Ee.success(`Location detected: ${U.district}, ${U.state}`)}catch(U){console.error("Error getting location:",U);const X={coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"};r(X),w(Q=>({...Q,selectedLocation:X}))}},C=async()=>{if(i){o(!0);try{const U=await HL(i.coords.lat,i.coords.lng,100);s(U)}catch(U){console.error("Error loading reports:",U),Ee.error("Failed to load nearby reports")}finally{o(!1)}}},k=U=>{const X=Array.from(U.target.files||[]);if(X.length!==0){if(S.length+X.length>5){Ee.error("Maximum 5 images allowed");return}A(Q=>[...Q,...X]),X.forEach(Q=>{const se=URL.createObjectURL(Q);N(q=>[...q,se])})}},M=U=>{A(X=>X.filter((Q,se)=>se!==U)),N(X=>{const Q=X[U];return URL.revokeObjectURL(Q),X.filter((se,q)=>q!==U)})},I=async U=>{if(!(U.length<3))try{const X=await mne(U);X.length>0&&w(Q=>({...Q,selectedLocation:X[0]}))}catch(X){console.error("Location search error:",X)}},D=async()=>{try{const U=await z_();w(X=>({...X,selectedLocation:U,locationSearch:U.address})),Ee.success("Current location selected")}catch{Ee.error("Failed to get current location")}},F=async()=>{if(!n||!e){Ee.error("Please sign in to submit reports");return}if(!_.title.trim()||!_.description.trim()){Ee.error("Please fill in all required fields");return}if(!_.selectedLocation){Ee.error("Please select a location");return}c(!0);try{const U=[];for(const se of S){const q=await eK(se,"images");q&&U.push(q)}const X={user_id:n.uid,user_name:e.displayName,user_email:e.email,title:_.title,description:_.description,severity:_.severity,location:{lat:_.selectedLocation.coords.lat,lng:_.selectedLocation.coords.lng,address:_.selectedLocation.address,state:_.selectedLocation.state,district:_.selectedLocation.district},images:U,status:"pending"},Q=await tK(X);Q?(Ee.success("Report submitted successfully!"),s(se=>[Q,...se]),w({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:i}),A([]),N([]),f(!1)):Ee.error("Failed to submit report")}catch(U){console.error("Submit error:",U),Ee.error("Failed to submit report")}finally{c(!1)}},V=U=>{switch(U){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-blue-600 bg-blue-100"}},G=U=>{switch(U){case"verified":return"text-green-600 bg-green-100";case"resolved":return"text-blue-600 bg-blue-100";case"false_alarm":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},J=U=>{const X=new Date(U),se=Math.floor((new Date().getTime()-X.getTime())/(1e3*60));return se<1?"Just now":se<60?`${se} minutes ago`:se<1440?`${Math.floor(se/60)} hours ago`:`${Math.floor(se/1440)} days ago`},Y=U=>{v(U),p(!0)},Z=(U,X)=>{const Q=`https://www.google.com/maps?q=${U},${X}`;window.open(Q,"_blank")};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Community Flood Reports"}),d.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Real-time flood monitoring powered by community reports and location-based intelligence"}),i&&d.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[d.jsx(ts,{className:"w-4 h-4"}),d.jsxs("span",{children:["Your location: ",i.district,", ",i.state]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(zm,{className:"w-6 h-6 text-blue-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Total Reports"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:t.length})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(tn,{className:"w-6 h-6 text-red-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Critical"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:t.filter(U=>U.severity==="critical").length})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(dr,{className:"w-6 h-6 text-green-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Verified"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:t.filter(U=>U.status==="verified").length})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:d.jsx(Ms,{className:"w-6 h-6 text-purple-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Contributors"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:new Set(t.map(U=>U.user_id)).size})]})]}),d.jsx("div",{className:"text-center",children:d.jsxs(aN,{open:h,onOpenChange:f,children:[d.jsx(hse,{asChild:!0,children:d.jsxs(pe,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4",children:[d.jsx(JJ,{className:"w-5 h-5 mr-2"}),"Submit Flood Report"]})}),d.jsxs(U_,{className:"max-w-2xl",children:[d.jsxs(W_,{children:[d.jsx(Y_,{children:"Submit Flood Report"}),d.jsx(X_,{children:"Help your community by reporting flood conditions in your area"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"title",children:"Report Title *"}),d.jsx(Pn,{id:"title",placeholder:"Brief description of the situation",value:_.title,onChange:U=>w(X=>({...X,title:U.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{htmlFor:"description",children:"Detailed Description *"}),d.jsx(x5,{id:"description",placeholder:"Provide detailed information about the flood situation, water levels, affected areas, etc.",rows:4,value:_.description,onChange:U=>w(X=>({...X,description:U.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{children:"Severity Level"}),d.jsxs(Vse,{value:_.severity,onValueChange:U=>w(X=>({...X,severity:U})),children:[d.jsx(w3,{children:d.jsx(Hse,{})}),d.jsxs(A3,{children:[d.jsx(qd,{value:"low",children:"Low - Minor water accumulation"}),d.jsx(qd,{value:"medium",children:"Medium - Noticeable flooding"}),d.jsx(qd,{value:"high",children:"High - Significant flooding"}),d.jsx(qd,{value:"critical",children:"Critical - Dangerous conditions"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{children:"Location"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Pn,{placeholder:"Search for location or use current location",value:_.locationSearch,onChange:U=>{w(X=>({...X,locationSearch:U.target.value})),I(U.target.value)},className:"flex-1"}),d.jsxs(pe,{type:"button",variant:"outline",onClick:D,className:"flex items-center space-x-1",children:[d.jsx(ag,{className:"w-4 h-4"}),d.jsx("span",{children:"Use Current"})]})]}),_.selectedLocation&&d.jsxs("div",{className:"text-sm text-slate-600 flex items-center space-x-1",children:[d.jsx(ts,{className:"w-4 h-4"}),d.jsx("span",{children:_.selectedLocation.address})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx($t,{children:"Images (Optional)"}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[d.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden",id:"image-upload"}),d.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[d.jsx(aee,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),d.jsx("p",{className:"text-gray-600",children:"Click to upload images or drag and drop"}),d.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB each (max 5 images)"})]})]}),T.length>0&&d.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:T.map((U,X)=>d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:U,alt:`Preview ${X+1}`,className:"w-full h-24 object-cover rounded-lg"}),d.jsx(pe,{type:"button",variant:"destructive",size:"sm",onClick:()=>M(X),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",children:d.jsx(my,{className:"w-3 h-3"})})]},X))})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(pe,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),d.jsx(pe,{onClick:F,disabled:l,className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:l?d.jsxs(d.Fragment,{children:[d.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(tee,{className:"w-4 h-4 mr-2"}),"Submit Report"]})})]})]})]})]})}),d.jsx(aN,{open:g,onOpenChange:p,children:d.jsx(U_,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:x&&d.jsxs(d.Fragment,{children:[d.jsxs(W_,{children:[d.jsxs(Y_,{className:"flex items-center space-x-2",children:[d.jsx("span",{children:x.title}),d.jsx(Ge,{className:V(x.severity),children:x.severity.toUpperCase()}),d.jsx(Ge,{className:G(x.status),children:x.status.replace("_"," ").toUpperCase()})]}),d.jsxs(X_,{children:["Report submitted by ",x.user_name,"  ",J(x.created_at||new Date().toISOString())]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[d.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[d.jsx(ts,{className:"w-4 h-4 mr-2"}),"Location Details"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-700 font-medium",children:"Address:"}),d.jsx("p",{className:"text-blue-800",children:x.location.address})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-700 font-medium",children:"District, State:"}),d.jsxs("p",{className:"text-blue-800",children:[x.location.district,", ",x.location.state]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-700 font-medium",children:"Coordinates:"}),d.jsxs("p",{className:"text-blue-800",children:[x.location.lat.toFixed(6),", ",x.location.lng.toFixed(6)]})]}),d.jsx("div",{children:d.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>Z(x.location.lat,x.location.lng),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[d.jsx(ag,{className:"w-4 h-4 mr-1"}),"Open in Maps"]})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Report Description"}),d.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:d.jsx("p",{className:"text-slate-700 leading-relaxed",children:x.description})})]}),x.images&&x.images.length>0&&d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center",children:[d.jsx($J,{className:"w-4 h-4 mr-2"}),"Images (",x.images.length,")"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.images.map((U,X)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:U,alt:`Report image ${X+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer transition-transform group-hover:scale-105",onClick:()=>window.open(U,"_blank")}),d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity rounded-lg flex items-center justify-center",children:d.jsx(fr,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},X))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Severity Level"}),d.jsx(Ge,{className:V(x.severity),children:x.severity.toUpperCase()}),d.jsx("p",{className:"text-xs text-slate-600 mt-1",children:x.severity==="critical"?"Immediate action required":x.severity==="high"?"High priority response needed":x.severity==="medium"?"Moderate attention required":"Low priority monitoring"})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Report Status"}),d.jsx(Ge,{className:G(x.status),children:x.status.replace("_"," ").toUpperCase()}),d.jsx("p",{className:"text-xs text-slate-600 mt-1",children:x.status==="verified"?"Verified by authorities":x.status==="resolved"?"Situation resolved":x.status==="false_alarm"?"Marked as false alarm":"Awaiting verification"})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Reporter"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:x.user_name.split(" ").map(U=>U[0]).join("").slice(0,2)}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-900",children:x.user_name}),d.jsx("p",{className:"text-xs text-slate-600",children:x.user_email})]})]})]})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>navigator.share&&navigator.share({title:x.title,text:x.description,url:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),Ee.success("Link copied to clipboard")}),children:[d.jsx(I2,{className:"w-4 h-4 mr-1"}),"Share Report"]}),d.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>Z(x.location.lat,x.location.lng),children:[d.jsx(ts,{className:"w-4 h-4 mr-1"}),"View Location"]})]}),d.jsx(pe,{onClick:()=>p(!1),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:"Close"})]})]})]})})}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Recent Reports"}),a?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(ni,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),d.jsx("p",{className:"text-slate-600 mt-2",children:"Loading reports..."})]}):t.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(zm,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),d.jsx("p",{className:"text-slate-600",children:"No reports in your area yet. Be the first to report!"})]}):d.jsx("div",{className:"space-y-4",children:t.map(U=>d.jsxs(Li,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[d.jsx(Oi,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(Di,{className:"text-lg text-slate-900 mb-2",children:U.title}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Ms,{className:"w-4 h-4"}),d.jsx("span",{children:U.user_name})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ts,{className:"w-4 h-4"}),d.jsxs("span",{children:[U.location.district,", ",U.location.state]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(yh,{className:"w-4 h-4"}),d.jsx("span",{children:J(U.created_at||new Date().toISOString())})]})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ge,{className:V(U.severity),children:U.severity.toUpperCase()}),d.jsx(Ge,{className:G(U.status),children:U.status.replace("_"," ").toUpperCase()})]})]})}),d.jsxs(zi,{children:[d.jsx("p",{className:"text-slate-700 mb-4",children:U.description}),U.images&&U.images.length>0&&d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:U.images.map((X,Q)=>d.jsx("img",{src:X,alt:`Report image ${Q+1}`,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(X,"_blank")},Q))}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs(pe,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[d.jsx(m_,{className:"w-4 h-4 mr-1"}),"Helpful"]}),d.jsxs(pe,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[d.jsx(zm,{className:"w-4 h-4 mr-1"}),"Comment"]}),d.jsxs(pe,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[d.jsx(I2,{className:"w-4 h-4 mr-1"}),"Share"]})]}),d.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>Y(U),children:[d.jsx(fr,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]},U.id))})]})]})},Xse=()=>{const[n,e]=R.useState([]),[t,s]=R.useState([]),[i,r]=R.useState("idle"),[a,o]=R.useState(null),[l,c]=R.useState(0),[h,f]=R.useState(null),[g,p]=R.useState("en"),[x,v]=R.useState(null),[_,w]=R.useState("punjab"),S=R.useRef(null);R.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(F=>{v({lat:F.coords.latitude,lon:F.coords.longitude})},()=>{v({lat:30.7333,lon:76.7794})})},[]);const A=[{value:"punjab",label:"Punjab",hindi:""},{value:"haryana",label:"Haryana",hindi:""},{value:"himachal_pradesh",label:"Himachal Pradesh",hindi:" "},{value:"uttar_pradesh",label:"Uttar Pradesh",hindi:" "},{value:"rajasthan",label:"Rajasthan",hindi:""}],T=F=>{const V=Array.from(F.target.files||[]);if(V.length){const G=[...n,...V];e(G);const J=V.map(Y=>URL.createObjectURL(Y));s([...t,...J]),r("idle"),f(null),c(0)}},N=()=>{S.current?.click()},O=async()=>{if(n.length!==0){r("analyzing"),o(null),c(0);try{c(20);const F=URL.createObjectURL(n[0]);c(50),await new Promise(G=>setTimeout(G,1e3)),c(70);const V="https://xview2-damage-detection-xxxxx-uc.a.run.app";try{const G=await fetch(`${V}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_url:F,state:_,latitude:x?.lat,longitude:x?.lon,user_id:"current_user"})});if(!G.ok)throw new Error("xView2 API not available, using mock data");const J=await G.json();c(90),await new Promise(Y=>setTimeout(Y,1e3)),f(J),r("complete"),c(100)}catch(G){console.warn("xView2 API not available, using mock data:",G),c(90);const J=C(_);c(95),await new Promise(Y=>setTimeout(Y,1e3)),f(J),r("complete"),c(100)}}catch(F){console.error("Analysis failed:",F),o(F instanceof Error?F.message:"Analysis failed"),r("error")}}},C=F=>{const V=["No Damage","Minor Damage","Major Damage","Destroyed"],G=["  "," "," ","  "],J=Math.floor(Math.random()*V.length),Y=V[J],Z=G[J],U=.7+Math.random()*.3,X={"No Damage":{min:0,max:0,display:"0"},"Minor Damage":{min:2e4,max:5e4,display:"20K - 50K"},"Major Damage":{min:1e5,max:3e5,display:"1L - 3L"},Destroyed:{min:5e5,max:2e6,display:"5L+"}},Q={"No Damage":"N/A","Minor Damage":"Category C","Major Damage":"Category B",Destroyed:"Category A"},se={punjab:{"Category A":"4L","Category B":"2L","Category C":"50K"},haryana:{"Category A":"3.5L","Category B":"1.8L","Category C":"45K"},himachal_pradesh:{"Category A":"4.5L","Category B":"2.2L","Category C":"55K"},default:{"Category A":"4L","Category B":"2L","Category C":"50K"}},q={"No Damage":"#10B981","Minor Damage":"#F59E0B","Major Damage":"#EF4444",Destroyed:"#7C2D12"},he={"No Damage":"Structure is intact with no visible damage","Minor Damage":"Minor structural damage, repairable","Major Damage":"Significant structural damage, requires major repairs",Destroyed:"Structure is completely destroyed or severely damaged"},ae={"No Damage":"  ,      ","Minor Damage":"  ,  ","Major Damage":"  ,    ",Destroyed:"        "},fe=X[Y],oe=Q[Y],re=se[F]?.[oe]||se.default[oe];return{damage_level:Y,hindi_damage_level:Z,confidence:Math.round(U*100)/100,estimated_cost_display:fe.display,ndma_category:oe,relief_amount_display:re,color:q[Y],description:he[Y],hindi_description:ae[Y],recommendations:{immediate_actions:[Y==="No Damage"?"Document current condition with photos":"Contact emergency services immediately","Keep emergency contacts ready",Y!=="No Damage"?"Document all damage with detailed photos":"Monitor for any delayed damage signs"],relief_application:{required:Y!=="No Damage",category:oe,amount:re,form:Y==="No Damage"?"N/A":`SDRF Form 1${oe==="Category A"?"A":"B"}`,deadline:Y==="No Damage"?"N/A":Y==="Destroyed"?"Within 7 days":Y==="Major Damage"?"Within 15 days":"Within 30 days"},documentation_required:Y==="No Damage"?[]:["Property ownership documents","Aadhaar card copy","Bank account details","Recent property photos"],timeline:Y==="No Damage"?"No immediate action required":Y==="Destroyed"?"Apply within 7 days, processing takes 5-15 days":Y==="Major Damage"?"Apply within 15 days, processing takes 10-20 days":"Apply within 30 days, processing takes 15-30 days"},emergency_contacts:{disaster_control:"+91-172-2740000",relief_commissioner:"+91-172-2740001",district_collector:"+91-172-2740002"},state:F.charAt(0).toUpperCase()+F.slice(1).replace("_"," ")}},k=()=>{e([]),s([]),r("idle"),f(null),c(0),o(null),S.current&&(S.current.value="")},M=F=>{const V=n.filter((J,Y)=>Y!==F),G=t.filter((J,Y)=>Y!==F);e(V),s(G)},I=F=>{switch(F){case"Destroyed":return"bg-red-600 text-white";case"Major Damage":return"bg-orange-500 text-white";case"Minor Damage":return"bg-yellow-400 text-slate-900";case"No Damage":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},D=F=>({en:{title:"AI-Powered Flood Damage Assessment",subtitle:"Upload images to get instant damage analysis with NDMA relief recommendations",uploadText:"Drop images here or click to browse",uploadSubtext:"Upload PNG, JPG, or HEIC files for damage assessment",analyzeButton:"Run AI Analysis",clearButton:"Clear All",damageLevel:"Damage Level",confidence:"Confidence",estimatedCost:"Estimated Cost",ndmaCategory:"NDMA Category",reliefAmount:"Relief Amount",immediateActions:"Immediate Actions",reliefApplication:"Relief Application",documentationRequired:"Documentation Required",emergencyContacts:"Emergency Contacts",recommendations:"Recommendations",analysisReport:"AI Analysis Report",selectState:"Select State",language:"Language"},hi:{title:"AI-   ",subtitle:"NDMA            ",uploadText:"         ",uploadSubtext:"    PNG, JPG,  HEIC   ",analyzeButton:"AI  ",clearButton:"  ",damageLevel:" ",confidence:"",estimatedCost:" ",ndmaCategory:"NDMA ",reliefAmount:" ",immediateActions:" ",reliefApplication:" ",documentationRequired:" ",emergencyContacts:" ",recommendations:"",analysisReport:"AI  ",selectState:" ",language:""}})[g][F]||F;return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:D("title")}),d.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:D("subtitle")}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(AA,{className:"w-4 h-4"}),d.jsxs("select",{value:g,onChange:F=>p(F.target.value),className:"px-3 py-1 border rounded-md text-sm",children:[d.jsx("option",{value:"en",children:"English"}),d.jsx("option",{value:"hi",children:""})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ts,{className:"w-4 h-4"}),d.jsx("select",{value:_,onChange:F=>w(F.target.value),className:"px-3 py-1 border rounded-md text-sm",children:A.map(F=>d.jsx("option",{value:F.value,children:g==="hi"?F.hindi:F.label},F.value))})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{onClick:N,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[d.jsx(py,{className:"mx-auto h-12 w-12 text-slate-400"}),d.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:D("uploadText")}),d.jsx("p",{className:"mt-1 text-xs text-slate-500",children:D("uploadSubtext")}),d.jsx("input",{ref:S,type:"file",multiple:!0,className:"sr-only",onChange:T,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),t.length>0&&d.jsxs(Li,{children:[d.jsx(Oi,{children:d.jsxs(Di,{className:"flex items-center",children:[d.jsx(p_,{className:"w-5 h-5 mr-2"}),D("analysisReport")]})}),d.jsxs(zi,{children:[d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((F,V)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:F,alt:`Preview ${V}`,className:"rounded-lg object-cover w-full h-32"}),d.jsx("button",{onClick:()=>M(V),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(my,{className:"w-3 h-3"})})]},V))}),i==="idle"&&d.jsxs(pe,{onClick:O,className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[d.jsx(mD,{className:"w-4 h-4 mr-2"}),D("analyzeButton")," (",n.length," ",g==="hi"?"":"images",")"]}),d.jsx(pe,{onClick:k,variant:"outline",className:"w-full mt-2",children:D("clearButton")})]})]})]}),d.jsxs(Li,{className:"h-full sticky top-8",children:[d.jsx(Oi,{children:d.jsxs(Di,{className:"flex items-center",children:[d.jsx(p_,{className:"w-5 h-5 mr-3"}),D("analysisReport")]})}),d.jsx(zi,{children:i==="complete"&&h?d.jsxs("div",{className:"space-y-6 text-sm",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{children:g==="hi"?" ":"Analysis Complete"}),d.jsx("span",{children:"100%"})]}),d.jsx(zo,{value:100,className:"h-2"})]}),d.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[d.jsx("span",{className:"font-semibold text-slate-700",children:D("damageLevel")}),d.jsx(Ge,{className:I(h.damage_level),children:g==="hi"?h.hindi_damage_level:h.damage_level})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-slate-600",children:D("confidence")}),d.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[Math.round(h.confidence*100),"%"]})]}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-slate-600",children:D("estimatedCost")}),d.jsx("p",{className:"font-bold text-lg text-slate-800",children:h.estimated_cost_display})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-slate-600",children:D("ndmaCategory")}),d.jsx("p",{className:"font-bold text-lg text-slate-800",children:h.ndma_category})]}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-slate-600",children:D("reliefAmount")}),d.jsx("p",{className:"font-bold text-lg text-slate-800",children:h.relief_amount_display})]})]}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-slate-600 mb-1",children:g==="hi"?"":"Description"}),d.jsx("p",{className:"text-slate-800",children:g==="hi"?h.hindi_description:h.description})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[d.jsx(pD,{className:"w-4 h-4 mr-2 text-red-600"}),D("immediateActions")]}),d.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-700",children:h.recommendations.immediate_actions.map((F,V)=>d.jsx("li",{children:F},V))})]}),h.recommendations.relief_application.required&&d.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[d.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:D("reliefApplication")}),d.jsxs("div",{className:"space-y-2 text-blue-700",children:[d.jsxs("p",{children:[d.jsx("strong",{children:g==="hi"?":":"Category:"})," ",h.recommendations.relief_application.category]}),d.jsxs("p",{children:[d.jsx("strong",{children:g==="hi"?":":"Amount:"})," ",h.recommendations.relief_application.amount]}),d.jsxs("p",{children:[d.jsx("strong",{children:g==="hi"?":":"Form:"})," ",h.recommendations.relief_application.form]}),d.jsxs("p",{children:[d.jsx("strong",{children:g==="hi"?" :":"Deadline:"})," ",h.recommendations.relief_application.deadline]})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[d.jsx(Pi,{className:"w-4 h-4 mr-2 text-red-600"}),D("emergencyContacts")]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(pe,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${h.emergency_contacts.disaster_control}`,"_self"),children:[d.jsx(Pi,{className:"w-3 h-3 mr-2"}),g==="hi"?" :":"Disaster Control:"," ",h.emergency_contacts.disaster_control]}),d.jsxs(pe,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${h.emergency_contacts.relief_commissioner}`,"_self"),children:[d.jsx(Pi,{className:"w-3 h-3 mr-2"}),g==="hi"?" :":"Relief Commissioner:"," ",h.emergency_contacts.relief_commissioner]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(pe,{size:"sm",className:"flex-1",onClick:()=>window.open(`https://www.google.com/maps?q=${x?.lat},${x?.lon}`,"_blank"),children:[d.jsx(g_,{className:"w-3 h-3 mr-1"}),g==="hi"?"Google Maps  ":"Open in Google Maps"]}),d.jsx(pe,{size:"sm",variant:"outline",onClick:()=>{const F={damageLevel:h.damage_level,confidence:h.confidence,estimatedCost:h.estimated_cost_display,ndmaCategory:h.ndma_category,reliefAmount:h.relief_amount_display,state:h.state,timestamp:new Date().toISOString()},V=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),G=URL.createObjectURL(V),J=document.createElement("a");J.href=G,J.download=`damage-report-${Date.now()}.json`,J.click()},children:d.jsx(_A,{className:"w-3 h-3"})})]})]}):i==="analyzing"?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[d.jsx(ni,{className:"w-8 h-8 mb-2 animate-spin"}),d.jsxs("p",{children:[l,"% - ",g==="hi"?"     ...":"Analyzing image..."]}),d.jsx(zo,{value:l,className:"w-full mt-4"})]}):i==="error"?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[d.jsx(tn,{className:"w-8 h-8 mb-2"}),d.jsx("p",{children:g==="hi"?"    ":"An error occurred during analysis."}),d.jsx("p",{className:"text-xs mt-2 text-red-400",children:a})]}):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[d.jsx(fr,{className:"w-10 h-10 mb-4 text-slate-400"}),d.jsx("p",{className:"font-semibold",children:g==="hi"?"AI-   ":"AI-Powered Insights Await"}),d.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:g==="hi"?"                   ":"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})]})},Gse=()=>d.jsx("div",{className:"space-y-8",children:d.jsx(Xse,{})});function C3(n,e){const t=R.useRef(e);R.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const $se=1;function qse(n){return Object.freeze({__version:$se,map:n})}function T3(n,e){return Object.freeze({...n,...e})}const nC=R.createContext(null);function Ry(){const n=R.use(nC);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function E3(n){function e(t,s){const{instance:i,context:r}=n(t).current;R.useImperativeHandle(s,()=>i);const{children:a}=t;return a==null?null:ve.createElement(nC,{value:r},a)}return R.forwardRef(e)}function Zse(n){function e(t,s){const[i,r]=R.useState(!1),{instance:a}=n(t,r).current;R.useImperativeHandle(s,()=>a),R.useEffect(function(){i&&a.update()},[a,i,t.children]);const o=a._contentNode;return o?Ch.createPortal(t.children,o):null}return R.forwardRef(e)}function Kse(n){function e(t,s){const{instance:i}=n(t).current;return R.useImperativeHandle(s,()=>i),null}return R.forwardRef(e)}function sC(n,e){const t=R.useRef(void 0);R.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function Py(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function Qse(n,e){return function(s,i){const r=Ry(),a=n(Py(s,r),r);return C3(r.map,s.attribution),sC(a.current,s.eventHandlers),e(a.current,r,s,i),a}}var Q_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,e){(function(t,s){s(e)})(ii,function(t){var s="1.9.4";function i(u){var m,b,E,z;for(b=1,E=arguments.length;b<E;b++){z=arguments[b];for(m in z)u[m]=z[m]}return u}var r=Object.create||function(){function u(){}return function(m){return u.prototype=m,new u}}();function a(u,m){var b=Array.prototype.slice;if(u.bind)return u.bind.apply(u,b.call(arguments,1));var E=b.call(arguments,2);return function(){return u.apply(m,E.length?E.concat(b.call(arguments)):arguments)}}var o=0;function l(u){return"_leaflet_id"in u||(u._leaflet_id=++o),u._leaflet_id}function c(u,m,b){var E,z,H,$;return $=function(){E=!1,z&&(H.apply(b,z),z=!1)},H=function(){E?z=arguments:(u.apply(b,arguments),setTimeout($,m),E=!0)},H}function h(u,m,b){var E=m[1],z=m[0],H=E-z;return u===E&&b?u:((u-z)%H+H)%H+z}function f(){return!1}function g(u,m){if(m===!1)return u;var b=Math.pow(10,m===void 0?6:m);return Math.round(u*b)/b}function p(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function x(u){return p(u).split(/\s+/)}function v(u,m){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?r(u.options):{});for(var b in m)u.options[b]=m[b];return u.options}function _(u,m,b){var E=[];for(var z in u)E.push(encodeURIComponent(b?z.toUpperCase():z)+"="+encodeURIComponent(u[z]));return(!m||m.indexOf("?")===-1?"?":"&")+E.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function S(u,m){return u.replace(w,function(b,E){var z=m[E];if(z===void 0)throw new Error("No value provided for variable "+b);return typeof z=="function"&&(z=z(m)),z})}var A=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function T(u,m){for(var b=0;b<u.length;b++)if(u[b]===m)return b;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var C=0;function k(u){var m=+new Date,b=Math.max(0,16-(m-C));return C=m+b,window.setTimeout(u,b)}var M=window.requestAnimationFrame||O("RequestAnimationFrame")||k,I=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function D(u,m,b){if(b&&M===k)u.call(m);else return M.call(window,a(u,m))}function F(u){u&&I.call(window,u)}var V={__proto__:null,extend:i,create:r,bind:a,get lastId(){return o},stamp:l,throttle:c,wrapNum:h,falseFn:f,formatNum:g,trim:p,splitWords:x,setOptions:v,getParamString:_,template:S,isArray:A,indexOf:T,emptyImageUrl:N,requestFn:M,cancelFn:I,requestAnimFrame:D,cancelAnimFrame:F};function G(){}G.extend=function(u){var m=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,E=r(b);E.constructor=m,m.prototype=E;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(m[z]=this[z]);return u.statics&&i(m,u.statics),u.includes&&(J(u.includes),i.apply(null,[E].concat(u.includes))),i(E,u),delete E.statics,delete E.includes,E.options&&(E.options=b.options?r(b.options):{},i(E.options,u.options)),E._initHooks=[],E.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,$=E._initHooks.length;H<$;H++)E._initHooks[H].call(this)}},m},G.include=function(u){var m=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=m,this.mergeOptions(u.options)),this},G.mergeOptions=function(u){return i(this.prototype.options,u),this},G.addInitHook=function(u){var m=Array.prototype.slice.call(arguments,1),b=typeof u=="function"?u:function(){this[u].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function J(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=A(u)?u:[u];for(var m=0;m<u.length;m++)u[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(u,m,b){if(typeof u=="object")for(var E in u)this._on(E,u[E],m);else{u=x(u);for(var z=0,H=u.length;z<H;z++)this._on(u[z],m,b)}return this},off:function(u,m,b){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var E in u)this._off(E,u[E],m);else{u=x(u);for(var z=arguments.length===1,H=0,$=u.length;H<$;H++)z?this._off(u[H]):this._off(u[H],m,b)}return this},_on:function(u,m,b,E){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(u,m,b)===!1){b===this&&(b=void 0);var z={fn:m,ctx:b};E&&(z.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(z)}},_off:function(u,m,b){var E,z,H;if(this._events&&(E=this._events[u],!!E)){if(arguments.length===1){if(this._firingCount)for(z=0,H=E.length;z<H;z++)E[z].fn=f;delete this._events[u];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var $=this._listens(u,m,b);if($!==!1){var te=E[$];this._firingCount&&(te.fn=f,this._events[u]=E=E.slice()),E.splice($,1)}}},fire:function(u,m,b){if(!this.listens(u,b))return this;var E=i({},m,{type:u,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var z=this._events[u];if(z){this._firingCount=this._firingCount+1||1;for(var H=0,$=z.length;H<$;H++){var te=z[H],ie=te.fn;te.once&&this.off(u,ie,te.ctx),ie.call(te.ctx||this,E)}this._firingCount--}}return b&&this._propagateEvent(E),this},listens:function(u,m,b,E){typeof u!="string"&&console.warn('"string" type argument expected');var z=m;typeof m!="function"&&(E=!!m,z=void 0,b=void 0);var H=this._events&&this._events[u];if(H&&H.length&&this._listens(u,z,b)!==!1)return!0;if(E){for(var $ in this._eventParents)if(this._eventParents[$].listens(u,m,b,E))return!0}return!1},_listens:function(u,m,b){if(!this._events)return!1;var E=this._events[u]||[];if(!m)return!!E.length;b===this&&(b=void 0);for(var z=0,H=E.length;z<H;z++)if(E[z].fn===m&&E[z].ctx===b)return z;return!1},once:function(u,m,b){if(typeof u=="object")for(var E in u)this._on(E,u[E],m,!0);else{u=x(u);for(var z=0,H=u.length;z<H;z++)this._on(u[z],m,b,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[l(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[l(u)],this},_propagateEvent:function(u){for(var m in this._eventParents)this._eventParents[m].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var Z=G.extend(Y);function U(u,m,b){this.x=b?Math.round(u):u,this.y=b?Math.round(m):m}var X=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(u){return this.clone()._add(Q(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(Q(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new U(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new U(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(u){u=Q(u);var m=u.x-this.x,b=u.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(u){return u=Q(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=Q(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Q(u,m,b){return u instanceof U?u:A(u)?new U(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new U(u.x,u.y):new U(u,m,b)}function se(u,m){if(u)for(var b=m?[u,m]:u,E=0,z=b.length;E<z;E++)this.extend(b[E])}se.prototype={extend:function(u){var m,b;if(!u)return this;if(u instanceof U||typeof u[0]=="number"||"x"in u)m=b=Q(u);else if(u=q(u),m=u.min,b=u.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(u){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var m,b;return typeof u[0]=="number"||u instanceof U?u=Q(u):u=q(u),u instanceof se?(m=u.min,b=u.max):m=b=u,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(u){u=q(u);var m=this.min,b=this.max,E=u.min,z=u.max,H=z.x>=m.x&&E.x<=b.x,$=z.y>=m.y&&E.y<=b.y;return H&&$},overlaps:function(u){u=q(u);var m=this.min,b=this.max,E=u.min,z=u.max,H=z.x>m.x&&E.x<b.x,$=z.y>m.y&&E.y<b.y;return H&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var m=this.min,b=this.max,E=Math.abs(m.x-b.x)*u,z=Math.abs(m.y-b.y)*u;return q(Q(m.x-E,m.y-z),Q(b.x+E,b.y+z))},equals:function(u){return u?(u=q(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function q(u,m){return!u||u instanceof se?u:new se(u,m)}function he(u,m){if(u)for(var b=m?[u,m]:u,E=0,z=b.length;E<z;E++)this.extend(b[E])}he.prototype={extend:function(u){var m=this._southWest,b=this._northEast,E,z;if(u instanceof fe)E=u,z=u;else if(u instanceof he){if(E=u._southWest,z=u._northEast,!E||!z)return this}else return u?this.extend(oe(u)||ae(u)):this;return!m&&!b?(this._southWest=new fe(E.lat,E.lng),this._northEast=new fe(z.lat,z.lng)):(m.lat=Math.min(E.lat,m.lat),m.lng=Math.min(E.lng,m.lng),b.lat=Math.max(z.lat,b.lat),b.lng=Math.max(z.lng,b.lng)),this},pad:function(u){var m=this._southWest,b=this._northEast,E=Math.abs(m.lat-b.lat)*u,z=Math.abs(m.lng-b.lng)*u;return new he(new fe(m.lat-E,m.lng-z),new fe(b.lat+E,b.lng+z))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof fe||"lat"in u?u=oe(u):u=ae(u);var m=this._southWest,b=this._northEast,E,z;return u instanceof he?(E=u.getSouthWest(),z=u.getNorthEast()):E=z=u,E.lat>=m.lat&&z.lat<=b.lat&&E.lng>=m.lng&&z.lng<=b.lng},intersects:function(u){u=ae(u);var m=this._southWest,b=this._northEast,E=u.getSouthWest(),z=u.getNorthEast(),H=z.lat>=m.lat&&E.lat<=b.lat,$=z.lng>=m.lng&&E.lng<=b.lng;return H&&$},overlaps:function(u){u=ae(u);var m=this._southWest,b=this._northEast,E=u.getSouthWest(),z=u.getNorthEast(),H=z.lat>m.lat&&E.lat<b.lat,$=z.lng>m.lng&&E.lng<b.lng;return H&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,m){return u?(u=ae(u),this._southWest.equals(u.getSouthWest(),m)&&this._northEast.equals(u.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(u,m){return u instanceof he?u:new he(u,m)}function fe(u,m,b){if(isNaN(u)||isNaN(m))throw new Error("Invalid LatLng object: ("+u+", "+m+")");this.lat=+u,this.lng=+m,b!==void 0&&(this.alt=+b)}fe.prototype={equals:function(u,m){if(!u)return!1;u=oe(u);var b=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return b<=(m===void 0?1e-9:m)},toString:function(u){return"LatLng("+g(this.lat,u)+", "+g(this.lng,u)+")"},distanceTo:function(u){return be.distance(this,oe(u))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(u){var m=180*u/40075017,b=m/Math.cos(Math.PI/180*this.lat);return ae([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function oe(u,m,b){return u instanceof fe?u:A(u)&&typeof u[0]!="object"?u.length===3?new fe(u[0],u[1],u[2]):u.length===2?new fe(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new fe(u.lat,"lng"in u?u.lng:u.lon,u.alt):m===void 0?null:new fe(u,m,b)}var re={latLngToPoint:function(u,m){var b=this.projection.project(u),E=this.scale(m);return this.transformation._transform(b,E)},pointToLatLng:function(u,m){var b=this.scale(m),E=this.transformation.untransform(u,b);return this.projection.unproject(E)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(u),E=this.transformation.transform(m.min,b),z=this.transformation.transform(m.max,b);return new se(E,z)},infinite:!1,wrapLatLng:function(u){var m=this.wrapLng?h(u.lng,this.wrapLng,!0):u.lng,b=this.wrapLat?h(u.lat,this.wrapLat,!0):u.lat,E=u.alt;return new fe(b,m,E)},wrapLatLngBounds:function(u){var m=u.getCenter(),b=this.wrapLatLng(m),E=m.lat-b.lat,z=m.lng-b.lng;if(E===0&&z===0)return u;var H=u.getSouthWest(),$=u.getNorthEast(),te=new fe(H.lat-E,H.lng-z),ie=new fe($.lat-E,$.lng-z);return new he(te,ie)}},be=i({},re,{wrapLng:[-180,180],R:6371e3,distance:function(u,m){var b=Math.PI/180,E=u.lat*b,z=m.lat*b,H=Math.sin((m.lat-u.lat)*b/2),$=Math.sin((m.lng-u.lng)*b/2),te=H*H+Math.cos(E)*Math.cos(z)*$*$,ie=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*ie}}),ze=6378137,Ne={R:ze,MAX_LATITUDE:85.0511287798,project:function(u){var m=Math.PI/180,b=this.MAX_LATITUDE,E=Math.max(Math.min(b,u.lat),-b),z=Math.sin(E*m);return new U(this.R*u.lng*m,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(u){var m=180/Math.PI;return new fe((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*m,u.x*m/this.R)},bounds:function(){var u=ze*Math.PI;return new se([-u,-u],[u,u])}()};function je(u,m,b,E){if(A(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=m,this._c=b,this._d=E}je.prototype={transform:function(u,m){return this._transform(u.clone(),m)},_transform:function(u,m){return m=m||1,u.x=m*(this._a*u.x+this._b),u.y=m*(this._c*u.y+this._d),u},untransform:function(u,m){return m=m||1,new U((u.x/m-this._b)/this._a,(u.y/m-this._d)/this._c)}};function Je(u,m,b,E){return new je(u,m,b,E)}var et=i({},be,{code:"EPSG:3857",projection:Ne,transformation:function(){var u=.5/(Math.PI*Ne.R);return Je(u,.5,-u,.5)}()}),Wt=i({},et,{code:"EPSG:900913"});function oi(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function zs(u,m){var b="",E,z,H,$,te,ie;for(E=0,H=u.length;E<H;E++){for(te=u[E],z=0,$=te.length;z<$;z++)ie=te[z],b+=(z?"L":"M")+ie.x+" "+ie.y;b+=m?ke.svg?"z":"x":""}return b||"M0 0"}var Fs=document.documentElement.style,Wi="ActiveXObject"in window,un=Wi&&!document.addEventListener,rn="msLaunchUri"in navigator&&!("documentMode"in document),ms=ys("webkit"),ol=ys("android"),Bs=ys("android 2")||ys("android 3"),ed=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qr=ol&&ys("Google")&&ed<537&&!("AudioNode"in window),yn=!!window.opera,li=!rn&&ys("chrome"),Ga=ys("gecko")&&!ms&&!yn&&!Wi,td=!li&&ys("safari"),Jr=ys("phantom"),ll="OTransition"in Fs,cl=navigator.platform.indexOf("Win")===0,ci=Wi&&"transition"in Fs,vs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bs,ea="MozPerspective"in Fs,qn=!window.L_DISABLE_3D&&(ci||vs||ea)&&!ll&&!Jr,mr=typeof orientation<"u"||ys("mobile"),$a=mr&&ms,ul=mr&&vs,Yi=!window.PointerEvent&&window.MSPointerEvent,hl=!!(window.PointerEvent||Yi),Kt="ontouchstart"in window||!!window.TouchEvent,Vs=!window.L_NO_TOUCH&&(Kt||hl),ta=mr&&yn,De=mr&&Ga,mt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pt=function(){var u=!1;try{var m=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",f,m),window.removeEventListener("testPassiveEventSupport",f,m)}catch{}return u}(),hn=function(){return!!document.createElement("canvas").getContext}(),Dn=!!(document.createElementNS&&oi("svg").createSVGRect),ui=!!Dn&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xs=!Dn&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var m=u.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),Zn=navigator.platform.indexOf("Mac")===0,Hs=navigator.platform.indexOf("Linux")===0;function ys(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ke={ie:Wi,ielt9:un,edge:rn,webkit:ms,android:ol,android23:Bs,androidStock:Qr,opera:yn,chrome:li,gecko:Ga,safari:td,phantom:Jr,opera12:ll,win:cl,ie3d:ci,webkit3d:vs,gecko3d:ea,any3d:qn,mobile:mr,mobileWebkit:$a,mobileWebkit3d:ul,msPointer:Yi,pointer:hl,touch:Vs,touchNative:Kt,mobileOpera:ta,mobileGecko:De,retina:mt,passiveEvents:Pt,canvas:hn,svg:Dn,vml:xs,inlineSvg:ui,mac:Zn,linux:Hs},ip=ke.msPointer?"MSPointerDown":"pointerdown",Xi=ke.msPointer?"MSPointerMove":"pointermove",nd=ke.msPointer?"MSPointerUp":"pointerup",sd=ke.msPointer?"MSPointerCancel":"pointercancel",dl={touchstart:ip,touchmove:Xi,touchend:nd,touchcancel:sd},kc={touchstart:id,touchmove:hi,touchend:hi,touchcancel:hi},na={},rp=!1;function ap(u,m,b){return m==="touchstart"&&fl(),kc[m]?(b=kc[m].bind(this,b),u.addEventListener(dl[m],b,!1),b):(console.warn("wrong event specified:",m),f)}function jy(u,m,b){if(!dl[m]){console.warn("wrong event specified:",m);return}u.removeEventListener(dl[m],b,!1)}function Nc(u){na[u.pointerId]=u}function op(u){na[u.pointerId]&&(na[u.pointerId]=u)}function Rc(u){delete na[u.pointerId]}function fl(){rp||(document.addEventListener(ip,Nc,!0),document.addEventListener(Xi,op,!0),document.addEventListener(nd,Rc,!0),document.addEventListener(sd,Rc,!0),rp=!0)}function hi(u,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in na)m.touches.push(na[b]);m.changedTouches=[m],u(m)}}function id(u,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&dn(m),hi(u,m)}function Ly(u){var m={},b,E;for(E in u)b=u[E],m[E]=b&&b.bind?b.bind(u):b;return u=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var lp=200;function cp(u,m){u.addEventListener("dblclick",m);var b=0,E;function z(H){if(H.detail!==1){E=H.detail;return}if(!(H.pointerType==="mouse"||H.sourceCapabilities&&!H.sourceCapabilities.firesTouchEvents)){var $=cd(H);if(!($.some(function(ie){return ie instanceof HTMLLabelElement&&ie.attributes.for})&&!$.some(function(ie){return ie instanceof HTMLInputElement||ie instanceof HTMLSelectElement}))){var te=Date.now();te-b<=lp?(E++,E===2&&m(Ly(H))):E=1,b=te}}}return u.addEventListener("click",z),{dblclick:m,simDblclick:z}}function up(u,m){u.removeEventListener("dblclick",m.dblclick),u.removeEventListener("click",m.simDblclick)}var gl=Pc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sa=Pc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rd=sa==="webkitTransition"||sa==="OTransition"?sa+"End":"transitionend";function ad(u){return typeof u=="string"?document.getElementById(u):u}function qa(u,m){var b=u.style[m]||u.currentStyle&&u.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var E=document.defaultView.getComputedStyle(u,null);b=E?E[m]:null}return b==="auto"?null:b}function ht(u,m,b){var E=document.createElement(u);return E.className=m||"",b&&b.appendChild(E),E}function vt(u){var m=u.parentNode;m&&m.removeChild(u)}function rs(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function di(u){var m=u.parentNode;m&&m.lastChild!==u&&m.appendChild(u)}function fi(u){var m=u.parentNode;m&&m.firstChild!==u&&m.insertBefore(u,m.firstChild)}function pl(u,m){if(u.classList!==void 0)return u.classList.contains(m);var b=vr(u);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function Te(u,m){if(u.classList!==void 0)for(var b=x(m),E=0,z=b.length;E<z;E++)u.classList.add(b[E]);else if(!pl(u,m)){var H=vr(u);ia(u,(H?H+" ":"")+m)}}function Dt(u,m){u.classList!==void 0?u.classList.remove(m):ia(u,p((" "+vr(u)+" ").replace(" "+m+" "," ")))}function ia(u,m){u.className.baseVal===void 0?u.className=m:u.className.baseVal=m}function vr(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function bs(u,m){"opacity"in u.style?u.style.opacity=m:"filter"in u.style&&hp(u,m)}function hp(u,m){var b=!1,E="DXImageTransform.Microsoft.Alpha";try{b=u.filters.item(E)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):u.style.filter+=" progid:"+E+"(opacity="+m+")"}function Pc(u){for(var m=document.documentElement.style,b=0;b<u.length;b++)if(u[b]in m)return u[b];return!1}function ra(u,m,b){var E=m||new U(0,0);u.style[gl]=(ke.ie3d?"translate("+E.x+"px,"+E.y+"px)":"translate3d("+E.x+"px,"+E.y+"px,0)")+(b?" scale("+b+")":"")}function Qt(u,m){u._leaflet_pos=m,ke.any3d?ra(u,m):(u.style.left=m.x+"px",u.style.top=m.y+"px")}function aa(u){return u._leaflet_pos||new U(0,0)}var Gi,Us,Ic;if("onselectstart"in document)Gi=function(){Ue(window,"selectstart",dn)},Us=function(){Et(window,"selectstart",dn)};else{var Za=Pc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gi=function(){if(Za){var u=document.documentElement.style;Ic=u[Za],u[Za]="none"}},Us=function(){Za&&(document.documentElement.style[Za]=Ic,Ic=void 0)}}function Mc(){Ue(window,"dragstart",dn)}function jc(){Et(window,"dragstart",dn)}var ml,xr;function od(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Lc(),ml=u,xr=u.style.outlineStyle,u.style.outlineStyle="none",Ue(window,"keydown",Lc))}function Lc(){ml&&(ml.style.outlineStyle=xr,ml=void 0,xr=void 0,Et(window,"keydown",Lc))}function dp(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function gi(u){var m=u.getBoundingClientRect();return{x:m.width/u.offsetWidth||1,y:m.height/u.offsetHeight||1,boundingClientRect:m}}var Oy={__proto__:null,TRANSFORM:gl,TRANSITION:sa,TRANSITION_END:rd,get:ad,getStyle:qa,create:ht,remove:vt,empty:rs,toFront:di,toBack:fi,hasClass:pl,addClass:Te,removeClass:Dt,setClass:ia,getClass:vr,setOpacity:bs,testProp:Pc,setTransform:ra,setPosition:Qt,getPosition:aa,get disableTextSelection(){return Gi},get enableTextSelection(){return Us},disableImageDrag:Mc,enableImageDrag:jc,preventOutline:od,restoreOutline:Lc,getSizedParentNode:dp,getScale:gi};function Ue(u,m,b,E){if(m&&typeof m=="object")for(var z in m)Oc(u,z,m[z],b);else{m=x(m);for(var H=0,$=m.length;H<$;H++)Oc(u,m[H],b,E)}return this}var as="_leaflet_events";function Et(u,m,b,E){if(arguments.length===1)Ka(u),delete u[as];else if(m&&typeof m=="object")for(var z in m)vl(u,z,m[z],b);else if(m=x(m),arguments.length===2)Ka(u,function(te){return T(m,te)!==-1});else for(var H=0,$=m.length;H<$;H++)vl(u,m[H],b,E);return this}function Ka(u,m){for(var b in u[as]){var E=b.split(/\d/)[0];(!m||m(E))&&vl(u,E,null,null,b)}}var oa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Oc(u,m,b,E){var z=m+l(b)+(E?"_"+l(E):"");if(u[as]&&u[as][z])return this;var H=function(te){return b.call(E||u,te||window.event)},$=H;!ke.touchNative&&ke.pointer&&m.indexOf("touch")===0?H=ap(u,m,H):ke.touch&&m==="dblclick"?H=cp(u,H):"addEventListener"in u?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?u.addEventListener(oa[m]||m,H,ke.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(H=function(te){te=te||window.event,hd(u,te)&&$(te)},u.addEventListener(oa[m],H,!1)):u.addEventListener(m,$,!1):u.attachEvent("on"+m,H),u[as]=u[as]||{},u[as][z]=H}function vl(u,m,b,E,z){z=z||m+l(b)+(E?"_"+l(E):"");var H=u[as]&&u[as][z];if(!H)return this;!ke.touchNative&&ke.pointer&&m.indexOf("touch")===0?jy(u,m,H):ke.touch&&m==="dblclick"?up(u,H):"removeEventListener"in u?u.removeEventListener(oa[m]||m,H,!1):u.detachEvent("on"+m,H),u[as][z]=null}function St(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function ld(u){return Oc(u,"wheel",St),this}function xl(u){return Ue(u,"mousedown touchstart dblclick contextmenu",St),u._leaflet_disable_click=!0,this}function dn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function yr(u){return dn(u),St(u),this}function cd(u){if(u.composedPath)return u.composedPath();for(var m=[],b=u.target;b;)m.push(b),b=b.parentNode;return m}function yl(u,m){if(!m)return new U(u.clientX,u.clientY);var b=gi(m),E=b.boundingClientRect;return new U((u.clientX-E.left)/b.x-m.clientLeft,(u.clientY-E.top)/b.y-m.clientTop)}var br=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ud(u){return ke.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/br:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function hd(u,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==u;)b=b.parentNode}catch{return!1}return b!==u}var bl={__proto__:null,on:Ue,off:Et,stopPropagation:St,disableScrollPropagation:ld,disableClickPropagation:xl,preventDefault:dn,stop:yr,getPropagationPath:cd,getMousePosition:yl,getWheelDelta:ud,isExternalTarget:hd,addListener:Ue,removeListener:Et},dd=Z.extend({run:function(u,m,b,E){this.stop(),this._el=u,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(E||.5,.2),this._startPos=aa(u),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(u){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),u):(this._runFrame(1),this._complete())},_runFrame:function(u,m){var b=this._startPos.add(this._offset.multiplyBy(u));m&&b._round(),Qt(this._el,b),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),st=Z.extend({options:{crs:et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,m){m=v(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(oe(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sa&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ue(this._proxy,rd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),u=this._limitCenter(oe(u),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=i({animate:b.animate},b.zoom),b.pan=i({animate:b.animate,duration:b.duration},b.pan));var E=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,m,b.zoom):this._tryAnimatedPan(u,b.pan);if(E)return clearTimeout(this._sizeTimer),this}return this._resetView(u,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(u,m){return this._loaded?this.setView(this.getCenter(),u,{zoom:m}):(this._zoom=u,this)},zoomIn:function(u,m){return u=u||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,m)},zoomOut:function(u,m){return u=u||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,m)},setZoomAround:function(u,m,b){var E=this.getZoomScale(m),z=this.getSize().divideBy(2),H=u instanceof U?u:this.latLngToContainerPoint(u),$=H.subtract(z).multiplyBy(1-1/E),te=this.containerPointToLatLng(z.add($));return this.setView(te,m,{zoom:b})},_getBoundsCenterZoom:function(u,m){m=m||{},u=u.getBounds?u.getBounds():ae(u);var b=Q(m.paddingTopLeft||m.padding||[0,0]),E=Q(m.paddingBottomRight||m.padding||[0,0]),z=this.getBoundsZoom(u,!1,b.add(E));if(z=typeof m.maxZoom=="number"?Math.min(m.maxZoom,z):z,z===1/0)return{center:u.getCenter(),zoom:z};var H=E.subtract(b).divideBy(2),$=this.project(u.getSouthWest(),z),te=this.project(u.getNorthEast(),z),ie=this.unproject($.add(te).divideBy(2).add(H),z);return{center:ie,zoom:z}},fitBounds:function(u,m){if(u=ae(u),!u.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(u,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,m){return this.setView(u,this._zoom,{pan:m})},panBy:function(u,m){if(u=Q(u).round(),m=m||{},!u.x&&!u.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new dd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Te(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,m,b){if(b=b||{},b.animate===!1||!ke.any3d)return this.setView(u,m,b);this._stop();var E=this.project(this.getCenter()),z=this.project(u),H=this.getSize(),$=this._zoom;u=oe(u),m=m===void 0?$:m;var te=Math.max(H.x,H.y),ie=te*this.getZoomScale($,m),de=z.distanceTo(E)||1,Ae=1.42,Fe=Ae*Ae;function it(fn){var kp=fn?-1:1,l6=fn?ie:te,c6=ie*ie-te*te+kp*Fe*Fe*de*de,u6=2*l6*Fe*de,Vy=c6/u6,CC=Math.sqrt(Vy*Vy+1)-Vy,h6=CC<1e-9?-18:Math.log(CC);return h6}function os(fn){return(Math.exp(fn)-Math.exp(-fn))/2}function kn(fn){return(Math.exp(fn)+Math.exp(-fn))/2}function vi(fn){return os(fn)/kn(fn)}var _s=it(0);function qc(fn){return te*(kn(_s)/kn(_s+Ae*fn))}function i6(fn){return te*(kn(_s)*vi(_s+Ae*fn)-os(_s))/Fe}function r6(fn){return 1-Math.pow(1-fn,1.5)}var a6=Date.now(),SC=(it(1)-_s)/Ae,o6=b.duration?1e3*b.duration:1e3*SC*.8;function AC(){var fn=(Date.now()-a6)/o6,kp=r6(fn)*SC;fn<=1?(this._flyToFrame=D(AC,this),this._move(this.unproject(E.add(z.subtract(E).multiplyBy(i6(kp)/de)),$),this.getScaleZoom(te/qc(kp),$),{flyTo:!0})):this._move(u,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),AC.call(this),this},flyToBounds:function(u,m){var b=this._getBoundsCenterZoom(u,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(u){return u=ae(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var m=this.options.minZoom;return this.options.minZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var m=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,m){this._enforcingBounds=!0;var b=this.getCenter(),E=this._limitCenter(b,this._zoom,ae(u));return b.equals(E)||this.panTo(E,m),this._enforcingBounds=!1,this},panInside:function(u,m){m=m||{};var b=Q(m.paddingTopLeft||m.padding||[0,0]),E=Q(m.paddingBottomRight||m.padding||[0,0]),z=this.project(this.getCenter()),H=this.project(u),$=this.getPixelBounds(),te=q([$.min.add(b),$.max.subtract(E)]),ie=te.getSize();if(!te.contains(H)){this._enforcingBounds=!0;var de=H.subtract(te.getCenter()),Ae=te.extend(H).getSize().subtract(ie);z.x+=de.x<0?-Ae.x:Ae.x,z.y+=de.y<0?-Ae.y:Ae.y,this.panTo(this.unproject(z),m),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),E=m.divideBy(2).round(),z=b.divideBy(2).round(),H=E.subtract(z);return!H.x&&!H.y?this:(u.animate&&u.pan?this.panBy(H):(u.pan&&this._rawPanBy(H),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=a(this._handleGeolocationResponse,this),b=a(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,u):navigator.geolocation.getCurrentPosition(m,b,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var m=u.code,b=u.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var m=u.coords.latitude,b=u.coords.longitude,E=new fe(m,b),z=E.toBounds(u.coords.accuracy*2),H=this._locateOptions;if(H.setView){var $=this.getBoundsZoom(z);this.setView(E,H.maxZoom?Math.min($,H.maxZoom):$)}var te={latlng:E,bounds:z,timestamp:u.timestamp};for(var ie in u.coords)typeof u.coords[ie]=="number"&&(te[ie]=u.coords[ie]);this.fire("locationfound",te)}},addHandler:function(u,m){if(!m)return this;var b=this[u]=new m(this);return this._handlers.push(b),this.options[u]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)vt(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,m){var b="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),E=ht("div",b,m||this._mapPane);return u&&(this._panes[u]=E),E},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),m=this.unproject(u.getBottomLeft()),b=this.unproject(u.getTopRight());return new he(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,m,b){u=ae(u),b=Q(b||[0,0]);var E=this.getZoom()||0,z=this.getMinZoom(),H=this.getMaxZoom(),$=u.getNorthWest(),te=u.getSouthEast(),ie=this.getSize().subtract(b),de=q(this.project(te,E),this.project($,E)).getSize(),Ae=ke.any3d?this.options.zoomSnap:1,Fe=ie.x/de.x,it=ie.y/de.y,os=m?Math.max(Fe,it):Math.min(Fe,it);return E=this.getScaleZoom(os,E),Ae&&(E=Math.round(E/(Ae/100))*(Ae/100),E=m?Math.ceil(E/Ae)*Ae:Math.floor(E/Ae)*Ae),Math.max(z,Math.min(H,E))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,m){var b=this._getTopLeftPoint(u,m);return new se(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(u)/b.scale(m)},getScaleZoom:function(u,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var E=b.zoom(u*b.scale(m));return isNaN(E)?1/0:E},project:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(oe(u),m)},unproject:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Q(u),m)},layerPointToLatLng:function(u){var m=Q(u).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(u){var m=this.project(oe(u))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(oe(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(ae(u))},distance:function(u,m){return this.options.crs.distance(oe(u),oe(m))},containerPointToLayerPoint:function(u){return Q(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return Q(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var m=this.containerPointToLayerPoint(Q(u));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(u)))},mouseEventToContainerPoint:function(u){return yl(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var m=this._container=ad(u);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ue(m,"scroll",this._onScroll,this),this._containerId=l(m)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,Te(u,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=qa(u,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Te(u.markerPane,"leaflet-zoom-hide"),Te(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,m,b){Qt(this._mapPane,new U(0,0));var E=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var z=this._zoom!==m;this._moveStart(z,b)._move(u,m)._moveEnd(z),this.fire("viewreset"),E&&this.fire("load")},_moveStart:function(u,m){return u&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(u,m,b,E){m===void 0&&(m=this._zoom);var z=this._zoom!==m;return this._zoom=m,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),E?b&&b.pinch&&this.fire("zoom",b):((z||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Qt(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[l(this._container)]=this;var m=u?Et:Ue;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,m){for(var b=[],E,z=m==="mouseout"||m==="mouseover",H=u.target||u.srcElement,$=!1;H;){if(E=this._targets[l(H)],E&&(m==="click"||m==="preclick")&&this._draggableMoved(E)){$=!0;break}if(E&&E.listens(m,!0)&&(z&&!hd(H,u)||(b.push(E),z))||H===this._container)break;H=H.parentNode}return!b.length&&!$&&!z&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var m=u.target||u.srcElement;if(!(!this._loaded||m._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(m))){var b=u.type;b==="mousedown"&&od(m),this._fireDOMEvent(u,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,m,b){if(u.type==="click"){var E=i({},u);E.type="preclick",this._fireDOMEvent(E,E.type,b)}var z=this._findEventTargets(u,m);if(b){for(var H=[],$=0;$<b.length;$++)b[$].listens(m,!0)&&H.push(b[$]);z=H.concat(z)}if(z.length){m==="contextmenu"&&dn(u);var te=z[0],ie={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var de=te.getLatLng&&(!te._radius||te._radius<=10);ie.containerPoint=de?this.latLngToContainerPoint(te.getLatLng()):this.mouseEventToContainerPoint(u),ie.layerPoint=this.containerPointToLayerPoint(ie.containerPoint),ie.latlng=de?te.getLatLng():this.layerPointToLatLng(ie.layerPoint)}for($=0;$<z.length;$++)if(z[$].fire(m,ie,!0),ie.originalEvent._stopped||z[$].options.bubblingMouseEvents===!1&&T(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,m=this._handlers.length;u<m;u++)this._handlers[u].disable()},whenReady:function(u,m){return this._loaded?u.call(m||this,{target:this}):this.on("load",u,m),this},_getMapPanePos:function(){return aa(this._mapPane)||new U(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,m){var b=u&&m!==void 0?this._getNewPixelOrigin(u,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,m){var b=this.getSize()._divideBy(2);return this.project(u,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,m,b){var E=this._getNewPixelOrigin(b,m);return this.project(u,m)._subtract(E)},_latLngBoundsToNewLayerBounds:function(u,m,b){var E=this._getNewPixelOrigin(b,m);return q([this.project(u.getSouthWest(),m)._subtract(E),this.project(u.getNorthWest(),m)._subtract(E),this.project(u.getSouthEast(),m)._subtract(E),this.project(u.getNorthEast(),m)._subtract(E)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,m,b){if(!b)return u;var E=this.project(u,m),z=this.getSize().divideBy(2),H=new se(E.subtract(z),E.add(z)),$=this._getBoundsOffset(H,b,m);return Math.abs($.x)<=1&&Math.abs($.y)<=1?u:this.unproject(E.add($),m)},_limitOffset:function(u,m){if(!m)return u;var b=this.getPixelBounds(),E=new se(b.min.add(u),b.max.add(u));return u.add(this._getBoundsOffset(E,m))},_getBoundsOffset:function(u,m,b){var E=q(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),z=E.min.subtract(u.min),H=E.max.subtract(u.max),$=this._rebound(z.x,-H.x),te=this._rebound(z.y,-H.y);return new U($,te)},_rebound:function(u,m){return u+m>0?Math.round(u-m)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(m))},_limitZoom:function(u){var m=this.getMinZoom(),b=this.getMaxZoom(),E=ke.any3d?this.options.zoomSnap:1;return E&&(u=Math.round(u/E)*E),Math.max(m,Math.min(b,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,m){var b=this._getCenterOffset(u)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var u=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(m){var b=gl,E=this._proxy.style[b];ra(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),E===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),m=this.getZoom();ra(this._proxy,this.project(u,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var E=this.getZoomScale(m),z=this._getCenterOffset(u)._divideBy(1-1/E);return b.animate!==!0&&!this.getSize().contains(z)?!1:(D(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(u,m,!0)},this),!0)},_animateZoom:function(u,m,b,E){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=m,Te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:m,noUpdate:E}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dc(u,m){return new st(u,m)}var ws=G.extend({options:{position:"topright"},initialize:function(u){v(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var m=this._map;return m&&m.removeControl(this),this.options.position=u,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var m=this._container=this.onAdd(u),b=this.getPosition(),E=u._controlCorners[b];return Te(m,"leaflet-control"),b.indexOf("bottom")!==-1?E.insertBefore(m,E.firstChild):E.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),wr=function(u){return new ws(u)};st.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},m="leaflet-",b=this._controlContainer=ht("div",m+"control-container",this._container);function E(z,H){var $=m+z+" "+m+H;u[z+H]=ht("div",$,b)}E("top","left"),E("top","right"),E("bottom","left"),E("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)vt(this._controlCorners[u]);vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fp=ws.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,m,b,E){return b<E?-1:E<b?1:0}},initialize:function(u,m,b){v(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var E in u)this._addLayer(u[E],E);for(E in m)this._addLayer(m[E],E,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return ws.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,m){return this._addLayer(u,m),this._map?this._update():this},addOverlay:function(u,m){return this._addLayer(u,m,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var m=this._getLayer(l(u));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",m=this._container=ht("div",u),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),xl(m),ld(m);var E=this._section=ht("section",u+"-list");b&&(this._map.on("click",this.collapse,this),Ue(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=ht("a",u+"-toggle",m);z.href="#",z.title="Layers",z.setAttribute("role","button"),Ue(z,{keydown:function(H){H.keyCode===13&&this._expandSafely()},click:function(H){dn(H),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=ht("div",u+"-base",E),this._separator=ht("div",u+"-separator",E),this._overlaysList=ht("div",u+"-overlays",E),m.appendChild(E)},_getLayer:function(u){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&l(this._layers[m].layer)===u)return this._layers[m]},_addLayer:function(u,m,b){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(a(function(E,z){return this.options.sortFunction(E.layer,z.layer,E.name,z.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rs(this._baseLayersList),rs(this._overlaysList),this._layerControlInputs=[];var u,m,b,E,z=0;for(b=0;b<this._layers.length;b++)E=this._layers[b],this._addItem(E),m=m||E.overlay,u=u||!E.overlay,z+=E.overlay?0:1;return this.options.hideSingleBase&&(u=u&&z>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=m&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var m=this._getLayer(l(u.target)),b=m.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(u,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(m?' checked="checked"':"")+"/>",E=document.createElement("div");return E.innerHTML=b,E.firstChild},_addItem:function(u){var m=document.createElement("label"),b=this._map.hasLayer(u.layer),E;u.overlay?(E=document.createElement("input"),E.type="checkbox",E.className="leaflet-control-layers-selector",E.defaultChecked=b):E=this._createRadioElement("leaflet-base-layers_"+l(this),b),this._layerControlInputs.push(E),E.layerId=l(u.layer),Ue(E,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+u.name;var H=document.createElement("span");m.appendChild(H),H.appendChild(E),H.appendChild(z);var $=u.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,m,b,E=[],z=[];this._handlingClick=!0;for(var H=u.length-1;H>=0;H--)m=u[H],b=this._getLayer(m.layerId).layer,m.checked?E.push(b):m.checked||z.push(b);for(H=0;H<z.length;H++)this._map.hasLayer(z[H])&&this._map.removeLayer(z[H]);for(H=0;H<E.length;H++)this._map.hasLayer(E[H])||this._map.addLayer(E[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,m,b,E=this._map.getZoom(),z=u.length-1;z>=0;z--)m=u[z],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&E<b.options.minZoom||b.options.maxZoom!==void 0&&E>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,Ue(u,"click",dn),this.expand();var m=this;setTimeout(function(){Et(u,"click",dn),m._preventClick=!1})}}),gp=function(u,m,b){return new fp(u,m,b)},la=ws.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var m="leaflet-control-zoom",b=ht("div",m+" leaflet-bar"),E=this.options;return this._zoomInButton=this._createButton(E.zoomInText,E.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(E.zoomOutText,E.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,m,b,E,z){var H=ht("a",b,E);return H.innerHTML=u,H.href="#",H.title=m,H.setAttribute("role","button"),H.setAttribute("aria-label",m),xl(H),Ue(H,"click",yr),Ue(H,"click",z,this),Ue(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var u=this._map,m="leaflet-disabled";Dt(this._zoomInButton,m),Dt(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Te(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Te(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new la,this.addControl(this.zoomControl))});var pp=function(u){return new la(u)},fd=ws.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var m="leaflet-control-scale",b=ht("div",m),E=this.options;return this._addScales(E,m+"-line",b),u.on(E.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),b},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,m,b){u.metric&&(this._mScale=ht("div",m,b)),u.imperial&&(this._iScale=ht("div",m,b))},_update:function(){var u=this._map,m=u.getSize().y/2,b=u.distance(u.containerPointToLatLng([0,m]),u.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var m=this._getRoundNum(u),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/u)},_updateImperial:function(u){var m=u*3.2808399,b,E,z;m>5280?(b=m/5280,E=this._getRoundNum(b),this._updateScale(this._iScale,E+" mi",E/b)):(z=this._getRoundNum(m),this._updateScale(this._iScale,z+" ft",z/m))},_updateScale:function(u,m,b){u.style.width=Math.round(this.options.maxWidth*b)+"px",u.innerHTML=m},_getRoundNum:function(u){var m=Math.pow(10,(Math.floor(u)+"").length-1),b=u/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),gd=function(u){return new fd(u)},pd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zc=ws.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?pd+" ":"")+"Leaflet</a>"},initialize:function(u){v(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),xl(this._container);for(var m in u._layers)u._layers[m].getAttribution&&this.addAttribution(u._layers[m].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var m in this._attributions)this._attributions[m]&&u.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),u.length&&b.push(u.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new zc().addTo(this)});var Fc=function(u){return new zc(u)};ws.Layers=fp,ws.Zoom=la,ws.Scale=fd,ws.Attribution=zc,wr.layers=gp,wr.zoom=pp,wr.scale=gd,wr.attribution=Fc;var Ws=G.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ws.addTo=function(u,m){return u.addHandler(m,this),this};var mp={Events:Y},_r=ke.touch?"touchstart mousedown":"mousedown",$i=Z.extend({options:{clickTolerance:3},initialize:function(u,m,b,E){v(this,E),this._element=u,this._dragStartTarget=m||u,this._preventOutline=b},enable:function(){this._enabled||(Ue(this._dragStartTarget,_r,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($i._dragging===this&&this.finishDrag(!0),Et(this._dragStartTarget,_r,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!pl(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){$i._dragging===this&&this.finishDrag();return}if(!($i._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&($i._dragging=this,this._preventOutline&&od(this._element),Mc(),Gi(),!this._moving)){this.fire("down");var m=u.touches?u.touches[0]:u,b=dp(this._element);this._startPoint=new U(m.clientX,m.clientY),this._startPos=aa(this._element),this._parentScale=gi(b);var E=u.type==="mousedown";Ue(document,E?"mousemove":"touchmove",this._onMove,this),Ue(document,E?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var m=u.touches&&u.touches.length===1?u.touches[0]:u,b=new U(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,dn(u),this._moved||(this.fire("dragstart"),this._moved=!0,Te(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Qt(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Dt(document.body,"leaflet-dragging"),this._lastTarget&&(Dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Et(document,"mousemove touchmove",this._onMove,this),Et(document,"mouseup touchend touchcancel",this._onUp,this),jc(),Us();var m=this._moved&&this._moving;this._moving=!1,$i._dragging=!1,m&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function md(u,m,b){var E,z=[1,4,2,8],H,$,te,ie,de,Ae,Fe,it;for(H=0,Ae=u.length;H<Ae;H++)u[H]._code=ne(u[H],m);for(te=0;te<4;te++){for(Fe=z[te],E=[],H=0,Ae=u.length,$=Ae-1;H<Ae;$=H++)ie=u[H],de=u[$],ie._code&Fe?de._code&Fe||(it=ee(de,ie,Fe,m,b),it._code=ne(it,m),E.push(it)):(de._code&Fe&&(it=ee(de,ie,Fe,m,b),it._code=ne(it,m),E.push(it)),E.push(ie));u=E}return u}function vd(u,m){var b,E,z,H,$,te,ie,de,Ae;if(!u||u.length===0)throw new Error("latlngs not passed");xt(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Fe=oe([0,0]),it=ae(u),os=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());os<1700&&(Fe=Bc(u));var kn=u.length,vi=[];for(b=0;b<kn;b++){var _s=oe(u[b]);vi.push(m.project(oe([_s.lat-Fe.lat,_s.lng-Fe.lng])))}for(te=ie=de=0,b=0,E=kn-1;b<kn;E=b++)z=vi[b],H=vi[E],$=z.y*H.x-H.y*z.x,ie+=(z.x+H.x)*$,de+=(z.y+H.y)*$,te+=$*3;te===0?Ae=vi[0]:Ae=[ie/te,de/te];var qc=m.unproject(Q(Ae));return oe([qc.lat+Fe.lat,qc.lng+Fe.lng])}function Bc(u){for(var m=0,b=0,E=0,z=0;z<u.length;z++){var H=oe(u[z]);m+=H.lat,b+=H.lng,E++}return oe([m/E,b/E])}var Vc={__proto__:null,clipPolygon:md,polygonCenter:vd,centroid:Bc};function Kn(u,m){if(!m||!u.length)return u.slice();var b=m*m;return u=P(u,b),u=Qa(u,b),u}function xd(u,m,b){return Math.sqrt(We(u,m,b,!0))}function vp(u,m,b){return We(u,m,b)}function Qa(u,m){var b=u.length,E=typeof Uint8Array<"u"?Uint8Array:Array,z=new E(b);z[0]=z[b-1]=1,y(u,z,m,0,b-1);var H,$=[];for(H=0;H<b;H++)z[H]&&$.push(u[H]);return $}function y(u,m,b,E,z){var H=0,$,te,ie;for(te=E+1;te<=z-1;te++)ie=We(u[te],u[E],u[z],!0),ie>H&&($=te,H=ie);H>b&&(m[$]=1,y(u,m,b,E,$),y(u,m,b,$,z))}function P(u,m){for(var b=[u[0]],E=1,z=0,H=u.length;E<H;E++)xe(u[E],u[z])>m&&(b.push(u[E]),z=E);return z<H-1&&b.push(u[H-1]),b}var B;function W(u,m,b,E,z){var H=E?B:ne(u,b),$=ne(m,b),te,ie,de;for(B=$;;){if(!(H|$))return[u,m];if(H&$)return!1;te=H||$,ie=ee(u,m,te,b,z),de=ne(ie,b),te===H?(u=ie,H=de):(m=ie,$=de)}}function ee(u,m,b,E,z){var H=m.x-u.x,$=m.y-u.y,te=E.min,ie=E.max,de,Ae;return b&8?(de=u.x+H*(ie.y-u.y)/$,Ae=ie.y):b&4?(de=u.x+H*(te.y-u.y)/$,Ae=te.y):b&2?(de=ie.x,Ae=u.y+$*(ie.x-u.x)/H):b&1&&(de=te.x,Ae=u.y+$*(te.x-u.x)/H),new U(de,Ae,z)}function ne(u,m){var b=0;return u.x<m.min.x?b|=1:u.x>m.max.x&&(b|=2),u.y<m.min.y?b|=4:u.y>m.max.y&&(b|=8),b}function xe(u,m){var b=m.x-u.x,E=m.y-u.y;return b*b+E*E}function We(u,m,b,E){var z=m.x,H=m.y,$=b.x-z,te=b.y-H,ie=$*$+te*te,de;return ie>0&&(de=((u.x-z)*$+(u.y-H)*te)/ie,de>1?(z=b.x,H=b.y):de>0&&(z+=$*de,H+=te*de)),$=u.x-z,te=u.y-H,E?$*$+te*te:new U(z,H)}function xt(u){return!A(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function At(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xt(u)}function an(u,m){var b,E,z,H,$,te,ie,de;if(!u||u.length===0)throw new Error("latlngs not passed");xt(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Ae=oe([0,0]),Fe=ae(u),it=Fe.getNorthWest().distanceTo(Fe.getSouthWest())*Fe.getNorthEast().distanceTo(Fe.getNorthWest());it<1700&&(Ae=Bc(u));var os=u.length,kn=[];for(b=0;b<os;b++){var vi=oe(u[b]);kn.push(m.project(oe([vi.lat-Ae.lat,vi.lng-Ae.lng])))}for(b=0,E=0;b<os-1;b++)E+=kn[b].distanceTo(kn[b+1])/2;if(E===0)de=kn[0];else for(b=0,H=0;b<os-1;b++)if($=kn[b],te=kn[b+1],z=$.distanceTo(te),H+=z,H>E){ie=(H-E)/z,de=[te.x-ie*(te.x-$.x),te.y-ie*(te.y-$.y)];break}var _s=m.unproject(Q(de));return oe([_s.lat+Ae.lat,_s.lng+Ae.lng])}var pi={__proto__:null,simplify:Kn,pointToSegmentDistance:xd,closestPointOnSegment:vp,clipSegment:W,_getEdgeIntersection:ee,_getBitCode:ne,_sqClosestPointOnSegment:We,isFlat:xt,_flat:At,polylineCenter:an},qi={project:function(u){return new U(u.lng,u.lat)},unproject:function(u){return new fe(u.y,u.x)},bounds:new se([-180,-90],[180,90])},mi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var m=Math.PI/180,b=this.R,E=u.lat*m,z=this.R_MINOR/b,H=Math.sqrt(1-z*z),$=H*Math.sin(E),te=Math.tan(Math.PI/4-E/2)/Math.pow((1-$)/(1+$),H/2);return E=-b*Math.log(Math.max(te,1e-10)),new U(u.lng*m*b,E)},unproject:function(u){for(var m=180/Math.PI,b=this.R,E=this.R_MINOR/b,z=Math.sqrt(1-E*E),H=Math.exp(-u.y/b),$=Math.PI/2-2*Math.atan(H),te=0,ie=.1,de;te<15&&Math.abs(ie)>1e-7;te++)de=z*Math.sin($),de=Math.pow((1-de)/(1+de),z/2),ie=Math.PI/2-2*Math.atan(H*de)-$,$+=ie;return new fe($*m,u.x*m/b)}},Sr={__proto__:null,LonLat:qi,Mercator:mi,SphericalMercator:Ne},Hc=i({},be,{code:"EPSG:3395",projection:mi,transformation:function(){var u=.5/(Math.PI*mi.R);return Je(u,.5,-u,.5)}()}),Uc=i({},be,{code:"EPSG:4326",projection:qi,transformation:Je(1/180,1,-1/180,.5)}),O3=i({},re,{projection:qi,transformation:Je(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,m){var b=m.lng-u.lng,E=m.lat-u.lat;return Math.sqrt(b*b+E*E)},infinite:!0});re.Earth=be,re.EPSG3395=Hc,re.EPSG3857=et,re.EPSG900913=Wt,re.EPSG4326=Uc,re.Simple=O3;var Zi=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[l(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[l(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var m=u.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});st.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var m=l(u);return this._layers[m]?this:(this._layers[m]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var m=l(u);return this._layers[m]?(this._loaded&&u.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return l(u)in this._layers},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},_addLayers:function(u){u=u?A(u)?u:[u]:[];for(var m=0,b=u.length;m<b;m++)this.addLayer(u[m])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[l(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var m=l(u);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,m=-1/0,b=this._getZoomSpan();for(var E in this._zoomBoundLayers){var z=this._zoomBoundLayers[E].options;u=z.minZoom===void 0?u:Math.min(u,z.minZoom),m=z.maxZoom===void 0?m:Math.max(m,z.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=u===1/0?void 0:u,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wc=Zi.extend({initialize:function(u,m){v(this,m),this._layers={};var b,E;if(u)for(b=0,E=u.length;b<E;b++)this.addLayer(u[b])},addLayer:function(u){var m=this.getLayerId(u);return this._layers[m]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var m=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(u){var m=typeof u=="number"?u:this.getLayerId(u);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var m=Array.prototype.slice.call(arguments,1),b,E;for(b in this._layers)E=this._layers[b],E[u]&&E[u].apply(E,m);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return l(u)}}),D3=function(u,m){return new Wc(u,m)},ca=Wc.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Wc.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Wc.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new he;for(var m in this._layers){var b=this._layers[m];u.extend(b.getBounds?b.getBounds():b.getLatLng())}return u}}),z3=function(u,m){return new ca(u,m)},Yc=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){v(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,m){var b=this._getIconUrl(u);if(!b){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var E=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(E,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),E},_setIconStyles:function(u,m){var b=this.options,E=b[m+"Size"];typeof E=="number"&&(E=[E,E]);var z=Q(E),H=Q(m==="shadow"&&b.shadowAnchor||b.iconAnchor||z&&z.divideBy(2,!0));u.className="leaflet-marker-"+m+" "+(b.className||""),H&&(u.style.marginLeft=-H.x+"px",u.style.marginTop=-H.y+"px"),z&&(u.style.width=z.x+"px",u.style.height=z.y+"px")},_createImg:function(u,m){return m=m||document.createElement("img"),m.src=u,m},_getIconUrl:function(u){return ke.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function F3(u){return new Yc(u)}var yd=Yc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof yd.imagePath!="string"&&(yd.imagePath=this._detectIconPath()),(this.options.imagePath||yd.imagePath)+Yc.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var m=function(b,E,z){var H=E.exec(b);return H&&H[z]};return u=m(u,/^url\((['"])?(.+)\1\)$/,2),u&&m(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=ht("div","leaflet-default-icon-path",document.body),m=qa(u,"background-image")||qa(u,"backgroundImage");if(document.body.removeChild(u),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),iC=Ws.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new $i(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Te(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var m=this._marker,b=m._map,E=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,H=aa(m._icon),$=b.getPixelBounds(),te=b.getPixelOrigin(),ie=q($.min._subtract(te).add(z),$.max._subtract(te).subtract(z));if(!ie.contains(H)){var de=Q((Math.max(ie.max.x,H.x)-ie.max.x)/($.max.x-ie.max.x)-(Math.min(ie.min.x,H.x)-ie.min.x)/($.min.x-ie.min.x),(Math.max(ie.max.y,H.y)-ie.max.y)/($.max.y-ie.max.y)-(Math.min(ie.min.y,H.y)-ie.min.y)/($.min.y-ie.min.y)).multiplyBy(E);b.panBy(de,{animate:!1}),this._draggable._newPos._add(de),this._draggable._startPos._add(de),Qt(m._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=D(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,u)))},_onDrag:function(u){var m=this._marker,b=m._shadow,E=aa(m._icon),z=m._map.layerPointToLatLng(E);b&&Qt(b,E),m._latlng=z,u.latlng=z,u.oldLatLng=this._oldLatLng,m.fire("move",u).fire("drag",u)},_onDragEnd:function(u){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),xp=Zi.extend({options:{icon:new yd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,m){v(this,m),this._latlng=oe(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var m=this._latlng;return this._latlng=oe(u),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=u.icon.createIcon(this._icon),E=!1;b!==this._icon&&(this._icon&&this._removeIcon(),E=!0,u.title&&(b.title=u.title),b.tagName==="IMG"&&(b.alt=u.alt||"")),Te(b,m),u.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(b,"focus",this._panOnFocus,this);var z=u.icon.createShadow(this._shadow),H=!1;z!==this._shadow&&(this._removeShadow(),H=!0),z&&(Te(z,m),z.alt=""),this._shadow=z,u.opacity<1&&this._updateOpacity(),E&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&H&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(this._icon,"focus",this._panOnFocus,this),vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vt(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Qt(this._icon,u),this._shadow&&Qt(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),iC)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new iC(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&bs(this._icon,u),this._shadow&&bs(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var m=this.options.icon.options,b=m.iconSize?Q(m.iconSize):Q(0,0),E=m.iconAnchor?Q(m.iconAnchor):Q(0,0);u.panInside(this._latlng,{paddingTopLeft:E,paddingBottomRight:b.subtract(E)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function B3(u,m){return new xp(u,m)}var Ja=Zi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return v(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yp=Ja.extend({options:{fill:!0,radius:10},initialize:function(u,m){v(this,m),this._latlng=oe(u),this._radius=this.options.radius},setLatLng:function(u){var m=this._latlng;return this._latlng=oe(u),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var m=u&&u.radius||this._radius;return Ja.prototype.setStyle.call(this,u),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,m=this._radiusY||u,b=this._clickTolerance(),E=[u+b,m+b];this._pxBounds=new se(this._point.subtract(E),this._point.add(E))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function V3(u,m){return new yp(u,m)}var Dy=yp.extend({initialize:function(u,m,b){if(typeof m=="number"&&(m=i({},b,{radius:m})),v(this,m),this._latlng=oe(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Ja.prototype.setStyle,_project:function(){var u=this._latlng.lng,m=this._latlng.lat,b=this._map,E=b.options.crs;if(E.distance===be.distance){var z=Math.PI/180,H=this._mRadius/be.R/z,$=b.project([m+H,u]),te=b.project([m-H,u]),ie=$.add(te).divideBy(2),de=b.unproject(ie).lat,Ae=Math.acos((Math.cos(H*z)-Math.sin(m*z)*Math.sin(de*z))/(Math.cos(m*z)*Math.cos(de*z)))/z;(isNaN(Ae)||Ae===0)&&(Ae=H/Math.cos(Math.PI/180*m)),this._point=ie.subtract(b.getPixelOrigin()),this._radius=isNaN(Ae)?0:ie.x-b.project([de,u-Ae]).x,this._radiusY=ie.y-$.y}else{var Fe=E.unproject(E.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(Fe).x}this._updateBounds()}});function H3(u,m,b){return new Dy(u,m,b)}var ua=Ja.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,m){v(this,m),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var m=1/0,b=null,E=We,z,H,$=0,te=this._parts.length;$<te;$++)for(var ie=this._parts[$],de=1,Ae=ie.length;de<Ae;de++){z=ie[de-1],H=ie[de];var Fe=E(u,z,H,!0);Fe<m&&(m=Fe,b=E(u,z,H))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return an(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,m){return m=m||this._defaultShape(),u=oe(u),m.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new he,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var m=[],b=xt(u),E=0,z=u.length;E<z;E++)b?(m[E]=oe(u[E]),this._bounds.extend(m[E])):m[E]=this._convertLatLngs(u[E]);return m},_project:function(){var u=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),m=new U(u,u);this._rawPxBounds&&(this._pxBounds=new se([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(u,m,b){var E=u[0]instanceof fe,z=u.length,H,$;if(E){for($=[],H=0;H<z;H++)$[H]=this._map.latLngToLayerPoint(u[H]),b.extend($[H]);m.push($)}else for(H=0;H<z;H++)this._projectLatlngs(u[H],m,b)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,E,z,H,$,te,ie;for(b=0,z=0,H=this._rings.length;b<H;b++)for(ie=this._rings[b],E=0,$=ie.length;E<$-1;E++)te=W(ie[E],ie[E+1],u,E,!0),te&&(m[z]=m[z]||[],m[z].push(te[0]),(te[1]!==ie[E+1]||E===$-2)&&(m[z].push(te[1]),z++))}},_simplifyPoints:function(){for(var u=this._parts,m=this.options.smoothFactor,b=0,E=u.length;b<E;b++)u[b]=Kn(u[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,m){var b,E,z,H,$,te,ie=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(b=0,H=this._parts.length;b<H;b++)for(te=this._parts[b],E=0,$=te.length,z=$-1;E<$;z=E++)if(!(!m&&E===0)&&xd(u,te[z],te[E])<=ie)return!0;return!1}});function U3(u,m){return new ua(u,m)}ua._flat=At;var Xc=ua.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var m=ua.prototype._convertLatLngs.call(this,u),b=m.length;return b>=2&&m[0]instanceof fe&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(u){ua.prototype._setLatLngs.call(this,u),xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,m=this.options.weight,b=new U(m,m);if(u=new se(u.min.subtract(b),u.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var E=0,z=this._rings.length,H;E<z;E++)H=md(this._rings[E],u,!0),H.length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var m=!1,b,E,z,H,$,te,ie,de;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(H=0,ie=this._parts.length;H<ie;H++)for(b=this._parts[H],$=0,de=b.length,te=de-1;$<de;te=$++)E=b[$],z=b[te],E.y>u.y!=z.y>u.y&&u.x<(z.x-E.x)*(u.y-E.y)/(z.y-E.y)+E.x&&(m=!m);return m||ua.prototype._containsPoint.call(this,u,!0)}});function W3(u,m){return new Xc(u,m)}var ha=ca.extend({initialize:function(u,m){v(this,m),this._layers={},u&&this.addData(u)},addData:function(u){var m=A(u)?u:u.features,b,E,z;if(m){for(b=0,E=m.length;b<E;b++)z=m[b],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var H=this.options;if(H.filter&&!H.filter(u))return this;var $=bp(u,H);return $?($.feature=Sp(u),$.defaultOptions=$.options,this.resetStyle($),H.onEachFeature&&H.onEachFeature(u,$),this.addLayer($)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(m){this._setLayerStyle(m,u)},this)},_setLayerStyle:function(u,m){u.setStyle&&(typeof m=="function"&&(m=m(u.feature)),u.setStyle(m))}});function bp(u,m){var b=u.type==="Feature"?u.geometry:u,E=b?b.coordinates:null,z=[],H=m&&m.pointToLayer,$=m&&m.coordsToLatLng||zy,te,ie,de,Ae;if(!E&&!b)return null;switch(b.type){case"Point":return te=$(E),rC(H,u,te,m);case"MultiPoint":for(de=0,Ae=E.length;de<Ae;de++)te=$(E[de]),z.push(rC(H,u,te,m));return new ca(z);case"LineString":case"MultiLineString":return ie=wp(E,b.type==="LineString"?0:1,$),new ua(ie,m);case"Polygon":case"MultiPolygon":return ie=wp(E,b.type==="Polygon"?1:2,$),new Xc(ie,m);case"GeometryCollection":for(de=0,Ae=b.geometries.length;de<Ae;de++){var Fe=bp({geometry:b.geometries[de],type:"Feature",properties:u.properties},m);Fe&&z.push(Fe)}return new ca(z);case"FeatureCollection":for(de=0,Ae=b.features.length;de<Ae;de++){var it=bp(b.features[de],m);it&&z.push(it)}return new ca(z);default:throw new Error("Invalid GeoJSON object.")}}function rC(u,m,b,E){return u?u(m,b):new xp(b,E&&E.markersInheritOptions&&E)}function zy(u){return new fe(u[1],u[0],u[2])}function wp(u,m,b){for(var E=[],z=0,H=u.length,$;z<H;z++)$=m?wp(u[z],m-1,b):(b||zy)(u[z]),E.push($);return E}function Fy(u,m){return u=oe(u),u.alt!==void 0?[g(u.lng,m),g(u.lat,m),g(u.alt,m)]:[g(u.lng,m),g(u.lat,m)]}function _p(u,m,b,E){for(var z=[],H=0,$=u.length;H<$;H++)z.push(m?_p(u[H],xt(u[H])?0:m-1,b,E):Fy(u[H],E));return!m&&b&&z.length>0&&z.push(z[0].slice()),z}function Gc(u,m){return u.feature?i({},u.feature,{geometry:m}):Sp(m)}function Sp(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var By={toGeoJSON:function(u){return Gc(this,{type:"Point",coordinates:Fy(this.getLatLng(),u)})}};xp.include(By),Dy.include(By),yp.include(By),ua.include({toGeoJSON:function(u){var m=!xt(this._latlngs),b=_p(this._latlngs,m?1:0,!1,u);return Gc(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),Xc.include({toGeoJSON:function(u){var m=!xt(this._latlngs),b=m&&!xt(this._latlngs[0]),E=_p(this._latlngs,b?2:m?1:0,!0,u);return m||(E=[E]),Gc(this,{type:(b?"Multi":"")+"Polygon",coordinates:E})}}),Wc.include({toMultiPoint:function(u){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(u).geometry.coordinates)}),Gc(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(u){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(u);var b=m==="GeometryCollection",E=[];return this.eachLayer(function(z){if(z.toGeoJSON){var H=z.toGeoJSON(u);if(b)E.push(H.geometry);else{var $=Sp(H);$.type==="FeatureCollection"?E.push.apply(E,$.features):E.push($)}}}),b?Gc(this,{geometries:E,type:"GeometryCollection"}):{type:"FeatureCollection",features:E}}});function aC(u,m){return new ha(u,m)}var Y3=aC,Ap=Zi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,m,b){this._url=u,this._bounds=ae(m),v(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&di(this._image),this},bringToBack:function(){return this._map&&fi(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=ae(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",m=this._image=u?this._url:ht("img");if(Te(m,"leaflet-image-layer"),this._zoomAnimated&&Te(m,"leaflet-zoom-animated"),this.options.className&&Te(m,this.options.className),m.onselectstart=f,m.onmousemove=f,m.onload=a(this.fire,this,"load"),m.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(u){var m=this._map.getZoomScale(u.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;ra(this._image,b,m)},_reset:function(){var u=this._image,m=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();Qt(u,m.min),u.style.width=b.x+"px",u.style.height=b.y+"px"},_updateOpacity:function(){bs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),X3=function(u,m,b){return new Ap(u,m,b)},oC=Ap.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",m=this._image=u?this._url:ht("video");if(Te(m,"leaflet-image-layer"),this._zoomAnimated&&Te(m,"leaflet-zoom-animated"),this.options.className&&Te(m,this.options.className),m.onselectstart=f,m.onmousemove=f,m.onloadeddata=a(this.fire,this,"load"),u){for(var b=m.getElementsByTagName("source"),E=[],z=0;z<b.length;z++)E.push(b[z].src);this._url=b.length>0?E:[m.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var $=ht("source");$.src=this._url[H],m.appendChild($)}}});function G3(u,m,b){return new oC(u,m,b)}var lC=Ap.extend({_initImage:function(){var u=this._image=this._url;Te(u,"leaflet-image-layer"),this._zoomAnimated&&Te(u,"leaflet-zoom-animated"),this.options.className&&Te(u,this.options.className),u.onselectstart=f,u.onmousemove=f}});function $3(u,m,b){return new lC(u,m,b)}var Ar=Zi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,m){u&&(u instanceof fe||A(u))?(this._latlng=oe(u),v(this,m)):(v(this,u),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&bs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&bs(this._container,1),this.bringToFront(),this.options.interactive&&(Te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(bs(this._container,0),this._removeTimeout=setTimeout(a(vt,void 0,this._container),200)):vt(this._container),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=oe(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&di(this._container),this},bringToBack:function(){return this._map&&fi(this._container),this},_prepareOpen:function(u){var m=this._source;if(!m._map)return!1;if(m instanceof ca){m=null;var b=this._source._layers;for(var E in b)if(b[E]._map){m=b[E];break}if(!m)return!1;this._source=m}if(!u)if(m.getCenter)u=m.getCenter();else if(m.getLatLng)u=m.getLatLng();else if(m.getBounds)u=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")u.innerHTML=m;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),m=Q(this.options.offset),b=this._getAnchor();this._zoomAnimated?Qt(this._container,u.add(b)):m=m.add(u).add(b);var E=this._containerBottom=-m.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=E+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(u,m,b,E){var z=m;return z instanceof u||(z=new u(E).setContent(m)),b&&z.setLatLng(b),z}}),Zi.include({_initOverlay:function(u,m,b,E){var z=b;return z instanceof u?(v(z,E),z._source=this):(z=m&&!E?m:new u(E,this),z.setContent(b)),z}});var Cp=Ar.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Ar.prototype.openOn.call(this,u)},onAdd:function(u){Ar.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ja||this._source.on("preclick",St))},onRemove:function(u){Ar.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ja||this._source.off("preclick",St))},getEvents:function(){var u=Ar.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",m=this._container=ht("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=ht("div",u+"-content-wrapper",m);if(this._contentNode=ht("div",u+"-content",b),xl(m),ld(this._contentNode),Ue(m,"contextmenu",St),this._tipContainer=ht("div",u+"-tip-container",m),this._tip=ht("div",u+"-tip",this._tipContainer),this.options.closeButton){var E=this._closeButton=ht("a",u+"-close-button",m);E.setAttribute("role","button"),E.setAttribute("aria-label","Close popup"),E.href="#close",E.innerHTML='<span aria-hidden="true">&#215;</span>',Ue(E,"click",function(z){dn(z),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,m=u.style;m.width="",m.whiteSpace="nowrap";var b=u.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var E=u.offsetHeight,z=this.options.maxHeight,H="leaflet-popup-scrolled";z&&E>z?(m.height=z+"px",Te(u,H)):Dt(u,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),b=this._getAnchor();Qt(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,m=parseInt(qa(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,E=this._containerWidth,z=new U(this._containerLeft,-b-this._containerBottom);z._add(aa(this._container));var H=u.layerPointToContainerPoint(z),$=Q(this.options.autoPanPadding),te=Q(this.options.autoPanPaddingTopLeft||$),ie=Q(this.options.autoPanPaddingBottomRight||$),de=u.getSize(),Ae=0,Fe=0;H.x+E+ie.x>de.x&&(Ae=H.x+E-de.x+ie.x),H.x-Ae-te.x<0&&(Ae=H.x-te.x),H.y+b+ie.y>de.y&&(Fe=H.y+b-de.y+ie.y),H.y-Fe-te.y<0&&(Fe=H.y-te.y),(Ae||Fe)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Ae,Fe]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),q3=function(u,m){return new Cp(u,m)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(u,m,b){return this._initOverlay(Cp,u,m,b).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Zi.include({bindPopup:function(u,m){return this._popup=this._initOverlay(Cp,this._popup,u,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ca||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){yr(u);var m=u.layer||u.target;if(this._popup._source===m&&!(m instanceof Ja)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=m,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Tp=Ar.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Ar.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Ar.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Ar.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",m=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var m,b,E=this._map,z=this._container,H=E.latLngToContainerPoint(E.getCenter()),$=E.layerPointToContainerPoint(u),te=this.options.direction,ie=z.offsetWidth,de=z.offsetHeight,Ae=Q(this.options.offset),Fe=this._getAnchor();te==="top"?(m=ie/2,b=de):te==="bottom"?(m=ie/2,b=0):te==="center"?(m=ie/2,b=de/2):te==="right"?(m=0,b=de/2):te==="left"?(m=ie,b=de/2):$.x<H.x?(te="right",m=0,b=de/2):(te="left",m=ie+(Ae.x+Fe.x)*2,b=de/2),u=u.subtract(Q(m,b,!0)).add(Ae).add(Fe),Dt(z,"leaflet-tooltip-right"),Dt(z,"leaflet-tooltip-left"),Dt(z,"leaflet-tooltip-top"),Dt(z,"leaflet-tooltip-bottom"),Te(z,"leaflet-tooltip-"+te),Qt(z,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&bs(this._container,u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(m)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Z3=function(u,m){return new Tp(u,m)};st.include({openTooltip:function(u,m,b){return this._initOverlay(Tp,u,m,b).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Zi.include({bindTooltip:function(u,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Tp,this._tooltip,u,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var m=u?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ca||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&(Ue(m,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),Ue(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var m=u.latlng,b,E;this._tooltip.options.sticky&&u.originalEvent&&(b=this._map.mouseEventToContainerPoint(u.originalEvent),E=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(E)),this._tooltip.setLatLng(m)}});var cC=Yc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var m=u&&u.tagName==="DIV"?u:document.createElement("div"),b=this.options;if(b.html instanceof Element?(rs(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var E=Q(b.bgPos);m.style.backgroundPosition=-E.x+"px "+-E.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function K3(u){return new cC(u)}Yc.Default=yd;var bd=Zi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){v(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),vt(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof U?u:new U(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var m=this.getPane().children,b=-u(-1/0,1/0),E=0,z=m.length,H;E<z;E++)H=m[E].style.zIndex,m[E]!==this._container&&H&&(b=u(b,+H));isFinite(b)&&(this.options.zIndex=b+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){bs(this._container,this.options.opacity);var u=+new Date,m=!1,b=!1;for(var E in this._tiles){var z=this._tiles[E];if(!(!z.current||!z.loaded)){var H=Math.min(1,(u-z.loaded)/200);bs(z.el,H),H<1?m=!0:(z.active?b=!0:this._onOpaqueTile(z),z.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(F(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,m=this.options.maxZoom;if(u!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===u?(this._levels[b].el.style.zIndex=m-Math.abs(u-b),this._onUpdateLevel(b)):(vt(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var E=this._levels[u],z=this._map;return E||(E=this._levels[u]={},E.el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),E.el.style.zIndex=m,E.origin=z.project(z.unproject(z.getPixelOrigin()),u).round(),E.zoom=u,this._setZoomTransform(E,z.getCenter(),z.getZoom()),f(E.el.offsetWidth),this._onCreateLevel(E)),this._level=E,E}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var u,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)m=this._tiles[u],m.retain=m.current;for(u in this._tiles)if(m=this._tiles[u],m.current&&!m.active){var E=m.coords;this._retainParent(E.x,E.y,E.z,E.z-5)||this._retainChildren(E.x,E.y,E.z,E.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var m in this._tiles)this._tiles[m].coords.z===u&&this._removeTile(m)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)vt(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,m,b,E){var z=Math.floor(u/2),H=Math.floor(m/2),$=b-1,te=new U(+z,+H);te.z=+$;var ie=this._tileCoordsToKey(te),de=this._tiles[ie];return de&&de.active?(de.retain=!0,!0):(de&&de.loaded&&(de.retain=!0),$>E?this._retainParent(z,H,$,E):!1)},_retainChildren:function(u,m,b,E){for(var z=2*u;z<2*u+2;z++)for(var H=2*m;H<2*m+2;H++){var $=new U(z,H);$.z=b+1;var te=this._tileCoordsToKey($),ie=this._tiles[te];if(ie&&ie.active){ie.retain=!0;continue}else ie&&ie.loaded&&(ie.retain=!0);b+1<E&&this._retainChildren(z,H,b+1,E)}},_resetView:function(u){var m=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var m=this.options;return m.minNativeZoom!==void 0&&u<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<u?m.maxNativeZoom:u},_setView:function(u,m,b,E){var z=Math.round(m);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var H=this.options.updateWhenZooming&&z!==this._tileZoom;(!E||H)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(u),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(u,m)},_setZoomTransforms:function(u,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],u,m)},_setZoomTransform:function(u,m,b){var E=this._map.getZoomScale(b,u.zoom),z=u.origin.multiplyBy(E).subtract(this._map._getNewPixelOrigin(m,b)).round();ke.any3d?ra(u.el,z,E):Qt(u.el,z)},_resetGrid:function(){var u=this._map,m=u.options.crs,b=this._tileSize=this.getTileSize(),E=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,m.wrapLng[0]],E).x/b.x),Math.ceil(u.project([0,m.wrapLng[1]],E).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([m.wrapLat[0],0],E).y/b.x),Math.ceil(u.project([m.wrapLat[1],0],E).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),E=m.getZoomScale(b,this._tileZoom),z=m.project(u,this._tileZoom).floor(),H=m.getSize().divideBy(E*2);return new se(z.subtract(H),z.add(H))},_update:function(u){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(u===void 0&&(u=m.getCenter()),this._tileZoom!==void 0){var E=this._getTiledPixelBounds(u),z=this._pxBoundsToTileRange(E),H=z.getCenter(),$=[],te=this.options.keepBuffer,ie=new se(z.getBottomLeft().subtract([te,-te]),z.getTopRight().add([te,-te]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var de in this._tiles){var Ae=this._tiles[de].coords;(Ae.z!==this._tileZoom||!ie.contains(new U(Ae.x,Ae.y)))&&(this._tiles[de].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(u,b);return}for(var Fe=z.min.y;Fe<=z.max.y;Fe++)for(var it=z.min.x;it<=z.max.x;it++){var os=new U(it,Fe);if(os.z=this._tileZoom,!!this._isValidTile(os)){var kn=this._tiles[this._tileCoordsToKey(os)];kn?kn.current=!0:$.push(os)}}if($.sort(function(_s,qc){return _s.distanceTo(H)-qc.distanceTo(H)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vi=document.createDocumentFragment();for(it=0;it<$.length;it++)this._addTile($[it],vi);this._level.el.appendChild(vi)}}}},_isValidTile:function(u){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(u.x<b.min.x||u.x>b.max.x)||!m.wrapLat&&(u.y<b.min.y||u.y>b.max.y))return!1}if(!this.options.bounds)return!0;var E=this._tileCoordsToBounds(u);return ae(this.options.bounds).overlaps(E)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var m=this._map,b=this.getTileSize(),E=u.scaleBy(b),z=E.add(b),H=m.unproject(E,u.z),$=m.unproject(z,u.z);return[H,$]},_tileCoordsToBounds:function(u){var m=this._tileCoordsToNwSe(u),b=new he(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var m=u.split(":"),b=new U(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(u){var m=this._tiles[u];m&&(vt(m.el),delete this._tiles[u],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Te(u,"leaflet-tile");var m=this.getTileSize();u.style.width=m.x+"px",u.style.height=m.y+"px",u.onselectstart=f,u.onmousemove=f,ke.ielt9&&this.options.opacity<1&&bs(u,this.options.opacity)},_addTile:function(u,m){var b=this._getTilePos(u),E=this._tileCoordsToKey(u),z=this.createTile(this._wrapCoords(u),a(this._tileReady,this,u));this._initTile(z),this.createTile.length<2&&D(a(this._tileReady,this,u,null,z)),Qt(z,b),this._tiles[E]={el:z,coords:u,current:!0},m.appendChild(z),this.fire("tileloadstart",{tile:z,coords:u})},_tileReady:function(u,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:u});var E=this._tileCoordsToKey(u);b=this._tiles[E],b&&(b.loaded=+new Date,this._map._fadeAnimated?(bs(b.el,0),F(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(Te(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var m=new U(this._wrapX?h(u.x,this._wrapX):u.x,this._wrapY?h(u.y,this._wrapY):u.y);return m.z=u.z,m},_pxBoundsToTileRange:function(u){var m=this.getTileSize();return new se(u.min.unscaleBy(m).floor(),u.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Q3(u){return new bd(u)}var $c=bd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,m){this._url=u,m=v(this,m),m.detectRetina&&ke.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,m){return this._url===u&&m===void 0&&(m=!0),this._url=u,m||this.redraw(),this},createTile:function(u,m){var b=document.createElement("img");return Ue(b,"load",a(this._tileOnLoad,this,m,b)),Ue(b,"error",a(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(u),b},getTileUrl:function(u){var m={r:ke.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-u.y;this.options.tms&&(m.y=b),m["-y"]=b}return S(this._url,i(m,this.options))},_tileOnLoad:function(u,m){ke.ielt9?setTimeout(a(u,this,null,m),0):u(null,m)},_tileOnError:function(u,m,b){var E=this.options.errorTileUrl;E&&m.getAttribute("src")!==E&&(m.src=E),u(b,m)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,E=this.options.zoomOffset;return b&&(u=m-u),u+E},_getSubdomain:function(u){var m=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var u,m;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(m=this._tiles[u].el,m.onload=f,m.onerror=f,!m.complete)){m.src=N;var b=this._tiles[u].coords;vt(m),delete this._tiles[u],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(u){var m=this._tiles[u];if(m)return m.el.setAttribute("src",N),bd.prototype._removeTile.call(this,u)},_tileReady:function(u,m,b){if(!(!this._map||b&&b.getAttribute("src")===N))return bd.prototype._tileReady.call(this,u,m,b)}});function uC(u,m){return new $c(u,m)}var hC=$c.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,m){this._url=u;var b=i({},this.defaultWmsParams);for(var E in m)E in this.options||(b[E]=m[E]);m=v(this,m);var z=m.detectRetina&&ke.retina?2:1,H=this.getTileSize();b.width=H.x*z,b.height=H.y*z,this.wmsParams=b},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,$c.prototype.onAdd.call(this,u)},getTileUrl:function(u){var m=this._tileCoordsToNwSe(u),b=this._crs,E=q(b.project(m[0]),b.project(m[1])),z=E.min,H=E.max,$=(this._wmsVersion>=1.3&&this._crs===Uc?[z.y,z.x,H.y,H.x]:[z.x,z.y,H.x,H.y]).join(","),te=$c.prototype.getTileUrl.call(this,u);return te+_(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(u,m){return i(this.wmsParams,u),m||this.redraw(),this}});function J3(u,m){return new hC(u,m)}$c.WMS=hC,uC.wms=J3;var da=Zi.extend({options:{padding:.1},initialize:function(u){v(this,u),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,m){var b=this._map.getZoomScale(m,this._zoom),E=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,m),H=E.multiplyBy(-b).add(z).subtract(this._map._getNewPixelOrigin(u,m));ke.any3d?ra(this._container,H,b):Qt(this._container,H)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-u)).round();this._bounds=new se(b,b.add(m.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dC=da.extend({options:{tolerance:0},getEvents:function(){var u=da.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){da.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");Ue(u,"mousemove",this._onMouseMove,this),Ue(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ue(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,vt(this._container),Et(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var m in this._layers)u=this._layers[m],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){da.prototype._update.call(this);var u=this._bounds,m=this._container,b=u.getSize(),E=ke.retina?2:1;Qt(m,u.min),m.width=E*b.x,m.height=E*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){da.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[l(u)]=u;var m=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var m=u._order,b=m.next,E=m.prev;b?b.prev=E:this._drawLast=E,E?E.next=b:this._drawFirst=b,delete u._order,delete this._layers[l(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var m=u.options.dashArray.split(/[, ]+/),b=[],E,z;for(z=0;z<m.length;z++){if(E=Number(m[z]),isNaN(E))return;b.push(E)}u.options._dashArray=b}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var m=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(u._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(u._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var m=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var E=this._drawFirst;E;E=E.next)u=E.layer,(!m||u._pxBounds&&u._pxBounds.intersects(m))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,m){if(this._drawing){var b,E,z,H,$=u._parts,te=$.length,ie=this._ctx;if(te){for(ie.beginPath(),b=0;b<te;b++){for(E=0,z=$[b].length;E<z;E++)H=$[b][E],ie[E?"lineTo":"moveTo"](H.x,H.y);m&&ie.closePath()}this._fillStroke(ie,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var m=u._point,b=this._ctx,E=Math.max(Math.round(u._radius),1),z=(Math.max(Math.round(u._radiusY),1)||E)/E;z!==1&&(b.save(),b.scale(1,z)),b.beginPath(),b.arc(m.x,m.y/z,E,0,Math.PI*2,!1),z!==1&&b.restore(),this._fillStroke(b,u)}},_fillStroke:function(u,m){var b=m.options;b.fill&&(u.globalAlpha=b.fillOpacity,u.fillStyle=b.fillColor||b.color,u.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(u.setLineDash&&u.setLineDash(m.options&&m.options._dashArray||[]),u.globalAlpha=b.opacity,u.lineWidth=b.weight,u.strokeStyle=b.color,u.lineCap=b.lineCap,u.lineJoin=b.lineJoin,u.stroke())},_onClick:function(u){for(var m=this._map.mouseEventToLayerPoint(u),b,E,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(m)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(b))&&(E=b);this._fireEvent(E?[E]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,m)}},_handleMouseOut:function(u){var m=this._hoveredLayer;m&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([m],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,m){if(!this._mouseHoverThrottled){for(var b,E,z=this._drawFirst;z;z=z.next)b=z.layer,b.options.interactive&&b._containsPoint(m)&&(E=b);E!==this._hoveredLayer&&(this._handleMouseOut(u),E&&(Te(this._container,"leaflet-interactive"),this._fireEvent([E],u,"mouseover"),this._hoveredLayer=E)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,m,b){this._map._fireDOMEvent(m,b||m.type,u)},_bringToFront:function(u){var m=u._order;if(m){var b=m.next,E=m.prev;if(b)b.prev=E;else return;E?E.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(u)}},_bringToBack:function(u){var m=u._order;if(m){var b=m.next,E=m.prev;if(E)E.next=b;else return;b?b.prev=E:E&&(this._drawLast=E),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(u)}}});function fC(u){return ke.canvas?new dC(u):null}var wd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),e6={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(da.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var m=u._container=wd("shape");Te(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",u._path=wd("path"),m.appendChild(u._path),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){var m=u._container;this._container.appendChild(m),u.options.interactive&&u.addInteractiveTarget(m)},_removePath:function(u){var m=u._container;vt(m),u.removeInteractiveTarget(m),delete this._layers[l(u)]},_updateStyle:function(u){var m=u._stroke,b=u._fill,E=u.options,z=u._container;z.stroked=!!E.stroke,z.filled=!!E.fill,E.stroke?(m||(m=u._stroke=wd("stroke")),z.appendChild(m),m.weight=E.weight+"px",m.color=E.color,m.opacity=E.opacity,E.dashArray?m.dashStyle=A(E.dashArray)?E.dashArray.join(" "):E.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=E.lineCap.replace("butt","flat"),m.joinstyle=E.lineJoin):m&&(z.removeChild(m),u._stroke=null),E.fill?(b||(b=u._fill=wd("fill")),z.appendChild(b),b.color=E.fillColor||E.color,b.opacity=E.fillOpacity):b&&(z.removeChild(b),u._fill=null)},_updateCircle:function(u){var m=u._point.round(),b=Math.round(u._radius),E=Math.round(u._radiusY||b);this._setPath(u,u._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+E+" 0,"+65535*360)},_setPath:function(u,m){u._path.v=m},_bringToFront:function(u){di(u._container)},_bringToBack:function(u){fi(u._container)}},Ep=ke.vml?wd:oi,_d=da.extend({_initContainer:function(){this._container=Ep("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ep("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vt(this._container),Et(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){da.prototype._update.call(this);var u=this._bounds,m=u.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),Qt(b,u.min),b.setAttribute("viewBox",[u.min.x,u.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(u){var m=u._path=Ep("path");u.options.className&&Te(m,u.options.className),u.options.interactive&&Te(m,"leaflet-interactive"),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){vt(u._path),u.removeInteractiveTarget(u._path),delete this._layers[l(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var m=u._path,b=u.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(u,m){this._setPath(u,zs(u._parts,m))},_updateCircle:function(u){var m=u._point,b=Math.max(Math.round(u._radius),1),E=Math.max(Math.round(u._radiusY),1)||b,z="a"+b+","+E+" 0 1,0 ",H=u._empty()?"M0 0":"M"+(m.x-b)+","+m.y+z+b*2+",0 "+z+-b*2+",0 ";this._setPath(u,H)},_setPath:function(u,m){u._path.setAttribute("d",m)},_bringToFront:function(u){di(u._path)},_bringToBack:function(u){fi(u._path)}});ke.vml&&_d.include(e6);function gC(u){return ke.svg||ke.vml?new _d(u):null}st.include({getRenderer:function(u){var m=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var m=this._paneRenderers[u];return m===void 0&&(m=this._createRenderer({pane:u}),this._paneRenderers[u]=m),m},_createRenderer:function(u){return this.options.preferCanvas&&fC(u)||gC(u)}});var pC=Xc.extend({initialize:function(u,m){Xc.prototype.initialize.call(this,this._boundsToLatLngs(u),m)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=ae(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function t6(u,m){return new pC(u,m)}_d.create=Ep,_d.pointsToPath=zs,ha.geometryToLayer=bp,ha.coordsToLatLng=zy,ha.coordsToLatLngs=wp,ha.latLngToCoords=Fy,ha.latLngsToCoords=_p,ha.getFeature=Gc,ha.asFeature=Sp,st.mergeOptions({boxZoom:!0});var mC=Ws.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gi(),Mc(),this._startPoint=this._map.mouseEventToContainerPoint(u),Ue(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),Te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var m=new se(this._point,this._startPoint),b=m.getSize();Qt(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(vt(this._box),Dt(this._container,"leaflet-crosshair")),Us(),jc(),Et(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var m=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",mC),st.mergeOptions({doubleClickZoom:!0});var vC=Ws.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var m=this._map,b=m.getZoom(),E=m.options.zoomDelta,z=u.originalEvent.shiftKey?b-E:b+E;m.options.doubleClickZoom==="center"?m.setZoom(z):m.setZoomAround(u.containerPoint,z)}});st.addInitHook("addHandler","doubleClickZoom",vC),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xC=Ws.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new $i(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dt(this._map._container,"leaflet-grab"),Dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=ae(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,m){return u-(u-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;u.x<m.min.x&&(u.x=this._viscousLimit(u.x,m.min.x)),u.y<m.min.y&&(u.y=this._viscousLimit(u.y,m.min.y)),u.x>m.max.x&&(u.x=this._viscousLimit(u.x,m.max.x)),u.y>m.max.y&&(u.y=this._viscousLimit(u.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,m=Math.round(u/2),b=this._initialWorldOffset,E=this._draggable._newPos.x,z=(E-m+b)%u+m-b,H=(E+m+b)%u-m-b,$=Math.abs(z+b)<Math.abs(H+b)?z:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(u){var m=this._map,b=m.options,E=!b.inertia||u.noInertia||this._times.length<2;if(m.fire("dragend",u),E)m.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),H=(this._lastTime-this._times[0])/1e3,$=b.easeLinearity,te=z.multiplyBy($/H),ie=te.distanceTo([0,0]),de=Math.min(b.inertiaMaxSpeed,ie),Ae=te.multiplyBy(de/ie),Fe=de/(b.inertiaDeceleration*$),it=Ae.multiplyBy(-Fe/2).round();!it.x&&!it.y?m.fire("moveend"):(it=m._limitOffset(it,m.options.maxBounds),D(function(){m.panBy(it,{duration:Fe,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",xC),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yC=Ws.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),Ue(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Et(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,m=document.documentElement,b=u.scrollTop||m.scrollTop,E=u.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(E,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var m=this._panKeys={},b=this.keyCodes,E,z;for(E=0,z=b.left.length;E<z;E++)m[b.left[E]]=[-1*u,0];for(E=0,z=b.right.length;E<z;E++)m[b.right[E]]=[u,0];for(E=0,z=b.down.length;E<z;E++)m[b.down[E]]=[0,u];for(E=0,z=b.up.length;E<z;E++)m[b.up[E]]=[0,-1*u]},_setZoomDelta:function(u){var m=this._zoomKeys={},b=this.keyCodes,E,z;for(E=0,z=b.zoomIn.length;E<z;E++)m[b.zoomIn[E]]=u;for(E=0,z=b.zoomOut.length;E<z;E++)m[b.zoomOut[E]]=-u},_addHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var m=u.keyCode,b=this._map,E;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(E=this._panKeys[m],u.shiftKey&&(E=Q(E).multiplyBy(3)),b.options.maxBounds&&(E=b._limitOffset(Q(E),b.options.maxBounds)),b.options.worldCopyJump){var z=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(E)));b.panTo(z)}else b.panBy(E)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;yr(u)}}});st.addInitHook("addHandler","keyboard",yC),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bC=Ws.extend({addHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var m=ud(u),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var E=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),E),yr(u)},_performZoom:function(){var u=this._map,m=u.getZoom(),b=this._map.options.zoomSnap||0;u._stop();var E=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(E))))/Math.LN2,H=b?Math.ceil(z/b)*b:z,$=u._limitZoom(m+(this._delta>0?H:-H))-m;this._delta=0,this._startTime=null,$&&(u.options.scrollWheelZoom==="center"?u.setZoom(m+$):u.setZoomAround(this._lastMousePos,m+$))}});st.addInitHook("addHandler","scrollWheelZoom",bC);var n6=600;st.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var wC=Ws.extend({addHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var m=u.touches[0];this._startPos=this._newPos=new U(m.clientX,m.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ue(document,"touchend",dn),Ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),n6),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Et(document,"touchend",dn),Et(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)},_onMove:function(u){var m=u.touches[0];this._newPos=new U(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,m){var b=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});st.addInitHook("addHandler","tapHold",wC),st.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var _C=Ws.extend({addHooks:function(){Te(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var m=this._map;if(!(!u.touches||u.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(u.touches[0]),E=m.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(E)._divideBy(2))),this._startDist=b.distanceTo(E),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),dn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(u.touches[0]),E=m.mouseEventToContainerPoint(u.touches[1]),z=b.distanceTo(E)/this._startDist;if(this._zoom=m.getScaleZoom(z,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&z<1||this._zoom>m.getMaxZoom()&&z>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var H=b._add(E)._divideBy(2)._subtract(this._centerPoint);if(z===1&&H.x===0&&H.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var $=a(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D($,this,!0),dn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",_C),st.BoxZoom=mC,st.DoubleClickZoom=vC,st.Drag=xC,st.Keyboard=yC,st.ScrollWheelZoom=bC,st.TapHold=wC,st.TouchZoom=_C,t.Bounds=se,t.Browser=ke,t.CRS=re,t.Canvas=dC,t.Circle=Dy,t.CircleMarker=yp,t.Class=G,t.Control=ws,t.DivIcon=cC,t.DivOverlay=Ar,t.DomEvent=bl,t.DomUtil=Oy,t.Draggable=$i,t.Evented=Z,t.FeatureGroup=ca,t.GeoJSON=ha,t.GridLayer=bd,t.Handler=Ws,t.Icon=Yc,t.ImageOverlay=Ap,t.LatLng=fe,t.LatLngBounds=he,t.Layer=Zi,t.LayerGroup=Wc,t.LineUtil=pi,t.Map=st,t.Marker=xp,t.Mixin=mp,t.Path=Ja,t.Point=U,t.PolyUtil=Vc,t.Polygon=Xc,t.Polyline=ua,t.Popup=Cp,t.PosAnimation=dd,t.Projection=Sr,t.Rectangle=pC,t.Renderer=da,t.SVG=_d,t.SVGOverlay=lC,t.TileLayer=$c,t.Tooltip=Tp,t.Transformation=je,t.Util=V,t.VideoOverlay=oC,t.bind=a,t.bounds=q,t.canvas=fC,t.circle=H3,t.circleMarker=V3,t.control=wr,t.divIcon=K3,t.extend=i,t.featureGroup=z3,t.geoJSON=aC,t.geoJson=Y3,t.gridLayer=Q3,t.icon=F3,t.imageOverlay=X3,t.latLng=oe,t.latLngBounds=ae,t.layerGroup=D3,t.map=Dc,t.marker=B3,t.point=Q,t.polygon=W3,t.polyline=U3,t.popup=q3,t.rectangle=t6,t.setOptions=v,t.stamp=l,t.svg=gC,t.svgOverlay=$3,t.tileLayer=uC,t.tooltip=Z3,t.transformation=Je,t.version=s,t.videoOverlay=G3;var s6=window.L;t.noConflict=function(){return window.L=s6,this},window.L=t})})(Q_,Q_.exports);var Jh=Q_.exports;const k3=J_(Jh);function Iy(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function My(n,e){return e==null?function(s,i){const r=R.useRef(void 0);return r.current||(r.current=n(s,i)),r}:function(s,i){const r=R.useRef(void 0);r.current||(r.current=n(s,i));const a=R.useRef(s),{instance:o}=r.current;return R.useEffect(function(){a.current!==s&&(e(o,s,a.current),a.current=s)},[o,s,e]),r}}function N3(n,e){R.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function R3(n){return function(t){const s=Ry(),i=n(Py(t,s),s);return C3(s.map,t.attribution),sC(i.current,t.eventHandlers),N3(i.current,s),i}}function Jse(n,e){const t=R.useRef(void 0);R.useEffect(function(){if(e.pathOptions!==t.current){const i=e.pathOptions??{};n.instance.setStyle(i),t.current=i}},[n,e])}function eie(n){return function(t){const s=Ry(),i=n(Py(t,s),s);return sC(i.current,t.eventHandlers),N3(i.current,s),Jse(i.current,t),i}}function tie(n,e){const t=My(n,e),s=R3(t);return E3(s)}function nie(n,e){const t=My(n),s=Qse(t,e);return Zse(s)}function sie(n,e){const t=My(n,e),s=eie(t);return E3(s)}function iie(n,e){const t=My(n,e),s=R3(t);return Kse(s)}function rie(n,e,t){const{opacity:s,zIndex:i}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),i!=null&&i!==t.zIndex&&n.setZIndex(i)}function aie(){return Ry().map}function oie(n){const e=aie();return R.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function lie({bounds:n,boundsOptions:e,center:t,children:s,className:i,id:r,placeholder:a,style:o,whenReady:l,zoom:c,...h},f){const[g]=R.useState({className:i,id:r,style:o}),[p,x]=R.useState(null),v=R.useRef(void 0);R.useImperativeHandle(f,()=>p?.map??null,[p]);const _=R.useCallback(S=>{if(S!==null&&!v.current){const A=new Jh.Map(S,h);v.current=A,t!=null&&c!=null?A.setView(t,c):n!=null&&A.fitBounds(n,e),l!=null&&A.whenReady(l),x(qse(A))}},[]);R.useEffect(()=>()=>{p?.map.remove()},[p]);const w=p?ve.createElement(nC,{value:p},s):a??null;return ve.createElement("div",{...g,ref:_},w)}const cie=R.forwardRef(lie),oN=tie(function({position:e,...t},s){const i=new Jh.Marker(e,t);return Iy(i,T3(s,{overlayContainer:i}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),b0=sie(function({positions:e,...t},s){const i=new Jh.Polyline(e,t);return Iy(i,T3(s,{overlayContainer:i}))},function(e,t,s){t.positions!==s.positions&&e.setLatLngs(t.positions)}),lN=nie(function(e,t){const s=new Jh.Popup(e,t.overlayContainer);return Iy(s,t)},function(e,t,{position:s},i){R.useEffect(function(){const{instance:a}=e;function o(c){c.popup===a&&(a.update(),i(!0))}function l(c){c.popup===a&&i(!1)}return t.map.on({popupopen:o,popupclose:l}),t.overlayContainer==null?(s!=null&&a.setLatLng(s),a.openOn(t.map)):t.overlayContainer.bindPopup(a),function(){t.map.off({popupopen:o,popupclose:l}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(a)}},[e,t,i,s])}),uie=iie(function({url:e,...t},s){const i=new Jh.TileLayer(e,Py(t,s));return Iy(i,s)},function(e,t,s){rie(e,t,s);const{url:i}=t;i!=null&&i!==s.url&&e.setUrl(i)});var P3={exports:{}};(function(n){var e={};function t(r){return Math.floor(Math.abs(r)+.5)*(r>=0?1:-1)}function s(r,a,o){r=t(r*o),a=t(a*o);var l=(r-a)*2;l<0&&(l=-l-1);for(var c="";l>=32;)c+=String.fromCharCode((32|l&31)+63),l/=32;return c+=String.fromCharCode((l|0)+63),c}e.decode=function(r,a){for(var o=0,l=0,c=0,h=[],f=0,g=0,p=null,x,v,_=Math.pow(10,Number.isInteger(a)?a:5);o<r.length;){p=null,f=1,g=0;do p=r.charCodeAt(o++)-63,g+=(p&31)*f,f*=32;while(p>=32);x=g&1?(-g-1)/2:g/2,f=1,g=0;do p=r.charCodeAt(o++)-63,g+=(p&31)*f,f*=32;while(p>=32);v=g&1?(-g-1)/2:g/2,l+=x,c+=v,h.push([l/_,c/_])}return h},e.encode=function(r,a){if(!r.length)return"";for(var o=Math.pow(10,Number.isInteger(a)?a:5),l=s(r[0][0],0,o)+s(r[0][1],0,o),c=1;c<r.length;c++){var h=r[c],f=r[c-1];l+=s(h[0],f[0],o),l+=s(h[1],f[1],o)}return l};function i(r){for(var a=[],o=0;o<r.length;o++){var l=r[o].slice();a.push([l[1],l[0]])}return a}e.fromGeoJSON=function(r,a){if(r&&r.type==="Feature"&&(r=r.geometry),!r||r.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return e.encode(i(r.coordinates),a)},e.toGeoJSON=function(r,a){var o=e.decode(r,a);return{type:"LineString",coordinates:i(o)}},n.exports&&(n.exports=e)})(P3);var hie=P3.exports;const die=J_(hie),I3=[{shelter_id:"AMR_001",name:"Golden Temple Community Center",lat:31.62,lon:74.8765,capacity:500,available:320,status:"operational",district:"Amritsar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43210"},{shelter_id:"AMR_002",name:"Amritsar Government School",lat:31.634,lon:74.872,capacity:300,available:180,status:"operational",district:"Amritsar",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43211"},{shelter_id:"AMR_003",name:"Jallianwala Bagh Memorial Hall",lat:31.62,lon:74.88,capacity:200,available:150,status:"operational",district:"Amritsar",amenities:["Food","Restrooms"],contact:"+91-98765-43212"},{shelter_id:"LUD_001",name:"Ludhiana Sports Complex",lat:30.901,lon:75.8573,capacity:800,available:450,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43220"},{shelter_id:"LUD_002",name:"Guru Nanak Dev Engineering College",lat:30.92,lon:75.85,capacity:400,available:280,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43221"},{shelter_id:"LUD_003",name:"Ludhiana Railway Station Shelter",lat:30.9,lon:75.86,capacity:150,available:90,status:"operational",district:"Ludhiana",amenities:["Food","Restrooms"],contact:"+91-98765-43222"},{shelter_id:"JAL_001",name:"Jalandhar City Center",lat:31.326,lon:75.5762,capacity:600,available:380,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43230"},{shelter_id:"JAL_002",name:"Punjab Agricultural University",lat:31.34,lon:75.57,capacity:500,available:320,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43231"},{shelter_id:"PAT_001",name:"Patiala Palace Grounds",lat:30.3398,lon:76.3869,capacity:700,available:420,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43240"},{shelter_id:"PAT_002",name:"Thapar Institute of Engineering",lat:30.35,lon:76.38,capacity:400,available:250,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43241"},{shelter_id:"BAT_001",name:"Bathinda Fort Community Center",lat:30.211,lon:74.9455,capacity:350,available:200,status:"operational",district:"Bathinda",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43250"},{shelter_id:"FIR_001",name:"Firozpur Cantonment Area",lat:30.9167,lon:74.6,capacity:450,available:280,status:"operational",district:"Firozpur",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43260"},{shelter_id:"GUR_001",name:"Gurdaspur Government College",lat:32.04,lon:75.4,capacity:300,available:180,status:"operational",district:"Gurdaspur",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43270"},{shelter_id:"HOS_001",name:"Hoshiarpur Sports Stadium",lat:31.53,lon:75.92,capacity:400,available:250,status:"operational",district:"Hoshiarpur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43280"},{shelter_id:"MOG_001",name:"Moga City Hall",lat:30.81,lon:75.17,capacity:250,available:150,status:"operational",district:"Moga",amenities:["Food","Restrooms"],contact:"+91-98765-43290"},{shelter_id:"SAN_001",name:"Sangrur District Hospital",lat:30.25,lon:75.84,capacity:200,available:120,status:"operational",district:"Sangrur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43300"}],fie=[{id:"FZ_001",name:"Sutlej River Flood Zone",district:"Ludhiana",severity:"high",coordinates:[[30.85,75.8],[30.9,75.85],[30.95,75.9],[30.85,75.95],[30.8,75.9],[30.85,75.8]],affected_roads:["NH-1","State Highway 15","Local Road 23"]},{id:"FZ_002",name:"Beas River Flood Zone",district:"Amritsar",severity:"moderate",coordinates:[[31.6,74.85],[31.65,74.9],[31.7,74.85],[31.65,74.8],[31.6,74.85]],affected_roads:["NH-15","Local Road 45","Village Road 12"]},{id:"FZ_003",name:"Ravi River Flood Zone",district:"Gurdaspur",severity:"critical",coordinates:[[32,75.35],[32.05,75.4],[32.1,75.45],[32.05,75.5],[32,75.45],[32,75.35]],affected_roads:["NH-15","State Highway 20","Local Road 67"]},{id:"FZ_004",name:"Ghaggar River Flood Zone",district:"Patiala",severity:"moderate",coordinates:[[30.3,76.35],[30.35,76.4],[30.4,76.35],[30.35,76.3],[30.3,76.35]],affected_roads:["NH-64","Local Road 89","Village Road 34"]}],gie=[{road_id:"ROAD_001",name:"NH-1 Ludhiana Section",status:"blocked",reason:"Sutlej River flooding",coordinates:[[30.85,75.8],[30.87,75.82],[30.89,75.84]]},{road_id:"ROAD_002",name:"State Highway 15 Amritsar",status:"risky",reason:"Beas River high water level",coordinates:[[31.6,74.85],[31.62,74.87],[31.64,74.89]]},{road_id:"ROAD_003",name:"Local Road 23 Ludhiana",status:"blocked",reason:"Complete submersion",coordinates:[[30.9,75.85],[30.92,75.87],[30.94,75.89]]}],cN=(n,e,t=20)=>I3.filter(s=>pie(n,e,s.lat,s.lon)<=t&&s.status==="operational");function pie(n,e,t,s){const r=(t-n)*Math.PI/180,a=(s-e)*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(n*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}const mie="https://graphhopper.com/api/1/route",vie="ecaf0074-5a6b-4e05-a880-db7db67f193f",xie=n=>die.decode(n).map(([e,t])=>[e,t]);async function yie(n,e,t=[]){try{return(await j$()({start:n,destination:e,blockedEdges:t})).data}catch(o){console.warn("Cloud Functions not available, falling back to direct GraphHopper:",o)}const s=new URL(`${mie}/route`);s.searchParams.set("point",`${n.lat},${n.lon}`),s.searchParams.append("point",`${e.lat},${e.lon}`),s.searchParams.set("profile","car"),s.searchParams.set("locale","en"),s.searchParams.set("points_encoded","true"),s.searchParams.set("instructions","true"),t.length&&s.searchParams.set("block_area",t.join(",")),s.searchParams.set("key",vie);const i=await fetch(s.toString());if(!i.ok)throw new Error(`Routing failed: ${i.status}`);const r=await i.json(),a=r.paths?.[0];if(!a)throw new Error("No route found");return{route:{polyline:a.points,distance_km:a.distance/1e3,duration_min:a.time/6e4,steps:(a.instructions||[]).map(o=>o.text)},warnings:r.info?.warnings||[]}}async function bie(n){try{return(await L$()({lat:n.lat,lon:n.lon,radiusKm:20})).data}catch(s){console.warn("Cloud Functions not available, falling back to local data:",s)}const e=cN(n.lat,n.lon,20);if(e.length===0){const s=cN(n.lat,n.lon,100);if(s.length===0)throw new Error("No shelters available in the area");const i=s[0];return{shelter:{name:i.name,lat:i.lat,lon:i.lon,capacity_available:i.available,shelter_id:i.shelter_id}}}const t=e.sort((s,i)=>i.available-s.available)[0];return{shelter:{name:t.name,lat:t.lat,lon:t.lon,capacity_available:t.available,shelter_id:t.shelter_id}}}const wie=new k3.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),_ie=new k3.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function Sie({onMapClick:n}){return oie({click:e=>{n(e.latlng.lat,e.latlng.lng)}}),null}const Aie=({start:n})=>{const[e,t]=R.useState(n||null),[s,i]=R.useState(null),[r,a]=R.useState([]),[o,l]=R.useState([]),[c,h]=R.useState(null),[f,g]=R.useState([]),[p,x]=R.useState([]),[v,_]=R.useState(!1),[w,S]=R.useState(null),[A,T]=R.useState([]);R.useEffect(()=>{T(I3);const I=gie.map(D=>D.coordinates);a(I)},[]),R.useEffect(()=>{!e&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(I=>t({lat:I.coords.latitude,lon:I.coords.longitude}),()=>t({lat:30.7333,lon:76.7794}))},[e]);const N=(I,D)=>{i({lat:I,lon:D}),t({lat:I,lon:D})},O=async I=>{_(!0);try{const D=await bie(I);h(D.shelter);const F=await yie(I,{lat:D.shelter.lat,lon:D.shelter.lon});g(F.warnings||[]),x(F.route.steps||[]),l(xie(F.route.polyline)),S({distance_km:F.route.distance_km,duration_min:F.route.duration_min})}catch(D){console.error("Failed to fetch route:",D),g(["Failed to fetch route. Using offline data."])}finally{_(!1)}};R.useEffect(()=>{e&&O(e)},[e?.lat,e?.lon]);const C=(I,D)=>{const F=`https://www.google.com/maps/dir/${I.lat},${I.lon}/${D.lat},${D.lon}`;window.open(F,"_blank")},k=I=>{window.open(`tel:${I}`,"_self")},M=R.useMemo(()=>o.length?o[Math.floor(o.length/2)]:e?[e.lat,e.lon]:[30.7333,76.7794],[o,e]);return d.jsxs("div",{className:"relative h-96 w-full",children:[d.jsxs(cie,{center:M,zoom:13,style:{height:"100%",width:"100%"},children:[d.jsx(uie,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),d.jsx(Sie,{onMapClick:N}),e&&d.jsx(oN,{position:[e.lat,e.lon],icon:_ie,children:d.jsx(lN,{children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"font-semibold text-blue-600",children:"Your Location"}),d.jsxs("div",{className:"text-xs text-gray-600",children:[e.lat.toFixed(4),", ",e.lon.toFixed(4)]}),d.jsxs(pe,{size:"sm",className:"mt-2 w-full",onClick:()=>navigator.geolocation.getCurrentPosition(I=>t({lat:I.coords.latitude,lon:I.coords.longitude}),()=>{}),children:[d.jsx(ag,{className:"w-3 h-3 mr-1"}),"Update Location"]})]})})}),A.map((I,D)=>d.jsx(oN,{position:[I.lat,I.lon],icon:wie,children:d.jsx(lN,{children:d.jsxs("div",{className:"min-w-[200px]",children:[d.jsx("div",{className:"font-semibold text-green-600",children:I.name}),d.jsx("div",{className:"text-xs text-gray-600 mb-2",children:I.district}),d.jsxs("div",{className:"text-xs space-y-1",children:[d.jsxs("div",{children:["Capacity: ",I.available,"/",I.capacity]}),d.jsxs("div",{children:["Contact: ",I.contact]}),d.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:I.amenities.map((F,V)=>d.jsx(Ge,{variant:"outline",className:"text-xs",children:F},V))})]}),d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsxs(pe,{size:"sm",className:"flex-1",onClick:()=>{t({lat:I.lat,lon:I.lon})},children:[d.jsx(ts,{className:"w-3 h-3 mr-1"}),"Route Here"]}),d.jsx(pe,{size:"sm",variant:"outline",onClick:()=>C(e||{lat:30.7333,lon:76.7794},{lat:I.lat,lon:I.lon}),children:d.jsx(g_,{className:"w-3 h-3"})})]})]})})},D)),o.length>1&&d.jsx(b0,{positions:o,pathOptions:{color:"#16a34a",weight:5}}),r.map((I,D)=>d.jsx(b0,{positions:I,pathOptions:{color:"#ef4444",weight:4,dashArray:"6 8"}},`blocked-${D}`)),fie.map((I,D)=>d.jsx(b0,{positions:I.coordinates,pathOptions:{color:I.severity==="critical"?"#dc2626":I.severity==="high"?"#ea580c":"#f59e0b",weight:3,fillColor:I.severity==="critical"?"#dc2626":I.severity==="high"?"#ea580c":"#f59e0b",fillOpacity:.2}},`flood-${D}`))]}),w&&c&&d.jsxs("div",{className:"absolute top-3 right-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg",children:[d.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Evacuation Route"}),d.jsxs("div",{className:"space-y-2 text-xs",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Destination:"}),d.jsx("span",{className:"font-medium",children:c.name})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Distance:"}),d.jsxs("span",{className:"font-medium",children:[w.distance_km.toFixed(1)," km"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Duration:"}),d.jsxs("span",{className:"font-medium",children:[Math.round(w.duration_min)," min"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Available Space:"}),d.jsxs("span",{className:"font-medium text-green-600",children:[c.capacity_available," people"]})]})]}),d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsxs(pe,{size:"sm",className:"flex-1",onClick:()=>C(e||{lat:30.7333,lon:76.7794},{lat:c.lat,lon:c.lon}),children:[d.jsx(g_,{className:"w-3 h-3 mr-1"}),"Open in Google Maps"]}),d.jsx(pe,{size:"sm",variant:"outline",onClick:()=>k(c.contact||"+91-98765-43210"),children:d.jsx(Pi,{className:"w-3 h-3"})})]})]}),p.length>0&&d.jsxs("div",{className:"absolute top-3 left-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg max-h-64 overflow-y-auto",children:[d.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Step-by-Step Directions"}),d.jsx("ol",{className:"list-decimal pl-4 text-xs text-slate-700 space-y-1",children:p.map((I,D)=>d.jsx("li",{className:"py-1",children:I},D))})]}),d.jsxs("div",{className:"absolute bottom-3 left-3 bg-white/90 rounded-lg p-3 shadow",children:[d.jsx("div",{className:"text-xs font-semibold text-red-600 mb-2",children:"Emergency Contacts"}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pe,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>k("108"),children:[d.jsx(Pi,{className:"w-3 h-3 mr-1"}),"Emergency: 108"]}),d.jsxs(pe,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>k("100"),children:[d.jsx(Pi,{className:"w-3 h-3 mr-1"}),"Police: 100"]}),d.jsxs(pe,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>k("101"),children:[d.jsx(Pi,{className:"w-3 h-3 mr-1"}),"Fire: 101"]})]})]}),f.length>0&&d.jsxs("div",{className:"absolute bottom-3 right-3 w-80 bg-white/90 rounded-lg p-3 shadow",children:[d.jsxs("div",{className:"text-xs font-semibold text-red-600 mb-2 flex items-center",children:[d.jsx(tn,{className:"w-3 h-3 mr-1"}),"Flood Warnings"]}),d.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-700 space-y-1",children:f.map((I,D)=>d.jsx("li",{children:I},D))})]}),d.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 rounded-lg p-3 shadow text-xs",children:[d.jsx("div",{className:"font-semibold mb-2",children:"Map Legend"}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),d.jsx("span",{children:"Safe Route"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),d.jsx("span",{children:"Blocked Roads"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),d.jsx("span",{children:"Flood Zones"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),d.jsx("span",{children:"Shelters"})]})]}),d.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Click anywhere on map to set location"})]}),v&&d.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[d.jsx("div",{className:"text-sm font-medium",children:"Finding safe route..."}),d.jsx("div",{className:"text-xs text-gray-600",children:"Please wait"})]})})]})};var Cie="Separator",uN="horizontal",Tie=["horizontal","vertical"],M3=R.forwardRef((n,e)=>{const{decorative:t,orientation:s=uN,...i}=n,r=Eie(s)?s:uN,o=t?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return d.jsx(Re.div,{"data-orientation":r,...o,...i,ref:e})});M3.displayName=Cie;function Eie(n){return Tie.includes(n)}var j3=M3;const L3=R.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...s},i)=>d.jsx(j3,{ref:i,decorative:t,orientation:e,className:Me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...s}));L3.displayName=j3.displayName;const kie=()=>{const[n,e]=R.useState([]),[t,s]=R.useState([]),[i,r]=R.useState("idle"),[a,o]=R.useState(null),[l,c]=R.useState(0),[h,f]=R.useState(0),[g,p]=R.useState(null),x=R.useRef(null),v=[{text:"Processing images locally...",duration:500,progress:20},{text:"Running local damage detection model...",duration:1500,progress:70},{text:"Generating final report...",duration:500,progress:100}],_=[{id:"RPT-20240715-001",date:"2024-07-15",severity:"Severe",images:12,priority:"High"},{id:"RPT-20240714-005",date:"2024-07-14",severity:"Moderate",images:5,priority:"Medium"},{id:"RPT-20240714-004",date:"2024-07-14",severity:"Catastrophic",images:34,priority:"Critical"},{id:"RPT-20240713-002",date:"2024-07-13",severity:"Minor",images:8,priority:"Low"}],w=I=>{const D=Array.from(I.target.files||[]);if(D.length){const F=[...n,...D];e(F);const V=D.map(G=>URL.createObjectURL(G));s([...t,...V]),r("idle"),p(null),f(0),c(0)}},S=()=>{x.current?.click()},A=async()=>{if(n.length!==0){r("analyzing"),o(null),f(0),c(0);for(const I of v)c(D=>D+1),await new Promise(D=>setTimeout(D,I.duration)),f(I.progress);T(n.length),r("complete")}},T=I=>{const D=["Minimal","Minor","Moderate","Severe","Catastrophic"],F=["Inundation","Structural Collapse","Wildfire","Landslide","Utility Damage"],V=["Gas Leak","Exposed Wiring","Contaminated Water","Unstable Structures"],G=["Deploy initial assessment team for on-site verification.","Alert residents and advise immediate evacuation of affected zones.","Coordinate with utility companies to shut off services in hazardous areas.","Mobilize heavy machinery for debris clearance on primary routes.","Request engineering corps for structural integrity assessment.","Establish a 500-meter safety perimeter around unstable structures."],J=q=>q[Math.floor(Math.random()*q.length)],Y=(q,he)=>q.sort(()=>.5-Math.random()).slice(0,he),Z=Y(F,3).map(q=>({type:q,percentage:Math.random()*100,severity:J(D)})),U=Z.reduce((q,he)=>q+he.percentage,0);Z.forEach(q=>q.percentage=q.percentage/U*100);const X=Math.floor(Math.random()*5e5)+5e4,Q=Math.floor(Math.random()*2e5)+25e3,se={totalImages:I,timestamp:new Date().toISOString(),confidenceScore:Math.random()*10+90,priority:J(["Low","Medium","High","Critical"]),overallSeverity:J(D),detectedHazards:Y(V,2),damageBreakdown:Z,estimatedCost:{repair:X,recovery:Q,total:X+Q},actionableSteps:Y(G,3),modelInfo:{name:"DisasterNet-v5.2",version:"3.0.1",accuracy:98.2}};p(se)},N=()=>{e([]),s([]),r("idle"),p(null),f(0),c(0),o(null),x.current&&(x.current.value="")},O=I=>{const D=n.filter((V,G)=>G!==I),F=t.filter((V,G)=>G!==I);e(D),s(F)},C=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(I),k=I=>{switch(I){case"Critical":return"bg-red-600 text-white hover:bg-red-700";case"High":return"bg-orange-500 text-white hover:bg-orange-600";case"Medium":return"bg-yellow-400 text-slate-900 hover:bg-yellow-500";default:return"bg-blue-500 text-white hover:bg-blue-600"}},M=I=>{switch(I){case"Catastrophic":return"bg-red-500";case"Severe":return"bg-orange-500";case"Moderate":return"bg-yellow-500";case"Minor":return"bg-blue-500";default:return"bg-green-500"}};return d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{onClick:S,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[d.jsx(py,{className:"mx-auto h-12 w-12 text-slate-400"}),d.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:"Drop images here or click to browse"}),d.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Upload PNG, JPG, or HEIC files for damage assessment"}),d.jsx("input",{ref:x,type:"file",multiple:!0,className:"sr-only",onChange:w,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),t.length>0&&d.jsxs(Li,{children:[d.jsx(Oi,{children:d.jsx(Di,{children:"Uploaded Images for Assessment"})}),d.jsxs(zi,{children:[d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((I,D)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:I,alt:`Preview ${D}`,className:"rounded-lg object-cover w-full h-32"}),d.jsx("button",{onClick:()=>O(D),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(ree,{className:"w-3 h-3"})})]},D))}),i==="idle"&&d.jsxs(pe,{onClick:A,type:"button",className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[d.jsx(mD,{className:"w-4 h-4 mr-2"}),"Run Analysis on ",n.length," Images"]}),d.jsx(pe,{onClick:N,variant:"outline",className:"w-full mt-2",children:"Clear All"})]})]}),t.length===0&&d.jsxs(Li,{children:[d.jsx(Oi,{children:d.jsxs(Di,{className:"flex items-center",children:[d.jsx(yh,{className:"w-5 h-5 mr-3"}),"Recent Analyses"]})}),d.jsxs(zi,{className:"text-sm text-slate-600 space-y-3",children:[_.map(I=>d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 cursor-pointer",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-semibold text-slate-800",children:I.id}),d.jsxs("span",{className:"text-xs text-slate-500",children:[I.date," - ",I.images," images"]})]}),d.jsx(Ge,{className:k(I.priority),children:I.priority})]},I.id)),d.jsx(pe,{variant:"outline",className:"w-full mt-2",children:"View All Reports"})]})]})]}),d.jsxs(Li,{className:"h-full sticky top-8",children:[d.jsx(Oi,{children:d.jsxs(Di,{className:"flex items-center",children:[d.jsx(p_,{className:"w-5 h-5 mr-3"})," AI Analysis Report"]})}),d.jsx(zi,{children:i==="complete"&&g?d.jsxs("div",{className:"space-y-6 text-sm",children:[d.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[d.jsx("span",{className:"font-semibold text-slate-700",children:"Priority Assessment"}),d.jsx(Ge,{className:k(g.priority),children:g.priority})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-slate-600",children:"Confidence Score"}),d.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[g.confidenceScore.toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[d.jsx("p",{className:"text-slate-600",children:"Overall Severity"}),d.jsx("p",{className:"font-bold text-lg text-slate-800",children:g.overallSeverity})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[d.jsx(pD,{className:"w-4 h-4 mr-2 text-red-600"})," Detected Hazards"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:g.detectedHazards.map((I,D)=>d.jsx(Ge,{variant:"destructive",children:I},D))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[d.jsx(WJ,{className:"w-4 h-4 mr-2"})," Damage Breakdown"]}),d.jsx("div",{className:"space-y-3",children:g.damageBreakdown.map((I,D)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-slate-600 font-medium",children:I.type}),d.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full text-white ${M(I.severity)}`,children:I.severity})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden",children:d.jsx("div",{className:`${M(I.severity)} h-full rounded-full`,style:{width:`${I.percentage.toFixed(2)}%`}})}),d.jsxs("span",{className:"w-16 text-right font-semibold text-slate-700",children:[I.percentage.toFixed(1),"%"]})]})]},D))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[d.jsx(GJ,{className:"w-4 h-4 mr-2"})," Detailed Cost Analysis"]}),d.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-600",children:"Estimated Repair Cost:"}),d.jsx("span",{className:"font-medium text-slate-800",children:C(g.estimatedCost.repair)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-600",children:"Resource & Recovery Cost:"}),d.jsx("span",{className:"font-medium text-slate-800",children:C(g.estimatedCost.recovery)})]}),d.jsx(L3,{}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-bold text-slate-800",children:"Total Estimated Cost:"}),d.jsx("span",{className:"font-bold text-lg text-blue-800",children:C(g.estimatedCost.total)})]})]})]}),d.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-blue-800",children:[d.jsx(Un,{className:"w-4 h-4 mr-2"})," Recommended Actions"]}),d.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-blue-700",children:g.actionableSteps.map((I,D)=>d.jsx("li",{children:I},D))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[d.jsx(XJ,{className:"w-4 h-4 mr-2"})," Analysis Model Details"]}),d.jsxs("div",{className:"text-xs text-slate-500 bg-slate-50 p-3 rounded-lg",children:[d.jsxs("p",{children:["Model: ",g.modelInfo.name," (v",g.modelInfo.version,")"]}),d.jsxs("p",{children:["Accuracy: ",g.modelInfo.accuracy,"% | Processed ",g.totalImages," images in this batch."]}),d.jsxs("p",{children:["Timestamp: ",new Date(g.timestamp).toLocaleString()]})]})]})]}):i==="analyzing"?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[d.jsx(ni,{className:"w-8 h-8 mb-2 animate-spin"}),d.jsxs("p",{children:[h,"% - ",l>0&&v[l-1]?.text]})]}):i==="error"?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[d.jsx(tn,{className:"w-8 h-8 mb-2"}),d.jsx("p",{children:"An error occurred during analysis."}),d.jsx("p",{className:"text-xs mt-2 text-red-400",children:a})]}):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[d.jsx(fr,{className:"w-10 h-10 mb-4 text-slate-400"}),d.jsx("p",{className:"font-semibold",children:"AI-Powered Insights Await"}),d.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})})},Nie=()=>{const[n,e]=R.useState("primary"),t=[{id:"primary",name:"Primary Route A",status:"clear",distance:"2.3 km",time:"8 min",capacity:850,current:245},{id:"secondary",name:"Secondary Route B",status:"congested",distance:"3.1 km",time:"15 min",capacity:600,current:520},{id:"emergency",name:"Emergency Route C",status:"blocked",distance:"4.2 km",time:"N/A",capacity:400,current:0}],s=[{name:"Community Center",location:"Downtown",capacity:500,occupied:245,amenities:["Food","Medical","WiFi"],status:"available",contact:"+91-98765-43210",lat:30.7333,lon:76.7794},{name:"High School Gymnasium",location:"North District",capacity:300,occupied:180,amenities:["Food","Restrooms"],status:"available",contact:"+91-98765-43211",lat:30.75,lon:76.8},{name:"Sports Complex",location:"East Side",capacity:800,occupied:650,amenities:["Food","Medical","WiFi","Parking"],status:"near_capacity",contact:"+91-98765-43212",lat:30.72,lon:76.75},{name:"Church Hall",location:"West End",capacity:200,occupied:195,amenities:["Food","Restrooms"],status:"full",contact:"+91-98765-43213",lat:30.76,lon:76.72}],i=[{name:"Water Bottles",current:1e4,capacity:5e4,icon:SA,color:"blue"},{name:"MREs (Meals, Ready-to-Eat)",current:5e3,capacity:2e4,icon:M2,color:"orange"},{name:"First-Aid Kits",current:2e3,capacity:5e3,icon:m_,color:"red"},{name:"Blankets",current:8e3,capacity:15e3,icon:N2,color:"green"}],r=[{id:"Alpha-1",destination:"Community Center",eta:"15 min",status:"In Transit",contents:"500 water, 200 MREs"},{id:"Bravo-2",destination:"High School Gymnasium",eta:"25 min",status:"Loading",contents:"300 first-aid, 1000 blankets"},{id:"Charlie-3",destination:"Sports Complex",eta:"5 min",status:"Delivered",contents:"1000 water, 500 MREs"}],a=c=>{switch(c){case"clear":return{color:"text-green-600 bg-green-100",icon:dr};case"congested":return{color:"text-yellow-600 bg-yellow-100",icon:yh};case"blocked":return{color:"text-red-600 bg-red-100",icon:tn};default:return{color:"text-blue-600 bg-blue-100",icon:ts}}},o=c=>{switch(c){case"available":return{color:"text-green-600 bg-green-100",text:"Available"};case"near_capacity":return{color:"text-yellow-600 bg-yellow-100",text:"Near Full"};case"full":return{color:"text-red-600 bg-red-100",text:"Full"};default:return{color:"text-blue-600 bg-blue-100",text:"Unknown"}}},l=c=>{switch(c){case"In Transit":return{color:"text-blue-600 bg-blue-100",icon:t0};case"Loading":return{color:"text-yellow-600 bg-yellow-100",icon:yh};case"Delivered":return{color:"text-green-600 bg-green-100",icon:dr};default:return{color:"text-slate-600 bg-slate-100",icon:N2}}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Planning & Resource Allocation"}),d.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Strategic evacuation planning with real-time resource tracking and emergency coordination"})]}),d.jsxs(yy,{defaultValue:"evacuation",className:"space-y-6",children:[d.jsxs(Kg,{className:"grid w-full grid-cols-4 bg-gradient-to-r from-blue-50 to-teal-50",children:[d.jsxs(Ii,{value:"evacuation",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[d.jsx(R2,{className:"w-4 h-4 mr-2"}),"Evacuation Planning"]}),d.jsxs(Ii,{value:"shelters",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[d.jsx(Dm,{className:"w-4 h-4 mr-2"}),"Shelter Management"]}),d.jsxs(Ii,{value:"resources",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[d.jsx(t0,{className:"w-4 h-4 mr-2"}),"Resource Distribution"]}),d.jsxs(Ii,{value:"damage",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[d.jsx(py,{className:"w-4 h-4 mr-2"}),"Damage Assessment"]})]}),d.jsx(Zs,{value:"evacuation",className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Interactive Evacuation Map"}),d.jsxs(Ge,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[d.jsx(ag,{className:"w-3 h-3 mr-1"}),"Live Traffic"]})]}),d.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-xl h-96 overflow-hidden",children:[d.jsx(Aie,{}),d.jsx(W4,{text:"Flood-Aware Routing"})]}),d.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),d.jsx("span",{className:"text-sm text-slate-600",children:"Clear Route"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),d.jsx("span",{className:"text-sm text-slate-600",children:"Congested"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),d.jsx("span",{className:"text-sm text-slate-600",children:"Blocked"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Dm,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-sm text-slate-600",children:"Shelter"})]})]})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Evacuation Routes"}),d.jsx("div",{className:"space-y-3",children:t.map(c=>{const h=a(c.status),f=h.icon;return d.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${n===c.id?"border-blue-400 bg-gradient-to-r from-blue-50 to-teal-50":"border-slate-200 hover:border-slate-300"}`,onClick:()=>e(c.id),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-slate-900",children:c.name}),d.jsxs(Ge,{variant:"secondary",className:h.color,children:[d.jsx(f,{className:"w-3 h-3 mr-1"}),c.status]})]}),d.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:["Distance: ",c.distance]}),d.jsxs("span",{children:["ETA: ",c.time]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:["Capacity: ",c.capacity]}),d.jsxs("span",{children:["Current: ",c.current]})]}),d.jsx(zo,{value:c.current/c.capacity*100,className:"h-1 mt-2"})]})]},c.id)})})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs(pe,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white",onClick:()=>window.open("tel:108","_self"),children:[d.jsx(tn,{className:"w-4 h-4 mr-2"}),"Activate Emergency Protocol"]}),d.jsxs(pe,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:()=>window.location.reload(),children:[d.jsx(R2,{className:"w-4 h-4 mr-2"}),"Update Route Status"]}),d.jsxs(pe,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>window.open("tel:+91-98765-43210","_self"),children:[d.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Contact Traffic Control"]})]})]})]})]})}),d.jsx(Zs,{value:"shelters",className:"space-y-6",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((c,h)=>{const f=o(c.status),g=c.occupied/c.capacity*100;return d.jsxs(tt,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:c.name}),d.jsx(Ge,{variant:"secondary",className:f.color,children:f.text})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[d.jsx(ts,{className:"w-4 h-4"}),d.jsx("span",{children:c.location})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-600",children:"Occupancy"}),d.jsxs("span",{className:"font-medium text-slate-900",children:[c.occupied,"/",c.capacity]})]}),d.jsx(zo,{value:g,className:"h-2"})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:c.amenities.map((p,x)=>d.jsxs(Ge,{variant:"outline",className:"text-xs",children:[p==="Food"&&d.jsx(M2,{className:"w-3 h-3 mr-1"}),p==="Medical"&&d.jsx(m_,{className:"w-3 h-3 mr-1"}),p==="WiFi"&&d.jsx(xD,{className:"w-3 h-3 mr-1"}),p]},x))}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs(pe,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>window.open(`tel:${c.contact||"+91-98765-43210"}`,"_self"),children:[d.jsx(Ms,{className:"w-3 h-3 mr-1"}),"Contact"]}),d.jsxs(pe,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{window.open(`https://www.google.com/maps?q=${c.lat},${c.lon}`,"_blank")},children:[d.jsx(ts,{className:"w-3 h-3 mr-1"}),"Directions"]})]})]})]},h)})})}),d.jsxs(Zs,{value:"resources",className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resource Inventory"}),d.jsx("div",{className:"space-y-4",children:i.map(c=>{const h=c.icon,f=c.current/c.capacity*100;return d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(h,{className:`w-4 h-4 mr-2 text-${c.color}-500`}),d.jsx("span",{className:"text-sm font-medium text-slate-800",children:c.name})]}),d.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[c.current.toLocaleString()," / ",c.capacity.toLocaleString()]})]}),d.jsx(zo,{value:f,className:"h-2"})]},c.name)})})]}),d.jsxs(tt,{className:"p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Active Delivery Missions"}),d.jsx("div",{className:"space-y-3",children:r.map(c=>{const h=l(c.status),f=h.icon;return d.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 bg-slate-50/50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["Mission: ",c.id]}),d.jsxs(Ge,{variant:"secondary",className:h.color,children:[d.jsx(f,{className:"w-3 h-3 mr-1"}),c.status]})]}),d.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"To:"})," ",c.destination]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"ETA:"})," ",c.eta]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold",children:"Contents:"})," ",c.contents]})]})]},c.id)})})]})]}),d.jsx(Zs,{value:"damage",children:d.jsx(kie,{})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Ms,{className:"w-6 h-6 text-blue-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"People Evacuated"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"2,847"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Successfully relocated"})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Dm,{className:"w-6 h-6 text-green-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Shelters"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"18"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Operational facilities"})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(t0,{className:"w-6 h-6 text-yellow-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Supply Deliveries"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"156"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Completed today"})]}),d.jsxs(tt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Un,{className:"w-6 h-6 text-purple-600"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),d.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"12min"}),d.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average deployment"})]})]})]})},Rie=()=>{const{userProfile:n,updateUserProfile:e,currentUser:t}=Hh();return console.log("Profile page rendering..."),console.log("Current user:",t),console.log("User profile:",n),t?d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-teal-100 rounded-full flex items-center justify-center mx-auto",children:d.jsx(wh,{className:"w-12 h-12 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Profile Settings"}),d.jsx("p",{className:"text-lg text-slate-600",children:"Manage your account and preferences"})]})]}),d.jsxs(Li,{className:"max-w-2xl mx-auto",children:[d.jsxs(Oi,{children:[d.jsx(Di,{children:"Basic Profile Information"}),d.jsx(vy,{children:"Your account details"})]}),d.jsx(zi,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx($t,{children:"Display Name"}),d.jsx("p",{className:"text-lg font-medium",children:n?.displayName||"Not set"})]}),d.jsxs("div",{children:[d.jsx($t,{children:"Email"}),d.jsx("p",{className:"text-lg font-medium",children:n?.email||"Not set"})]}),d.jsxs("div",{children:[d.jsx($t,{children:"Role"}),d.jsx(Ge,{variant:"secondary",children:n?.role?.replace("_"," ").toUpperCase()||"USER"})]}),d.jsxs("div",{children:[d.jsx($t,{children:"Member Since"}),d.jsx("p",{className:"text-sm text-gray-600",children:n?.joinedAt?new Date(n.joinedAt).toLocaleDateString():"Unknown"})]})]})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx(wh,{className:"w-16 h-16 text-gray-400 mx-auto"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Please log in to view your profile"})]})})};function Pie(){return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:d.jsxs("div",{className:"space-y-6 max-w-md",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),d.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),d.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[d.jsx(pe,{asChild:!0,children:d.jsx("a",{href:"/",children:"Return Home"})}),d.jsx(pe,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const Iie=new FU,Mie=()=>d.jsx(VU,{client:Iie,children:d.jsx(O$,{children:d.jsx(iK,{children:d.jsxs(dU,{children:[d.jsx(AB,{}),d.jsx(g6,{children:d.jsxs(p6,{children:[d.jsx(ls,{path:"/",element:d.jsx(gee,{})}),d.jsx(ls,{path:"/auth",element:d.jsx(wee,{})}),d.jsx(ls,{path:"/admin/signup",element:d.jsx(j2,{})}),d.jsx(ls,{path:"/admin/signin",element:d.jsx(j2,{})}),d.jsx(ls,{path:"/supabase-auth",element:d.jsx(Wm,{to:"/admin/signin",replace:!0})}),d.jsx(ls,{path:"/admin",element:d.jsx(fee,{children:d.jsx(hne,{})})}),d.jsx(ls,{path:"/dashboard",element:d.jsx(Tl,{children:d.jsx(Cl,{children:d.jsx(vne,{})})})}),d.jsx(ls,{path:"/predictions",element:d.jsx(Tl,{children:d.jsx(Cl,{children:d.jsx(Yne,{})})})}),d.jsx(ls,{path:"/alerts",element:d.jsx(Tl,{children:d.jsx(Cl,{children:d.jsx(Kne,{})})})}),d.jsx(ls,{path:"/reports",element:d.jsx(Tl,{children:d.jsx(Cl,{children:d.jsx(Yse,{})})})}),d.jsx(ls,{path:"/assessment",element:d.jsx(Tl,{children:d.jsx(Cl,{children:d.jsx(Gse,{})})})}),d.jsx(ls,{path:"/planning",element:d.jsx(Tl,{children:d.jsx(Cl,{children:d.jsx(Nie,{})})})}),d.jsx(ls,{path:"/profile",element:d.jsx(Tl,{children:d.jsx(Cl,{children:d.jsx(Rie,{})})})}),d.jsx(ls,{path:"/index",element:d.jsx(Wm,{to:"/dashboard",replace:!0})}),d.jsx(ls,{path:"*",element:d.jsx(Pie,{})})]})})]})})})});XF.createRoot(document.getElementById("root")).render(d.jsx(Mie,{}));
