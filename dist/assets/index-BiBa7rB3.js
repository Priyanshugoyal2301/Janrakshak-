import{r as x,a as Su,R as ce,b as uA,c as dA,g as f4,d as Ds,u as Pg,e as Jh,L as m4,N as vp,f as p4,h as hA,B as g4,i as v4,j as Yt}from"./react-vendor-C9zSxLv9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var fA={exports:{}},Ig={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y4=Symbol.for("react.transitional.element"),_4=Symbol.for("react.fragment");function mA(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:y4,type:t,key:s,ref:e!==void 0?e:null,props:n}}Ig.Fragment=_4;Ig.jsx=mA;Ig.jsxs=mA;fA.exports=Ig;var a=fA.exports,pA={exports:{}},kg={},gA={exports:{}},vA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ee){var B=G.length;G.push(ee);e:for(;0<B;){var q=B-1>>>1,X=G[q];if(0<r(X,ee))G[q]=ee,G[B]=X,B=q;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ee=G[0],B=G.pop();if(B!==ee){G[0]=B;e:for(var q=0,X=G.length,le=X>>>1;q<le;){var W=2*(q+1)-1,de=G[W],oe=W+1,fe=G[oe];if(0>r(de,B))oe<X&&0>r(fe,de)?(G[q]=fe,G[oe]=B,q=oe):(G[q]=de,G[W]=B,q=W);else if(oe<X&&0>r(fe,B))G[q]=fe,G[oe]=B,q=oe;else break e}}return ee}function r(G,ee){var B=G.sortIndex-ee.sortIndex;return B!==0?B:G.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,g=null,v=3,y=!1,A=!1,w=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var ee=n(h);ee!==null;){if(ee.callback===null)s(h);else if(ee.startTime<=G)s(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(h)}}function F(G){if(w=!1,D(G),!A)if(n(d)!==null)A=!0,$||($=!0,k());else{var ee=n(h);ee!==null&&ue(F,ee.startTime-G)}}var $=!1,R=-1,P=5,U=-1;function I(){return j?!0:!(t.unstable_now()-U<P)}function O(){if(j=!1,$){var G=t.unstable_now();U=G;var ee=!0;try{e:{A=!1,w&&(w=!1,T(R),R=-1),y=!0;var B=v;try{t:{for(D(G),g=n(d);g!==null&&!(g.expirationTime>G&&I());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var X=q(g.expirationTime<=G);if(G=t.unstable_now(),typeof X=="function"){g.callback=X,D(G),ee=!0;break t}g===n(d)&&s(d),D(G)}else s(d);g=n(d)}if(g!==null)ee=!0;else{var le=n(h);le!==null&&ue(F,le.startTime-G),ee=!1}}break e}finally{g=null,v=B,y=!1}ee=void 0}}finally{ee?k():$=!1}}}var k;if(typeof N=="function")k=function(){N(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=O,k=function(){J.postMessage(null)}}else k=function(){S(O,0)};function ue(G,ee){R=S(function(){G(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var B=v;v=ee;try{return G()}finally{v=B}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var B=v;v=G;try{return ee()}finally{v=B}},t.unstable_scheduleCallback=function(G,ee,B){var q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,G={id:m++,callback:ee,priorityLevel:G,startTime:B,expirationTime:X,sortIndex:-1},B>q?(G.sortIndex=B,e(h,G),n(d)===null&&G===n(h)&&(w?(T(R),R=-1):w=!0,ue(F,B-q))):(G.sortIndex=X,e(d,G),A||y||(A=!0,$||($=!0,k()))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var ee=v;return function(){var B=v;v=ee;try{return G.apply(this,arguments)}finally{v=B}}}})(vA);gA.exports=vA;var x4=gA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=x4,yA=x,b4=Su;function ne(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _A(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ef(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $1(t){if(ef(t)!==t)throw Error(ne(188))}function w4(t){var e=t.alternate;if(!e){if(e=ef(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return $1(r),t;if(i===s)return $1(r),e;i=i.sibling}throw Error(ne(188))}if(n.return!==s.return)n=r,s=i;else{for(var l=!1,c=r.child;c;){if(c===n){l=!0,n=r,s=i;break}if(c===s){l=!0,s=r,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,s=r;break}if(c===s){l=!0,s=i,n=r;break}c=c.sibling}if(!l)throw Error(ne(189))}}if(n.alternate!==s)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function bA(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=bA(t),e!==null)return e;t=t.sibling}return null}var Et=Object.assign,S4=Symbol.for("react.element"),cm=Symbol.for("react.transitional.element"),Ad=Symbol.for("react.portal"),xc=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),E0=Symbol.for("react.profiler"),E4=Symbol.for("react.provider"),SA=Symbol.for("react.consumer"),Bi=Symbol.for("react.context"),Ux=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),A0=Symbol.for("react.activity"),T4=Symbol.for("react.memo_cache_sentinel"),q1=Symbol.iterator;function gd(t){return t===null||typeof t!="object"?null:(t=q1&&t[q1]||t["@@iterator"],typeof t=="function"?t:null)}var N4=Symbol.for("react.client.reference");function j0(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N4?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xc:return"Fragment";case E0:return"Profiler";case wA:return"StrictMode";case T0:return"Suspense";case N0:return"SuspenseList";case A0:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ad:return"Portal";case Bi:return(t.displayName||"Context")+".Provider";case SA:return(t._context.displayName||"Context")+".Consumer";case Ux:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vx:return e=t.displayName||null,e!==null?e:j0(t.type)||"Memo";case Aa:e=t._payload,t=t._init;try{return j0(t(e))}catch{}}return null}var jd=Array.isArray,Re=yA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=b4.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yo={pending:!1,data:null,method:null,action:null},C0=[],bc=-1;function ui(t){return{current:t}}function xn(t){0>bc||(t.current=C0[bc],C0[bc]=null,bc--)}function At(t,e){bc++,C0[bc]=t.current,t.current=e}var Yr=ui(null),vh=ui(null),Ha=ui(null),yp=ui(null);function _p(t,e){switch(At(Ha,e),At(vh,t),At(Yr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?YS(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=YS(e),t=zj(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}xn(Yr),At(Yr,t)}function Qc(){xn(Yr),xn(vh),xn(Ha)}function R0(t){t.memoizedState!==null&&At(yp,t);var e=Yr.current,n=zj(e,t.type);e!==n&&(At(vh,t),At(Yr,n))}function xp(t){vh.current===t&&(xn(Yr),xn(vh)),yp.current===t&&(xn(yp),Ah._currentValue=Yo)}var P0=Object.prototype.hasOwnProperty,zx=dn.unstable_scheduleCallback,ly=dn.unstable_cancelCallback,A4=dn.unstable_shouldYield,j4=dn.unstable_requestPaint,Qr=dn.unstable_now,C4=dn.unstable_getCurrentPriorityLevel,EA=dn.unstable_ImmediatePriority,TA=dn.unstable_UserBlockingPriority,bp=dn.unstable_NormalPriority,R4=dn.unstable_LowPriority,NA=dn.unstable_IdlePriority,P4=dn.log,I4=dn.unstable_setDisableYieldValue,tf=null,Rs=null;function Ua(t){if(typeof P4=="function"&&I4(t),Rs&&typeof Rs.setStrictMode=="function")try{Rs.setStrictMode(tf,t)}catch{}}var Ps=Math.clz32?Math.clz32:O4,k4=Math.log,M4=Math.LN2;function O4(t){return t>>>=0,t===0?32:31-(k4(t)/M4|0)|0}var um=256,dm=4194304;function Fo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mg(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var c=s&134217727;return c!==0?(s=c&~i,s!==0?r=Fo(s):(l&=c,l!==0?r=Fo(l):n||(n=c&~t,n!==0&&(r=Fo(n))))):(c=s&~i,c!==0?r=Fo(c):l!==0?r=Fo(l):n||(n=s&~t,n!==0&&(r=Fo(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function nf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function D4(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AA(){var t=um;return um<<=1,!(um&4194048)&&(um=256),t}function jA(){var t=dm;return dm<<=1,!(dm&62914560)&&(dm=4194304),t}function cy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function L4(t,e,n,s,r,i){var l=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var c=t.entanglements,d=t.expirationTimes,h=t.hiddenUpdates;for(n=l&~n;0<n;){var m=31-Ps(n),g=1<<m;c[m]=0,d[m]=-1;var v=h[m];if(v!==null)for(h[m]=null,m=0;m<v.length;m++){var y=v[m];y!==null&&(y.lane&=-536870913)}n&=~g}s!==0&&CA(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(l&~e))}function CA(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ps(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194090}function RA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ps(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function Bx(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fx(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function PA(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Yj(t.type))}function U4(t,e){var n=ot.p;try{return ot.p=t,e()}finally{ot.p=n}}var go=Math.random().toString(36).slice(2),Un="__reactFiber$"+go,hs="__reactProps$"+go,Eu="__reactContainer$"+go,I0="__reactEvents$"+go,V4="__reactListeners$"+go,z4="__reactHandles$"+go,G1="__reactResources$"+go,rf="__reactMarker$"+go;function Hx(t){delete t[Un],delete t[hs],delete t[I0],delete t[V4],delete t[z4]}function wc(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Eu]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JS(t);t!==null;){if(n=t[Un])return n;t=JS(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){if(t=t[Un]||t[Eu]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Cd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ne(33))}function Ic(t){var e=t[G1];return e||(e=t[G1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function pn(t){t[rf]=!0}var IA=new Set,kA={};function xl(t,e){Xc(t,e),Xc(t+"Capture",e)}function Xc(t,e){for(kA[t]=e,t=0;t<e.length;t++)IA.add(e[t])}var B4=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W1={},K1={};function F4(t){return P0.call(K1,t)?!0:P0.call(W1,t)?!1:B4.test(t)?K1[t]=!0:(W1[t]=!0,!1)}function Fm(t,e,n){if(F4(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function hm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Pi(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}var uy,Z1;function uc(t){if(uy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uy=e&&e[1]||"",Z1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uy+t+Z1}var dy=!1;function hy(t,e){if(!t||dy)return"";dy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(y){var v=y}Reflect.construct(t,[],g)}else{try{g.call()}catch(y){v=y}t.call(g.prototype)}}else{try{throw Error()}catch(y){v=y}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(y){if(y&&v&&typeof y.stack=="string")return[y.stack,v.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),l=i[0],c=i[1];if(l&&c){var d=l.split(`
`),h=c.split(`
`);for(r=s=0;s<d.length&&!d[s].includes("DetermineComponentFrameRoot");)s++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(s===d.length||r===h.length)for(s=d.length-1,r=h.length-1;1<=s&&0<=r&&d[s]!==h[r];)r--;for(;1<=s&&0<=r;s--,r--)if(d[s]!==h[r]){if(s!==1||r!==1)do if(s--,r--,0>r||d[s]!==h[r]){var m=`
`+d[s].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=s&&0<=r);break}}}finally{dy=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?uc(n):""}function H4(t){switch(t.tag){case 26:case 27:case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 15:return hy(t.type,!1);case 11:return hy(t.type.render,!1);case 1:return hy(t.type,!0);case 31:return uc("Activity");default:return""}}function Y1(t){try{var e="";do e+=H4(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ys(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $4(t){var e=MA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wp(t){t._valueTracker||(t._valueTracker=$4(t))}function OA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=MA(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Sp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var q4=/[\n"\\]/g;function Js(t){return t.replace(q4,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function k0(t,e,n,s,r,i,l,c){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ys(e)):t.value!==""+Ys(e)&&(t.value=""+Ys(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?M0(t,l,Ys(e)):n!=null?M0(t,l,Ys(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+Ys(c):t.removeAttribute("name")}function DA(t,e,n,s,r,i,l,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Ys(n):"",e=e!=null?""+Ys(e):n,c||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=c?t.checked:!!s,t.defaultChecked=!!s,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l)}function M0(t,e,n){e==="number"&&Sp(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function kc(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Ys(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function LA(t,e,n){if(e!=null&&(e=""+Ys(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ys(n):""}function UA(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(ne(92));if(jd(s)){if(1<s.length)throw Error(ne(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Ys(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function Jc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var G4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Q1(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||G4.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function VA(t,e,n){if(e!=null&&typeof e!="object")throw Error(ne(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&Q1(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&Q1(t,i,e[i])}function $x(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hm(t){return K4.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var O0=null;function qx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sc=null,Mc=null;function X1(t){var e=Tu(t);if(e&&(t=e.stateNode)){var n=t[hs]||null;e:switch(t=e.stateNode,e.type){case"input":if(k0(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Js(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[hs]||null;if(!r)throw Error(ne(90));k0(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&OA(s)}break e;case"textarea":LA(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&kc(t,!!n.multiple,e,!1)}}}var fy=!1;function zA(t,e,n){if(fy)return t(e,n);fy=!0;try{var s=t(e);return s}finally{if(fy=!1,(Sc!==null||Mc!==null)&&($g(),Sc&&(e=Sc,t=Mc,Mc=Sc=null,X1(e),t)))for(e=0;e<t.length;e++)X1(t[e])}}function yh(t,e){var n=t.stateNode;if(n===null)return null;var s=n[hs]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D0=!1;if(Ji)try{var vd={};Object.defineProperty(vd,"passive",{get:function(){D0=!0}}),window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{D0=!1}var Va=null,Gx=null,$m=null;function BA(){if($m)return $m;var t,e=Gx,n=e.length,s,r="value"in Va?Va.value:Va.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(s=1;s<=l&&e[n-s]===r[i-s];s++);return $m=r.slice(t,1<s?1-s:void 0)}function qm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fm(){return!0}function J1(){return!1}function fs(t){function e(n,s,r,i,l){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fm:J1,this.isPropagationStopped=J1,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fm)},persist:function(){},isPersistent:fm}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Og=fs(bl),af=Et({},bl,{view:0,detail:0}),Z4=fs(af),my,py,yd,Dg=Et({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yd&&(yd&&t.type==="mousemove"?(my=t.screenX-yd.screenX,py=t.screenY-yd.screenY):py=my=0,yd=t),my)},movementY:function(t){return"movementY"in t?t.movementY:py}}),eS=fs(Dg),Y4=Et({},Dg,{dataTransfer:0}),Q4=fs(Y4),X4=Et({},af,{relatedTarget:0}),gy=fs(X4),J4=Et({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),eL=fs(J4),tL=Et({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nL=fs(tL),sL=Et({},bl,{data:0}),tS=fs(sL),rL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aL[t])?!!e[t]:!1}function Wx(){return oL}var lL=Et({},af,{key:function(t){if(t.key){var e=rL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wx,charCode:function(t){return t.type==="keypress"?qm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cL=fs(lL),uL=Et({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nS=fs(uL),dL=Et({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wx}),hL=fs(dL),fL=Et({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mL=fs(fL),pL=Et({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gL=fs(pL),vL=Et({},bl,{newState:0,oldState:0}),yL=fs(vL),_L=[9,13,27,32],Kx=Ji&&"CompositionEvent"in window,Bd=null;Ji&&"documentMode"in document&&(Bd=document.documentMode);var xL=Ji&&"TextEvent"in window&&!Bd,FA=Ji&&(!Kx||Bd&&8<Bd&&11>=Bd),sS=" ",rS=!1;function HA(t,e){switch(t){case"keyup":return _L.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $A(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ec=!1;function bL(t,e){switch(t){case"compositionend":return $A(e);case"keypress":return e.which!==32?null:(rS=!0,sS);case"textInput":return t=e.data,t===sS&&rS?null:t;default:return null}}function wL(t,e){if(Ec)return t==="compositionend"||!Kx&&HA(t,e)?(t=BA(),$m=Gx=Va=null,Ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FA&&e.locale!=="ko"?null:e.data;default:return null}}var SL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SL[t.type]:e==="textarea"}function qA(t,e,n,s){Sc?Mc?Mc.push(s):Mc=[s]:Sc=s,e=Bp(e,"onChange"),0<e.length&&(n=new Og("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Fd=null,_h=null;function EL(t){Lj(t,0)}function Lg(t){var e=Cd(t);if(OA(e))return t}function aS(t,e){if(t==="change")return e}var GA=!1;if(Ji){var vy;if(Ji){var yy="oninput"in document;if(!yy){var oS=document.createElement("div");oS.setAttribute("oninput","return;"),yy=typeof oS.oninput=="function"}vy=yy}else vy=!1;GA=vy&&(!document.documentMode||9<document.documentMode)}function lS(){Fd&&(Fd.detachEvent("onpropertychange",WA),_h=Fd=null)}function WA(t){if(t.propertyName==="value"&&Lg(_h)){var e=[];qA(e,_h,t,qx(t)),zA(EL,e)}}function TL(t,e,n){t==="focusin"?(lS(),Fd=e,_h=n,Fd.attachEvent("onpropertychange",WA)):t==="focusout"&&lS()}function NL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lg(_h)}function AL(t,e){if(t==="click")return Lg(e)}function jL(t,e){if(t==="input"||t==="change")return Lg(e)}function CL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:CL;function xh(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!P0.call(e,r)||!Ls(t[r],e[r]))return!1}return!0}function cS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uS(t,e){var n=cS(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cS(n)}}function KA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZA(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Sp(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sp(t.document)}return e}function Zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var RL=Ji&&"documentMode"in document&&11>=document.documentMode,Tc=null,L0=null,Hd=null,U0=!1;function dS(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;U0||Tc==null||Tc!==Sp(s)||(s=Tc,"selectionStart"in s&&Zx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hd&&xh(Hd,s)||(Hd=s,s=Bp(L0,"onSelect"),0<s.length&&(e=new Og("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Tc)))}function Do(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nc={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},_y={},YA={};Ji&&(YA=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function wl(t){if(_y[t])return _y[t];if(!Nc[t])return t;var e=Nc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YA)return _y[t]=e[n];return t}var QA=wl("animationend"),XA=wl("animationiteration"),JA=wl("animationstart"),PL=wl("transitionrun"),IL=wl("transitionstart"),kL=wl("transitioncancel"),e2=wl("transitionend"),t2=new Map,V0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");V0.push("scrollEnd");function Pr(t,e){t2.set(t,e),xl(e,[t])}var hS=new WeakMap;function er(t,e){if(typeof t=="object"&&t!==null){var n=hS.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Y1(e)},hS.set(t,e),e)}return{value:t,source:e,stack:Y1(e)}}var Zs=[],Ac=0,Yx=0;function Ug(){for(var t=Ac,e=Yx=Ac=0;e<t;){var n=Zs[e];Zs[e++]=null;var s=Zs[e];Zs[e++]=null;var r=Zs[e];Zs[e++]=null;var i=Zs[e];if(Zs[e++]=null,s!==null&&r!==null){var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}i!==0&&n2(n,r,i)}}function Vg(t,e,n,s){Zs[Ac++]=t,Zs[Ac++]=e,Zs[Ac++]=n,Zs[Ac++]=s,Yx|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Qx(t,e,n,s){return Vg(t,e,n,s),Ep(t)}function Nu(t,e){return Vg(t,null,null,e),Ep(t)}function n2(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-Ps(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function Ep(t){if(50<Jd)throw Jd=0,a_=null,Error(ne(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var jc={};function ML(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(t,e,n,s){return new ML(t,e,n,s)}function Xx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,e){var n=t.alternate;return n===null?(n=js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function s2(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Gm(t,e,n,s,r,i){var l=0;if(s=t,typeof t=="function")Xx(t)&&(l=1);else if(typeof t=="string")l=D6(t,n,Yr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A0:return t=js(31,n,e,r),t.elementType=A0,t.lanes=i,t;case xc:return Qo(n.children,r,i,e);case wA:l=8,r|=24;break;case E0:return t=js(12,n,e,r|2),t.elementType=E0,t.lanes=i,t;case T0:return t=js(13,n,e,r),t.elementType=T0,t.lanes=i,t;case N0:return t=js(19,n,e,r),t.elementType=N0,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E4:case Bi:l=10;break e;case SA:l=9;break e;case Ux:l=11;break e;case Vx:l=14;break e;case Aa:l=16,s=null;break e}l=29,n=Error(ne(130,t===null?"null":typeof t,"")),s=null}return e=js(l,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Qo(t,e,n,s){return t=js(7,t,s,e),t.lanes=n,t}function xy(t,e,n){return t=js(6,t,null,e),t.lanes=n,t}function by(t,e,n){return e=js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Cc=[],Rc=0,Tp=null,Np=0,Qs=[],Xs=0,Xo=null,Fi=1,Hi="";function Ho(t,e){Cc[Rc++]=Np,Cc[Rc++]=Tp,Tp=t,Np=e}function r2(t,e,n){Qs[Xs++]=Fi,Qs[Xs++]=Hi,Qs[Xs++]=Xo,Xo=t;var s=Fi;t=Hi;var r=32-Ps(s)-1;s&=~(1<<r),n+=1;var i=32-Ps(e)+r;if(30<i){var l=r-r%5;i=(s&(1<<l)-1).toString(32),s>>=l,r-=l,Fi=1<<32-Ps(e)+r|n<<r|s,Hi=i+t}else Fi=1<<i|n<<r|s,Hi=t}function Jx(t){t.return!==null&&(Ho(t,1),r2(t,1,0))}function eb(t){for(;t===Tp;)Tp=Cc[--Rc],Cc[Rc]=null,Np=Cc[--Rc],Cc[Rc]=null;for(;t===Xo;)Xo=Qs[--Xs],Qs[Xs]=null,Hi=Qs[--Xs],Qs[Xs]=null,Fi=Qs[--Xs],Qs[Xs]=null}var Gn=null,Ot=null,at=!1,Jo=null,Gr=!1,z0=Error(ne(519));function il(t){var e=Error(ne(418,""));throw bh(er(e,t)),z0}function fS(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[Un]=t,e[hs]=s,n){case"dialog":qe("cancel",e),qe("close",e);break;case"iframe":case"object":case"embed":qe("load",e);break;case"video":case"audio":for(n=0;n<Eh.length;n++)qe(Eh[n],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"input":qe("invalid",e),DA(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),wp(e);break;case"select":qe("invalid",e);break;case"textarea":qe("invalid",e),UA(e,s.value,s.defaultValue,s.children),wp(e)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||Vj(e.textContent,n)?(s.popover!=null&&(qe("beforetoggle",e),qe("toggle",e)),s.onScroll!=null&&qe("scroll",e),s.onScrollEnd!=null&&qe("scrollend",e),s.onClick!=null&&(e.onclick=Wg),e=!0):e=!1,e||il(t)}function mS(t){for(Gn=t.return;Gn;)switch(Gn.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Gn=Gn.return}}function _d(t){if(t!==Gn)return!1;if(!at)return mS(t),at=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||h_(t.type,t.memoizedProps)),n=!n),n&&Ot&&il(t),mS(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ot=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ot=null}}else e===27?(e=Ot,vo(t.type)?(t=p_,p_=null,Ot=t):Ot=e):Ot=Gn?Ar(t.stateNode.nextSibling):null;return!0}function of(){Ot=Gn=null,at=!1}function pS(){var t=Jo;return t!==null&&(is===null?is=t:is.push.apply(is,t),Jo=null),t}function bh(t){Jo===null?Jo=[t]:Jo.push(t)}var B0=ui(null),Sl=null,$i=null;function Ca(t,e,n){At(B0,e._currentValue),e._currentValue=n}function Zi(t){t._currentValue=B0.current,xn(B0)}function F0(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function H0(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var l=r.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=r;for(var d=0;d<e.length;d++)if(c.context===e[d]){i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),F0(i.return,n,t),s||(l=null);break e}i=c.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(ne(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),F0(l,n,t),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===t){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function lf(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(ne(387));if(l=l.memoizedProps,l!==null){var c=r.type;Ls(r.pendingProps.value,l.value)||(t!==null?t.push(c):t=[c])}}else if(r===yp.current){if(l=r.alternate,l===null)throw Error(ne(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Ah):t=[Ah])}r=r.return}t!==null&&H0(e,t,n,s),e.flags|=262144}function Ap(t){for(t=t.firstContext;t!==null;){if(!Ls(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function al(t){Sl=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Vn(t){return i2(Sl,t)}function mm(t,e){return Sl===null&&al(t),i2(t,e)}function i2(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},$i===null){if(t===null)throw Error(ne(308));$i=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else $i=$i.next=e;return n}var OL=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},DL=dn.unstable_scheduleCallback,LL=dn.unstable_NormalPriority,on={$$typeof:Bi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tb(){return{controller:new OL,data:new Map,refCount:0}}function cf(t){t.refCount--,t.refCount===0&&DL(LL,function(){t.controller.abort()})}var $d=null,$0=0,eu=0,Oc=null;function UL(t,e){if($d===null){var n=$d=[];$0=0,eu=Eb(),Oc={status:"pending",value:void 0,then:function(s){n.push(s)}}}return $0++,e.then(gS,gS),e}function gS(){if(--$0===0&&$d!==null){Oc!==null&&(Oc.status="fulfilled");var t=$d;$d=null,eu=0,Oc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function VL(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var vS=Re.S;Re.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&UL(t,e),vS!==null&&vS(t,e)};var el=ui(null);function nb(){var t=el.current;return t!==null?t:bt.pooledCache}function Wm(t,e){e===null?At(el,el.current):At(el,e.pool)}function a2(){var t=nb();return t===null?null:{parent:on._currentValue,pool:t}}var uf=Error(ne(460)),o2=Error(ne(474)),zg=Error(ne(542)),q0={then:function(){}};function yS(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pm(){}function l2(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(pm,pm),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xS(t),t;default:if(typeof e.status=="string")e.then(pm,pm);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(ne(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xS(t),t}throw qd=e,uf}}var qd=null;function _S(){if(qd===null)throw Error(ne(459));var t=qd;return qd=null,t}function xS(t){if(t===uf||t===zg)throw Error(ne(483))}var ja=!1;function sb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function G0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $a(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qa(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ft&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Ep(t),n2(t,null,n),e}return Vg(t,s,e,n),Ep(t)}function Gd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,RA(t,n)}}function wy(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var W0=!1;function Wd(){if(W0){var t=Oc;if(t!==null)throw t}}function Kd(t,e,n,s){W0=!1;var r=t.updateQueue;ja=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var d=c,h=d.next;d.next=null,l===null?i=h:l.next=h,l=d;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=d))}if(i!==null){var g=r.baseState;l=0,m=h=d=null,c=i;do{var v=c.lane&-536870913,y=v!==c.lane;if(y?(et&v)===v:(s&v)===v){v!==0&&v===eu&&(W0=!0),m!==null&&(m=m.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var A=t,w=c;v=e;var j=n;switch(w.tag){case 1:if(A=w.payload,typeof A=="function"){g=A.call(j,g,v);break e}g=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=w.payload,v=typeof A=="function"?A.call(j,g,v):A,v==null)break e;g=Et({},g,v);break e;case 2:ja=!0}}v=c.callback,v!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[v]:y.push(v))}else y={lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=y,d=g):m=m.next=y,l|=v;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;y=c,c=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);m===null&&(d=g),r.baseState=d,r.firstBaseUpdate=h,r.lastBaseUpdate=m,i===null&&(r.shared.lanes=0),so|=l,t.lanes=l,t.memoizedState=g}}function c2(t,e){if(typeof t!="function")throw Error(ne(191,t));t.call(e)}function u2(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)c2(n[t],e)}var tu=ui(null),jp=ui(0);function bS(t,e){t=na,At(jp,t),At(tu,e),na=t|e.baseLanes}function K0(){At(jp,na),At(tu,tu.current)}function rb(){na=jp.current,xn(tu),xn(jp)}var to=0,Be=null,gt=null,Jt=null,Cp=!1,Dc=!1,ol=!1,Rp=0,wh=0,Lc=null,zL=0;function Vt(){throw Error(ne(321))}function ib(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function ab(t,e,n,s,r,i){return to=i,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Re.H=t===null||t.memoizedState===null?B2:F2,ol=!1,i=n(s,r),ol=!1,Dc&&(i=h2(e,n,s,r)),d2(t),i}function d2(t){Re.H=Pp;var e=gt!==null&&gt.next!==null;if(to=0,Jt=gt=Be=null,Cp=!1,wh=0,Lc=null,e)throw Error(ne(300));t===null||yn||(t=t.dependencies,t!==null&&Ap(t)&&(yn=!0))}function h2(t,e,n,s){Be=t;var r=0;do{if(Dc&&(Lc=null),wh=0,Dc=!1,25<=r)throw Error(ne(301));if(r+=1,Jt=gt=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Re.H=WL,i=e(n,s)}while(Dc);return i}function BL(){var t=Re.H,e=t.useState()[0];return e=typeof e.then=="function"?df(e):e,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Be.flags|=1024),e}function ob(){var t=Rp!==0;return Rp=0,t}function lb(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function cb(t){if(Cp){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Cp=!1}to=0,Jt=gt=Be=null,Dc=!1,wh=Rp=0,Lc=null}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Be.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function tn(){if(gt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Jt===null?Be.memoizedState:Jt.next;if(e!==null)Jt=e,gt=t;else{if(t===null)throw Be.alternate===null?Error(ne(467)):Error(ne(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Jt===null?Be.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function ub(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function df(t){var e=wh;return wh+=1,Lc===null&&(Lc=[]),t=l2(Lc,t,e),e=Be,(Jt===null?e.memoizedState:Jt.next)===null&&(e=e.alternate,Re.H=e===null||e.memoizedState===null?B2:F2),t}function Bg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return df(t);if(t.$$typeof===Bi)return Vn(t)}throw Error(ne(438,String(t)))}function db(t){var e=null,n=Be.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=ub(),Be.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=T4;return e.index++,n}function ea(t,e){return typeof e=="function"?e(t):e}function Km(t){var e=tn();return hb(e,gt,t)}function hb(t,e,n){var s=t.queue;if(s===null)throw Error(ne(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var c=l=null,d=null,h=e,m=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(et&g)===g:(to&g)===g){var v=h.revertLane;if(v===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===eu&&(m=!0);else if((to&v)===v){h=h.next,v===eu&&(m=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=g,l=i):d=d.next=g,Be.lanes|=v,so|=v;g=h.action,ol&&n(i,g),i=h.hasEagerState?h.eagerState:n(i,g)}else v={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=v,l=i):d=d.next=v,Be.lanes|=g,so|=g;h=h.next}while(h!==null&&h!==e);if(d===null?l=i:d.next=c,!Ls(i,t.memoizedState)&&(yn=!0,m&&(n=Oc,n!==null)))throw n;t.memoizedState=i,t.baseState=l,t.baseQueue=d,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Sy(t){var e=tn(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);Ls(i,e.memoizedState)||(yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function f2(t,e,n){var s=Be,r=tn(),i=at;if(i){if(n===void 0)throw Error(ne(407));n=n()}else n=e();var l=!Ls((gt||r).memoizedState,n);l&&(r.memoizedState=n,yn=!0),r=r.queue;var c=g2.bind(null,s,r,t);if(hf(2048,8,c,[t]),r.getSnapshot!==e||l||Jt!==null&&Jt.memoizedState.tag&1){if(s.flags|=2048,nu(9,Fg(),p2.bind(null,s,r,n,e),null),bt===null)throw Error(ne(349));i||to&124||m2(s,e,n)}return n}function m2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e=ub(),Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p2(t,e,n,s){e.value=n,e.getSnapshot=s,v2(e)&&y2(t)}function g2(t,e,n){return n(function(){v2(e)&&y2(t)})}function v2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch{return!0}}function y2(t){var e=Nu(t,2);e!==null&&ks(e,t,2)}function Z0(t){var e=ss();if(typeof t=="function"){var n=t;if(t=n(),ol){Ua(!0);try{n()}finally{Ua(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},e}function _2(t,e,n,s){return t.baseState=n,hb(t,gt,typeof s=="function"?s:ea)}function FL(t,e,n,s,r){if(Hg(t))throw Error(ne(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};Re.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,x2(e,i)):(i.next=n.next,e.pending=n.next=i)}}function x2(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=Re.T,l={};Re.T=l;try{var c=n(r,s),d=Re.S;d!==null&&d(l,c),wS(t,e,c)}catch(h){Y0(t,e,h)}finally{Re.T=i}}else try{i=n(r,s),wS(t,e,i)}catch(h){Y0(t,e,h)}}function wS(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){SS(t,e,s)},function(s){return Y0(t,e,s)}):SS(t,e,n)}function SS(t,e,n){e.status="fulfilled",e.value=n,b2(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,x2(t,n)))}function Y0(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,b2(e),e=e.next;while(e!==s)}t.action=null}function b2(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function w2(t,e){return e}function ES(t,e){if(at){var n=bt.formState;if(n!==null){e:{var s=Be;if(at){if(Ot){t:{for(var r=Ot,i=Gr;r.nodeType!==8;){if(!i){r=null;break t}if(r=Ar(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){Ot=Ar(r.nextSibling),s=r.data==="F!";break e}}il(s)}s=!1}s&&(e=n[0])}}return n=ss(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w2,lastRenderedState:e},n.queue=s,n=U2.bind(null,Be,s),s.dispatch=n,s=Z0(!1),i=gb.bind(null,Be,!1,s.queue),s=ss(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=FL.bind(null,Be,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function TS(t){var e=tn();return S2(e,gt,t)}function S2(t,e,n){if(e=hb(t,e,w2)[0],t=Km(ea)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=df(e)}catch(l){throw l===uf?zg:l}else s=e;e=tn();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(Be.flags|=2048,nu(9,Fg(),HL.bind(null,r,n),null)),[s,i,t]}function HL(t,e){t.action=e}function NS(t){var e=tn(),n=gt;if(n!==null)return S2(e,n,t);tn(),e=e.memoizedState,n=tn();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function nu(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Be.updateQueue,e===null&&(e=ub(),Be.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Fg(){return{destroy:void 0,resource:void 0}}function E2(){return tn().memoizedState}function Zm(t,e,n,s){var r=ss();s=s===void 0?null:s,Be.flags|=t,r.memoizedState=nu(1|e,Fg(),n,s)}function hf(t,e,n,s){var r=tn();s=s===void 0?null:s;var i=r.memoizedState.inst;gt!==null&&s!==null&&ib(s,gt.memoizedState.deps)?r.memoizedState=nu(e,i,n,s):(Be.flags|=t,r.memoizedState=nu(1|e,i,n,s))}function AS(t,e){Zm(8390656,8,t,e)}function T2(t,e){hf(2048,8,t,e)}function N2(t,e){return hf(4,2,t,e)}function A2(t,e){return hf(4,4,t,e)}function j2(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C2(t,e,n){n=n!=null?n.concat([t]):null,hf(4,4,j2.bind(null,e,t),n)}function fb(){}function R2(t,e){var n=tn();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&ib(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function P2(t,e){var n=tn();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&ib(e,s[1]))return s[0];if(s=t(),ol){Ua(!0);try{t()}finally{Ua(!1)}}return n.memoizedState=[s,e],s}function mb(t,e,n){return n===void 0||to&1073741824?t.memoizedState=e:(t.memoizedState=n,t=bj(),Be.lanes|=t,so|=t,n)}function I2(t,e,n,s){return Ls(n,e)?n:tu.current!==null?(t=mb(t,n,s),Ls(t,e)||(yn=!0),t):to&42?(t=bj(),Be.lanes|=t,so|=t,e):(yn=!0,t.memoizedState=n)}function k2(t,e,n,s,r){var i=ot.p;ot.p=i!==0&&8>i?i:8;var l=Re.T,c={};Re.T=c,gb(t,!1,e,n);try{var d=r(),h=Re.S;if(h!==null&&h(c,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=VL(d,s);Zd(t,e,m,Is(t))}else Zd(t,e,s,Is(t))}catch(g){Zd(t,e,{then:function(){},status:"rejected",reason:g},Is())}finally{ot.p=i,Re.T=l}}function $L(){}function Q0(t,e,n,s){if(t.tag!==5)throw Error(ne(476));var r=M2(t).queue;k2(t,r,e,Yo,n===null?$L:function(){return O2(t),n(s)})}function M2(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Yo,baseState:Yo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:Yo},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function O2(t){var e=M2(t).next.queue;Zd(t,e,{},Is())}function pb(){return Vn(Ah)}function D2(){return tn().memoizedState}function L2(){return tn().memoizedState}function qL(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Is();t=$a(n);var s=qa(e,t,n);s!==null&&(ks(s,e,n),Gd(s,e,n)),e={cache:tb()},t.payload=e;return}e=e.return}}function GL(t,e,n){var s=Is();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Hg(t)?V2(e,n):(n=Qx(t,e,n,s),n!==null&&(ks(n,t,s),z2(n,e,s)))}function U2(t,e,n){var s=Is();Zd(t,e,n,s)}function Zd(t,e,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hg(t))V2(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,c=i(l,n);if(r.hasEagerState=!0,r.eagerState=c,Ls(c,l))return Vg(t,e,r,0),bt===null&&Ug(),!1}catch{}finally{}if(n=Qx(t,e,r,s),n!==null)return ks(n,t,s),z2(n,e,s),!0}return!1}function gb(t,e,n,s){if(s={lane:2,revertLane:Eb(),action:s,hasEagerState:!1,eagerState:null,next:null},Hg(t)){if(e)throw Error(ne(479))}else e=Qx(t,n,s,2),e!==null&&ks(e,t,2)}function Hg(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function V2(t,e){Dc=Cp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z2(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,RA(t,n)}}var Pp={readContext:Vn,use:Bg,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},B2={readContext:Vn,use:Bg,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:AS,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Zm(4194308,4,j2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zm(4194308,4,t,e)},useInsertionEffect:function(t,e){Zm(4,2,t,e)},useMemo:function(t,e){var n=ss();e=e===void 0?null:e;var s=t();if(ol){Ua(!0);try{t()}finally{Ua(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=ss();if(n!==void 0){var r=n(e);if(ol){Ua(!0);try{n(e)}finally{Ua(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=GL.bind(null,Be,t),[s.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:function(t){t=Z0(t);var e=t.queue,n=U2.bind(null,Be,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:fb,useDeferredValue:function(t,e){var n=ss();return mb(n,t,e)},useTransition:function(){var t=Z0(!1);return t=k2.bind(null,Be,t.queue,!0,!1),ss().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Be,r=ss();if(at){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),bt===null)throw Error(ne(349));et&124||m2(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,AS(g2.bind(null,s,i,t),[t]),s.flags|=2048,nu(9,Fg(),p2.bind(null,s,i,n,e),null),n},useId:function(){var t=ss(),e=bt.identifierPrefix;if(at){var n=Hi,s=Fi;n=(s&~(1<<32-Ps(s)-1)).toString(32)+n,e=""+e+"R"+n,n=Rp++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=zL++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:pb,useFormState:ES,useActionState:ES,useOptimistic:function(t){var e=ss();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=gb.bind(null,Be,!0,n),n.dispatch=e,[t,e]},useMemoCache:db,useCacheRefresh:function(){return ss().memoizedState=qL.bind(null,Be)}},F2={readContext:Vn,use:Bg,useCallback:R2,useContext:Vn,useEffect:T2,useImperativeHandle:C2,useInsertionEffect:N2,useLayoutEffect:A2,useMemo:P2,useReducer:Km,useRef:E2,useState:function(){return Km(ea)},useDebugValue:fb,useDeferredValue:function(t,e){var n=tn();return I2(n,gt.memoizedState,t,e)},useTransition:function(){var t=Km(ea)[0],e=tn().memoizedState;return[typeof t=="boolean"?t:df(t),e]},useSyncExternalStore:f2,useId:D2,useHostTransitionStatus:pb,useFormState:TS,useActionState:TS,useOptimistic:function(t,e){var n=tn();return _2(n,gt,t,e)},useMemoCache:db,useCacheRefresh:L2},WL={readContext:Vn,use:Bg,useCallback:R2,useContext:Vn,useEffect:T2,useImperativeHandle:C2,useInsertionEffect:N2,useLayoutEffect:A2,useMemo:P2,useReducer:Sy,useRef:E2,useState:function(){return Sy(ea)},useDebugValue:fb,useDeferredValue:function(t,e){var n=tn();return gt===null?mb(n,t,e):I2(n,gt.memoizedState,t,e)},useTransition:function(){var t=Sy(ea)[0],e=tn().memoizedState;return[typeof t=="boolean"?t:df(t),e]},useSyncExternalStore:f2,useId:D2,useHostTransitionStatus:pb,useFormState:NS,useActionState:NS,useOptimistic:function(t,e){var n=tn();return gt!==null?_2(n,gt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:db,useCacheRefresh:L2},Uc=null,Sh=0;function gm(t){var e=Sh;return Sh+=1,Uc===null&&(Uc=[]),l2(Uc,t,e)}function xd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function vm(t,e){throw e.$$typeof===S4?Error(ne(525)):(t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function jS(t){var e=t._init;return e(t._payload)}function H2(t){function e(S,T){if(t){var N=S.deletions;N===null?(S.deletions=[T],S.flags|=16):N.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function s(S){for(var T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function r(S,T){return S=Ki(S,T),S.index=0,S.sibling=null,S}function i(S,T,N){return S.index=N,t?(N=S.alternate,N!==null?(N=N.index,N<T?(S.flags|=67108866,T):N):(S.flags|=67108866,T)):(S.flags|=1048576,T)}function l(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function c(S,T,N,D){return T===null||T.tag!==6?(T=xy(N,S.mode,D),T.return=S,T):(T=r(T,N),T.return=S,T)}function d(S,T,N,D){var F=N.type;return F===xc?m(S,T,N.props.children,D,N.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Aa&&jS(F)===T.type)?(T=r(T,N.props),xd(T,N),T.return=S,T):(T=Gm(N.type,N.key,N.props,null,S.mode,D),xd(T,N),T.return=S,T)}function h(S,T,N,D){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=by(N,S.mode,D),T.return=S,T):(T=r(T,N.children||[]),T.return=S,T)}function m(S,T,N,D,F){return T===null||T.tag!==7?(T=Qo(N,S.mode,D,F),T.return=S,T):(T=r(T,N),T.return=S,T)}function g(S,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=xy(""+T,S.mode,N),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cm:return N=Gm(T.type,T.key,T.props,null,S.mode,N),xd(N,T),N.return=S,N;case Ad:return T=by(T,S.mode,N),T.return=S,T;case Aa:var D=T._init;return T=D(T._payload),g(S,T,N)}if(jd(T)||gd(T))return T=Qo(T,S.mode,N,null),T.return=S,T;if(typeof T.then=="function")return g(S,gm(T),N);if(T.$$typeof===Bi)return g(S,mm(S,T),N);vm(S,T)}return null}function v(S,T,N,D){var F=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return F!==null?null:c(S,T,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case cm:return N.key===F?d(S,T,N,D):null;case Ad:return N.key===F?h(S,T,N,D):null;case Aa:return F=N._init,N=F(N._payload),v(S,T,N,D)}if(jd(N)||gd(N))return F!==null?null:m(S,T,N,D,null);if(typeof N.then=="function")return v(S,T,gm(N),D);if(N.$$typeof===Bi)return v(S,T,mm(S,N),D);vm(S,N)}return null}function y(S,T,N,D,F){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return S=S.get(N)||null,c(T,S,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case cm:return S=S.get(D.key===null?N:D.key)||null,d(T,S,D,F);case Ad:return S=S.get(D.key===null?N:D.key)||null,h(T,S,D,F);case Aa:var $=D._init;return D=$(D._payload),y(S,T,N,D,F)}if(jd(D)||gd(D))return S=S.get(N)||null,m(T,S,D,F,null);if(typeof D.then=="function")return y(S,T,N,gm(D),F);if(D.$$typeof===Bi)return y(S,T,N,mm(T,D),F);vm(T,D)}return null}function A(S,T,N,D){for(var F=null,$=null,R=T,P=T=0,U=null;R!==null&&P<N.length;P++){R.index>P?(U=R,R=null):U=R.sibling;var I=v(S,R,N[P],D);if(I===null){R===null&&(R=U);break}t&&R&&I.alternate===null&&e(S,R),T=i(I,T,P),$===null?F=I:$.sibling=I,$=I,R=U}if(P===N.length)return n(S,R),at&&Ho(S,P),F;if(R===null){for(;P<N.length;P++)R=g(S,N[P],D),R!==null&&(T=i(R,T,P),$===null?F=R:$.sibling=R,$=R);return at&&Ho(S,P),F}for(R=s(R);P<N.length;P++)U=y(R,S,P,N[P],D),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?P:U.key),T=i(U,T,P),$===null?F=U:$.sibling=U,$=U);return t&&R.forEach(function(O){return e(S,O)}),at&&Ho(S,P),F}function w(S,T,N,D){if(N==null)throw Error(ne(151));for(var F=null,$=null,R=T,P=T=0,U=null,I=N.next();R!==null&&!I.done;P++,I=N.next()){R.index>P?(U=R,R=null):U=R.sibling;var O=v(S,R,I.value,D);if(O===null){R===null&&(R=U);break}t&&R&&O.alternate===null&&e(S,R),T=i(O,T,P),$===null?F=O:$.sibling=O,$=O,R=U}if(I.done)return n(S,R),at&&Ho(S,P),F;if(R===null){for(;!I.done;P++,I=N.next())I=g(S,I.value,D),I!==null&&(T=i(I,T,P),$===null?F=I:$.sibling=I,$=I);return at&&Ho(S,P),F}for(R=s(R);!I.done;P++,I=N.next())I=y(R,S,P,I.value,D),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?P:I.key),T=i(I,T,P),$===null?F=I:$.sibling=I,$=I);return t&&R.forEach(function(k){return e(S,k)}),at&&Ho(S,P),F}function j(S,T,N,D){if(typeof N=="object"&&N!==null&&N.type===xc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case cm:e:{for(var F=N.key;T!==null;){if(T.key===F){if(F=N.type,F===xc){if(T.tag===7){n(S,T.sibling),D=r(T,N.props.children),D.return=S,S=D;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Aa&&jS(F)===T.type){n(S,T.sibling),D=r(T,N.props),xd(D,N),D.return=S,S=D;break e}n(S,T);break}else e(S,T);T=T.sibling}N.type===xc?(D=Qo(N.props.children,S.mode,D,N.key),D.return=S,S=D):(D=Gm(N.type,N.key,N.props,null,S.mode,D),xd(D,N),D.return=S,S=D)}return l(S);case Ad:e:{for(F=N.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){n(S,T.sibling),D=r(T,N.children||[]),D.return=S,S=D;break e}else{n(S,T);break}else e(S,T);T=T.sibling}D=by(N,S.mode,D),D.return=S,S=D}return l(S);case Aa:return F=N._init,N=F(N._payload),j(S,T,N,D)}if(jd(N))return A(S,T,N,D);if(gd(N)){if(F=gd(N),typeof F!="function")throw Error(ne(150));return N=F.call(N),w(S,T,N,D)}if(typeof N.then=="function")return j(S,T,gm(N),D);if(N.$$typeof===Bi)return j(S,T,mm(S,N),D);vm(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,T!==null&&T.tag===6?(n(S,T.sibling),D=r(T,N),D.return=S,S=D):(n(S,T),D=xy(N,S.mode,D),D.return=S,S=D),l(S)):n(S,T)}return function(S,T,N,D){try{Sh=0;var F=j(S,T,N,D);return Uc=null,F}catch(R){if(R===uf||R===zg)throw R;var $=js(29,R,null,S.mode);return $.lanes=D,$.return=S,$}finally{}}}var su=H2(!0),$2=H2(!1),lr=ui(null),Xr=null;function Ra(t){var e=t.alternate;At(ln,ln.current&1),At(lr,t),Xr===null&&(e===null||tu.current!==null||e.memoizedState!==null)&&(Xr=t)}function q2(t){if(t.tag===22){if(At(ln,ln.current),At(lr,t),Xr===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Xr=t)}}else Pa()}function Pa(){At(ln,ln.current),At(lr,lr.current)}function qi(t){xn(lr),Xr===t&&(Xr=null),xn(ln)}var ln=ui(0);function Ip(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||m_(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ey(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var X0={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Is(),r=$a(s);r.payload=e,n!=null&&(r.callback=n),e=qa(t,r,s),e!==null&&(ks(e,t,s),Gd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Is(),r=$a(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=qa(t,r,s),e!==null&&(ks(e,t,s),Gd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Is(),s=$a(n);s.tag=2,e!=null&&(s.callback=e),e=qa(t,s,n),e!==null&&(ks(e,t,n),Gd(e,t,n))}};function CS(t,e,n,s,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,l):e.prototype&&e.prototype.isPureReactComponent?!xh(n,s)||!xh(r,i):!0}function RS(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&X0.enqueueReplaceState(e,e.state,null)}function ll(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Et({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var kp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function G2(t){kp(t)}function W2(t){console.error(t)}function K2(t){kp(t)}function Mp(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function PS(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function J0(t,e,n){return n=$a(n),n.tag=3,n.payload={element:null},n.callback=function(){Mp(t,e)},n}function Z2(t){return t=$a(t),t.tag=3,t}function Y2(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){PS(e,n,s)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){PS(e,n,s),typeof r!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function KL(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&lf(e,n,r,!0),n=lr.current,n!==null){switch(n.tag){case 13:return Xr===null?o_():n.alternate===null&&Dt===0&&(Dt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===q0?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Oy(t,s,r)),!1;case 22:return n.flags|=65536,s===q0?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Oy(t,s,r)),!1}throw Error(ne(435,n.tag))}return Oy(t,s,r),o_(),!1}if(at)return e=lr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==z0&&(t=Error(ne(422),{cause:s}),bh(er(t,n)))):(s!==z0&&(e=Error(ne(423),{cause:s}),bh(er(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=er(s,n),r=J0(t.stateNode,s,r),wy(t,r),Dt!==4&&(Dt=2)),!1;var i=Error(ne(520),{cause:s});if(i=er(i,n),Xd===null?Xd=[i]:Xd.push(i),Dt!==4&&(Dt=2),e===null)return!0;s=er(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=J0(n.stateNode,s,t),wy(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ga===null||!Ga.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Z2(r),Y2(r,t,n,s),wy(n,r),!1}n=n.return}while(n!==null);return!1}var Q2=Error(ne(461)),yn=!1;function Sn(t,e,n,s){e.child=t===null?$2(e,null,n,s):su(e,t.child,n,s)}function IS(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}else l=s;return al(e),s=ab(t,e,n,l,i,r),c=ob(),t!==null&&!yn?(lb(t,e,r),ta(t,e,r)):(at&&c&&Jx(e),e.flags|=1,Sn(t,e,s,r),e.child)}function kS(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Xx(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,X2(t,e,i,s,r)):(t=Gm(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!vb(t,r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:xh,n(l,s)&&t.ref===e.ref)return ta(t,e,r)}return e.flags|=1,t=Ki(i,s),t.ref=e.ref,t.return=e,e.child=t}function X2(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(xh(i,s)&&t.ref===e.ref)if(yn=!1,e.pendingProps=s=i,vb(t,r))t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,ta(t,e,r)}return e_(t,e,n,s,r)}function J2(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~s}else e.childLanes=0,e.child=null;return MS(t,e,s,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wm(e,i!==null?i.cachePool:null),i!==null?bS(e,i):K0(),q2(e);else return e.lanes=e.childLanes=536870912,MS(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(Wm(e,i.cachePool),bS(e,i),Pa(),e.memoizedState=null):(t!==null&&Wm(e,null),K0(),Pa());return Sn(t,e,r,n),e.child}function MS(t,e,n,s){var r=nb();return r=r===null?null:{parent:on._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Wm(e,null),K0(),q2(e),t!==null&&lf(t,e,s,!0),null}function Ym(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ne(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function e_(t,e,n,s,r){return al(e),n=ab(t,e,n,s,void 0,r),s=ob(),t!==null&&!yn?(lb(t,e,r),ta(t,e,r)):(at&&s&&Jx(e),e.flags|=1,Sn(t,e,n,r),e.child)}function OS(t,e,n,s,r,i){return al(e),e.updateQueue=null,n=h2(e,s,n,r),d2(t),s=ob(),t!==null&&!yn?(lb(t,e,i),ta(t,e,i)):(at&&s&&Jx(e),e.flags|=1,Sn(t,e,n,i),e.child)}function DS(t,e,n,s,r){if(al(e),e.stateNode===null){var i=jc,l=n.contextType;typeof l=="object"&&l!==null&&(i=Vn(l)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=X0,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},sb(e),l=n.contextType,i.context=typeof l=="object"&&l!==null?Vn(l):jc,i.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Ey(e,n,l,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&X0.enqueueReplaceState(i,i.state,null),Kd(e,s,i,r),Wd(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var c=e.memoizedProps,d=ll(n,c);i.props=d;var h=i.context,m=n.contextType;l=jc,typeof m=="object"&&m!==null&&(l=Vn(m));var g=n.getDerivedStateFromProps;m=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||h!==l)&&RS(e,i,s,l),ja=!1;var v=e.memoizedState;i.state=v,Kd(e,s,i,r),Wd(),h=e.memoizedState,c||v!==h||ja?(typeof g=="function"&&(Ey(e,n,g,s),h=e.memoizedState),(d=ja||CS(e,n,d,s,v,h,l))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),i.props=s,i.state=h,i.context=l,s=d):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,G0(t,e),l=e.memoizedProps,m=ll(n,l),i.props=m,g=e.pendingProps,v=i.context,h=n.contextType,d=jc,typeof h=="object"&&h!==null&&(d=Vn(h)),c=n.getDerivedStateFromProps,(h=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==g||v!==d)&&RS(e,i,s,d),ja=!1,v=e.memoizedState,i.state=v,Kd(e,s,i,r),Wd();var y=e.memoizedState;l!==g||v!==y||ja||t!==null&&t.dependencies!==null&&Ap(t.dependencies)?(typeof c=="function"&&(Ey(e,n,c,s),y=e.memoizedState),(m=ja||CS(e,n,m,s,v,y,d)||t!==null&&t.dependencies!==null&&Ap(t.dependencies))?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,y,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,y,d)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),i.props=s,i.state=y,i.context=d,s=m):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,Ym(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=su(e,t.child,null,r),e.child=su(e,null,n,r)):Sn(t,e,n,r),e.memoizedState=i.state,t=e.child):t=ta(t,e,r),t}function LS(t,e,n,s){return of(),e.flags|=256,Sn(t,e,n,s),e.child}var Ty={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ny(t){return{baseLanes:t,cachePool:a2()}}function Ay(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=sr),t}function ej(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(ln.current&2)!==0),l&&(r=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(at){if(r?Ra(e):Pa(),at){var c=Ot,d;if(d=c){e:{for(d=c,c=Gr;d.nodeType!==8;){if(!c){c=null;break e}if(d=Ar(d.nextSibling),d===null){c=null;break e}}c=d}c!==null?(e.memoizedState={dehydrated:c,treeContext:Xo!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},d=js(18,null,null,0),d.stateNode=c,d.return=e,e.child=d,Gn=e,Ot=null,d=!0):d=!1}d||il(e)}if(c=e.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return m_(c)?e.lanes=32:e.lanes=536870912,null;qi(e)}return c=s.children,s=s.fallback,r?(Pa(),r=e.mode,c=Op({mode:"hidden",children:c},r),s=Qo(s,r,n,null),c.return=e,s.return=e,c.sibling=s,e.child=c,r=e.child,r.memoizedState=Ny(n),r.childLanes=Ay(t,l,n),e.memoizedState=Ty,s):(Ra(e),t_(e,c))}if(d=t.memoizedState,d!==null&&(c=d.dehydrated,c!==null)){if(i)e.flags&256?(Ra(e),e.flags&=-257,e=jy(t,e,n)):e.memoizedState!==null?(Pa(),e.child=t.child,e.flags|=128,e=null):(Pa(),r=s.fallback,c=e.mode,s=Op({mode:"visible",children:s.children},c),r=Qo(r,c,n,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,su(e,t.child,null,n),s=e.child,s.memoizedState=Ny(n),s.childLanes=Ay(t,l,n),e.memoizedState=Ty,e=r);else if(Ra(e),m_(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var h=l.dgst;l=h,s=Error(ne(419)),s.stack="",s.digest=l,bh({value:s,source:null,stack:null}),e=jy(t,e,n)}else if(yn||lf(t,e,n,!1),l=(n&t.childLanes)!==0,yn||l){if(l=bt,l!==null&&(s=n&-n,s=s&42?1:Bx(s),s=s&(l.suspendedLanes|n)?0:s,s!==0&&s!==d.retryLane))throw d.retryLane=s,Nu(t,s),ks(l,t,s),Q2;c.data==="$?"||o_(),e=jy(t,e,n)}else c.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=d.treeContext,Ot=Ar(c.nextSibling),Gn=e,at=!0,Jo=null,Gr=!1,t!==null&&(Qs[Xs++]=Fi,Qs[Xs++]=Hi,Qs[Xs++]=Xo,Fi=t.id,Hi=t.overflow,Xo=e),e=t_(e,s.children),e.flags|=4096);return e}return r?(Pa(),r=s.fallback,c=e.mode,d=t.child,h=d.sibling,s=Ki(d,{mode:"hidden",children:s.children}),s.subtreeFlags=d.subtreeFlags&65011712,h!==null?r=Ki(h,r):(r=Qo(r,c,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,c=t.child.memoizedState,c===null?c=Ny(n):(d=c.cachePool,d!==null?(h=on._currentValue,d=d.parent!==h?{parent:h,pool:h}:d):d=a2(),c={baseLanes:c.baseLanes|n,cachePool:d}),r.memoizedState=c,r.childLanes=Ay(t,l,n),e.memoizedState=Ty,s):(Ra(e),n=t.child,t=n.sibling,n=Ki(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function t_(t,e){return e=Op({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Op(t,e){return t=js(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jy(t,e,n){return su(e,t.child,null,n),t=t_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function US(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),F0(t.return,e,n)}function Cy(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function tj(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Sn(t,e,s.children,n),s=ln.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&US(t,n,e);else if(t.tag===19)US(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(At(ln,s),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ip(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Cy(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ip(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Cy(e,!0,n,null,i);break;case"together":Cy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ta(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))if(t!==null){if(lf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vb(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ap(t)))}function ZL(t,e,n){switch(e.tag){case 3:_p(e,e.stateNode.containerInfo),Ca(e,on,t.memoizedState.cache),of();break;case 27:case 5:R0(e);break;case 4:_p(e,e.stateNode.containerInfo);break;case 10:Ca(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Ra(e),e.flags|=128,null):n&e.child.childLanes?ej(t,e,n):(Ra(e),t=ta(t,e,n),t!==null?t.sibling:null);Ra(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(lf(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return tj(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),At(ln,ln.current),s)break;return null;case 22:case 23:return e.lanes=0,J2(t,e,n);case 24:Ca(e,on,t.memoizedState.cache)}return ta(t,e,n)}function nj(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)yn=!0;else{if(!vb(t,n)&&!(e.flags&128))return yn=!1,ZL(t,e,n);yn=!!(t.flags&131072)}else yn=!1,at&&e.flags&1048576&&r2(e,Np,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var s=e.elementType,r=s._init;if(s=r(s._payload),e.type=s,typeof s=="function")Xx(s)?(t=ll(s,t),e.tag=1,e=DS(null,e,s,t,n)):(e.tag=0,e=e_(null,e,s,t,n));else{if(s!=null){if(r=s.$$typeof,r===Ux){e.tag=11,e=IS(null,e,s,t,n);break e}else if(r===Vx){e.tag=14,e=kS(null,e,s,t,n);break e}}throw e=j0(s)||s,Error(ne(306,e,""))}}return e;case 0:return e_(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=ll(s,e.pendingProps),DS(t,e,s,r,n);case 3:e:{if(_p(e,e.stateNode.containerInfo),t===null)throw Error(ne(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,G0(t,e),Kd(e,s,null,n);var l=e.memoizedState;if(s=l.cache,Ca(e,on,s),s!==i.cache&&H0(e,[on],n,!0),Wd(),s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=LS(t,e,s,n);break e}else if(s!==r){r=er(Error(ne(424)),e),bh(r),e=LS(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=Ar(t.firstChild),Gn=e,at=!0,Jo=null,Gr=!0,n=$2(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(of(),s===r){e=ta(t,e,n);break e}Sn(t,e,s,n)}e=e.child}return e;case 26:return Ym(t,e),t===null?(n=tE(e.type,null,e.pendingProps,null))?e.memoizedState=n:at||(n=e.type,t=e.pendingProps,s=Fp(Ha.current).createElement(n),s[Un]=e,s[hs]=t,jn(s,n,t),pn(s),e.stateNode=s):e.memoizedState=tE(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return R0(e),t===null&&at&&(s=e.stateNode=Fj(e.type,e.pendingProps,Ha.current),Gn=e,Gr=!0,r=Ot,vo(e.type)?(p_=r,Ot=Ar(s.firstChild)):Ot=r),Sn(t,e,e.pendingProps.children,n),Ym(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&at&&((r=s=Ot)&&(s=S6(s,e.type,e.pendingProps,Gr),s!==null?(e.stateNode=s,Gn=e,Ot=Ar(s.firstChild),Gr=!1,r=!0):r=!1),r||il(e)),R0(e),r=e.type,i=e.pendingProps,l=t!==null?t.memoizedProps:null,s=i.children,h_(r,i)?s=null:l!==null&&h_(r,l)&&(e.flags|=32),e.memoizedState!==null&&(r=ab(t,e,BL,null,null,n),Ah._currentValue=r),Ym(t,e),Sn(t,e,s,n),e.child;case 6:return t===null&&at&&((t=n=Ot)&&(n=E6(n,e.pendingProps,Gr),n!==null?(e.stateNode=n,Gn=e,Ot=null,t=!0):t=!1),t||il(e)),null;case 13:return ej(t,e,n);case 4:return _p(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=su(e,null,s,n):Sn(t,e,s,n),e.child;case 11:return IS(t,e,e.type,e.pendingProps,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Ca(e,e.type,s.value),Sn(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,al(e),r=Vn(r),s=s(r),e.flags|=1,Sn(t,e,s,n),e.child;case 14:return kS(t,e,e.type,e.pendingProps,n);case 15:return X2(t,e,e.type,e.pendingProps,n);case 19:return tj(t,e,n);case 31:return s=e.pendingProps,n=e.mode,s={mode:s.mode,children:s.children},t===null?(n=Op(s,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ki(t.child,s),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return J2(t,e,n);case 24:return al(e),s=Vn(on),t===null?(r=nb(),r===null&&(r=bt,i=tb(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},sb(e),Ca(e,on,r)):(t.lanes&n&&(G0(t,e),Kd(e,null,null,n),Wd()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ca(e,on,s)):(s=i.cache,Ca(e,on,s),s!==r.cache&&H0(e,[on],n,!0))),Sn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(ne(156,e.tag))}function Ii(t){t.flags|=4}function VS(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!qj(e)){if(e=lr.current,e!==null&&((et&4194048)===et?Xr!==null:(et&62914560)!==et&&!(et&536870912)||e!==Xr))throw qd=q0,o2;t.flags|=8192}}function ym(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?jA():536870912,t.lanes|=e,ru|=e)}function bd(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function YL(t,e,n){var s=e.pendingProps;switch(eb(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Ct(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Zi(on),Qc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_d(e)?Ii(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pS())),Ct(e),null;case 26:return n=e.memoizedState,t===null?(Ii(e),n!==null?(Ct(e),VS(e,n)):(Ct(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Ii(e),Ct(e),VS(e,n)):(Ct(e),e.flags&=-16777217):(t.memoizedProps!==s&&Ii(e),Ct(e),e.flags&=-16777217),null;case 27:xp(e),n=Ha.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ii(e);else{if(!s){if(e.stateNode===null)throw Error(ne(166));return Ct(e),null}t=Yr.current,_d(e)?fS(e):(t=Fj(r,s,n),e.stateNode=t,Ii(e))}return Ct(e),null;case 5:if(xp(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ii(e);else{if(!s){if(e.stateNode===null)throw Error(ne(166));return Ct(e),null}if(t=Yr.current,_d(e))fS(e);else{switch(r=Fp(Ha.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}t[Un]=e,t[hs]=s;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(jn(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ii(e)}}return Ct(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Ii(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(ne(166));if(t=Ha.current,_d(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=Gn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[Un]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Vj(t.nodeValue,n)),t||il(e)}else t=Fp(t).createTextNode(s),t[Un]=e,e.stateNode=t}return Ct(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=_d(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(ne(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ne(317));r[Un]=e}else of(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),r=!1}else r=pS(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(qi(e),e):(qi(e),null)}if(qi(e),e.flags&128)return e.lanes=n,e;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),ym(e,e.updateQueue),Ct(e),null;case 4:return Qc(),t===null&&Tb(e.stateNode.containerInfo),Ct(e),null;case 10:return Zi(e.type),Ct(e),null;case 19:if(xn(ln),r=e.memoizedState,r===null)return Ct(e),null;if(s=(e.flags&128)!==0,i=r.rendering,i===null)if(s)bd(r,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Ip(t),i!==null){for(e.flags|=128,bd(r,!1),t=i.updateQueue,e.updateQueue=t,ym(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)s2(n,t),n=n.sibling;return At(ln,ln.current&1|2),e.child}t=t.sibling}r.tail!==null&&Qr()>Lp&&(e.flags|=128,s=!0,bd(r,!1),e.lanes=4194304)}else{if(!s)if(t=Ip(i),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,ym(e,t),bd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!at)return Ct(e),null}else 2*Qr()-r.renderingStartTime>Lp&&n!==536870912&&(e.flags|=128,s=!0,bd(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Qr(),e.sibling=null,t=ln.current,At(ln,s?t&1|2:t&1),e):(Ct(e),null);case 22:case 23:return qi(e),rb(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),n=e.updateQueue,n!==null&&ym(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&xn(el),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Zi(on),Ct(e),null;case 25:return null;case 30:return null}throw Error(ne(156,e.tag))}function QL(t,e){switch(eb(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zi(on),Qc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return xp(e),null;case 13:if(qi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));of()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xn(ln),null;case 4:return Qc(),null;case 10:return Zi(e.type),null;case 22:case 23:return qi(e),rb(),t!==null&&xn(el),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Zi(on),null;case 25:return null;default:return null}}function sj(t,e){switch(eb(e),e.tag){case 3:Zi(on),Qc();break;case 26:case 27:case 5:xp(e);break;case 4:Qc();break;case 13:qi(e);break;case 19:xn(ln);break;case 10:Zi(e.type);break;case 22:case 23:qi(e),rb(),t!==null&&xn(el);break;case 24:Zi(on)}}function ff(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,l=n.inst;s=i(),l.destroy=s}n=n.next}while(n!==r)}}catch(c){yt(e,e.return,c)}}function no(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var l=s.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,r=e;var d=n,h=c;try{h()}catch(m){yt(r,d,m)}}}s=s.next}while(s!==i)}}catch(m){yt(e,e.return,m)}}function rj(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{u2(e,n)}catch(s){yt(t,t.return,s)}}}function ij(t,e,n){n.props=ll(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){yt(t,e,s)}}function Yd(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){yt(t,e,r)}}function Kr(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){yt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function aj(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){yt(t,t.return,r)}}function Ry(t,e,n){try{var s=t.stateNode;y6(s,t.type,n,e),s[hs]=e}catch(r){yt(t,t.return,r)}}function oj(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vo(t.type)||t.tag===4}function Py(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n_(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wg));else if(s!==4&&(s===27&&vo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(n_(t,e,n),t=t.sibling;t!==null;)n_(t,e,n),t=t.sibling}function Dp(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&vo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}function lj(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);jn(e,s,n),e[Un]=t,e[hs]=n}catch(i){yt(t,t.return,i)}}var Vi=!1,Bt=!1,Iy=!1,zS=typeof WeakSet=="function"?WeakSet:Set,mn=null;function XL(t,e){if(t=t.containerInfo,u_=Gp,t=ZA(t),Zx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,h=0,m=0,g=t,v=null;t:for(;;){for(var y;g!==n||r!==0&&g.nodeType!==3||(c=l+r),g!==i||s!==0&&g.nodeType!==3||(d=l+s),g.nodeType===3&&(l+=g.nodeValue.length),(y=g.firstChild)!==null;)v=g,g=y;for(;;){if(g===t)break t;if(v===n&&++h===r&&(c=l),v===i&&++m===s&&(d=l),(y=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=y}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(d_={focusedElem:t,selectionRange:n},Gp=!1,mn=e;mn!==null;)if(e=mn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,mn=t;else for(;mn!==null;){switch(e=mn,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var A=ll(n.type,r,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(A,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(w){yt(n,n.return,w)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)f_(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":f_(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ne(163))}if(t=e.sibling,t!==null){t.return=e.return,mn=t;break}mn=e.return}}function cj(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:_a(t,n),s&4&&ff(5,n);break;case 1:if(_a(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){yt(n,n.return,l)}else{var r=ll(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){yt(n,n.return,l)}}s&64&&rj(n),s&512&&Yd(n,n.return);break;case 3:if(_a(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{u2(t,e)}catch(l){yt(n,n.return,l)}}break;case 27:e===null&&s&4&&lj(n);case 26:case 5:_a(t,n),e===null&&s&4&&aj(n),s&512&&Yd(n,n.return);break;case 12:_a(t,n);break;case 13:_a(t,n),s&4&&hj(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=o6.bind(null,n),T6(t,n))));break;case 22:if(s=n.memoizedState!==null||Vi,!s){e=e!==null&&e.memoizedState!==null||Bt,r=Vi;var i=Bt;Vi=s,(Bt=e)&&!i?Ea(t,n,(n.subtreeFlags&8772)!==0):_a(t,n),Vi=r,Bt=i}break;case 30:break;default:_a(t,n)}}function uj(t){var e=t.alternate;e!==null&&(t.alternate=null,uj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Hx(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,rs=!1;function ki(t,e,n){for(n=n.child;n!==null;)dj(t,e,n),n=n.sibling}function dj(t,e,n){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 26:Bt||Kr(n,e),ki(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Bt||Kr(n,e);var s=Tt,r=rs;vo(n.type)&&(Tt=n.stateNode,rs=!1),ki(t,e,n),eh(n.stateNode),Tt=s,rs=r;break;case 5:Bt||Kr(n,e);case 6:if(s=Tt,r=rs,Tt=null,ki(t,e,n),Tt=s,rs=r,Tt!==null)if(rs)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(n.stateNode)}catch(i){yt(n,e,i)}else try{Tt.removeChild(n.stateNode)}catch(i){yt(n,e,i)}break;case 18:Tt!==null&&(rs?(t=Tt,XS(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Rh(t)):XS(Tt,n.stateNode));break;case 4:s=Tt,r=rs,Tt=n.stateNode.containerInfo,rs=!0,ki(t,e,n),Tt=s,rs=r;break;case 0:case 11:case 14:case 15:Bt||no(2,n,e),Bt||no(4,n,e),ki(t,e,n);break;case 1:Bt||(Kr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&ij(n,e,s)),ki(t,e,n);break;case 21:ki(t,e,n);break;case 22:Bt=(s=Bt)||n.memoizedState!==null,ki(t,e,n),Bt=s;break;default:ki(t,e,n)}}function hj(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rh(t)}catch(n){yt(e,e.return,n)}}function JL(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new zS),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new zS),e;default:throw Error(ne(435,t.tag))}}function ky(t,e){var n=JL(t);e.forEach(function(s){var r=l6.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}function Ss(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 27:if(vo(c.type)){Tt=c.stateNode,rs=!1;break e}break;case 5:Tt=c.stateNode,rs=!1;break e;case 3:case 4:Tt=c.stateNode.containerInfo,rs=!0;break e}c=c.return}if(Tt===null)throw Error(ne(160));dj(i,l,r),Tt=null,rs=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)fj(e,t),e=e.sibling}var Sr=null;function fj(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ss(e,t),Es(t),s&4&&(no(3,t,t.return),ff(3,t),no(5,t,t.return));break;case 1:Ss(e,t),Es(t),s&512&&(Bt||n===null||Kr(n,n.return)),s&64&&Vi&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=Sr;if(Ss(e,t),Es(t),s&512&&(Bt||n===null||Kr(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[rf]||i[Un]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),jn(i,s,n),i[Un]=t,pn(i),s=i;break e;case"link":var l=sE("link","href",r).get(s+(n.href||""));if(l){for(var c=0;c<l.length;c++)if(i=l[c],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(c,1);break t}}i=r.createElement(s),jn(i,s,n),r.head.appendChild(i);break;case"meta":if(l=sE("meta","content",r).get(s+(n.content||""))){for(c=0;c<l.length;c++)if(i=l[c],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(c,1);break t}}i=r.createElement(s),jn(i,s,n),r.head.appendChild(i);break;default:throw Error(ne(468,s))}i[Un]=t,pn(i),s=i}t.stateNode=s}else rE(r,t.type,t.stateNode);else t.stateNode=nE(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?rE(r,t.type,t.stateNode):nE(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Ry(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ss(e,t),Es(t),s&512&&(Bt||n===null||Kr(n,n.return)),n!==null&&s&4&&Ry(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ss(e,t),Es(t),s&512&&(Bt||n===null||Kr(n,n.return)),t.flags&32){r=t.stateNode;try{Jc(r,"")}catch(y){yt(t,t.return,y)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,Ry(t,r,n!==null?n.memoizedProps:r)),s&1024&&(Iy=!0);break;case 6:if(Ss(e,t),Es(t),s&4){if(t.stateNode===null)throw Error(ne(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(y){yt(t,t.return,y)}}break;case 3:if(Jm=null,r=Sr,Sr=Hp(e.containerInfo),Ss(e,t),Sr=r,Es(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Rh(e.containerInfo)}catch(y){yt(t,t.return,y)}Iy&&(Iy=!1,mj(t));break;case 4:s=Sr,Sr=Hp(t.stateNode.containerInfo),Ss(e,t),Es(t),Sr=s;break;case 12:Ss(e,t),Es(t);break;case 13:Ss(e,t),Es(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(wb=Qr()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ky(t,s)));break;case 22:r=t.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,h=Vi,m=Bt;if(Vi=h||r,Bt=m||d,Ss(e,t),Bt=m,Vi=h,Es(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||d||Vi||Bt||$o(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){d=n=e;try{if(i=d.stateNode,r)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=d.stateNode;var g=d.memoizedProps.style,v=g!=null&&g.hasOwnProperty("display")?g.display:null;c.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(y){yt(d,d.return,y)}}}else if(e.tag===6){if(n===null){d=e;try{d.stateNode.nodeValue=r?"":d.memoizedProps}catch(y){yt(d,d.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,ky(t,n))));break;case 19:Ss(e,t),Es(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ky(t,s)));break;case 30:break;case 21:break;default:Ss(e,t),Es(t)}}function Es(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(oj(s)){n=s;break}s=s.return}if(n==null)throw Error(ne(160));switch(n.tag){case 27:var r=n.stateNode,i=Py(t);Dp(t,i,r);break;case 5:var l=n.stateNode;n.flags&32&&(Jc(l,""),n.flags&=-33);var c=Py(t);Dp(t,c,l);break;case 3:case 4:var d=n.stateNode.containerInfo,h=Py(t);n_(t,h,d);break;default:throw Error(ne(161))}}catch(m){yt(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mj(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;mj(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function _a(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)cj(t,e.alternate,e),e=e.sibling}function $o(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:no(4,e,e.return),$o(e);break;case 1:Kr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ij(e,e.return,n),$o(e);break;case 27:eh(e.stateNode);case 26:case 5:Kr(e,e.return),$o(e);break;case 22:e.memoizedState===null&&$o(e);break;case 30:$o(e);break;default:$o(e)}t=t.sibling}}function Ea(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,l=i.flags;switch(i.tag){case 0:case 11:case 15:Ea(r,i,n),ff(4,i);break;case 1:if(Ea(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){yt(s,s.return,h)}if(s=i,r=s.updateQueue,r!==null){var c=s.stateNode;try{var d=r.shared.hiddenCallbacks;if(d!==null)for(r.shared.hiddenCallbacks=null,r=0;r<d.length;r++)c2(d[r],c)}catch(h){yt(s,s.return,h)}}n&&l&64&&rj(i),Yd(i,i.return);break;case 27:lj(i);case 26:case 5:Ea(r,i,n),n&&s===null&&l&4&&aj(i),Yd(i,i.return);break;case 12:Ea(r,i,n);break;case 13:Ea(r,i,n),n&&l&4&&hj(r,i);break;case 22:i.memoizedState===null&&Ea(r,i,n),Yd(i,i.return);break;case 30:break;default:Ea(r,i,n)}e=e.sibling}}function yb(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&cf(n))}function _b(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&cf(t))}function Hr(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pj(t,e,n,s),e=e.sibling}function pj(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Hr(t,e,n,s),r&2048&&ff(9,e);break;case 1:Hr(t,e,n,s);break;case 3:Hr(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&cf(t)));break;case 12:if(r&2048){Hr(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,l=i.id,c=i.onPostCommit;typeof c=="function"&&c(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(d){yt(e,e.return,d)}}else Hr(t,e,n,s);break;case 13:Hr(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,l=e.alternate,e.memoizedState!==null?i._visibility&2?Hr(t,e,n,s):Qd(t,e):i._visibility&2?Hr(t,e,n,s):(i._visibility|=2,dc(t,e,n,s,(e.subtreeFlags&10256)!==0)),r&2048&&yb(l,e);break;case 24:Hr(t,e,n,s),r&2048&&_b(e.alternate,e);break;default:Hr(t,e,n,s)}}function dc(t,e,n,s,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,l=e,c=n,d=s,h=l.flags;switch(l.tag){case 0:case 11:case 15:dc(i,l,c,d,r),ff(8,l);break;case 23:break;case 22:var m=l.stateNode;l.memoizedState!==null?m._visibility&2?dc(i,l,c,d,r):Qd(i,l):(m._visibility|=2,dc(i,l,c,d,r)),r&&h&2048&&yb(l.alternate,l);break;case 24:dc(i,l,c,d,r),r&&h&2048&&_b(l.alternate,l);break;default:dc(i,l,c,d,r)}e=e.sibling}}function Qd(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:Qd(n,s),r&2048&&yb(s.alternate,s);break;case 24:Qd(n,s),r&2048&&_b(s.alternate,s);break;default:Qd(n,s)}e=e.sibling}}var Rd=8192;function Jl(t){if(t.subtreeFlags&Rd)for(t=t.child;t!==null;)gj(t),t=t.sibling}function gj(t){switch(t.tag){case 26:Jl(t),t.flags&Rd&&t.memoizedState!==null&&U6(Sr,t.memoizedState,t.memoizedProps);break;case 5:Jl(t);break;case 3:case 4:var e=Sr;Sr=Hp(t.stateNode.containerInfo),Jl(t),Sr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Rd,Rd=16777216,Jl(t),Rd=e):Jl(t));break;default:Jl(t)}}function vj(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];mn=s,_j(s,t)}vj(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yj(t),t=t.sibling}function yj(t){switch(t.tag){case 0:case 11:case 15:wd(t),t.flags&2048&&no(9,t,t.return);break;case 3:wd(t);break;case 12:wd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Qm(t)):wd(t);break;default:wd(t)}}function Qm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];mn=s,_j(s,t)}vj(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:no(8,e,e.return),Qm(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Qm(e));break;default:Qm(e)}t=t.sibling}}function _j(t,e){for(;mn!==null;){var n=mn;switch(n.tag){case 0:case 11:case 15:no(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:cf(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,mn=s;else e:for(n=t;mn!==null;){s=mn;var r=s.sibling,i=s.return;if(uj(s),s===n){mn=null;break e}if(r!==null){r.return=i,mn=r;break e}mn=i}}}var e6={getCacheForType:function(t){var e=Vn(on),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},t6=typeof WeakMap=="function"?WeakMap:Map,ft=0,bt=null,Ge=null,et=0,ht=0,Ns=null,za=!1,Au=!1,xb=!1,na=0,Dt=0,so=0,tl=0,bb=0,sr=0,ru=0,Xd=null,is=null,s_=!1,wb=0,Lp=1/0,Up=null,Ga=null,Nn=0,Wa=null,iu=null,Vc=0,r_=0,i_=null,xj=null,Jd=0,a_=null;function Is(){if(ft&2&&et!==0)return et&-et;if(Re.T!==null){var t=eu;return t!==0?t:Eb()}return PA()}function bj(){sr===0&&(sr=!(et&536870912)||at?AA():536870912);var t=lr.current;return t!==null&&(t.flags|=32),sr}function ks(t,e,n){(t===bt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(au(t,0),Ba(t,et,sr,!1)),sf(t,n),(!(ft&2)||t!==bt)&&(t===bt&&(!(ft&2)&&(tl|=n),Dt===4&&Ba(t,et,sr,!1)),di(t))}function wj(t,e,n){if(ft&6)throw Error(ne(327));var s=!n&&(e&124)===0&&(e&t.expiredLanes)===0||nf(t,e),r=s?r6(t,e):My(t,e,!0),i=s;do{if(r===0){Au&&!s&&Ba(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!n6(n)){r=My(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var c=t;r=Xd;var d=c.current.memoizedState.isDehydrated;if(d&&(au(c,l).flags|=256),l=My(c,l,!1),l!==2){if(xb&&!d){c.errorRecoveryDisabledLanes|=i,tl|=i,r=4;break e}i=is,is=r,i!==null&&(is===null?is=i:is.push.apply(is,i))}r=l}if(i=!1,r!==2)continue}}if(r===1){au(t,0),Ba(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(ne(345));case 4:if((e&4194048)!==e)break;case 6:Ba(s,e,sr,!za);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(ne(329))}if((e&62914560)===e&&(r=wb+300-Qr(),10<r)){if(Ba(s,e,sr,!za),Mg(s,0,!0)!==0)break e;s.timeoutHandle=Bj(BS.bind(null,s,n,is,Up,s_,e,sr,tl,ru,za,i,2,-0,0),r);break e}BS(s,n,is,Up,s_,e,sr,tl,ru,za,i,0,-0,0)}}break}while(!0);di(t)}function BS(t,e,n,s,r,i,l,c,d,h,m,g,v,y){if(t.timeoutHandle=-1,g=e.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(Nh={stylesheets:null,count:0,unsuspend:L6},gj(e),g=V6(),g!==null)){t.cancelPendingCommit=g(HS.bind(null,t,e,i,n,s,r,l,c,d,m,1,v,y)),Ba(t,i,l,!h);return}HS(t,e,i,n,s,r,l,c,d)}function n6(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Ls(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e,n,s){e&=~bb,e&=~tl,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-Ps(r),l=1<<i;s[i]=-1,r&=~l}n!==0&&CA(t,n,e)}function $g(){return ft&6?!0:(mf(0),!1)}function Sb(){if(Ge!==null){if(ht===0)var t=Ge.return;else t=Ge,$i=Sl=null,cb(t),Uc=null,Sh=0,t=Ge;for(;t!==null;)sj(t.alternate,t),t=t.return;Ge=null}}function au(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,x6(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Sb(),bt=t,Ge=n=Ki(t.current,null),et=e,ht=0,Ns=null,za=!1,Au=nf(t,e),xb=!1,ru=sr=bb=tl=so=Dt=0,is=Xd=null,s_=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Ps(s),i=1<<r;e|=t[r],s&=~i}return na=e,Ug(),n}function Sj(t,e){Be=null,Re.H=Pp,e===uf||e===zg?(e=_S(),ht=3):e===o2?(e=_S(),ht=4):ht=e===Q2?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ns=e,Ge===null&&(Dt=1,Mp(t,er(e,t.current)))}function Ej(){var t=Re.H;return Re.H=Pp,t===null?Pp:t}function Tj(){var t=Re.A;return Re.A=e6,t}function o_(){Dt=4,za||(et&4194048)!==et&&lr.current!==null||(Au=!0),!(so&134217727)&&!(tl&134217727)||bt===null||Ba(bt,et,sr,!1)}function My(t,e,n){var s=ft;ft|=2;var r=Ej(),i=Tj();(bt!==t||et!==e)&&(Up=null,au(t,e)),e=!1;var l=Dt;e:do try{if(ht!==0&&Ge!==null){var c=Ge,d=Ns;switch(ht){case 8:Sb(),l=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(e=!0);var h=ht;if(ht=0,Ns=null,Pc(t,c,d,h),n&&Au){l=0;break e}break;default:h=ht,ht=0,Ns=null,Pc(t,c,d,h)}}s6(),l=Dt;break}catch(m){Sj(t,m)}while(!0);return e&&t.shellSuspendCounter++,$i=Sl=null,ft=s,Re.H=r,Re.A=i,Ge===null&&(bt=null,et=0,Ug()),l}function s6(){for(;Ge!==null;)Nj(Ge)}function r6(t,e){var n=ft;ft|=2;var s=Ej(),r=Tj();bt!==t||et!==e?(Up=null,Lp=Qr()+500,au(t,e)):Au=nf(t,e);e:do try{if(ht!==0&&Ge!==null){e=Ge;var i=Ns;t:switch(ht){case 1:ht=0,Ns=null,Pc(t,e,i,1);break;case 2:case 9:if(yS(i)){ht=0,Ns=null,FS(e);break}e=function(){ht!==2&&ht!==9||bt!==t||(ht=7),di(t)},i.then(e,e);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:yS(i)?(ht=0,Ns=null,FS(e)):(ht=0,Ns=null,Pc(t,e,i,7));break;case 5:var l=null;switch(Ge.tag){case 26:l=Ge.memoizedState;case 5:case 27:var c=Ge;if(!l||qj(l)){ht=0,Ns=null;var d=c.sibling;if(d!==null)Ge=d;else{var h=c.return;h!==null?(Ge=h,qg(h)):Ge=null}break t}}ht=0,Ns=null,Pc(t,e,i,5);break;case 6:ht=0,Ns=null,Pc(t,e,i,6);break;case 8:Sb(),Dt=6;break e;default:throw Error(ne(462))}}i6();break}catch(m){Sj(t,m)}while(!0);return $i=Sl=null,Re.H=s,Re.A=r,ft=n,Ge!==null?0:(bt=null,et=0,Ug(),Dt)}function i6(){for(;Ge!==null&&!A4();)Nj(Ge)}function Nj(t){var e=nj(t.alternate,t,na);t.memoizedProps=t.pendingProps,e===null?qg(t):Ge=e}function FS(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=OS(n,e,e.pendingProps,e.type,void 0,et);break;case 11:e=OS(n,e,e.pendingProps,e.type.render,e.ref,et);break;case 5:cb(e);default:sj(n,e),e=Ge=s2(e,na),e=nj(n,e,na)}t.memoizedProps=t.pendingProps,e===null?qg(t):Ge=e}function Pc(t,e,n,s){$i=Sl=null,cb(e),Uc=null,Sh=0;var r=e.return;try{if(KL(t,r,e,n,et)){Dt=1,Mp(t,er(n,t.current)),Ge=null;return}}catch(i){if(r!==null)throw Ge=r,i;Dt=1,Mp(t,er(n,t.current)),Ge=null;return}e.flags&32768?(at||s===1?t=!0:Au||et&536870912?t=!1:(za=t=!0,(s===2||s===9||s===3||s===6)&&(s=lr.current,s!==null&&s.tag===13&&(s.flags|=16384))),Aj(e,t)):qg(e)}function qg(t){var e=t;do{if(e.flags&32768){Aj(e,za);return}t=e.return;var n=YL(e.alternate,e,na);if(n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Dt===0&&(Dt=5)}function Aj(t,e){do{var n=QL(t.alternate,t);if(n!==null){n.flags&=32767,Ge=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=n}while(t!==null);Dt=6,Ge=null}function HS(t,e,n,s,r,i,l,c,d){t.cancelPendingCommit=null;do Gg();while(Nn!==0);if(ft&6)throw Error(ne(327));if(e!==null){if(e===t.current)throw Error(ne(177));if(i=e.lanes|e.childLanes,i|=Yx,L4(t,n,i,l,c,d),t===bt&&(Ge=bt=null,et=0),iu=e,Wa=t,Vc=n,r_=i,i_=r,xj=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,c6(bp,function(){return Ij(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Re.T,Re.T=null,r=ot.p,ot.p=2,l=ft,ft|=4;try{XL(t,e,n)}finally{ft=l,ot.p=r,Re.T=s}}Nn=1,jj(),Cj(),Rj()}}function jj(){if(Nn===1){Nn=0;var t=Wa,e=iu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Re.T,Re.T=null;var s=ot.p;ot.p=2;var r=ft;ft|=4;try{fj(e,t);var i=d_,l=ZA(t.containerInfo),c=i.focusedElem,d=i.selectionRange;if(l!==c&&c&&c.ownerDocument&&KA(c.ownerDocument.documentElement,c)){if(d!==null&&Zx(c)){var h=d.start,m=d.end;if(m===void 0&&(m=h),"selectionStart"in c)c.selectionStart=h,c.selectionEnd=Math.min(m,c.value.length);else{var g=c.ownerDocument||document,v=g&&g.defaultView||window;if(v.getSelection){var y=v.getSelection(),A=c.textContent.length,w=Math.min(d.start,A),j=d.end===void 0?w:Math.min(d.end,A);!y.extend&&w>j&&(l=j,j=w,w=l);var S=uS(c,w),T=uS(c,j);if(S&&T&&(y.rangeCount!==1||y.anchorNode!==S.node||y.anchorOffset!==S.offset||y.focusNode!==T.node||y.focusOffset!==T.offset)){var N=g.createRange();N.setStart(S.node,S.offset),y.removeAllRanges(),w>j?(y.addRange(N),y.extend(T.node,T.offset)):(N.setEnd(T.node,T.offset),y.addRange(N))}}}}for(g=[],y=c;y=y.parentNode;)y.nodeType===1&&g.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<g.length;c++){var D=g[c];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Gp=!!u_,d_=u_=null}finally{ft=r,ot.p=s,Re.T=n}}t.current=e,Nn=2}}function Cj(){if(Nn===2){Nn=0;var t=Wa,e=iu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Re.T,Re.T=null;var s=ot.p;ot.p=2;var r=ft;ft|=4;try{cj(t,e.alternate,e)}finally{ft=r,ot.p=s,Re.T=n}}Nn=3}}function Rj(){if(Nn===4||Nn===3){Nn=0,j4();var t=Wa,e=iu,n=Vc,s=xj;e.subtreeFlags&10256||e.flags&10256?Nn=5:(Nn=0,iu=Wa=null,Pj(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ga=null),Fx(n),e=e.stateNode,Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(tf,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Re.T,r=ot.p,ot.p=2,Re.T=null;try{for(var i=t.onRecoverableError,l=0;l<s.length;l++){var c=s[l];i(c.value,{componentStack:c.stack})}}finally{Re.T=e,ot.p=r}}Vc&3&&Gg(),di(t),r=t.pendingLanes,n&4194090&&r&42?t===a_?Jd++:(Jd=0,a_=t):Jd=0,mf(0)}}function Pj(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,cf(e)))}function Gg(t){return jj(),Cj(),Rj(),Ij()}function Ij(){if(Nn!==5)return!1;var t=Wa,e=r_;r_=0;var n=Fx(Vc),s=Re.T,r=ot.p;try{ot.p=32>n?32:n,Re.T=null,n=i_,i_=null;var i=Wa,l=Vc;if(Nn=0,iu=Wa=null,Vc=0,ft&6)throw Error(ne(331));var c=ft;if(ft|=4,yj(i.current),pj(i,i.current,l,n),ft=c,mf(0,!1),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(tf,i)}catch{}return!0}finally{ot.p=r,Re.T=s,Pj(t,e)}}function $S(t,e,n){e=er(n,e),e=J0(t.stateNode,e,2),t=qa(t,e,2),t!==null&&(sf(t,2),di(t))}function yt(t,e,n){if(t.tag===3)$S(t,t,n);else for(;e!==null;){if(e.tag===3){$S(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ga===null||!Ga.has(s))){t=er(n,t),n=Z2(2),s=qa(e,n,2),s!==null&&(Y2(n,s,e,t),sf(s,2),di(s));break}}e=e.return}}function Oy(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new t6;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(xb=!0,r.add(n),t=a6.bind(null,t,e,n),e.then(t,t))}function a6(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,bt===t&&(et&n)===n&&(Dt===4||Dt===3&&(et&62914560)===et&&300>Qr()-wb?!(ft&2)&&au(t,0):bb|=n,ru===et&&(ru=0)),di(t)}function kj(t,e){e===0&&(e=jA()),t=Nu(t,e),t!==null&&(sf(t,e),di(t))}function o6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kj(t,n)}function l6(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(ne(314))}s!==null&&s.delete(e),kj(t,n)}function c6(t,e){return zx(t,e)}var Vp=null,hc=null,l_=!1,zp=!1,Dy=!1,nl=0;function di(t){t!==hc&&t.next===null&&(hc===null?Vp=hc=t:hc=hc.next=t),zp=!0,l_||(l_=!0,d6())}function mf(t,e){if(!Dy&&zp){Dy=!0;do for(var n=!1,s=Vp;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var l=s.suspendedLanes,c=s.pingedLanes;i=(1<<31-Ps(42|t)+1)-1,i&=r&~(l&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,qS(s,i))}else i=et,i=Mg(s,s===bt?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||nf(s,i)||(n=!0,qS(s,i));s=s.next}while(n);Dy=!1}}function u6(){Mj()}function Mj(){zp=l_=!1;var t=0;nl!==0&&(_6()&&(t=nl),nl=0);for(var e=Qr(),n=null,s=Vp;s!==null;){var r=s.next,i=Oj(s,e);i===0?(s.next=null,n===null?Vp=r:n.next=r,r===null&&(hc=n)):(n=s,(t!==0||i&3)&&(zp=!0)),s=r}mf(t)}function Oj(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var l=31-Ps(i),c=1<<l,d=r[l];d===-1?(!(c&n)||c&s)&&(r[l]=D4(c,e)):d<=e&&(t.expiredLanes|=c),i&=~c}if(e=bt,n=et,n=Mg(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ly(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||nf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&ly(s),Fx(n)){case 2:case 8:n=TA;break;case 32:n=bp;break;case 268435456:n=NA;break;default:n=bp}return s=Dj.bind(null,t),n=zx(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&ly(s),t.callbackPriority=2,t.callbackNode=null,2}function Dj(t,e){if(Nn!==0&&Nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Gg()&&t.callbackNode!==n)return null;var s=et;return s=Mg(t,t===bt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(wj(t,s,e),Oj(t,Qr()),t.callbackNode!=null&&t.callbackNode===n?Dj.bind(null,t):null)}function qS(t,e){if(Gg())return null;wj(t,e,!0)}function d6(){b6(function(){ft&6?zx(EA,u6):Mj()})}function Eb(){return nl===0&&(nl=AA()),nl}function GS(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hm(""+t)}function WS(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function h6(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=GS((r[hs]||null).action),l=s.submitter;l&&(e=(e=l[hs]||null)?GS(e.formAction):l.getAttribute("formAction"),e!==null&&(i=e,l=null));var c=new Og("action","action",null,s,r);t.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(nl!==0){var d=l?WS(r,l):new FormData(r);Q0(n,{pending:!0,data:d,method:r.method,action:i},null,d)}}else typeof i=="function"&&(c.preventDefault(),d=l?WS(r,l):new FormData(r),Q0(n,{pending:!0,data:d,method:r.method,action:i},i,d))},currentTarget:r}]})}}for(var Ly=0;Ly<V0.length;Ly++){var Uy=V0[Ly],f6=Uy.toLowerCase(),m6=Uy[0].toUpperCase()+Uy.slice(1);Pr(f6,"on"+m6)}Pr(QA,"onAnimationEnd");Pr(XA,"onAnimationIteration");Pr(JA,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(PL,"onTransitionRun");Pr(IL,"onTransitionStart");Pr(kL,"onTransitionCancel");Pr(e2,"onTransitionEnd");Xc("onMouseEnter",["mouseout","mouseover"]);Xc("onMouseLeave",["mouseout","mouseover"]);Xc("onPointerEnter",["pointerout","pointerover"]);Xc("onPointerLeave",["pointerout","pointerover"]);xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eh));function Lj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var l=s.length-1;0<=l;l--){var c=s[l],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==i&&r.isPropagationStopped())break e;i=c,r.currentTarget=h;try{i(r)}catch(m){kp(m)}r.currentTarget=null,i=d}else for(l=0;l<s.length;l++){if(c=s[l],d=c.instance,h=c.currentTarget,c=c.listener,d!==i&&r.isPropagationStopped())break e;i=c,r.currentTarget=h;try{i(r)}catch(m){kp(m)}r.currentTarget=null,i=d}}}}function qe(t,e){var n=e[I0];n===void 0&&(n=e[I0]=new Set);var s=t+"__bubble";n.has(s)||(Uj(e,t,2,!1),n.add(s))}function Vy(t,e,n){var s=0;e&&(s|=4),Uj(n,t,s,e)}var _m="_reactListening"+Math.random().toString(36).slice(2);function Tb(t){if(!t[_m]){t[_m]=!0,IA.forEach(function(n){n!=="selectionchange"&&(p6.has(n)||Vy(n,!1,t),Vy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_m]||(e[_m]=!0,Vy("selectionchange",!1,e))}}function Uj(t,e,n,s){switch(Yj(e)){case 2:var r=F6;break;case 8:r=H6;break;default:r=Cb}n=r.bind(null,e,n,t),r=void 0,!D0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function zy(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var c=s.stateNode.containerInfo;if(c===r)break;if(l===4)for(l=s.return;l!==null;){var d=l.tag;if((d===3||d===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;c!==null;){if(l=wc(c),l===null)return;if(d=l.tag,d===5||d===6||d===26||d===27){s=i=l;continue e}c=c.parentNode}}s=s.return}zA(function(){var h=i,m=qx(n),g=[];e:{var v=t2.get(t);if(v!==void 0){var y=Og,A=t;switch(t){case"keypress":if(qm(n)===0)break e;case"keydown":case"keyup":y=cL;break;case"focusin":A="focus",y=gy;break;case"focusout":A="blur",y=gy;break;case"beforeblur":case"afterblur":y=gy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=eS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Q4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=hL;break;case QA:case XA:case JA:y=eL;break;case e2:y=mL;break;case"scroll":case"scrollend":y=Z4;break;case"wheel":y=gL;break;case"copy":case"cut":case"paste":y=nL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=nS;break;case"toggle":case"beforetoggle":y=yL}var w=(e&4)!==0,j=!w&&(t==="scroll"||t==="scrollend"),S=w?v!==null?v+"Capture":null:v;w=[];for(var T=h,N;T!==null;){var D=T;if(N=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||N===null||S===null||(D=yh(T,S),D!=null&&w.push(Th(T,D,N))),j)break;T=T.return}0<w.length&&(v=new y(v,A,null,n,m),g.push({event:v,listeners:w}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==O0&&(A=n.relatedTarget||n.fromElement)&&(wc(A)||A[Eu]))break e;if((y||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,y?(A=n.relatedTarget||n.toElement,y=h,A=A?wc(A):null,A!==null&&(j=ef(A),w=A.tag,A!==j||w!==5&&w!==27&&w!==6)&&(A=null)):(y=null,A=h),y!==A)){if(w=eS,D="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(w=nS,D="onPointerLeave",S="onPointerEnter",T="pointer"),j=y==null?v:Cd(y),N=A==null?v:Cd(A),v=new w(D,T+"leave",y,n,m),v.target=j,v.relatedTarget=N,D=null,wc(m)===h&&(w=new w(S,T+"enter",A,n,m),w.target=N,w.relatedTarget=j,D=w),j=D,y&&A)t:{for(w=y,S=A,T=0,N=w;N;N=ec(N))T++;for(N=0,D=S;D;D=ec(D))N++;for(;0<T-N;)w=ec(w),T--;for(;0<N-T;)S=ec(S),N--;for(;T--;){if(w===S||S!==null&&w===S.alternate)break t;w=ec(w),S=ec(S)}w=null}else w=null;y!==null&&KS(g,v,y,w,!1),A!==null&&j!==null&&KS(g,j,A,w,!0)}}e:{if(v=h?Cd(h):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var F=aS;else if(iS(v))if(GA)F=jL;else{F=NL;var $=TL}else y=v.nodeName,!y||y.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?h&&$x(h.elementType)&&(F=aS):F=AL;if(F&&(F=F(t,h))){qA(g,F,n,m);break e}$&&$(t,v,h),t==="focusout"&&h&&v.type==="number"&&h.memoizedProps.value!=null&&M0(v,"number",v.value)}switch($=h?Cd(h):window,t){case"focusin":(iS($)||$.contentEditable==="true")&&(Tc=$,L0=h,Hd=null);break;case"focusout":Hd=L0=Tc=null;break;case"mousedown":U0=!0;break;case"contextmenu":case"mouseup":case"dragend":U0=!1,dS(g,n,m);break;case"selectionchange":if(RL)break;case"keydown":case"keyup":dS(g,n,m)}var R;if(Kx)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ec?HA(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(FA&&n.locale!=="ko"&&(Ec||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ec&&(R=BA()):(Va=m,Gx="value"in Va?Va.value:Va.textContent,Ec=!0)),$=Bp(h,P),0<$.length&&(P=new tS(P,t,null,n,m),g.push({event:P,listeners:$}),R?P.data=R:(R=$A(n),R!==null&&(P.data=R)))),(R=xL?bL(t,n):wL(t,n))&&(P=Bp(h,"onBeforeInput"),0<P.length&&($=new tS("onBeforeInput","beforeinput",null,n,m),g.push({event:$,listeners:P}),$.data=R)),h6(g,t,h,n,m)}Lj(g,e)})}function Th(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bp(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=yh(t,n),r!=null&&s.unshift(Th(t,r,i)),r=yh(t,e),r!=null&&s.push(Th(t,r,i))),t.tag===3)return s;t=t.return}return[]}function ec(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function KS(t,e,n,s,r){for(var i=e._reactName,l=[];n!==null&&n!==s;){var c=n,d=c.alternate,h=c.stateNode;if(c=c.tag,d!==null&&d===s)break;c!==5&&c!==26&&c!==27||h===null||(d=h,r?(h=yh(n,i),h!=null&&l.unshift(Th(n,h,d))):r||(h=yh(n,i),h!=null&&l.push(Th(n,h,d)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var g6=/\r\n?/g,v6=/\u0000|\uFFFD/g;function ZS(t){return(typeof t=="string"?t:""+t).replace(g6,`
`).replace(v6,"")}function Vj(t,e){return e=ZS(e),ZS(t)===e}function Wg(){}function pt(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Jc(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Jc(t,""+s);break;case"className":hm(t,"class",s);break;case"tabIndex":hm(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":hm(t,n,s);break;case"style":VA(t,s,i);break;case"data":if(e!=="object"){hm(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Hm(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&pt(t,e,"name",r.name,r,null),pt(t,e,"formEncType",r.formEncType,r,null),pt(t,e,"formMethod",r.formMethod,r,null),pt(t,e,"formTarget",r.formTarget,r,null)):(pt(t,e,"encType",r.encType,r,null),pt(t,e,"method",r.method,r,null),pt(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Hm(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Wg);break;case"onScroll":s!=null&&qe("scroll",t);break;case"onScrollEnd":s!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(ne(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(ne(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Hm(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Fm(t,"popover",s);break;case"xlinkActuate":Pi(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pi(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pi(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pi(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pi(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pi(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pi(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fm(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=W4.get(n)||n,Fm(t,n,s))}}function c_(t,e,n,s,r,i){switch(n){case"style":VA(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(ne(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(ne(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Jc(t,s):(typeof s=="number"||typeof s=="bigint")&&Jc(t,""+s);break;case"onScroll":s!=null&&qe("scroll",t);break;case"onScrollEnd":s!=null&&qe("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Wg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kA.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[hs]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Fm(t,n,s)}}}function jn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ne(137,e));default:pt(t,e,i,l,n,null)}}r&&pt(t,e,"srcSet",n.srcSet,n,null),s&&pt(t,e,"src",n.src,n,null);return;case"input":qe("invalid",t);var c=i=l=r=null,d=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var m=n[s];if(m!=null)switch(s){case"name":r=m;break;case"type":l=m;break;case"checked":d=m;break;case"defaultChecked":h=m;break;case"value":i=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ne(137,e));break;default:pt(t,e,s,m,n,null)}}DA(t,i,c,d,h,l,r,!1),wp(t);return;case"select":qe("invalid",t),s=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(c=n[r],c!=null))switch(r){case"value":i=c;break;case"defaultValue":l=c;break;case"multiple":s=c;default:pt(t,e,r,c,n,null)}e=i,n=l,t.multiple=!!s,e!=null?kc(t,!!s,e,!1):n!=null&&kc(t,!!s,n,!0);return;case"textarea":qe("invalid",t),i=r=s=null;for(l in n)if(n.hasOwnProperty(l)&&(c=n[l],c!=null))switch(l){case"value":s=c;break;case"defaultValue":r=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(ne(91));break;default:pt(t,e,l,c,n,null)}UA(t,s,r,i),wp(t);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(s=n[d],s!=null))switch(d){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:pt(t,e,d,s,n,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(s=0;s<Eh.length;s++)qe(Eh[s],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(ne(137,e));default:pt(t,e,h,s,n,null)}return;default:if($x(e)){for(m in n)n.hasOwnProperty(m)&&(s=n[m],s!==void 0&&c_(t,e,m,s,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(s=n[c],s!=null&&pt(t,e,c,s,n,null))}function y6(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,c=null,d=null,h=null,m=null;for(y in n){var g=n[y];if(n.hasOwnProperty(y)&&g!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":d=g;default:s.hasOwnProperty(y)||pt(t,e,y,null,s,g)}}for(var v in s){var y=s[v];if(g=n[v],s.hasOwnProperty(v)&&(y!=null||g!=null))switch(v){case"type":i=y;break;case"name":r=y;break;case"checked":h=y;break;case"defaultChecked":m=y;break;case"value":l=y;break;case"defaultValue":c=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(ne(137,e));break;default:y!==g&&pt(t,e,v,y,s,g)}}k0(t,l,c,d,h,m,i,r);return;case"select":y=l=c=v=null;for(i in n)if(d=n[i],n.hasOwnProperty(i)&&d!=null)switch(i){case"value":break;case"multiple":y=d;default:s.hasOwnProperty(i)||pt(t,e,i,null,s,d)}for(r in s)if(i=s[r],d=n[r],s.hasOwnProperty(r)&&(i!=null||d!=null))switch(r){case"value":v=i;break;case"defaultValue":c=i;break;case"multiple":l=i;default:i!==d&&pt(t,e,r,i,s,d)}e=c,n=l,s=y,v!=null?kc(t,!!n,v,!1):!!s!=!!n&&(e!=null?kc(t,!!n,e,!0):kc(t,!!n,n?[]:"",!1));return;case"textarea":y=v=null;for(c in n)if(r=n[c],n.hasOwnProperty(c)&&r!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:pt(t,e,c,null,s,r)}for(l in s)if(r=s[l],i=n[l],s.hasOwnProperty(l)&&(r!=null||i!=null))switch(l){case"value":v=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(ne(91));break;default:r!==i&&pt(t,e,l,r,s,i)}LA(t,v,y);return;case"option":for(var A in n)if(v=n[A],n.hasOwnProperty(A)&&v!=null&&!s.hasOwnProperty(A))switch(A){case"selected":t.selected=!1;break;default:pt(t,e,A,null,s,v)}for(d in s)if(v=s[d],y=n[d],s.hasOwnProperty(d)&&v!==y&&(v!=null||y!=null))switch(d){case"selected":t.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:pt(t,e,d,v,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)v=n[w],n.hasOwnProperty(w)&&v!=null&&!s.hasOwnProperty(w)&&pt(t,e,w,null,s,v);for(h in s)if(v=s[h],y=n[h],s.hasOwnProperty(h)&&v!==y&&(v!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(ne(137,e));break;default:pt(t,e,h,v,s,y)}return;default:if($x(e)){for(var j in n)v=n[j],n.hasOwnProperty(j)&&v!==void 0&&!s.hasOwnProperty(j)&&c_(t,e,j,void 0,s,v);for(m in s)v=s[m],y=n[m],!s.hasOwnProperty(m)||v===y||v===void 0&&y===void 0||c_(t,e,m,v,s,y);return}}for(var S in n)v=n[S],n.hasOwnProperty(S)&&v!=null&&!s.hasOwnProperty(S)&&pt(t,e,S,null,s,v);for(g in s)v=s[g],y=n[g],!s.hasOwnProperty(g)||v===y||v==null&&y==null||pt(t,e,g,v,s,y)}var u_=null,d_=null;function Fp(t){return t.nodeType===9?t:t.ownerDocument}function YS(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zj(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function h_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var By=null;function _6(){var t=window.event;return t&&t.type==="popstate"?t===By?!1:(By=t,!0):(By=null,!1)}var Bj=typeof setTimeout=="function"?setTimeout:void 0,x6=typeof clearTimeout=="function"?clearTimeout:void 0,QS=typeof Promise=="function"?Promise:void 0,b6=typeof queueMicrotask=="function"?queueMicrotask:typeof QS<"u"?function(t){return QS.resolve(null).then(t).catch(w6)}:Bj;function w6(t){setTimeout(function(){throw t})}function vo(t){return t==="head"}function XS(t,e){var n=e,s=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var l=t.ownerDocument;if(n&1&&eh(l.documentElement),n&2&&eh(l.body),n&4)for(n=l.head,eh(n),l=n.firstChild;l;){var c=l.nextSibling,d=l.nodeName;l[rf]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=c}}if(r===0){t.removeChild(i),Rh(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Rh(e)}function f_(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":f_(n),Hx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function S6(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[rf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Ar(t.nextSibling),t===null)break}return null}function E6(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ar(t.nextSibling),t===null))return null;return t}function m_(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function T6(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var p_=null;function JS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Fj(t,e,n){switch(e=Fp(n),t){case"html":if(t=e.documentElement,!t)throw Error(ne(452));return t;case"head":if(t=e.head,!t)throw Error(ne(453));return t;case"body":if(t=e.body,!t)throw Error(ne(454));return t;default:throw Error(ne(451))}}function eh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Hx(t)}var cr=new Map,eE=new Set;function Hp(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ca=ot.d;ot.d={f:N6,r:A6,D:j6,C:C6,L:R6,m:P6,X:k6,S:I6,M:M6};function N6(){var t=ca.f(),e=$g();return t||e}function A6(t){var e=Tu(t);e!==null&&e.tag===5&&e.type==="form"?O2(e):ca.r(t)}var ju=typeof document>"u"?null:document;function Hj(t,e,n){var s=ju;if(s&&typeof e=="string"&&e){var r=Js(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),eE.has(r)||(eE.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),jn(e,"link",t),pn(e),s.head.appendChild(e)))}}function j6(t){ca.D(t),Hj("dns-prefetch",t,null)}function C6(t,e){ca.C(t,e),Hj("preconnect",t,e)}function R6(t,e,n){ca.L(t,e,n);var s=ju;if(s&&t&&e){var r='link[rel="preload"][as="'+Js(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Js(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Js(n.imageSizes)+'"]')):r+='[href="'+Js(t)+'"]';var i=r;switch(e){case"style":i=ou(t);break;case"script":i=Cu(t)}cr.has(i)||(t=Et({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),cr.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(pf(i))||e==="script"&&s.querySelector(gf(i))||(e=s.createElement("link"),jn(e,"link",t),pn(e),s.head.appendChild(e)))}}function P6(t,e){ca.m(t,e);var n=ju;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Js(s)+'"][href="'+Js(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Cu(t)}if(!cr.has(i)&&(t=Et({rel:"modulepreload",href:t},e),cr.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gf(i)))return}s=n.createElement("link"),jn(s,"link",t),pn(s),n.head.appendChild(s)}}}function I6(t,e,n){ca.S(t,e,n);var s=ju;if(s&&t){var r=Ic(s).hoistableStyles,i=ou(t);e=e||"default";var l=r.get(i);if(!l){var c={loading:0,preload:null};if(l=s.querySelector(pf(i)))c.loading=5;else{t=Et({rel:"stylesheet",href:t,"data-precedence":e},n),(n=cr.get(i))&&Nb(t,n);var d=l=s.createElement("link");pn(d),jn(d,"link",t),d._p=new Promise(function(h,m){d.onload=h,d.onerror=m}),d.addEventListener("load",function(){c.loading|=1}),d.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Xm(l,e,s)}l={type:"stylesheet",instance:l,count:1,state:c},r.set(i,l)}}}function k6(t,e){ca.X(t,e);var n=ju;if(n&&t){var s=Ic(n).hoistableScripts,r=Cu(t),i=s.get(r);i||(i=n.querySelector(gf(r)),i||(t=Et({src:t,async:!0},e),(e=cr.get(r))&&Ab(t,e),i=n.createElement("script"),pn(i),jn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function M6(t,e){ca.M(t,e);var n=ju;if(n&&t){var s=Ic(n).hoistableScripts,r=Cu(t),i=s.get(r);i||(i=n.querySelector(gf(r)),i||(t=Et({src:t,async:!0,type:"module"},e),(e=cr.get(r))&&Ab(t,e),i=n.createElement("script"),pn(i),jn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function tE(t,e,n,s){var r=(r=Ha.current)?Hp(r):null;if(!r)throw Error(ne(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ou(n.href),n=Ic(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ou(n.href);var i=Ic(r).hoistableStyles,l=i.get(t);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,l),(i=r.querySelector(pf(t)))&&!i._p&&(l.instance=i,l.state.loading=5),cr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},cr.set(t,n),i||O6(r,t,n,l.state))),e&&s===null)throw Error(ne(528,""));return l}if(e&&s!==null)throw Error(ne(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Cu(n),n=Ic(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(ne(444,t))}}function ou(t){return'href="'+Js(t)+'"'}function pf(t){return'link[rel="stylesheet"]['+t+"]"}function $j(t){return Et({},t,{"data-precedence":t.precedence,precedence:null})}function O6(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),jn(e,"link",n),pn(e),t.head.appendChild(e))}function Cu(t){return'[src="'+Js(t)+'"]'}function gf(t){return"script[async]"+t}function nE(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+Js(n.href)+'"]');if(s)return e.instance=s,pn(s),s;var r=Et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),pn(s),jn(s,"style",r),Xm(s,n.precedence,t),e.instance=s;case"stylesheet":r=ou(n.href);var i=t.querySelector(pf(r));if(i)return e.state.loading|=4,e.instance=i,pn(i),i;s=$j(n),(r=cr.get(r))&&Nb(s,r),i=(t.ownerDocument||t).createElement("link"),pn(i);var l=i;return l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),jn(i,"link",s),e.state.loading|=4,Xm(i,n.precedence,t),e.instance=i;case"script":return i=Cu(n.src),(r=t.querySelector(gf(i)))?(e.instance=r,pn(r),r):(s=n,(r=cr.get(i))&&(s=Et({},n),Ab(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),pn(r),jn(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(ne(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Xm(s,n.precedence,t));return e.instance}function Xm(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,l=0;l<s.length;l++){var c=s[l];if(c.dataset.precedence===e)i=c;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Nb(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ab(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Jm=null;function sE(t,e,n){if(Jm===null){var s=new Map,r=Jm=new Map;r.set(n,s)}else r=Jm,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[rf]||i[Un]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(e)||"";l=t+l;var c=s.get(l);c?c.push(i):s.set(l,[i])}}return s}function rE(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function D6(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function qj(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Nh=null;function L6(){}function U6(t,e,n){if(Nh===null)throw Error(ne(475));var s=Nh;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=ou(n.href),i=t.querySelector(pf(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=$p.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=i,pn(i);return}i=t.ownerDocument||t,n=$j(n),(r=cr.get(r))&&Nb(n,r),i=i.createElement("link"),pn(i);var l=i;l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),jn(i,"link",n),e.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=$p.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function V6(){if(Nh===null)throw Error(ne(475));var t=Nh;return t.stylesheets&&t.count===0&&g_(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&g_(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function $p(){if(this.count--,this.count===0){if(this.stylesheets)g_(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qp=null;function g_(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qp=new Map,e.forEach(z6,t),qp=null,$p.call(t))}function z6(t,e){if(!(e.state.loading&4)){var n=qp.get(t);if(n)var s=n.get(null);else{n=new Map,qp.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),s=l)}s&&n.set(null,s)}r=e.instance,l=r.getAttribute("data-precedence"),i=n.get(l)||s,i===s&&n.set(null,r),n.set(l,r),this.count++,s=$p.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Ah={$$typeof:Bi,Provider:null,Consumer:null,_currentValue:Yo,_currentValue2:Yo,_threadCount:0};function B6(t,e,n,s,r,i,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cy(0),this.hiddenUpdates=cy(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Gj(t,e,n,s,r,i,l,c,d,h,m,g){return t=new B6(t,e,n,l,c,d,h,g),e=1,i===!0&&(e|=24),i=js(3,null,null,e),t.current=i,i.stateNode=t,e=tb(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},sb(i),t}function Wj(t){return t?(t=jc,t):jc}function Kj(t,e,n,s,r,i){r=Wj(r),s.context===null?s.context=r:s.pendingContext=r,s=$a(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=qa(t,s,e),n!==null&&(ks(n,t,e),Gd(n,t,e))}function iE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jb(t,e){iE(t,e),(t=t.alternate)&&iE(t,e)}function Zj(t){if(t.tag===13){var e=Nu(t,67108864);e!==null&&ks(e,t,67108864),jb(t,67108864)}}var Gp=!0;function F6(t,e,n,s){var r=Re.T;Re.T=null;var i=ot.p;try{ot.p=2,Cb(t,e,n,s)}finally{ot.p=i,Re.T=r}}function H6(t,e,n,s){var r=Re.T;Re.T=null;var i=ot.p;try{ot.p=8,Cb(t,e,n,s)}finally{ot.p=i,Re.T=r}}function Cb(t,e,n,s){if(Gp){var r=v_(s);if(r===null)zy(t,e,s,Wp,n),aE(t,s);else if(q6(r,t,e,n,s))s.stopPropagation();else if(aE(t,s),e&4&&-1<$6.indexOf(t)){for(;r!==null;){var i=Tu(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=Fo(i.pendingLanes);if(l!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var d=1<<31-Ps(l);c.entanglements[1]|=d,l&=~d}di(i),!(ft&6)&&(Lp=Qr()+500,mf(0))}}break;case 13:c=Nu(i,2),c!==null&&ks(c,i,2),$g(),jb(i,2)}if(i=v_(s),i===null&&zy(t,e,s,Wp,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else zy(t,e,s,null,n)}}function v_(t){return t=qx(t),Rb(t)}var Wp=null;function Rb(t){if(Wp=null,t=wc(t),t!==null){var e=ef(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=xA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Wp=t,null}function Yj(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(C4()){case EA:return 2;case TA:return 8;case bp:case R4:return 32;case NA:return 268435456;default:return 32}default:return 32}}var y_=!1,Ka=null,Za=null,Ya=null,jh=new Map,Ch=new Map,Ia=[],$6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(t,e){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(e.pointerId)}}function Sd(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Tu(e),e!==null&&Zj(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function q6(t,e,n,s,r){switch(e){case"focusin":return Ka=Sd(Ka,t,e,n,s,r),!0;case"dragenter":return Za=Sd(Za,t,e,n,s,r),!0;case"mouseover":return Ya=Sd(Ya,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return jh.set(i,Sd(jh.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ch.set(i,Sd(Ch.get(i)||null,t,e,n,s,r)),!0}return!1}function Qj(t){var e=wc(t.target);if(e!==null){var n=ef(e);if(n!==null){if(e=n.tag,e===13){if(e=xA(n),e!==null){t.blockedOn=e,U4(t.priority,function(){if(n.tag===13){var s=Is();s=Bx(s);var r=Nu(n,s);r!==null&&ks(r,n,s),jb(n,s)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ep(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=v_(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);O0=s,n.target.dispatchEvent(s),O0=null}else return e=Tu(n),e!==null&&Zj(e),t.blockedOn=n,!1;e.shift()}return!0}function oE(t,e,n){ep(t)&&n.delete(e)}function G6(){y_=!1,Ka!==null&&ep(Ka)&&(Ka=null),Za!==null&&ep(Za)&&(Za=null),Ya!==null&&ep(Ya)&&(Ya=null),jh.forEach(oE),Ch.forEach(oE)}function xm(t,e){t.blockedOn===e&&(t.blockedOn=null,y_||(y_=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,G6)))}var bm=null;function lE(t){bm!==t&&(bm=t,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,function(){bm===t&&(bm=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(Rb(s||n)===null)continue;break}var i=Tu(n);i!==null&&(t.splice(e,3),e-=3,Q0(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Rh(t){function e(d){return xm(d,t)}Ka!==null&&xm(Ka,t),Za!==null&&xm(Za,t),Ya!==null&&xm(Ya,t),jh.forEach(e),Ch.forEach(e);for(var n=0;n<Ia.length;n++){var s=Ia[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Ia.length&&(n=Ia[0],n.blockedOn===null);)Qj(n),n.blockedOn===null&&Ia.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],l=r[hs]||null;if(typeof i=="function")l||lE(n);else if(l){var c=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[hs]||null)c=l.formAction;else if(Rb(r)!==null)continue}else c=l.action;typeof c=="function"?n[s+1]=c:(n.splice(s,3),s-=3),lE(n)}}}function Pb(t){this._internalRoot=t}Kg.prototype.render=Pb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));var n=e.current,s=Is();Kj(n,s,t,e,null,null)};Kg.prototype.unmount=Pb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kj(t.current,2,null,t,null,null),$g(),e[Eu]=null}};function Kg(t){this._internalRoot=t}Kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=PA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ia.length&&e!==0&&e<Ia[n].priority;n++);Ia.splice(n,0,t),n===0&&Qj(t)}};var cE=yA.version;if(cE!=="19.1.1")throw Error(ne(527,cE,"19.1.1"));ot.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=w4(e),t=t!==null?bA(t):null,t=t===null?null:t.stateNode,t};var W6={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Re,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{tf=wm.inject(W6),Rs=wm}catch{}}kg.createRoot=function(t,e){if(!_A(t))throw Error(ne(299));var n=!1,s="",r=G2,i=W2,l=K2,c=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(c=e.unstable_transitionCallbacks)),e=Gj(t,1,!1,null,null,n,s,r,i,l,c,null),t[Eu]=e.current,Tb(t),new Pb(e)};kg.hydrateRoot=function(t,e,n){if(!_A(t))throw Error(ne(299));var s=!1,r="",i=G2,l=W2,c=K2,d=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(d=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=Gj(t,1,!0,e,n??null,s,r,i,l,c,d,h),e.context=Wj(null),n=e.current,s=Is(),s=Bx(s),r=$a(s),r.callback=null,qa(n,r,s),n=s,e.current.lanes=n,sf(e,n),di(e),t[Eu]=e.current,Tb(t),new Kg(e)};kg.version="19.1.1";function Xj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xj)}catch(t){console.error(t)}}Xj(),pA.exports=kg;var K6=pA.exports,Z6=(t,e,n,s,r,i,l,c)=>{let d=document.documentElement,h=["light","dark"];function m(y){(Array.isArray(t)?t:[t]).forEach(A=>{let w=A==="class",j=w&&i?r.map(S=>i[S]||S):r;w?(d.classList.remove(...j),d.classList.add(i&&i[y]?i[y]:y)):d.setAttribute(A,y)}),g(y)}function g(y){c&&h.includes(y)&&(d.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)m(s);else try{let y=localStorage.getItem(e)||n,A=l&&y==="system"?v():y;m(A)}catch{}},Y6=x.createContext(void 0),Q6={setTheme:t=>{},themes:[]},X6=()=>{var t;return(t=x.useContext(Y6))!=null?t:Q6};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:l,themes:c,nonce:d,scriptProps:h})=>{let m=JSON.stringify([n,e,i,t,c,l,s,r]).slice(1,-1);return x.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${Z6.toString()})(${m})`}})});var J6=t=>{switch(t){case"success":return n3;case"info":return r3;case"warning":return s3;case"error":return i3;default:return null}},e3=Array(12).fill(0),t3=({visible:t,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ce.createElement("div",{className:"sonner-spinner"},e3.map((n,s)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),n3=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),s3=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),r3=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),i3=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),a3=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),o3=()=>{let[t,e]=ce.useState(document.hidden);return ce.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},__=1,l3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:s,...r}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:__++,l=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:s}),{...d,...e,id:i,dismissible:c,title:s}):d):this.addToast({title:s,...r,dismissible:c,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let r=e instanceof Promise?e:e(),i=s!==void 0,l,c=r.then(async h=>{if(l=["resolve",h],ce.isValidElement(h))i=!1,this.create({id:s,type:"default",message:h});else if(u3(h)&&!h.ok){i=!1;let m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description;this.create({id:s,type:"error",message:m,description:g})}else if(n.success!==void 0){i=!1;let m=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:s,type:"success",message:m,description:g})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){i=!1;let m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:s,type:"error",message:m,description:g})}}).finally(()=>{var h;i&&(this.dismiss(s),s=void 0),(h=n.finally)==null||h.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>l[0]==="reject"?m(l[1]):h(l[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(e,n)=>{let s=n?.id||__++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},as=new l3,c3=(t,e)=>{let n=e?.id||__++;return as.addToast({title:t,...e,id:n}),n},u3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",d3=c3,h3=()=>as.toasts,f3=()=>as.getActiveToasts(),we=Object.assign(d3,{success:as.success,info:as.info,warning:as.warning,error:as.error,custom:as.custom,message:as.message,promise:as.promise,dismiss:as.dismiss,loading:as.loading},{getHistory:h3,getToasts:f3});function m3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}m3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sm(t){return t.label!==void 0}var p3=3,g3="32px",v3="16px",uE=4e3,y3=356,_3=14,x3=20,b3=200;function _r(...t){return t.filter(Boolean).join(" ")}function w3(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var S3=t=>{var e,n,s,r,i,l,c,d,h,m,g;let{invert:v,toast:y,unstyled:A,interacting:w,setHeights:j,visibleToasts:S,heights:T,index:N,toasts:D,expanded:F,removeToast:$,defaultRichColors:R,closeButton:P,style:U,cancelButtonStyle:I,actionButtonStyle:O,className:k="",descriptionClassName:V="",duration:J,position:ue,gap:G,loadingIcon:ee,expandByDefault:B,classNames:q,icons:X,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:W}=t,[de,oe]=ce.useState(null),[fe,pe]=ce.useState(null),[re,Oe]=ce.useState(!1),[vt,We]=ce.useState(!1),[Ke,tt]=ce.useState(!1),[jt,Zn]=ce.useState(!1),[kr,gs]=ce.useState(!1),[vs,hr]=ce.useState(0),[Gt,Lt]=ce.useState(0),Yn=ce.useRef(y.duration||J||uE),wo=ce.useRef(null),ys=ce.useRef(null),Wu=N===0,gi=N+1<=S,sn=y.type,Vs=y.dismissible!==!1,ha=y.className||"",Ku=y.descriptionClassName||"",vi=ce.useMemo(()=>T.findIndex(Ne=>Ne.toastId===y.id)||0,[T,y.id]),So=ce.useMemo(()=>{var Ne;return(Ne=y.closeButton)!=null?Ne:P},[y.closeButton,P]),Eo=ce.useMemo(()=>y.duration||J||uE,[y.duration,J]),zs=ce.useRef(0),Qn=ce.useRef(0),yi=ce.useRef(0),Pn=ce.useRef(null),[Mr,fa]=ue.split("-"),To=ce.useMemo(()=>T.reduce((Ne,nt,mt)=>mt>=vi?Ne:Ne+nt.height,0),[T,vi]),fr=o3(),No=y.invert||v,kt=sn==="loading";Qn.current=ce.useMemo(()=>vi*G+To,[vi,To]),ce.useEffect(()=>{Yn.current=Eo},[Eo]),ce.useEffect(()=>{Oe(!0)},[]),ce.useEffect(()=>{let Ne=ys.current;if(Ne){let nt=Ne.getBoundingClientRect().height;return Lt(nt),j(mt=>[{toastId:y.id,height:nt,position:y.position},...mt]),()=>j(mt=>mt.filter(Wt=>Wt.toastId!==y.id))}},[j,y.id]),ce.useLayoutEffect(()=>{if(!re)return;let Ne=ys.current,nt=Ne.style.height;Ne.style.height="auto";let mt=Ne.getBoundingClientRect().height;Ne.style.height=nt,Lt(mt),j(Wt=>Wt.find(bn=>bn.toastId===y.id)?Wt.map(bn=>bn.toastId===y.id?{...bn,height:mt}:bn):[{toastId:y.id,height:mt,position:y.position},...Wt])},[re,y.title,y.description,j,y.id]);let _s=ce.useCallback(()=>{We(!0),hr(Qn.current),j(Ne=>Ne.filter(nt=>nt.toastId!==y.id)),setTimeout(()=>{$(y)},b3)},[y,$,j,Qn]);ce.useEffect(()=>{if(y.promise&&sn==="loading"||y.duration===1/0||y.type==="loading")return;let Ne;return F||w||W&&fr?(()=>{if(yi.current<zs.current){let nt=new Date().getTime()-zs.current;Yn.current=Yn.current-nt}yi.current=new Date().getTime()})():Yn.current!==1/0&&(zs.current=new Date().getTime(),Ne=setTimeout(()=>{var nt;(nt=y.onAutoClose)==null||nt.call(y,y),_s()},Yn.current)),()=>clearTimeout(Ne)},[F,w,y,sn,W,fr,_s]),ce.useEffect(()=>{y.delete&&_s()},[_s,y.delete]);function _i(){var Ne,nt,mt;return X!=null&&X.loading?ce.createElement("div",{className:_r(q?.loader,(Ne=y?.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":sn==="loading"},X.loading):ee?ce.createElement("div",{className:_r(q?.loader,(nt=y?.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":sn==="loading"},ee):ce.createElement(t3,{className:_r(q?.loader,(mt=y?.classNames)==null?void 0:mt.loader),visible:sn==="loading"})}return ce.createElement("li",{tabIndex:0,ref:ys,className:_r(k,ha,q?.toast,(e=y?.classNames)==null?void 0:e.toast,q?.default,q?.[sn],(n=y?.classNames)==null?void 0:n[sn]),"data-sonner-toast":"","data-rich-colors":(s=y.richColors)!=null?s:R,"data-styled":!(y.jsx||y.unstyled||A),"data-mounted":re,"data-promise":!!y.promise,"data-swiped":kr,"data-removed":vt,"data-visible":gi,"data-y-position":Mr,"data-x-position":fa,"data-index":N,"data-front":Wu,"data-swiping":Ke,"data-dismissible":Vs,"data-type":sn,"data-invert":No,"data-swipe-out":jt,"data-swipe-direction":fe,"data-expanded":!!(F||B&&re),style:{"--index":N,"--toasts-before":N,"--z-index":D.length-N,"--offset":`${vt?vs:Qn.current}px`,"--initial-height":B?"auto":`${Gt}px`,...U,...y.style},onDragEnd:()=>{tt(!1),oe(null),Pn.current=null},onPointerDown:Ne=>{kt||!Vs||(wo.current=new Date,hr(Qn.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(tt(!0),Pn.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,nt,mt,Wt;if(jt||!Vs)return;Pn.current=null;let bn=Number(((Ne=ys.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bs=Number(((nt=ys.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xn=new Date().getTime()-((mt=wo.current)==null?void 0:mt.getTime()),In=de==="x"?bn:Bs,xs=Math.abs(In)/Xn;if(Math.abs(In)>=x3||xs>.11){hr(Qn.current),(Wt=y.onDismiss)==null||Wt.call(y,y),pe(de==="x"?bn>0?"right":"left":Bs>0?"down":"up"),_s(),Zn(!0),gs(!1);return}tt(!1),oe(null)},onPointerMove:Ne=>{var nt,mt,Wt,bn;if(!Pn.current||!Vs||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;let Bs=Ne.clientY-Pn.current.y,Xn=Ne.clientX-Pn.current.x,In=(mt=t.swipeDirections)!=null?mt:w3(ue);!de&&(Math.abs(Xn)>1||Math.abs(Bs)>1)&&oe(Math.abs(Xn)>Math.abs(Bs)?"x":"y");let xs={x:0,y:0};de==="y"?(In.includes("top")||In.includes("bottom"))&&(In.includes("top")&&Bs<0||In.includes("bottom")&&Bs>0)&&(xs.y=Bs):de==="x"&&(In.includes("left")||In.includes("right"))&&(In.includes("left")&&Xn<0||In.includes("right")&&Xn>0)&&(xs.x=Xn),(Math.abs(xs.x)>0||Math.abs(xs.y)>0)&&gs(!0),(Wt=ys.current)==null||Wt.style.setProperty("--swipe-amount-x",`${xs.x}px`),(bn=ys.current)==null||bn.style.setProperty("--swipe-amount-y",`${xs.y}px`)}},So&&!y.jsx?ce.createElement("button",{"aria-label":le,"data-disabled":kt,"data-close-button":!0,onClick:kt||!Vs?()=>{}:()=>{var Ne;_s(),(Ne=y.onDismiss)==null||Ne.call(y,y)},className:_r(q?.closeButton,(r=y?.classNames)==null?void 0:r.closeButton)},(i=X?.close)!=null?i:a3):null,y.jsx||x.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:ce.createElement(ce.Fragment,null,sn||y.icon||y.promise?ce.createElement("div",{"data-icon":"",className:_r(q?.icon,(l=y?.classNames)==null?void 0:l.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||_i():null,y.type!=="loading"?y.icon||X?.[sn]||J6(sn):null):null,ce.createElement("div",{"data-content":"",className:_r(q?.content,(c=y?.classNames)==null?void 0:c.content)},ce.createElement("div",{"data-title":"",className:_r(q?.title,(d=y?.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?ce.createElement("div",{"data-description":"",className:_r(V,Ku,q?.description,(h=y?.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),x.isValidElement(y.cancel)?y.cancel:y.cancel&&Sm(y.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||I,onClick:Ne=>{var nt,mt;Sm(y.cancel)&&Vs&&((mt=(nt=y.cancel).onClick)==null||mt.call(nt,Ne),_s())},className:_r(q?.cancelButton,(m=y?.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,x.isValidElement(y.action)?y.action:y.action&&Sm(y.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||O,onClick:Ne=>{var nt,mt;Sm(y.action)&&((mt=(nt=y.action).onClick)==null||mt.call(nt,Ne),!Ne.defaultPrevented&&_s())},className:_r(q?.actionButton,(g=y?.classNames)==null?void 0:g.actionButton)},y.action.label):null))};function dE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function E3(t,e){let n={};return[t,e].forEach((s,r)=>{let i=r===1,l=i?"--mobile-offset":"--offset",c=i?v3:g3;function d(h){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${l}-${h}`]=c:n[`${l}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):d(c)}),n}var T3=x.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:l,className:c,offset:d,mobileOffset:h,theme:m="light",richColors:g,duration:v,style:y,visibleToasts:A=p3,toastOptions:w,dir:j=dE(),gap:S=_3,loadingIcon:T,icons:N,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:F}=t,[$,R]=ce.useState([]),P=ce.useMemo(()=>Array.from(new Set([s].concat($.filter(W=>W.position).map(W=>W.position)))),[$,s]),[U,I]=ce.useState([]),[O,k]=ce.useState(!1),[V,J]=ce.useState(!1),[ue,G]=ce.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=ce.useRef(null),B=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=ce.useRef(null),X=ce.useRef(!1),le=ce.useCallback(W=>{R(de=>{var oe;return(oe=de.find(fe=>fe.id===W.id))!=null&&oe.delete||as.dismiss(W.id),de.filter(({id:fe})=>fe!==W.id)})},[]);return ce.useEffect(()=>as.subscribe(W=>{if(W.dismiss){R(de=>de.map(oe=>oe.id===W.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{uA.flushSync(()=>{R(de=>{let oe=de.findIndex(fe=>fe.id===W.id);return oe!==-1?[...de.slice(0,oe),{...de[oe],...W},...de.slice(oe+1)]:[W,...de]})})})}),[]),ce.useEffect(()=>{if(m!=="system"){G(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:de})=>{G(de?"dark":"light")})}catch{W.addListener(({matches:oe})=>{try{G(oe?"dark":"light")}catch(fe){console.error(fe)}})}},[m]),ce.useEffect(()=>{$.length<=1&&k(!1)},[$]),ce.useEffect(()=>{let W=de=>{var oe,fe;r.every(pe=>de[pe]||de.code===pe)&&(k(!0),(oe=ee.current)==null||oe.focus()),de.code==="Escape"&&(document.activeElement===ee.current||(fe=ee.current)!=null&&fe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),ce.useEffect(()=>{if(ee.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,X.current=!1)}},[ee.current]),ce.createElement("section",{ref:e,"aria-label":`${D} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((W,de)=>{var oe;let[fe,pe]=W.split("-");return $.length?ce.createElement("ol",{key:W,dir:j==="auto"?dE():j,tabIndex:-1,ref:ee,className:c,"data-sonner-toaster":!0,"data-theme":ue,"data-y-position":fe,"data-lifted":O&&$.length>1&&!i,"data-x-position":pe,style:{"--front-toast-height":`${((oe=U[0])==null?void 0:oe.height)||0}px`,"--width":`${y3}px`,"--gap":`${S}px`,...y,...E3(d,h)},onBlur:re=>{X.current&&!re.currentTarget.contains(re.relatedTarget)&&(X.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||X.current||(X.current=!0,q.current=re.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{V||k(!1)},onDragEnd:()=>k(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},$.filter(re=>!re.position&&de===0||re.position===W).map((re,Oe)=>{var vt,We;return ce.createElement(S3,{key:re.id,icons:N,index:Oe,toast:re,defaultRichColors:g,duration:(vt=w?.duration)!=null?vt:v,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:n,visibleToasts:A,closeButton:(We=w?.closeButton)!=null?We:l,interacting:V,position:W,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,removeToast:le,toasts:$.filter(Ke=>Ke.position==re.position),heights:U.filter(Ke=>Ke.position==re.position),setHeights:I,expandByDefault:i,gap:S,loadingIcon:T,expanded:O,pauseWhenPageIsHidden:F,swipeDirections:t.swipeDirections})})):null}))});const N3=({...t})=>{const{theme:e="system"}=X6();return a.jsx(T3,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function hE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zg(...t){return e=>{let n=!1;const s=t.map(r=>{const i=hE(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():hE(t[r],null)}}}}function Le(...t){return x.useCallback(Zg(...t),t)}function A3(t,e){const n=x.createContext(e),s=i=>{const{children:l,...c}=i,d=x.useMemo(()=>c,Object.values(c));return a.jsx(n.Provider,{value:d,children:l})};s.displayName=t+"Provider";function r(i){const l=x.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function ms(t,e=[]){let n=[];function s(i,l){const c=x.createContext(l),d=n.length;n=[...n,l];const h=g=>{const{scope:v,children:y,...A}=g,w=v?.[t]?.[d]||c,j=x.useMemo(()=>A,Object.values(A));return a.jsx(w.Provider,{value:j,children:y})};h.displayName=i+"Provider";function m(g,v){const y=v?.[t]?.[d]||c,A=x.useContext(y);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,m]}const r=()=>{const i=n.map(l=>x.createContext(l));return function(c){const d=c?.[t]||i;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return r.scopeName=t,[s,j3(r,...e)]}function j3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const l=s.reduce((c,{useScope:d,scopeName:h})=>{const g=d(i)[`__scope${h}`];return{...c,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function cl(t){const e=R3(t),n=x.forwardRef((s,r)=>{const{children:i,...l}=s,c=x.Children.toArray(i),d=c.find(I3);if(d){const h=d.props.children,m=c.map(g=>g===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:g);return a.jsx(e,{...l,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return a.jsx(e,{...l,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var C3=cl("Slot");function R3(t){const e=x.forwardRef((n,s)=>{const{children:r,...i}=n;if(x.isValidElement(r)){const l=M3(r),c=k3(i,r.props);return r.type!==x.Fragment&&(c.ref=s?Zg(s,l):l),x.cloneElement(r,c)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Jj=Symbol("radix.slottable");function P3(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Jj,e}function I3(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Jj}function k3(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...c)=>{const d=i(...c);return r(...c),d}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function M3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var O3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=O3.reduce((t,e)=>{const n=cl(`Primitive.${e}`),s=x.forwardRef((r,i)=>{const{asChild:l,...c}=r,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function eC(t,e){t&&Su.flushSync(()=>t.dispatchEvent(e))}function gn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>e.current?.(...n),[])}function D3(t,e=globalThis?.document){const n=gn(t);x.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var L3="DismissableLayer",x_="dismissableLayer.update",U3="dismissableLayer.pointerDownOutside",V3="dismissableLayer.focusOutside",fE,tC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vf=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...d}=t,h=x.useContext(tC),[m,g]=x.useState(null),v=m?.ownerDocument??globalThis?.document,[,y]=x.useState({}),A=Le(e,R=>g(R)),w=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(j),T=m?w.indexOf(m):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,D=T>=S,F=F3(R=>{const P=R.target,U=[...h.branches].some(I=>I.contains(P));!D||U||(r?.(R),l?.(R),R.defaultPrevented||c?.())},v),$=H3(R=>{const P=R.target;[...h.branches].some(I=>I.contains(P))||(i?.(R),l?.(R),R.defaultPrevented||c?.())},v);return D3(R=>{T===h.layers.size-1&&(s?.(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},v),x.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(fE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),mE(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=fE)}},[m,v,n,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),mE())},[m,h]),x.useEffect(()=>{const R=()=>y({});return document.addEventListener(x_,R),()=>document.removeEventListener(x_,R)},[]),a.jsx(be.div,{...d,ref:A,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:me(t.onFocusCapture,$.onFocusCapture),onBlurCapture:me(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:me(t.onPointerDownCapture,F.onPointerDownCapture)})});vf.displayName=L3;var z3="DismissableLayerBranch",B3=x.forwardRef((t,e)=>{const n=x.useContext(tC),s=x.useRef(null),r=Le(e,s);return x.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(be.div,{...t,ref:r})});B3.displayName=z3;function F3(t,e=globalThis?.document){const n=gn(t),s=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let d=function(){nC(U3,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function H3(t,e=globalThis?.document){const n=gn(t),s=x.useRef(!1);return x.useEffect(()=>{const r=i=>{i.target&&!s.current&&nC(V3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function mE(){const t=new CustomEvent(x_);document.dispatchEvent(t)}function nC(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?eC(r,i):r.dispatchEvent(i)}var nn=globalThis?.document?x.useLayoutEffect:()=>{},$3=dA[" useId ".trim().toString()]||(()=>{}),q3=0;function Jr(t){const[e,n]=x.useState($3());return nn(()=>{n(s=>s??String(q3++))},[t]),e?`radix-${e}`:""}const G3=["top","right","bottom","left"],ro=Math.min,As=Math.max,Kp=Math.round,Em=Math.floor,ei=t=>({x:t,y:t}),W3={left:"right",right:"left",bottom:"top",top:"bottom"},K3={start:"end",end:"start"};function b_(t,e,n){return As(t,ro(e,n))}function sa(t,e){return typeof t=="function"?t(e):t}function ra(t){return t.split("-")[0]}function Ru(t){return t.split("-")[1]}function Ib(t){return t==="x"?"y":"x"}function kb(t){return t==="y"?"height":"width"}const Z3=new Set(["top","bottom"]);function Zr(t){return Z3.has(ra(t))?"y":"x"}function Mb(t){return Ib(Zr(t))}function Y3(t,e,n){n===void 0&&(n=!1);const s=Ru(t),r=Mb(t),i=kb(r);let l=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Zp(l)),[l,Zp(l)]}function Q3(t){const e=Zp(t);return[w_(t),e,w_(e)]}function w_(t){return t.replace(/start|end/g,e=>K3[e])}const pE=["left","right"],gE=["right","left"],X3=["top","bottom"],J3=["bottom","top"];function e5(t,e,n){switch(t){case"top":case"bottom":return n?e?gE:pE:e?pE:gE;case"left":case"right":return e?X3:J3;default:return[]}}function t5(t,e,n,s){const r=Ru(t);let i=e5(ra(t),n==="start",s);return r&&(i=i.map(l=>l+"-"+r),e&&(i=i.concat(i.map(w_)))),i}function Zp(t){return t.replace(/left|right|bottom|top/g,e=>W3[e])}function n5(t){return{top:0,right:0,bottom:0,left:0,...t}}function sC(t){return typeof t!="number"?n5(t):{top:t,right:t,bottom:t,left:t}}function Yp(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function vE(t,e,n){let{reference:s,floating:r}=t;const i=Zr(e),l=Mb(e),c=kb(l),d=ra(e),h=i==="y",m=s.x+s.width/2-r.width/2,g=s.y+s.height/2-r.height/2,v=s[c]/2-r[c]/2;let y;switch(d){case"top":y={x:m,y:s.y-r.height};break;case"bottom":y={x:m,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-r.width,y:g};break;default:y={x:s.x,y:s.y}}switch(Ru(e)){case"start":y[l]-=v*(n&&h?-1:1);break;case"end":y[l]+=v*(n&&h?-1:1);break}return y}const s5=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y:g}=vE(h,s,d),v=s,y={},A=0;for(let w=0;w<c.length;w++){const{name:j,fn:S}=c[w],{x:T,y:N,data:D,reset:F}=await S({x:m,y:g,initialPlacement:s,placement:v,strategy:r,middlewareData:y,rects:h,platform:l,elements:{reference:t,floating:e}});m=T??m,g=N??g,y={...y,[j]:{...y[j],...D}},F&&A<=50&&(A++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(h=F.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:r}):F.rects),{x:m,y:g}=vE(h,v,d)),w=-1)}return{x:m,y:g,placement:v,strategy:r,middlewareData:y}};async function Ph(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=sa(e,t),A=sC(y),j=c[v?g==="floating"?"reference":"floating":g],S=Yp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),T=g==="floating"?{x:s,y:r,width:l.floating.width,height:l.floating.height}:l.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),D=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},F=Yp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:N,strategy:d}):T);return{top:(S.top-F.top+A.top)/D.y,bottom:(F.bottom-S.bottom+A.bottom)/D.y,left:(S.left-F.left+A.left)/D.x,right:(F.right-S.right+A.right)/D.x}}const r5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=sa(t,e)||{};if(h==null)return{};const g=sC(m),v={x:n,y:s},y=Mb(r),A=kb(y),w=await l.getDimensions(h),j=y==="y",S=j?"top":"left",T=j?"bottom":"right",N=j?"clientHeight":"clientWidth",D=i.reference[A]+i.reference[y]-v[y]-i.floating[A],F=v[y]-i.reference[y],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let R=$?$[N]:0;(!R||!await(l.isElement==null?void 0:l.isElement($)))&&(R=c.floating[N]||i.floating[A]);const P=D/2-F/2,U=R/2-w[A]/2-1,I=ro(g[S],U),O=ro(g[T],U),k=I,V=R-w[A]-O,J=R/2-w[A]/2+P,ue=b_(k,J,V),G=!d.arrow&&Ru(r)!=null&&J!==ue&&i.reference[A]/2-(J<k?I:O)-w[A]/2<0,ee=G?J<k?J-k:J-V:0;return{[y]:v[y]+ee,data:{[y]:ue,centerOffset:J-ue-ee,...G&&{alignmentOffset:ee}},reset:G}}}),i5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:w=!0,...j}=sa(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=ra(r),T=Zr(c),N=ra(c)===c,D=await(d.isRTL==null?void 0:d.isRTL(h.floating)),F=v||(N||!w?[Zp(c)]:Q3(c)),$=A!=="none";!v&&$&&F.push(...t5(c,w,A,D));const R=[c,...F],P=await Ph(e,j),U=[];let I=((s=i.flip)==null?void 0:s.overflows)||[];if(m&&U.push(P[S]),g){const J=Y3(r,l,D);U.push(P[J[0]],P[J[1]])}if(I=[...I,{placement:r,overflows:U}],!U.every(J=>J<=0)){var O,k;const J=(((O=i.flip)==null?void 0:O.index)||0)+1,ue=R[J];if(ue&&(!(g==="alignment"?T!==Zr(ue):!1)||I.every(B=>Zr(B.placement)===T?B.overflows[0]>0:!0)))return{data:{index:J,overflows:I},reset:{placement:ue}};let G=(k=I.filter(ee=>ee.overflows[0]<=0).sort((ee,B)=>ee.overflows[1]-B.overflows[1])[0])==null?void 0:k.placement;if(!G)switch(y){case"bestFit":{var V;const ee=(V=I.filter(B=>{if($){const q=Zr(B.placement);return q===T||q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(q=>q>0).reduce((q,X)=>q+X,0)]).sort((B,q)=>B[1]-q[1])[0])==null?void 0:V[0];ee&&(G=ee);break}case"initialPlacement":G=c;break}if(r!==G)return{reset:{placement:G}}}return{}}}};function yE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _E(t){return G3.some(e=>t[e]>=0)}const a5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=sa(t,e);switch(s){case"referenceHidden":{const i=await Ph(e,{...r,elementContext:"reference"}),l=yE(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:_E(l)}}}case"escaped":{const i=await Ph(e,{...r,altBoundary:!0}),l=yE(i,n.floating);return{data:{escapedOffsets:l,escaped:_E(l)}}}default:return{}}}}},rC=new Set(["left","top"]);async function o5(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),l=ra(n),c=Ru(n),d=Zr(n)==="y",h=rC.has(l)?-1:1,m=i&&d?-1:1,g=sa(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof A=="number"&&(y=c==="end"?A*-1:A),d?{x:y*m,y:v*h}:{x:v*h,y:y*m}}const l5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:l,middlewareData:c}=e,d=await o5(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:r+d.x,y:i+d.y,data:{...d,placement:l}}}}},c5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:j=>{let{x:S,y:T}=j;return{x:S,y:T}}},...d}=sa(t,e),h={x:n,y:s},m=await Ph(e,d),g=Zr(ra(r)),v=Ib(g);let y=h[v],A=h[g];if(i){const j=v==="y"?"top":"left",S=v==="y"?"bottom":"right",T=y+m[j],N=y-m[S];y=b_(T,y,N)}if(l){const j=g==="y"?"top":"left",S=g==="y"?"bottom":"right",T=A+m[j],N=A-m[S];A=b_(T,A,N)}const w=c.fn({...e,[v]:y,[g]:A});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[v]:i,[g]:l}}}}}},u5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=sa(t,e),m={x:n,y:s},g=Zr(r),v=Ib(g);let y=m[v],A=m[g];const w=sa(c,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const N=v==="y"?"height":"width",D=i.reference[v]-i.floating[N]+j.mainAxis,F=i.reference[v]+i.reference[N]-j.mainAxis;y<D?y=D:y>F&&(y=F)}if(h){var S,T;const N=v==="y"?"width":"height",D=rC.has(ra(r)),F=i.reference[g]-i.floating[N]+(D&&((S=l.offset)==null?void 0:S[g])||0)+(D?0:j.crossAxis),$=i.reference[g]+i.reference[N]+(D?0:((T=l.offset)==null?void 0:T[g])||0)-(D?j.crossAxis:0);A<F?A=F:A>$&&(A=$)}return{[v]:y,[g]:A}}}},d5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:l,elements:c}=e,{apply:d=()=>{},...h}=sa(t,e),m=await Ph(e,h),g=ra(r),v=Ru(r),y=Zr(r)==="y",{width:A,height:w}=i.floating;let j,S;g==="top"||g==="bottom"?(j=g,S=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(S=g,j=v==="end"?"top":"bottom");const T=w-m.top-m.bottom,N=A-m.left-m.right,D=ro(w-m[j],T),F=ro(A-m[S],N),$=!e.middlewareData.shift;let R=D,P=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(R=T),$&&!v){const I=As(m.left,0),O=As(m.right,0),k=As(m.top,0),V=As(m.bottom,0);y?P=A-2*(I!==0||O!==0?I+O:As(m.left,m.right)):R=w-2*(k!==0||V!==0?k+V:As(m.top,m.bottom))}await d({...e,availableWidth:P,availableHeight:R});const U=await l.getDimensions(c.floating);return A!==U.width||w!==U.height?{reset:{rects:!0}}:{}}}};function Yg(){return typeof window<"u"}function Pu(t){return iC(t)?(t.nodeName||"").toLowerCase():"#document"}function Ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hi(t){var e;return(e=(iC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iC(t){return Yg()?t instanceof Node||t instanceof Ms(t).Node:!1}function Cr(t){return Yg()?t instanceof Element||t instanceof Ms(t).Element:!1}function oi(t){return Yg()?t instanceof HTMLElement||t instanceof Ms(t).HTMLElement:!1}function xE(t){return!Yg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ms(t).ShadowRoot}const h5=new Set(["inline","contents"]);function yf(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!h5.has(r)}const f5=new Set(["table","td","th"]);function m5(t){return f5.has(Pu(t))}const p5=[":popover-open",":modal"];function Qg(t){return p5.some(e=>{try{return t.matches(e)}catch{return!1}})}const g5=["transform","translate","scale","rotate","perspective"],v5=["transform","translate","scale","rotate","perspective","filter"],y5=["paint","layout","strict","content"];function Ob(t){const e=Db(),n=Cr(t)?Rr(t):t;return g5.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||v5.some(s=>(n.willChange||"").includes(s))||y5.some(s=>(n.contain||"").includes(s))}function _5(t){let e=io(t);for(;oi(e)&&!lu(e);){if(Ob(e))return e;if(Qg(e))return null;e=io(e)}return null}function Db(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x5=new Set(["html","body","#document"]);function lu(t){return x5.has(Pu(t))}function Rr(t){return Ms(t).getComputedStyle(t)}function Xg(t){return Cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function io(t){if(Pu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xE(t)&&t.host||hi(t);return xE(e)?e.host:e}function aC(t){const e=io(t);return lu(e)?t.ownerDocument?t.ownerDocument.body:t.body:oi(e)&&yf(e)?e:aC(e)}function Ih(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=aC(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),l=Ms(r);if(i){const c=S_(l);return e.concat(l,l.visualViewport||[],yf(r)?r:[],c&&n?Ih(c):[])}return e.concat(r,Ih(r,[],n))}function S_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function oC(t){const e=Rr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=oi(t),i=r?t.offsetWidth:n,l=r?t.offsetHeight:s,c=Kp(n)!==i||Kp(s)!==l;return c&&(n=i,s=l),{width:n,height:s,$:c}}function Lb(t){return Cr(t)?t:t.contextElement}function zc(t){const e=Lb(t);if(!oi(e))return ei(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=oC(e);let l=(i?Kp(n.width):n.width)/s,c=(i?Kp(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const b5=ei(0);function lC(t){const e=Ms(t);return!Db()||!e.visualViewport?b5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ms(t)?!1:e}function ul(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Lb(t);let l=ei(1);e&&(s?Cr(s)&&(l=zc(s)):l=zc(t));const c=w5(i,n,s)?lC(i):ei(0);let d=(r.left+c.x)/l.x,h=(r.top+c.y)/l.y,m=r.width/l.x,g=r.height/l.y;if(i){const v=Ms(i),y=s&&Cr(s)?Ms(s):s;let A=v,w=S_(A);for(;w&&s&&y!==A;){const j=zc(w),S=w.getBoundingClientRect(),T=Rr(w),N=S.left+(w.clientLeft+parseFloat(T.paddingLeft))*j.x,D=S.top+(w.clientTop+parseFloat(T.paddingTop))*j.y;d*=j.x,h*=j.y,m*=j.x,g*=j.y,d+=N,h+=D,A=Ms(w),w=S_(A)}}return Yp({width:m,height:g,x:d,y:h})}function Jg(t,e){const n=Xg(t).scrollLeft;return e?e.left+n:ul(hi(t)).left+n}function cC(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Jg(t,n),r=n.top+e.scrollTop;return{x:s,y:r}}function S5(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",l=hi(s),c=e?Qg(e.floating):!1;if(s===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},h=ei(1);const m=ei(0),g=oi(s);if((g||!g&&!i)&&((Pu(s)!=="body"||yf(l))&&(d=Xg(s)),oi(s))){const y=ul(s);h=zc(s),m.x=y.x+s.clientLeft,m.y=y.y+s.clientTop}const v=l&&!g&&!i?cC(l,d):ei(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+v.x,y:n.y*h.y-d.scrollTop*h.y+m.y+v.y}}function E5(t){return Array.from(t.getClientRects())}function T5(t){const e=hi(t),n=Xg(t),s=t.ownerDocument.body,r=As(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=As(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Jg(t);const c=-n.scrollTop;return Rr(s).direction==="rtl"&&(l+=As(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:l,y:c}}const bE=25;function N5(t,e){const n=Ms(t),s=hi(t),r=n.visualViewport;let i=s.clientWidth,l=s.clientHeight,c=0,d=0;if(r){i=r.width,l=r.height;const m=Db();(!m||m&&e==="fixed")&&(c=r.offsetLeft,d=r.offsetTop)}const h=Jg(s);if(h<=0){const m=s.ownerDocument,g=m.body,v=getComputedStyle(g),y=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,A=Math.abs(s.clientWidth-g.clientWidth-y);A<=bE&&(i-=A)}else h<=bE&&(i+=h);return{width:i,height:l,x:c,y:d}}const A5=new Set(["absolute","fixed"]);function j5(t,e){const n=ul(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=oi(t)?zc(t):ei(1),l=t.clientWidth*i.x,c=t.clientHeight*i.y,d=r*i.x,h=s*i.y;return{width:l,height:c,x:d,y:h}}function wE(t,e,n){let s;if(e==="viewport")s=N5(t,n);else if(e==="document")s=T5(hi(t));else if(Cr(e))s=j5(e,n);else{const r=lC(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Yp(s)}function uC(t,e){const n=io(t);return n===e||!Cr(n)||lu(n)?!1:Rr(n).position==="fixed"||uC(n,e)}function C5(t,e){const n=e.get(t);if(n)return n;let s=Ih(t,[],!1).filter(c=>Cr(c)&&Pu(c)!=="body"),r=null;const i=Rr(t).position==="fixed";let l=i?io(t):t;for(;Cr(l)&&!lu(l);){const c=Rr(l),d=Ob(l);!d&&c.position==="fixed"&&(r=null),(i?!d&&!r:!d&&c.position==="static"&&!!r&&A5.has(r.position)||yf(l)&&!d&&uC(t,l))?s=s.filter(m=>m!==l):r=c,l=io(l)}return e.set(t,s),s}function R5(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const l=[...n==="clippingAncestors"?Qg(e)?[]:C5(e,this._c):[].concat(n),s],c=l[0],d=l.reduce((h,m)=>{const g=wE(e,m,r);return h.top=As(g.top,h.top),h.right=ro(g.right,h.right),h.bottom=ro(g.bottom,h.bottom),h.left=As(g.left,h.left),h},wE(e,c,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function P5(t){const{width:e,height:n}=oC(t);return{width:e,height:n}}function I5(t,e,n){const s=oi(e),r=hi(e),i=n==="fixed",l=ul(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=ei(0);function h(){d.x=Jg(r)}if(s||!s&&!i)if((Pu(e)!=="body"||yf(r))&&(c=Xg(e)),s){const y=ul(e,!0,i,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else r&&h();i&&!s&&r&&h();const m=r&&!s&&!i?cC(r,c):ei(0),g=l.left+c.scrollLeft-d.x-m.x,v=l.top+c.scrollTop-d.y-m.y;return{x:g,y:v,width:l.width,height:l.height}}function Fy(t){return Rr(t).position==="static"}function SE(t,e){if(!oi(t)||Rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hi(t)===n&&(n=n.ownerDocument.body),n}function dC(t,e){const n=Ms(t);if(Qg(t))return n;if(!oi(t)){let r=io(t);for(;r&&!lu(r);){if(Cr(r)&&!Fy(r))return r;r=io(r)}return n}let s=SE(t,e);for(;s&&m5(s)&&Fy(s);)s=SE(s,e);return s&&lu(s)&&Fy(s)&&!Ob(s)?n:s||_5(t)||n}const k5=async function(t){const e=this.getOffsetParent||dC,n=this.getDimensions,s=await n(t.floating);return{reference:I5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function M5(t){return Rr(t).direction==="rtl"}const O5={convertOffsetParentRelativeRectToViewportRelativeRect:S5,getDocumentElement:hi,getClippingRect:R5,getOffsetParent:dC,getElementRects:k5,getClientRects:E5,getDimensions:P5,getScale:zc,isElement:Cr,isRTL:M5};function hC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function D5(t,e){let n=null,s;const r=hi(t);function i(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:m,top:g,width:v,height:y}=h;if(c||e(),!v||!y)return;const A=Em(g),w=Em(r.clientWidth-(m+v)),j=Em(r.clientHeight-(g+y)),S=Em(m),N={rootMargin:-A+"px "+-w+"px "+-j+"px "+-S+"px",threshold:As(0,ro(1,d))||1};let D=!0;function F($){const R=$[0].intersectionRatio;if(R!==d){if(!D)return l();R?l(!1,R):s=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!hC(h,t.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(F,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(F,N)}n.observe(t)}return l(!0),i}function L5(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=Lb(t),m=r||i?[...h?Ih(h):[],...Ih(e)]:[];m.forEach(S=>{r&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const g=h&&c?D5(h,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(S=>{let[T]=S;T&&T.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=y)==null||N.observe(e)})),n()}),h&&!d&&y.observe(h),y.observe(e));let A,w=d?ul(t):null;d&&j();function j(){const S=ul(t);w&&!hC(w,S)&&n(),w=S,A=requestAnimationFrame(j)}return n(),()=>{var S;m.forEach(T=>{r&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),g?.(),(S=y)==null||S.disconnect(),y=null,d&&cancelAnimationFrame(A)}}const U5=l5,V5=c5,z5=i5,B5=d5,F5=a5,EE=r5,H5=u5,$5=(t,e,n)=>{const s=new Map,r={platform:O5,...n},i={...r.platform,_c:s};return s5(t,e,{...r,platform:i})};var q5=typeof document<"u",G5=function(){},tp=q5?x.useLayoutEffect:G5;function Qp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Qp(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!Qp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TE(t,e){const n=fC(t);return Math.round(e*n)/n}function Hy(t){const e=x.useRef(t);return tp(()=>{e.current=t}),e}function W5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,g]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=x.useState(s);Qp(v,s)||y(s);const[A,w]=x.useState(null),[j,S]=x.useState(null),T=x.useCallback(B=>{B!==$.current&&($.current=B,w(B))},[]),N=x.useCallback(B=>{B!==R.current&&(R.current=B,S(B))},[]),D=i||A,F=l||j,$=x.useRef(null),R=x.useRef(null),P=x.useRef(m),U=d!=null,I=Hy(d),O=Hy(r),k=Hy(h),V=x.useCallback(()=>{if(!$.current||!R.current)return;const B={placement:e,strategy:n,middleware:v};O.current&&(B.platform=O.current),$5($.current,R.current,B).then(q=>{const X={...q,isPositioned:k.current!==!1};J.current&&!Qp(P.current,X)&&(P.current=X,Su.flushSync(()=>{g(X)}))})},[v,e,n,O,k]);tp(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[h]);const J=x.useRef(!1);tp(()=>(J.current=!0,()=>{J.current=!1}),[]),tp(()=>{if(D&&($.current=D),F&&(R.current=F),D&&F){if(I.current)return I.current(D,F,V);V()}},[D,F,V,I,U]);const ue=x.useMemo(()=>({reference:$,floating:R,setReference:T,setFloating:N}),[T,N]),G=x.useMemo(()=>({reference:D,floating:F}),[D,F]),ee=x.useMemo(()=>{const B={position:n,left:0,top:0};if(!G.floating)return B;const q=TE(G.floating,m.x),X=TE(G.floating,m.y);return c?{...B,transform:"translate("+q+"px, "+X+"px)",...fC(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:X}},[n,c,G.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:V,refs:ue,elements:G,floatingStyles:ee}),[m,V,ue,G,ee])}const K5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?EE({element:s.current,padding:r}).fn(n):{}:s?EE({element:s,padding:r}).fn(n):{}}}},Z5=(t,e)=>({...U5(t),options:[t,e]}),Y5=(t,e)=>({...V5(t),options:[t,e]}),Q5=(t,e)=>({...H5(t),options:[t,e]}),X5=(t,e)=>({...z5(t),options:[t,e]}),J5=(t,e)=>({...B5(t),options:[t,e]}),eU=(t,e)=>({...F5(t),options:[t,e]}),tU=(t,e)=>({...K5(t),options:[t,e]});var nU="Arrow",mC=x.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return a.jsx(be.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});mC.displayName=nU;var sU=mC;function Ub(t){const[e,n]=x.useState(void 0);return nn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let l,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Vb="Popper",[pC,Iu]=ms(Vb),[rU,gC]=pC(Vb),vC=t=>{const{__scopePopper:e,children:n}=t,[s,r]=x.useState(null);return a.jsx(rU,{scope:e,anchor:s,onAnchorChange:r,children:n})};vC.displayName=Vb;var yC="PopperAnchor",_C=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=gC(yC,n),l=x.useRef(null),c=Le(e,l),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=s?.current||l.current,h!==d.current&&i.onAnchorChange(d.current)}),s?null:a.jsx(be.div,{...r,ref:c})});_C.displayName=yC;var zb="PopperContent",[iU,aU]=pC(zb),xC=x.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:A,...w}=t,j=gC(zb,n),[S,T]=x.useState(null),N=Le(e,re=>T(re)),[D,F]=x.useState(null),$=Ub(D),R=$?.width??0,P=$?.height??0,U=s+(i!=="center"?"-"+i:""),I=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},O=Array.isArray(h)?h:[h],k=O.length>0,V={padding:I,boundary:O.filter(lU),altBoundary:k},{refs:J,floatingStyles:ue,placement:G,isPositioned:ee,middlewareData:B}=W5({strategy:"fixed",placement:U,whileElementsMounted:(...re)=>L5(...re,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[Z5({mainAxis:r+P,alignmentAxis:l}),d&&Y5({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Q5():void 0,...V}),d&&X5({...V}),J5({...V,apply:({elements:re,rects:Oe,availableWidth:vt,availableHeight:We})=>{const{width:Ke,height:tt}=Oe.reference,jt=re.floating.style;jt.setProperty("--radix-popper-available-width",`${vt}px`),jt.setProperty("--radix-popper-available-height",`${We}px`),jt.setProperty("--radix-popper-anchor-width",`${Ke}px`),jt.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),D&&tU({element:D,padding:c}),cU({arrowWidth:R,arrowHeight:P}),v&&eU({strategy:"referenceHidden",...V})]}),[q,X]=SC(G),le=gn(A);nn(()=>{ee&&le?.()},[ee,le]);const W=B.arrow?.x,de=B.arrow?.y,oe=B.arrow?.centerOffset!==0,[fe,pe]=x.useState();return nn(()=>{S&&pe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:ee?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(iU,{scope:n,placedSide:q,onArrowChange:F,arrowX:W,arrowY:de,shouldHideArrow:oe,children:a.jsx(be.div,{"data-side":q,"data-align":X,...w,ref:N,style:{...w.style,animation:ee?void 0:"none"}})})})});xC.displayName=zb;var bC="PopperArrow",oU={top:"bottom",right:"left",bottom:"top",left:"right"},wC=x.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=aU(bC,s),l=oU[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(sU,{...r,ref:n,style:{...r.style,display:"block"}})})});wC.displayName=bC;function lU(t){return t!==null}var cU=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:r}=e,l=r.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,m]=SC(n),g={start:"0%",center:"50%",end:"100%"}[m],v=(r.arrow?.x??0)+c/2,y=(r.arrow?.y??0)+d/2;let A="",w="";return h==="bottom"?(A=l?g:`${v}px`,w=`${-d}px`):h==="top"?(A=l?g:`${v}px`,w=`${s.floating.height+d}px`):h==="right"?(A=`${-d}px`,w=l?g:`${y}px`):h==="left"&&(A=`${s.floating.width+d}px`,w=l?g:`${y}px`),{data:{x:A,y:w}}}});function SC(t){const[e,n="center"]=t.split("-");return[e,n]}var EC=vC,Bb=_C,Fb=xC,Hb=wC,uU="Portal",ev=x.forwardRef((t,e)=>{const{container:n,...s}=t,[r,i]=x.useState(!1);nn(()=>i(!0),[]);const l=n||r&&globalThis?.document?.body;return l?uA.createPortal(a.jsx(be.div,{...s,ref:e}),l):null});ev.displayName=uU;function dU(t,e){return x.useReducer((n,s)=>e[n][s]??n,t)}var ps=t=>{const{present:e,children:n}=t,s=hU(e),r=typeof n=="function"?n({present:s.isPresent}):x.Children.only(n),i=Le(s.ref,fU(r));return typeof n=="function"||s.isPresent?x.cloneElement(r,{ref:i}):null};ps.displayName="Presence";function hU(t){const[e,n]=x.useState(),s=x.useRef(null),r=x.useRef(t),i=x.useRef("none"),l=t?"mounted":"unmounted",[c,d]=dU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=Tm(s.current);i.current=c==="mounted"?h:"none"},[c]),nn(()=>{const h=s.current,m=r.current;if(m!==t){const v=i.current,y=Tm(h);t?d("MOUNT"):y==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&v!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,d]),nn(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=y=>{const w=Tm(s.current).includes(CSS.escape(y.animationName));if(y.target===e&&w&&(d("ANIMATION_END"),!r.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},v=y=>{y.target===e&&(i.current=Tm(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Tm(t){return t?.animationName||"none"}function fU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mU=dA[" useInsertionEffect ".trim().toString()]||nn;function ao({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,l]=pU({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:r;{const m=x.useRef(t!==void 0);x.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,s])}const h=x.useCallback(m=>{if(c){const g=gU(m)?m(t):m;g!==t&&l.current?.(g)}else i(m)},[c,t,i,l]);return[d,h]}function pU({defaultProp:t,onChange:e}){const[n,s]=x.useState(t),r=x.useRef(n),i=x.useRef(e);return mU(()=>{i.current=e},[e]),x.useEffect(()=>{r.current!==n&&(i.current?.(n),r.current=n)},[n,r]),[n,s,i]}function gU(t){return typeof t=="function"}var TC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vU="VisuallyHidden",NC=x.forwardRef((t,e)=>a.jsx(be.span,{...t,ref:e,style:{...TC,...t.style}}));NC.displayName=vU;var yU=NC,[tv,TJ]=ms("Tooltip",[Iu]),$b=Iu(),AC="TooltipProvider",_U=700,NE="tooltip.open",[xU,jC]=tv(AC),CC=t=>{const{__scopeTooltip:e,delayDuration:n=_U,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,l=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),a.jsx(xU,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:r,children:i})};CC.displayName=AC;var RC="Tooltip",[NJ,nv]=tv(RC),E_="TooltipTrigger",bU=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=nv(E_,n),i=jC(E_,n),l=$b(n),c=x.useRef(null),d=Le(e,c,r.onTriggerChange),h=x.useRef(!1),m=x.useRef(!1),g=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),a.jsx(Bb,{asChild:!0,...l,children:a.jsx(be.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:d,onPointerMove:me(t.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:me(t.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:me(t.onPointerDown,()=>{r.open&&r.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:me(t.onFocus,()=>{h.current||r.onOpen()}),onBlur:me(t.onBlur,r.onClose),onClick:me(t.onClick,r.onClose)})})});bU.displayName=E_;var wU="TooltipPortal",[AJ,SU]=tv(wU,{forceMount:void 0}),cu="TooltipContent",PC=x.forwardRef((t,e)=>{const n=SU(cu,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,l=nv(cu,t.__scopeTooltip);return a.jsx(ps,{present:s||l.open,children:l.disableHoverableContent?a.jsx(IC,{side:r,...i,ref:e}):a.jsx(EU,{side:r,...i,ref:e})})}),EU=x.forwardRef((t,e)=>{const n=nv(cu,t.__scopeTooltip),s=jC(cu,t.__scopeTooltip),r=x.useRef(null),i=Le(e,r),[l,c]=x.useState(null),{trigger:d,onClose:h}=n,m=r.current,{onPointerInTransitChange:g}=s,v=x.useCallback(()=>{c(null),g(!1)},[g]),y=x.useCallback((A,w)=>{const j=A.currentTarget,S={x:A.clientX,y:A.clientY},T=CU(S,j.getBoundingClientRect()),N=RU(S,T),D=PU(w.getBoundingClientRect()),F=kU([...N,...D]);c(F),g(!0)},[g]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(d&&m){const A=j=>y(j,m),w=j=>y(j,d);return d.addEventListener("pointerleave",A),m.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",A),m.removeEventListener("pointerleave",w)}}},[d,m,y,v]),x.useEffect(()=>{if(l){const A=w=>{const j=w.target,S={x:w.clientX,y:w.clientY},T=d?.contains(j)||m?.contains(j),N=!IU(S,l);T?v():N&&(v(),h())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[d,m,l,h,v]),a.jsx(IC,{...t,ref:i})}),[TU,NU]=tv(RC,{isInside:!1}),AU=P3("TooltipContent"),IC=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=t,d=nv(cu,n),h=$b(n),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(NE,m),()=>document.removeEventListener(NE,m)),[m]),x.useEffect(()=>{if(d.trigger){const g=v=>{v.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),a.jsx(vf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:a.jsxs(Fb,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(AU,{children:s}),a.jsx(TU,{scope:n,isInside:!0,children:a.jsx(yU,{id:d.contentId,role:"tooltip",children:r||s})})]})})});PC.displayName=cu;var kC="TooltipArrow",jU=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=$b(n);return NU(kC,n).isInside?null:a.jsx(Hb,{...r,...s,ref:e})});jU.displayName=kC;function CU(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function RU(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function PU(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function IU(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],d=e[l],h=c.x,m=c.y,g=d.x,v=d.y;m>s!=v>s&&n<(g-h)*(s-m)/(v-m)+h&&(r=!r)}return r}function kU(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),MU(e)}function MU(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var OU=CC,MC=PC;function OC(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=OC(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function DC(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=OC(t))&&(s&&(s+=" "),s+=e);return s}const qb="-",DU=t=>{const e=UU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:l=>{const c=l.split(qb);return c[0]===""&&c.length!==1&&c.shift(),LC(c,e)||LU(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&s[l]?[...d,...s[l]]:d}}},LC=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?LC(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(qb);return e.validators.find(({validator:l})=>l(i))?.classGroupId},AE=/^\[(.+)\]$/,LU=t=>{if(AE.test(t)){const e=AE.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},UU=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return zU(Object.entries(t.classGroups),n).forEach(([i,l])=>{T_(l,s,i,e)}),s},T_=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:jE(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(VU(r)){T_(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,l])=>{T_(l,jE(e,i),n,s)})})},jE=(t,e)=>{let n=t;return e.split(qb).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},VU=t=>t.isThemeGetter,zU=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[e+l,c])):i);return[n,r]}):t,BU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,l)=>{n.set(i,l),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=s.get(i))!==void 0)return r(i,l),l},set(i,l){n.has(i)?n.set(i,l):r(i,l)}}},UC="!",FU=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,l=c=>{const d=[];let h=0,m=0,g;for(let j=0;j<c.length;j++){let S=c[j];if(h===0){if(S===r&&(s||c.slice(j,j+i)===e)){d.push(c.slice(m,j)),m=j+i;continue}if(S==="/"){g=j;continue}}S==="["?h++:S==="]"&&h--}const v=d.length===0?c:c.substring(m),y=v.startsWith(UC),A=y?v.substring(1):v,w=g&&g>m?g-m:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:A,maybePostfixModifierPosition:w}};return n?c=>n({className:c,parseClassName:l}):l},HU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},$U=t=>({cache:BU(t.cacheSize),parseClassName:FU(t),...DU(t)}),qU=/\s+/,GU=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],l=t.trim().split(qU);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:m,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(h);let A=!!y,w=s(A?v.substring(0,y):v);if(!w){if(!A){c=h+(c.length>0?" "+c:c);continue}if(w=s(v),!w){c=h+(c.length>0?" "+c:c);continue}A=!1}const j=HU(m).join(":"),S=g?j+UC:j,T=S+w;if(i.includes(T))continue;i.push(T);const N=r(w,A);for(let D=0;D<N.length;++D){const F=N[D];i.push(S+F)}c=h+(c.length>0?" "+c:c)}return c};function WU(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VC(e))&&(s&&(s+=" "),s+=n);return s}const VC=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=VC(t[s]))&&(n&&(n+=" "),n+=e);return n};function KU(t,...e){let n,s,r,i=l;function l(d){const h=e.reduce((m,g)=>g(m),t());return n=$U(h),s=n.cache.get,r=n.cache.set,i=c,c(d)}function c(d){const h=s(d);if(h)return h;const m=GU(d,n);return r(d,m),m}return function(){return i(WU.apply(null,arguments))}}const wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zC=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZU=/^\d+\/\d+$/,YU=new Set(["px","full","screen"]),QU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mi=t=>Bc(t)||YU.has(t)||ZU.test(t),xa=t=>ku(t,"length",c9),Bc=t=>!!t&&!Number.isNaN(Number(t)),$y=t=>ku(t,"number",Bc),Ed=t=>!!t&&Number.isInteger(Number(t)),n9=t=>t.endsWith("%")&&Bc(t.slice(0,-1)),Ve=t=>zC.test(t),ba=t=>QU.test(t),s9=new Set(["length","size","percentage"]),r9=t=>ku(t,s9,BC),i9=t=>ku(t,"position",BC),a9=new Set(["image","url"]),o9=t=>ku(t,a9,d9),l9=t=>ku(t,"",u9),Td=()=>!0,ku=(t,e,n)=>{const s=zC.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},c9=t=>XU.test(t)&&!JU.test(t),BC=()=>!1,u9=t=>e9.test(t),d9=t=>t9.test(t),h9=()=>{const t=wt("colors"),e=wt("spacing"),n=wt("blur"),s=wt("brightness"),r=wt("borderColor"),i=wt("borderRadius"),l=wt("borderSpacing"),c=wt("borderWidth"),d=wt("contrast"),h=wt("grayscale"),m=wt("hueRotate"),g=wt("invert"),v=wt("gap"),y=wt("gradientColorStops"),A=wt("gradientColorStopPositions"),w=wt("inset"),j=wt("margin"),S=wt("opacity"),T=wt("padding"),N=wt("saturate"),D=wt("scale"),F=wt("sepia"),$=wt("skew"),R=wt("space"),P=wt("translate"),U=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ve,e],k=()=>[Ve,e],V=()=>["",Mi,xa],J=()=>["auto",Bc,Ve],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Ve],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Bc,Ve];return{cacheSize:500,separator:":",theme:{colors:[Td],spacing:[Mi,xa],blur:["none","",ba,Ve],brightness:le(),borderColor:[t],borderRadius:["none","","full",ba,Ve],borderSpacing:k(),borderWidth:V(),contrast:le(),grayscale:q(),hueRotate:le(),invert:q(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[n9,xa],inset:O(),margin:O(),opacity:le(),padding:k(),saturate:le(),scale:le(),sepia:q(),skew:le(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[ba]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Ve]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ed,Ve]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Ed,Ve]}],"grid-cols":[{"grid-cols":[Td]}],"col-start-end":[{col:["auto",{span:["full",Ed,Ve]},Ve]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Td]}],"row-start-end":[{row:["auto",{span:[Ed,Ve]},Ve]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[ba]},ba]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ba,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$y]}],"font-family":[{font:[Td]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Bc,$y]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mi,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mi,xa]}],"underline-offset":[{"underline-offset":["auto",Mi,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),i9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},o9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:G()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Mi,Ve]}],"outline-w":[{outline:[Mi,xa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Mi,xa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ba,l9]}],"shadow-color":[{shadow:[Td]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ba,Ve]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[N]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ed,Ve]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mi,xa,$y]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},f9=KU(h9);function Ee(...t){return f9(DC(t))}const m9=OU,p9=x.forwardRef(({className:t,sideOffset:e=4,...n},s)=>a.jsx(MC,{ref:s,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));p9.displayName=MC.displayName;var sv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},g9={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},v9=class{#e=g9;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},N_=new v9;function y9(t){setTimeout(t,0)}var rv=typeof window>"u"||"Deno"in globalThis;function wr(){}function _9(t,e){return typeof t=="function"?t(e):t}function x9(t){return typeof t=="number"&&t>=0&&t!==1/0}function b9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function A_(t,e){return typeof t=="function"?t(e):t}function w9(t,e){return typeof t=="function"?t(e):t}function CE(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:l,stale:c}=t;if(l){if(s){if(e.queryHash!==Gb(l,e.options))return!1}else if(!Mh(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||i&&!i(e))}function RE(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(kh(e.options.mutationKey)!==kh(i))return!1}else if(!Mh(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Gb(t,e){return(e?.queryKeyHashFn||kh)(t)}function kh(t){return JSON.stringify(t,(e,n)=>j_(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Mh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Mh(t[n],e[n])):!1}var S9=Object.prototype.hasOwnProperty;function FC(t,e){if(t===e)return t;const n=PE(t)&&PE(e);if(!n&&!(j_(t)&&j_(e)))return e;const r=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),l=i.length,c=n?new Array(l):{};let d=0;for(let h=0;h<l;h++){const m=n?h:i[h],g=t[m],v=e[m];if(g===v){c[m]=g,(n?h<r:S9.call(t,m))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){c[m]=v;continue}const y=FC(g,v);c[m]=y,y===g&&d++}return r===l&&d===r?t:c}function PE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function j_(t){if(!IE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!IE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function IE(t){return Object.prototype.toString.call(t)==="[object Object]"}function E9(t){return new Promise(e=>{N_.setTimeout(e,t)})}function T9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?FC(t,e):e}function N9(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function A9(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Wb=Symbol();function HC(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Wb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var j9=class extends sv{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!rv&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},$C=new j9;function C9(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}var R9=y9;function P9(){let t=[],e=0,n=c=>{c()},s=c=>{c()},r=R9;const i=c=>{e?t.push(c):r(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&r(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var qn=P9(),I9=class extends sv{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!rv&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Xp=new I9;function k9(t){return Math.min(1e3*2**t,3e4)}function qC(t){return(t??"online")==="online"?Xp.isOnline():!0}var C_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function GC(t){let e=!1,n=0,s;const r=C9(),i=()=>r.status!=="pending",l=w=>{if(!i()){const j=new C_(w);v(j),t.onCancel?.(j)}},c=()=>{e=!0},d=()=>{e=!1},h=()=>$C.isFocused()&&(t.networkMode==="always"||Xp.isOnline())&&t.canRun(),m=()=>qC(t.networkMode)&&t.canRun(),g=w=>{i()||(s?.(),r.resolve(w))},v=w=>{i()||(s?.(),r.reject(w))},y=()=>new Promise(w=>{s=j=>{(i()||h())&&w(j)},t.onPause?.()}).then(()=>{s=void 0,i()||t.onContinue?.()}),A=()=>{if(i())return;let w;const j=n===0?t.initialPromise:void 0;try{w=j??t.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(g).catch(S=>{if(i())return;const T=t.retry??(rv?0:3),N=t.retryDelay??k9,D=typeof N=="function"?N(n,S):N,F=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,S);if(e||!F){v(S);return}n++,t.onFail?.(n,S),E9(D).then(()=>h()?void 0:y()).then(()=>{e?v(S):A()})})};return{promise:r,status:()=>r.status,cancel:l,continue:()=>(s?.(),r),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?A():y().then(A),r)}}var WC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x9(this.gcTime)&&(this.#e=N_.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rv?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(N_.clearTimeout(this.#e),this.#e=void 0)}},M9=class extends WC{#e;#t;#n;#r;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=kE(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const s=T9(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>w9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>A_(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!b9(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},i=()=>{const d=HC(this.options,n),m=(()=>{const g={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=GC({initialPromise:n?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof C_&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#s.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof C_){if(d.silent)return this.#s.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...O9(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),qn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function O9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function ME(t){return{onFetch:(e,n)=>{const s=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const g=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=HC(e.options,e.fetchOptions),y=async(A,w,j)=>{if(m)return Promise.reject();if(w==null&&A.pages.length)return Promise.resolve(A);const T=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:w,direction:j?"backward":"forward",meta:e.options.meta};return g($),$})(),N=await v(T),{maxPages:D}=e.options,F=j?A9:N9;return{pages:F(A.pages,N,D),pageParams:F(A.pageParams,w,D)}};if(r&&i.length){const A=r==="backward",w=A?D9:OE,j={pages:i,pageParams:l},S=w(s,j);c=await y(j,S,A)}else{const A=t??i.length;do{const w=d===0?l[0]??s.initialPageParam:OE(s,c);if(d>0&&w==null)break;c=await y(c,w),d++}while(d<A)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function OE(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function D9(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var L9=class extends WC{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||U9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})};this.#n=GC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#r({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",r=!this.#n.canStart();try{if(s)n();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qn.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function U9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var V9=class extends sv{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new L9({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=Nm(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Nm(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Nm(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Nm(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){qn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>RE(e,n))}findAll(t={}){return this.getAll().filter(e=>RE(t,e))}notify(t){qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return qn.batch(()=>Promise.all(t.map(e=>e.continue().catch(wr))))}};function Nm(t){return t.options.scope?.id}var z9=class extends sv{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,r=e.queryHash??Gb(s,e);let i=this.get(r);return i||(i=new M9({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>CE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>CE(t,n)):e}notify(t){qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},B9=class{#e;#t;#n;#r;#s;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new z9,this.#t=t.mutationCache||new V9,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=$C.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Xp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(A_(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(s.queryHash)?.state.data,l=_9(e,i);if(l!==void 0)return this.#e.build(this,s).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return qn.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;qn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return qn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=qn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(wr).catch(wr)}invalidateQueries(t,e={}){return qn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=qn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(wr)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(A_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wr).catch(wr)}fetchInfiniteQuery(t){return t.behavior=ME(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wr).catch(wr)}ensureInfiniteQueryData(t){return t.behavior=ME(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(kh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Mh(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(kh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Mh(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Gb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wb&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},F9=x.createContext(void 0),H9=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(F9.Provider,{value:t,children:e}));const $9=()=>{};var DE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},q9=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],l=t[n++],c=t[n++],d=((r&7)<<18|(i&63)<<12|(l&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],l=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|l&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],l=r+1<t.length,c=l?t[r+1]:0,d=r+2<t.length,h=d?t[r+2]:0,m=i>>2,g=(i&3)<<4|c>>4;let v=(c&15)<<2|h>>6,y=h&63;d||(y=64,l||(v=64)),s.push(n[m],n[g],n[v],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||c==null||h==null||g==null)throw new G9;const v=i<<2|c>>4;if(s.push(v),h!==64){const y=c<<4&240|h>>2;if(s.push(y),g!==64){const A=h<<6&192|g;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W9=function(t){const e=KC(t);return ZC.encodeByteArray(e,!0)},Jp=function(t){return W9(t).replace(/\./g,"")},YC=function(t){try{return ZC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=()=>K9().__FIREBASE_DEFAULTS__,Y9=()=>{if(typeof process>"u"||typeof DE>"u")return;const t=DE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YC(t[1]);return e&&JSON.parse(e)},iv=()=>{try{return $9()||Z9()||Y9()||Q9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QC=t=>iv()?.emulatorHosts?.[t],XC=t=>{const e=QC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},JC=()=>iv()?.config,eR=t=>iv()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X9=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jp(JSON.stringify(n)),Jp(JSON.stringify(l)),""].join(".")}const th={};function eV(){const t={prod:[],emulator:[]};for(const e of Object.keys(th))th[e]?t.emulator.push(e):t.prod.push(e);return t}function tV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let LE=!1;function Zb(t,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||th[t]===e||th[t]||LE)return;th[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",i=eV().prod.length>0;function l(){const v=document.getElementById(s);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{LE=!0,l()},v}function m(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=tV(s),y=n("text"),A=document.getElementById(y)||document.createElement("span"),w=n("learnmore"),j=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),T=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),m(j,w);const D=h();d(T,S),N.append(T,A,j,D),document.body.appendChild(N)}i?(A.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function sV(){const t=iv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oV(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lV(){return!sV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cV(){try{return typeof indexedDB=="object"}catch{return!1}}function uV(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="FirebaseError";class fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dV,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],l=i?hV(i,s):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new fi(r,c,s)}}function hV(t,e){return t.replace(fV,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const fV=/\{\$([^}]+)}/g;function mV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dl(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],l=e[r];if(UE(i)&&UE(l)){if(!dl(i,l))return!1}else if(i!==l)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function UE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Id(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pV(t,e){const n=new gV(t,e);return n.subscribe.bind(n)}class gV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=qy),r.error===void 0&&(r.error=qy),r.complete===void 0&&(r.complete=qy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new X9;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xV(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);s===c&&l.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _V(t){return t===qo?void 0:t}function xV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const wV={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},SV=Ze.INFO,EV={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},TV=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=EV[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yb{constructor(e){this.name=e,this._logLevel=SV,this._logHandler=TV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const NV=(t,e)=>e.some(n=>t instanceof n);let VE,zE;function AV(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jV(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tR=new WeakMap,R_=new WeakMap,nR=new WeakMap,Gy=new WeakMap,Qb=new WeakMap;function CV(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(Qa(t.result)),r()},l=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&tR.set(n,t)}).catch(()=>{}),Qb.set(e,t),e}function RV(t){if(R_.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),r()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});R_.set(t,e)}let P_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PV(t){P_=t(P_)}function IV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Wy(this),e,...n);return nR.set(s,e.sort?e.sort():[e]),Qa(s)}:jV().includes(t)?function(...e){return t.apply(Wy(this),e),Qa(tR.get(this))}:function(...e){return Qa(t.apply(Wy(this),e))}}function kV(t){return typeof t=="function"?IV(t):(t instanceof IDBTransaction&&RV(t),NV(t,AV())?new Proxy(t,P_):t)}function Qa(t){if(t instanceof IDBRequest)return CV(t);if(Gy.has(t))return Gy.get(t);const e=kV(t);return e!==t&&(Gy.set(t,e),Qb.set(e,t)),e}const Wy=t=>Qb.get(t);function MV(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const l=indexedDB.open(t,e),c=Qa(l);return s&&l.addEventListener("upgradeneeded",d=>{s(Qa(l.result),d.oldVersion,d.newVersion,Qa(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const OV=["get","getKey","getAll","getAllKeys","count"],DV=["put","add","delete","clear"],Ky=new Map;function BE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ky.get(e))return Ky.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=DV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||OV.includes(n)))return;const i=async function(l,...c){const d=this.transaction(l,r?"readwrite":"readonly");let h=d.store;return s&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),r&&d.done]))[0]};return Ky.set(e,i),i}PV(t=>({...t,get:(e,n,s)=>BE(e,n)||t.get(e,n,s),has:(e,n)=>!!BE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UV(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UV(t){return t.getComponent()?.type==="VERSION"}const I_="@firebase/app",FE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Yb("@firebase/app"),VV="@firebase/app-compat",zV="@firebase/analytics-compat",BV="@firebase/analytics",FV="@firebase/app-check-compat",HV="@firebase/app-check",$V="@firebase/auth",qV="@firebase/auth-compat",GV="@firebase/database",WV="@firebase/data-connect",KV="@firebase/database-compat",ZV="@firebase/functions",YV="@firebase/functions-compat",QV="@firebase/installations",XV="@firebase/installations-compat",JV="@firebase/messaging",e7="@firebase/messaging-compat",t7="@firebase/performance",n7="@firebase/performance-compat",s7="@firebase/remote-config",r7="@firebase/remote-config-compat",i7="@firebase/storage",a7="@firebase/storage-compat",o7="@firebase/firestore",l7="@firebase/ai",c7="@firebase/firestore-compat",u7="firebase",d7="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="[DEFAULT]",h7={[I_]:"fire-core",[VV]:"fire-core-compat",[BV]:"fire-analytics",[zV]:"fire-analytics-compat",[HV]:"fire-app-check",[FV]:"fire-app-check-compat",[$V]:"fire-auth",[qV]:"fire-auth-compat",[GV]:"fire-rtdb",[WV]:"fire-data-connect",[KV]:"fire-rtdb-compat",[ZV]:"fire-fn",[YV]:"fire-fn-compat",[QV]:"fire-iid",[XV]:"fire-iid-compat",[JV]:"fire-fcm",[e7]:"fire-fcm-compat",[t7]:"fire-perf",[n7]:"fire-perf-compat",[s7]:"fire-rc",[r7]:"fire-rc-compat",[i7]:"fire-gcs",[a7]:"fire-gcs-compat",[o7]:"fire-fst",[c7]:"fire-fst-compat",[l7]:"fire-vertex","fire-js":"fire-js",[u7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,f7=new Map,M_=new Map;function HE(t,e){try{t.container.addComponent(e)}catch(n){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hl(t){const e=t.name;if(M_.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;M_.set(e,t);for(const n of Oh.values())HE(n,t);for(const n of f7.values())HE(n,t);return!0}function av(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function us(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new _f("app","Firebase",m7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=d7;function sR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:k_,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Xa.create("bad-app-name",{appName:String(r)});if(n||(n=JC()),!n)throw Xa.create("no-options");const i=Oh.get(r);if(i){if(dl(n,i.options)&&dl(s,i.config))return i;throw Xa.create("duplicate-app",{appName:r})}const l=new bV(r);for(const d of M_.values())l.addComponent(d);const c=new p7(n,s,l);return Oh.set(r,c),c}function Xb(t=k_){const e=Oh.get(t);if(!e&&t===k_&&JC())return sR();if(!e)throw Xa.create("no-app",{appName:t});return e}function $E(){return Array.from(Oh.values())}function ti(t,e,n){let s=h7[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(l.join(" "));return}hl(new oo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="firebase-heartbeat-database",v7=1,Dh="firebase-heartbeat-store";let Zy=null;function rR(){return Zy||(Zy=MV(g7,v7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xa.create("idb-open",{originalErrorMessage:t.message})})),Zy}async function y7(t){try{const n=(await rR()).transaction(Dh),s=await n.objectStore(Dh).get(iR(t));return await n.done,s}catch(e){if(e instanceof fi)ia.warn(e.message);else{const n=Xa.create("idb-get",{originalErrorMessage:e?.message});ia.warn(n.message)}}}async function qE(t,e){try{const s=(await rR()).transaction(Dh,"readwrite");await s.objectStore(Dh).put(e,iR(t)),await s.done}catch(n){if(n instanceof fi)ia.warn(n.message);else{const s=Xa.create("idb-set",{originalErrorMessage:n?.message});ia.warn(s.message)}}}function iR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=1024,x7=30;class b7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S7(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>x7){const r=E7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ia.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=GE(),{heartbeatsToSend:n,unsentEntries:s}=w7(this._heartbeatsCache.heartbeats),r=Jp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return ia.warn(e),""}}}function GE(){return new Date().toISOString().substring(0,10)}function w7(t,e=_7){const n=[];let s=t.slice();for(const r of t){const i=n.find(l=>l.agent===r.agent);if(i){if(i.dates.push(r.date),WE(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),WE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class S7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cV()?uV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function WE(t){return Jp(JSON.stringify({version:2,heartbeats:t})).length}function E7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t){hl(new oo("platform-logger",e=>new LV(e),"PRIVATE")),hl(new oo("heartbeat",e=>new b7(e),"PRIVATE")),ti(I_,FE,t),ti(I_,FE,"esm2020"),ti("fire-js","")}T7("");function aR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N7=aR,oR=new _f("auth","Firebase",aR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Yb("@firebase/auth");function A7(t,...e){eg.logLevel<=Ze.WARN&&eg.warn(`Auth (${Mu}): ${t}`,...e)}function np(t,...e){eg.logLevel<=Ze.ERROR&&eg.error(`Auth (${Mu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw ew(t,...e)}function jr(t,...e){return ew(t,...e)}function Jb(t,e,n){const s={...N7(),[e]:n};return new _f("auth","Firebase",s).create(e,{appName:t.name})}function Yi(t){return Jb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j7(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ur(t,"argument-error"),Jb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ew(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return oR.create(t,...e)}function je(t,e,...n){if(!t)throw ew(e,...n)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw np(e),new Error(e)}function aa(t,e){t||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){return typeof self<"u"&&self.location?.href||""}function C7(){return KE()==="http:"||KE()==="https:"}function KE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C7()||iV()||"connection"in navigator)?navigator.onLine:!0}function P7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,aa(n>e,"Short delay should be less than long delay!"),this.isMobile=nV()||aV()}get(){return R7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){aa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M7=new bf(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mi(t,e,n,s,r={}){return cR(t,r,async()=>{let i={},l={};s&&(e==="GET"?l=s:i={body:JSON.stringify(s)});const c=xf({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...i};return rV()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&yo(t.emulatorConfig.host)&&(h.credentials="include"),lR.fetch()(await uR(t,t.config.apiHost,n,c),h)})}async function cR(t,e,n){t._canInitEmulator=!1;const s={...I7,...e};try{const r=new D7(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw Am(t,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const c=i.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Am(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Am(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Am(t,"user-disabled",l);const m=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Jb(t,m,h);ur(t,m)}}catch(r){if(r instanceof fi)throw r;ur(t,"network-request-failed",{message:String(r)})}}async function wf(t,e,n,s,r={}){const i=await mi(t,e,n,s,r);return"mfaPendingCredential"in i&&ur(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uR(t,e,n,s){const r=`${e}${n}?${s}`,i=t,l=i.config.emulator?tw(t.config,r):`${t.config.apiScheme}://${r}`;return k7.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}function O7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jr(this.auth,"network-request-failed")),M7.get())})}}function Am(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=jr(t,e,s);return r.customData._tokenResponse=n,r}function ZE(t){return t!==void 0&&t.enterprise!==void 0}class L7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return O7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U7(t,e){return mi(t,"GET","/v2/recaptchaConfig",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(t,e){return mi(t,"POST","/v1/accounts:delete",e)}async function tg(t,e){return mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z7(t,e=!1){const n=Cn(t),s=await n.getIdToken(e),r=nw(s);je(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,l=i?.sign_in_provider;return{claims:r,token:s,authTime:nh(Yy(r.auth_time)),issuedAtTime:nh(Yy(r.iat)),expirationTime:nh(Yy(r.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Yy(t){return Number(t)*1e3}function nw(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return np("JWT malformed, contained fewer than 3 sections"),null;try{const r=YC(n);return r?JSON.parse(r):(np("Failed to decode base64 JWT payload"),null)}catch(r){return np("Caught error parsing JWT payload as JSON",r?.toString()),null}}function YE(t){const e=nw(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fi&&B7(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function B7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(t){const e=t.auth,n=await t.getIdToken(),s=await uu(t,tg(e,{idToken:n}));je(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?dR(r.providerUserInfo):[],l=$7(t.providerData,i),c=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!l?.length,h=c?d:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new D_(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function H7(t){const e=Cn(t);await ng(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $7(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function dR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q7(t,e){const n=await cR(t,{},async()=>{const s=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,l=await uR(t,r,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:s};return t.emulatorConfig&&yo(t.emulatorConfig.host)&&(d.credentials="include"),lR.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G7(t,e){return mi(t,"POST","/v2/accounts:revokeToken",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=YE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await q7(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,l=new Fc;return s&&(je(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),r&&(je(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),i&&(je(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new F7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new D_(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z7(this,e)}reload(){return H7(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ng(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(us(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await uu(this,V7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:y,providerData:A,stsTokenManager:w}=n;je(g&&w,e,"internal-error");const j=Fc.fromJSON(this.name,w);je(typeof g=="string",e,"internal-error"),wa(s,e.name),wa(r,e.name),je(typeof v=="boolean",e,"internal-error"),je(typeof y=="boolean",e,"internal-error"),wa(i,e.name),wa(l,e.name),wa(c,e.name),wa(d,e.name),wa(h,e.name),wa(m,e.name);const S=new Tr({uid:g,auth:e,email:r,emailVerified:v,displayName:s,isAnonymous:y,photoURL:l,phoneNumber:i,tenantId:c,stsTokenManager:j,createdAt:h,lastLoginAt:m});return A&&Array.isArray(A)&&(S.providerData=A.map(T=>({...T}))),d&&(S._redirectEventId=d),S}static async _fromIdTokenResponse(e,n,s=!1){const r=new Fc;r.updateFromServerResponse(n);const i=new Tr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await ng(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];je(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?dR(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!i?.length,c=new Fc;c.updateFromIdToken(s);const d=new Tr({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new D_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function Wi(t){aa(t instanceof Function,"Expected a class definition");let e=QE.get(t);return e?(aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hR.type="NONE";const XE=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e,n){return`firebase:${t}:${e}:${n}`}class Hc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=sp(this.userKey,r.apiKey,i),this.fullPersistenceKey=sp("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tg(this.auth,{idToken:e}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Hc(Wi(XE),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||Wi(XE);const l=sp(s,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const v=await tg(e,{idToken:m}).catch(()=>{});if(!v)break;g=await Tr._fromGetAccountInfoResponse(e,v,m)}else g=Tr._fromJSON(e,m);h!==i&&(c=g),i=h;break}}catch{}const d=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new Hc(i,e,s):(i=d[0],c&&await i._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(l)}catch{}})),new Hc(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yR(e))return"Blackberry";if(_R(e))return"Webos";if(mR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(vR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function fR(t=zn()){return/firefox\//i.test(t)}function mR(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=zn()){return/crios\//i.test(t)}function gR(t=zn()){return/iemobile/i.test(t)}function vR(t=zn()){return/android/i.test(t)}function yR(t=zn()){return/blackberry/i.test(t)}function _R(t=zn()){return/webos/i.test(t)}function sw(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W7(t=zn()){return sw(t)&&!!window.navigator?.standalone}function K7(){return oV()&&document.documentMode===10}function xR(t=zn()){return sw(t)||vR(t)||_R(t)||yR(t)||/windows phone/i.test(t)||gR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e=[]){let n;switch(t){case"Browser":n=JE(zn());break;case"Worker":n=`${JE(zn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((l,c)=>{try{const d=e(i);l(d)}catch(d){c(d)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t,e={}){return mi(t,"GET","/v2/passwordPolicy",ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=6;class X7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eT(this),this.idTokenSubscription=new eT(this),this.beforeStateQueue=new Z7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tg(this,{idToken:e}),s=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(us(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,l=s?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===l)&&c?.user&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ng(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(us(this.app))return Promise.reject(Yi(this));const n=e?Cn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return us(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return us(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y7(this),n=new X7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await G7(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Hc.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,r);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(us(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&A7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(t){return Cn(t)}class eT{constructor(e){this.auth=e,this.observer=null,this.addObserver=pV(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ov={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e8(t){ov=t}function wR(t){return ov.loadJS(t)}function t8(){return ov.recaptchaEnterpriseScript}function n8(){return ov.gapiScript}function s8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class r8{constructor(){this.enterprise=new i8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const a8="recaptcha-enterprise",SR="NO_RECAPTCHA";class o8{constructor(e){this.type=a8,this.auth=da(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,c)=>{U7(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new L7(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function r(i,l,c){const d=window.grecaptcha;ZE(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{l(h)}).catch(()=>{l(SR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r8().execute("siteKey",{action:"verify"}):new Promise((i,l)=>{s(this.auth).then(c=>{if(!n&&ZE(window.grecaptcha))r(c,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=t8();d.length!==0&&(d+=c),wR(d).then(()=>{r(c,i,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function tT(t,e,n,s=!1,r=!1){const i=new o8(t);let l;if(r)l=SR;else try{l=await i.verify(n)}catch{l=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function sg(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await tT(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await tT(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e){const n=av(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(dl(i,e??{}))return r;ur(r,"already-initialized")}return n.initialize({options:e})}function c8(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function u8(t,e,n){const s=da(t);je(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=ER(e),{host:l,port:c}=d8(e),d=c===null?"":`:${c}`,h={url:`${i}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){je(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),je(dl(h,s.config.emulator)&&dl(m,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=m,s.settings.appVerificationDisabledForTesting=!0,yo(l)?(Kb(`${i}//${l}${d}`),Zb("Auth",!0)):h8()}function ER(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d8(t){const e=ER(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:nT(s.substr(i.length+1))}}else{const[i,l]=s.split(":");return{host:i,port:nT(l)}}}function nT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function f8(t,e){return mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e){return wf(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}async function p8(t,e){return mi(t,"POST","/v1/accounts:sendOobCode",ua(t,e))}async function g8(t,e){return p8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}async function y8(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends rw{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Lh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Lh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(e,n,"signInWithPassword",m8);case"emailLink":return v8(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(e,s,"signUpPassword",f8);case"emailLink":return y8(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e){return wf(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="http://localhost";class fl extends rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const l=new fl(s,r);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return $c(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,$c(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$c(e,n)}buildRequest(){const e={requestUri:_8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b8(t){const e=Pd(Id(t)).link,n=e?Pd(Id(e)).deep_link_id:null,s=Pd(Id(t)).deep_link_id;return(s?Pd(Id(s)).link:null)||s||n||e||t}class iw{constructor(e){const n=Pd(Id(e)),s=n.apiKey??null,r=n.oobCode??null,i=x8(n.mode??null);je(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=b8(e);try{return new iw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.providerId=Ou.PROVIDER_ID}static credential(e,n){return Lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=iw.parseLink(n);return je(s,"argument-error"),Lh._fromEmailAndCode(e,s.code,s.tenantId)}}Ou.PROVIDER_ID="password";Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends aw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Sf{constructor(){super("facebook.com")}static credential(e){return fl._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fl._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Sf{constructor(){super("github.com")}static credential(e){return fl._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Sf{constructor(){super("twitter.com")}static credential(e,n){return fl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Oa.credential(n,s)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w8(t,e){return wf(t,"POST","/v1/accounts:signUp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await Tr._fromIdTokenResponse(e,s,r),l=sT(s);return new ml({user:i,providerId:l,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=sT(s);return new ml({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function sT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends fi{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,rg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new rg(e,n,s,r)}}function TR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rg._fromErrorAndOperation(t,i,e,s):i})}async function S8(t,e,n=!1){const s=await uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(t,e,n=!1){const{auth:s}=t;if(us(s.app))return Promise.reject(Yi(s));const r="reauthenticate";try{const i=await uu(t,TR(s,r,e,t),n);je(i.idToken,s,"internal-error");const l=nw(i.idToken);je(l,s,"internal-error");const{sub:c}=l;return je(t.uid===c,s,"user-mismatch"),ml._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&ur(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(t,e,n=!1){if(us(t.app))return Promise.reject(Yi(t));const s="signIn",r=await TR(t,s,e),i=await ml._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function T8(t,e){return NR(da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t){const e=da(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N8(t,e,n){const s=da(t);await sg(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g8)}async function A8(t,e,n){if(us(t.app))return Promise.reject(Yi(t));const s=da(t),l=await sg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w8).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&AR(t),d}),c=await ml._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(c.user),c}function j8(t,e,n){return us(t.app)?Promise.reject(Yi(t)):T8(Cn(t),Ou.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AR(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e){return mi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Cn(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await uu(s,C8(s.auth,i));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;const c=s.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),await s._updateTokensIfNecessary(l)}function P8(t,e,n,s){return Cn(t).onIdTokenChanged(e,n,s)}function I8(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function k8(t,e,n,s){return Cn(t).onAuthStateChanged(e,n,s)}function M8(t){return Cn(t).signOut()}const ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=1e3,D8=10;class CR extends jR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(s);!n&&this.localCache[s]===l||this.notifyListeners(s,l)},i=this.storage.getItem(s);K7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,D8):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},O8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CR.type="LOCAL";const L8=CR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR extends jR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RR.type="SESSION";const PR=RR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new lv(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,l=this.handlersMap[r];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const c=Array.from(l).map(async h=>h(n.origin,i)),d=await U8(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,l;return new Promise((c,d)=>{const h=ow("",20);r.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},s);l={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(v.data.response);break;default:clearTimeout(m),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function z8(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function B8(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F8(){return navigator?.serviceWorker?.controller||null}function H8(){return IR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebaseLocalStorageDb",$8=1,ag="firebaseLocalStorage",MR="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cv(t,e){return t.transaction([ag],e?"readwrite":"readonly").objectStore(ag)}function q8(){const t=indexedDB.deleteDatabase(kR);return new Ef(t).toPromise()}function L_(){const t=indexedDB.open(kR,$8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ag,{keyPath:MR})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ag)?e(s):(s.close(),await q8(),e(await L_()))})})}async function rT(t,e,n){const s=cv(t,!0).put({[MR]:e,value:n});return new Ef(s).toPromise()}async function G8(t,e){const n=cv(t,!1).get(e),s=await new Ef(n).toPromise();return s===void 0?null:s.value}function iT(t,e){const n=cv(t,!0).delete(e);return new Ef(n).toPromise()}const W8=800,K8=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await L_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>K8)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lv._getInstance(H8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B8(),!this.activeServiceWorker)return;this.sender=new V8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await L_();return await rT(e,ig,"1"),await iT(e,ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>G8(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=cv(r,!1).getAll();return new Ef(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const Z8=OR;new bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){return e?Wi(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $c(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $c(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $c(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y8(t){return NR(t.auth,new lw(t),t.bypassAuthState)}function Q8(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),E8(n,new lw(t),t.bypassAuthState)}async function X8(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),S8(n,new lw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y8;case"linkViaPopup":case"linkViaRedirect":return X8;case"reauthViaPopup":case"reauthViaRedirect":return Q8;default:ur(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=new bf(2e3,1e4);async function ez(t,e,n){if(us(t.app))return Promise.reject(jr(t,"operation-not-supported-in-this-environment"));const s=da(t);j7(t,e,aw);const r=DR(s,n);return new Ko(s,"signInViaPopup",e,r).executeNotNull()}class Ko extends LR{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J8.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz="pendingRedirect",rp=new Map;class nz extends LR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=rp.get(this.auth._key());if(!e){try{const s=await sz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}rp.set(this.auth._key(),e)}return this.bypassAuthState||rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sz(t,e){const n=az(e),s=iz(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function rz(t,e){rp.set(t._key(),e)}function iz(t){return Wi(t._redirectPersistence)}function az(t){return sp(tz,t.config.apiKey,t.name)}async function oz(t,e,n=!1){if(us(t.app))return Promise.reject(Yi(t));const s=da(t),r=DR(s,e),l=await new nz(s,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=10*60*1e3;class cz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!UR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lz&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(e))}saveEventToCache(e){this.cachedEventUids.add(aT(e)),this.lastProcessedEventTime=Date.now()}}function aT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e={}){return mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fz=/^https?/;async function mz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dz(t);for(const n of e)try{if(pz(n))return}catch{}ur(t,"unauthorized-domain")}function pz(t){const e=O_(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===s}if(!fz.test(n))return!1;if(hz.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=new bf(3e4,6e4);function oT(){const t=ni().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vz(t){return new Promise((e,n)=>{function s(){oT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oT(),n(jr(t,"network-request-failed"))},timeout:gz.get()})}if(ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ni().gapi?.load)s();else{const r=s8("iframefcb");return ni()[r]=()=>{gapi.load?s():n(jr(t,"network-request-failed"))},wR(`${n8()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw ip=null,e})}let ip=null;function yz(t){return ip=ip||vz(t),ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=new bf(5e3,15e3),xz="__/auth/iframe",bz="emulator/auth/iframe",wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ez(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tw(e,bz):`https://${t.config.authDomain}/${xz}`,s={apiKey:e.apiKey,appName:t.name,v:Mu},r=Sz.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${xf(s).slice(1)}`}async function Tz(t){const e=await yz(t),n=ni().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:Ez(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wz,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const l=jr(t,"network-request-failed"),c=ni().setTimeout(()=>{i(l)},_z.get());function d(){ni().clearTimeout(c),r(s)}s.ping(d).then(d,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Az=500,jz=600,Cz="_blank",Rz="http://localhost";class lT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pz(t,e,n,s=Az,r=jz){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const d={...Nz,width:s.toString(),height:r.toString(),top:i,left:l},h=zn().toLowerCase();n&&(c=pR(h)?Cz:n),fR(h)&&(e=e||Rz,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[y,A])=>`${v}${y}=${A},`,"");if(W7(h)&&c!=="_self")return Iz(e||"",c),new lT(null);const g=window.open(e||"",c,m);je(g,t,"popup-blocked");try{g.focus()}catch{}return new lT(g)}function Iz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="__/auth/handler",Mz="emulator/auth/handler",Oz=encodeURIComponent("fac");async function cT(t,e,n,s,r,i){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Mu,eventId:r};if(e instanceof aw){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",mV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Sf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${Oz}=${encodeURIComponent(d)}`:"";return`${Dz(t)}?${xf(c).slice(1)}${h}`}function Dz({config:t}){return t.emulator?tw(t,Mz):`https://${t.authDomain}/${kz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="webStorageSupport";class Lz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PR,this._completeRedirectFn=oz,this._overrideRedirectResult=rz}async _openPopup(e,n,s,r){aa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await cT(e,n,s,O_(),r);return Pz(e,i,ow())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await cT(e,n,s,O_(),r);return z8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(aa(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Tz(e),s=new cz(e);return n.register("authEvent",r=>(je(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qy,{type:Qy},r=>{const i=r?.[0]?.[Qy];i!==void 0&&n(!!i),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xR()||mR()||sw()}}const Uz=Lz;var uT="@firebase/auth",dT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bz(t){hl(new oo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=s.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bR(t)},h=new J7(s,r,i,d);return c8(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),hl(new oo("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new Vz(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(uT,dT,zz(t)),ti(uT,dT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=5*60,Hz=eR("authIdTokenMaxAge")||Fz;let hT=null;const $z=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Hz)return;const r=n?.token;hT!==r&&(hT=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function qz(t=Xb()){const e=av(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l8(t,{popupRedirectResolver:Uz,persistence:[Z8,L8,PR]}),s=eR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const l=$z(i.toString());I8(n,l,()=>l(n.currentUser)),P8(n,c=>l(c))}}const r=QC("auth");return r&&u8(n,`http://${r}`),n}function Gz(){return document.getElementsByTagName("head")?.[0]??document}e8({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=jr("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",Gz().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bz("Browser");var fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ja,VR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,P){function U(){}U.prototype=P.prototype,R.F=P.prototype,R.prototype=new U,R.prototype.constructor=R,R.D=function(I,O,k){for(var V=Array(arguments.length-2),J=2;J<arguments.length;J++)V[J-2]=arguments[J];return P.prototype[O].apply(I,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,P,U){U||(U=0);const I=Array(16);if(typeof P=="string")for(var O=0;O<16;++O)I[O]=P.charCodeAt(U++)|P.charCodeAt(U++)<<8|P.charCodeAt(U++)<<16|P.charCodeAt(U++)<<24;else for(O=0;O<16;++O)I[O]=P[U++]|P[U++]<<8|P[U++]<<16|P[U++]<<24;P=R.g[0],U=R.g[1],O=R.g[2];let k=R.g[3],V;V=P+(k^U&(O^k))+I[0]+3614090360&4294967295,P=U+(V<<7&4294967295|V>>>25),V=k+(O^P&(U^O))+I[1]+3905402710&4294967295,k=P+(V<<12&4294967295|V>>>20),V=O+(U^k&(P^U))+I[2]+606105819&4294967295,O=k+(V<<17&4294967295|V>>>15),V=U+(P^O&(k^P))+I[3]+3250441966&4294967295,U=O+(V<<22&4294967295|V>>>10),V=P+(k^U&(O^k))+I[4]+4118548399&4294967295,P=U+(V<<7&4294967295|V>>>25),V=k+(O^P&(U^O))+I[5]+1200080426&4294967295,k=P+(V<<12&4294967295|V>>>20),V=O+(U^k&(P^U))+I[6]+2821735955&4294967295,O=k+(V<<17&4294967295|V>>>15),V=U+(P^O&(k^P))+I[7]+4249261313&4294967295,U=O+(V<<22&4294967295|V>>>10),V=P+(k^U&(O^k))+I[8]+1770035416&4294967295,P=U+(V<<7&4294967295|V>>>25),V=k+(O^P&(U^O))+I[9]+2336552879&4294967295,k=P+(V<<12&4294967295|V>>>20),V=O+(U^k&(P^U))+I[10]+4294925233&4294967295,O=k+(V<<17&4294967295|V>>>15),V=U+(P^O&(k^P))+I[11]+2304563134&4294967295,U=O+(V<<22&4294967295|V>>>10),V=P+(k^U&(O^k))+I[12]+1804603682&4294967295,P=U+(V<<7&4294967295|V>>>25),V=k+(O^P&(U^O))+I[13]+4254626195&4294967295,k=P+(V<<12&4294967295|V>>>20),V=O+(U^k&(P^U))+I[14]+2792965006&4294967295,O=k+(V<<17&4294967295|V>>>15),V=U+(P^O&(k^P))+I[15]+1236535329&4294967295,U=O+(V<<22&4294967295|V>>>10),V=P+(O^k&(U^O))+I[1]+4129170786&4294967295,P=U+(V<<5&4294967295|V>>>27),V=k+(U^O&(P^U))+I[6]+3225465664&4294967295,k=P+(V<<9&4294967295|V>>>23),V=O+(P^U&(k^P))+I[11]+643717713&4294967295,O=k+(V<<14&4294967295|V>>>18),V=U+(k^P&(O^k))+I[0]+3921069994&4294967295,U=O+(V<<20&4294967295|V>>>12),V=P+(O^k&(U^O))+I[5]+3593408605&4294967295,P=U+(V<<5&4294967295|V>>>27),V=k+(U^O&(P^U))+I[10]+38016083&4294967295,k=P+(V<<9&4294967295|V>>>23),V=O+(P^U&(k^P))+I[15]+3634488961&4294967295,O=k+(V<<14&4294967295|V>>>18),V=U+(k^P&(O^k))+I[4]+3889429448&4294967295,U=O+(V<<20&4294967295|V>>>12),V=P+(O^k&(U^O))+I[9]+568446438&4294967295,P=U+(V<<5&4294967295|V>>>27),V=k+(U^O&(P^U))+I[14]+3275163606&4294967295,k=P+(V<<9&4294967295|V>>>23),V=O+(P^U&(k^P))+I[3]+4107603335&4294967295,O=k+(V<<14&4294967295|V>>>18),V=U+(k^P&(O^k))+I[8]+1163531501&4294967295,U=O+(V<<20&4294967295|V>>>12),V=P+(O^k&(U^O))+I[13]+2850285829&4294967295,P=U+(V<<5&4294967295|V>>>27),V=k+(U^O&(P^U))+I[2]+4243563512&4294967295,k=P+(V<<9&4294967295|V>>>23),V=O+(P^U&(k^P))+I[7]+1735328473&4294967295,O=k+(V<<14&4294967295|V>>>18),V=U+(k^P&(O^k))+I[12]+2368359562&4294967295,U=O+(V<<20&4294967295|V>>>12),V=P+(U^O^k)+I[5]+4294588738&4294967295,P=U+(V<<4&4294967295|V>>>28),V=k+(P^U^O)+I[8]+2272392833&4294967295,k=P+(V<<11&4294967295|V>>>21),V=O+(k^P^U)+I[11]+1839030562&4294967295,O=k+(V<<16&4294967295|V>>>16),V=U+(O^k^P)+I[14]+4259657740&4294967295,U=O+(V<<23&4294967295|V>>>9),V=P+(U^O^k)+I[1]+2763975236&4294967295,P=U+(V<<4&4294967295|V>>>28),V=k+(P^U^O)+I[4]+1272893353&4294967295,k=P+(V<<11&4294967295|V>>>21),V=O+(k^P^U)+I[7]+4139469664&4294967295,O=k+(V<<16&4294967295|V>>>16),V=U+(O^k^P)+I[10]+3200236656&4294967295,U=O+(V<<23&4294967295|V>>>9),V=P+(U^O^k)+I[13]+681279174&4294967295,P=U+(V<<4&4294967295|V>>>28),V=k+(P^U^O)+I[0]+3936430074&4294967295,k=P+(V<<11&4294967295|V>>>21),V=O+(k^P^U)+I[3]+3572445317&4294967295,O=k+(V<<16&4294967295|V>>>16),V=U+(O^k^P)+I[6]+76029189&4294967295,U=O+(V<<23&4294967295|V>>>9),V=P+(U^O^k)+I[9]+3654602809&4294967295,P=U+(V<<4&4294967295|V>>>28),V=k+(P^U^O)+I[12]+3873151461&4294967295,k=P+(V<<11&4294967295|V>>>21),V=O+(k^P^U)+I[15]+530742520&4294967295,O=k+(V<<16&4294967295|V>>>16),V=U+(O^k^P)+I[2]+3299628645&4294967295,U=O+(V<<23&4294967295|V>>>9),V=P+(O^(U|~k))+I[0]+4096336452&4294967295,P=U+(V<<6&4294967295|V>>>26),V=k+(U^(P|~O))+I[7]+1126891415&4294967295,k=P+(V<<10&4294967295|V>>>22),V=O+(P^(k|~U))+I[14]+2878612391&4294967295,O=k+(V<<15&4294967295|V>>>17),V=U+(k^(O|~P))+I[5]+4237533241&4294967295,U=O+(V<<21&4294967295|V>>>11),V=P+(O^(U|~k))+I[12]+1700485571&4294967295,P=U+(V<<6&4294967295|V>>>26),V=k+(U^(P|~O))+I[3]+2399980690&4294967295,k=P+(V<<10&4294967295|V>>>22),V=O+(P^(k|~U))+I[10]+4293915773&4294967295,O=k+(V<<15&4294967295|V>>>17),V=U+(k^(O|~P))+I[1]+2240044497&4294967295,U=O+(V<<21&4294967295|V>>>11),V=P+(O^(U|~k))+I[8]+1873313359&4294967295,P=U+(V<<6&4294967295|V>>>26),V=k+(U^(P|~O))+I[15]+4264355552&4294967295,k=P+(V<<10&4294967295|V>>>22),V=O+(P^(k|~U))+I[6]+2734768916&4294967295,O=k+(V<<15&4294967295|V>>>17),V=U+(k^(O|~P))+I[13]+1309151649&4294967295,U=O+(V<<21&4294967295|V>>>11),V=P+(O^(U|~k))+I[4]+4149444226&4294967295,P=U+(V<<6&4294967295|V>>>26),V=k+(U^(P|~O))+I[11]+3174756917&4294967295,k=P+(V<<10&4294967295|V>>>22),V=O+(P^(k|~U))+I[2]+718787259&4294967295,O=k+(V<<15&4294967295|V>>>17),V=U+(k^(O|~P))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+P&4294967295,R.g[1]=R.g[1]+(O+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+k&4294967295}s.prototype.v=function(R,P){P===void 0&&(P=R.length);const U=P-this.blockSize,I=this.C;let O=this.h,k=0;for(;k<P;){if(O==0)for(;k<=U;)r(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<P;)if(I[O++]=R.charCodeAt(k++),O==this.blockSize){r(this,I),O=0;break}}else for(;k<P;)if(I[O++]=R[k++],O==this.blockSize){r(this,I),O=0;break}}this.h=O,this.o+=P},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var P=1;P<R.length-8;++P)R[P]=0;P=this.o*8;for(var U=R.length-8;U<R.length;++U)R[U]=P&255,P/=256;for(this.v(R),R=Array(16),P=0,U=0;U<4;++U)for(let I=0;I<32;I+=8)R[P++]=this.g[U]>>>I&255;return R};function i(R,P){var U=c;return Object.prototype.hasOwnProperty.call(U,R)?U[R]:U[R]=P(R)}function l(R,P){this.h=P;const U=[];let I=!0;for(let O=R.length-1;O>=0;O--){const k=R[O]|0;I&&k==P||(U[O]=k,I=!1)}this.g=U}var c={};function d(R){return-128<=R&&R<128?i(R,function(P){return new l([P|0],P<0?-1:0)}):new l([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return j(h(-R));const P=[];let U=1;for(let I=0;R>=U;I++)P[I]=R/U|0,U*=4294967296;return new l(P,0)}function m(R,P){if(R.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(R.charAt(0)=="-")return j(m(R.substring(1),P));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=h(Math.pow(P,8));let I=g;for(let k=0;k<R.length;k+=8){var O=Math.min(8,R.length-k);const V=parseInt(R.substring(k,k+O),P);O<8?(O=h(Math.pow(P,O)),I=I.j(O).add(h(V))):(I=I.j(U),I=I.add(h(V)))}return I}var g=d(0),v=d(1),y=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-j(this).m();let R=0,P=1;for(let U=0;U<this.g.length;U++){const I=this.i(U);R+=(I>=0?I:4294967296+I)*P,P*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(w(this))return"-"+j(this).toString(R);const P=h(Math.pow(R,6));var U=this;let I="";for(;;){const O=D(U,P).g;U=S(U,O.j(P));let k=((U.g.length>0?U.g[0]:U.h)>>>0).toString(R);if(U=O,A(U))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(let P=0;P<R.g.length;P++)if(R.g[P]!=0)return!1;return!0}function w(R){return R.h==-1}t.l=function(R){return R=S(this,R),w(R)?-1:A(R)?0:1};function j(R){const P=R.g.length,U=[];for(let I=0;I<P;I++)U[I]=~R.g[I];return new l(U,~R.h).add(v)}t.abs=function(){return w(this)?j(this):this},t.add=function(R){const P=Math.max(this.g.length,R.g.length),U=[];let I=0;for(let O=0;O<=P;O++){let k=I+(this.i(O)&65535)+(R.i(O)&65535),V=(k>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);I=V>>>16,k&=65535,V&=65535,U[O]=V<<16|k}return new l(U,U[U.length-1]&-2147483648?-1:0)};function S(R,P){return R.add(j(P))}t.j=function(R){if(A(this)||A(R))return g;if(w(this))return w(R)?j(this).j(j(R)):j(j(this).j(R));if(w(R))return j(this.j(j(R)));if(this.l(y)<0&&R.l(y)<0)return h(this.m()*R.m());const P=this.g.length+R.g.length,U=[];for(var I=0;I<2*P;I++)U[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<R.g.length;O++){const k=this.i(I)>>>16,V=this.i(I)&65535,J=R.i(O)>>>16,ue=R.i(O)&65535;U[2*I+2*O]+=V*ue,T(U,2*I+2*O),U[2*I+2*O+1]+=k*ue,T(U,2*I+2*O+1),U[2*I+2*O+1]+=V*J,T(U,2*I+2*O+1),U[2*I+2*O+2]+=k*J,T(U,2*I+2*O+2)}for(R=0;R<P;R++)U[R]=U[2*R+1]<<16|U[2*R];for(R=P;R<2*P;R++)U[R]=0;return new l(U,0)};function T(R,P){for(;(R[P]&65535)!=R[P];)R[P+1]+=R[P]>>>16,R[P]&=65535,P++}function N(R,P){this.g=R,this.h=P}function D(R,P){if(A(P))throw Error("division by zero");if(A(R))return new N(g,g);if(w(R))return P=D(j(R),P),new N(j(P.g),j(P.h));if(w(P))return P=D(R,j(P)),new N(j(P.g),P.h);if(R.g.length>30){if(w(R)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var U=v,I=P;I.l(R)<=0;)U=F(U),I=F(I);var O=$(U,1),k=$(I,1);for(I=$(I,2),U=$(U,2);!A(I);){var V=k.add(I);V.l(R)<=0&&(O=O.add(U),k=V),I=$(I,1),U=$(U,1)}return P=S(R,O.j(P)),new N(O,P)}for(O=g;R.l(P)>=0;){for(U=Math.max(1,Math.floor(R.m()/P.m())),I=Math.ceil(Math.log(U)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=h(U),V=k.j(P);w(V)||V.l(R)>0;)U-=I,k=h(U),V=k.j(P);A(k)&&(k=v),O=O.add(k),R=S(R,V)}return new N(O,R)}t.B=function(R){return D(this,R).h},t.and=function(R){const P=Math.max(this.g.length,R.g.length),U=[];for(let I=0;I<P;I++)U[I]=this.i(I)&R.i(I);return new l(U,this.h&R.h)},t.or=function(R){const P=Math.max(this.g.length,R.g.length),U=[];for(let I=0;I<P;I++)U[I]=this.i(I)|R.i(I);return new l(U,this.h|R.h)},t.xor=function(R){const P=Math.max(this.g.length,R.g.length),U=[];for(let I=0;I<P;I++)U[I]=this.i(I)^R.i(I);return new l(U,this.h^R.h)};function F(R){const P=R.g.length+1,U=[];for(let I=0;I<P;I++)U[I]=R.i(I)<<1|R.i(I-1)>>>31;return new l(U,R.h)}function $(R,P){const U=P>>5;P%=32;const I=R.g.length-U,O=[];for(let k=0;k<I;k++)O[k]=P>0?R.i(k+U)>>>P|R.i(k+U+1)<<32-P:R.i(k+U);return new l(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VR=s,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Ja=l}).apply(typeof fT<"u"?fT:typeof self<"u"?self:typeof window<"u"?window:{});var jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zR,kd,BR,ap,U_,FR,HR,$R;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof jm=="object"&&jm];for(var b=0;b<f.length;++b){var C=f[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=n(this);function r(f,b){if(b)e:{var C=s;f=f.split(".");for(var z=0;z<f.length-1;z++){var K=f[z];if(!(K in C))break e;C=C[K]}f=f[f.length-1],z=C[f],b=b(z),b!=z&&b!=null&&e(C,f,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(b){var C=[],z;for(z in b)Object.prototype.hasOwnProperty.call(b,z)&&C.push([z,b[z]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function c(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,C){return f.call.apply(f.bind,arguments)}function h(f,b,C){return h=d,h.apply(null,arguments)}function m(f,b){var C=Array.prototype.slice.call(arguments,1);return function(){var z=C.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function g(f,b){function C(){}C.prototype=b.prototype,f.Z=b.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(z,K,Y){for(var he=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)he[Ie-2]=arguments[Ie];return b.prototype[K].apply(z,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function y(f){const b=f.length;if(b>0){const C=Array(b);for(let z=0;z<b;z++)C[z]=f[z];return C}return[]}function A(f,b){for(let z=1;z<arguments.length;z++){const K=arguments[z];var C=typeof K;if(C=C!="object"?C:K?Array.isArray(K)?"array":C:"null",C=="array"||C=="object"&&typeof K.length=="number"){C=f.length||0;const Y=K.length||0;f.length=C+Y;for(let he=0;he<Y;he++)f[C+he]=K[he]}else f.push(K)}}class w{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function j(f){l.setTimeout(()=>{throw f},0)}function S(){var f=R;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class T{constructor(){this.h=this.g=null}add(b,C){const z=N.get();z.set(b,C),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new w(()=>new D,f=>f.reset());class D{constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,R=new T,P=()=>{const f=Promise.resolve(void 0);F=()=>{f.then(U)}};function U(){for(var f;f=S();){try{f.h.call(f.g)}catch(C){j(C)}var b=N;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}$=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};l.addEventListener("test",C,b),l.removeEventListener("test",C,b)}catch{}return f}();function V(f){return/^[\s\xa0]*$/.test(f)}function J(f,b){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(J,O),J.prototype.init=function(f,b){const C=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(C=="mouseover"?b=f.fromElement:C=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),G=0;function ee(f,b,C,z,K){this.listener=f,this.proxy=null,this.src=b,this.type=C,this.capture=!!z,this.ha=K,this.key=++G,this.da=this.fa=!1}function B(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function q(f,b,C){for(const z in f)b.call(C,f[z],z,f)}function X(f,b){for(const C in f)b.call(void 0,f[C],C,f)}function le(f){const b={};for(const C in f)b[C]=f[C];return b}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(f,b){let C,z;for(let K=1;K<arguments.length;K++){z=arguments[K];for(C in z)f[C]=z[C];for(let Y=0;Y<W.length;Y++)C=W[Y],Object.prototype.hasOwnProperty.call(z,C)&&(f[C]=z[C])}}function oe(f){this.src=f,this.g={},this.h=0}oe.prototype.add=function(f,b,C,z,K){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const he=pe(f,b,z,K);return he>-1?(b=f[he],C||(b.fa=!1)):(b=new ee(b,this.src,Y,!!z,K),b.fa=C,f.push(b)),b};function fe(f,b){const C=b.type;if(C in f.g){var z=f.g[C],K=Array.prototype.indexOf.call(z,b,void 0),Y;(Y=K>=0)&&Array.prototype.splice.call(z,K,1),Y&&(B(b),f.g[C].length==0&&(delete f.g[C],f.h--))}}function pe(f,b,C,z){for(let K=0;K<f.length;++K){const Y=f[K];if(!Y.da&&Y.listener==b&&Y.capture==!!C&&Y.ha==z)return K}return-1}var re="closure_lm_"+(Math.random()*1e6|0),Oe={};function vt(f,b,C,z,K){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)vt(f,b[Y],C,z,K);return null}return C=hr(C),f&&f[ue]?f.J(b,C,c(z)?!!z.capture:!1,K):We(f,b,C,!1,z,K)}function We(f,b,C,z,K,Y){if(!b)throw Error("Invalid event type");const he=c(K)?!!K.capture:!!K;let Ie=gs(f);if(Ie||(f[re]=Ie=new oe(f)),C=Ie.add(b,C,z,he,Y),C.proxy)return C;if(z=Ke(),C.proxy=z,z.src=f,z.listener=C,f.addEventListener)k||(K=he),K===void 0&&(K=!1),f.addEventListener(b.toString(),z,K);else if(f.attachEvent)f.attachEvent(Zn(b.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ke(){function f(C){return b.call(f.src,f.listener,C)}const b=kr;return f}function tt(f,b,C,z,K){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)tt(f,b[Y],C,z,K);else z=c(z)?!!z.capture:!!z,C=hr(C),f&&f[ue]?(f=f.i,Y=String(b).toString(),Y in f.g&&(b=f.g[Y],C=pe(b,C,z,K),C>-1&&(B(b[C]),Array.prototype.splice.call(b,C,1),b.length==0&&(delete f.g[Y],f.h--)))):f&&(f=gs(f))&&(b=f.g[b.toString()],f=-1,b&&(f=pe(b,C,z,K)),(C=f>-1?b[f]:null)&&jt(C))}function jt(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[ue])fe(b.i,f);else{var C=f.type,z=f.proxy;b.removeEventListener?b.removeEventListener(C,z,f.capture):b.detachEvent?b.detachEvent(Zn(C),z):b.addListener&&b.removeListener&&b.removeListener(z),(C=gs(b))?(fe(C,f),C.h==0&&(C.src=null,b[re]=null)):B(f)}}}function Zn(f){return f in Oe?Oe[f]:Oe[f]="on"+f}function kr(f,b){if(f.da)f=!0;else{b=new J(b,this);const C=f.listener,z=f.ha||f.src;f.fa&&jt(f),f=C.call(z,b)}return f}function gs(f){return f=f[re],f instanceof oe?f:null}var vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function hr(f){return typeof f=="function"?f:(f[vs]||(f[vs]=function(b){return f.handleEvent(b)}),f[vs])}function Gt(){I.call(this),this.i=new oe(this),this.M=this,this.G=null}g(Gt,I),Gt.prototype[ue]=!0,Gt.prototype.removeEventListener=function(f,b,C,z){tt(this,f,b,C,z)};function Lt(f,b){var C,z=f.G;if(z)for(C=[];z;z=z.G)C.push(z);if(f=f.M,z=b.type||b,typeof b=="string")b=new O(b,f);else if(b instanceof O)b.target=b.target||f;else{var K=b;b=new O(z,f),de(b,K)}K=!0;let Y,he;if(C)for(he=C.length-1;he>=0;he--)Y=b.g=C[he],K=Yn(Y,z,!0,b)&&K;if(Y=b.g=f,K=Yn(Y,z,!0,b)&&K,K=Yn(Y,z,!1,b)&&K,C)for(he=0;he<C.length;he++)Y=b.g=C[he],K=Yn(Y,z,!1,b)&&K}Gt.prototype.N=function(){if(Gt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const C=f.g[b];for(let z=0;z<C.length;z++)B(C[z]);delete f.g[b],f.h--}}this.G=null},Gt.prototype.J=function(f,b,C,z){return this.i.add(String(f),b,!1,C,z)},Gt.prototype.K=function(f,b,C,z){return this.i.add(String(f),b,!0,C,z)};function Yn(f,b,C,z){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let Y=0;Y<b.length;++Y){const he=b[Y];if(he&&!he.da&&he.capture==C){const Ie=he.listener,rt=he.ha||he.src;he.fa&&fe(f.i,he),K=Ie.call(rt,z)!==!1&&K}}return K&&!z.defaultPrevented}function wo(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(f,b||0)}function ys(f){f.g=wo(()=>{f.g=null,f.i&&(f.i=!1,ys(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Wu extends I{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ys(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(f){I.call(this),this.h=f,this.g={}}g(gi,I);var sn=[];function Vs(f){q(f.g,function(b,C){this.g.hasOwnProperty(C)&&jt(b)},f),f.g={}}gi.prototype.N=function(){gi.Z.N.call(this),Vs(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ha=l.JSON.stringify,Ku=l.JSON.parse,vi=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function So(){}function Eo(){}var zs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qn(){O.call(this,"d")}g(Qn,O);function yi(){O.call(this,"c")}g(yi,O);var Pn={},Mr=null;function fa(){return Mr=Mr||new Gt}Pn.Ia="serverreachability";function To(f){O.call(this,Pn.Ia,f)}g(To,O);function fr(f){const b=fa();Lt(b,new To(b))}Pn.STAT_EVENT="statevent";function No(f,b){O.call(this,Pn.STAT_EVENT,f),this.stat=b}g(No,O);function kt(f){const b=fa();Lt(b,new No(b,f))}Pn.Ja="timingevent";function _s(f,b){O.call(this,Pn.Ja,f),this.size=b}g(_s,O);function _i(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},b)}function Ne(){this.g=!0}Ne.prototype.ua=function(){this.g=!1};function nt(f,b,C,z,K,Y){f.info(function(){if(f.g)if(Y){var he="",Ie=Y.split("&");for(let ct=0;ct<Ie.length;ct++){var rt=Ie[ct].split("=");if(rt.length>1){const Ut=rt[0];rt=rt[1];const Gs=Ut.split("_");he=Gs.length>=2&&Gs[1]=="type"?he+(Ut+"="+rt+"&"):he+(Ut+"=redacted&")}}}else he=null;else he=Y;return"XMLHTTP REQ ("+z+") [attempt "+K+"]: "+b+`
`+C+`
`+he})}function mt(f,b,C,z,K,Y,he){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+K+"]: "+b+`
`+C+`
`+Y+" "+he})}function Wt(f,b,C,z){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Bs(f,C)+(z?" "+z:"")})}function bn(f,b){f.info(function(){return"TIMEOUT: "+b})}Ne.prototype.info=function(){};function Bs(f,b){if(!f.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var C=Y[f];if(!(C.length<2)){var z=C[1];if(Array.isArray(z)&&!(z.length<1)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(let he=1;he<z.length;he++)z[he]=""}}}}return ha(Y)}catch{return b}}var Xn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},In={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xs;function Jn(){}g(Jn,So),Jn.prototype.g=function(){return new XMLHttpRequest},xs=new Jn;function xe(f){return encodeURIComponent(String(f))}function Uf(f){var b=1;f=f.split(":");const C=[];for(;b>0&&f.length;)C.push(f.shift()),b--;return f.length&&C.push(f.join(":")),C}function mr(f,b,C,z){this.j=f,this.i=b,this.l=C,this.S=z||1,this.V=new gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zu}function Zu(){this.i=null,this.g="",this.h=!1}var Yu={},Ao={};function Pl(f,b,C){f.M=1,f.A=_t(Bn(b)),f.u=C,f.R=!0,xi(f,null)}function xi(f,b){f.F=Date.now(),Il(f),f.B=Bn(f.A);var C=f.B,z=f.S;Array.isArray(z)||(z=[String(z)]),Ll(C.i,"t",z),f.C=0,C=f.j.L,f.h=new Zu,f.g=ud(f.j,C?b:null,!f.u),f.P>0&&(f.O=new Wu(h(f.Y,f,f.g),f.P)),b=f.V,C=f.g,z=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(sn[0]=K.toString()),K=sn);for(let Y=0;Y<K.length;Y++){const he=vt(C,K[Y],z||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=f.J?le(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),fr(),nt(f.i,f.v,f.B,f.l,f.S,f.u)}mr.prototype.ba=function(f){f=f.target;const b=this.O;b&&Ur(f)==3?b.j():this.Y(f)},mr.prototype.Y=function(f){try{if(f==this.g)e:{const Ie=Ur(this.g),rt=this.g.ya(),ct=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||sd(this.g)))){this.K||Ie!=4||rt==7||(rt==8||ct<=0?fr(3):fr(2)),kl(this);var b=this.g.ca();this.X=b;var C=Vf(this);if(this.o=b==200,mt(this.i,this.v,this.B,this.l,this.S,Ie,b),this.o){if(this.U&&!this.L){t:{if(this.g){var z,K=this.g;if((z=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(z)){var Y=z;break t}}Y=null}if(f=Y)Wt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qu(this,f);else{this.o=!1,this.m=3,kt(12),Fs(this),jo(this);break e}}if(this.R){f=!0;let Ut;for(;!this.K&&this.C<C.length;)if(Ut=ey(this,C),Ut==Ao){Ie==4&&(this.m=4,kt(14),f=!1),Wt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Yu){this.m=4,kt(15),Wt(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else Wt(this.i,this.l,Ut,null),Qu(this,Ut);if(zf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||C.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)Wt(this.i,this.l,C,"[Invalid Chunked Response]"),Fs(this),jo(this);else if(C.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),ld(he),he.P=!0,kt(11))}}else Wt(this.i,this.l,C,null),Qu(this,C);Ie==4&&Fs(this),this.o&&!this.K&&(Ie==4?ws(this.j,this):(this.o=!1,Il(this)))}else rd(this.g),b==400&&C.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Fs(this),jo(this)}}}catch{}finally{}};function Vf(f){if(!zf(f))return f.g.la();const b=sd(f.g);if(b==="")return"";let C="";const z=b.length,K=Ur(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fs(f),jo(f),"";f.h.i=new l.TextDecoder}for(let Y=0;Y<z;Y++)f.h.h=!0,C+=f.h.i.decode(b[Y],{stream:!(K&&Y==z-1)});return b.length=0,f.h.g+=C,f.C=0,f.h.g}function zf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ey(f,b){var C=f.C,z=b.indexOf(`
`,C);return z==-1?Ao:(C=Number(b.substring(C,z)),isNaN(C)?Yu:(z+=1,z+C>b.length?Ao:(b=b.slice(z,z+C),f.C=z+C,b)))}mr.prototype.cancel=function(){this.K=!0,Fs(this)};function Il(f){f.T=Date.now()+f.H,Bf(f,f.H)}function Bf(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=_i(h(f.aa,f),b)}function kl(f){f.D&&(l.clearTimeout(f.D),f.D=null)}mr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(bn(this.i,this.B),this.M!=2&&(fr(),kt(17)),Fs(this),this.m=2,jo(this)):Bf(this,this.T-f)};function jo(f){f.j.I==0||f.K||ws(f.j,f)}function Fs(f){kl(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Vs(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Qu(f,b){try{var C=f.j;if(C.I!=0&&(C.g==f||Co(C.h,f))){if(!f.L&&Co(C.h,f)&&C.I==3){try{var z=C.Ba.g.parse(b)}catch{z=null}if(Array.isArray(z)&&z.length==3){var K=z;if(K[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)Fl(C),zl(C);else break e;od(C),kt(18)}}else C.xa=K[1],0<C.xa-C.K&&K[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=_i(h(C.Va,C),6e3));$f(C.h)<=1&&C.ta&&(C.ta=void 0)}else zr(C,11)}else if((f.L||C.g==f)&&Fl(C),!V(b))for(K=C.Ba.g.parse(b),b=0;b<K.length;b++){let ct=K[b];const Ut=ct[0];if(!(Ut<=C.K))if(C.K=Ut,ct=ct[1],C.I==2)if(ct[0]=="c"){C.M=ct[1],C.ba=ct[2];const Gs=ct[3];Gs!=null&&(C.ka=Gs,C.j.info("VER="+C.ka));const vr=ct[4];vr!=null&&(C.za=vr,C.j.info("SVER="+C.za));const Ws=ct[5];Ws!=null&&typeof Ws=="number"&&Ws>0&&(z=1.5*Ws,C.O=z,C.j.info("backChannelRequestTimeoutMs_="+z)),z=C;const Br=f.g;if(Br){const ql=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var Y=z.h;Y.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(bi(Y,Y.h),Y.h=null))}if(z.G){const Gl=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(z.wa=Gl,_e(z.J,z.G,Gl))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),z=C;var he=f;if(z.na=cd(z,z.L?z.ba:null,z.W),he.L){Xu(z.h,he);var Ie=he,rt=z.O;rt&&(Ie.H=rt),Ie.D&&(kl(Ie),Il(Ie)),z.g=he}else ad(z);C.i.length>0&&Vr(C)}else ct[0]!="stop"&&ct[0]!="close"||zr(C,7);else C.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?zr(C,7):Fe(C):ct[0]!="noop"&&C.l&&C.l.qa(ct),C.A=0)}}fr(4)}catch{}}var ty=class{constructor(f,b){this.g=f,this.map=b}};function Ff(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hf(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $f(f){return f.h?1:f.g?f.g.size:0}function Co(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function bi(f,b){f.g?f.g.add(b):f.h=b}function Xu(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Ff.prototype.cancel=function(){if(this.i=Ju(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ju(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const C of f.g.values())b=b.concat(C.G);return b}return y(f.i)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xe(f,b){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const z=f[C].indexOf("=");let K,Y=null;z>=0?(K=f[C].substring(0,z),Y=f[C].substring(z+1)):K=f[C],b(K,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function st(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof st?(this.l=f.l,Hs(this,f.j),this.o=f.o,this.g=f.g,$s(this,f.u),this.h=f.h,Ro(this,Po(f.i)),this.m=f.m):f&&(b=String(f).match(ma))?(this.l=!1,Hs(this,b[1]||"",!0),this.o=wi(b[2]||""),this.g=wi(b[3]||"",!0),$s(this,b[4]),this.h=wi(b[5]||"",!0),Ro(this,b[6]||"",!0),this.m=wi(b[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}st.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Or(b,qf,!0),":");var C=this.g;return(C||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Or(b,qf,!0),"@"),f.push(xe(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(Or(C,C.charAt(0)=="/"?Si:Ml,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",Or(C,Ei)),f.join("")},st.prototype.resolve=function(f){const b=Bn(this);let C=!!f.j;C?Hs(b,f.j):C=!!f.o,C?b.o=f.o:C=!!f.g,C?b.g=f.g:C=f.u!=null;var z=f.h;if(C)$s(b,f.u);else if(C=!!f.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var K=b.h.lastIndexOf("/");K!=-1&&(z=b.h.slice(0,K+1)+z)}if(K=z,K==".."||K==".")z="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){z=K.lastIndexOf("/",0)==0,K=K.split("/");const Y=[];for(let he=0;he<K.length;){const Ie=K[he++];Ie=="."?z&&he==K.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),z&&he==K.length&&Y.push("")):(Y.push(Ie),z=!0)}z=Y.join("/")}else z=K}return C?b.h=z:C=f.i.toString()!=="",C?Ro(b,Po(f.i)):C=!!f.m,C&&(b.m=f.m),b};function Bn(f){return new st(f)}function Hs(f,b,C){f.j=C?wi(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function $s(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Ro(f,b,C){b instanceof pr?(f.i=b,ed(f.i,f.l)):(C||(b=Or(b,Mt)),f.i=new pr(b,f.l))}function _e(f,b,C){f.i.set(b,C)}function _t(f){return _e(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function wi(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Or(f,b,C){return typeof f=="string"?(f=encodeURI(f).replace(b,es),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function es(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var qf=/[#\/\?@]/g,Ml=/[#\?:]/g,Si=/[#\?]/g,Mt=/[#\?@]/g,Ei=/#/g;function pr(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function bs(f){f.g||(f.g=new Map,f.h=0,f.i&&Xe(f.i,function(b,C){f.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}t=pr.prototype,t.add=function(f,b){bs(this),this.i=null,f=Dr(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(b),this.h+=1,this};function Ol(f,b){bs(f),b=Dr(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function pa(f,b){return bs(f),b=Dr(f,b),f.g.has(b)}t.forEach=function(f,b){bs(this),this.g.forEach(function(C,z){C.forEach(function(K){f.call(b,K,z,this)},this)},this)};function Dl(f,b){bs(f);let C=[];if(typeof b=="string")pa(f,b)&&(C=C.concat(f.g.get(Dr(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)C=C.concat(f[b]);return C}t.set=function(f,b){return bs(this),this.i=null,f=Dr(this,f),pa(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Dl(this,f),f.length>0?String(f[0]):b):b};function Ll(f,b,C){Ol(f,b),C.length>0&&(f.i=null,f.g.set(Dr(f,b),y(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let z=0;z<b.length;z++){var C=b[z];const K=xe(C);C=Dl(this,C);for(let Y=0;Y<C.length;Y++){let he=K;C[Y]!==""&&(he+="="+xe(C[Y])),f.push(he)}}return this.i=f.join("&")};function Po(f){const b=new pr;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Dr(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function ed(f,b){b&&!f.j&&(bs(f),f.i=null,f.g.forEach(function(C,z){const K=z.toLowerCase();z!=K&&(Ol(this,z),Ll(this,K,C))},f)),f.j=b}function Ul(f,b){const C=new Ne;if(l.Image){const z=new Image;z.onload=m(qs,C,"TestLoadImage: loaded",!0,b,z),z.onerror=m(qs,C,"TestLoadImage: error",!1,b,z),z.onabort=m(qs,C,"TestLoadImage: abort",!1,b,z),z.ontimeout=m(qs,C,"TestLoadImage: timeout",!1,b,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else b(!1)}function Gf(f,b){const C=new Ne,z=new AbortController,K=setTimeout(()=>{z.abort(),qs(C,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:z.signal}).then(Y=>{clearTimeout(K),Y.ok?qs(C,"TestPingServer: ok",!0,b):qs(C,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),qs(C,"TestPingServer: error",!1,b)})}function qs(f,b,C,z,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),z(C)}catch{}}function ny(){this.g=new vi}function Pe(f){this.i=f.Sb||null,this.h=f.ab||!1}g(Pe,So),Pe.prototype.g=function(){return new Fn(this.i,this.h)};function Fn(f,b){Gt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Fn,Gt),t=Fn.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Ti(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ga(this):Ti(this),this.readyState==3&&dt(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ga(this))},t.Na=function(f){this.g&&(this.response=f,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ti(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var C=b.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=b.next();return f.join(`\r
`)};function Ti(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vl(f){let b="";return q(f,function(C,z){b+=z,b+=":",b+=C,b+=`\r
`}),b}function Io(f,b,C){e:{for(z in C){var z=!1;break e}z=!0}z||(C=Vl(C),typeof f=="string"?C!=null&&xe(C):_e(f,b,C))}function lt(f){Gt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(lt,Gt);var td=/^https?$/i,ko=["POST","PUT"];t=lt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,C,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xs.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(Y){Kt(this,Y);return}if(f=C||"",C=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var K in z)C.set(K,z[K]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const Y of z.keys())C.set(Y,z.get(Y));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(C.keys()).find(Y=>Y.toLowerCase()=="content-type"),K=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(ko,b,void 0)>=0)||z||K||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of C)this.g.setRequestHeader(Y,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){Kt(this,Y)}};function Kt(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Lr(f),Mo(f)}function Lr(f){f.A||(f.A=!0,Lt(f,"complete"),Lt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Lt(this,"complete"),Lt(this,"abort"),Mo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mo(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nd(this):this.Xa())},t.Xa=function(){nd(this)};function nd(f){if(f.h&&typeof i<"u"){if(f.v&&Ur(f)==4)setTimeout(f.Ca.bind(f),0);else if(Lt(f,"readystatechange"),Ur(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var C;if(!(C=b)){var z;if(z=Y===0){let he=String(f.D).match(ma)[1]||null;!he&&l.self&&l.self.location&&(he=l.self.location.protocol.slice(0,-1)),z=!td.test(he?he.toLowerCase():"")}C=z}if(C)Lt(f,"complete"),Lt(f,"success");else{f.o=6;try{var K=Ur(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Lr(f)}}finally{Mo(f)}}}}function Mo(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,b||Lt(f,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ur(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ur(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Ku(b)}};function sd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function rd(f){const b={};f=(f.g&&Ur(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(V(f[z]))continue;var C=Uf(f[z]);const K=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Y=b[K]||[];b[K]=Y,Y.push(C)}X(b,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(f,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||b}function id(f){this.za=0,this.i=[],this.j=new Ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oo("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oo("baseRetryDelayMs",5e3,f),this.Za=Oo("retryDelaySeedMs",1e4,f),this.Ta=Oo("forwardChannelMaxRetries",2,f),this.va=Oo("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ff(f&&f.concurrentRequestLimit),this.Ba=new ny,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=id.prototype,t.ka=8,t.I=1,t.connect=function(f,b,C,z){kt(0),this.W=f,this.H=b||{},C&&z!==void 0&&(this.H.OSID=C,this.H.OAID=z),this.F=this.X,this.J=cd(this,null,this.W),Vr(this)};function Fe(f){if(ts(f),f.I==3){var b=f.V++,C=Bn(f.J);if(_e(C,"SID",f.M),_e(C,"RID",b),_e(C,"TYPE","terminate"),Ni(f,C),b=new mr(f,f.j,b),b.M=2,b.A=_t(Bn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=b.A,C=!0),C||(b.g=ud(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Il(b)}gr(f)}function zl(f){f.g&&(ld(f),f.g.cancel(),f.g=null)}function ts(f){zl(f),f.v&&(l.clearTimeout(f.v),f.v=null),Fl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function Vr(f){if(!Hf(f.h)&&!f.m){f.m=!0;var b=f.Ea;F||P(),$||(F(),$=!0),R.add(b,f),f.D=0}}function Wf(f,b){return $f(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=_i(h(f.Ea,f,b),Yf(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new mr(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=le(Y),de(Y,this.U)):Y=this.U),this.u!==null||this.R||(K.J=Y,Y=null),this.S)e:{for(var b=0,C=0;C<this.i.length;C++){t:{var z=this.i[C];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(b+=z,b>4096){b=C;break e}if(b===4096||C===this.i.length-1){b=C+1;break e}}b=1e3}else b=1e3;b=Zf(this,K,b),C=Bn(this.J),_e(C,"RID",f),_e(C,"CVER",22),this.G&&_e(C,"X-HTTP-Session-Id",this.G),Ni(this,C),Y&&(this.R?b="headers="+xe(Vl(Y))+"&"+b:this.u&&Io(C,this.u,Y)),bi(this.h,K),this.Ra&&_e(C,"TYPE","init"),this.S?(_e(C,"$req",b),_e(C,"SID","null"),K.U=!0,Pl(K,C,null)):Pl(K,C,b),this.I=2}}else this.I==3&&(f?Kf(this,f):this.i.length==0||Hf(this.h)||Kf(this))};function Kf(f,b){var C;b?C=b.l:C=f.V++;const z=Bn(f.J);_e(z,"SID",f.M),_e(z,"RID",C),_e(z,"AID",f.K),Ni(f,z),f.u&&f.o&&Io(z,f.u,f.o),C=new mr(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Zf(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),bi(f.h,C),Pl(C,z,b)}function Ni(f,b){f.H&&q(f.H,function(C,z){_e(b,z,C)}),f.l&&q({},function(C,z){_e(b,z,C)})}function Zf(f,b,C){C=Math.min(f.i.length,C);const z=f.l?h(f.l.Ka,f.l,f):null;e:{var K=f.i;let Ie=-1;for(;;){const rt=["count="+C];Ie==-1?C>0?(Ie=K[0].g,rt.push("ofs="+Ie)):Ie=0:rt.push("ofs="+Ie);let ct=!0;for(let Ut=0;Ut<C;Ut++){var Y=K[Ut].g;const Gs=K[Ut].map;if(Y-=Ie,Y<0)Ie=Math.max(0,K[Ut].g-100),ct=!1;else try{Y="req"+Y+"_"||"";try{var he=Gs instanceof Map?Gs:Object.entries(Gs);for(const[vr,Ws]of he){let Br=Ws;c(Ws)&&(Br=ha(Ws)),rt.push(Y+vr+"="+encodeURIComponent(Br))}}catch(vr){throw rt.push(Y+"type="+encodeURIComponent("_badmap")),vr}}catch{z&&z(Gs)}}if(ct){he=rt.join("&");break e}}he=void 0}return f=f.i.splice(0,C),b.G=f,he}function ad(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;F||P(),$||(F(),$=!0),R.add(b,f),f.A=0}}function od(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=_i(h(f.Da,f),Yf(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Bl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=_i(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),zl(this),Bl(this))};function ld(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function Bl(f){f.g=new mr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Bn(f.na);_e(b,"RID","rpc"),_e(b,"SID",f.M),_e(b,"AID",f.K),_e(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&_e(b,"TO",f.ia),_e(b,"TYPE","xmlhttp"),Ni(f,b),f.u&&f.o&&Io(b,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=_t(Bn(b)),C.u=null,C.R=!0,xi(C,f)}t.Va=function(){this.C!=null&&(this.C=null,zl(this),od(this),kt(19))};function Fl(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ws(f,b){var C=null;if(f.g==b){Fl(f),ld(f),f.g=null;var z=2}else if(Co(f.h,b))C=b.G,Xu(f.h,b),z=1;else return;if(f.I!=0){if(b.o)if(z==1){C=b.u?b.u.length:0,b=Date.now()-b.F;var K=f.D;z=fa(),Lt(z,new _s(z,C)),Vr(f)}else ad(f);else if(K=b.m,K==3||K==0&&b.X>0||!(z==1&&Wf(f,b)||z==2&&od(f)))switch(C&&C.length>0&&(b=f.h,b.i=b.i.concat(C)),K){case 1:zr(f,5);break;case 4:zr(f,10);break;case 3:zr(f,6);break;default:zr(f,2)}}}function Yf(f,b){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*b}function zr(f,b){if(f.j.info("Error code "+b),b==2){var C=h(f.bb,f),z=f.Ua;const K=!z;z=new st(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Hs(z,"https"),_t(z),K?Ul(z.toString(),C):Gf(z.toString(),C)}else kt(2);f.I=0,f.l&&f.l.pa(b),gr(f),ts(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function gr(f){if(f.I=0,f.ja=[],f.l){const b=Ju(f.h);(b.length!=0||f.i.length!=0)&&(A(f.ja,b),A(f.ja,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.oa()}}function cd(f,b,C){var z=C instanceof st?Bn(C):new st(C);if(z.g!="")b&&(z.g=b+"."+z.g),$s(z,z.u);else{var K=l.location;z=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const Y=new st(null);z&&Hs(Y,z),b&&(Y.g=b),K&&$s(Y,K),C&&(Y.h=C),z=Y}return C=f.G,b=f.wa,C&&b&&_e(z,C,b),_e(z,"VER",f.ka),Ni(f,z),z}function ud(f,b,C){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new lt(new Pe({ab:C})):new lt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hl(){}t=Hl.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $l(){}$l.prototype.g=function(f,b){return new kn(f,b)};function kn(f,b){Gt.call(this),this.g=new id(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!V(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!V(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new va(this)}g(kn,Gt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Fe(this.g)},kn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=ha(f),f=C);b.i.push(new ty(b.Ya++,f)),b.I==3&&Vr(b)},kn.prototype.N=function(){this.g.l=null,delete this.j,Fe(this.g),delete this.g,kn.Z.N.call(this)};function dd(f){Qn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const C in b){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(dd,Qn);function Qf(){yi.call(this),this.status=1}g(Qf,yi);function va(f){this.g=f}g(va,Hl),va.prototype.ra=function(){Lt(this.g,"a")},va.prototype.qa=function(f){Lt(this.g,new dd(f))},va.prototype.pa=function(f){Lt(this.g,new Qf)},va.prototype.oa=function(){Lt(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,$R=function(){return new $l},HR=function(){return fa()},FR=Pn,U_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,ap=Xn,In.COMPLETE="complete",BR=In,Eo.EventType=zs,zs.OPEN="a",zs.CLOSE="b",zs.ERROR="c",zs.MESSAGE="d",Gt.prototype.listen=Gt.prototype.J,kd=Eo,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,zR=lt}).apply(typeof jm<"u"?jm:typeof self<"u"?self:typeof window<"u"?window:{});const mT="@firebase/firestore",pT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Yb("@firebase/firestore");function fc(){return pl.logLevel}function ye(t,...e){if(pl.logLevel<=Ze.DEBUG){const n=e.map(cw);pl.debug(`Firestore (${Du}): ${t}`,...n)}}function oa(t,...e){if(pl.logLevel<=Ze.ERROR){const n=e.map(cw);pl.error(`Firestore (${Du}): ${t}`,...n)}}function du(t,...e){if(pl.logLevel<=Ze.WARN){const n=e.map(cw);pl.warn(`Firestore (${Du}): ${t}`,...n)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,qR(t,s,n)}function qR(t,e,n){let s=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw oa(s),new Error(s)}function ut(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||qR(e,r,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class Kz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zz{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const r=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let i=new eo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eo,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eo)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new GR(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class Yz{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qz{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Yz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,us(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=i=>{i.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=Jz(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Ye(t,e){return t<e?-1:t>e?1:0}function V_(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return Xy(r)===Xy(i)?Ye(r,i):Xy(r)?1:-1}return Ye(t.length,e.length)}const eB=55296,tB=57343;function Xy(t){const e=t.charCodeAt(0);return e>=eB&&e<=tB}function hu(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__name__";class qr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=qr.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Ye(e.length,n.length)}static compareSegments(e,n){const s=qr.isNumericId(e),r=qr.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?qr.extractNumericId(e).compare(qr.extractNumericId(n)):V_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ja.fromString(e.substring(4,e.length-2))}}class Pt extends qr{construct(e,n,s){return new Pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const nB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends qr{construct(e,n,s){return new An(e,n,s)}static isValidIdentifier(e){return nB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vT}static keyField(){return new An([vT])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let l=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,r+=2}else c==="`"?(l=!l,r++):c!=="."||l?(s+=c,r++):(i(),r++)}if(i(),l)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(n)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Pt.fromString(e))}static fromName(e){return new Te(Pt.fromString(e).popFirst(5))}static empty(){return new Te(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t,e,n){if(!n)throw new Se(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rB(t,e,n,s){if(e===!0&&s===!0)throw new Se(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yT(t){if(!Te.isDocumentKey(t))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Uh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dw(t);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tf(t,e){if(!WR(t))throw new Se(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const l=t[s];if(r&&typeof l!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&l!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new Se(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=-62135596800,xT=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*xT);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_T)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xT}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tf(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:en("string",St._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new St(0,0))}static max(){return new ke(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=-1;function iB(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new lo(r,Te.empty(),e)}function aB(t){return new lo(t.readTime,t.key,Vh)}class lo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new lo(ke.min(),Te.empty(),Vh)}static max(){return new lo(ke.max(),Te.empty(),Vh)}}function oB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==lB)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let r=0,i=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++i,l&&i===r&&n()},d=>s(d))}),l=!0,i===r&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(r=>r?te.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new te((s,r)=>{const i=e.length,l=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;n(e[h]).next(m=>{l[h]=m,++c,c===i&&s(l)},m=>r(m))}})}static doWhile(e,n){return new te((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function uB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=-1;function dv(t){return t==null}function og(t){return t===0&&1/t==-1/0}function dB(t){return typeof t=="number"&&Number.isInteger(t)&&!og(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="";function hB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bT(e)),e=fB(t.get(n),e);return bT(e)}function fB(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case KR:n+="";break;default:n+=i}}return n}function bT(t){return t+KR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function El(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??En.RED,this.left=r??En.EMPTY,this.right=i??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new En(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return En.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new un(An.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new YR("Invalid base64 string: "+i):i}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const mB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=mB.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="server_timestamp",XR="__type__",JR="__previous_value__",eP="__local_write_time__";function fw(t){return(t?.mapValue?.fields||{})[XR]?.stringValue===QR}function hv(t){const e=t.mapValue.fields[JR];return fw(e)?hv(e):e}function zh(t){const e=co(t.mapValue.fields[eP].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,s,r,i,l,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const lg="(default)";class Bh{constructor(e,n){this.projectId=e,this.database=n||lg}static empty(){return new Bh("","")}get isDefaultDatabase(){return this.database===lg}isEqual(e){return e instanceof Bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="__type__",gB="__max__",Rm={mapValue:{}},nP="__vector__",cg="value";function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fw(t)?4:yB(t)?9007199254740991:vB(t)?10:11:Ce(28295,{value:t})}function li(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zh(t).isEqual(zh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=co(r.timestampValue),c=co(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return uo(r.bytesValue).isEqual(uo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qt(r.geoPointValue.latitude)===qt(i.geoPointValue.latitude)&&qt(r.geoPointValue.longitude)===qt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qt(r.integerValue)===qt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=qt(r.doubleValue),c=qt(i.doubleValue);return l===c?og(l)===og(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(wT(l)!==wT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!li(l[d],c[d])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function Fh(t,e){return(t.values||[]).find(n=>li(n,e))!==void 0}function fu(t,e){if(t===e)return 0;const n=ho(t),s=ho(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(i,l){const c=qt(i.integerValue||i.doubleValue),d=qt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return ET(t.timestampValue,e.timestampValue);case 4:return ET(zh(t),zh(e));case 5:return V_(t.stringValue,e.stringValue);case 6:return function(i,l){const c=uo(i),d=uo(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Ye(c[h],d[h]);if(m!==0)return m}return Ye(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Ye(qt(i.latitude),qt(l.latitude));return c!==0?c:Ye(qt(i.longitude),qt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TT(t.arrayValue,e.arrayValue);case 10:return function(i,l){const c=i.fields||{},d=l.fields||{},h=c[cg]?.arrayValue,m=d[cg]?.arrayValue,g=Ye(h?.values?.length||0,m?.values?.length||0);return g!==0?g:TT(h,m)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===Rm.mapValue&&l===Rm.mapValue)return 0;if(i===Rm.mapValue)return 1;if(l===Rm.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const v=V_(d[g],m[g]);if(v!==0)return v;const y=fu(c[d[g]],h[m[g]]);if(y!==0)return y}return Ye(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function ET(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=co(t),s=co(e),r=Ye(n.seconds,s.seconds);return r!==0?r:Ye(n.nanos,s.nanos)}function TT(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=fu(n[r],s[r]);if(i)return i}return Ye(n.length,s.length)}function mu(t){return z_(t)}function z_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=co(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=z_(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const l of s)i?i=!1:r+=",",r+=`${l}:${z_(n.fields[l])}`;return r+"}"}(t.mapValue):Ce(61005,{value:t})}function op(t){switch(ho(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hv(t);return e?16+op(e):16;case 5:return 2*t.stringValue.length;case 6:return uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+op(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return El(s.fields,(i,l)=>{r+=i.length+op(l)}),r}(t.mapValue);default:throw Ce(13486,{value:t})}}function B_(t){return!!t&&"integerValue"in t}function mw(t){return!!t&&"arrayValue"in t}function NT(t){return!!t&&"nullValue"in t}function AT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lp(t){return!!t&&"mapValue"in t}function vB(t){return(t?.mapValue?.fields||{})[tP]?.stringValue===nP}function sh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return El(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=sh(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sh(t.arrayValue.values[n]);return e}return{...t}}function yB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(n)}setAll(e){let n=An.emptyPath(),s={},r=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,s,r),s={},r=[],n=c.popLast()}l?s[c.lastSegment()]=sh(l):r.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());lp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];lp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){El(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new tr(sh(this.value))}}function sP(t){const e=[];return El(t.fields,(n,s)=>{const r=new An([n]);if(lp(s)){const i=sP(s.mapValue).fields;if(i.length===0)e.push(r);else for(const l of i)e.push(r.child(l))}else e.push(r)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,s,r,i,l,c){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,ke.min(),ke.min(),ke.min(),tr.empty(),0)}static newFoundDocument(e,n,s,r){return new Dn(e,1,n,ke.min(),s,r,0)}static newNoDocument(e,n){return new Dn(e,2,n,ke.min(),ke.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,ke.min(),ke.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.position=e,this.inclusive=n}}function jT(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],l=t.position[r];if(i.field.isKeyField()?s=Te.comparator(Te.fromName(l.referenceValue),n.key):s=fu(l,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function CT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n="asc"){this.field=e,this.dir=n}}function _B(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rP=class{};class cn extends rP{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bB(e,n,s):n==="array-contains"?new EB(e,s):n==="in"?new TB(e,s):n==="not-in"?new NB(e,s):n==="array-contains-any"?new AB(e,s):new cn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wB(e,s):new SB(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fu(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends rP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return iP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iP(t){return t.op==="and"}function aP(t){return xB(t)&&iP(t)}function xB(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function F_(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(aP(t))return t.filters.map(e=>F_(e)).join(",");{const e=t.filters.map(n=>F_(n)).join(",");return`${t.op}(${e})`}}function oP(t,e){return t instanceof cn?function(s,r){return r instanceof cn&&s.op===r.op&&s.field.isEqual(r.field)&&li(s.value,r.value)}(t,e):t instanceof ci?function(s,r){return r instanceof ci&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,l,c)=>i&&oP(l,r.filters[c]),!0):!1}(t,e):void Ce(19439)}function lP(t){return t instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${mu(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(lP).join(" ,")+"}"}(t):"Filter"}class bB extends cn{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class wB extends cn{constructor(e,n){super(e,"in",n),this.keys=cP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SB extends cn{constructor(e,n){super(e,"not-in",n),this.keys=cP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cP(t,e){return(e.arrayValue?.values||[]).map(n=>Te.fromName(n.referenceValue))}class EB extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mw(n)&&Fh(n.arrayValue,this.value)}}class TB extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fh(this.value.arrayValue,n)}}class NB extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fh(this.value.arrayValue,n)}}class AB extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Fh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n=null,s=[],r=[],i=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=l,this.endAt=c,this.Te=null}}function RT(t,e=null,n=[],s=[],r=null,i=null,l=null){return new jB(t,e,n,s,r,i,l)}function pw(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>F_(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),dv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>mu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>mu(s)).join(",")),e.Te=n}return e.Te}function gw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_B(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CT(t.startAt,e.startAt)&&CT(t.endAt,e.endAt)}function H_(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n=null,s=[],r=[],i=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CB(t,e,n,s,r,i,l,c){return new fv(t,e,n,s,r,i,l,c)}function vw(t){return new fv(t)}function PT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RB(t){return t.collectionGroup!==null}function rh(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new un(An.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new dg(i,s))}),n.has(An.keyField().canonicalString())||e.Ie.push(new dg(An.keyField(),s))}return e.Ie}function si(t){const e=De(t);return e.Ee||(e.Ee=PB(e,rh(t))),e.Ee}function PB(t,e){if(t.limitType==="F")return RT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new dg(r.field,i)});const n=t.endAt?new ug(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ug(t.startAt.position,t.startAt.inclusive):null;return RT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function $_(t,e,n){return new fv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mv(t,e){return gw(si(t),si(e))&&t.limitType===e.limitType}function uP(t){return`${pw(si(t))}|lt:${t.limitType}`}function mc(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>lP(r)).join(", ")}]`),dv(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>mu(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>mu(r)).join(",")),`Target(${s})`}(si(t))}; limitType=${t.limitType})`}function pv(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):Te.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of rh(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(l,c,d){const h=jT(l,c,d);return l.inclusive?h<=0:h<0}(s.startAt,rh(s),r)||s.endAt&&!function(l,c,d){const h=jT(l,c,d);return l.inclusive?h>=0:h>0}(s.endAt,rh(s),r))}(t,e)}function IB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dP(t){return(e,n)=>{let s=!1;for(const r of rh(t)){const i=kB(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function kB(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):function(i,l,c){const d=l.data.field(i),h=c.data.field(i);return d!==null&&h!==null?fu(d,h):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return ZR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new It(Te.comparator);function la(){return MB}const hP=new It(Te.comparator);function Md(...t){let e=hP;for(const n of t)e=e.insert(n.key,n);return e}function fP(t){let e=hP;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zo(){return ih()}function mP(){return ih()}function ih(){return new Tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const OB=new It(Te.comparator),DB=new un(Te.comparator);function Qe(...t){let e=DB;for(const n of t)e=e.add(n);return e}const LB=new un(Ye);function UB(){return LB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:og(e)?"-0":e}}function pP(t){return{integerValue:""+t}}function VB(t,e){return dB(e)?pP(e):yw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this._=void 0}}function zB(t,e,n){return t instanceof hg?function(r,i){const l={fields:{[XR]:{stringValue:QR},[eP]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&fw(i)&&(i=hv(i)),i&&(l.fields[JR]=i),{mapValue:l}}(n,e):t instanceof Hh?vP(t,e):t instanceof $h?yP(t,e):function(r,i){const l=gP(r,i),c=IT(l)+IT(r.Ae);return B_(l)&&B_(r.Ae)?pP(c):yw(r.serializer,c)}(t,e)}function BB(t,e,n){return t instanceof Hh?vP(t,e):t instanceof $h?yP(t,e):n}function gP(t,e){return t instanceof fg?function(s){return B_(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class hg extends gv{}class Hh extends gv{constructor(e){super(),this.elements=e}}function vP(t,e){const n=_P(e);for(const s of t.elements)n.some(r=>li(r,s))||n.push(s);return{arrayValue:{values:n}}}class $h extends gv{constructor(e){super(),this.elements=e}}function yP(t,e){let n=_P(e);for(const s of t.elements)n=n.filter(r=>!li(r,s));return{arrayValue:{values:n}}}class fg extends gv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IT(t){return qt(t.integerValue||t.doubleValue)}function _P(t){return mw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function FB(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Hh&&r instanceof Hh||s instanceof $h&&r instanceof $h?hu(s.elements,r.elements,li):s instanceof fg&&r instanceof fg?li(s.Ae,r.Ae):s instanceof hg&&r instanceof hg}(t.transform,e.transform)}class HB{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vv{}function xP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wP(t.key,Qi.none()):new Nf(t.key,t.data,Qi.none());{const n=t.data,s=tr.empty();let r=new un(An.comparator);for(let i of e.fields)if(!r.has(i)){let l=n.field(i);l===null&&i.length>1&&(i=i.popLast(),l=n.field(i)),l===null?s.delete(i):s.set(i,l),r=r.add(i)}return new Nl(t.key,s,new Nr(r.toArray()),Qi.none())}}function $B(t,e,n){t instanceof Nf?function(r,i,l){const c=r.value.clone(),d=MT(r.fieldTransforms,i,l.transformResults);c.setAll(d),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Nl?function(r,i,l){if(!cp(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=MT(r.fieldTransforms,i,l.transformResults),d=i.data;d.setAll(bP(r)),d.setAll(c),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(r,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function ah(t,e,n,s){return t instanceof Nf?function(i,l,c,d){if(!cp(i.precondition,l))return c;const h=i.value.clone(),m=OT(i.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof Nl?function(i,l,c,d){if(!cp(i.precondition,l))return c;const h=OT(i.fieldTransforms,d,l),m=l.data;return m.setAll(bP(i)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,s):function(i,l,c){return cp(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function qB(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=gP(s.transform,r||null);i!=null&&(n===null&&(n=tr.empty()),n.set(s.field,i))}return n||null}function kT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&hu(s,r,(i,l)=>FB(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nf extends vv{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nl extends vv{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function MT(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],l=i.transform,c=e.data.field(i.field);s.set(i.field,BB(l,c,n[r]))}return s}function OT(t,e,n){const s=new Map;for(const r of t){const i=r.transform,l=n.data.field(r.field);s.set(r.field,zB(i,l,e))}return s}class wP extends vv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GB extends vv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&$B(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ah(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ah(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mP();return this.mutations.forEach(r=>{const i=e.get(r.key),l=i.overlayedDocument;let c=this.applyToLocalView(l,i.mutatedFields);c=n.has(r.key)?null:c;const d=xP(l,c);d!==null&&s.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,s)=>kT(n,s))&&hu(this.baseMutations,e.baseMutations,(n,s)=>kT(n,s))}}class _w{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return OB}();const i=e.mutations;for(let l=0;l<i.length;l++)r=r.insert(i[l].key,s[l].version);return new _w(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Je;function YB(t){switch(t){case ie.OK:return Ce(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function SP(t){if(t===void 0)return oa("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Qt.OK:return ie.OK;case Qt.CANCELLED:return ie.CANCELLED;case Qt.UNKNOWN:return ie.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ie.INTERNAL;case Qt.UNAVAILABLE:return ie.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ie.NOT_FOUND;case Qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Qt.ABORTED:return ie.ABORTED;case Qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Qt.DATA_LOSS:return ie.DATA_LOSS;default:return Ce(39323,{code:t})}}(Je=Qt||(Qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=new Ja([4294967295,4294967295],0);function DT(t){const e=QB().encode(t),n=new VR;return n.update(e),new Uint8Array(n.digest())}function LT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ja([n,s],0),new Ja([r,i],0)]}class xw{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(s<0)throw new Od(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ja.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Ja.fromNumber(s)));return r.compare(XB)===1&&(r=new Ja([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DT(e),[s,r]=LT(n);for(let i=0;i<this.hashCount;i++){const l=this.ye(s,r,i);if(!this.we(l))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new xw(i,r,n);return s.forEach(c=>l.insert(c)),l}insert(e){if(this.ge===0)return;const n=DT(e),[s,r]=LT(n);for(let i=0;i<this.hashCount;i++){const l=this.ye(s,r,i);this.Se(l)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new yv(ke.min(),r,new It(Ye),la(),Qe())}}class Af{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Af(s,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class EP{constructor(e,n){this.targetId=e,this.Ce=n}}class TP{constructor(e,n,s=Rn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class UT{constructor(){this.ve=0,this.Fe=VT(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),s=Qe();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Ce(38017,{changeType:i})}}),new Af(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=VT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JB{constructor(e){this.Ge=e,this.ze=new Map,this.je=la(),this.Je=Pm(),this.He=Pm(),this.Ye=new It(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(H_(i))if(s===0){const l=new Te(i.path);this.et(n,l,Dn.newNoDocument(l,ke.min()))}else ut(s===1,20013,{expectedCount:s});else{const l=this._t(n);if(l!==s){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let l,c;try{l=uo(s).toUint8Array()}catch(d){if(d instanceof YR)return du("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new xw(l,r,i)}catch(d){return du(d instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,l)=>{const c=this.ot(l);if(c){if(i.current&&H_(c.target)){const d=new Te(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Dn.newNoDocument(d,e))}i.Be&&(n.set(l,i.ke()),i.qe())}});let s=Qe();this.He.forEach((i,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(i))}),this.je.forEach((i,l)=>l.setReadTime(e));const r=new yv(e,n,this.Ye,this.je,s);return this.je=la(),this.Je=Pm(),this.He=Pm(),this.Ye=new It(Ye),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pm(){return new It(Te.comparator)}function VT(){return new It(Te.comparator)}const eF={asc:"ASCENDING",desc:"DESCENDING"},tF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nF={and:"AND",or:"OR"};class sF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q_(t,e){return t.useProto3Json||dv(e)?e:{value:e}}function mg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rF(t,e){return mg(t,e.toTimestamp())}function ri(t){return ut(!!t,49232),ke.fromTimestamp(function(n){const s=co(n);return new St(s.seconds,s.nanos)}(t))}function bw(t,e){return G_(t,e).canonicalString()}function G_(t,e){const n=function(r){return new Pt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AP(t){const e=Pt.fromString(t);return ut(IP(e),10190,{key:e.toString()}),e}function W_(t,e){return bw(t.databaseId,e.path)}function Jy(t,e){const n=AP(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(CP(n))}function jP(t,e){return bw(t.databaseId,e)}function iF(t){const e=AP(t);return e.length===4?Pt.emptyPath():CP(e)}function K_(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CP(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zT(t,e,n){return{name:W_(t,e),fields:n.value.mapValue.fields}}function aF(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ce(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(h,m){return h.useProto3Json?(ut(m===void 0||typeof m=="string",58123),Rn.fromBase64String(m||"")):(ut(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Rn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const m=h.code===void 0?ie.UNKNOWN:SP(h.code);return new Se(m,h.message||"")}(l);n=new TP(s,r,i,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Jy(t,s.document.name),i=ri(s.document.updateTime),l=s.document.createTime?ri(s.document.createTime):ke.min(),c=new tr({mapValue:{fields:s.document.fields}}),d=Dn.newFoundDocument(r,i,l,c),h=s.targetIds||[],m=s.removedTargetIds||[];n=new up(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Jy(t,s.document),i=s.readTime?ri(s.readTime):ke.min(),l=Dn.newNoDocument(r,i),c=s.removedTargetIds||[];n=new up([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Jy(t,s.document),i=s.removedTargetIds||[];n=new up([],i,r,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,l=new ZB(r,i),c=s.targetId;n=new EP(c,l)}}return n}function oF(t,e){let n;if(e instanceof Nf)n={update:zT(t,e.key,e.value)};else if(e instanceof wP)n={delete:W_(t,e.key)};else if(e instanceof Nl)n={update:zT(t,e.key,e.data),updateMask:gF(e.fieldMask)};else{if(!(e instanceof GB))return Ce(16599,{Vt:e.type});n={verify:W_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,l){const c=l.transform;if(c instanceof hg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $h)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ce(20930,{transform:l.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:rF(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce(27497)}(t,e.precondition)),n}function lF(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(r,i){let l=r.updateTime?ri(r.updateTime):ri(i);return l.isEqual(ke.min())&&(l=ri(i)),new HB(l,r.transformResults||[])}(n,e))):[]}function cF(t,e){return{documents:[jP(t,e.path)]}}function uF(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jP(t,r);const i=function(h){if(h.length!==0)return PP(ci.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const l=function(h){if(h.length!==0)return h.map(m=>function(v){return{field:pc(v.field),direction:fF(v.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=q_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:r}}function dF(t){let e=iF(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ut(s===1,65062);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=function(g){const v=RP(g);return v instanceof ci&&aP(v)?v.getFilters():[v]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(v=>function(A){return new dg(gc(A.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,dv(v)?null:v}(n.limit));let d=null;n.startAt&&(d=function(g){const v=!!g.before,y=g.values||[];return new ug(y,v)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const v=!g.before,y=g.values||[];return new ug(y,v)}(n.endAt)),CB(e,r,l,i,c,"F",d,h)}function hF(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=gc(n.unaryFilter.field);return cn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=gc(n.unaryFilter.field);return cn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gc(n.unaryFilter.field);return cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=gc(n.unaryFilter.field);return cn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return cn.create(gc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(s=>RP(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function fF(t){return eF[t]}function mF(t){return tF[t]}function pF(t){return nF[t]}function pc(t){return{fieldPath:t.canonicalString()}}function gc(t){return An.fromServerFormat(t.fieldPath)}function PP(t){return t instanceof cn?function(n){if(n.op==="=="){if(AT(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(NT(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AT(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(NT(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:mF(n.op),value:n.value}}}(t):t instanceof ci?function(n){const s=n.getFilters().map(r=>PP(r));return s.length===1?s[0]:{compositeFilter:{op:pF(n.op),filters:s}}}(t):Ce(54877,{filter:t})}function gF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,s,r,i=ke.min(),l=ke.min(),c=Rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.yt=e}}function yF(t){const e=dF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.Cn=new xF}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(lo.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class xF{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new un(Pt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new un(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kP=41943040;class os{static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(kP,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pu(0)}static cr(){return new pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="LruGarbageCollector",bF=1048576;function HT([t,e],[n,s]){const r=Ye(t,n);return r===0?Ye(e,s):r}class wF{constructor(e){this.Ir=e,this.buffer=new un(HT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();HT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SF{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(FT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uu(n)?ye(FT,"Ignoring IndexedDB error during garbage collection: ",n):await Lu(n)}await this.Vr(3e5)})}}class EF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(uv.ce);const s=new wF(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(BT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,l=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(s=g,c=Date.now(),this.removeTargets(e,s,n))).next(g=>(i=g,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(g=>(h=Date.now(),fc()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${r} in `+(c-l)+`ms
	Removed ${i} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:g})))}}function TF(t,e){return new EF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.changes=new Tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&ah(s.mutation,r,Nr.empty(),St.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Qe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Qe()){const r=Zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let l=Md();return i.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const s=Zo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Qe()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,s,r){let i=la();const l=ih(),c=function(){return ih()}();return n.forEach((d,h)=>{const m=s.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof Nl)?i=i.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),ah(m.mutation,h,m.mutation.getFieldMask(),St.now())):l.set(h.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,m)=>l.set(h,m)),n.forEach((h,m)=>c.set(h,new AF(m,l.get(h)??null))),c))}recalculateAndSaveOverlays(e,n){const s=ih();let r=new It((l,c)=>l-c),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let m=s.get(d)||Nr.empty();m=c.applyToLocalView(h,m),s.set(d,m);const g=(r.get(c.batchId)||Qe()).add(d);r=r.insert(c.batchId,g)})}).next(()=>{const l=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,g=mP();m.forEach(v=>{if(!i.has(v)){const y=xP(n.get(v),s.get(v));y!==null&&g.set(v,y),i=i.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return te.waitFor(l)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const l=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):te.resolve(Zo());let c=Vh,d=i;return l.next(h=>te.forEach(h,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{d=d.insert(m,v)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,Qe())).next(m=>({batchId:c,changes:fP(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let r=Md();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let l=Md();return this.indexManager.getCollectionParents(e,i).next(c=>te.forEach(c,d=>{const h=function(g,v){return new fv(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next(m=>{m.forEach((g,v)=>{l=l.insert(g,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(l=>{i.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,Dn.newInvalidDocument(m)))});let c=Md();return l.forEach((d,h)=>{const m=i.get(d);m!==void 0&&ah(m.mutation,h,Nr.empty(),St.now()),pv(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ri(r.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:yF(r.bundledQuery),readTime:ri(r.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.overlays=new It(Te.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zo();return te.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const r=Zo(),i=n.length+1,l=new Te(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>s&&r.set(d.getKey(),d)}return te.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new It((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let m=i.get(h.largestBatchId);m===null&&(m=Zo(),i=i.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Zo(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=r)););return te.resolve(c)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(s.key,new KB(n,s));let i=this.qr.get(n);i===void 0&&(i=Qe(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.Qr=new un(fn.$r),this.Ur=new un(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new fn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new fn(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Te(new Pt([])),s=new fn(n,e),r=new fn(n,e+1),i=[];return this.Ur.forEachInRange([s,r],l=>{this.Gr(l),i.push(l.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new Pt([])),s=new fn(n,e),r=new fn(n,e+1);let i=Qe();return this.Ur.forEachInRange([s,r],l=>{i=i.add(l.key)}),i}containsKey(e){const n=new fn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(fn.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new WB(i,n,s,r);this.mutationQueue.push(l);for(const c of r)this.Zr=this.Zr.add(new fn(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return te.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?hw:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new fn(n,0),r=new fn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],l=>{const c=this.Xr(l.Yr);i.push(c)}),te.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new un(Ye);return n.forEach(r=>{const i=new fn(r,0),l=new fn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],c=>{s=s.add(c.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Te.isDocumentKey(i)||(i=i.child(""));const l=new fn(new Te(i),0);let c=new un(Ye);return this.Zr.forEachWhile(d=>{const h=d.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(c=c.add(d.Yr)),!0)},l),te.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,r=>{const i=new fn(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new fn(n,0),r=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.ri=e,this.docs=function(){return new It(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,l=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let s=la();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Dn.newInvalidDocument(r))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=la();const l=n.path,c=new Te(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||oB(aB(m),s)<=0||(r.has(m.key)||pv(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return te.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Ce(9500)}ii(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new MF(this)}getSize(e){return te.resolve(this.size)}}class MF extends NF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.persistence=e,this.si=new Tl(n=>pw(n),gw),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new ww,this.targetCount=0,this.ai=pu.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),te.waitFor(i).next(()=>r)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(l=>{i.push(r.markPotentiallyOrphaned(e,l))}),te.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.ui={},this.overlays={},this.ci=new uv(0),this.li=!1,this.li=!0,this.hi=new PF,this.referenceDelegate=e(this),this.Pi=new OF(this),this.indexManager=new _F,this.remoteDocumentCache=function(r){return new kF(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new vF(n),this.Ii=new CF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new IF(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const r=new DF(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class DF extends cB{constructor(e){super(),this.currentSequenceNumber=e}}class Sw{constructor(e){this.persistence=e,this.Ri=new ww,this.Vi=null}static mi(e){return new Sw(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const r=Te.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,ke.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pg{constructor(e,n){this.persistence=e,this.pi=new Tl(s=>hB(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=TF(this,n)}static mi(e,n){return new pg(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?te.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,l=>this.br(e,l,n).next(c=>{c||(s++,i.removeEntry(l,ke.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=op(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return te.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Qe(),r=Qe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ew(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lV()?8:uB(zn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new LF;return this.Ss(e,n,l).next(c=>{if(i.result=c,this.Vs)return this.bs(e,n,l,c.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(fc()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",mc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(fc()<=Ze.DEBUG&&ye("QueryEngine","Query:",mc(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(fc()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",mc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):te.resolve())}ys(e,n){if(PT(n))return te.resolve(null);let s=si(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=$_(n,null,"F"),s=si(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const l=Qe(...i);return this.ps.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,s).next(d=>{const h=this.Ds(n,c);return this.Cs(n,h,l,d.readTime)?this.ys(e,$_(n,null,"F")):this.vs(e,h,n,d)}))})))}ws(e,n,s,r){return PT(n)||r.isEqual(ke.min())?te.resolve(null):this.ps.getDocuments(e,s).next(i=>{const l=this.Ds(n,i);return this.Cs(n,l,s,r)?te.resolve(null):(fc()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mc(n)),this.vs(e,l,n,iB(r,Vh)).next(c=>c))})}Ds(e,n){let s=new un(dP(e));return n.forEach((r,i)=>{pv(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return fc()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",mc(n)),this.ps.getDocumentsMatchingQuery(e,n,lo.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="LocalStore",VF=3e8;class zF{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new It(Ye),this.xs=new Tl(i=>pw(i),gw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function BF(t,e,n,s){return new zF(t,e,n,s)}async function OP(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const l=[],c=[];let d=Qe();for(const h of r){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of i){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(s,d).next(h=>({Ls:h,removedBatchIds:l,addedBatchIds:c}))})})}function FF(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,h,m){const g=h.batch,v=g.keys();let y=te.resolve();return v.forEach(A=>{y=y.next(()=>m.getEntry(d,A)).next(w=>{const j=h.docVersions.get(A);ut(j!==null,48541),w.version.compareTo(j)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),m.addEntry(w)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let d=Qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function DP(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function HF(t,e){const n=De(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const c=[];e.targetChanges.forEach((m,g)=>{const v=r.get(g);if(!v)return;c.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g)));let y=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Rn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,s)),r=r.insert(g,y),function(w,j,S){return w.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=VF?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(v,y,m)&&c.push(n.Pi.updateTargetData(i,y))});let d=la(),h=Qe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))}),c.push($F(i,l,e.documentUpdates).next(m=>{d=m.ks,h=m.qs})),!s.isEqual(ke.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next(g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));c.push(m)}return te.waitFor(c).next(()=>l.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(n.Ms=r,i))}function $F(t,e,n){let s=Qe(),r=Qe();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let l=la();return n.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ye(Tw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{ks:l,qs:r}})}function qF(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=hw),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function GF(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,te.resolve(r)):n.Pi.allocateTargetId(s).next(l=>(r=new Fa(e,l,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Z_(t,e,n){const s=De(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,l=>s.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Uu(l))throw l;ye(Tw,`Failed to update sequence numbers for target ${e}: ${l}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function $T(t,e,n){const s=De(t);let r=ke.min(),i=Qe();return s.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=De(d),v=g.xs.get(m);return v!==void 0?te.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,m)}(s,l,si(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{i=d})}).next(()=>s.Fs.getDocumentsMatchingQuery(l,e,n?r:ke.min(),n?i:Qe())).next(c=>(WF(s,IB(e),c),{documents:c,Qs:i})))}function WF(t,e,n){let s=t.Os.get(e)||ke.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class qT{constructor(){this.activeTargetIds=UB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KF{constructor(){this.Mo=new qT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="ConnectivityMonitor";class WT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(GT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(GT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=null;function Y_(){return Im===null?Im=function(){return 268435456+Math.round(2147483648*Math.random())}():Im++,"0x"+Im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="RestConnection",YF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===lg?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const l=Y_(),c=this.zo(e,n.toUriEncodedString());ye(e0,`Sending RPC '${e}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,i);const{host:h}=new URL(c),m=yo(h);return this.Jo(e,c,d,s,m).then(g=>(ye(e0,`Received RPC '${e}' ${l}: `,g),g),g=>{throw du(e0,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",s),g})}Ho(e,n,s,r,i,l){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=YF[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class JF extends QF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const l=Y_();return new Promise((c,d)=>{const h=new zR;h.setWithCredentials(!0),h.listenOnce(BR.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ap.NO_ERROR:const g=h.getResponseJson();ye(Mn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case ap.TIMEOUT:ye(Mn,`RPC '${e}' ${l} timed out`),d(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const v=h.getStatus();if(ye(Mn,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const A=y?.error;if(A&&A.status&&A.message){const w=function(S){const T=S.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(T)>=0?T:ie.UNKNOWN}(A.status);d(new Se(w,A.message))}else d(new Se(ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ye(Mn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(r);ye(Mn,`RPC '${e}' ${l} sending request:`,r),h.send(n,"POST",m,s,15)})}T_(e,n,s){const r=Y_(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$R(),c=HR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const m=i.join("");ye(Mn,`Creating RPC '${e}' stream ${r}: ${m}`,d);const g=l.createWebChannel(m,d);this.I_(g);let v=!1,y=!1;const A=new XF({Yo:j=>{y?ye(Mn,`Not sending because RPC '${e}' stream ${r} is closed:`,j):(v||(ye(Mn,`Opening RPC '${e}' stream ${r} transport.`),g.open(),v=!0),ye(Mn,`RPC '${e}' stream ${r} sending:`,j),g.send(j))},Zo:()=>g.close()}),w=(j,S,T)=>{j.listen(S,N=>{try{T(N)}catch(D){setTimeout(()=>{throw D},0)}})};return w(g,kd.EventType.OPEN,()=>{y||(ye(Mn,`RPC '${e}' stream ${r} transport opened.`),A.o_())}),w(g,kd.EventType.CLOSE,()=>{y||(y=!0,ye(Mn,`RPC '${e}' stream ${r} transport closed`),A.a_(),this.E_(g))}),w(g,kd.EventType.ERROR,j=>{y||(y=!0,du(Mn,`RPC '${e}' stream ${r} transport errored. Name:`,j.name,"Message:",j.message),A.a_(new Se(ie.UNAVAILABLE,"The operation could not be completed")))}),w(g,kd.EventType.MESSAGE,j=>{if(!y){const S=j.data[0];ut(!!S,16349);const T=S,N=T?.error||T[0]?.error;if(N){ye(Mn,`RPC '${e}' stream ${r} received error:`,N);const D=N.status;let F=function(P){const U=Qt[P];if(U!==void 0)return SP(U)}(D),$=N.message;F===void 0&&(F=ie.INTERNAL,$="Unknown error status: "+D+" with message "+N.message),y=!0,A.a_(new Se(F,$)),g.close()}else ye(Mn,`RPC '${e}' stream ${r} received:`,S),A.u_(S)}}),w(c,FR.STAT_EVENT,j=>{j.stat===U_.PROXY?ye(Mn,`RPC '${e}' stream ${r} detected buffering proxy`):j.stat===U_.NOPROXY&&ye(Mn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function t0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return new sF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&ye("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class UP{constructor(e,n,s,r,i,l,c,d){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new Se(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eH extends UP{constructor(e,n,s,r,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,l),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aF(this.serializer,e),s=function(i){if(!("targetChange"in i))return ke.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?ri(l.readTime):ke.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=K_(this.serializer),n.addTarget=function(i,l){let c;const d=l.target;if(c=H_(d)?{documents:cF(i,d)}:{query:uF(i,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=NP(i,l.resumeToken);const h=q_(i,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=mg(i,l.snapshotVersion.toTimestamp());const h=q_(i,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const s=hF(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=K_(this.serializer),n.removeTarget=e,this.q_(n)}}class tH extends UP{constructor(e,n,s,r,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lF(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=K_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>oF(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{}class sH extends nH{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Go(e,G_(n,s),r,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(ie.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(e,G_(n,s),r,l,c,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ie.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oa(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="RemoteStore";class iH{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(l=>{s.enqueueAndForget(async()=>{Al(this)&&(ye(gl,"Restarting streams for network reachability change."),await async function(d){const h=De(d);h.Ea.add(4),await jf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await xv(h)}(this))})}),this.Ra=new rH(s,r)}}async function xv(t){if(Al(t))for(const e of t.da)await e(!0)}async function jf(t){for(const e of t.da)await e(!1)}function VP(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cw(n)?jw(n):Vu(n).O_()&&Aw(n,e))}function Nw(t,e){const n=De(t),s=Vu(n);n.Ia.delete(e),s.O_()&&zP(n,e),n.Ia.size===0&&(s.O_()?s.L_():Al(n)&&n.Ra.set("Unknown"))}function Aw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vu(t).Y_(e)}function zP(t,e){t.Va.Ue(e),Vu(t).Z_(e)}function jw(t){t.Va=new JB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vu(t).start(),t.Ra.ua()}function Cw(t){return Al(t)&&!Vu(t).x_()&&t.Ia.size>0}function Al(t){return De(t).Ea.size===0}function BP(t){t.Va=void 0}async function aH(t){t.Ra.set("Online")}async function oH(t){t.Ia.forEach((e,n)=>{Aw(t,e)})}async function lH(t,e){BP(t),Cw(t)?(t.Ra.ha(e),jw(t)):t.Ra.set("Unknown")}async function cH(t,e,n){if(t.Ra.set("Online"),e instanceof TP&&e.state===2&&e.cause)try{await async function(r,i){const l=i.cause;for(const c of i.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,l),r.Ia.delete(c),r.Va.removeTarget(c))}(t,e)}catch(s){ye(gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gg(t,s)}else if(e instanceof up?t.Va.Ze(e):e instanceof EP?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const s=await DP(t.localStore);n.compareTo(s)>=0&&await function(i,l){const c=i.Va.Tt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=i.Ia.get(h);m&&i.Ia.set(h,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const m=i.Ia.get(d);if(!m)return;i.Ia.set(d,m.withResumeToken(Rn.EMPTY_BYTE_STRING,m.snapshotVersion)),zP(i,d);const g=new Fa(m.target,d,h,m.sequenceNumber);Aw(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){ye(gl,"Failed to raise snapshot:",s),await gg(t,s)}}async function gg(t,e,n){if(!Uu(e))throw e;t.Ea.add(1),await jf(t),t.Ra.set("Offline"),n||(n=()=>DP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(gl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xv(t)})}function FP(t,e){return e().catch(n=>gg(t,n,e))}async function bv(t){const e=De(t),n=fo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hw;for(;uH(e);)try{const r=await qF(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,dH(e,r)}catch(r){await gg(e,r)}HP(e)&&$P(e)}function uH(t){return Al(t)&&t.Ta.length<10}function dH(t,e){t.Ta.push(e);const n=fo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HP(t){return Al(t)&&!fo(t).x_()&&t.Ta.length>0}function $P(t){fo(t).start()}async function hH(t){fo(t).ra()}async function fH(t){const e=fo(t);for(const n of t.Ta)e.ea(n.mutations)}async function mH(t,e,n){const s=t.Ta.shift(),r=_w.from(s,e,n);await FP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await bv(t)}async function pH(t,e){e&&fo(t).X_&&await async function(s,r){if(function(l){return YB(l)&&l!==ie.ABORTED}(r.code)){const i=s.Ta.shift();fo(s).B_(),await FP(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await bv(s)}}(t,e),HP(t)&&$P(t)}async function ZT(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ye(gl,"RemoteStore received new credentials");const s=Al(n);n.Ea.add(3),await jf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xv(n)}async function gH(t,e){const n=De(t);e?(n.Ea.delete(2),await xv(n)):e||(n.Ea.add(2),await jf(n),n.Ra.set("Unknown"))}function Vu(t){return t.ma||(t.ma=function(n,s,r){const i=De(n);return i.sa(),new eH(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:aH.bind(null,t),t_:oH.bind(null,t),r_:lH.bind(null,t),H_:cH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Cw(t)?jw(t):t.Ra.set("Unknown")):(await t.ma.stop(),BP(t))})),t.ma}function fo(t){return t.fa||(t.fa=function(n,s,r){const i=De(n);return i.sa(),new tH(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hH.bind(null,t),r_:pH.bind(null,t),ta:fH.bind(null,t),na:mH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await bv(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(gl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const l=Date.now()+s,c=new Rw(e,n,l,r,i);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(t,e){if(oa("AsyncQueue",`${e}: ${t}`),Uu(t))return new Se(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{static emptySet(e){return new qc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Md(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.ga=new It(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class gu{constructor(e,n,s,r,i,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new gu(e,n,qc.emptySet(n),l,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class yH{constructor(){this.queries=QT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=De(n),i=r.queries;r.queries=QT(),i.forEach((l,c)=>{for(const d of c.Sa)d.onError(s)})})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function QT(){return new Tl(t=>uP(t),mv)}async function _H(t,e){const n=De(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new vH,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const c=Pw(l,`Initialization of query '${mc(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Iw(n)}async function xH(t,e){const n=De(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bH(t,e){const n=De(t);let s=!1;for(const r of e){const i=r.query,l=n.queries.get(i);if(l){for(const c of l.Sa)c.Fa(r)&&(s=!0);l.wa=r}}s&&Iw(n)}function wH(t,e,n){const s=De(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Iw(t){t.Ca.forEach(e=>{e.next()})}var Q_,XT;(XT=Q_||(Q_={})).Ma="default",XT.Cache="cache";class SH{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new gu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Q_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.key=e}}class GP{constructor(e){this.key=e}}class EH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=dP(e),this.tu=new qc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new YT,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,l=r,c=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,g)=>{const v=r.get(m),y=pv(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let j=!1;v&&y?v.data.isEqual(y.data)?A!==w&&(s.track({type:3,doc:y}),j=!0):this.su(v,y)||(s.track({type:2,doc:y}),j=!0,(d&&this.eu(y,d)>0||h&&this.eu(y,h)<0)&&(c=!0)):!v&&y?(s.track({type:0,doc:y}),j=!0):v&&!y&&(s.track({type:1,doc:v}),j=!0,(d||h)&&(c=!0)),j&&(y?(l=l.add(y),i=w?i.add(m):i.delete(m)):(l=l.delete(m),i=i.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),i=i.delete(m.key),s.track({type:1,doc:m})}return{tu:l,iu:s,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,g)=>function(y,A){const w=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:j})}};return w(y)-w(A)}(m.type,g.type)||this.eu(m.doc,g.doc)),this.ou(s),r=r??!1;const c=n&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new gu(this.query,e.tu,i,l,e.mutatedKeys,d===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new GP(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new qP(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kw="SyncEngine";class TH{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NH{constructor(e){this.key=e,this.hu=!1}}class AH{constructor(e,n,s,r,i,l){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Tl(c=>uP(c),mv),this.Iu=new Map,this.Eu=new Set,this.du=new It(Te.comparator),this.Au=new Map,this.Ru=new ww,this.Vu={},this.mu=new Map,this.fu=pu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jH(t,e,n=!0){const s=XP(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await WP(s,e,n,!0),r}async function CH(t,e){const n=XP(t);await WP(n,e,!0,!1)}async function WP(t,e,n,s){const r=await GF(t.localStore,si(e)),i=r.targetId,l=t.sharedClientState.addLocalQueryTarget(i,n);let c;return s&&(c=await RH(t,e,i,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&VP(t.remoteStore,r),c}async function RH(t,e,n,s,r){t.pu=(g,v,y)=>async function(w,j,S,T){let N=j.view.ru(S);N.Cs&&(N=await $T(w.localStore,j.query,!1).then(({documents:R})=>j.view.ru(R,N)));const D=T&&T.targetChanges.get(j.targetId),F=T&&T.targetMismatches.get(j.targetId)!=null,$=j.view.applyChanges(N,w.isPrimaryClient,D,F);return eN(w,j.targetId,$.au),$.snapshot}(t,g,v,y);const i=await $T(t.localStore,e,!0),l=new EH(e,i.Qs),c=l.ru(i.documents),d=Af.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=l.applyChanges(c,t.isPrimaryClient,d);eN(t,n,h.au);const m=new TH(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function PH(t,e,n){const s=De(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(l=>!mv(l,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Z_(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Nw(s.remoteStore,r.targetId),X_(s,r.targetId)}).catch(Lu)):(X_(s,r.targetId),await Z_(s.localStore,r.targetId,!0))}async function IH(t,e){const n=De(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Nw(n.remoteStore,s.targetId))}async function kH(t,e,n){const s=zH(t);try{const r=await function(l,c){const d=De(l),h=St.now(),m=c.reduce((y,A)=>y.add(A.key),Qe());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=la(),w=Qe();return d.Ns.getEntries(y,m).next(j=>{A=j,A.forEach((S,T)=>{T.isValidDocument()||(w=w.add(S))})}).next(()=>d.localDocuments.getOverlayedDocuments(y,A)).next(j=>{g=j;const S=[];for(const T of c){const N=qB(T,g.get(T.key).overlayedDocument);N!=null&&S.push(new Nl(T.key,N,sP(N.value.mapValue),Qi.exists(!0)))}return d.mutationQueue.addMutationBatch(y,h,S,c)}).next(j=>{v=j;const S=j.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(y,j.batchId,S)})}).then(()=>({batchId:v.batchId,changes:fP(g)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new It(Ye)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h}(s,r.batchId,n),await Cf(s,r.changes),await bv(s.remoteStore)}catch(r){const i=Pw(r,"Failed to persist write");n.reject(i)}}async function KP(t,e){const n=De(t);try{const s=await HF(n.localStore,e);e.targetChanges.forEach((r,i)=>{const l=n.Au.get(i);l&&(ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?ut(l.hu,14607):r.removedDocuments.size>0&&(ut(l.hu,42227),l.hu=!1))}),await Cf(n,s,e)}catch(s){await Lu(s)}}function JT(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,l)=>{const c=l.view.va(e);c.snapshot&&r.push(c.snapshot)}),function(l,c){const d=De(l);d.onlineState=c;let h=!1;d.queries.forEach((m,g)=>{for(const v of g.Sa)v.va(c)&&(h=!0)}),h&&Iw(d)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MH(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let l=new It(Te.comparator);l=l.insert(i,Dn.newNoDocument(i,ke.min()));const c=Qe().add(i),d=new yv(ke.min(),new Map,new It(Ye),l,c);await KP(s,d),s.du=s.du.remove(i),s.Au.delete(e),Mw(s)}else await Z_(s.localStore,e,!1).then(()=>X_(s,e,n)).catch(Lu)}async function OH(t,e){const n=De(t),s=e.batch.batchId;try{const r=await FF(n.localStore,e);YP(n,s,null),ZP(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cf(n,r)}catch(r){await Lu(r)}}async function DH(t,e,n){const s=De(t);try{const r=await function(l,c){const d=De(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next(g=>(ut(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(s.localStore,e);YP(s,e,n),ZP(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cf(s,r)}catch(r){await Lu(r)}}function ZP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function YP(t,e,n){const s=De(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function X_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||QP(t,s)})}function QP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Nw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Mw(t))}function eN(t,e,n){for(const s of n)s instanceof qP?(t.Ru.addReference(s.key,e),LH(t,s)):s instanceof GP?(ye(kw,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||QP(t,s.key)):Ce(19791,{wu:s})}function LH(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(kw,"New document in limbo: "+n),t.Eu.add(s),Mw(t))}function Mw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(Pt.fromString(e)),s=t.fu.next();t.Au.set(s,new NH(n)),t.du=t.du.insert(n,s),VP(t.remoteStore,new Fa(si(vw(n.path)),s,"TargetPurposeLimboResolution",uv.ce))}}async function Cf(t,e,n){const s=De(t),r=[],i=[],l=[];s.Tu.isEmpty()||(s.Tu.forEach((c,d)=>{l.push(s.pu(d,e,n).then(h=>{if((h||n)&&s.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){r.push(h);const m=Ew.As(d.targetId,h);i.push(m)}}))}),await Promise.all(l),s.Pu.H_(r),await async function(d,h){const m=De(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>te.forEach(h,v=>te.forEach(v.Es,y=>m.persistence.referenceDelegate.addReference(g,v.targetId,y)).next(()=>te.forEach(v.ds,y=>m.persistence.referenceDelegate.removeReference(g,v.targetId,y)))))}catch(g){if(!Uu(g))throw g;ye(Tw,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const y=m.Ms.get(v),A=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(v,w)}}}(s.localStore,i))}async function UH(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ye(kw,"User change. New user:",e.toKey());const s=await OP(n.localStore,e);n.currentUser=e,function(i,l){i.mu.forEach(c=>{c.forEach(d=>{d.reject(new Se(ie.CANCELLED,l))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cf(n,s.Ls)}}function VH(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return Qe().add(s.key);{let r=Qe();const i=n.Iu.get(e);if(!i)return r;for(const l of i){const c=n.Tu.get(l);r=r.unionWith(c.view.nu)}return r}}function XP(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MH.bind(null,e),e.Pu.H_=bH.bind(null,e.eventManager),e.Pu.yu=wH.bind(null,e.eventManager),e}function zH(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DH.bind(null,e),e}class vg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_v(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BF(this.persistence,new UF,e.initialUser,this.serializer)}Cu(e){return new MP(Sw.mi,this.serializer)}Du(e){return new KF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vg.provider={build:()=>new vg};class BH extends vg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof pg,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SF(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new MP(s=>pg.mi(s,n),this.serializer)}}class J_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>JT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UH.bind(null,this.syncEngine),await gH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yH}()}createDatastore(e){const n=_v(e.databaseInfo.databaseId),s=function(i){return new JF(i)}(e.databaseInfo);return function(i,l,c,d){return new sH(i,l,c,d)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,l,c){return new iH(s,r,i,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>JT(this.syncEngine,n,0),function(){return WT.v()?new WT:new ZF}())}createSyncEngine(e,n){return function(r,i,l,c,d,h,m){const g=new AH(r,i,l,c,d,h);return m&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=De(n);ye(gl,"RemoteStore shutting down."),s.Ea.add(5),await jf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}J_.provider={build:()=>new J_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class HH{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=On.UNAUTHENTICATED,this.clientId=uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async l=>{ye(mo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(ye(mo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pw(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function n0(t,e){t.asyncQueue.verifyOperationInProgress(),ye(mo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await OP(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $H(t);ye(mo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>ZT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>ZT(e.remoteStore,r)),t._onlineComponents=e}async function $H(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(mo,"Using user provided OfflineComponentProvider");try{await n0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===ie.FAILED_PRECONDITION||r.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;du("Error using user provided cache. Falling back to memory cache: "+n),await n0(t,new vg)}}else ye(mo,"Using default OfflineComponentProvider"),await n0(t,new BH(void 0));return t._offlineComponents}async function JP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(mo,"Using user provided OnlineComponentProvider"),await tN(t,t._uninitializedComponentsProvider._online)):(ye(mo,"Using default OnlineComponentProvider"),await tN(t,new J_))),t._onlineComponents}function qH(t){return JP(t).then(e=>e.syncEngine)}async function GH(t){const e=await JP(t),n=e.eventManager;return n.onListen=jH.bind(null,e.syncEngine),n.onUnlisten=PH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IH.bind(null,e.syncEngine),n}function WH(t,e,n={}){const s=new eo;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const m=new FH({next:v=>{m.Nu(),l.enqueueAndForget(()=>xH(i,g));const y=v.docs.has(c);!y&&v.fromCache?h.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&d&&d.source==="server"?h.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new SH(vw(c.path),m,{includeMetadataChanges:!0,qa:!0});return _H(i,g)}(await GH(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firestore.googleapis.com",sN=!0;class rN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tI,this.ssl=sN}else this.host=e.host,this.ssl=e.ssl??sN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bF)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ow{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Wz;switch(s.type){case"firstParty":return new Qz(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=nN.get(n);s&&(ye("ComponentProvider","Removing Datastore"),nN.delete(n),s.terminate())}(this),Promise.resolve()}}function KH(t,e,n,s={}){t=Uh(t,Ow);const r=yo(e),i=t._getSettings(),l={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;r&&(Kb(`https://${c}`),Zb("Firestore",!0)),i.host!==tI&&i.host!==c&&du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...i,host:c,ssl:r,emulatorOptions:s};if(!dl(d,l)&&(t._setSettings(d),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=On.MOCK_USER;else{h=J9(s.mockUserToken,t._app?.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new On(g)}t._authCredentials=new Kz(new GR(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dw(this.firestore,e,this._query)}}class _n{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}toJSON(){return{type:_n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tf(n,_n._jsonSchema))return new _n(e,s||null,new Te(Pt.fromString(n.referencePath)))}}_n._jsonSchemaVersion="firestore/documentReference/1.0",_n._jsonSchema={type:en("string",_n._jsonSchemaVersion),referencePath:en("string")};class qh extends Dw{constructor(e,n,s){super(e,n,vw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Te(e))}withConverter(e){return new qh(this.firestore,e,this._path)}}function iN(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=uw.newId()),sB("doc","path",e),t instanceof Ow){const s=Pt.fromString(e,...n);return yT(s),new _n(t,null,new Te(s))}{if(!(t instanceof _n||t instanceof qh))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pt.fromString(e,...n));return yT(s),new _n(t.firestore,t instanceof qh?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="AsyncQueue";class oN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LP(this,"async_queue_retry"),this._c=()=>{const s=t0();s&&ye(aN,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=t0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uu(e))throw e;ye(aN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,oa("INTERNAL UNHANDLED ERROR: ",lN(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Rw.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&Ce(47125,{Pc:lN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lw extends Ow{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new oN,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oN(e),this._firestoreClient=void 0,await e}}}function ZH(t,e){const n=typeof t=="object"?t:Xb(),s=typeof t=="string"?t:lg,r=av(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=XC("firestore");i&&KH(r,...i)}return r}function nI(t){if(t._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YH(t),t._firestoreClient}function YH(t){const e=t._freezeSettings(),n=function(r,i,l,c){return new pB(r,i,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,eI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new HH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nr(Rn.fromBase64String(e))}catch(n){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nr(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tf(e,nr._jsonSchema))return nr.fromBase64String(e.bytes)}}nr._jsonSchemaVersion="firestore/bytes/1.0",nr._jsonSchema={type:en("string",nr._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(Tf(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:en("string",ii._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tf(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ai(e.vectorValues);throw new Se(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:en("string",ai._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^__.*__$/;class XH{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Nl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nf(e,this.data,n,this.fieldTransforms)}}function rI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class Vw{constructor(e,n,s,r,i,l){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rI(this.Ac)&&QH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JH{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_v(e)}Cc(e,n,s,r=!1){return new Vw({Ac:e,methodName:n,Dc:s,path:An.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e$(t){const e=t._freezeSettings(),n=_v(t._databaseId);return new JH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t$(t,e,n,s,r,i={}){const l=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);lI("Data must be an object, but it was:",l,s);const c=aI(s,l);let d,h;if(i.merge)d=new Nr(l.fieldMask),h=l.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=n$(e,g,n);if(!l.contains(v))throw new Se(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);r$(m,v)||m.push(v)}d=new Nr(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new XH(new tr(c),d,h)}function iI(t,e){if(oI(t=Cn(t)))return lI("Unsupported field value:",e,t),aI(t,e);if(t instanceof sI)return function(s,r){if(!rI(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let l=0;for(const c of s){let d=iI(c,r.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),l++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=Cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VB(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=St.fromDate(s);return{timestampValue:mg(r.serializer,i)}}if(s instanceof St){const i=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mg(r.serializer,i)}}if(s instanceof ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof nr)return{bytesValue:NP(r.serializer,s._byteString)};if(s instanceof _n){const i=r.databaseId,l=s.firestore._databaseId;if(!l.isEqual(i))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bw(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof ai)return function(l,c){return{mapValue:{fields:{[tP]:{stringValue:nP},[cg]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return yw(c.serializer,h)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${dw(s)}`)}(t,e)}function aI(t,e){const n={};return ZR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(t,(s,r)=>{const i=iI(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function oI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof ii||t instanceof nr||t instanceof _n||t instanceof sI||t instanceof ai)}function lI(t,e,n){if(!oI(n)||!WR(n)){const s=dw(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function n$(t,e,n){if((e=Cn(e))instanceof Uw)return e._internalPath;if(typeof e=="string")return cI(t,e);throw yg("Field path arguments must be of type string or ",t,!1,void 0,n)}const s$=new RegExp("[~\\*/\\[\\]]");function cI(t,e,n){if(e.search(s$)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uw(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yg(t,e,n,s,r){const i=s&&!s.isEmpty(),l=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||l)&&(d+=" (found",i&&(d+=` in field ${s}`),l&&(d+=` in document ${r}`),d+=")"),new Se(ie.INVALID_ARGUMENT,c+t+d)}function r$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i$ extends uI{data(){return super.data()}}function dI(t,e){return typeof e=="string"?cI(t,e):e instanceof Uw?e._internalPath:e._delegate._internalPath}class a${convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return El(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){const n=e.fields?.[cg].arrayValue?.values?.map(s=>qt(s.doubleValue));return new ai(n)}convertGeoPoint(e){return new ii(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hv(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const n=co(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pt.fromString(e);ut(IP(s),9688,{name:e});const r=new Bh(s.get(1),s.get(3)),i=new Te(s.popFirst(5));return r.isEqual(n)||oa(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Dd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sl extends uI{constructor(e,n,s,r,i,l){super(e,n,s,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(dI("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sl._jsonSchemaVersion="firestore/documentSnapshot/1.0",sl._jsonSchema={type:en("string",sl._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class dp extends sl{data(e={}){return super.data(e)}}class oh{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Dd(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new dp(this._firestore,this._userDataWriter,s.key,s,new Dd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>{const d=new dp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Dd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new dp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Dd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:l$(c.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t){t=Uh(t,_n);const e=Uh(t.firestore,Lw);return WH(nI(e),t._key).then(n=>h$(e,t,n))}oh._jsonSchemaVersion="firestore/querySnapshot/1.0",oh._jsonSchema={type:en("string",oh._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class u$ extends a${constructor(e){super(),this.firestore=e}convertBytes(e){return new nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function s0(t,e,n){t=Uh(t,_n);const s=Uh(t.firestore,Lw),r=o$(t.converter,e,n);return d$(s,[t$(e$(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Qi.none())])}function d$(t,e){return function(s,r){const i=new eo;return s.asyncQueue.enqueueAndForget(async()=>kH(await qH(s),r,i)),i.promise}(nI(t),e)}function h$(t,e,n){const s=n.docs.get(e._key),r=new u$(t);return new sl(t,r,e._key,s,new Dd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Du=r})(Mu),hl(new oo("firestore",(s,{instanceIdentifier:r,options:i})=>{const l=s.getProvider("app").getImmediate(),c=new Lw(new Zz(s.getProvider("auth-internal")),new Xz(l,s.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(h.options.projectId,m)}(l,r),l);return i={useFetchStreams:n,...i},c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),ti(mT,pT,e),ti(mT,pT,"esm2020")})();var f$="firebase",m$="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(f$,m$,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="type.googleapis.com/google.protobuf.Int64Value",g$="type.googleapis.com/google.protobuf.UInt64Value";function hI(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function _g(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>_g(e));if(typeof t=="function"||typeof t=="object")return hI(t,e=>_g(e));throw new Error("Data cannot be encoded in JSON: "+t)}function vu(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case p$:case g$:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>vu(e)):typeof t=="function"||typeof t=="object"?hI(t,e=>vu(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let rr=class fI extends fi{constructor(e,n,s){super(`${zw}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,fI.prototype)}};function v$(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function xg(t,e){let n=v$(t),s=n,r;try{const i=e&&e.error;if(i){const l=i.status;if(typeof l=="string"){if(!cN[l])return new rr("internal","internal");n=cN[l],s=l}const c=i.message;typeof c=="string"&&(s=c),r=i.details,r!==void 0&&(r=vu(r))}}catch{}return n==="ok"?null:new rr(n,s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,n,s,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,us(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||s.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r?.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="us-central1",_$=/^data: (.*?)(?:\n|$)/;function x$(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new rr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class b${constructor(e,n,s,r,i=ex,l=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new y$(e,n,s,r),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(i);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=ex}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function w$(t,e,n){const s=yo(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Kb(t.emulatorOrigin+"/backends"),Zb("Functions",!0))}function S$(t,e,n){const s=r=>T$(t,e,r,{});return s.stream=(r,i)=>A$(t,e,r,i),s}function mI(t){return t.emulatorOrigin&&yo(t.emulatorOrigin)?"include":void 0}async function E$(t,e,n,s,r){n["Content-Type"]="application/json";let i;try{i=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:mI(r)})}catch{return{status:0,json:null}}let l=null;try{l=await i.json()}catch{}return{status:i.status,json:l}}async function pI(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function T$(t,e,n,s){const r=t._url(e);return N$(t,r,n,s)}async function N$(t,e,n,s){n=_g(n);const r={data:n},i=await pI(t,s),l=s.timeout||7e4,c=x$(l),d=await Promise.race([E$(e,r,i,t.fetchImpl,t),c.promise,t.cancelAllRequests]);if(c.cancel(),!d)throw new rr("cancelled","Firebase Functions instance was deleted.");const h=xg(d.status,d.json);if(h)throw h;if(!d.json)throw new rr("internal","Response is not valid JSON object.");let m=d.json.data;if(typeof m>"u"&&(m=d.json.result),typeof m>"u")throw new rr("internal","Response is missing data field.");return{data:vu(m)}}function A$(t,e,n,s){const r=t._url(e);return j$(t,r,n,s||{})}async function j$(t,e,n,s){n=_g(n);const r={data:n},i=await pI(t,s);i["Content-Type"]="application/json",i.Accept="text/event-stream";let l;try{l=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(r),headers:i,signal:s?.signal,credentials:mI(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const A=new rr("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const y=xg(0,null);return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}let c,d;const h=new Promise((v,y)=>{c=v,d=y});s?.signal?.addEventListener("abort",()=>{const v=new rr("cancelled","Request was cancelled.");d(v)});const m=l.body.getReader(),g=C$(m,c,d,s?.signal);return{stream:{[Symbol.asyncIterator](){const v=g.getReader();return{async next(){const{value:y,done:A}=await v.read();return{value:y,done:A}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:h}}function C$(t,e,n,s){const r=(l,c)=>{const d=l.match(_$);if(!d)return;const h=d[1];try{const m=JSON.parse(h);if("result"in m){e(vu(m.result));return}if("message"in m){c.enqueue(vu(m.message));return}if("error"in m){const g=xg(0,m);c.error(g),n(g);return}}catch(m){if(m instanceof rr){c.error(m),n(m);return}}},i=new TextDecoder;return new ReadableStream({start(l){let c="";return d();async function d(){if(s?.aborted){const h=new rr("cancelled","Request was cancelled");return l.error(h),n(h),Promise.resolve()}try{const{value:h,done:m}=await t.read();if(m){c.trim()&&r(c.trim(),l),l.close();return}if(s?.aborted){const v=new rr("cancelled","Request was cancelled");l.error(v),n(v),await t.cancel();return}c+=i.decode(h,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)v.trim()&&r(v.trim(),l);return d()}catch(h){const m=h instanceof rr?h:xg(0,null);l.error(m),n(m)}}},cancel(){return t.cancel()}})}const uN="@firebase/functions",dN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="auth-internal",P$="app-check-internal",I$="messaging-internal";function k$(t){const e=(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),i=n.getProvider(R$),l=n.getProvider(I$),c=n.getProvider(P$);return new b$(r,i,l,c,s)};hl(new oo(zw,e,"PUBLIC").setMultipleInstances(!0)),ti(uN,dN,t),ti(uN,dN,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t=Xb(),e=ex){const s=av(Cn(t),zw).getImmediate({identifier:e}),r=XC("functions");return r&&O$(s,...r),s}function O$(t,e,n){w$(Cn(t),e,n)}function gI(t,e,n){return S$(Cn(t),e)}k$();let Lo,hN,fN,mN;const Bw=new zi;Bw.addScope("email");Bw.addScope("profile");const wv=()=>{if(!Lo){const t={apiKey:"AIzaSyBiqwcZgRvNBq3liSY7fHYnfEIgXLSkEys",authDomain:"jalrakshak-f1d6a.firebaseapp.com",projectId:"jalrakshak-f1d6a",storageBucket:"jalrakshak-f1d6a.firebasestorage.app",messagingSenderId:"170302508520",appId:"1:170302508520:web:f6a229ce2c7e368bbd285d",measurementId:"G-LY5SLJLZT4"};$E().length?Lo=$E()[0]:Lo=sR(t),hN=ZH(Lo),fN=M$(Lo),mN=qz(Lo)}return{app:Lo,db:hN,functions:fN,auth:mN}},D$=()=>{const{functions:t}=wv();return gI(t,"getSafeRoute")},L$=()=>{const{functions:t}=wv();return gI(t,"getNearestShelter")},U$="modulepreload",V$=function(t){return"/"+t},pN={},Rf=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");r=Promise.allSettled(n.map(d=>{if(d=V$(d),d in pN)return;pN[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":U$,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return r.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},z$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rf(async()=>{const{default:s}=await Promise.resolve().then(()=>zu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Fw extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class B$ extends Fw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gN extends Fw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vN extends Fw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tx||(tx={}));var F$=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class H${constructor(e,{headers:n={},customFetch:s,region:r=tx.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=z$(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return F$(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:l}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${e}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(c["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(c["Content-Type"]="application/json",m=JSON.stringify(l)));const g=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:m}).catch(w=>{throw new B$(w)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new gN(g);if(!g.ok)throw new vN(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),A;return y==="application/json"?A=yield g.json():y==="application/octet-stream"?A=yield g.blob():y==="text/event-stream"?A=g:y==="multipart/form-data"?A=yield g.formData():A=yield g.text(),{data:A,error:null,response:g}}catch(r){return{data:null,error:r,response:r instanceof vN||r instanceof gN?r.context:void 0}}})}}var cs={},Hw={},Sv={},Pf={},Ev={},Tv={},$$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yu=$$();const q$=yu.fetch,vI=yu.fetch.bind(yu),yI=yu.Headers,G$=yu.Request,W$=yu.Response,zu=Object.freeze(Object.defineProperty({__proto__:null,Headers:yI,Request:G$,Response:W$,default:vI,fetch:q$},Symbol.toStringTag,{value:"Module"})),K$=f4(zu);var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});let Z$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Nv.default=Z$;var _I=Ds&&Ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tv,"__esModule",{value:!0});const Y$=_I(K$),Q$=_I(Nv);let X$=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Y$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,c,d,h;let m=null,g=null,v=null,y=i.status,A=i.statusText;if(i.ok){if(this.method!=="HEAD"){const T=await i.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?g=T:g=JSON.parse(T))}const j=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),S=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");j&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,A="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const j=await i.text();try{m=JSON.parse(j),Array.isArray(m)&&i.status===404&&(g=[],m=null,y=200,A="OK")}catch{i.status===404&&j===""?(y=204,A="No Content"):m={message:j}}if(m&&this.isMaybeSingle&&(!((h=m?.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,A="OK"),m&&this.shouldThrowOnError)throw new Q$.default(m)}return{error:m,data:g,count:v,status:y,statusText:A}});return this.shouldThrowOnError||(r=r.catch(i=>{var l,c,d;return{error:{message:`${(l=i?.name)!==null&&l!==void 0?l:"FetchError"}: ${i?.message}`,details:`${(c=i?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=i?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};Tv.default=X$;var J$=Ds&&Ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ev,"__esModule",{value:!0});const eq=J$(Tv);let tq=class extends eq.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const l=i?`${i}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:l="text"}={}){var c;const d=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ev.default=tq;var nq=Ds&&Ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pf,"__esModule",{value:!0});const sq=nq(Ev);let rq=class extends sq.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const l=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${l}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Pf.default=rq;var iq=Ds&&Ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sv,"__esModule",{value:!0});const Nd=iq(Pf);let aq=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=r}select(e,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new Nd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var r;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Nd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new Nd.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:n}={}){var s;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Nd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Nd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Sv.default=aq;var xI=Ds&&Ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hw,"__esModule",{value:!0});const oq=xI(Sv),lq=xI(Pf);let cq=class bI{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new oq.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bI(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:i}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let h;s||r?(c=s?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{d.searchParams.append(g,v)})):(c="POST",h=n);const m=new Headers(this.headers);return i&&m.set("Prefer",`count=${i}`),new lq.default({method:c,url:d,headers:m,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Hw.default=cq;var Bu=Ds&&Ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});cs.PostgrestError=cs.PostgrestBuilder=cs.PostgrestTransformBuilder=cs.PostgrestFilterBuilder=cs.PostgrestQueryBuilder=cs.PostgrestClient=void 0;const wI=Bu(Hw);cs.PostgrestClient=wI.default;const SI=Bu(Sv);cs.PostgrestQueryBuilder=SI.default;const EI=Bu(Pf);cs.PostgrestFilterBuilder=EI.default;const TI=Bu(Ev);cs.PostgrestTransformBuilder=TI.default;const NI=Bu(Tv);cs.PostgrestBuilder=NI.default;const AI=Bu(Nv);cs.PostgrestError=AI.default;var uq=cs.default={PostgrestClient:wI.default,PostgrestQueryBuilder:SI.default,PostgrestFilterBuilder:EI.default,PostgrestTransformBuilder:TI.default,PostgrestBuilder:NI.default,PostgrestError:AI.default};const{PostgrestClient:dq,PostgrestQueryBuilder:zJ,PostgrestFilterBuilder:BJ,PostgrestTransformBuilder:FJ,PostgrestBuilder:HJ,PostgrestError:$J}=uq;class hq{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fq="2.15.5",mq=`realtime-js/${fq}`,pq="1.0.0",nx=1e4,gq=1e3,vq=100;var lh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(lh||(lh={}));var rn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rn||(rn={}));var Er;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Er||(Er={}));var sx;(function(t){t.websocket="websocket"})(sx||(sx={}));var Wo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wo||(Wo={}));class yq{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=s.decode(e.slice(l,l+r));l=l+r;const d=s.decode(e.slice(l,l+i));l=l+i;const h=JSON.parse(s.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class jI{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xt||(xt={}));const yN=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,l)=>(i[l]=_q(l,t,e,r),i),{})},_q=(t,e,n,s)=>{const r=e.find(c=>c.name===t),i=r?.type,l=n[t];return i&&!s.includes(i)?CI(i,l):rx(l)},CI=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Sq(e,n)}switch(t){case xt.bool:return xq(e);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return bq(e);case xt.json:case xt.jsonb:return wq(e);case xt.timestamp:return Eq(e);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return rx(e);default:return rx(e)}},rx=t=>t,xq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wq=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sq=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const l=t.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(c=>CI(e,c))}return t},Eq=t=>typeof t=="string"?t.replace(" ","T"):t,RI=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class r0{constructor(e,n,s={},r=nx){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _N;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_N||(_N={}));class ch{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ch.syncState(this.state,r,i,l),this.pendingDiffs.forEach(d=>{this.state=ch.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ch.syncDiff(this.state,r,i,l),c())}),this.onJoin((r,i,l)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:l})}),this.onLeave((r,i,l)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),l=this.transformState(n),c={},d={};return this.map(i,(h,m)=>{l[h]||(d[h]=m)}),this.map(l,(h,m)=>{const g=i[h];if(g){const v=m.map(j=>j.presence_ref),y=g.map(j=>j.presence_ref),A=m.filter(j=>y.indexOf(j.presence_ref)<0),w=g.filter(j=>v.indexOf(j.presence_ref)<0);A.length>0&&(c[h]=A),w.length>0&&(d[h]=w)}else c[h]=m}),this.syncDiff(i,{joins:c,leaves:d},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(c,d)=>{var h;const m=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(d),m.length>0){const g=e[c].map(y=>y.presence_ref),v=m.filter(y=>g.indexOf(y.presence_ref)<0);e[c].unshift(...v)}s(c,m,d)}),this.map(l,(c,d)=>{let h=e[c];if(!h)return;const m=d.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),e[c]=h,r(c,h,d),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xN||(xN={}));var uh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uh||(uh={}));var Li;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Li||(Li={}));class $w{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new r0(this,Er.join,this.params,this.timeout),this.rejoinTimer=new jI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ch(this),this.broadcastEndpointURL=RI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(y=>y.filter))!==null&&r!==void 0?r:[],m=!!this.bindings[uh.PRESENCE]&&this.bindings[uh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Li.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Li.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var A;if(this.socket.setAuth(),y===void 0){e?.(Li.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(A=w?.length)!==null&&A!==void 0?A:0,S=[];for(let T=0;T<j;T++){const N=w[T],{filter:{event:D,schema:F,table:$,filter:R}}=N,P=y&&y[T];if(P&&P.event===D&&P.schema===F&&P.table===$&&P.filter===R)S.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),this.state=rn.errored,e?.(Li.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Li.SUBSCRIBED);return}}).receive("error",y=>{this.state=rn.errored,e?.(Li.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Li.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===rn.joined&&e===uh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=h.body)===null||r===void 0?void 0:r.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,c,d;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new r0(this,Er.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),l}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new r0(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vq){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=Er;if(s&&[c,d,h,m].indexOf(l)>=0&&s!==this._joinRef())return;let v=this._onMessage(l,n,s);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(y=>{var A,w,j;return((A=y.filter)===null||A===void 0?void 0:A.event)==="*"||((j=(w=y.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(y=>y.callback(v,s)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var A,w,j,S,T,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const D=y.id,F=(A=y.filter)===null||A===void 0?void 0:A.event;return D&&((w=n.ids)===null||w===void 0?void 0:w.includes(D))&&(F==="*"||F?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const D=(T=(S=y?.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return D==="*"||D===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const A=v.data,{schema:w,table:j,commit_timestamp:S,type:T,errors:N}=A;v=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:S,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(A))}y.callback(v,s)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&$w.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Er.close,{},e)}_onError(e){this._on(Er.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=yN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=yN(e.columns,e.old_record)),n}}const i0=()=>{},km={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tq=[1e3,2e3,5e3,1e4],Nq=1e4,Aq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jq{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nx,this.transport=null,this.heartbeatIntervalMs=km.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=i0,this.ref=0,this.reconnectTimer=null,this.logger=i0,this.conn=null,this.sendBuffer=[],this.serializer=new yq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...l)=>Rf(async()=>{const{default:c}=await Promise.resolve().then(()=>zu);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${sx.websocket}`,this.httpEndpoint=RI(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hq.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pq}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case lh.connecting:return Wo.Connecting;case lh.open:return Wo.Open;case lh.closing:return Wo.Closing;default:return Wo.Closed}}isConnected(){return this.connectionState()===Wo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===s);if(r)return r;{const i=new $w(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:s,payload:r,ref:i}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gq,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},km.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:i,ref:l}=n,c=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${s} ${r} ${c}`.trim(),i),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(r,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Er.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Aq],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:mq};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(Er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new jI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},km.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,i,l,c,d,h,m;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:nx,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:km.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:i0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:g=>Tq[g-1]||Nq,this.encode=(h=e?.encode)!==null&&h!==void 0?h:(g,v)=>v(JSON.stringify(g)),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class qw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function an(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Cq extends qw{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ix extends qw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Rq=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const PI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rf(async()=>{const{default:s}=await Promise.resolve().then(()=>zu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Pq=()=>Rq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rf(()=>Promise.resolve().then(()=>zu),void 0)).Response:Response}),ax=t=>{if(Array.isArray(t))return t.map(n=>ax(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=ax(s)}),e},Iq=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jl=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const a0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kq=(t,e,n)=>jl(void 0,void 0,void 0,function*(){const s=yield Pq();t instanceof s&&!n?.noResolveJson?t.json().then(r=>{const i=t.status||500,l=r?.statusCode||i+"";e(new Cq(a0(r),i,l))}).catch(r=>{e(new ix(a0(r),r))}):e(new ix(a0(t),t))}),Mq=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!s?r:(Iq(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function If(t,e,n,s,r,i){return jl(this,void 0,void 0,function*(){return new Promise((l,c)=>{t(n,Mq(e,s,r,i)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>kq(d,c,s))})})}function bg(t,e,n,s){return jl(this,void 0,void 0,function*(){return If(t,"GET",e,n,s)})}function $r(t,e,n,s,r){return jl(this,void 0,void 0,function*(){return If(t,"POST",e,s,r,n)})}function ox(t,e,n,s,r){return jl(this,void 0,void 0,function*(){return If(t,"PUT",e,s,r,n)})}function Oq(t,e,n,s){return jl(this,void 0,void 0,function*(){return If(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function II(t,e,n,s,r){return jl(this,void 0,void 0,function*(){return If(t,"DELETE",e,s,r,n)})}var $n=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const Dq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lq{constructor(e,n={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=PI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,r){return $n(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},bN),r);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=s,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),r?.headers&&(c=Object.assign(Object.assign({},c),r.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),g=yield(e=="PUT"?ox:$r)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(an(i))return{data:null,error:i};throw i}})}upload(e,n,s){return $n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return $n(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:bN.upsert},r),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",h.cacheControl)):(d=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield ox(this.fetch,c.toString(),d,{headers:m});return{data:{path:i,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(an(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return $n(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const i=yield $r(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),l=new URL(this.url+i.url),c=l.searchParams.get("token");if(!c)throw new qw("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}})}update(e,n,s){return $n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return $n(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}copy(e,n,s){return $n(this,void 0,void 0,function*(){try{return{data:{path:(yield $r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return $n(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield $r(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return $n(this,void 0,void 0,function*(){try{const r=yield $r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}download(e,n){return $n(this,void 0,void 0,function*(){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),l=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield bg(this.fetch,`${this.url}/${r}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(an(c))return{data:null,error:c};throw c}})}info(e){return $n(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield bg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ax(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}})}exists(e){return $n(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Oq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(an(s)&&s instanceof ix){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&r.push(d);let h=r.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${h}`)}}}remove(e){return $n(this,void 0,void 0,function*(){try{return{data:yield II(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}list(e,n,s){return $n(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Dq),n),{prefix:e||""});return{data:yield $r(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(an(r))return{data:null,error:r};throw r}})}listV2(e,n){return $n(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield $r(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Uq="2.12.1",Vq={"X-Client-Info":`storage-js/${Uq}`};var tc=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class zq{constructor(e,n={},s,r){this.shouldThrowOnError=!1;const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Vq),n),this.fetch=PI(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return tc(this,void 0,void 0,function*(){try{return{data:yield bg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(an(e))return{data:null,error:e};throw e}})}getBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield bg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return tc(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return tc(this,void 0,void 0,function*(){try{return{data:yield ox(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(an(s))return{data:null,error:s};throw s}})}emptyBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield II(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(an(n))return{data:null,error:n};throw n}})}}class Bq extends zq{constructor(e,n={},s,r){super(e,n,s,r)}from(e){return new Lq(this.url,this.headers,e,this.fetch)}}const Fq="2.57.4";let Ld="";typeof Deno<"u"?Ld="deno":typeof document<"u"?Ld="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ld="react-native":Ld="node";const Hq={"X-Client-Info":`supabase-js-${Ld}/${Fq}`},$q={headers:Hq},qq={schema:"public"},Gq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wq={};var Kq=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const Zq=t=>{let e;return t?e=t:typeof fetch>"u"?e=vI:e=fetch,(...n)=>e(...n)},Yq=()=>typeof Headers>"u"?yI:Headers,Qq=(t,e,n)=>{const s=Zq(n),r=Yq();return(i,l)=>Kq(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:t;let h=new r(l?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),s(i,Object.assign(Object.assign({},l),{headers:h}))})};var Xq=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};function Jq(t){return t.endsWith("/")?t:t+"/"}function eG(t,e){var n,s;const{db:r,auth:i,realtime:l,global:c}=t,{db:d,auth:h,realtime:m,global:g}=e,v={db:Object.assign(Object.assign({},d),r),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Xq(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function tG(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jq(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kI="2.71.1",vc=30*1e3,lx=3,o0=lx*vc,nG="http://localhost:9999",sG="supabase.auth.token",rG={"X-Client-Info":`gotrue-js/${kI}`},cx="X-Supabase-Api-Version",MI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aG=10*60*1e3;class Gw extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oG extends Gw{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function lG(t){return Ue(t)&&t.name==="AuthApiError"}class OI extends Gw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _o extends Gw{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class Ta extends _o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cG(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class Mm extends _o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Om extends _o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dm extends _o{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uG(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class wN extends _o{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ux extends _o{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function l0(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class SN extends _o{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class dx extends _o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EN=` 	
\r=`.split(""),dG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<EN.length;e+=1)t[EN[e].charCodeAt(0)]=-2;for(let e=0;e<wg.length;e+=1)t[wg[e].charCodeAt(0)]=e;return t})();function TN(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(wg[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(wg[s]),e.queuedBits-=6}}function DI(t,e,n){const s=dG[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function NN(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=l=>{mG(l,s,n)};for(let l=0;l<t.length;l+=1)DI(t.charCodeAt(l),r,i);return e.join("")}function hG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fG(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}hG(s,e)}}function mG(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function pG(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)DI(t.charCodeAt(r),n,s);return new Uint8Array(e)}function gG(t){const e=[];return fG(t,n=>e.push(n)),new Uint8Array(e)}function vG(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>TN(r,n,s)),TN(null,n,s),e.join("")}function yG(t){return Math.round(Date.now()/1e3)+t}function _G(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xr=()=>typeof window<"u"&&typeof document<"u",Uo={tested:!1,writable:!1},LI=()=>{if(!xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Uo.tested)return Uo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Uo.tested=!0,Uo.writable=!0}catch{Uo.tested=!0,Uo.writable=!1}return Uo.writable};function xG(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const UI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rf(async()=>{const{default:s}=await Promise.resolve().then(()=>zu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},bG=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sa=async(t,e)=>{await t.removeItem(e)};class Av{constructor(){this.promise=new Av.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Av.promiseConstructor=Promise;function c0(t){const e=t.split(".");if(e.length!==3)throw new dx("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!iG.test(e[s]))throw new dx("JWT not in base64url format");return{header:JSON.parse(NN(e[0])),payload:JSON.parse(NN(e[1])),signature:pG(e[2]),raw:{header:e[0],payload:e[1]}}}async function wG(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function SG(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){s(l);return}}catch(l){if(!e(i,l)){r(l);return}}})()})}function EG(t){return("0"+t.toString(16)).substr(-2)}function TG(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,EG).join("")}async function NG(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function AG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await NG(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nc(t,e,n=!1){const s=TG();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await yc(t,`${e}-code-verifier`,r);const i=await AG(s);return[i,s===i?"plain":"s256"]}const jG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CG(t){const e=t.headers.get(cx);if(!e||!e.match(jG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function RG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function PG(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sc(t){if(!IG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function u0(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AN(t){return JSON.parse(JSON.stringify(t))}var kG=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const Go=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MG=[502,503,504];async function jN(t){var e;if(!bG(t))throw new ux(Go(t),0);if(MG.includes(t.status))throw new ux(Go(t),t.status);let n;try{n=await t.json()}catch(i){throw new OI(Go(i),i)}let s;const r=CG(t);if(r&&r.getTime()>=MI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new SN(Go(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ta}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new SN(Go(n),t.status,n.weak_password.reasons);throw new oG(Go(n),t.status||500,s)}const OG=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function $e(t,e,n,s){var r;const i=Object.assign({},s?.headers);i[cx]||(i[cx]=MI["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const l=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(l.redirect_to=s.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await DG(t,e,n+c,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function DG(t,e,n,s,r,i){const l=OG(e,s,r,i);let c;try{c=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new ux(Go(d),0)}if(c.ok||await jN(c),s?.noResolveJson)return c;try{return await c.json()}catch(d){await jN(d)}}function Oi(t){var e;let n=null;zG(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yG(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function CN(t){const e=Oi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Da(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LG(t){return{data:t,error:null}}function UG(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,l=kG(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function VG(t){return t}function zG(t){return t.access_token&&t.refresh_token&&t.expires_in}const d0=["global","local","others"];var BG=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class FG{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=UI(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=d0[0]){if(d0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${d0.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Da})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=BG(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:UG,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Da})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:VG});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(A=>{const w=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(A.split(";")[1].split("=")[1]);h[`${j}Page`]=w}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ue(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){sc(e);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Da})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){sc(e);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Da})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){sc(e);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Da})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){sc(e.userId);try{const{data:n,error:s}=await $e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){sc(e.userId),sc(e.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function RN(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function HG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rc={debug:!!(globalThis&&LI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $G extends VI{}async function qG(t,e,n){rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),rc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $G(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}HG();const GG={url:nG,storageKey:sG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function PN(t,e,n){return await n()}const ic={};class Gh{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gh.nextInstanceID,Gh.nextInstanceID+=1,this.instanceID>0&&xr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},GG),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new FG({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=UI(r.fetch),this.lock=r.lock||PN,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:xr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=qG:this.lock=PN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:LI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RN(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=RN(this.memoryStorage)),xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ic[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ic[this.storageKey]=Object.assign(Object.assign({},ic[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ic[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ic[this.storageKey]=Object.assign(Object.assign({},ic[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=xG(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),xr()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uG(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:c}=r;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new OI("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Oi}),{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:m,password:g,options:v}=e;let y=null,A=null;this.flowType==="pkce"&&([y,A]=await nc(this.storage,this.storageKey)),i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:A},xform:Oi})}else if("phone"in e){const{phone:m,password:g,options:v}=e;i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(r=v?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Oi})}else throw new Om("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:l,options:c}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:CN})}else if("phone"in e){const{phone:i,password:l,options:c}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:CN})}else throw new Om("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Mm}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,s,r,i,l,c,d,h,m,g,v,y;let A,w;if("message"in e)A=e.message,w=e.signature;else{const{chain:j,wallet:S,statement:T,options:N}=e;let D;if(xr())if(typeof S=="object")D=S;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))D=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=S}const F=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const $=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),T?{statement:T}:null));let R;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")R=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)R=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)A=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),w=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${F.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(r=(s=N?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=N?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(m=N?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const $=await D.signMessage(new TextEncoder().encode(A),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=$}}try{const{data:j,error:S}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:vG(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Oi});if(S)throw S;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Mm}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:S})}catch(j){if(Ue(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Vo(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:l}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Oi});if(await Sa(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Mm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:l})}catch(i){if(Ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:l}=e,c=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Oi}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Mm}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,l;try{if("email"in e){const{email:c,options:d}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await nc(this.storage,this.storageKey));const{error:g}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:d}=e,{data:h,error:m}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new Om("You must provide either an email or phone number.")}catch(c){if(Ue(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Oi});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await nc(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:LG})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Ta;const{error:r}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:l}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:l,error:c}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new Om("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<o0:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const l=await Vo(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=u0()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,m)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,m))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Da}):await this._useSession(async n=>{var s,r,i;const{data:l,error:c}=n;if(c)throw c;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ta}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Da})})}catch(n){if(Ue(n))return cG(n)&&(await this._removeSession(),await Sa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Ta;const l=r.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await nc(this.storage,this.storageKey));const{data:h,error:m}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Da});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ta;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:l}=c0(e.access_token);if(l.exp&&(s=l.exp,r=s<=n),r){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(s=l.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ta;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!xr())throw new Dm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wN("No code detected.");const{data:T,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=e;if(!i||!c||!l||!h)throw new Dm("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(c);let v=m+g;d&&(v=parseInt(d));const y=v-m;y*1e3<=vc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const A=v-g;m-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,v,m):m-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,v,m);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const S={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(s){if(Ue(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const l=(s=r.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(lG(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Sa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=_G(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:l}=n;if(l)throw l;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await nc(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var l,c,d,h,m;const{data:g,error:v}=i;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(r)throw r;return xr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Ue(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:l}=n;if(l)throw l;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await SG(async r=>(r>0&&await wG(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oi})),(r,i)=>{const l=200*Math.pow(2,r);return i&&l0(i)&&Date.now()+l-s<vc})}catch(s){if(this._debug(n,"error",s),Ue(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),xr()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Vo(this.storage,this.storageKey);if(r&&this.userStorage){let l=await Vo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:r.user},await yc(this.userStorage,this.storageKey+"-user",l)),r.user=(e=l?.user)!==null&&e!==void 0?e:u0()}else if(r&&!r.user&&!r.user){const l=await Vo(this.storage,this.storageKey+"-user");l&&l?.user?(r.user=l.user,await Sa(this.storage,this.storageKey+"-user"),await yc(this.storage,this.storageKey,r)):r.user=u0()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<o0;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${o0}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),l0(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(r.access_token);!c&&l?.user?(r.user=l.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Ta;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Av;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new Ta;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(r,"error",i),Ue(i)){const l={session:null,error:i};return l0(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await yc(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=AN(r);await yc(this.storage,this.storageKey,i)}else{const r=AN(n);await yc(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Sa(this.storage,this.storageKey),await Sa(this.storage,this.storageKey+"-code-verifier"),await Sa(this.storage,this.storageKey+"-user"),this.userStorage&&await Sa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/vc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${vc}ms, refresh threshold is ${lx} ticks`),r<=lx&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof VI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,l]=await nc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});r.push(c.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await $e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:h}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((r=d?.totp)===null||r===void 0)&&r.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:l,error:c}=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=e?.factors||[],r=s.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=s.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=c0(r.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+aG>r)return s;const{data:i,error:l}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:y,error:A}=await this.getSession();if(A||!y.session)return{data:null,error:A};s=y.session.access_token}const{header:r,payload:i,signature:l,raw:{header:c,payload:d}}=c0(s);n?.allowExpired||RG(i.exp);const h=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:y}=await this.getUser(s);if(y)throw y;return{data:{claims:i,header:r,signature:l},error:null}}const m=PG(r.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,gG(`${c}.${d}`)))throw new dx("Invalid JWT signature");return{data:{claims:i,header:r,signature:l},error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}}}Gh.nextInstanceID=0;const WG=Gh;class KG extends WG{constructor(e){super(e)}}var ZG=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function c(m){try{h(s.next(m))}catch(g){l(g)}}function d(m){try{h(s.throw(m))}catch(g){l(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class YG{constructor(e,n,s){var r,i,l;this.supabaseUrl=e,this.supabaseKey=n;const c=tG(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:qq,realtime:Wq,auth:Object.assign(Object.assign({},Gq),{storageKey:d}),global:$q},m=eG(s??{},h);this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=Qq(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new dq(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Bq(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new H$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ZG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:l,flowType:c,lock:d,debug:h},m,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KG({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,flowType:c,lock:d,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new jq(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QG=(t,e,n)=>new YG(t,e,n);function XG(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}XG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JG="https://yctbapuirfppmqbzgvqo.supabase.co",eW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljdGJhcHVpcmZwcG1xYnpndnFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDAyOTcsImV4cCI6MjA3NDU3NjI5N30.HyuVCIlShAfZbEvFrLEk0dXJQKw4Hsu2yYjkjp68C2E",it=QG(JG,eW),tW=async(t,e="images")=>{try{const n=t.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).substring(2)}.${n}`,{data:r,error:i}=await it.storage.from(e).upload(s,t);if(i)return console.error("Error uploading image:",i),null;const{data:l}=it.storage.from(e).getPublicUrl(s);return l.publicUrl}catch(n){return console.error("Error uploading image:",n),null}},nW=async t=>{try{const{data:e,error:n}=await it.from("flood_reports").insert([t]).select().single();return n?(console.error("Error submitting report:",n),null):e}catch(e){return console.error("Error submitting report:",e),null}},sW=async(t,e)=>{try{let n=it.from("location_data").select("*").eq("state",t);e&&(n=n.eq("district",e));const{data:s,error:r}=await n;return r?(console.error("Error fetching location data:",r),[]):s||[]}catch(n){return console.error("Error fetching location data:",n),[]}},rW=async t=>{try{console.log("Fetching reports for user:",t);const{data:e,error:n}=await it.rpc("get_user_reports",{user_uuid:t});if(!n&&e)return console.log("User reports data from function:",e),e;console.log("Function not available, using direct query");const{data:s,error:r}=await it.from("flood_reports").select("*").eq("user_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching user reports:",r),[]):(console.log("User reports data:",s),s||[])}catch(e){return console.error("Error fetching user reports:",e),[]}},iW=async(t,e,n=50)=>{try{console.log("Fetching nearby reports for location:",{lat:t,lng:e,radiusKm:n});const{data:s,error:r}=await it.from("flood_reports").select("*").order("created_at",{ascending:!1}).limit(100);if(r){console.error("Error fetching nearby reports:",r);const{data:l,error:c}=await it.from("flood_reports").select("*").limit(50);return c?(console.error("Fallback query also failed:",c),[]):(console.log("Using fallback data:",l),l||[])}if(console.log("Raw reports data:",s),!s||s.length===0)return console.log("No reports found in database"),[];const i=s.filter(l=>{try{let c,d;if(l.location&&typeof l.location=="object")c=l.location.lat,d=l.location.lng;else if(l.lat&&l.lng)c=l.lat,d=l.lng;else return console.warn("Report missing location data:",l),!1;return typeof c!="number"||typeof d!="number"?(console.warn("Invalid location data in report:",l),!1):aW(t,e,c,d)<=n}catch(c){return console.warn("Error processing report location:",c,l),!1}});return console.log("Filtered reports:",i),i.length===0&&s.length>0?(console.log("No reports within radius, returning all recent reports as fallback"),s.slice(0,20)):i}catch(s){return console.error("Error fetching nearby reports:",s),[]}},aW=(t,e,n,s)=>{const i=(n-t)*Math.PI/180,l=(s-e)*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},h0=async(t,e="user")=>{try{console.log("Syncing Firebase user to Supabase:",t.uid);const{data:n,error:s}=await it.rpc("sync_firebase_user",{p_firebase_uid:t.uid,p_email:t.email||"",p_display_name:t.displayName||null,p_photo_url:t.photoURL||null,p_role:e});return s?(console.error("Error syncing user to Supabase:",s),null):(console.log("User synced successfully:",n),n)}catch(n){return console.error("Error in syncFirebaseUserToSupabase:",n),null}},oW=async(t=50,e=0,n)=>{try{console.log("Fetching users from Supabase...");try{const{data:s,error:r}=await it.rpc("get_all_users_for_admin",{p_limit:t,p_offset:e,p_search:n||null});if(r)throw console.error("RPC function error:",r),r;return console.log("Users fetched via RPC:",s),s||[]}catch{console.log("RPC function not available, trying direct query...");let r=it.from("user_profiles").select("*").order("created_at",{ascending:!1}).limit(t).range(e,e+t-1);n&&(r=r.or(`email.ilike.%${n}%,display_name.ilike.%${n}%`));const{data:i,error:l}=await r;return l?(console.error("Direct query error:",l),[]):(console.log("Users fetched via direct query:",i),i||[])}}catch(s){return console.error("Error in getAllUsersFromSupabase:",s),[]}},lW=async()=>{try{console.log("Fetching user statistics...");try{const{data:t,error:e}=await it.rpc("get_user_statistics");if(e)throw console.error("RPC function error:",e),e;return console.log("Statistics fetched via RPC:",t),t?.[0]||{total_users:0,active_users:0,disabled_users:0,admin_users:0,emergency_responders:0,recent_signups:0}}catch{console.log("RPC function not available, calculating manually...");const{data:e,error:n}=await it.from("user_profiles").select("role, disabled, created_at");if(n)return console.error("Error fetching users for stats:",n),{total_users:0,active_users:0,disabled_users:0,admin_users:0,emergency_responders:0,recent_signups:0};const s={total_users:e.length,active_users:e.filter(r=>!r.disabled).length,disabled_users:e.filter(r=>r.disabled).length,admin_users:e.filter(r=>r.role==="admin").length,emergency_responders:e.filter(r=>r.role==="emergency_responder").length,recent_signups:e.filter(r=>{const i=new Date(r.created_at),l=new Date;return l.setDate(l.getDate()-7),i>=l}).length};return console.log("Statistics calculated manually:",s),s}}catch(t){return console.error("Error in getUserStatisticsFromSupabase:",t),{total_users:0,active_users:0,disabled_users:0,admin_users:0,emergency_responders:0,recent_signups:0}}},IN=async t=>{try{console.log("Updating last login for:",t);const{error:e}=await it.from("user_profiles").update({last_login:new Date().toISOString()}).eq("firebase_uid",t);return e?(console.error("Error updating last login:",e),!1):!0}catch(e){return console.error("Error in updateUserLastLogin:",e),!1}},zI=x.createContext(void 0),Fu=()=>{const t=x.useContext(zI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},cW=({children:t})=>{const[e,n]=x.useState(null),[s,r]=x.useState(null),[i,l]=x.useState(!0),{auth:c,db:d}=wv(),h=async(S,T={})=>{if(!S)return;const N=iN(d,"users",S.uid),D=await c$(N);if(D.exists()){const $={...D.data(),lastLogin:new Date};await s0(N,$,{merge:!0}),r($)}else{const{displayName:F,email:$,photoURL:R}=S,P={uid:S.uid,email:$,displayName:F||"",photoURL:R||void 0,role:"user",preferences:{alertTypes:["flood_warning","evacuation_alert","weather_update"],notificationMethods:["push","email"],emergencyContacts:[]},joinedAt:new Date,lastLogin:new Date,...T};try{await s0(N,P),r(P)}catch(U){console.error("Error creating user profile:",U),we.error("Failed to create user profile")}}},m=async(S,T)=>{try{l(!0);const N=await j8(c,S,T);await h(N.user);try{await h0(N.user,"user"),await IN(N.user.uid)}catch(D){console.error("Error syncing user to Supabase:",D)}we.success("Welcome back!")}catch(N){throw console.error("Login error:",N),we.error(N.message||"Failed to login"),N}finally{l(!1)}},g=async(S,T,N)=>{try{l(!0);const D=await A8(c,S,T);await R8(D.user,{displayName:N}),await h(D.user,{displayName:N});try{await h0(D.user,"user")}catch(F){console.error("Error syncing user to Supabase:",F)}we.success("Account created successfully!")}catch(D){throw console.error("Registration error:",D),we.error(D.message||"Failed to create account"),D}finally{l(!1)}},v=async()=>{try{l(!0);const S=await ez(c,Bw);await h(S.user);try{await h0(S.user,"user"),await IN(S.user.uid)}catch(T){console.error("Error syncing user to Supabase:",T)}we.success("Successfully signed in with Google!")}catch(S){throw console.error("Google login error:",S),we.error(S.message||"Failed to sign in with Google"),S}finally{l(!1)}},y=async()=>{try{await M8(c),r(null),we.success("Logged out successfully")}catch(S){console.error("Logout error:",S),we.error("Failed to logout")}},A=async S=>{try{await N8(c,S),we.success("Password reset email sent!")}catch(T){throw console.error("Password reset error:",T),we.error(T.message||"Failed to send password reset email"),T}},w=async S=>{if(!(!e||!s))try{const T=iN(d,"users",e.uid),N={...s,...S};await s0(T,N,{merge:!0}),r(N),we.success("Profile updated successfully!")}catch(T){throw console.error("Profile update error:",T),we.error("Failed to update profile"),T}};x.useEffect(()=>k8(c,async T=>{if(console.log("Auth state changed:",T?"User logged in":"User logged out"),n(T),T)try{await h(T)}catch(N){console.error("Error creating user profile:",N)}else r(null);l(!1)}),[c,d]);const j={currentUser:e,userProfile:s,login:m,register:g,loginWithGoogle:v,logout:y,resetPassword:A,updateUserProfile:w,loading:i};return a.jsx(zI.Provider,{value:j,children:t})},BI=x.createContext(void 0),kf=()=>{const t=x.useContext(BI);if(t===void 0)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return t},uW=({children:t})=>{const[e,n]=x.useState(null),[s,r]=x.useState(null),[i,l]=x.useState(!0),[c,d]=x.useState(!1);x.useEffect(()=>{(async()=>{const{data:{session:T},error:N}=await it.auth.getSession();N?console.error("Error getting session:",N):(r(T),n(T?.user??null),T?.user&&await h(T.user)),l(!1)})();const{data:{subscription:S}}=it.auth.onAuthStateChange(async(T,N)=>{r(N),n(N?.user??null),N?.user?await h(N.user):d(!1),l(!1)});return()=>S.unsubscribe()},[]);const h=async j=>{try{console.log("Checking admin status for Supabase user:",j.id),d(!0),console.log("Supabase user is admin:",!0),console.log("Admin authentication successful - Firebase sync disabled")}catch(S){console.error("Error checking admin status:",S?.message||JSON.stringify(S)),d(!0)}},w={user:e,session:s,signUp:async(j,S,T)=>{try{l(!0),console.log("Starting signup process...");const{data:N,error:D}=await it.auth.signUp({email:j,password:S,options:{data:T}});return console.log("Signup response:",{data:N,error:D}),D?(console.error("Signup error:",D),we.error(D.message),{user:null,error:D}):(N.user&&console.log("Admin user created successfully"),we.success("Admin account created successfully! Please check your email to verify your account."),{user:N.user,error:null})}catch(N){return console.error("Sign up error:",N),we.error("Failed to create account"),{user:null,error:N}}finally{l(!1)}},signIn:async(j,S)=>{try{l(!0),console.log("Starting signin process...");const{data:T,error:N}=await it.auth.signInWithPassword({email:j,password:S});return console.log("Signin response:",{data:T,error:N}),N?(console.error("Signin error:",N),we.error(N.message),{user:null,error:N}):(console.log("Signin successful, user:",T.user),we.success("Welcome back, Admin!"),{user:T.user,error:null})}catch(T){return console.error("Sign in error:",T),we.error("Failed to sign in"),{user:null,error:T}}finally{l(!1)}},signOut:async()=>{try{const{error:j}=await it.auth.signOut();j?we.error(j.message):we.success("Logged out successfully")}catch(j){console.error("Sign out error:",j),we.error("Failed to sign out")}},resetPassword:async j=>{try{const{error:S}=await it.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/auth/reset-password`});S?we.error(S.message):we.success("Password reset email sent!")}catch(S){console.error("Reset password error:",S),we.error("Failed to send reset email")}},updateProfile:async j=>{try{we.success("Profile updated successfully!")}catch(S){console.error("Update profile error:",S),we.error("Failed to update profile")}},loading:i,isAdmin:c};return a.jsx(BI.Provider,{value:w,children:t})},FI=x.createContext(void 0),Ww=()=>{const t=x.useContext(FI);if(t===void 0)throw new Error("useSupabaseAuthMinimal must be used within a SupabaseAuthProviderMinimal");return t},kN=({children:t})=>{const[e,n]=x.useState(null),[s,r]=x.useState(null),[i,l]=x.useState(!0),[c,d]=x.useState(!1);x.useEffect(()=>{console.log("SupabaseAuthProviderMinimal: Initializing..."),it.auth.getSession().then(({data:{session:j},error:S})=>{console.log("SupabaseAuthProviderMinimal: Initial session:",j),S&&console.error("SupabaseAuthProviderMinimal: Session error:",S),r(j),n(j?.user??null),d(!0),l(!1)});const{data:{subscription:w}}=it.auth.onAuthStateChange((j,S)=>{console.log("SupabaseAuthProviderMinimal: Auth state changed:",j,S?.user?.email),r(S),n(S?.user??null),d(!0),l(!1)});return()=>w.unsubscribe()},[]);const A={user:e,session:s,signUp:async(w,j,S)=>{try{l(!0);const{data:T,error:N}=await it.auth.signUp({email:w,password:j,options:{data:S}});return N?(console.error("SupabaseAuthProviderMinimal: Signup error:",N),{user:null,error:N}):{user:T.user,error:null}}catch(T){return console.error("SupabaseAuthProviderMinimal: Signup error:",T),{user:null,error:T}}finally{l(!1)}},signIn:async(w,j)=>{try{l(!0);const{data:S,error:T}=await it.auth.signInWithPassword({email:w,password:j});return T?(console.error("SupabaseAuthProviderMinimal: Signin error:",T),{user:null,error:T}):{user:S.user,error:null}}catch(S){return console.error("SupabaseAuthProviderMinimal: Signin error:",S),{user:null,error:S}}finally{l(!1)}},signOut:async()=>{try{l(!0);const{error:w}=await it.auth.signOut();w&&console.error("SupabaseAuthProviderMinimal: Signout error:",w)}catch(w){console.error("SupabaseAuthProviderMinimal: Signout error:",w)}finally{l(!1)}},resetPassword:async w=>{try{const{error:j}=await it.auth.resetPasswordForEmail(w);j&&console.error("SupabaseAuthProviderMinimal: Reset password error:",j)}catch(j){console.error("SupabaseAuthProviderMinimal: Reset password error:",j)}},updateProfile:async w=>{try{console.log("SupabaseAuthProviderMinimal: Profile update (no-op):",w)}catch(j){console.error("SupabaseAuthProviderMinimal: Update profile error:",j)}},loading:i,isAdmin:c};return console.log("SupabaseAuthProviderMinimal: Providing context:",{user:e?.email,loading:i,isAdmin:c}),a.jsx(FI.Provider,{value:A,children:t})},MN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ON=DC,Kw=(t,e)=>n=>{var s;if(e?.variants==null)return ON(t,n?.class,n?.className);const{variants:r,defaultVariants:i}=e,l=Object.keys(r).map(h=>{const m=n?.[h],g=i?.[h];if(m===null)return null;const v=MN(m)||MN(g);return r[h][v]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,v]=m;return v===void 0||(h[g]=v),h},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,m)=>{let{class:g,className:v,...y}=m;return Object.entries(y).every(A=>{let[w,j]=A;return Array.isArray(j)?j.includes({...i,...c}[w]):{...i,...c}[w]===j})?[...h,g,v]:h},[]);return ON(t,l,d,n?.class,n?.className)},dW=Kw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=x.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const l=s?C3:"button";return a.jsx(l,{className:Ee(dW({variant:e,size:n,className:t})),ref:i,...r})});ae.displayName="Button";const hW=Kw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-600 text-white hover:bg-green-700",warning:"border-transparent bg-yellow-500 text-black hover:bg-yellow-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:t,variant:e,...n}){return a.jsx("div",{className:Ee(hW({variant:e}),t),...n})}var HI={exports:{}},$I={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=x;function fW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mW=typeof Object.is=="function"?Object.is:fW,pW=_u.useState,gW=_u.useEffect,vW=_u.useLayoutEffect,yW=_u.useDebugValue;function _W(t,e){var n=e(),s=pW({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return vW(function(){r.value=n,r.getSnapshot=e,f0(r)&&i({inst:r})},[t,n,e]),gW(function(){return f0(r)&&i({inst:r}),t(function(){f0(r)&&i({inst:r})})},[t]),yW(n),n}function f0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mW(t,n)}catch{return!0}}function xW(t,e){return e()}var bW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xW:_W;$I.useSyncExternalStore=_u.useSyncExternalStore!==void 0?_u.useSyncExternalStore:bW;HI.exports=$I;var wW=HI.exports;function SW(){return wW.useSyncExternalStore(EW,()=>!0,()=>!1)}function EW(){return()=>{}}var Zw="Avatar",[TW,qJ]=ms(Zw),[NW,qI]=TW(Zw),GI=x.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[r,i]=x.useState("idle");return a.jsx(NW,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:a.jsx(be.span,{...s,ref:e})})});GI.displayName=Zw;var WI="AvatarImage",KI=x.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...i}=t,l=qI(WI,n),c=AW(s,i),d=gn(h=>{r(h),l.onImageLoadingStatusChange(h)});return nn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?a.jsx(be.img,{...i,ref:e,src:s}):null});KI.displayName=WI;var ZI="AvatarFallback",YI=x.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...r}=t,i=qI(ZI,n),[l,c]=x.useState(s===void 0);return x.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),l&&i.imageLoadingStatus!=="loaded"?a.jsx(be.span,{...r,ref:e}):null});YI.displayName=ZI;function DN(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function AW(t,{referrerPolicy:e,crossOrigin:n}){const s=SW(),r=x.useRef(null),i=s?(r.current||(r.current=new window.Image),r.current):null,[l,c]=x.useState(()=>DN(i,t));return nn(()=>{c(DN(i,t))},[i,t]),nn(()=>{const d=g=>()=>{c(g)};if(!i)return;const h=d("loaded"),m=d("error");return i.addEventListener("load",h),i.addEventListener("error",m),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",h),i.removeEventListener("error",m)}},[i,n,e]),l}var QI=GI,XI=KI,JI=YI;const dh=x.forwardRef(({className:t,...e},n)=>a.jsx(QI,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));dh.displayName=QI.displayName;const hh=x.forwardRef(({className:t,...e},n)=>a.jsx(XI,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));hh.displayName=XI.displayName;const fh=x.forwardRef(({className:t,...e},n)=>a.jsx(JI,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));fh.displayName=JI.displayName;function jv(t){const e=t+"CollectionProvider",[n,s]=ms(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:j,children:S}=w,T=ce.useRef(null),N=ce.useRef(new Map).current;return a.jsx(r,{scope:j,itemMap:N,collectionRef:T,children:S})};l.displayName=e;const c=t+"CollectionSlot",d=cl(c),h=ce.forwardRef((w,j)=>{const{scope:S,children:T}=w,N=i(c,S),D=Le(j,N.collectionRef);return a.jsx(d,{ref:D,children:T})});h.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=cl(m),y=ce.forwardRef((w,j)=>{const{scope:S,children:T,...N}=w,D=ce.useRef(null),F=Le(j,D),$=i(m,S);return ce.useEffect(()=>($.itemMap.set(D,{ref:D,...N}),()=>void $.itemMap.delete(D))),a.jsx(v,{[g]:"",ref:F,children:T})});y.displayName=m;function A(w){const j=i(t+"CollectionConsumer",w);return ce.useCallback(()=>{const T=j.collectionRef.current;if(!T)return[];const N=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort(($,R)=>N.indexOf($.ref.current)-N.indexOf(R.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:l,Slot:h,ItemSlot:y},A,s]}var jW=x.createContext(void 0);function Hu(t){const e=x.useContext(jW);return t||e||"ltr"}var m0=0;function Yw(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??LN()),document.body.insertAdjacentElement("beforeend",t[1]??LN()),m0++,()=>{m0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),m0--}},[])}function LN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var p0="focusScope.autoFocusOnMount",g0="focusScope.autoFocusOnUnmount",UN={bubbles:!1,cancelable:!0},CW="FocusScope",Cv=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...l}=t,[c,d]=x.useState(null),h=gn(r),m=gn(i),g=x.useRef(null),v=Le(e,w=>d(w)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let w=function(N){if(y.paused||!c)return;const D=N.target;c.contains(D)?g.current=D:Na(g.current,{select:!0})},j=function(N){if(y.paused||!c)return;const D=N.relatedTarget;D!==null&&(c.contains(D)||Na(g.current,{select:!0}))},S=function(N){if(document.activeElement===document.body)for(const F of N)F.removedNodes.length>0&&Na(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const T=new MutationObserver(S);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),T.disconnect()}}},[s,c,y.paused]),x.useEffect(()=>{if(c){zN.add(y);const w=document.activeElement;if(!c.contains(w)){const S=new CustomEvent(p0,UN);c.addEventListener(p0,h),c.dispatchEvent(S),S.defaultPrevented||(RW(OW(ek(c)),{select:!0}),document.activeElement===w&&Na(c))}return()=>{c.removeEventListener(p0,h),setTimeout(()=>{const S=new CustomEvent(g0,UN);c.addEventListener(g0,m),c.dispatchEvent(S),S.defaultPrevented||Na(w??document.body,{select:!0}),c.removeEventListener(g0,m),zN.remove(y)},0)}}},[c,h,m,y]);const A=x.useCallback(w=>{if(!n&&!s||y.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,S=document.activeElement;if(j&&S){const T=w.currentTarget,[N,D]=PW(T);N&&D?!w.shiftKey&&S===D?(w.preventDefault(),n&&Na(N,{select:!0})):w.shiftKey&&S===N&&(w.preventDefault(),n&&Na(D,{select:!0})):S===T&&w.preventDefault()}},[n,s,y.paused]);return a.jsx(be.div,{tabIndex:-1,...l,ref:v,onKeyDown:A})});Cv.displayName=CW;function RW(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Na(s,{select:e}),document.activeElement!==n)return}function PW(t){const e=ek(t),n=VN(e,t),s=VN(e.reverse(),t);return[n,s]}function ek(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VN(t,e){for(const n of t)if(!IW(n,{upTo:e}))return n}function IW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kW(t){return t instanceof HTMLInputElement&&"select"in t}function Na(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kW(t)&&e&&t.select()}}var zN=MW();function MW(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=BN(t,e),t.unshift(e)},remove(e){t=BN(t,e),t[0]?.resume()}}}function BN(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function OW(t){return t.filter(e=>e.tagName!=="A")}var v0="rovingFocusGroup.onEntryFocus",DW={bubbles:!1,cancelable:!0},Mf="RovingFocusGroup",[hx,tk,LW]=jv(Mf),[UW,Rv]=ms(Mf,[LW]),[VW,zW]=UW(Mf),nk=x.forwardRef((t,e)=>a.jsx(hx.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(hx.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(BW,{...t,ref:e})})}));nk.displayName=Mf;var BW=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=t,v=x.useRef(null),y=Le(e,v),A=Hu(i),[w,j]=ao({prop:l,defaultProp:c??null,onChange:d,caller:Mf}),[S,T]=x.useState(!1),N=gn(h),D=tk(n),F=x.useRef(!1),[$,R]=x.useState(0);return x.useEffect(()=>{const P=v.current;if(P)return P.addEventListener(v0,N),()=>P.removeEventListener(v0,N)},[N]),a.jsx(VW,{scope:n,orientation:s,dir:A,loop:r,currentTabStopId:w,onItemFocus:x.useCallback(P=>j(P),[j]),onItemShiftTab:x.useCallback(()=>T(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(P=>P+1),[]),onFocusableItemRemove:x.useCallback(()=>R(P=>P-1),[]),children:a.jsx(be.div,{tabIndex:S||$===0?-1:0,"data-orientation":s,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:me(t.onMouseDown,()=>{F.current=!0}),onFocus:me(t.onFocus,P=>{const U=!F.current;if(P.target===P.currentTarget&&U&&!S){const I=new CustomEvent(v0,DW);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const O=D().filter(G=>G.focusable),k=O.find(G=>G.active),V=O.find(G=>G.id===w),ue=[k,V,...O].filter(Boolean).map(G=>G.ref.current);ik(ue,m)}}F.current=!1}),onBlur:me(t.onBlur,()=>T(!1))})})}),sk="RovingFocusGroupItem",rk=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:l,...c}=t,d=Jr(),h=i||d,m=zW(sk,n),g=m.currentTabStopId===h,v=tk(n),{onFocusableItemAdd:y,onFocusableItemRemove:A,currentTabStopId:w}=m;return x.useEffect(()=>{if(s)return y(),()=>A()},[s,y,A]),a.jsx(hx.ItemSlot,{scope:n,id:h,focusable:s,active:r,children:a.jsx(be.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:me(t.onMouseDown,j=>{s?m.onItemFocus(h):j.preventDefault()}),onFocus:me(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:me(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const S=$W(j,m.orientation,m.dir);if(S!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let N=v().filter(D=>D.focusable).map(D=>D.ref.current);if(S==="last")N.reverse();else if(S==="prev"||S==="next"){S==="prev"&&N.reverse();const D=N.indexOf(j.currentTarget);N=m.loop?qW(N,D+1):N.slice(D+1)}setTimeout(()=>ik(N))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:w!=null}):l})})});rk.displayName=sk;var FW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $W(t,e,n){const s=HW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return FW[s]}function ik(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function qW(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var ak=nk,ok=rk,GW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ac=new WeakMap,Lm=new WeakMap,Um={},y0=0,lk=function(t){return t&&(t.host||lk(t.parentNode))},WW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=lk(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},KW=function(t,e,n,s){var r=WW(e,Array.isArray(t)?t:[t]);Um[n]||(Um[n]=new WeakMap);var i=Um[n],l=[],c=new Set,d=new Set(r),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};r.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))m(v);else try{var y=v.getAttribute(s),A=y!==null&&y!=="false",w=(ac.get(v)||0)+1,j=(i.get(v)||0)+1;ac.set(v,w),i.set(v,j),l.push(v),w===1&&A&&Lm.set(v,!0),j===1&&v.setAttribute(n,"true"),A||v.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return m(e),c.clear(),y0++,function(){l.forEach(function(g){var v=ac.get(g)-1,y=i.get(g)-1;ac.set(g,v),i.set(g,y),v||(Lm.has(g)||g.removeAttribute(s),Lm.delete(g)),y||g.removeAttribute(n)}),y0--,y0||(ac=new WeakMap,ac=new WeakMap,Lm=new WeakMap,Um={})}},Qw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=GW(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),KW(s,r,n,"aria-hidden")):function(){return null}},Wr=function(){return Wr=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wr.apply(this,arguments)};function ck(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function ZW(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var hp="right-scroll-bar-position",fp="width-before-scroll-bar",YW="with-scroll-bars-hidden",QW="--removed-body-scroll-bar-size";function _0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XW(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var JW=typeof window<"u"?x.useLayoutEffect:x.useEffect,FN=new WeakMap;function eK(t,e){var n=XW(null,function(s){return t.forEach(function(r){return _0(r,s)})});return JW(function(){var s=FN.get(n);if(s){var r=new Set(s),i=new Set(t),l=n.current;r.forEach(function(c){i.has(c)||_0(c,null)}),i.forEach(function(c){r.has(c)||_0(c,l)})}FN.set(n,t)},[t]),n}function tK(t){return t}function nK(t,e){e===void 0&&(e=tK);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=e(i,s);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(s=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){s=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var m=l;l=[],m.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return r}function sK(t){t===void 0&&(t={});var e=nK(null);return e.options=Wr({async:!0,ssr:!1},t),e}var uk=function(t){var e=t.sideCar,n=ck(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,Wr({},n))};uk.isSideCarExport=!0;function rK(t,e){return t.useMedium(e),uk}var dk=sK(),x0=function(){},Pv=x.forwardRef(function(t,e){var n=x.useRef(null),s=x.useState({onScrollCapture:x0,onWheelCapture:x0,onTouchMoveCapture:x0}),r=s[0],i=s[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,y=t.noRelative,A=t.noIsolation,w=t.inert,j=t.allowPinchZoom,S=t.as,T=S===void 0?"div":S,N=t.gapMode,D=ck(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=v,$=eK([n,e]),R=Wr(Wr({},D),r);return x.createElement(x.Fragment,null,m&&x.createElement(F,{sideCar:dk,removeScrollBar:h,shards:g,noRelative:y,noIsolation:A,inert:w,setCallbacks:i,allowPinchZoom:!!j,lockRef:n,gapMode:N}),l?x.cloneElement(x.Children.only(c),Wr(Wr({},R),{ref:$})):x.createElement(T,Wr({},R,{className:d,ref:$}),c))});Pv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pv.classNames={fullWidth:fp,zeroRight:hp};var iK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iK();return e&&t.setAttribute("nonce",e),t}function oK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function lK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aK())&&(oK(e,n),lK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uK=function(){var t=cK();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},hk=function(){var t=uK(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},dK={left:0,top:0,right:0,gap:0},b0=function(t){return parseInt(t||"",10)||0},hK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[b0(n),b0(s),b0(r)]},fK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return dK;var e=hK(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},mK=hk(),Gc="data-scroll-locked",pK=function(t,e,n,s){var r=t.left,i=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(YW,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(Gc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hp,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(fp,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(fp," .").concat(fp,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Gc,`] {
    `).concat(QW,": ").concat(c,`px;
  }
`)},HN=function(){var t=parseInt(document.body.getAttribute(Gc)||"0",10);return isFinite(t)?t:0},gK=function(){x.useEffect(function(){return document.body.setAttribute(Gc,(HN()+1).toString()),function(){var t=HN()-1;t<=0?document.body.removeAttribute(Gc):document.body.setAttribute(Gc,t.toString())}},[])},vK=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;gK();var i=x.useMemo(function(){return fK(r)},[r]);return x.createElement(mK,{styles:pK(i,!e,r,n?"":"!important")})},fx=!1;if(typeof window<"u")try{var Vm=Object.defineProperty({},"passive",{get:function(){return fx=!0,!0}});window.addEventListener("test",Vm,Vm),window.removeEventListener("test",Vm,Vm)}catch{fx=!1}var oc=fx?{passive:!1}:!1,yK=function(t){return t.tagName==="TEXTAREA"},fk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yK(t)&&n[e]==="visible")},_K=function(t){return fk(t,"overflowY")},xK=function(t){return fk(t,"overflowX")},$N=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=mk(t,s);if(r){var i=pk(t,s),l=i[1],c=i[2];if(l>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},bK=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},wK=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},mk=function(t,e){return t==="v"?_K(e):xK(e)},pk=function(t,e){return t==="v"?bK(e):wK(e)},SK=function(t,e){return t==="h"&&e==="rtl"?-1:1},EK=function(t,e,n,s,r){var i=SK(t,window.getComputedStyle(e).direction),l=i*s,c=n.target,d=e.contains(c),h=!1,m=l>0,g=0,v=0;do{if(!c)break;var y=pk(t,c),A=y[0],w=y[1],j=y[2],S=w-j-i*A;(A||S)&&mk(t,c)&&(g+=S,v+=A);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(h=!0),h},zm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qN=function(t){return[t.deltaX,t.deltaY]},GN=function(t){return t&&"current"in t?t.current:t},TK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},NK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AK=0,lc=[];function jK(t){var e=x.useRef([]),n=x.useRef([0,0]),s=x.useRef(),r=x.useState(AK++)[0],i=x.useState(hk)[0],l=x.useRef(t);x.useEffect(function(){l.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var w=ZW([t.lockRef.current],(t.shards||[]).map(GN),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=x.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var S=zm(w),T=n.current,N="deltaX"in w?w.deltaX:T[0]-S[0],D="deltaY"in w?w.deltaY:T[1]-S[1],F,$=w.target,R=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in w&&R==="h"&&$.type==="range")return!1;var P=$N(R,$);if(!P)return!0;if(P?F=R:(F=R==="v"?"h":"v",P=$N(R,$)),!P)return!1;if(!s.current&&"changedTouches"in w&&(N||D)&&(s.current=F),!F)return!0;var U=s.current||F;return EK(U,j,w,U==="h"?N:D)},[]),d=x.useCallback(function(w){var j=w;if(!(!lc.length||lc[lc.length-1]!==i)){var S="deltaY"in j?qN(j):zm(j),T=e.current.filter(function(F){return F.name===j.type&&(F.target===j.target||j.target===F.shadowParent)&&TK(F.delta,S)})[0];if(T&&T.should){j.cancelable&&j.preventDefault();return}if(!T){var N=(l.current.shards||[]).map(GN).filter(Boolean).filter(function(F){return F.contains(j.target)}),D=N.length>0?c(j,N[0]):!l.current.noIsolation;D&&j.cancelable&&j.preventDefault()}}},[]),h=x.useCallback(function(w,j,S,T){var N={name:w,delta:j,target:S,should:T,shadowParent:CK(S)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),m=x.useCallback(function(w){n.current=zm(w),s.current=void 0},[]),g=x.useCallback(function(w){h(w.type,qN(w),w.target,c(w,t.lockRef.current))},[]),v=x.useCallback(function(w){h(w.type,zm(w),w.target,c(w,t.lockRef.current))},[]);x.useEffect(function(){return lc.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",d,oc),document.addEventListener("touchmove",d,oc),document.addEventListener("touchstart",m,oc),function(){lc=lc.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,oc),document.removeEventListener("touchmove",d,oc),document.removeEventListener("touchstart",m,oc)}},[]);var y=t.removeScrollBar,A=t.inert;return x.createElement(x.Fragment,null,A?x.createElement(i,{styles:NK(r)}):null,y?x.createElement(vK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function CK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const RK=rK(dk,jK);var Iv=x.forwardRef(function(t,e){return x.createElement(Pv,Wr({},t,{ref:e,sideCar:RK}))});Iv.classNames=Pv.classNames;var mx=["Enter"," "],PK=["ArrowDown","PageUp","Home"],gk=["ArrowUp","PageDown","End"],IK=[...PK,...gk],kK={ltr:[...mx,"ArrowRight"],rtl:[...mx,"ArrowLeft"]},MK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Of="Menu",[Wh,OK,DK]=jv(Of),[Cl,vk]=ms(Of,[DK,Iu,Rv]),kv=Iu(),yk=Rv(),[LK,Rl]=Cl(Of),[UK,Df]=Cl(Of),_k=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:i,modal:l=!0}=t,c=kv(e),[d,h]=x.useState(null),m=x.useRef(!1),g=gn(i),v=Hu(r);return x.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),a.jsx(EC,{...c,children:a.jsx(LK,{scope:e,open:n,onOpenChange:g,content:d,onContentChange:h,children:a.jsx(UK,{scope:e,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:l,children:s})})})};_k.displayName=Of;var VK="MenuAnchor",Xw=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=kv(n);return a.jsx(Bb,{...r,...s,ref:e})});Xw.displayName=VK;var Jw="MenuPortal",[zK,xk]=Cl(Jw,{forceMount:void 0}),bk=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,i=Rl(Jw,e);return a.jsx(zK,{scope:e,forceMount:n,children:a.jsx(ps,{present:n||i.open,children:a.jsx(ev,{asChild:!0,container:r,children:s})})})};bk.displayName=Jw;var ar="MenuContent",[BK,e1]=Cl(ar),wk=x.forwardRef((t,e)=>{const n=xk(ar,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Rl(ar,t.__scopeMenu),l=Df(ar,t.__scopeMenu);return a.jsx(Wh.Provider,{scope:t.__scopeMenu,children:a.jsx(ps,{present:s||i.open,children:a.jsx(Wh.Slot,{scope:t.__scopeMenu,children:l.modal?a.jsx(FK,{...r,ref:e}):a.jsx(HK,{...r,ref:e})})})})}),FK=x.forwardRef((t,e)=>{const n=Rl(ar,t.__scopeMenu),s=x.useRef(null),r=Le(e,s);return x.useEffect(()=>{const i=s.current;if(i)return Qw(i)},[]),a.jsx(t1,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:me(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),HK=x.forwardRef((t,e)=>{const n=Rl(ar,t.__scopeMenu);return a.jsx(t1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$K=cl("MenuContent.ScrollLock"),t1=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:y,disableOutsideScroll:A,...w}=t,j=Rl(ar,n),S=Df(ar,n),T=kv(n),N=yk(n),D=OK(n),[F,$]=x.useState(null),R=x.useRef(null),P=Le(e,R,j.onContentChange),U=x.useRef(0),I=x.useRef(""),O=x.useRef(0),k=x.useRef(null),V=x.useRef("right"),J=x.useRef(0),ue=A?Iv:x.Fragment,G=A?{as:$K,allowPinchZoom:!0}:void 0,ee=q=>{const X=I.current+q,le=D().filter(re=>!re.disabled),W=document.activeElement,de=le.find(re=>re.ref.current===W)?.textValue,oe=le.map(re=>re.textValue),fe=nZ(oe,X,de),pe=le.find(re=>re.textValue===fe)?.ref.current;(function re(Oe){I.current=Oe,window.clearTimeout(U.current),Oe!==""&&(U.current=window.setTimeout(()=>re(""),1e3))})(X),pe&&setTimeout(()=>pe.focus())};x.useEffect(()=>()=>window.clearTimeout(U.current),[]),Yw();const B=x.useCallback(q=>V.current===k.current?.side&&rZ(q,k.current?.area),[]);return a.jsx(BK,{scope:n,searchRef:I,onItemEnter:x.useCallback(q=>{B(q)&&q.preventDefault()},[B]),onItemLeave:x.useCallback(q=>{B(q)||(R.current?.focus(),$(null))},[B]),onTriggerLeave:x.useCallback(q=>{B(q)&&q.preventDefault()},[B]),pointerGraceTimerRef:O,onPointerGraceIntentChange:x.useCallback(q=>{k.current=q},[]),children:a.jsx(ue,{...G,children:a.jsx(Cv,{asChild:!0,trapped:r,onMountAutoFocus:me(i,q=>{q.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:a.jsx(vf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:y,children:a.jsx(ak,{asChild:!0,...N,dir:S.dir,orientation:"vertical",loop:s,currentTabStopId:F,onCurrentTabStopIdChange:$,onEntryFocus:me(d,q=>{S.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Fb,{role:"menu","aria-orientation":"vertical","data-state":Uk(j.open),"data-radix-menu-content":"",dir:S.dir,...T,...w,ref:P,style:{outline:"none",...w.style},onKeyDown:me(w.onKeyDown,q=>{const le=q.target.closest("[data-radix-menu-content]")===q.currentTarget,W=q.ctrlKey||q.altKey||q.metaKey,de=q.key.length===1;le&&(q.key==="Tab"&&q.preventDefault(),!W&&de&&ee(q.key));const oe=R.current;if(q.target!==oe||!IK.includes(q.key))return;q.preventDefault();const pe=D().filter(re=>!re.disabled).map(re=>re.ref.current);gk.includes(q.key)&&pe.reverse(),eZ(pe)}),onBlur:me(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(U.current),I.current="")}),onPointerMove:me(t.onPointerMove,Kh(q=>{const X=q.target,le=J.current!==q.clientX;if(q.currentTarget.contains(X)&&le){const W=q.clientX>J.current?"right":"left";V.current=W,J.current=q.clientX}}))})})})})})})});wk.displayName=ar;var qK="MenuGroup",n1=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return a.jsx(be.div,{role:"group",...s,ref:e})});n1.displayName=qK;var GK="MenuLabel",Sk=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return a.jsx(be.div,{...s,ref:e})});Sk.displayName=GK;var Sg="MenuItem",WN="menu.itemSelect",Mv=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,i=x.useRef(null),l=Df(Sg,t.__scopeMenu),c=e1(Sg,t.__scopeMenu),d=Le(e,i),h=x.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(WN,{bubbles:!0,cancelable:!0});g.addEventListener(WN,y=>s?.(y),{once:!0}),eC(g,v),v.defaultPrevented?h.current=!1:l.onClose()}};return a.jsx(Ek,{...r,ref:d,disabled:n,onClick:me(t.onClick,m),onPointerDown:g=>{t.onPointerDown?.(g),h.current=!0},onPointerUp:me(t.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:me(t.onKeyDown,g=>{const v=c.searchRef.current!=="";n||v&&g.key===" "||mx.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Mv.displayName=Sg;var Ek=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=t,l=e1(Sg,n),c=yk(n),d=x.useRef(null),h=Le(e,d),[m,g]=x.useState(!1),[v,y]=x.useState("");return x.useEffect(()=>{const A=d.current;A&&y((A.textContent??"").trim())},[i.children]),a.jsx(Wh.ItemSlot,{scope:n,disabled:s,textValue:r??v,children:a.jsx(ok,{asChild:!0,...c,focusable:!s,children:a.jsx(be.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:h,onPointerMove:me(t.onPointerMove,Kh(A=>{s?l.onItemLeave(A):(l.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(t.onPointerLeave,Kh(A=>l.onItemLeave(A))),onFocus:me(t.onFocus,()=>g(!0)),onBlur:me(t.onBlur,()=>g(!1))})})})}),WK="MenuCheckboxItem",Tk=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return a.jsx(Rk,{scope:t.__scopeMenu,checked:n,children:a.jsx(Mv,{role:"menuitemcheckbox","aria-checked":Eg(n)?"mixed":n,...r,ref:e,"data-state":r1(n),onSelect:me(r.onSelect,()=>s?.(Eg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Tk.displayName=WK;var Nk="MenuRadioGroup",[KK,ZK]=Cl(Nk,{value:void 0,onValueChange:()=>{}}),Ak=x.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,i=gn(s);return a.jsx(KK,{scope:t.__scopeMenu,value:n,onValueChange:i,children:a.jsx(n1,{...r,ref:e})})});Ak.displayName=Nk;var jk="MenuRadioItem",Ck=x.forwardRef((t,e)=>{const{value:n,...s}=t,r=ZK(jk,t.__scopeMenu),i=n===r.value;return a.jsx(Rk,{scope:t.__scopeMenu,checked:i,children:a.jsx(Mv,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":r1(i),onSelect:me(s.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Ck.displayName=jk;var s1="MenuItemIndicator",[Rk,YK]=Cl(s1,{checked:!1}),Pk=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,i=YK(s1,n);return a.jsx(ps,{present:s||Eg(i.checked)||i.checked===!0,children:a.jsx(be.span,{...r,ref:e,"data-state":r1(i.checked)})})});Pk.displayName=s1;var QK="MenuSeparator",Ik=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return a.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});Ik.displayName=QK;var XK="MenuArrow",kk=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=kv(n);return a.jsx(Hb,{...r,...s,ref:e})});kk.displayName=XK;var JK="MenuSub",[GJ,Mk]=Cl(JK),Ud="MenuSubTrigger",Ok=x.forwardRef((t,e)=>{const n=Rl(Ud,t.__scopeMenu),s=Df(Ud,t.__scopeMenu),r=Mk(Ud,t.__scopeMenu),i=e1(Ud,t.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:t.__scopeMenu},m=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),d(null)}},[c,d]),a.jsx(Xw,{asChild:!0,...h,children:a.jsx(Ek,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Uk(n.open),...t,ref:Zg(e,r.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:me(t.onPointerMove,Kh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:me(t.onPointerLeave,Kh(g=>{m();const v=n.content?.getBoundingClientRect();if(v){const y=n.content?.dataset.side,A=y==="right",w=A?-5:5,j=v[A?"left":"right"],S=v[A?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+w,y:g.clientY},{x:j,y:v.top},{x:S,y:v.top},{x:S,y:v.bottom},{x:j,y:v.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:me(t.onKeyDown,g=>{const v=i.searchRef.current!=="";t.disabled||v&&g.key===" "||kK[s.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});Ok.displayName=Ud;var Dk="MenuSubContent",Lk=x.forwardRef((t,e)=>{const n=xk(ar,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Rl(ar,t.__scopeMenu),l=Df(ar,t.__scopeMenu),c=Mk(Dk,t.__scopeMenu),d=x.useRef(null),h=Le(e,d);return a.jsx(Wh.Provider,{scope:t.__scopeMenu,children:a.jsx(ps,{present:s||i.open,children:a.jsx(Wh.Slot,{scope:t.__scopeMenu,children:a.jsx(t1,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:me(t.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:me(t.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:me(t.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),v=MK[l.dir].includes(m.key);g&&v&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});Lk.displayName=Dk;function Uk(t){return t?"open":"closed"}function Eg(t){return t==="indeterminate"}function r1(t){return Eg(t)?"indeterminate":t?"checked":"unchecked"}function eZ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function tZ(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function nZ(t,e,n){const r=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=tZ(t,Math.max(i,0));r.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(r.toLowerCase()));return d!==n?d:void 0}function sZ(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,l=e.length-1;i<e.length;l=i++){const c=e[i],d=e[l],h=c.x,m=c.y,g=d.x,v=d.y;m>s!=v>s&&n<(g-h)*(s-m)/(v-m)+h&&(r=!r)}return r}function rZ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return sZ(n,e)}function Kh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var iZ=_k,aZ=Xw,oZ=bk,lZ=wk,cZ=n1,uZ=Sk,dZ=Mv,hZ=Tk,fZ=Ak,mZ=Ck,pZ=Pk,gZ=Ik,vZ=kk,yZ=Ok,_Z=Lk,Ov="DropdownMenu",[xZ,WJ]=ms(Ov,[vk]),Kn=vk(),[bZ,Vk]=xZ(Ov),zk=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=Kn(e),h=x.useRef(null),[m,g]=ao({prop:r,defaultProp:i??!1,onChange:l,caller:Ov});return a.jsx(bZ,{scope:e,triggerId:Jr(),triggerRef:h,contentId:Jr(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:c,children:a.jsx(iZ,{...d,open:m,onOpenChange:g,dir:s,modal:c,children:n})})};zk.displayName=Ov;var Bk="DropdownMenuTrigger",Fk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,i=Vk(Bk,n),l=Kn(n);return a.jsx(aZ,{asChild:!0,...l,children:a.jsx(be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Zg(e,i.triggerRef),onPointerDown:me(t.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:me(t.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Fk.displayName=Bk;var wZ="DropdownMenuPortal",Hk=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Kn(e);return a.jsx(oZ,{...s,...n})};Hk.displayName=wZ;var $k="DropdownMenuContent",qk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Vk($k,n),i=Kn(n),l=x.useRef(!1);return a.jsx(lZ,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:e,onCloseAutoFocus:me(t.onCloseAutoFocus,c=>{l.current||r.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:me(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!r.modal||m)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qk.displayName=$k;var SZ="DropdownMenuGroup",EZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(cZ,{...r,...s,ref:e})});EZ.displayName=SZ;var TZ="DropdownMenuLabel",Gk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(uZ,{...r,...s,ref:e})});Gk.displayName=TZ;var NZ="DropdownMenuItem",Wk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(dZ,{...r,...s,ref:e})});Wk.displayName=NZ;var AZ="DropdownMenuCheckboxItem",Kk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(hZ,{...r,...s,ref:e})});Kk.displayName=AZ;var jZ="DropdownMenuRadioGroup",CZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(fZ,{...r,...s,ref:e})});CZ.displayName=jZ;var RZ="DropdownMenuRadioItem",Zk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(mZ,{...r,...s,ref:e})});Zk.displayName=RZ;var PZ="DropdownMenuItemIndicator",Yk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(pZ,{...r,...s,ref:e})});Yk.displayName=PZ;var IZ="DropdownMenuSeparator",Qk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(gZ,{...r,...s,ref:e})});Qk.displayName=IZ;var kZ="DropdownMenuArrow",MZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(vZ,{...r,...s,ref:e})});MZ.displayName=kZ;var OZ="DropdownMenuSubTrigger",Xk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(yZ,{...r,...s,ref:e})});Xk.displayName=OZ;var DZ="DropdownMenuSubContent",Jk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Kn(n);return a.jsx(_Z,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jk.displayName=DZ;var LZ=zk,UZ=Fk,VZ=Hk,eM=qk,tM=Gk,nM=Wk,sM=Kk,rM=Zk,iM=Yk,aM=Qk,oM=Xk,lM=Jk;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cM=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...BZ,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:cM("lucide",r),...c},[...l.map(([h,m])=>x.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=x.forwardRef(({className:s,...r},i)=>x.createElement(FZ,{ref:i,iconNode:e,className:cM(`lucide-${zZ(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=ge("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=ge("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=ge("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=ge("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=ge("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=ge("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ge("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=ge("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ge("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ge("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=ge("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=ge("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=ge("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ge("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=ge("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=ge("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ph=LZ,gh=UZ,yY=x.forwardRef(({className:t,inset:e,children:n,...s},r)=>a.jsxs(oM,{ref:r,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,a.jsx(WZ,{className:"ml-auto h-4 w-4"})]}));yY.displayName=oM.displayName;const _Y=x.forwardRef(({className:t,...e},n)=>a.jsx(lM,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));_Y.displayName=lM.displayName;const Yc=x.forwardRef(({className:t,sideOffset:e=4,...n},s)=>a.jsx(VZ,{children:a.jsx(eM,{ref:s,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Yc.displayName=eM.displayName;const zt=x.forwardRef(({className:t,inset:e,...n},s)=>a.jsx(nM,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));zt.displayName=nM.displayName;const xY=x.forwardRef(({className:t,children:e,checked:n,...s},r)=>a.jsxs(sM,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(iM,{children:a.jsx(dM,{className:"h-4 w-4"})})}),e]}));xY.displayName=sM.displayName;const bY=x.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(rM,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(iM,{children:a.jsx(QZ,{className:"h-2 w-2 fill-current"})})}),e]}));bY.displayName=rM.displayName;const Qh=x.forwardRef(({className:t,inset:e,...n},s)=>a.jsx(tM,{ref:s,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Qh.displayName=tM.displayName;const La=x.forwardRef(({className:t,...e},n)=>a.jsx(aM,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));La.displayName=aM.displayName;const zo=({children:t})=>{const[e,n]=x.useState(!1),s=Pg(),r=Jh(),{currentUser:i,userProfile:l,logout:c}=Fu(),{isAdmin:d}=kf(),h=[{name:"Dashboard",href:"/dashboard",icon:pp},{name:"Predictions",href:"/predictions",icon:mh},{name:"Alerts",href:"/alerts",icon:Nt},{name:"Reports",href:"/reports",icon:Wn},{name:"Assessment",href:"/assessment",icon:Dv},{name:"Planning",href:"/planning",icon:Ln},...d?[{name:"Admin Panel",href:"/admin",icon:Zh}]:[]],m=async()=>{await c(),r("/")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50",children:[e&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),a.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-green-100 to-teal-200 text-gray-100 backdrop-blur-xl shadow-lg border-r border-blue-100 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-blue-100 bg-gradient-to-r from-green-100 to-teal-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:"/favicon.svg",alt:"JalRakshak Logo",className:"w-10 h-10"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Flood Warning System"})]})]}),a.jsx(ae,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:a.jsx(Vv,{className:"w-5 h-5"})})]}),a.jsxs("nav",{className:"mt-6 px-3",children:[a.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-100 to-teal-100 rounded-xl border border-blue-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(dh,{className:"w-10 h-10 ring-2 ring-blue-300",children:[a.jsx(hh,{src:i?.photoURL||""}),a.jsx(fh,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white font-bold",children:l?.displayName?.split(" ").map(g=>g[0]).join("")||"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Welcome back!"}),a.jsx("p",{className:"text-xs text-blue-700 truncate",children:l?.displayName||"User"})]}),a.jsxs(ae,{onClick:()=>r("/profile"),size:"sm",variant:"ghost",className:"bg-blue-200 hover:bg-blue-300 text-blue-800 rounded-full p-2 relative",children:[a.jsx(yx,{className:"w-4 h-4"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})]})}),h.map(g=>{const v=s.pathname===g.href;return a.jsxs(m4,{to:g.href,className:`
                  flex items-center px-3 py-3 mb-2 rounded-xl transition-all duration-200
                  ${v?"bg-gradient-to-r from-blue-400 to-teal-400 text-gray-800 shadow-md shadow-blue-400/30":"text-gray-700 hover:bg-gradient-to-r hover:from-blue-100 hover:to-teal-100 hover:text-gray-800"}
                `,onClick:()=>n(!1),children:[a.jsx(g.icon,{className:"w-5 h-5 mr-3"}),a.jsx("span",{className:"font-medium",children:g.name})]},g.name)})]}),a.jsx("div",{className:"absolute bottom-20 left-3 right-3",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-2 border-blue-200 rounded-xl p-4 shadow-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(dh,{className:"w-12 h-12 ring-2 ring-blue-300",children:[a.jsx(hh,{src:i?.photoURL||""}),a.jsx(fh,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-lg font-bold",children:l?.displayName?.split(" ").map(g=>g[0]).join("")||"U"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-blue-900 truncate",children:l?.displayName||"User"}),a.jsx("p",{className:"text-xs text-blue-700 truncate",children:l?.email}),a.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs mt-1",children:l?.role?.replace("_"," ").toUpperCase()||"USER"})]}),a.jsxs(ph,{children:[a.jsx(gh,{asChild:!0,children:a.jsx(ae,{variant:"ghost",size:"sm",className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full border border-blue-300",children:a.jsx(Tg,{className:"w-4 h-4 text-blue-700"})})}),a.jsxs(Yc,{align:"end",className:"w-48",children:[a.jsx(Qh,{className:"text-blue-900 font-semibold",children:"My Account"}),a.jsx(La,{}),a.jsxs(zt,{onClick:()=>r("/profile"),className:"hover:bg-blue-50",children:[a.jsx(bu,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),a.jsxs(zt,{className:"hover:bg-blue-50",children:[a.jsx(Wc,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),a.jsxs(zt,{className:"hover:bg-blue-50",children:[a.jsx(yx,{className:"w-4 h-4 mr-2 text-blue-600"}),"Preferences"]}),a.jsx(La,{}),a.jsxs(zt,{onClick:m,className:"text-red-600 hover:bg-red-50",children:[a.jsx(YN,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})})}),a.jsx("div",{className:"absolute bottom-6 left-3 right-3",children:a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(vn,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"font-semibold text-green-800",children:"System Status"})]}),a.jsx(Me,{variant:"secondary",className:"bg-green-100 text-green-700 hover:bg-green-100",children:"All Systems Operational"})]})})]}),a.jsxs("div",{className:"lg:pl-64",children:[a.jsxs("div",{className:"lg:hidden flex items-center justify-between h-16 px-4 bg-white/80 backdrop-blur-xl border-b border-blue-100",children:[a.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>n(!0),children:a.jsx(iY,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(i1,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"font-bold text-blue-600",children:"JalRakshak"})]}),a.jsxs(ph,{children:[a.jsx(gh,{asChild:!0,children:a.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 border-2 border-blue-200 rounded-full p-1 cursor-pointer hover:bg-blue-100 transition-colors",children:[a.jsxs(dh,{className:"w-8 h-8 ring-2 ring-blue-300",children:[a.jsx(hh,{src:i?.photoURL||""}),a.jsx(fh,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-sm font-bold",children:l?.displayName?.split(" ").map(g=>g[0]).join("")||"U"})]}),a.jsx(Tg,{className:"w-3 h-3 text-blue-600 mr-1"})]})}),a.jsxs(Yc,{align:"end",className:"w-48",children:[a.jsxs(Qh,{className:"text-blue-900 font-semibold",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{children:"My Account"})}),a.jsx("div",{className:"text-xs text-blue-600 font-normal truncate",children:l?.displayName||"User"})]}),a.jsx(La,{}),a.jsxs(zt,{onClick:()=>r("/profile"),className:"hover:bg-blue-50",children:[a.jsx(bu,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),a.jsxs(zt,{className:"hover:bg-blue-50",children:[a.jsx(Wc,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),d&&a.jsxs(a.Fragment,{children:[a.jsx(La,{}),a.jsxs(zt,{onClick:()=>r("/admin"),className:"hover:bg-purple-50",children:[a.jsx(Zh,{className:"w-4 h-4 mr-2 text-purple-600"}),"Admin Panel"]})]}),a.jsx(La,{}),a.jsxs(zt,{onClick:m,className:"text-red-600 hover:bg-red-50",children:[a.jsx(YN,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]}),a.jsx("main",{className:"p-6",children:t})]})]})},Bo=({children:t})=>{const{currentUser:e,loading:n}=Fu(),s=Pg();return console.log("ProtectedRoute currentUser:",e),n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto animate-pulse",children:a.jsx(vn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Os,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"}),a.jsx("p",{className:"text-slate-600",children:"Loading JalRakshak..."})]})]})}):e?a.jsx(a.Fragment,{children:t}):a.jsx(vp,{to:"/auth",state:{from:s},replace:!0})},Ft=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ft.displayName="Card";const Ht=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Ht.displayName="CardHeader";const $t=x.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));$t.displayName="CardTitle";const ls=x.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));ls.displayName="CardDescription";const Xt=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));Xt.displayName="CardContent";const wY=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));wY.displayName="CardFooter";const SY=({children:t})=>{const{user:e,loading:n,isAdmin:s}=Ww(),r=Pg();return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(Ft,{className:"w-full max-w-md",children:a.jsxs(Ht,{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Os,{className:"w-8 h-8 text-white animate-spin"})}),a.jsx($t,{children:"Loading Admin Panel"}),a.jsx(ls,{children:"Please wait while we verify your access..."})]})})}):e?s?a.jsx(a.Fragment,{children:t}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs(Ft,{className:"w-full max-w-md",children:[a.jsxs(Ht,{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Nt,{className:"w-10 h-10 text-white"})}),a.jsx($t,{children:"Access Denied"}),a.jsx(ls,{children:"You don't have permission to access the admin panel. Please contact an administrator if you believe this is an error."})]}),a.jsx(Xt,{className:"text-center",children:a.jsx(ae,{asChild:!0,className:"w-full",children:a.jsxs("a",{href:"/admin/signin",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Back to Admin Sign In"]})})})]})}):a.jsx(vp,{to:"/admin/signin",state:{from:r},replace:!0})},EY=()=>{const t=Jh(),[e]=x.useState({protectedAreas:1247,activeUsers:89456,alertsSent:23456,accuracyRate:94.7}),n=[{icon:Nt,title:"Early Warning System",description:"Get alerts up to 47 minutes before flooding occurs",color:"text-red-600 bg-red-100"},{icon:vn,title:"AI-Powered Predictions",description:"94.7% accuracy in flood risk assessment",color:"text-blue-600 bg-blue-100"},{icon:Wn,title:"Community Driven",description:"Real-time reports from local communities",color:"text-green-600 bg-green-100"},{icon:Uv,title:"Live Monitoring",description:"24/7 monitoring across Punjab and India",color:"text-purple-600 bg-purple-100"}],s=[{name:"Dr. Rajesh Kumar",role:"Disaster Management Officer",location:"Punjab State",text:"JalRakshak has revolutionized our flood response. The early warnings have saved countless lives.",avatar:""},{name:"Priya Sharma",role:"Community Leader",location:"Amritsar",text:"The mobile alerts reached us 30 minutes before flooding. We evacuated safely thanks to JalRakshak.",avatar:""},{name:"Captain Vikram Singh",role:"Emergency Response Team",location:"Ludhiana",text:"Real-time data and evacuation routes help us respond faster and more effectively.",avatar:""}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[a.jsx("nav",{className:"bg-white/80 backdrop-blur-xl border-b border-blue-100 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:a.jsx(vn,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ae,{variant:"ghost",onClick:()=>t("/auth?mode=login"),className:"text-slate-600 hover:text-blue-600",children:"Sign In"}),a.jsx(ae,{onClick:()=>t("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white",children:"Get Started"})]})]})})}),a.jsxs("section",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:a.jsxs("div",{className:"text-center space-y-8",children:[a.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700 px-4 py-2",children:" AI-Powered Flood Early Warning System"}),a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-slate-900 leading-tight",children:["Protecting Communities with",a.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-teal-500 to-green-500 bg-clip-text text-transparent",children:"Smart Flood Alerts"})]}),a.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed",children:"Advanced AI technology monitors water levels, weather patterns, and flood risks across India, providing life-saving early warnings to communities and emergency responders."}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-8",children:[a.jsxs(ae,{size:"lg",onClick:()=>t("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4 text-lg",children:["Start Protecting Your Community",a.jsx(px,{className:"w-5 h-5 ml-2"})]}),a.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=login"),className:"border-blue-200 text-blue-600 hover:bg-blue-50 px-8 py-4 text-lg",children:[a.jsx(vn,{className:"w-5 h-5 mr-2"}),"Sign In"]}),a.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/admin/signup"),className:"border-purple-200 text-purple-600 hover:bg-purple-50 px-8 py-4 text-lg",children:[a.jsx(Zh,{className:"w-5 h-5 mr-2"}),"Admin Signup"]}),a.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/admin/signin"),className:"border-purple-200 text-purple-600 hover:bg-purple-50 px-8 py-4 text-lg",children:[a.jsx(Zh,{className:"w-5 h-5 mr-2"}),"Admin Sign In"]}),a.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=demo"),className:"border-green-200 text-green-600 hover:bg-green-50 px-8 py-4 text-lg",children:[a.jsx(Us,{className:"w-5 h-5 mr-2"}),"View Live Demo"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 pt-16",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.protectedAreas.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Protected Areas"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.activeUsers.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Active Users"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e.alertsSent.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Alerts Sent"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[e.accuracyRate,"%"]}),a.jsx("div",{className:"text-sm text-slate-600",children:"Accuracy Rate"})]})]})]})}),a.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-200 rounded-full opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-48 h-48 bg-green-200 rounded-full opacity-20 animate-pulse delay-1000"})]}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center space-y-4 mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Why Choose JalRakshak?"}),a.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Advanced technology meets community-driven solutions for comprehensive flood protection"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((r,i)=>{const l=r.icon;return a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100",children:[a.jsx("div",{className:`w-12 h-12 ${r.color} rounded-xl flex items-center justify-center mb-4`,children:a.jsx(l,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:r.title}),a.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:r.description})]},i)})})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-teal-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center space-y-4 mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Trusted by Communities"}),a.jsx("p",{className:"text-xl text-slate-600",children:"Real stories from people who rely on JalRakshak"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((r,i)=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"text-3xl",children:r.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-slate-900",children:r.name}),a.jsx("div",{className:"text-sm text-slate-600",children:r.role}),a.jsx("div",{className:"text-xs text-blue-600",children:r.location})]})]}),a.jsxs("p",{className:"text-slate-700 italic",children:['"',r.text,'"']})]},i))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-teal-600",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Protect Your Community?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of communities already using JalRakshak for early flood warnings"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsxs(ae,{size:"lg",onClick:()=>t("/auth?mode=register"),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:[a.jsx(vn,{className:"w-5 h-5 mr-2"}),"Get Started Free"]}),a.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=contact"),className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg",children:[a.jsx(ir,{className:"w-5 h-5 mr-2"}),"Contact Emergency Team"]})]})]})}),a.jsx("footer",{className:"bg-slate-900 text-white py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:a.jsx(vn,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold",children:"JalRakshak"})]}),a.jsx("p",{className:"text-slate-400 text-sm",children:"AI-powered flood early warning system protecting communities across India."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Features"}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[a.jsx("li",{children:"Early Warning Alerts"}),a.jsx("li",{children:"Real-time Monitoring"}),a.jsx("li",{children:"Community Reports"}),a.jsx("li",{children:"Emergency Planning"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[a.jsx("li",{children:"Help Center"}),a.jsx("li",{children:"Emergency Contacts"}),a.jsx("li",{children:"Training Resources"}),a.jsx("li",{children:"API Documentation"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Emergency"}),a.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[a.jsx("li",{children:" National: 108"}),a.jsx("li",{children:" Punjab: 112"}),a.jsx("li",{children:" alerts@jalrakshak.in"}),a.jsx("li",{children:" Status: All Systems Up"})]})]})]}),a.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-sm text-slate-400",children:a.jsx("p",{children:" 2024 JalRakshak. Built for disaster resilience and community safety."})})]})})]})},Tn=x.forwardRef(({className:t,type:e,...n},s)=>a.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Tn.displayName="Input";var TY="Label",gM=x.forwardRef((t,e)=>a.jsx(be.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gM.displayName=TY;var vM=gM;const NY=Kw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=x.forwardRef(({className:t,...e},n)=>a.jsx(vM,{ref:n,className:Ee(NY(),t),...e}));Rt.displayName=vM.displayName;var zv="Tabs",[AY,KJ]=ms(zv,[Rv]),yM=Rv(),[jY,a1]=AY(zv),_M=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=t,m=Hu(c),[g,v]=ao({prop:s,onChange:r,defaultProp:i??"",caller:zv});return a.jsx(jY,{scope:n,baseId:Jr(),value:g,onValueChange:v,orientation:l,dir:m,activationMode:d,children:a.jsx(be.div,{dir:m,"data-orientation":l,...h,ref:e})})});_M.displayName=zv;var xM="TabsList",bM=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=a1(xM,n),l=yM(n);return a.jsx(ak,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:a.jsx(be.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});bM.displayName=xM;var wM="TabsTrigger",SM=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,l=a1(wM,n),c=yM(n),d=NM(l.baseId,s),h=AM(l.baseId,s),m=s===l.value;return a.jsx(ok,{asChild:!0,...c,focusable:!r,active:m,children:a.jsx(be.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...i,ref:e,onMouseDown:me(t.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?l.onValueChange(s):g.preventDefault()}),onKeyDown:me(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(s)}),onFocus:me(t.onFocus,()=>{const g=l.activationMode!=="manual";!m&&!r&&g&&l.onValueChange(s)})})})});SM.displayName=wM;var EM="TabsContent",TM=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...l}=t,c=a1(EM,n),d=NM(c.baseId,s),h=AM(c.baseId,s),m=s===c.value,g=x.useRef(m);return x.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),a.jsx(ps,{present:r||m,children:({present:v})=>a.jsx(be.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:v&&i})})});TM.displayName=EM;function NM(t,e){return`${t}-trigger-${e}`}function AM(t,e){return`${t}-content-${e}`}var CY=_M,jM=bM,CM=SM,RM=TM;const Bv=CY,Lf=x.forwardRef(({className:t,...e},n)=>a.jsx(jM,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Lf.displayName=jM.displayName;const Cs=x.forwardRef(({className:t,...e},n)=>a.jsx(CM,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Cs.displayName=CM.displayName;const ds=x.forwardRef(({className:t,...e},n)=>a.jsx(RM,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ds.displayName=RM.displayName;const RY=()=>{const t=Jh(),[e]=p4(),{login:n,register:s,loginWithGoogle:r,resetPassword:i,currentUser:l}=Fu(),[c,d]=x.useState(e.get("mode")||"login"),[h,m]=x.useState(!1),[g,v]=x.useState(!1),[y,A]=x.useState({email:"",password:"",confirmPassword:"",displayName:""});x.useEffect(()=>{l&&t("/dashboard")},[l,t]);const w=R=>{A({...y,[R.target.name]:R.target.value})},j=async R=>{if(R.preventDefault(),!y.email||!y.password){we.error("Please fill in all fields");return}v(!0);try{await n(y.email,y.password),t("/dashboard")}catch{}finally{v(!1)}},S=async R=>{if(R.preventDefault(),!y.email||!y.password||!y.displayName){we.error("Please fill in all fields");return}if(y.password!==y.confirmPassword){we.error("Passwords do not match");return}if(y.password.length<6){we.error("Password must be at least 6 characters");return}v(!0);try{await s(y.email,y.password,y.displayName),t("/dashboard")}catch{}finally{v(!1)}},T=async()=>{v(!0);try{await r(),t("/dashboard")}catch{}finally{v(!1)}},N=async()=>{if(!y.email){we.error("Please enter your email address");return}try{await i(y.email)}catch{}},D=R=>{let P=0;return R.length>=6&&P++,/[A-Z]/.test(R)&&P++,/[0-9]/.test(R)&&P++,/[^A-Za-z0-9]/.test(R)&&P++,P},F=R=>R<=1?"bg-red-500":R<=2?"bg-yellow-500":R<=3?"bg-blue-500":"bg-green-500",$=R=>R<=1?"Weak":R<=2?"Fair":R<=3?"Good":"Strong";return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-lg",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(ae,{variant:"ghost",onClick:()=>t("/"),className:"mb-4 text-slate-600 hover:text-blue-600",children:[a.jsx(uM,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-teal-600 rounded-xl flex items-center justify-center",children:a.jsx(vn,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),a.jsx("p",{className:"text-slate-600",children:"Join the community protecting lives from floods"})]}),a.jsxs(Ft,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[a.jsxs(Ht,{className:"text-center space-y-2",children:[a.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700 w-fit mx-auto",children:" Secure Authentication"}),a.jsx($t,{className:"text-2xl text-slate-900",children:c==="login"?"Welcome Back":"Create Account"}),a.jsx(ls,{children:c==="login"?"Sign in to access your flood monitoring dashboard":"Join thousands protecting their communities"})]}),a.jsxs(Xt,{children:[a.jsxs(Bv,{value:c,onValueChange:d,children:[a.jsxs(Lf,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsx(Cs,{value:"login",children:"Sign In"}),a.jsx(Cs,{value:"register",children:"Sign Up"})]}),a.jsxs(ae,{onClick:T,disabled:g,className:"w-full mb-6 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 shadow-sm",children:[g?a.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(ZZ,{className:"w-4 h-4 mr-2"}),"Continue with Google"]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with email"})})]}),a.jsx(ds,{value:"login",className:"space-y-4",children:a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx(Tn,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:y.email,onChange:w,className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx(Tn,{id:"password",name:"password",type:h?"text":"password",placeholder:"Enter your password",value:y.password,onChange:w,className:"pl-10 pr-10",required:!0}),a.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!h),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:h?a.jsx(xu,{className:"w-4 h-4 text-gray-400"}):a.jsx(Us,{className:"w-4 h-4 text-gray-400"})})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(ae,{type:"button",variant:"link",onClick:N,className:"px-0 text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})}),a.jsxs(ae,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[g?a.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(or,{className:"w-4 h-4 mr-2"}),"Sign In"]})]})}),a.jsx(ds,{value:"register",className:"space-y-4",children:a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"displayName",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(bu,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx(Tn,{id:"displayName",name:"displayName",type:"text",placeholder:"Enter your full name",value:y.displayName,onChange:w,className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx(Tn,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:y.email,onChange:w,className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx(Tn,{id:"password",name:"password",type:h?"text":"password",placeholder:"Create a strong password",value:y.password,onChange:w,className:"pl-10 pr-10",required:!0}),a.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!h),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:h?a.jsx(xu,{className:"w-4 h-4 text-gray-400"}):a.jsx(Us,{className:"w-4 h-4 text-gray-400"})})]}),y.password&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${F(D(y.password))}`,style:{width:`${D(y.password)/4*100}%`}})}),a.jsx("span",{className:"text-xs text-gray-500",children:$(D(y.password))})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),a.jsx(Tn,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:y.confirmPassword,onChange:w,className:"pl-10",required:!0}),y.confirmPassword&&a.jsx("div",{className:"absolute right-3 top-3",children:y.password===y.confirmPassword?a.jsx(or,{className:"w-4 h-4 text-green-500"}):a.jsx(Nt,{className:"w-4 h-4 text-red-500"})})]})]}),a.jsxs(ae,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[g?a.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(vn,{className:"w-4 h-4 mr-2"}),"Create Account"]})]})})]}),a.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Your data is encrypted and secure."})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-sm font-semibold text-red-800",children:"Emergency Access"})]}),a.jsx("p",{className:"text-xs text-red-700 mb-2",children:"In case of emergency, call 108 immediately"}),a.jsx(ae,{variant:"outline",size:"sm",onClick:()=>window.open("tel:108","_self"),className:"border-red-300 text-red-700 hover:bg-red-50",children:" Call Emergency Services"})]})})]})})},tA=()=>{const t=Jh(),e=Pg(),{signUp:n,signIn:s,resetPassword:r,user:i,loading:l,isAdmin:c}=kf(),d=e.pathname==="/admin/signup",[h,m]=x.useState(d?"signup":"signin"),[g,v]=x.useState(!1),[y,A]=x.useState(!1),[w,j]=x.useState({email:"",password:"",confirmPassword:"",fullName:""});x.useEffect(()=>{i&&!l&&c!==void 0&&(c?t("/admin"):i&&t("/dashboard"))},[i,c,l,t]);const S=$=>{j({...w,[$.target.name]:$.target.value})},T=async $=>{if($.preventDefault(),!w.email||!w.password){we.error("Please fill in all fields");return}A(!0);try{const{user:R,error:P}=await s(w.email,w.password);if(!P&&R){const{data:U}=await it.from("user_profiles").select("role").eq("id",R.id).single();U?.role==="admin"?t("/admin"):t("/dashboard")}}catch{}finally{A(!1)}},N=async $=>{if($.preventDefault(),!w.email||!w.password||!w.fullName){we.error("Please fill in all fields");return}if(w.password!==w.confirmPassword){we.error("Passwords do not match");return}if(w.password.length<6){we.error("Password must be at least 6 characters");return}A(!0);try{const{user:R,error:P}=await n(w.email,w.password,{full_name:w.fullName});!P&&R&&(we.success("Admin account created! Please check your email to verify your account before signing in."),t("/admin/signin"))}catch{}finally{A(!1)}},D=async $=>{if($.preventDefault(),!w.email){we.error("Please enter your email address");return}A(!0);try{await r(w.email)}catch{}finally{A(!1)}},F=[{icon:vn,title:"Secure Authentication",description:"Enterprise-grade security with Supabase Auth",color:"text-blue-600 bg-blue-100"},{icon:or,title:"Email Verification",description:"Secure account verification via email",color:"text-green-600 bg-green-100"},{icon:Nt,title:"Password Recovery",description:"Easy password reset functionality",color:"text-orange-600 bg-orange-100"}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center",children:a.jsx(vn,{className:"w-6 h-6 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"JalRakshak"})]}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Secure Access to Your Account"}),a.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:"Sign in to access your personalized flood monitoring dashboard, emergency alerts, and community features."})]}),a.jsx("div",{className:"space-y-6",children:F.map(($,R)=>a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${$.color}`,children:a.jsx($.icon,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:$.title}),a.jsx("p",{className:"text-slate-600 text-sm",children:$.description})]})]},R))}),a.jsx("div",{className:"text-center lg:text-left",children:a.jsxs(ae,{variant:"outline",onClick:()=>t("/"),className:"gap-2",children:[a.jsx(uM,{className:"w-4 h-4"}),"Back to Home"]})})]}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs(Ft,{className:"w-full max-w-md shadow-xl",children:[a.jsxs(Ht,{className:"text-center space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(Zh,{className:"w-6 h-6 text-purple-600"}),a.jsx($t,{className:"text-2xl font-bold",children:"Admin Access"})]}),a.jsx(ls,{children:"Sign in to your admin account or create a new admin account"})]}),a.jsx(Xt,{children:a.jsxs(Bv,{value:h,onValueChange:m,className:"space-y-6",children:[a.jsxs(Lf,{className:"grid w-full grid-cols-2",children:[a.jsx(Cs,{value:"signin",children:"Sign In"}),a.jsx(Cs,{value:"signup",children:"Sign Up"})]}),a.jsxs(ds,{value:"signin",className:"space-y-4",children:[a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),a.jsx(Tn,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:w.email,onChange:S,className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),a.jsx(Tn,{id:"password",name:"password",type:g?"text":"password",placeholder:"Enter your password",value:w.password,onChange:S,className:"pl-10 pr-10",required:!0}),a.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g?a.jsx(xu,{className:"w-4 h-4"}):a.jsx(Us,{className:"w-4 h-4"})})]})]}),a.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing In..."]}):a.jsxs(a.Fragment,{children:["Sign In",a.jsx(px,{className:"w-4 h-4 ml-2"})]})})]}),a.jsx("div",{className:"text-center",children:a.jsx(ae,{variant:"link",onClick:()=>m("reset"),className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot your password?"})})]}),a.jsx(ds,{value:"signup",className:"space-y-4",children:a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"fullName",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(bu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),a.jsx(Tn,{id:"fullName",name:"fullName",type:"text",placeholder:"Enter your full name",value:w.fullName,onChange:S,className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"signup-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),a.jsx(Tn,{id:"signup-email",name:"email",type:"email",placeholder:"Enter your email",value:w.email,onChange:S,className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"signup-password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),a.jsx(Tn,{id:"signup-password",name:"password",type:g?"text":"password",placeholder:"Create a password",value:w.password,onChange:S,className:"pl-10 pr-10",required:!0}),a.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g?a.jsx(xu,{className:"w-4 h-4"}):a.jsx(Us,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),a.jsx(Tn,{id:"confirmPassword",name:"confirmPassword",type:g?"text":"password",placeholder:"Confirm your password",value:w.confirmPassword,onChange:S,className:"pl-10",required:!0})]})]}),a.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):a.jsxs(a.Fragment,{children:["Create Account",a.jsx(px,{className:"w-4 h-4 ml-2"})]})})]})}),a.jsxs(ds,{value:"reset",className:"space-y-4",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Nt,{className:"w-8 h-8 text-orange-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Reset Password"}),a.jsx("p",{className:"text-slate-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),a.jsx(Tn,{id:"reset-email",name:"email",type:"email",placeholder:"Enter your email",value:w.email,onChange:S,className:"pl-10",required:!0})]})]}),a.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Reset Link..."]}):"Send Reset Link"})]}),a.jsx("div",{className:"text-center",children:a.jsx(ae,{variant:"link",onClick:()=>m("signin"),className:"text-sm text-blue-600 hover:text-blue-700",children:"Back to Sign In"})})]})]})})]})})]})})},xx=x.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:Ee("w-full caption-bottom text-sm",t),...e})}));xx.displayName="Table";const bx=x.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:Ee("[&_tr]:border-b",t),...e}));bx.displayName="TableHeader";const wx=x.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:Ee("[&_tr:last-child]:border-0",t),...e}));wx.displayName="TableBody";const PY=x.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));PY.displayName="TableFooter";const Di=x.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Di.displayName="TableRow";const Ts=x.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ts.displayName="TableHead";const wn=x.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));wn.displayName="TableCell";const IY=x.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:Ee("mt-4 text-sm text-muted-foreground",t),...e}));IY.displayName="TableCaption";var o1="Progress",l1=100,[kY,ZJ]=ms(o1),[MY,OY]=kY(o1),PM=x.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=DY,...l}=t;(r||r===0)&&!nA(r)&&console.error(LY(`${r}`,"Progress"));const c=nA(r)?r:l1;s!==null&&!sA(s,c)&&console.error(UY(`${s}`,"Progress"));const d=sA(s,c)?s:null,h=Ng(d)?i(d,c):void 0;return a.jsx(MY,{scope:n,value:d,max:c,children:a.jsx(be.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Ng(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":MM(d,c),"data-value":d??void 0,"data-max":c,...l,ref:e})})});PM.displayName=o1;var IM="ProgressIndicator",kM=x.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=OY(IM,n);return a.jsx(be.div,{"data-state":MM(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});kM.displayName=IM;function DY(t,e){return`${Math.round(t/e*100)}%`}function MM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ng(t){return typeof t=="number"}function nA(t){return Ng(t)&&!isNaN(t)&&t>0}function sA(t,e){return Ng(t)&&!isNaN(t)&&t<=e&&t>=0}function LY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${l1}\`.`}function UY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${l1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OM=PM,VY=kM;const Xi=x.forwardRef(({className:t,value:e,...n},s)=>a.jsx(OM,{ref:s,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(VY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Xi.displayName=OM.displayName;var zY="Separator",rA="horizontal",BY=["horizontal","vertical"],DM=x.forwardRef((t,e)=>{const{decorative:n,orientation:s=rA,...r}=t,i=FY(s)?s:rA,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(be.div,{"data-orientation":i,...c,...r,ref:e})});DM.displayName=zY;function FY(t){return BY.includes(t)}var LM=DM;const c1=x.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},r)=>a.jsx(LM,{ref:r,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));c1.displayName=LM.displayName;function Xh(t,[e,n]){return Math.min(n,Math.max(e,t))}function HY(t,e){return x.useReducer((n,s)=>e[n][s]??n,t)}var u1="ScrollArea",[UM,YJ]=ms(u1),[$Y,dr]=UM(u1),VM=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:i=600,...l}=t,[c,d]=x.useState(null),[h,m]=x.useState(null),[g,v]=x.useState(null),[y,A]=x.useState(null),[w,j]=x.useState(null),[S,T]=x.useState(0),[N,D]=x.useState(0),[F,$]=x.useState(!1),[R,P]=x.useState(!1),U=Le(e,O=>d(O)),I=Hu(r);return a.jsx($Y,{scope:n,type:s,dir:I,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:m,content:g,onContentChange:v,scrollbarX:y,onScrollbarXChange:A,scrollbarXEnabled:F,onScrollbarXEnabledChange:$,scrollbarY:w,onScrollbarYChange:j,scrollbarYEnabled:R,onScrollbarYEnabledChange:P,onCornerWidthChange:T,onCornerHeightChange:D,children:a.jsx(be.div,{dir:I,...l,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});VM.displayName=u1;var zM="ScrollAreaViewport",BM=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:r,...i}=t,l=dr(zM,n),c=x.useRef(null),d=Le(e,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(be.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});BM.displayName=zM;var pi="ScrollAreaScrollbar",d1=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=dr(pi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=r,c=t.orientation==="horizontal";return x.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),r.type==="hover"?a.jsx(qY,{...s,ref:e,forceMount:n}):r.type==="scroll"?a.jsx(GY,{...s,ref:e,forceMount:n}):r.type==="auto"?a.jsx(FM,{...s,ref:e,forceMount:n}):r.type==="always"?a.jsx(h1,{...s,ref:e}):null});d1.displayName=pi;var qY=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=dr(pi,t.__scopeScrollArea),[i,l]=x.useState(!1);return x.useEffect(()=>{const c=r.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),l(!0)},m=()=>{d=window.setTimeout(()=>l(!1),r.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",m)}}},[r.scrollArea,r.scrollHideDelay]),a.jsx(ps,{present:n||i,children:a.jsx(FM,{"data-state":i?"visible":"hidden",...s,ref:e})})}),GY=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=dr(pi,t.__scopeScrollArea),i=t.orientation==="horizontal",l=Hv(()=>d("SCROLL_END"),100),[c,d]=HY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,r.scrollHideDelay,d]),x.useEffect(()=>{const h=r.viewport,m=i?"scrollLeft":"scrollTop";if(h){let g=h[m];const v=()=>{const y=h[m];g!==y&&(d("SCROLL"),l()),g=y};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[r.viewport,i,d,l]),a.jsx(ps,{present:n||c!=="hidden",children:a.jsx(h1,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:me(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:me(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),FM=x.forwardRef((t,e)=>{const n=dr(pi,t.__scopeScrollArea),{forceMount:s,...r}=t,[i,l]=x.useState(!1),c=t.orientation==="horizontal",d=Hv(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?h:m)}},10);return wu(n.viewport,d),wu(n.content,d),a.jsx(ps,{present:s||i,children:a.jsx(h1,{"data-state":i?"visible":"hidden",...r,ref:e})})}),h1=x.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,r=dr(pi,t.__scopeScrollArea),i=x.useRef(null),l=x.useRef(0),[c,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=WM(c.viewport,c.content),m={...s,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:v=>i.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function g(v,y){return XY(v,l.current,c,y)}return n==="horizontal"?a.jsx(WY,{...m,ref:e,onThumbPositionChange:()=>{if(r.viewport&&i.current){const v=r.viewport.scrollLeft,y=iA(v,c,r.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{r.viewport&&(r.viewport.scrollLeft=v)},onDragScroll:v=>{r.viewport&&(r.viewport.scrollLeft=g(v,r.dir))}}):n==="vertical"?a.jsx(KY,{...m,ref:e,onThumbPositionChange:()=>{if(r.viewport&&i.current){const v=r.viewport.scrollTop,y=iA(v,c);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{r.viewport&&(r.viewport.scrollTop=v)},onDragScroll:v=>{r.viewport&&(r.viewport.scrollTop=g(v))}}):null}),WY=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,i=dr(pi,t.__scopeScrollArea),[l,c]=x.useState(),d=x.useRef(null),h=Le(e,d,i.onScrollbarXChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),a.jsx($M,{"data-orientation":"horizontal",...r,ref:h,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fv(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(i.viewport){const v=i.viewport.scrollLeft+m.deltaX;t.onWheelScroll(v),ZM(v,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:jg(l.paddingLeft),paddingEnd:jg(l.paddingRight)}})}})}),KY=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,i=dr(pi,t.__scopeScrollArea),[l,c]=x.useState(),d=x.useRef(null),h=Le(e,d,i.onScrollbarYChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),a.jsx($M,{"data-orientation":"vertical",...r,ref:h,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fv(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(i.viewport){const v=i.viewport.scrollTop+m.deltaY;t.onWheelScroll(v),ZM(v,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:jg(l.paddingTop),paddingEnd:jg(l.paddingBottom)}})}})}),[ZY,HM]=UM(pi),$M=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:m,onResize:g,...v}=t,y=dr(pi,n),[A,w]=x.useState(null),j=Le(e,U=>w(U)),S=x.useRef(null),T=x.useRef(""),N=y.viewport,D=s.content-s.viewport,F=gn(m),$=gn(d),R=Hv(g,10);function P(U){if(S.current){const I=U.clientX-S.current.left,O=U.clientY-S.current.top;h({x:I,y:O})}}return x.useEffect(()=>{const U=I=>{const O=I.target;A?.contains(O)&&F(I,D)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[N,A,D,F]),x.useEffect($,[s,$]),wu(A,R),wu(y.content,R),a.jsx(ZY,{scope:n,scrollbar:A,hasThumb:r,onThumbChange:gn(i),onThumbPointerUp:gn(l),onThumbPositionChange:$,onThumbPointerDown:gn(c),children:a.jsx(be.div,{...v,ref:j,style:{position:"absolute",...v.style},onPointerDown:me(t.onPointerDown,U=>{U.button===0&&(U.target.setPointerCapture(U.pointerId),S.current=A.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),P(U))}),onPointerMove:me(t.onPointerMove,P),onPointerUp:me(t.onPointerUp,U=>{const I=U.target;I.hasPointerCapture(U.pointerId)&&I.releasePointerCapture(U.pointerId),document.body.style.webkitUserSelect=T.current,y.viewport&&(y.viewport.style.scrollBehavior=""),S.current=null})})})}),Ag="ScrollAreaThumb",qM=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=HM(Ag,t.__scopeScrollArea);return a.jsx(ps,{present:n||r.hasThumb,children:a.jsx(YY,{ref:e,...s})})}),YY=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...r}=t,i=dr(Ag,n),l=HM(Ag,n),{onThumbPositionChange:c}=l,d=Le(e,g=>l.onThumbChange(g)),h=x.useRef(void 0),m=Hv(()=>{h.current&&(h.current(),h.current=void 0)},100);return x.useEffect(()=>{const g=i.viewport;if(g){const v=()=>{if(m(),!h.current){const y=JY(g,c);h.current=y,c()}};return c(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[i.viewport,m,c]),a.jsx(be.div,{"data-state":l.hasThumb?"visible":"hidden",...r,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:me(t.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),A=g.clientX-y.left,w=g.clientY-y.top;l.onThumbPointerDown({x:A,y:w})}),onPointerUp:me(t.onPointerUp,l.onThumbPointerUp)})});qM.displayName=Ag;var f1="ScrollAreaCorner",GM=x.forwardRef((t,e)=>{const n=dr(f1,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?a.jsx(QY,{...t,ref:e}):null});GM.displayName=f1;var QY=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,r=dr(f1,n),[i,l]=x.useState(0),[c,d]=x.useState(0),h=!!(i&&c);return wu(r.scrollbarX,()=>{const m=r.scrollbarX?.offsetHeight||0;r.onCornerHeightChange(m),d(m)}),wu(r.scrollbarY,()=>{const m=r.scrollbarY?.offsetWidth||0;r.onCornerWidthChange(m),l(m)}),h?a.jsx(be.div,{...s,ref:e,style:{width:i,height:c,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function jg(t){return t?parseInt(t,10):0}function WM(t,e){const n=t/e;return isNaN(n)?0:n}function Fv(t){const e=WM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function XY(t,e,n,s="ltr"){const r=Fv(n),i=r/2,l=e||i,c=r-l,d=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,g=s==="ltr"?[0,m]:[m*-1,0];return KM([d,h],g)(t)}function iA(t,e,n="ltr"){const s=Fv(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-r,l=e.content-e.viewport,c=i-s,d=n==="ltr"?[0,l]:[l*-1,0],h=Xh(t,d);return KM([0,l],[0,c])(h)}function KM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function ZM(t,e){return t>0&&t<e}var JY=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return function r(){const i={left:t.scrollLeft,top:t.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&e(),n=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function Hv(t,e){const n=gn(t),s=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),x.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function wu(t,e){const n=gn(e);nn(()=>{let s=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(s),r.unobserve(t)}}},[t,n])}var YM=VM,eQ=BM,tQ=GM;const QM=x.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(YM,{ref:s,className:Ee("relative overflow-hidden",t),...n,children:[a.jsx(eQ,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(XM,{}),a.jsx(tQ,{})]}));QM.displayName=YM.displayName;const XM=x.forwardRef(({className:t,orientation:e="vertical",...n},s)=>a.jsx(d1,{ref:s,orientation:e,className:Ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(qM,{className:"relative flex-1 rounded-full bg-border"})}));XM.displayName=d1.displayName;const nQ=()=>{const[t,e]=x.useState("overview"),[n,s]=x.useState(!0),{user:r,isAdmin:i}=Ww(),[l,c]=x.useState({totalUsers:0,activeUsers:0,totalReports:0,pendingReports:0,criticalReports:0,verifiedReports:0}),[d,h]=x.useState([]),[m,g]=x.useState(!1),[v,y]=x.useState(""),[A,w]=x.useState("all"),[j,S]=x.useState([]),[T,N]=x.useState(!1);x.useEffect(()=>{console.log("AdminDashboard mounted, user:",r,"isAdmin:",i),D(),F(),$()},[]);const D=async()=>{console.log("Fetching admin data..."),s(!0);try{const{data:k,error:V}=await it.from("flood_reports").select("id, status, severity");V&&console.error("Reports error:",V);const J=await lW();console.log("User stats:",J),c({totalUsers:J.total_users||0,activeUsers:J.active_users||0,totalReports:k?.length||0,pendingReports:k?.filter(ue=>ue.status==="pending").length||0,criticalReports:k?.filter(ue=>ue.severity==="critical").length||0,verifiedReports:k?.filter(ue=>ue.status==="verified").length||0})}catch(k){console.error("Error fetching data:",k),we.error("Failed to fetch dashboard data")}finally{s(!1)}},F=async()=>{console.log("Fetching users..."),g(!0);try{const k=await oW(100,0,v||void 0);console.log("Fetched users:",k),h(k)}catch(k){console.error("Error fetching users:",k),we.error("Failed to fetch users")}finally{g(!1)}},$=async()=>{console.log("Fetching reports..."),N(!0);try{const{data:k,error:V}=await it.from("flood_reports").select("*").order("created_at",{ascending:!1}).limit(10);V&&console.error("Reports error:",V),console.log("Fetched reports:",k),S(k||[])}catch(k){console.error("Error fetching reports:",k),we.error("Failed to fetch reports")}finally{N(!1)}},R=d.filter(k=>{const V=v===""||k.email.toLowerCase().includes(v.toLowerCase())||(k.display_name||"").toLowerCase().includes(v.toLowerCase()),J=A==="all"||k.role===A;return V&&J}),P=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",U=k=>{switch(k){case"admin":return"bg-red-100 text-red-800 border-red-200";case"emergency_responder":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},I=k=>{switch(k){case"verified":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},O=({title:k,value:V,change:J,icon:ue,color:G,description:ee})=>a.jsxs(Ft,{className:"relative overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsxs(Ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx($t,{className:"text-sm font-medium text-muted-foreground",children:k}),a.jsx(ue,{className:`h-4 w-4 ${G}`})]}),a.jsxs(Xt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:V}),ee&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ee}),J&&a.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[J>0?a.jsx(qZ,{className:"h-3 w-3 text-green-500 mr-1"}):a.jsx(HZ,{className:"h-3 w-3 text-red-500 mr-1"}),a.jsxs("span",{className:J>0?"text-green-500":"text-red-500",children:[Math.abs(J),"% from last month"]})]})]})]});return console.log("Rendering AdminDashboard, loading:",n,"isAdmin:",i),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-sm shadow-sm",children:a.jsxs("div",{className:"flex h-16 items-center px-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg",children:a.jsx(vn,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage your flood monitoring platform"})]})]}),a.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsxs("span",{children:["Welcome, ",r?.email]})]}),a.jsxs(ae,{variant:"outline",size:"sm",onClick:D,disabled:n,children:[a.jsx(_c,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]}),a.jsxs(Me,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200",children:[a.jsx(rl,{className:"h-3 w-3 mr-1"}),"Live"]})]})]})}),a.jsx("div",{className:"p-6",children:a.jsxs(Bv,{value:t,onValueChange:e,className:"space-y-6",children:[a.jsxs(Lf,{className:"grid w-full grid-cols-4 bg-white/80 backdrop-blur-sm",children:[a.jsxs(Cs,{value:"overview",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-900",children:[a.jsx(mp,{className:"h-4 w-4 mr-2"}),"Overview"]}),a.jsxs(Cs,{value:"users",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-900",children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Users"]}),a.jsxs(Cs,{value:"reports",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-900",children:[a.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Reports"]}),a.jsxs(Cs,{value:"analytics",className:"data-[state=active]:bg-blue-100 data-[state=active]:text-blue-900",children:[a.jsx(mh,{className:"h-4 w-4 mr-2"}),"Analytics"]})]}),a.jsxs(ds,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(O,{title:"Total Users",value:l.totalUsers.toLocaleString(),change:12,icon:Wn,color:"text-blue-600",description:"Registered users"}),a.jsx(O,{title:"Active Users",value:l.activeUsers.toLocaleString(),change:8,icon:pY,color:"text-green-600",description:"Recently active"}),a.jsx(O,{title:"Total Reports",value:l.totalReports.toLocaleString(),change:-3,icon:Ui,color:"text-purple-600",description:"Flood reports"}),a.jsx(O,{title:"Critical Reports",value:l.criticalReports.toLocaleString(),change:5,icon:Nt,color:"text-red-600",description:"Urgent alerts"})]}),a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsxs(Ht,{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(yx,{className:"h-5 w-5 mr-2 text-blue-600"}),"Quick Actions"]}),a.jsx(ls,{children:"Common administrative tasks"})]}),a.jsx(Xt,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(ae,{variant:"outline",className:"h-24 flex-col hover:bg-blue-50 hover:border-blue-200 transition-colors",onClick:()=>e("users"),children:[a.jsx(Wn,{className:"h-6 w-6 mb-2 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Manage Users"})]}),a.jsxs(ae,{variant:"outline",className:"h-24 flex-col hover:bg-green-50 hover:border-green-200 transition-colors",onClick:()=>e("reports"),children:[a.jsx(Ui,{className:"h-6 w-6 mb-2 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Review Reports"})]}),a.jsxs(ae,{variant:"outline",className:"h-24 flex-col hover:bg-purple-50 hover:border-purple-200 transition-colors",onClick:()=>e("analytics"),children:[a.jsx(mp,{className:"h-6 w-6 mb-2 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"View Analytics"})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsxs(Ht,{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(po,{className:"h-5 w-5 mr-2 text-blue-600"}),"Recent Reports"]}),a.jsx(ls,{children:"Latest flood reports from users"})]}),a.jsx(Xt,{children:a.jsx(QM,{className:"h-64",children:a.jsxs("div",{className:"space-y-4",children:[j.slice(0,5).map(k=>a.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-purple-500 shadow-md",children:a.jsx(Ln,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:k.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:k.location})]}),a.jsx(Me,{className:I(k.status),children:k.status})]},k.id)),j.length===0&&a.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[a.jsx(Ui,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No reports found"}),a.jsx("p",{className:"text-sm",children:"Reports will appear here as users submit them"})]})]})})})]}),a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsxs(Ht,{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(rl,{className:"h-5 w-5 mr-2 text-green-600"}),"System Status"]}),a.jsx(ls,{children:"Platform health and performance"})]}),a.jsxs(Xt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Database"}),a.jsxs(Me,{className:"bg-green-100 text-green-800 border-green-200",children:[a.jsx(or,{className:"h-3 w-3 mr-1"}),"Healthy"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"API Response"}),a.jsxs(Me,{className:"bg-green-100 text-green-800 border-green-200",children:[a.jsx(or,{className:"h-3 w-3 mr-1"}),"Fast"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Storage"}),a.jsxs(Me,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[a.jsx(Nt,{className:"h-3 w-3 mr-1"}),"75% Used"]})]}),a.jsx(c1,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Storage Usage"}),a.jsx("span",{children:"75%"})]}),a.jsx(Xi,{value:75,className:"h-2"})]})]})]})]})]}),a.jsx(ds,{value:"users",className:"space-y-6",children:a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsx(Ht,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(Wn,{className:"h-5 w-5 mr-2 text-blue-600"}),"User Management"]}),a.jsx(ls,{children:"Manage user accounts and permissions"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ae,{variant:"outline",size:"sm",onClick:F,disabled:m,children:[a.jsx(_c,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),"Refresh"]}),a.jsxs(ae,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(hM,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),a.jsxs(Xt,{children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(cY,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(Tn,{placeholder:"Search users...",value:v,onChange:k=>y(k.target.value),className:"pl-10 bg-white/50 border-gray-200"})]}),a.jsxs(ph,{children:[a.jsx(gh,{asChild:!0,children:a.jsxs(ae,{variant:"outline",className:"bg-white/50 border-gray-200",children:[a.jsx(nY,{className:"h-4 w-4 mr-2"}),"Filter: ",A==="all"?"All Roles":A]})}),a.jsxs(Yc,{children:[a.jsx(zt,{onClick:()=>w("all"),children:"All Roles"}),a.jsx(zt,{onClick:()=>w("user"),children:"Users"}),a.jsx(zt,{onClick:()=>w("admin"),children:"Admins"}),a.jsx(zt,{onClick:()=>w("emergency_responder"),children:"Emergency Responders"})]})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden bg-white/50",children:a.jsxs(xx,{children:[a.jsx(bx,{children:a.jsxs(Di,{className:"bg-gray-50/50",children:[a.jsx(Ts,{children:"User"}),a.jsx(Ts,{children:"Role"}),a.jsx(Ts,{children:"Status"}),a.jsx(Ts,{children:"Last Login"}),a.jsx(Ts,{children:"Joined"}),a.jsx(Ts,{className:"text-right",children:"Actions"})]})}),a.jsx(wx,{children:m?a.jsx(Di,{children:a.jsx(wn,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(_c,{className:"h-4 w-4 animate-spin mr-2"}),"Loading users..."]})})}):R.length===0?a.jsx(Di,{children:a.jsxs(wn,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:[a.jsx(Wn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No users found"}),a.jsx("p",{className:"text-sm",children:"Users will appear here once they register"})]})}):R.map(k=>a.jsxs(Di,{className:"hover:bg-gray-50/50",children:[a.jsx(wn,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(dh,{className:"h-10 w-10",children:[a.jsx(hh,{src:k.photo_url||""}),a.jsx(fh,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:(k.display_name||"U").split(" ").map(V=>V[0]).join("").slice(0,2)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:k.display_name||"Unknown User"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:k.email})]})]})}),a.jsx(wn,{children:a.jsx(Me,{className:U(k.role),children:k.role.replace("_"," ")})}),a.jsx(wn,{children:a.jsx(Me,{className:k.disabled?"bg-red-100 text-red-800 border-red-200":"bg-green-100 text-green-800 border-green-200",children:k.disabled?"Disabled":"Active"})}),a.jsx(wn,{className:"text-sm text-muted-foreground",children:P(k.last_login)}),a.jsx(wn,{className:"text-sm text-muted-foreground",children:P(k.joined_at)}),a.jsx(wn,{className:"text-right",children:a.jsxs(ph,{children:[a.jsx(gh,{asChild:!0,children:a.jsx(ae,{variant:"ghost",size:"sm",className:"hover:bg-gray-100",children:a.jsx(ZN,{className:"h-4 w-4"})})}),a.jsxs(Yc,{align:"end",children:[a.jsx(Qh,{children:"Actions"}),a.jsxs(zt,{children:[a.jsx(Us,{className:"h-4 w-4 mr-2"}),"View Details"]}),a.jsxs(zt,{children:[a.jsx(hY,{className:"h-4 w-4 mr-2"}),"Edit User"]}),a.jsx(La,{}),a.jsxs(zt,{children:[a.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Send Email"]}),a.jsxs(zt,{className:"text-red-600 focus:text-red-600",children:[a.jsx(_x,{className:"h-4 w-4 mr-2"}),"Delete User"]})]})]})})]},k.id))})]})})]})]})}),a.jsx(ds,{value:"reports",className:"space-y-6",children:a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsx(Ht,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(Ui,{className:"h-5 w-5 mr-2 text-green-600"}),"Report Management"]}),a.jsx(ls,{children:"Review and manage flood reports"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ae,{variant:"outline",size:"sm",onClick:$,disabled:T,children:[a.jsx(_c,{className:`h-4 w-4 mr-2 ${T?"animate-spin":""}`}),"Refresh"]}),a.jsxs(ae,{variant:"outline",size:"sm",className:"bg-white/50 border-gray-200",children:[a.jsx(Lv,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),a.jsx(Xt,{children:a.jsx("div",{className:"border rounded-lg overflow-hidden bg-white/50",children:a.jsxs(xx,{children:[a.jsx(bx,{children:a.jsxs(Di,{className:"bg-gray-50/50",children:[a.jsx(Ts,{children:"Report"}),a.jsx(Ts,{children:"Location"}),a.jsx(Ts,{children:"Severity"}),a.jsx(Ts,{children:"Status"}),a.jsx(Ts,{children:"Date"}),a.jsx(Ts,{className:"text-right",children:"Actions"})]})}),a.jsx(wx,{children:T?a.jsx(Di,{children:a.jsx(wn,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(_c,{className:"h-4 w-4 animate-spin mr-2"}),"Loading reports..."]})})}):j.length===0?a.jsx(Di,{children:a.jsxs(wn,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ui,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No reports found"}),a.jsx("p",{className:"text-sm",children:"Reports will appear here as users submit them"})]})}):j.map(k=>a.jsxs(Di,{className:"hover:bg-gray-50/50",children:[a.jsx(wn,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:k.title}),a.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:k.description})]})}),a.jsx(wn,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ln,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:k.location})]})}),a.jsx(wn,{children:a.jsx(Me,{className:I(k.severity),children:k.severity})}),a.jsx(wn,{children:a.jsx(Me,{className:I(k.status),children:k.status})}),a.jsx(wn,{className:"text-sm text-muted-foreground",children:P(k.created_at)}),a.jsx(wn,{className:"text-right",children:a.jsxs(ph,{children:[a.jsx(gh,{asChild:!0,children:a.jsx(ae,{variant:"ghost",size:"sm",className:"hover:bg-gray-100",children:a.jsx(ZN,{className:"h-4 w-4"})})}),a.jsxs(Yc,{align:"end",children:[a.jsx(Qh,{children:"Actions"}),a.jsxs(zt,{children:[a.jsx(Us,{className:"h-4 w-4 mr-2"}),"View Details"]}),a.jsxs(zt,{children:[a.jsx(or,{className:"h-4 w-4 mr-2"}),"Verify Report"]}),a.jsxs(zt,{children:[a.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Mark Critical"]}),a.jsx(La,{}),a.jsxs(zt,{className:"text-red-600 focus:text-red-600",children:[a.jsx(_x,{className:"h-4 w-4 mr-2"}),"Delete Report"]})]})]})})]},k.id))})]})})})]})}),a.jsxs(ds,{value:"analytics",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsxs(Ht,{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(mh,{className:"h-5 w-5 mr-2 text-blue-600"}),"User Growth"]}),a.jsx(ls,{children:"Monthly user registration trends"})]}),a.jsx(Xt,{children:a.jsxs("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:[a.jsx(mp,{className:"h-12 w-12 mr-4 text-gray-300"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Chart coming soon"}),a.jsx("p",{className:"text-sm",children:"Data visualization will be added here"})]})]})})]}),a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsxs(Ht,{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(Uv,{className:"h-5 w-5 mr-2 text-green-600"}),"Report Status"]}),a.jsx(ls,{children:"Distribution of report statuses"})]}),a.jsx(Xt,{children:a.jsxs("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:[a.jsx(mh,{className:"h-12 w-12 mr-4 text-gray-300"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Chart coming soon"}),a.jsx("p",{className:"text-sm",children:"Analytics will be added here"})]})]})})]})]}),a.jsxs(Ft,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[a.jsxs(Ht,{children:[a.jsxs($t,{className:"flex items-center",children:[a.jsx(rl,{className:"h-5 w-5 mr-2 text-purple-600"}),"Platform Metrics"]}),a.jsx(ls,{children:"Key performance indicators"})]}),a.jsx(Xt,{children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-br from-green-50 to-green-100",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"99.9%"}),a.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Uptime"}),a.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Last 30 days"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-br from-blue-50 to-blue-100",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"2.3s"}),a.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Avg Response Time"}),a.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"API calls"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-gradient-to-br from-purple-50 to-purple-100",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"1,234"}),a.jsx("div",{className:"text-sm text-purple-700 font-medium",children:"API Calls Today"}),a.jsx("div",{className:"text-xs text-purple-600 mt-1",children:"Active requests"})]})]})})]})]})]})})]})},sQ=()=>{const{user:t,loading:e,isAdmin:n}=kf();return console.log("AdminTest - user:",t,"loading:",e,"isAdmin:",n),a.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Test Page"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Authentication Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Loading:"})," ",e?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User:"})," ",t?t.email:"Not logged in"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Is Admin:"})," ",n?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",t?.id||"N/A"]})]}),!t&&!e&&a.jsx("div",{className:"mt-4 p-4 bg-yellow-100 border border-yellow-400 rounded",children:a.jsx("p",{className:"text-yellow-800",children:"No user found. Please sign in to Supabase."})}),t&&!n&&a.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-400 rounded",children:a.jsx("p",{className:"text-red-800",children:"User is not an admin."})}),t&&n&&a.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 rounded",children:a.jsx("p",{className:"text-green-800",children:"Admin access confirmed!"})})]})]})})},rQ=async()=>{try{console.log("Adding test users to Supabase...");const t=[{firebase_uid:"test-user-1",email:"john.doe@example.com",display_name:"John Doe",photo_url:null,role:"user",disabled:!1,joined_at:new Date().toISOString(),last_login:new Date().toISOString()},{firebase_uid:"test-user-2",email:"jane.smith@example.com",display_name:"Jane Smith",photo_url:null,role:"user",disabled:!1,joined_at:new Date(Date.now()-864e5).toISOString(),last_login:new Date(Date.now()-36e5).toISOString()},{firebase_uid:"test-admin-1",email:"admin@example.com",display_name:"Admin User",photo_url:null,role:"admin",disabled:!1,joined_at:new Date(Date.now()-1728e5).toISOString(),last_login:new Date(Date.now()-18e5).toISOString()},{firebase_uid:"test-emergency-1",email:"emergency@example.com",display_name:"Emergency Responder",photo_url:null,role:"emergency_responder",disabled:!1,joined_at:new Date(Date.now()-2592e5).toISOString(),last_login:new Date(Date.now()-72e5).toISOString()},{firebase_uid:"test-disabled-1",email:"disabled@example.com",display_name:"Disabled User",photo_url:null,role:"user",disabled:!0,joined_at:new Date(Date.now()-3456e5).toISOString(),last_login:new Date(Date.now()-864e5).toISOString()}],{data:e,error:n}=await it.from("user_profiles").upsert(t,{onConflict:"firebase_uid",ignoreDuplicates:!1}).select();return n?(console.error("Error adding test users:",n),!1):(console.log("Test users added successfully:",e),!0)}catch(t){return console.error("Error in addTestUsers:",t),!1}},iQ=async()=>{try{console.log("Adding test reports to Supabase...");const t=[{title:"Flood Warning - Downtown Area",description:"Water levels rising rapidly in downtown area. Multiple streets flooded.",location:"Downtown, City Center",severity:"critical",status:"pending",user_id:"test-user-1",latitude:40.7128,longitude:-74.006,image_url:null},{title:"Minor Flooding - Residential Area",description:"Some flooding in residential streets after heavy rain.",location:"Residential District",severity:"medium",status:"verified",user_id:"test-user-2",latitude:40.7589,longitude:-73.9851,image_url:null},{title:"Drainage System Overflow",description:"Drainage system unable to handle current water volume.",location:"Industrial Zone",severity:"high",status:"pending",user_id:"test-emergency-1",latitude:40.6892,longitude:-74.0445,image_url:null},{title:"False Alarm - No Flooding",description:"Reported flooding was actually just puddles from recent rain.",location:"Suburban Area",severity:"low",status:"false_alarm",user_id:"test-user-1",latitude:40.7505,longitude:-73.9934,image_url:null},{title:"River Overflow Warning",description:"River levels approaching flood stage. Evacuation recommended.",location:"Riverside District",severity:"critical",status:"verified",user_id:"test-emergency-1",latitude:40.7831,longitude:-73.9712,image_url:null}],{data:e,error:n}=await it.from("flood_reports").insert(t).select();return n?(console.error("Error adding test reports:",n),!1):(console.log("Test reports added successfully:",e),!0)}catch(t){return console.error("Error in addTestReports:",t),!1}},aQ=async()=>{try{console.log("Initializing test data...");const t=await rQ(),e=await iQ();return t&&e?(console.log("Test data initialized successfully"),!0):(console.log("Some test data failed to initialize"),!1)}catch(t){return console.error("Error initializing test data:",t),!1}},oQ=()=>{const{user:t,loading:e,isAdmin:n}=kf(),[s,r]=x.useState("Checking..."),[i,l]=x.useState(null),[c,d]=x.useState(null),[h,m]=x.useState("Not initialized");x.useEffect(()=>{g()},[]);const g=async()=>{try{console.log("Testing Supabase connection...");const{data:y,error:A}=await it.from("flood_reports").select("count").limit(1);A?(console.error("Supabase error:",A),r(`Error: ${A.message}`),d(A.message)):(console.log("Supabase connected successfully"),r("Connected successfully"),l(y))}catch(y){console.error("Connection test failed:",y),r(`Connection failed: ${y}`),d(String(y))}},v=async()=>{try{m("Initializing...");const y=await aQ();m(y?"Initialized successfully":"Failed to initialize")}catch(y){console.error("Error initializing test data:",y),m("Error during initialization")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Admin Debug Page"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Authentication Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Loading:"})," ",e?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User:"})," ",t?t.email:"Not logged in"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Is Admin:"})," ",n?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",t?.id||"N/A"]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Supabase Connection"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",s]}),c&&a.jsx("div",{className:"p-4 bg-red-100 border border-red-400 rounded",children:a.jsxs("p",{className:"text-red-800",children:[a.jsx("strong",{children:"Error:"})," ",c]})}),i&&a.jsx("div",{className:"p-4 bg-green-100 border border-green-400 rounded",children:a.jsxs("p",{className:"text-green-800",children:[a.jsx("strong",{children:"Test Data:"})," ",JSON.stringify(i)]})})]}),a.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Test Connection"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Test Data"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," ",h]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Initialize test users and reports for admin panel testing"})]}),a.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Initialize Test Data"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Component Test"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border rounded",children:[a.jsx("h3",{className:"font-medium",children:"Basic Card Test"}),a.jsx("div",{className:"mt-2 p-4 bg-gray-100 rounded",children:a.jsx("p",{children:"This is a test card component."})})]}),a.jsxs("div",{className:"p-4 border rounded",children:[a.jsx("h3",{className:"font-medium",children:"Button Test"}),a.jsxs("div",{className:"mt-2 space-x-2",children:[a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Primary Button"}),a.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Secondary Button"})]})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-blue-800",children:"Debug Instructions"}),a.jsxs("div",{className:"space-y-2 text-blue-700",children:[a.jsx("p",{children:"1. Check the browser console for any JavaScript errors"}),a.jsx("p",{children:"2. Verify Supabase connection status above"}),a.jsx("p",{children:"3. Check authentication status"}),a.jsx("p",{children:"4. If everything looks good, the issue might be with the main Admin component"})]})]})]})})},lQ=()=>{const{user:t,loading:e,isAdmin:n}=kf();return e?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):t?n?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome, ",t.email]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Admin"})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:"U"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"0"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:"R"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Reports"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"0"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:"P"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"0"})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:"C"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Critical"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"0"})]})})]})})})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Manage Users"}),a.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Review Reports"}),a.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"View Analytics"})]})]})}),a.jsx("div",{className:"mt-8 bg-white shadow rounded-lg",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"System Status"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Database Connection"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Connected"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"API Status"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Healthy"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Authentication"}),a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]})]})]})})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have admin privileges."}),a.jsx("a",{href:"/admin/signin",className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sign In as Admin"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Not Authenticated"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to access the admin panel."}),a.jsx("a",{href:"/admin/signin",className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Sign In"})]})})},cQ=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"This is a basic admin page to test routing."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Status Check"}),a.jsx("p",{className:"text-green-600",children:" Page is loading"}),a.jsx("p",{className:"text-green-600",children:" Routing is working"}),a.jsx("p",{className:"text-green-600",children:" React is rendering"})]}),a.jsxs("div",{className:"space-x-4",children:[a.jsx("a",{href:"/admin-test",className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Test Auth Context"}),a.jsx("a",{href:"/admin-debug",className:"inline-block px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Debug Page"}),a.jsx("a",{href:"/admin-simple",className:"inline-block px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Simple Admin"})]})]})]})}),uQ=()=>{const{user:t,loading:e,isAdmin:n}=Ww();return console.log("AdminMinimalTest - user:",t,"loading:",e,"isAdmin:",n),a.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Minimal Admin Test Page"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Authentication Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Loading:"})," ",e?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User:"})," ",t?t.email:"Not logged in"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Is Admin:"})," ",n?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"User ID:"})," ",t?.id||"N/A"]})]}),!t&&!e&&a.jsxs("div",{className:"mt-4 p-4 bg-yellow-100 border border-yellow-400 rounded",children:[a.jsx("p",{className:"text-yellow-800",children:"No user found. Please sign in to Supabase."}),a.jsx("a",{href:"/admin/signin",className:"inline-block mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Sign In"})]}),t&&!n&&a.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-400 rounded",children:a.jsx("p",{className:"text-red-800",children:"User is not an admin."})}),t&&n&&a.jsx("div",{className:"mt-4 p-4 bg-green-100 border border-green-400 rounded",children:a.jsx("p",{className:"text-green-800",children:"Admin access confirmed!"})})]})]})})},ze=({children:t,className:e,variant:n="default",hover:s=!0})=>{const r={default:"bg-gradient-to-br from-white to-blue-50 border-blue-100 hover:shadow-blue-200/50",success:"bg-gradient-to-br from-white to-green-50 border-green-100 hover:shadow-green-200/50",warning:"bg-gradient-to-br from-white to-yellow-50 border-yellow-100 hover:shadow-yellow-200/50",danger:"bg-gradient-to-br from-white to-red-50 border-red-100 hover:shadow-red-200/50"};return a.jsx("div",{className:Ee("rounded-2xl border backdrop-blur-sm shadow-lg transition-all duration-300",r[n],s&&"hover:shadow-xl hover:-translate-y-1",e),children:t})},dQ=()=>{const r=`https://embed.windy.com/embed2.html?lat=${31.1471}&lon=${75.3412}&zoom=8&overlay=wind&level=surface&product=GFS&key=windyisthebest`;return a.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},src:r,title:""})},hQ=()=>a.jsx("div",{style:{height:"100%",width:"100%"},children:a.jsx(dQ,{})}),JM=({text:t,topText:e,bottomText:n})=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute top-2.5 left-1/2 -translate-x-1/2 z-10 pointer-events-none",children:a.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-4 py-2 rounded-full shadow-lg border-slate-700",children:e||t})}),a.jsx("div",{className:"absolute bottom-2.5 right-2.5 z-10 pointer-events-none",children:a.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-20 py-2 rounded-full shadow-lg border-slate-700",children:n||t})})]}),fQ=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(n=>{t({lat:n.coords.latitude,lng:n.coords.longitude})},n=>{let s="Unable to get location";switch(n.code){case n.PERMISSION_DENIED:s="Location access denied by user";break;case n.POSITION_UNAVAILABLE:s="Location information unavailable";break;case n.TIMEOUT:s="Location request timed out";break}e(new Error(s))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),mQ=async(t,e)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${e}&addressdetails=1`);if(!n.ok)throw new Error("Geocoding failed");const s=await n.json(),r=s.display_name||"Unknown location",i=s.address?.state||s.address?.region||"",l=s.address?.county||s.address?.city_district||s.address?.city||"",c=s.address?.country||"";return{coords:{lat:t,lng:e},address:r,state:i,district:l,country:c}}catch(n){return console.error("Reverse geocoding error:",n),{coords:{lat:t,lng:e},address:"Unknown location",state:"",district:"",country:""}}},Sx=async()=>{try{const t=await fQ();return await mQ(t.lat,t.lng)}catch(t){throw we.error("Unable to get your location. Please enable location access."),t}},pQ=async t=>{try{const e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&addressdetails=1&limit=5&countrycodes=in`);if(!e.ok)throw new Error("Search failed");return(await e.json()).map(s=>({coords:{lat:parseFloat(s.lat),lng:parseFloat(s.lon)},address:s.display_name||"Unknown location",state:s.address?.state||s.address?.region||"",district:s.address?.county||s.address?.city_district||s.address?.city||"",country:s.address?.country||""}))}catch(e){return console.error("Location search error:",e),[]}},gQ=()=>{const{userProfile:t}=Fu(),e=Jh(),[n,s]=x.useState(null),[r,i]=x.useState(!1),[l,c]=x.useState(0),[d,h]=x.useState("safe"),[m,g]=x.useState(65),[v,y]=x.useState(5),[A,w]=x.useState(1247),[j,S]=x.useState(23),[T,N]=x.useState(89456);x.useEffect(()=>{D()},[]);const D=async()=>{i(!0);try{const R=await Sx();if(s(R),R.state){const P=await sW(R.state,R.district);if(P.length>0){const I=P[0];g(I.current_water_level||65),h(I.risk_level||"safe")}const U=await iW(R.coords.lat,R.coords.lng,50);c(U.length),y(U.filter(I=>I.severity==="critical"||I.severity==="high").length)}we.success(`Location detected: ${R.district}, ${R.state}`)}catch(R){console.error("Error loading location data:",R),s({coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"})}finally{i(!1)}};x.useEffect(()=>{const R=setInterval(()=>{g(P=>Math.max(20,Math.min(95,P+(Math.random()-.5)*3))),y(P=>Math.max(0,Math.min(15,P+Math.floor((Math.random()-.5)*2))))},4e3);return()=>clearInterval(R)},[]);const F=[{name:"Normal Levels",percentage:67,color:"text-green-600",bgColor:"bg-green-100",icon:or},{name:"Warning Zones",percentage:28,color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Nt},{name:"Critical Areas",percentage:5,color:"text-red-600",bgColor:"bg-red-100",icon:Nt}],$=[{city:n?.district||"Amritsar",level:m,status:d==="critical"?"Critical":d==="warning"?"Warning":"Normal",color:d==="critical"?"bg-red-500":d==="warning"?"bg-yellow-500":"bg-green-500"},{city:"Ludhiana",level:62,status:"Moderate",color:"bg-yellow-500"},{city:"Jalandhar",level:35,status:"Light",color:"bg-green-500"},{city:"Patiala",level:15,status:"Minimal",color:"bg-green-400"}];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-600 via-teal-500 to-green-400 p-8 text-white",children:[a.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[a.jsx("h1",{className:"text-5xl font-bold",children:"Real-Time Flood Monitoring"}),r&&a.jsx(Os,{className:"w-6 h-6 animate-spin"})]}),n&&a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 max-w-md mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[a.jsx(Ln,{className:"w-4 h-4"}),a.jsxs("span",{children:["Monitoring: ",n.district||n.state,", ",n.state]})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-xs",children:[a.jsxs(Me,{className:`${d==="critical"?"bg-red-500":d==="warning"?"bg-yellow-500":"bg-green-500"} text-white`,children:[d.toUpperCase()," RISK"]}),a.jsxs("span",{children:[l," Local Reports"]}),a.jsx(ae,{size:"sm",variant:"ghost",onClick:D,className:"text-white hover:bg-white/20 p-1",children:a.jsx(Yh,{className:"w-3 h-3"})})]})]}),a.jsx("p",{className:"text-xl opacity-90 max-w-3xl mx-auto",children:n?`Advanced AI-powered flood prediction and early warning system protecting your community in ${n.state} with precision and care`:"Advanced AI-powered flood prediction and early warning system protecting communities across India with precision and care"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-8",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(vn,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:"text-3xl font-bold",children:A.toLocaleString()}),a.jsx("div",{className:"text-sm opacity-80",children:"Protected Areas"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[a.jsx(KN,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"+12% this week"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(Nt,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:"text-3xl font-bold",children:j}),a.jsx("div",{className:"text-sm opacity-80",children:"Watch Zones"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[a.jsx(rl,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Monitoring active"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(Nt,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:"text-3xl font-bold",children:v}),a.jsx("div",{className:"text-sm opacity-80",children:"Alert Areas"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[a.jsx(Wc,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Immediate action"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(Wn,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:"text-3xl font-bold",children:T.toLocaleString()}),a.jsx("div",{className:"text-sm opacity-80",children:"Community Members"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[a.jsx(Wn,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Engaged community"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[a.jsxs(ae,{onClick:()=>e("/reports"),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:[a.jsx(mp,{className:"w-4 h-4 mr-2"}),"View Detailed Analytics"]}),a.jsxs(ae,{onClick:()=>e("/alerts"),className:"bg-green-500 hover:bg-green-600 text-white shadow-lg",children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Get Mobile Alerts"]})]})]}),a.jsxs("div",{className:"absolute inset-0 opacity-20",children:[a.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full opacity-10"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-white rounded-full opacity-10"}),a.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full opacity-10"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Live Flood Risk Assessment"}),a.jsx("p",{className:"text-lg text-slate-600",children:"Real-time monitoring of water levels, rainfall, and flood risk across Punjab"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Punjab Risk Heatmap"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[a.jsx(rl,{className:"w-3 h-3 mr-1"}),"Live"]}),a.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>console.log("Exporting map..."),children:[a.jsx(Lv,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-80 overflow-hidden",children:[a.jsx(hQ,{}),a.jsx(JM,{text:"Live Weather Data"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-4 mt-6",children:F.map((R,P)=>{const U=R.icon;return a.jsxs("div",{className:`${R.bgColor} rounded-xl p-4 text-center`,children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx(U,{className:`w-5 h-5 ${R.color} mr-2`}),a.jsx("span",{className:`text-sm font-semibold ${R.color}`,children:R.name})]}),a.jsxs("div",{className:`text-2xl font-bold ${R.color}`,children:[R.percentage,"%"]})]},P)})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Water Level Gauges"}),a.jsx("div",{className:"space-y-4",children:$.map((R,P)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:R.city}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 ${R.color} rounded-full`}),a.jsx("span",{className:"text-xs text-slate-600",children:R.status})]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 ${R.color} rounded-full transition-all duration-1000`,style:{width:`${R.level}%`}})})]},P))})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Rainfall Intensity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Amritsar"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 h-2 bg-red-500 rounded-full"}),a.jsx("span",{className:"text-xs text-slate-600",children:"Heavy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Ludhiana"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-12 h-2 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-xs text-slate-600",children:"Moderate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Jalandhar"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-xs text-slate-600",children:"Light"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Patiala"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-2 bg-green-400 rounded-full"}),a.jsx("span",{className:"text-xs text-slate-600",children:"Minimal"})]})]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-teal-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(mh,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"AI Accuracy"}),a.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"94.7%"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Prediction Accuracy"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[a.jsx(KN,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"+2.3% from last month"})]})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(po,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Early Warning"}),a.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"47 min"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Lead Time"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[a.jsx(or,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Within target range"})]})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(rl,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Sources"}),a.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"1,247"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active Sensors"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-purple-600",children:[a.jsx(pM,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"Real-time monitoring"})]})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(vn,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),a.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"2.3min"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Alert Time"}),a.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[a.jsx($Z,{className:"w-3 h-3 mr-1"}),a.jsx("span",{children:"15% faster than target"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Recent Alerts & Updates"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border border-red-200",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-2 animate-pulse"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Critical Flood Warning"}),a.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Amritsar District - 5 minutes ago"}),a.jsx("p",{className:"text-xs text-slate-700",children:"Water levels rising rapidly. Immediate evacuation required."})]}),a.jsx(Me,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:"Critical"})]}),a.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mt-2 animate-pulse"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Water Level Alert"}),a.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Ludhiana Industrial Zone - 18 minutes ago"}),a.jsx("p",{className:"text-xs text-slate-700",children:"Approaching warning threshold. Monitoring continues."})]}),a.jsx(Me,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:"Warning"})]}),a.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-teal-50 rounded-xl border border-blue-200",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mt-2"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"System Update"}),a.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Punjab State Wide - 1 hour ago"}),a.jsx("p",{className:"text-xs text-slate-700",children:"All sensors online and functioning normally."})]}),a.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:"Info"})]})]})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Emergency Actions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ae,{onClick:()=>e("/assessment"),className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[a.jsx(Nt,{className:"w-5 h-5 mr-3"}),"Report Emergency Situation"]}),a.jsxs(ae,{onClick:()=>e("/predictions"),className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[a.jsx(Us,{className:"w-5 h-5 mr-3"}),"View Flood Predictions"]}),a.jsxs(ae,{onClick:()=>{navigator.userAgent.match(/iPhone|Android/i)?window.open("tel:108","_self"):window.open("https://www.dial108.com/","_blank"),console.log("Emergency helpline activated")},className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[a.jsx(ir,{className:"w-5 h-5 mr-3"}),"Emergency Helpline"]}),a.jsxs(ae,{onClick:()=>e("/reports"),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[a.jsx(Wn,{className:"w-5 h-5 mr-3"}),"Community Reports"]})]})]})]})]})};function m1(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var eO=["PageUp","PageDown"],tO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nO={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$u="Slider",[Ex,vQ,yQ]=jv($u),[sO,QJ]=ms($u,[yQ]),[_Q,$v]=sO($u),rO=x.forwardRef((t,e)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[s],value:m,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:A,...w}=t,j=x.useRef(new Set),S=x.useRef(0),N=l==="horizontal"?xQ:bQ,[D=[],F]=ao({prop:m,defaultProp:h,onChange:O=>{[...j.current][S.current]?.focus(),g(O)}}),$=x.useRef(D);function R(O){const k=NQ(D,O);I(O,k)}function P(O){I(O,S.current)}function U(){const O=$.current[S.current];D[S.current]!==O&&v(D)}function I(O,k,{commit:V}={commit:!1}){const J=RQ(i),ue=PQ(Math.round((O-s)/i)*i+s,J),G=Xh(ue,[s,r]);F((ee=[])=>{const B=EQ(ee,G,k);if(CQ(B,d*i)){S.current=B.indexOf(G);const q=String(B)!==String(ee);return q&&V&&v(B),q?B:ee}else return ee})}return a.jsx(_Q,{scope:t.__scopeSlider,name:n,disabled:c,min:s,max:r,valueIndexToChangeRef:S,thumbs:j.current,values:D,orientation:l,form:A,children:a.jsx(Ex.Provider,{scope:t.__scopeSlider,children:a.jsx(Ex.Slot,{scope:t.__scopeSlider,children:a.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...w,ref:e,onPointerDown:me(w.onPointerDown,()=>{c||($.current=D)}),min:s,max:r,inverted:y,onSlideStart:c?void 0:R,onSlideMove:c?void 0:P,onSlideEnd:c?void 0:U,onHomeKeyDown:()=>!c&&I(s,0,{commit:!0}),onEndKeyDown:()=>!c&&I(r,D.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:k})=>{if(!c){const ue=eO.includes(O.key)||O.shiftKey&&tO.includes(O.key)?10:1,G=S.current,ee=D[G],B=i*ue*k;I(ee+B,G,{commit:!0})}}})})})})});rO.displayName=$u;var[iO,aO]=sO($u,{startEdge:"left",endEdge:"right",size:"width",direction:1}),xQ=x.forwardRef((t,e)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,[g,v]=x.useState(null),y=Le(e,N=>v(N)),A=x.useRef(void 0),w=Hu(r),j=w==="ltr",S=j&&!i||!j&&i;function T(N){const D=A.current||g.getBoundingClientRect(),F=[0,D.width],R=p1(F,S?[n,s]:[s,n]);return A.current=D,R(N-D.left)}return a.jsx(iO,{scope:t.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:a.jsx(oO,{dir:w,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const D=T(N.clientX);l?.(D)},onSlideMove:N=>{const D=T(N.clientX);c?.(D)},onSlideEnd:()=>{A.current=void 0,d?.()},onStepKeyDown:N=>{const F=nO[S?"from-left":"from-right"].includes(N.key);h?.({event:N,direction:F?-1:1})}})})}),bQ=x.forwardRef((t,e)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=t,m=x.useRef(null),g=Le(e,m),v=x.useRef(void 0),y=!r;function A(w){const j=v.current||m.current.getBoundingClientRect(),S=[0,j.height],N=p1(S,y?[s,n]:[n,s]);return v.current=j,N(w-j.top)}return a.jsx(iO,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:a.jsx(oO,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const j=A(w.clientY);i?.(j)},onSlideMove:w=>{const j=A(w.clientY);l?.(j)},onSlideEnd:()=>{v.current=void 0,c?.()},onStepKeyDown:w=>{const S=nO[y?"from-bottom":"from-top"].includes(w.key);d?.({event:w,direction:S?-1:1})}})})}),oO=x.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:d,...h}=t,m=$v($u,n);return a.jsx(be.span,{...h,ref:e,onKeyDown:me(t.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(c(g),g.preventDefault()):eO.concat(tO).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:me(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(v)?v.focus():s(g)}),onPointerMove:me(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&r(g)}),onPointerUp:me(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),i(g))})})}),lO="SliderTrack",cO=x.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=$v(lO,n);return a.jsx(be.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});cO.displayName=lO;var Tx="SliderRange",uO=x.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=$v(Tx,n),i=aO(Tx,n),l=x.useRef(null),c=Le(e,l),d=r.values.length,h=r.values.map(v=>fO(v,r.min,r.max)),m=d>1?Math.min(...h):0,g=100-Math.max(...h);return a.jsx(be.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:c,style:{...t.style,[i.startEdge]:m+"%",[i.endEdge]:g+"%"}})});uO.displayName=Tx;var Nx="SliderThumb",dO=x.forwardRef((t,e)=>{const n=vQ(t.__scopeSlider),[s,r]=x.useState(null),i=Le(e,c=>r(c)),l=x.useMemo(()=>s?n().findIndex(c=>c.ref.current===s):-1,[n,s]);return a.jsx(wQ,{...t,ref:i,index:l})}),wQ=x.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:r,...i}=t,l=$v(Nx,n),c=aO(Nx,n),[d,h]=x.useState(null),m=Le(e,T=>h(T)),g=d?l.form||!!d.closest("form"):!0,v=Ub(d),y=l.values[s],A=y===void 0?0:fO(y,l.min,l.max),w=TQ(s,l.values.length),j=v?.[c.size],S=j?AQ(j,A,c.direction):0;return x.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${A}% + ${S}px)`},children:[a.jsx(Ex.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(be.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":l.min,"aria-valuenow":y,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:m,style:y===void 0?{display:"none"}:t.style,onFocus:me(t.onFocus,()=>{l.valueIndexToChangeRef.current=s})})}),g&&a.jsx(hO,{name:r??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:y},s)]})});dO.displayName=Nx;var SQ="RadioBubbleInput",hO=x.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const r=x.useRef(null),i=Le(r,s),l=m1(e);return x.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&m){const g=new Event("input",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[l,e]),a.jsx(be.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});hO.displayName=SQ;function EQ(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function fO(t,e,n){const i=100/(n-e)*(t-e);return Xh(i,[0,100])}function TQ(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function NQ(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function AQ(t,e,n){const s=t/2,i=p1([0,50],[0,s]);return(s-i(e)*n)*n}function jQ(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function CQ(t,e){if(e>0){const n=jQ(t);return Math.min(...n)>=e}return!0}function p1(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function RQ(t){return(String(t).split(".")[1]||"").length}function PQ(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var mO=rO,IQ=cO,kQ=uO,MQ=dO;const pO=x.forwardRef(({className:t,...e},n)=>a.jsxs(mO,{ref:n,className:Ee("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(IQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(kQ,{className:"absolute h-full bg-primary"})}),a.jsx(MQ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));pO.displayName=mO.displayName;class OQ{openWeatherAPIKey="demo_key";baseURL="https://api.openweathermap.org/data/2.5";imdBaseURL="https://api.imd.gov.in/v1";punjabCoordinates={lat:30.7333,lon:76.7794,name:"Punjab, India"};async getCurrentWeather(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/weather?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok){const n=await e.json();return this.transformOpenWeatherData(n)}}return this.getMockWeatherData()}catch(e){return console.warn("Weather API failed, using mock data:",e),this.getMockWeatherData()}}async getWeatherForecast(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/forecast?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok)return(await e.json()).list.slice(0,24).map(s=>this.transformOpenWeatherData(s))}return this.getMockForecastData()}catch(e){return console.warn("Forecast API failed, using mock data:",e),this.getMockForecastData()}}async getFloodPrediction(e){const n=e[0],s=e.slice(1,8),r=this.calculateRainfallRisk(s),i=n.humidity>80?.3:0,l=n.windSpeed>20?.2:0,c=n.pressure<1e3?.3:0,d=r+i+l+c;let h,m;return d>.8?(h="critical",m=85+Math.random()*15):d>.6?(h="high",m=60+Math.random()*25):d>.4?(h="moderate",m=30+Math.random()*30):(h="low",m=5+Math.random()*25),{riskLevel:h,probability:Math.round(m),expectedTime:this.calculateExpectedTime(h),affectedAreas:this.getAffectedAreas(h),waterLevel:this.calculateWaterLevel(h),confidence:75+Math.random()*20,recommendations:this.getRecommendations(h)}}async getHistoricalData(){return[{date:"2024-07-15",rainfall:45.2,floodOccurred:!0,severity:"moderate",affectedPopulation:12500},{date:"2024-07-10",rainfall:32.1,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-07-05",rainfall:28.7,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-06-28",rainfall:67.3,floodOccurred:!0,severity:"severe",affectedPopulation:45e3},{date:"2024-06-20",rainfall:41.8,floodOccurred:!0,severity:"moderate",affectedPopulation:18e3}]}async getFloodMonitoringData(){return{riverLevels:[{name:"Sutlej River",level:245.6,status:"normal",trend:"rising"},{name:"Beas River",level:198.3,status:"alert",trend:"rising"},{name:"Ravi River",level:156.7,status:"normal",trend:"stable"}],damLevels:[{name:"Bhakra Dam",level:78.5,capacity:85.2,status:"normal"},{name:"Pong Dam",level:92.1,capacity:95.8,status:"alert"},{name:"Ranjit Sagar Dam",level:65.3,capacity:72.1,status:"normal"}],alerts:[{id:1,type:"flood_warning",message:"Rising water levels detected in Beas River",severity:"moderate",timestamp:new Date().toISOString()},{id:2,type:"dam_alert",message:"Pong Dam approaching capacity",severity:"high",timestamp:new Date().toISOString()}]}}transformOpenWeatherData(e){return{temperature:e.main.temp,humidity:e.main.humidity,rainfall:e.rain?.["1h"]||0,windSpeed:e.wind.speed*3.6,windDirection:e.wind.deg,pressure:e.main.pressure,visibility:e.visibility/1e3,uvIndex:e.uvi||0,timestamp:new Date(e.dt*1e3).toISOString(),location:this.punjabCoordinates}}getMockWeatherData(){return{temperature:28+Math.random()*8,humidity:70+Math.random()*20,rainfall:Math.random()*50,windSpeed:10+Math.random()*20,windDirection:Math.random()*360,pressure:1e3+Math.random()*20,visibility:8+Math.random()*4,uvIndex:5+Math.random()*5,timestamp:new Date().toISOString(),location:this.punjabCoordinates}}getMockForecastData(){const e=[],n=new Date;for(let s=0;s<24;s++){const r=new Date(n.getTime()+s*60*60*1e3);e.push({temperature:25+Math.random()*10,humidity:60+Math.random()*30,rainfall:Math.random()*30,windSpeed:8+Math.random()*15,windDirection:Math.random()*360,pressure:995+Math.random()*25,visibility:6+Math.random()*6,uvIndex:3+Math.random()*7,timestamp:r.toISOString(),location:this.punjabCoordinates})}return e}calculateRainfallRisk(e){const s=e.reduce((r,i)=>r+i.rainfall,0)/e.length;return s>20?.8:s>15?.6:s>10?.4:s>5?.2:.1}calculateExpectedTime(e){const n={critical:2+Math.random()*2,high:4+Math.random()*4,moderate:8+Math.random()*8,low:12+Math.random()*12},s=new Date;return s.setHours(s.getHours()+n[e]),s.toLocaleString()}getAffectedAreas(e){return{critical:["Riverside District","Low-lying Areas","Industrial Zone"],high:["Riverside District","Low-lying Areas"],moderate:["Riverside District"],low:[]}[e]}calculateWaterLevel(e){return 150+{critical:25+Math.random()*15,high:15+Math.random()*10,moderate:8+Math.random()*7,low:2+Math.random()*3}[e]}getRecommendations(e){return{critical:["Immediate evacuation of affected areas","Activate emergency response teams","Close all schools and offices","Set up emergency shelters"],high:["Prepare for evacuation","Move to higher ground","Secure important documents","Stock emergency supplies"],moderate:["Monitor water levels closely","Avoid low-lying areas","Keep emergency contacts ready","Prepare evacuation plan"],low:["Continue normal activities","Stay informed about weather updates","Keep emergency kit ready"]}[e]}}const cc=new OQ;class DQ{grid;waterLevels;riskMap;timeStep;currentTime;isRunning;simulationData;constructor(){this.grid=[],this.waterLevels=[],this.riskMap=[],this.timeStep=5,this.currentTime=0,this.isRunning=!1,this.simulationData=[]}initializeSimulation(e){this.grid=e.terrainData,this.waterLevels=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill(0)),this.riskMap=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill("low")),this.timeStep=e.timeStep,this.currentTime=0,this.simulationData=[]}runSimulation(e){this.initializeSimulation(e),this.isRunning=!0;const n=Math.floor(e.totalTime/this.timeStep);for(let s=0;s<n;s++)this.simulateStep(e),this.currentTime+=this.timeStep;return this.isRunning=!1,this.simulationData}simulateStep(e){const n=this.waterLevels.map(r=>[...r]),s=e.waterSource;n[s.y][s.x]+=s.intensity*this.timeStep/60;for(let r=0;r<e.gridSize;r++)for(let i=0;i<e.gridSize;i++)this.waterLevels[r][i]>0&&this.simulateWaterFlow(i,r,n,e);this.waterLevels=n,this.updateRiskMap(),this.recordSimulationData()}simulateWaterFlow(e,n,s,r){const i=this.waterLevels[n][e],l=this.grid[n][e],c=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];for(const d of c){const h=e+d.dx,m=n+d.dy;if(h>=0&&h<r.gridSize&&m>=0&&m<r.gridSize){const g=this.grid[m][h],v=this.waterLevels[m][h],y=l-g,A=i-v;if(y>0&&A>0){const w=Math.min((y+A)*.1,i*.3);s[n][e]-=w,s[m][h]+=w}}}}updateRiskMap(){for(let e=0;e<this.waterLevels.length;e++)for(let n=0;n<this.waterLevels[e].length;n++){const s=this.waterLevels[e][n],r=this.grid[e][n];s>r+2?this.riskMap[e][n]="critical":s>r+1?this.riskMap[e][n]="high":s>r+.5?this.riskMap[e][n]="moderate":s>0?this.riskMap[e][n]="low":this.riskMap[e][n]="low"}}recordSimulationData(){for(let e=0;e<this.waterLevels.length;e++)for(let n=0;n<this.waterLevels[e].length;n++){const s=this.waterLevels[e][n];s>0&&this.simulationData.push({x:n,y:e,waterLevel:s,timestamp:this.currentTime,riskLevel:this.riskMap[e][n]})}}getFloodZones(){return[{id:"riverside_district",name:"Riverside District",coordinates:[{lat:30.74,lon:76.78},{lat:30.75,lon:76.79},{lat:30.76,lon:76.8},{lat:30.75,lon:76.81}],elevation:220,population:25e3,infrastructure:["Schools","Hospitals","Markets"],riskLevel:"critical",evacuationTime:30},{id:"industrial_zone",name:"Industrial Zone",coordinates:[{lat:30.72,lon:76.75},{lat:30.73,lon:76.76},{lat:30.74,lon:76.77},{lat:30.73,lon:76.78}],elevation:240,population:15e3,infrastructure:["Factories","Warehouses","Power Plants"],riskLevel:"high",evacuationTime:45},{id:"downtown_area",name:"Downtown Area",coordinates:[{lat:30.76,lon:76.72},{lat:30.77,lon:76.73},{lat:30.78,lon:76.74},{lat:30.77,lon:76.75}],elevation:260,population:4e4,infrastructure:["Government Buildings","Banks","Shopping Centers"],riskLevel:"moderate",evacuationTime:60},{id:"residential_blocks",name:"Residential Blocks",coordinates:[{lat:30.7,lon:76.7},{lat:30.71,lon:76.71},{lat:30.72,lon:76.72},{lat:30.71,lon:76.73}],elevation:250,population:35e3,infrastructure:["Housing","Schools","Community Centers"],riskLevel:"low",evacuationTime:90}]}generateTerrainData(e){const n=[];for(let s=0;s<e;s++){const r=[];for(let i=0;i<e;i++){const l=e/2,c=e/2,d=Math.sqrt((i-l)**2+(s-c)**2),h=Math.sqrt(l**2+c**2),m=300-d/h*100,g=(Math.random()-.5)*20,y=Math.abs(s-c)<5?-30:0;r.push(Math.max(200,m+g+y))}n.push(r)}return n}getSimulationStatus(){const e=this.simulationData.filter(n=>n.riskLevel==="critical").length;return{isRunning:this.isRunning,currentTime:this.currentTime,totalPoints:this.simulationData.length,criticalPoints:e}}reset(){this.waterLevels=this.waterLevels.map(e=>e.map(()=>0)),this.riskMap=this.riskMap.map(e=>e.map(()=>"low")),this.currentTime=0,this.simulationData=[],this.isRunning=!1}}const Bm=new DQ,LQ=()=>{const[t,e]=x.useState(!1),[n,s]=x.useState([0]),[r,i]=x.useState("24h"),[l,c]=x.useState([]),[d,h]=x.useState(null),[m,g]=x.useState([]),[v,y]=x.useState([]),[A,w]=x.useState(!0),[j,S]=x.useState(0),[T,N]=x.useState(!0),[D,F]=x.useState(null),[$,R]=x.useState([]),P=x.useRef(null),U=[{label:"24h",value:"24h",active:!0},{label:"48h",value:"48h",active:!1},{label:"72h",value:"72h",active:!1}];x.useEffect(()=>{I()},[]),x.useEffect(()=>{l.length>0&&O()},[r,l]),x.useEffect(()=>(t?V():J(),()=>J()),[t]);const I=async()=>{w(!0);try{const W=await cc.getCurrentWeather(),de=await cc.getWeatherForecast(),oe=[W,...de];c(oe);const fe=await cc.getFloodPrediction(oe);h(fe);const pe=Bm.getFloodZones();y(pe);const re=await cc.getFloodMonitoringData();F(re);const Oe=await cc.getHistoricalData();R(Oe),k()}catch(W){console.error("Failed to load data:",W)}finally{w(!1)}},O=async()=>{try{const W=await cc.getFloodPrediction(l);h(W)}catch(W){console.error("Failed to update prediction:",W)}},k=()=>{const W={timeStep:5,totalTime:360,gridSize:20,terrainData:Bm.generateTerrainData(20),waterSource:{x:10,y:5,intensity:2.5}},de=Bm.runSimulation(W);g(de)},V=()=>{P.current||(P.current=setInterval(()=>{S(W=>W>=100?(e(!1),100):W+2)},100))},J=()=>{P.current&&(clearInterval(P.current),P.current=null)},ue=()=>{e(!1),S(0),s([0]),Bm.reset(),k()},G=W=>{s(W),S(W[0])},ee=async()=>{w(!0),await I()},B=()=>{const W={timestamp:new Date().toISOString(),weatherData:l[0],floodPrediction:d,simulationData:m.slice(0,100),floodZones:v.map(pe=>({name:pe.name,riskLevel:pe.riskLevel,population:pe.population}))},de=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),oe=URL.createObjectURL(de),fe=document.createElement("a");fe.href=oe,fe.download=`flood-prediction-report-${Date.now()}.json`,fe.click(),URL.revokeObjectURL(oe)},q=async()=>{if(navigator.share)try{await navigator.share({title:"Flood Prediction Alert",text:`Flood risk level: ${d?.riskLevel}. Probability: ${d?.probability}%`,url:window.location.href})}catch(W){console.log("Error sharing:",W)}else navigator.clipboard.writeText(`Flood Prediction Alert: Risk Level ${d?.riskLevel}, Probability ${d?.probability}%`)},X=[{title:"AI Accuracy",value:`${d?.confidence||85}%`,change:"Based on 15+ data sources",icon:GZ,color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{title:"Early Warning",value:d?`${Math.round(Math.random()*60+30)} min`:"47 min",change:"Within target range",icon:YZ,color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{title:"Data Sources",value:"1,247",change:"Real-time monitoring",icon:rl,color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"}],le=()=>{if(l.length===0)return[];const W=l[0];return[{parameter:"Rainfall",value:`${W.rainfall.toFixed(1)}mm`,status:W.rainfall>20?"Heavy":W.rainfall>10?"Moderate":"Light",color:W.rainfall>20?"text-red-600":W.rainfall>10?"text-yellow-600":"text-green-600",bgColor:W.rainfall>20?"bg-red-100":W.rainfall>10?"bg-yellow-100":"bg-green-100"},{parameter:"Wind Speed",value:`${W.windSpeed.toFixed(1)} km/h`,status:W.windSpeed>30?"Strong":W.windSpeed>15?"Moderate":"Light",color:W.windSpeed>30?"text-red-600":W.windSpeed>15?"text-yellow-600":"text-green-600",bgColor:W.windSpeed>30?"bg-red-100":W.windSpeed>15?"bg-yellow-100":"bg-green-100"},{parameter:"Temperature",value:`${W.temperature.toFixed(1)}C`,status:"Normal",color:"text-green-600",bgColor:"bg-green-100"},{parameter:"Humidity",value:`${W.humidity.toFixed(0)}%`,status:W.humidity>80?"High":W.humidity>60?"Moderate":"Low",color:W.humidity>80?"text-orange-600":W.humidity>60?"text-yellow-600":"text-green-600",bgColor:W.humidity>80?"bg-orange-100":W.humidity>60?"bg-yellow-100":"bg-green-100"}]};return A?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-lg text-slate-600",children:"Loading flood prediction data..."})]})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"AI-Powered Flood Prediction"}),a.jsxs(ae,{size:"sm",variant:"outline",onClick:ee,className:"flex items-center space-x-2",children:[a.jsx(_c,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"Advanced machine learning algorithms analyze weather patterns, historical data, and real-time conditions to predict flood events up to 72 hours in advance"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsxs(ae,{onClick:B,variant:"outline",className:"flex items-center space-x-2",children:[a.jsx(Lv,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Report"})]}),a.jsxs(ae,{onClick:q,variant:"outline",className:"flex items-center space-x-2",children:[a.jsx(dY,{className:"w-4 h-4"}),a.jsx("span",{children:"Share Alert"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:X.map((W,de)=>{const oe=W.icon;return a.jsxs(ze,{className:`p-6 bg-gradient-to-br ${W.bgColor}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${W.color} rounded-xl flex items-center justify-center`,children:a.jsx(oe,{className:"w-6 h-6 text-white"})}),a.jsx(Me,{variant:"secondary",className:"bg-white/70 text-slate-700",children:W.title})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:`text-3xl font-bold bg-gradient-to-r ${W.color} bg-clip-text text-transparent`,children:W.value}),a.jsx("p",{className:"text-sm text-slate-600",children:W.change})]})]},de)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Prediction Timeline"}),a.jsx("div",{className:"flex space-x-2",children:U.map(W=>a.jsx(ae,{size:"sm",variant:r===W.value?"default":"outline",className:r===W.value?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>i(W.value),children:W.label},W.value))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-64 p-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-6",children:a.jsxs("div",{className:"w-full h-full relative",children:[a.jsx("div",{className:"absolute inset-0 grid grid-cols-6 grid-rows-4 gap-0",children:Array.from({length:24}).map((W,de)=>a.jsx("div",{className:"border-r border-b border-slate-300/30"},de))}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[a.jsx("path",{d:"M 20 180 Q 100 120 180 100 T 340 80 T 500 90",stroke:"url(#gradient)",strokeWidth:"3",fill:"none",className:"animate-pulse"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),a.jsx("stop",{offset:"50%",stopColor:"#F59E0B"}),a.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]})})]}),a.jsx("div",{className:"absolute top-16 left-16 w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),a.jsx("div",{className:"absolute top-12 left-32 w-3 h-3 bg-yellow-500 rounded-full animate-pulse delay-300"}),a.jsx("div",{className:"absolute top-8 left-48 w-3 h-3 bg-red-500 rounded-full animate-pulse delay-700"})]})}),a.jsxs("div",{className:"absolute bottom-4 left-6 right-6 flex justify-between text-xs text-slate-600",children:[a.jsx("span",{children:"Now"}),a.jsx("span",{children:"12h"}),a.jsx("span",{children:"24h"}),a.jsx("span",{children:"36h"}),a.jsx("span",{children:"48h"})]})]})]}),a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Flood Spread Simulation"}),a.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Next 6 hours"})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-6 p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl",children:[a.jsx(ae,{size:"sm",variant:t?"secondary":"default",className:t?"":"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>e(!t),children:t?a.jsx(aY,{className:"w-4 h-4"}):a.jsx(oY,{className:"w-4 h-4"})}),a.jsx(ae,{size:"sm",variant:"outline",onClick:ue,children:a.jsx(lY,{className:"w-4 h-4"})}),a.jsx(ae,{size:"sm",variant:"outline",onClick:()=>N(!T),children:T?a.jsx(xu,{className:"w-4 h-4"}):a.jsx(Us,{className:"w-4 h-4"})}),a.jsx("div",{className:"flex-1 px-4",children:a.jsx(pO,{value:n,onValueChange:G,max:100,step:1,className:"w-full"})}),a.jsxs("span",{className:"text-sm text-slate-600 min-w-fit",children:["T+",j,"%"]})]}),a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-blue-900 rounded-2xl h-80 overflow-hidden",children:[T?a.jsx("div",{className:"absolute inset-4 rounded-xl overflow-hidden",children:a.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ${t?"animate-pulse":""}`,children:a.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-800 via-blue-600 to-teal-500 relative",children:[v.map((W,de)=>{const oe=1+j/100*2,fe=.6+j/100*.4,pe={critical:"from-red-400 to-red-600",high:"from-orange-400 to-orange-600",moderate:"from-yellow-400 to-yellow-600",low:"from-blue-400 to-blue-600"};return a.jsx("div",{className:`absolute bg-gradient-to-br ${pe[W.riskLevel]} rounded-full opacity-${Math.round(fe*100)} transition-all duration-2000`,style:{width:`${60*oe}px`,height:`${60*oe}px`,top:`${20+de*25}px`,left:`${30+de*30}px`},children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-xs font-bold",children:W.name.split(" ")[0]})},W.id)}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-white text-xs",children:[a.jsxs("span",{children:["Water Level: ",d?.waterLevel?.toFixed(1)||"0.0","m"]}),a.jsxs("span",{children:["Risk: ",d?.riskLevel?.toUpperCase()||"LOW"]})]})]})})}):a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(xu,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{children:"Simulation Hidden"})]})}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-white text-sm mb-2",children:[a.jsx("span",{children:"Simulation Progress"}),a.jsx("span",{children:"Next 6 hours"})]}),a.jsx(Xi,{value:n[0],className:"h-2 bg-white/20"})]})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Weather Conditions"}),a.jsx("div",{className:"space-y-4",children:le().map((W,de)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[W.parameter==="Rainfall"&&a.jsx(JZ,{className:"w-5 h-5 text-blue-600"}),W.parameter==="Wind Speed"&&a.jsx(vY,{className:"w-5 h-5 text-slate-600"}),W.parameter==="Temperature"&&a.jsx(fY,{className:"w-5 h-5 text-red-600"}),W.parameter==="Humidity"&&a.jsx(i1,{className:"w-5 h-5 text-teal-600"}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:W.parameter})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900",children:W.value}),a.jsx(Me,{variant:"secondary",className:`text-xs ${W.bgColor} ${W.color}`,children:W.status})]})]},de))})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Risk Assessment"}),a.jsx("div",{className:"space-y-4",children:v.map((W,de)=>{const oe={critical:"destructive",high:"bg-red-100 text-red-800",moderate:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},fe={critical:95,high:75,moderate:50,low:25},pe={critical:"High probability of severe flooding in 2-4 hours",high:"Moderate to high risk, prepare for evacuation",moderate:"Moderate risk, monitoring continues",low:"Low risk, normal conditions expected"};return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:W.name}),a.jsx(Me,{variant:W.riskLevel==="critical"?"destructive":"secondary",className:`text-xs ${oe[W.riskLevel]}`,children:W.riskLevel.charAt(0).toUpperCase()+W.riskLevel.slice(1)})]}),a.jsx(Xi,{value:fe[W.riskLevel],className:"h-2"}),a.jsx("p",{className:"text-xs text-slate-600",children:pe[W.riskLevel]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[a.jsxs("span",{children:["Population: ",W.population.toLocaleString()]}),a.jsxs("span",{children:["Evac Time: ",W.evacuationTime,"min"]})]})]},W.id)})})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Analysis"}),a.jsxs("div",{className:"space-y-4",children:[$.slice(0,2).map((W,de)=>a.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-900",children:W.floodOccurred?"Flood Event":"Normal Period"}),a.jsx(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:new Date(W.date).toLocaleDateString()})]}),a.jsxs("p",{className:"text-xs text-slate-600 mb-2",children:["Rainfall: ",W.rainfall.toFixed(1),"mm |",W.floodOccurred?` ${W.severity} flooding`:" No flooding",W.affectedPopulation>0&&` | ${W.affectedPopulation.toLocaleString()} affected`]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${W.floodOccurred?"bg-red-500":"bg-green-500"}`}),a.jsx("span",{className:"text-xs text-slate-600",children:W.floodOccurred?"Flood occurred":"No flood risk"})]})]},de)),a.jsxs("div",{className:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Prediction Confidence"}),a.jsx(Me,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:d?.confidence&&d.confidence>80?"High":"Medium"})]}),a.jsxs("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:[d?.confidence||85,"%"]}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Based on ",$.length," historical events and ML models"]})]})]})]})]})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Predicted Alert Timeline"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.slice(0,3).map((W,de)=>{const fe={critical:{bg:"from-red-50 to-pink-50",border:"border-red-200",dot:"bg-red-500",text:"text-red-800",title:"Critical Alert"},high:{bg:"from-orange-50 to-red-50",border:"border-orange-200",dot:"bg-orange-500",text:"text-orange-800",title:"High Alert"},moderate:{bg:"from-yellow-50 to-orange-50",border:"border-yellow-200",dot:"bg-yellow-500",text:"text-yellow-800",title:"Warning Alert"},low:{bg:"from-blue-50 to-teal-50",border:"border-blue-200",dot:"bg-blue-500",text:"text-blue-800",title:"Advisory"}}[W.riskLevel],pe=W.evacuationTime+Math.random()*60;return a.jsxs("div",{className:`p-4 bg-gradient-to-r ${fe.bg} rounded-xl border ${fe.border}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`w-4 h-4 ${fe.dot} rounded-full animate-pulse`,style:{animationDelay:`${de*300}ms`}}),a.jsx("span",{className:`text-sm font-semibold ${fe.text}`,children:fe.title})]}),a.jsx("p",{className:"text-sm text-slate-700 mb-2",children:W.name}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Expected in ",Math.round(pe)," minutes"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:W.riskLevel==="critical"?"Immediate evacuation may be required":W.riskLevel==="high"?"Prepare for evacuation":W.riskLevel==="moderate"?"Precautionary measures advised":"Monitor conditions closely"}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[a.jsxs("span",{children:["Population: ",W.population.toLocaleString()]}),a.jsxs("span",{children:["Evac Time: ",W.evacuationTime,"min"]})]})]},W.id)})})]})]})};var qv="Switch",[UQ,XJ]=ms(qv),[VQ,zQ]=UQ(qv),gO=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:l,disabled:c,value:d="on",onCheckedChange:h,form:m,...g}=t,[v,y]=x.useState(null),A=Le(e,N=>y(N)),w=x.useRef(!1),j=v?m||!!v.closest("form"):!0,[S,T]=ao({prop:r,defaultProp:i??!1,onChange:h,caller:qv});return a.jsxs(VQ,{scope:n,checked:S,disabled:c,children:[a.jsx(be.button,{type:"button",role:"switch","aria-checked":S,"aria-required":l,"data-state":xO(S),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:A,onClick:me(t.onClick,N=>{T(D=>!D),j&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),j&&a.jsx(_O,{control:v,bubbles:!w.current,name:s,value:d,checked:S,required:l,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});gO.displayName=qv;var vO="SwitchThumb",yO=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,r=zQ(vO,n);return a.jsx(be.span,{"data-state":xO(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});yO.displayName=vO;var BQ="SwitchBubbleInput",_O=x.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...r},i)=>{const l=x.useRef(null),c=Le(l,i),d=m1(n),h=Ub(e);return x.useEffect(()=>{const m=l.current;if(!m)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&y){const A=new Event("click",{bubbles:s});y.call(m,n),m.dispatchEvent(A)}},[d,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:c,style:{...r.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_O.displayName=BQ;function xO(t){return t?"checked":"unchecked"}var bO=gO,FQ=yO;const Ax=x.forwardRef(({className:t,...e},n)=>a.jsx(bO,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(FQ,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ax.displayName=bO.displayName;const HQ=()=>{const[t,e]=x.useState(!0),[n,s]=x.useState("en"),[r,i]=x.useState(!0),l=[{id:1,type:"critical",title:"Flash Flood Warning",message:"Immediate evacuation required for Riverside District. Water levels rising rapidly.",location:"Riverside District",time:"2 minutes ago",status:"active",recipients:1250},{id:2,type:"warning",title:"Water Level Alert",message:"Water levels approaching warning threshold in Industrial Zone.",location:"Industrial Zone",time:"15 minutes ago",status:"active",recipients:890},{id:3,type:"info",title:"Weather Update",message:"Heavy rainfall expected in the next 6 hours. Stay alert.",location:"City Wide",time:"1 hour ago",status:"sent",recipients:3200},{id:4,type:"success",title:"All Clear",message:"Water levels have receded in Downtown Area. Normal activities can resume.",location:"Downtown Area",time:"3 hours ago",status:"resolved",recipients:1800}],c=[{name:"Emergency Services",number:"911",type:"emergency"},{name:"Flood Control Center",number:"+1-555-FLOOD",type:"flood"},{name:"Red Cross Shelter",number:"+1-555-SHELTER",type:"shelter"},{name:"Municipal Office",number:"+1-555-CITY",type:"municipal"}],d=m=>{switch(m){case"critical":return"danger";case"warning":return"warning";case"success":return"success";default:return"default"}},h=m=>{switch(m){case"critical":return Nt;case"warning":return Wc;case"success":return or;default:return Wc}};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Early Warning & Communications"}),a.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Real-time alert system with multi-channel communication and emergency response coordination"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Alert Settings"}),a.jsx(gY,{className:"w-5 h-5 text-slate-600"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Sound Alerts"}),a.jsx(Ax,{checked:t,onCheckedChange:e})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Auto-Translate"}),a.jsx(Ax,{checked:r,onCheckedChange:i})]})]})]}),a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Broadcast Alert"}),a.jsx(rY,{className:"w-5 h-5 text-slate-600"})]}),a.jsxs(ae,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Send Emergency Alert"]})]}),a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"System Status"}),a.jsx(vn,{className:"w-5 h-5 text-green-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"SMS Gateway"}),a.jsx(Me,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Online"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-700",children:"Push Notifications"}),a.jsx(Me,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Active"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Active Alerts"}),a.jsxs(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[a.jsx(Wc,{className:"w-3 h-3 mr-1"}),l.filter(m=>m.status==="active").length," Active"]})]}),a.jsx("div",{className:"space-y-4",children:l.map(m=>{const g=h(m.type);return a.jsx(ze,{variant:d(m.type),className:"p-4",hover:!1,children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${m.type==="critical"?"bg-red-100":m.type==="warning"?"bg-yellow-100":m.type==="success"?"bg-green-100":"bg-blue-100"}`,children:a.jsx(g,{className:`w-5 h-5 ${m.type==="critical"?"text-red-600":m.type==="warning"?"text-yellow-600":m.type==="success"?"text-green-600":"text-blue-600"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:m.title}),a.jsx(Me,{variant:m.status==="active"?"default":"secondary",className:m.status==="active"?"bg-red-100 text-red-700":"",children:m.status})]}),a.jsx("p",{className:"text-sm text-slate-700 mb-3",children:m.message}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ln,{className:"w-3 h-3 mr-1"}),m.location]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Wn,{className:"w-3 h-3 mr-1"}),m.recipients," recipients"]})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(po,{className:"w-3 h-3 mr-1"}),m.time]})]})]})]})},m.id)})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ae,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(Ln,{className:"w-4 h-4 mr-2"}),"View Evacuation Routes"]}),a.jsxs(ae,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Find Nearest Shelter"]}),a.jsxs(ae,{className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(gp,{className:"w-4 h-4 mr-2"}),"Community Chat"]})]})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Emergency Contacts"}),a.jsx("div",{className:"space-y-3",children:c.map((m,g)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg border border-slate-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:m.name}),a.jsx("p",{className:"text-xs text-slate-600",children:m.number})]}),a.jsx(ae,{size:"sm",variant:"outline",className:"hover:bg-green-50 hover:border-green-200",children:a.jsx(ir,{className:"w-4 h-4"})})]},g))})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Language & Translation"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Uv,{className:"w-5 h-5 text-slate-600"}),a.jsx("span",{className:"text-sm text-slate-700",children:"Multi-language Support"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(ae,{size:"sm",variant:n==="en"?"default":"outline",className:n==="en"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("en"),children:"English"}),a.jsx(ae,{size:"sm",variant:n==="es"?"default":"outline",className:n==="es"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("es"),children:"Espaol"}),a.jsx(ae,{size:"sm",variant:n==="hi"?"default":"outline",className:n==="hi"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("hi"),children:""}),a.jsx(ae,{size:"sm",variant:n==="bn"?"default":"outline",className:n==="bn"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("bn"),children:""})]})]})]})]})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Alert Preview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"SMS Alert Preview"}),a.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs font-medium text-slate-600",children:"FLOOD ALERT"})]}),a.jsx("p",{className:"text-sm text-slate-900 mb-2",children:" URGENT: Flash flood warning for Riverside District. Evacuate immediately to higher ground."}),a.jsx("p",{className:"text-xs text-slate-600",children:"Shelter: Community Center, 123 Main St. Info: jalrakshak.gov"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"App Notification Preview"}),a.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-red-500",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-teal-500 rounded-lg flex items-center justify-center",children:a.jsx(Nt,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"JalRakshak Alert"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Critical Flood Warning"})]})]}),a.jsx("p",{className:"text-sm text-slate-700",children:"Immediate evacuation required for your area. Tap for evacuation routes and shelter information."})]})})]})]})]})]})},wO=x.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));wO.displayName="Textarea";var Gv="Dialog",[SO,JJ]=ms(Gv),[$Q,Ir]=SO(Gv),EO=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:l=!0}=t,c=x.useRef(null),d=x.useRef(null),[h,m]=ao({prop:s,defaultProp:r??!1,onChange:i,caller:Gv});return a.jsx($Q,{scope:e,triggerRef:c,contentRef:d,contentId:Jr(),titleId:Jr(),descriptionId:Jr(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};EO.displayName=Gv;var TO="DialogTrigger",NO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ir(TO,n),i=Le(e,r.triggerRef);return a.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":y1(r.open),...s,ref:i,onClick:me(t.onClick,r.onOpenToggle)})});NO.displayName=TO;var g1="DialogPortal",[qQ,AO]=SO(g1,{forceMount:void 0}),jO=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=Ir(g1,e);return a.jsx(qQ,{scope:e,forceMount:n,children:x.Children.map(s,l=>a.jsx(ps,{present:n||i.open,children:a.jsx(ev,{asChild:!0,container:r,children:l})}))})};jO.displayName=g1;var Cg="DialogOverlay",CO=x.forwardRef((t,e)=>{const n=AO(Cg,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=Ir(Cg,t.__scopeDialog);return i.modal?a.jsx(ps,{present:s||i.open,children:a.jsx(WQ,{...r,ref:e})}):null});CO.displayName=Cg;var GQ=cl("DialogOverlay.RemoveScroll"),WQ=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ir(Cg,n);return a.jsx(Iv,{as:GQ,allowPinchZoom:!0,shards:[r.contentRef],children:a.jsx(be.div,{"data-state":y1(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),vl="DialogContent",RO=x.forwardRef((t,e)=>{const n=AO(vl,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=Ir(vl,t.__scopeDialog);return a.jsx(ps,{present:s||i.open,children:i.modal?a.jsx(KQ,{...r,ref:e}):a.jsx(ZQ,{...r,ref:e})})});RO.displayName=vl;var KQ=x.forwardRef((t,e)=>{const n=Ir(vl,t.__scopeDialog),s=x.useRef(null),r=Le(e,n.contentRef,s);return x.useEffect(()=>{const i=s.current;if(i)return Qw(i)},[]),a.jsx(PO,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:me(t.onFocusOutside,i=>i.preventDefault())})}),ZQ=x.forwardRef((t,e)=>{const n=Ir(vl,t.__scopeDialog),s=x.useRef(!1),r=x.useRef(!1);return a.jsx(PO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=i.target;n.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),PO=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...l}=t,c=Ir(vl,n),d=x.useRef(null),h=Le(e,d);return Yw(),a.jsxs(a.Fragment,{children:[a.jsx(Cv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:a.jsx(vf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":y1(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(YQ,{titleId:c.titleId}),a.jsx(XQ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),v1="DialogTitle",IO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ir(v1,n);return a.jsx(be.h2,{id:r.titleId,...s,ref:e})});IO.displayName=v1;var kO="DialogDescription",MO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ir(kO,n);return a.jsx(be.p,{id:r.descriptionId,...s,ref:e})});MO.displayName=kO;var OO="DialogClose",DO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ir(OO,n);return a.jsx(be.button,{type:"button",...s,ref:e,onClick:me(t.onClick,()=>r.onOpenChange(!1))})});DO.displayName=OO;function y1(t){return t?"open":"closed"}var LO="DialogTitleWarning",[eee,UO]=A3(LO,{contentName:vl,titleName:v1,docsSlug:"dialog"}),YQ=({titleId:t})=>{const e=UO(LO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},QQ="DialogDescriptionWarning",XQ=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UO(QQ).contentName}}.`;return x.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},JQ=EO,eX=NO,tX=jO,VO=CO,zO=RO,BO=IO,FO=MO,nX=DO;const aA=JQ,sX=eX,rX=tX,HO=x.forwardRef(({className:t,...e},n)=>a.jsx(VO,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));HO.displayName=VO.displayName;const jx=x.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(rX,{children:[a.jsx(HO,{}),a.jsxs(zO,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(nX,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Vv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jx.displayName=zO.displayName;const Cx=({className:t,...e})=>a.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Cx.displayName="DialogHeader";const Rx=x.forwardRef(({className:t,...e},n)=>a.jsx(BO,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));Rx.displayName=BO.displayName;const Px=x.forwardRef(({className:t,...e},n)=>a.jsx(FO,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));Px.displayName=FO.displayName;var iX=[" ","Enter","ArrowUp","ArrowDown"],aX=[" ","Enter"],yl="Select",[Wv,Kv,oX]=jv(yl),[qu,tee]=ms(yl,[oX,Iu]),Zv=Iu(),[lX,xo]=qu(yl),[cX,uX]=qu(yl),$O=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:g,disabled:v,required:y,form:A}=t,w=Zv(e),[j,S]=x.useState(null),[T,N]=x.useState(null),[D,F]=x.useState(!1),$=Hu(h),[R,P]=ao({prop:s,defaultProp:r??!1,onChange:i,caller:yl}),[U,I]=ao({prop:l,defaultProp:c,onChange:d,caller:yl}),O=x.useRef(null),k=j?A||!!j.closest("form"):!0,[V,J]=x.useState(new Set),ue=Array.from(V).map(G=>G.props.value).join(";");return a.jsx(EC,{...w,children:a.jsxs(lX,{required:y,scope:e,trigger:j,onTriggerChange:S,valueNode:T,onValueNodeChange:N,valueNodeHasChildren:D,onValueNodeHasChildrenChange:F,contentId:Jr(),value:U,onValueChange:I,open:R,onOpenChange:P,dir:$,triggerPointerDownPosRef:O,disabled:v,children:[a.jsx(Wv.Provider,{scope:e,children:a.jsx(cX,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(G=>{J(ee=>new Set(ee).add(G))},[]),onNativeOptionRemove:x.useCallback(G=>{J(ee=>{const B=new Set(ee);return B.delete(G),B})},[]),children:n})}),k?a.jsxs(mD,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:g,value:U,onChange:G=>I(G.target.value),disabled:v,form:A,children:[U===void 0?a.jsx("option",{value:""}):null,Array.from(V)]},ue):null]})})};$O.displayName=yl;var qO="SelectTrigger",GO=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=Zv(n),l=xo(qO,n),c=l.disabled||s,d=Le(e,l.onTriggerChange),h=Kv(n),m=x.useRef("touch"),[g,v,y]=gD(w=>{const j=h().filter(N=>!N.disabled),S=j.find(N=>N.value===l.value),T=vD(j,w,S);T!==void 0&&l.onValueChange(T.value)}),A=w=>{c||(l.onOpenChange(!0),y()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return a.jsx(Bb,{asChild:!0,...i,children:a.jsx(be.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":pD(l.value)?"":void 0,...r,ref:d,onClick:me(r.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&A(w)}),onPointerDown:me(r.onPointerDown,w=>{m.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(A(w),w.preventDefault())}),onKeyDown:me(r.onKeyDown,w=>{const j=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(j&&w.key===" ")&&iX.includes(w.key)&&(A(),w.preventDefault())})})})});GO.displayName=qO;var WO="SelectValue",KO=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:l="",...c}=t,d=xo(WO,n),{onValueNodeHasChildrenChange:h}=d,m=i!==void 0,g=Le(e,d.onValueNodeChange);return nn(()=>{h(m)},[h,m]),a.jsx(be.span,{...c,ref:g,style:{pointerEvents:"none"},children:pD(d.value)?a.jsx(a.Fragment,{children:l}):i})});KO.displayName=WO;var dX="SelectIcon",ZO=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return a.jsx(be.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});ZO.displayName=dX;var hX="SelectPortal",YO=t=>a.jsx(ev,{asChild:!0,...t});YO.displayName=hX;var _l="SelectContent",QO=x.forwardRef((t,e)=>{const n=xo(_l,t.__scopeSelect),[s,r]=x.useState();if(nn(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?Su.createPortal(a.jsx(XO,{scope:t.__scopeSelect,children:a.jsx(Wv.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(JO,{...t,ref:e})});QO.displayName=_l;var br=10,[XO,bo]=qu(_l),fX="SelectContentImpl",mX=cl("SelectContent.RemoveScroll"),JO=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:A,hideWhenDetached:w,avoidCollisions:j,...S}=t,T=xo(_l,n),[N,D]=x.useState(null),[F,$]=x.useState(null),R=Le(e,re=>D(re)),[P,U]=x.useState(null),[I,O]=x.useState(null),k=Kv(n),[V,J]=x.useState(!1),ue=x.useRef(!1);x.useEffect(()=>{if(N)return Qw(N)},[N]),Yw();const G=x.useCallback(re=>{const[Oe,...vt]=k().map(tt=>tt.ref.current),[We]=vt.slice(-1),Ke=document.activeElement;for(const tt of re)if(tt===Ke||(tt?.scrollIntoView({block:"nearest"}),tt===Oe&&F&&(F.scrollTop=0),tt===We&&F&&(F.scrollTop=F.scrollHeight),tt?.focus(),document.activeElement!==Ke))return},[k,F]),ee=x.useCallback(()=>G([P,N]),[G,P,N]);x.useEffect(()=>{V&&ee()},[V,ee]);const{onOpenChange:B,triggerPointerDownPosRef:q}=T;x.useEffect(()=>{if(N){let re={x:0,y:0};const Oe=We=>{re={x:Math.abs(Math.round(We.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(We.pageY)-(q.current?.y??0))}},vt=We=>{re.x<=10&&re.y<=10?We.preventDefault():N.contains(We.target)||B(!1),document.removeEventListener("pointermove",Oe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",vt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",vt,{capture:!0})}}},[N,B,q]),x.useEffect(()=>{const re=()=>B(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[B]);const[X,le]=gD(re=>{const Oe=k().filter(Ke=>!Ke.disabled),vt=Oe.find(Ke=>Ke.ref.current===document.activeElement),We=vD(Oe,re,vt);We&&setTimeout(()=>We.ref.current.focus())}),W=x.useCallback((re,Oe,vt)=>{const We=!ue.current&&!vt;(T.value!==void 0&&T.value===Oe||We)&&(U(re),We&&(ue.current=!0))},[T.value]),de=x.useCallback(()=>N?.focus(),[N]),oe=x.useCallback((re,Oe,vt)=>{const We=!ue.current&&!vt;(T.value!==void 0&&T.value===Oe||We)&&O(re)},[T.value]),fe=s==="popper"?Ix:eD,pe=fe===Ix?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:A,hideWhenDetached:w,avoidCollisions:j}:{};return a.jsx(XO,{scope:n,content:N,viewport:F,onViewportChange:$,itemRefCallback:W,selectedItem:P,onItemLeave:de,itemTextRefCallback:oe,focusSelectedItem:ee,selectedItemText:I,position:s,isPositioned:V,searchRef:X,children:a.jsx(Iv,{as:mX,allowPinchZoom:!0,children:a.jsx(Cv,{asChild:!0,trapped:T.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:me(r,re=>{T.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:a.jsx(vf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:a.jsx(fe,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:re=>re.preventDefault(),...S,...pe,onPlaced:()=>J(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:me(S.onKeyDown,re=>{const Oe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Oe&&re.key.length===1&&le(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let We=k().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(re.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ke=re.target,tt=We.indexOf(Ke);We=We.slice(tt+1)}setTimeout(()=>G(We)),re.preventDefault()}})})})})})})});JO.displayName=fX;var pX="SelectItemAlignedPosition",eD=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=xo(_l,n),l=bo(_l,n),[c,d]=x.useState(null),[h,m]=x.useState(null),g=Le(e,R=>m(R)),v=Kv(n),y=x.useRef(!1),A=x.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:S,focusSelectedItem:T}=l,N=x.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&w&&j&&S){const R=i.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),I=S.getBoundingClientRect();if(i.dir!=="rtl"){const Ke=I.left-P.left,tt=U.left-Ke,jt=R.left-tt,Zn=R.width+jt,kr=Math.max(Zn,P.width),gs=window.innerWidth-br,vs=Xh(tt,[br,Math.max(br,gs-kr)]);c.style.minWidth=Zn+"px",c.style.left=vs+"px"}else{const Ke=P.right-I.right,tt=window.innerWidth-U.right-Ke,jt=window.innerWidth-R.right-tt,Zn=R.width+jt,kr=Math.max(Zn,P.width),gs=window.innerWidth-br,vs=Xh(tt,[br,Math.max(br,gs-kr)]);c.style.minWidth=Zn+"px",c.style.right=vs+"px"}const O=v(),k=window.innerHeight-br*2,V=w.scrollHeight,J=window.getComputedStyle(h),ue=parseInt(J.borderTopWidth,10),G=parseInt(J.paddingTop,10),ee=parseInt(J.borderBottomWidth,10),B=parseInt(J.paddingBottom,10),q=ue+G+V+B+ee,X=Math.min(j.offsetHeight*5,q),le=window.getComputedStyle(w),W=parseInt(le.paddingTop,10),de=parseInt(le.paddingBottom,10),oe=R.top+R.height/2-br,fe=k-oe,pe=j.offsetHeight/2,re=j.offsetTop+pe,Oe=ue+G+re,vt=q-Oe;if(Oe<=oe){const Ke=O.length>0&&j===O[O.length-1].ref.current;c.style.bottom="0px";const tt=h.clientHeight-w.offsetTop-w.offsetHeight,jt=Math.max(fe,pe+(Ke?de:0)+tt+ee),Zn=Oe+jt;c.style.height=Zn+"px"}else{const Ke=O.length>0&&j===O[0].ref.current;c.style.top="0px";const jt=Math.max(oe,ue+w.offsetTop+(Ke?W:0)+pe)+vt;c.style.height=jt+"px",w.scrollTop=Oe-oe+w.offsetTop}c.style.margin=`${br}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=k+"px",s?.(),requestAnimationFrame(()=>y.current=!0)}},[v,i.trigger,i.valueNode,c,h,w,j,S,i.dir,s]);nn(()=>N(),[N]);const[D,F]=x.useState();nn(()=>{h&&F(window.getComputedStyle(h).zIndex)},[h]);const $=x.useCallback(R=>{R&&A.current===!0&&(N(),T?.(),A.current=!1)},[N,T]);return a.jsx(vX,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:$,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:a.jsx(be.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});eD.displayName=pX;var gX="SelectPopperPosition",Ix=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=br,...i}=t,l=Zv(n);return a.jsx(Fb,{...l,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ix.displayName=gX;var[vX,_1]=qu(_l,{}),kx="SelectViewport",tD=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=bo(kx,n),l=_1(kx,n),c=Le(e,i.onViewportChange),d=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Wv.Slot,{scope:n,children:a.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:me(r.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=l;if(v?.current&&g){const y=Math.abs(d.current-m.scrollTop);if(y>0){const A=window.innerHeight-br*2,w=parseFloat(g.style.minHeight),j=parseFloat(g.style.height),S=Math.max(w,j);if(S<A){const T=S+y,N=Math.min(A,T),D=T-N;g.style.height=N+"px",g.style.bottom==="0px"&&(m.scrollTop=D>0?D:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});tD.displayName=kx;var nD="SelectGroup",[yX,_X]=qu(nD),xX=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Jr();return a.jsx(yX,{scope:n,id:r,children:a.jsx(be.div,{role:"group","aria-labelledby":r,...s,ref:e})})});xX.displayName=nD;var sD="SelectLabel",rD=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=_X(sD,n);return a.jsx(be.div,{id:r.id,...s,ref:e})});rD.displayName=sD;var Rg="SelectItem",[bX,iD]=qu(Rg),aD=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...l}=t,c=xo(Rg,n),d=bo(Rg,n),h=c.value===s,[m,g]=x.useState(i??""),[v,y]=x.useState(!1),A=Le(e,T=>d.itemRefCallback?.(T,s,r)),w=Jr(),j=x.useRef("touch"),S=()=>{r||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(bX,{scope:n,value:s,disabled:r,textId:w,isSelected:h,onItemTextChange:x.useCallback(T=>{g(N=>N||(T?.textContent??"").trim())},[]),children:a.jsx(Wv.ItemSlot,{scope:n,value:s,disabled:r,textValue:m,children:a.jsx(be.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...l,ref:A,onFocus:me(l.onFocus,()=>y(!0)),onBlur:me(l.onBlur,()=>y(!1)),onClick:me(l.onClick,()=>{j.current!=="mouse"&&S()}),onPointerUp:me(l.onPointerUp,()=>{j.current==="mouse"&&S()}),onPointerDown:me(l.onPointerDown,T=>{j.current=T.pointerType}),onPointerMove:me(l.onPointerMove,T=>{j.current=T.pointerType,r?d.onItemLeave?.():j.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(l.onPointerLeave,T=>{T.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:me(l.onKeyDown,T=>{d.searchRef?.current!==""&&T.key===" "||(aX.includes(T.key)&&S(),T.key===" "&&T.preventDefault())})})})})});aD.displayName=Rg;var Vd="SelectItemText",oD=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,l=xo(Vd,n),c=bo(Vd,n),d=iD(Vd,n),h=uX(Vd,n),[m,g]=x.useState(null),v=Le(e,S=>g(S),d.onItemTextChange,S=>c.itemTextRefCallback?.(S,d.value,d.disabled)),y=m?.textContent,A=x.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=h;return nn(()=>(w(A),()=>j(A)),[w,j,A]),a.jsxs(a.Fragment,{children:[a.jsx(be.span,{id:d.textId,...i,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Su.createPortal(i.children,l.valueNode):null]})});oD.displayName=Vd;var lD="SelectItemIndicator",cD=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return iD(lD,n).isSelected?a.jsx(be.span,{"aria-hidden":!0,...s,ref:e}):null});cD.displayName=lD;var Mx="SelectScrollUpButton",uD=x.forwardRef((t,e)=>{const n=bo(Mx,t.__scopeSelect),s=_1(Mx,t.__scopeSelect),[r,i]=x.useState(!1),l=Le(e,s.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),r?a.jsx(hD,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});uD.displayName=Mx;var Ox="SelectScrollDownButton",dD=x.forwardRef((t,e)=>{const n=bo(Ox,t.__scopeSelect),s=_1(Ox,t.__scopeSelect),[r,i]=x.useState(!1),l=Le(e,s.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),r?a.jsx(hD,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});dD.displayName=Ox;var hD=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=bo("SelectScrollButton",n),l=x.useRef(null),c=Kv(n),d=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),nn(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),a.jsx(be.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:me(r.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:me(r.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:me(r.onPointerLeave,()=>{d()})})}),wX="SelectSeparator",fD=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return a.jsx(be.div,{"aria-hidden":!0,...s,ref:e})});fD.displayName=wX;var Dx="SelectArrow",SX=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Zv(n),i=xo(Dx,n),l=bo(Dx,n);return i.open&&l.position==="popper"?a.jsx(Hb,{...r,...s,ref:e}):null});SX.displayName=Dx;var EX="SelectBubbleInput",mD=x.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=x.useRef(null),i=Le(s,r),l=m1(e);return x.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&m){const g=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[l,e]),a.jsx(be.select,{...n,style:{...TC,...n.style},ref:i,defaultValue:e})});mD.displayName=EX;function pD(t){return t===""||t===void 0}function gD(t){const e=gn(t),n=x.useRef(""),s=x.useRef(0),r=x.useCallback(l=>{const c=n.current+l;e(c),function d(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),i=x.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function vD(t,e,n){const r=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let l=TX(t,Math.max(i,0));r.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==n?d:void 0}function TX(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var NX=$O,yD=GO,AX=KO,jX=ZO,CX=YO,_D=QO,RX=tD,xD=rD,bD=aD,PX=oD,IX=cD,wD=uD,SD=dD,ED=fD;const kX=NX,MX=AX,TD=x.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(yD,{ref:s,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(jX,{asChild:!0,children:a.jsx(Tg,{className:"h-4 w-4 opacity-50"})})]}));TD.displayName=yD.displayName;const ND=x.forwardRef(({className:t,...e},n)=>a.jsx(wD,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(KZ,{className:"h-4 w-4"})}));ND.displayName=wD.displayName;const AD=x.forwardRef(({className:t,...e},n)=>a.jsx(SD,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Tg,{className:"h-4 w-4"})}));AD.displayName=SD.displayName;const jD=x.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>a.jsx(CX,{children:a.jsxs(_D,{ref:r,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[a.jsx(ND,{}),a.jsx(RX,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(AD,{})]})}));jD.displayName=_D.displayName;const OX=x.forwardRef(({className:t,...e},n)=>a.jsx(xD,{ref:n,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));OX.displayName=xD.displayName;const zd=x.forwardRef(({className:t,children:e,...n},s)=>a.jsxs(bD,{ref:s,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(IX,{children:a.jsx(dM,{className:"h-4 w-4"})})}),a.jsx(PX,{children:e})]}));zd.displayName=bD.displayName;const DX=x.forwardRef(({className:t,...e},n)=>a.jsx(ED,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));DX.displayName=ED.displayName;const LX=()=>{const{currentUser:t,userProfile:e}=Fu(),[n,s]=x.useState([]),[r,i]=x.useState(null),[l,c]=x.useState(!1),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[v,y]=x.useState(!1),[A,w]=x.useState(null),[j,S]=x.useState({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:null}),[T,N]=x.useState([]),[D,F]=x.useState([]);x.useEffect(()=>{$()},[]),x.useEffect(()=>{t&&R()},[t]);const $=async()=>{try{const B=await Sx();i(B),S(q=>({...q,selectedLocation:B})),we.success(`Location detected: ${B.district}, ${B.state}`)}catch(B){console.error("Error getting location:",B);const q={coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"};i(q),S(X=>({...X,selectedLocation:q}))}},R=async()=>{if(t){c(!0);try{console.log("Loading reports for user:",t.uid);const B=await rW(t.uid);console.log("Loaded user reports:",B),s(B),B.length===0?we.info("You haven't submitted any reports yet. Create your first report!"):we.success(`Loaded ${B.length} of your reports`)}catch(B){console.error("Error loading user reports:",B),we.error("Failed to load your reports. Please try again."),s([])}finally{c(!1)}}},P=B=>{const q=Array.from(B.target.files||[]);if(q.length!==0){if(T.length+q.length>5){we.error("Maximum 5 images allowed");return}N(X=>[...X,...q]),q.forEach(X=>{const le=URL.createObjectURL(X);F(W=>[...W,le])})}},U=B=>{N(q=>q.filter((X,le)=>le!==B)),F(q=>{const X=q[B];return URL.revokeObjectURL(X),q.filter((le,W)=>W!==B)})},I=async B=>{if(!(B.length<3))try{const q=await pQ(B);q.length>0&&S(X=>({...X,selectedLocation:q[0]}))}catch(q){console.error("Location search error:",q)}},O=async()=>{try{const B=await Sx();S(q=>({...q,selectedLocation:B,locationSearch:B.address})),we.success("Current location selected")}catch{we.error("Failed to get current location")}},k=async()=>{if(!t||!e){we.error("Please sign in to submit reports");return}if(!j.title.trim()||!j.description.trim()){we.error("Please fill in all required fields");return}if(!j.selectedLocation){we.error("Please select a location");return}h(!0);try{const B=[];for(const de of T){const oe=await tW(de,"images");oe&&B.push(oe)}const q={user_id:t.uid,user_name:e.displayName,user_email:e.email,title:j.title,description:j.description,severity:j.severity,location:{lat:j.selectedLocation.coords.lat,lng:j.selectedLocation.coords.lng,address:j.selectedLocation.address,state:j.selectedLocation.state,district:j.selectedLocation.district},images:B,status:"pending"},{auth:X}=wv(),le=X.currentUser;le&&(q.user_id=le.uid,q.user_name=le.displayName||le.email||"Unknown",q.user_email=le.email||""),await nW(q)?(we.success("Report submitted successfully!"),await R(),S({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:r}),N([]),F([]),g(!1)):we.error("Failed to submit report")}catch(B){console.error("Submit error:",B),we.error("Failed to submit report")}finally{h(!1)}},V=B=>{switch(B){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-blue-600 bg-blue-100"}},J=B=>{switch(B){case"verified":return"text-green-600 bg-green-100";case"resolved":return"text-blue-600 bg-blue-100";case"false_alarm":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},ue=B=>{const q=new Date(B),le=Math.floor((new Date().getTime()-q.getTime())/(1e3*60));return le<1?"Just now":le<60?`${le} minutes ago`:le<1440?`${Math.floor(le/60)} hours ago`:`${Math.floor(le/1440)} days ago`},G=B=>{w(B),y(!0)},ee=(B,q)=>{const X=`https://www.google.com/maps?q=${B},${q}`;window.open(X,"_blank")};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"My Flood Reports"}),a.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"View and manage your personal flood reports. Each user sees only their own reports for privacy."}),r&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[a.jsx(Ln,{className:"w-4 h-4"}),a.jsxs("span",{children:["Your location: ",r.district,", ",r.state]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(gp,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"My Reports"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:n.length})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(Nt,{className:"w-6 h-6 text-red-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Critical"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:n.filter(B=>B.severity==="critical").length})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(or,{className:"w-6 h-6 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Verified"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:n.filter(B=>B.status==="verified").length})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:a.jsx(po,{className:"w-6 h-6 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:n.filter(B=>B.status==="pending").length})]})]}),a.jsx("div",{className:"text-center",children:a.jsxs(aA,{open:m,onOpenChange:g,children:[a.jsx(sX,{asChild:!0,children:a.jsxs(ae,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4",children:[a.jsx(hM,{className:"w-5 h-5 mr-2"}),"Submit Flood Report"]})}),a.jsxs(jx,{className:"max-w-2xl",children:[a.jsxs(Cx,{children:[a.jsx(Rx,{children:"Submit Flood Report"}),a.jsx(Px,{children:"Help your community by reporting flood conditions in your area"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"title",children:"Report Title *"}),a.jsx(Tn,{id:"title",placeholder:"Brief description of the situation",value:j.title,onChange:B=>S(q=>({...q,title:B.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{htmlFor:"description",children:"Detailed Description *"}),a.jsx(wO,{id:"description",placeholder:"Provide detailed information about the flood situation, water levels, affected areas, etc.",rows:4,value:j.description,onChange:B=>S(q=>({...q,description:B.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{children:"Severity Level"}),a.jsxs(kX,{value:j.severity,onValueChange:B=>S(q=>({...q,severity:B})),children:[a.jsx(TD,{children:a.jsx(MX,{})}),a.jsxs(jD,{children:[a.jsx(zd,{value:"low",children:"Low - Minor water accumulation"}),a.jsx(zd,{value:"medium",children:"Medium - Noticeable flooding"}),a.jsx(zd,{value:"high",children:"High - Significant flooding"}),a.jsx(zd,{value:"critical",children:"Critical - Dangerous conditions"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{children:"Location"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Tn,{placeholder:"Search for location or use current location",value:j.locationSearch,onChange:B=>{S(q=>({...q,locationSearch:B.target.value})),I(B.target.value)},className:"flex-1"}),a.jsxs(ae,{type:"button",variant:"outline",onClick:O,className:"flex items-center space-x-1",children:[a.jsx(Yh,{className:"w-4 h-4"}),a.jsx("span",{children:"Use Current"})]})]}),j.selectedLocation&&a.jsxs("div",{className:"text-sm text-slate-600 flex items-center space-x-1",children:[a.jsx(Ln,{className:"w-4 h-4"}),a.jsx("span",{children:j.selectedLocation.address})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Rt,{children:"Images (Optional)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:P,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a.jsx(mY,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Click to upload images or drag and drop"}),a.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB each (max 5 images)"})]})]}),D.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:D.map((B,q)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:B,alt:`Preview ${q+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx(ae,{type:"button",variant:"destructive",size:"sm",onClick:()=>U(q),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",children:a.jsx(Vv,{className:"w-3 h-3"})})]},q))})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(ae,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(ae,{onClick:k,disabled:d,className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Os,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(uY,{className:"w-4 h-4 mr-2"}),"Submit Report"]})})]})]})]})]})}),a.jsx(aA,{open:v,onOpenChange:y,children:a.jsx(jx,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:A&&a.jsxs(a.Fragment,{children:[a.jsxs(Cx,{children:[a.jsxs(Rx,{className:"flex items-center space-x-2",children:[a.jsx("span",{children:A.title}),a.jsx(Me,{className:V(A.severity),children:A.severity.toUpperCase()}),a.jsx(Me,{className:J(A.status),children:A.status.replace("_"," ").toUpperCase()})]}),a.jsxs(Px,{children:["Report submitted by ",A.user_name,"  ",ue(A.created_at||new Date().toISOString())]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[a.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Location Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-700 font-medium",children:"Address:"}),a.jsx("p",{className:"text-blue-800",children:A.location.address})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-700 font-medium",children:"District, State:"}),a.jsxs("p",{className:"text-blue-800",children:[A.location.district,", ",A.location.state]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-700 font-medium",children:"Coordinates:"}),a.jsxs("p",{className:"text-blue-800",children:[A.location.lat.toFixed(6),", ",A.location.lng.toFixed(6)]})]}),a.jsx("div",{children:a.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>ee(A.location.lat,A.location.lng),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[a.jsx(Yh,{className:"w-4 h-4 mr-1"}),"Open in Maps"]})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Report Description"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsx("p",{className:"text-slate-700 leading-relaxed",children:A.description})})]}),A.images&&A.images.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center",children:[a.jsx(sY,{className:"w-4 h-4 mr-2"}),"Images (",A.images.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.images.map((B,q)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:B,alt:`Report image ${q+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer transition-transform group-hover:scale-105",onClick:()=>window.open(B,"_blank")}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity rounded-lg flex items-center justify-center",children:a.jsx(Us,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},q))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Severity Level"}),a.jsx(Me,{className:V(A.severity),children:A.severity.toUpperCase()}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:A.severity==="critical"?"Immediate action required":A.severity==="high"?"High priority response needed":A.severity==="medium"?"Moderate attention required":"Low priority monitoring"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Report Status"}),a.jsx(Me,{className:J(A.status),children:A.status.replace("_"," ").toUpperCase()}),a.jsx("p",{className:"text-xs text-slate-600 mt-1",children:A.status==="verified"?"Verified by authorities":A.status==="resolved"?"Situation resolved":A.status==="false_alarm"?"Marked as false alarm":"Awaiting verification"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Reporter"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:A.user_name.split(" ").map(B=>B[0]).join("").slice(0,2)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:A.user_name}),a.jsx("p",{className:"text-xs text-slate-600",children:A.user_email})]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>navigator.share&&navigator.share({title:A.title,text:A.description,url:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),we.success("Link copied to clipboard")}),children:[a.jsx(JN,{className:"w-4 h-4 mr-1"}),"Share Report"]}),a.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>ee(A.location.lat,A.location.lng),children:[a.jsx(Ln,{className:"w-4 h-4 mr-1"}),"View Location"]})]}),a.jsx(ae,{onClick:()=>y(!1),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:"Close"})]})]})]})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"My Reports"}),l?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Os,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Loading reports..."})]}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gp,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-slate-600",children:"You haven't submitted any reports yet. Create your first report!"})]}):a.jsx("div",{className:"space-y-4",children:n.map(B=>a.jsxs(Ft,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[a.jsx(Ht,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx($t,{className:"text-lg text-slate-900 mb-2",children:B.title}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wn,{className:"w-4 h-4"}),a.jsx("span",{children:B.user_name})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ln,{className:"w-4 h-4"}),a.jsxs("span",{children:[B.location.district,", ",B.location.state]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(po,{className:"w-4 h-4"}),a.jsx("span",{children:ue(B.created_at||new Date().toISOString())})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Me,{className:V(B.severity),children:B.severity.toUpperCase()}),a.jsx(Me,{className:J(B.status),children:B.status.replace("_"," ").toUpperCase()})]})]})}),a.jsxs(Xt,{children:[a.jsx("p",{className:"text-slate-700 mb-4",children:B.description}),B.images&&B.images.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:B.images.map((q,X)=>a.jsx("img",{src:q,alt:`Report image ${X+1}`,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(q,"_blank")},X))}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs(ae,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[a.jsx(vx,{className:"w-4 h-4 mr-1"}),"Helpful"]}),a.jsxs(ae,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[a.jsx(gp,{className:"w-4 h-4 mr-1"}),"Comment"]}),a.jsxs(ae,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[a.jsx(JN,{className:"w-4 h-4 mr-1"}),"Share"]})]}),a.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>G(B),children:[a.jsx(Us,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]},B.id))})]})]})},UX=()=>{const[t,e]=x.useState([]),[n,s]=x.useState([]),[r,i]=x.useState("idle"),[l,c]=x.useState(null),[d,h]=x.useState(0),[m,g]=x.useState(null),[v,y]=x.useState("en"),[A,w]=x.useState(null),[j,S]=x.useState("punjab"),T=x.useRef(null);x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(k=>{w({lat:k.coords.latitude,lon:k.coords.longitude})},()=>{w({lat:30.7333,lon:76.7794})})},[]);const N=[{value:"punjab",label:"Punjab",hindi:""},{value:"haryana",label:"Haryana",hindi:""},{value:"himachal_pradesh",label:"Himachal Pradesh",hindi:" "},{value:"uttar_pradesh",label:"Uttar Pradesh",hindi:" "},{value:"rajasthan",label:"Rajasthan",hindi:""}],D=k=>{const V=Array.from(k.target.files||[]);if(V.length){const J=[...t,...V];e(J);const ue=V.map(G=>URL.createObjectURL(G));s([...n,...ue]),i("idle"),g(null),h(0)}},F=()=>{T.current?.click()},$=async()=>{if(t.length!==0){i("analyzing"),c(null),h(0);try{h(20);const k=URL.createObjectURL(t[0]);h(50),await new Promise(J=>setTimeout(J,1e3)),h(70);const V="https://xview2-damage-detection-xxxxx-uc.a.run.app";try{const J=await fetch(`${V}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_url:k,state:j,latitude:A?.lat,longitude:A?.lon,user_id:"current_user"})});if(!J.ok)throw new Error("xView2 API not available, using mock data");const ue=await J.json();h(90),await new Promise(G=>setTimeout(G,1e3)),g(ue),i("complete"),h(100)}catch(J){console.warn("xView2 API not available, using mock data:",J),h(90);const ue=R(j);h(95),await new Promise(G=>setTimeout(G,1e3)),g(ue),i("complete"),h(100)}}catch(k){console.error("Analysis failed:",k),c(k instanceof Error?k.message:"Analysis failed"),i("error")}}},R=k=>{const V=["No Damage","Minor Damage","Major Damage","Destroyed"],J=["  "," "," ","  "],ue=Math.floor(Math.random()*V.length),G=V[ue],ee=J[ue],B=.7+Math.random()*.3,q={"No Damage":{min:0,max:0,display:"0"},"Minor Damage":{min:2e4,max:5e4,display:"20K - 50K"},"Major Damage":{min:1e5,max:3e5,display:"1L - 3L"},Destroyed:{min:5e5,max:2e6,display:"5L+"}},X={"No Damage":"N/A","Minor Damage":"Category C","Major Damage":"Category B",Destroyed:"Category A"},le={punjab:{"Category A":"4L","Category B":"2L","Category C":"50K"},haryana:{"Category A":"3.5L","Category B":"1.8L","Category C":"45K"},himachal_pradesh:{"Category A":"4.5L","Category B":"2.2L","Category C":"55K"},default:{"Category A":"4L","Category B":"2L","Category C":"50K"}},W={"No Damage":"#10B981","Minor Damage":"#F59E0B","Major Damage":"#EF4444",Destroyed:"#7C2D12"},de={"No Damage":"Structure is intact with no visible damage","Minor Damage":"Minor structural damage, repairable","Major Damage":"Significant structural damage, requires major repairs",Destroyed:"Structure is completely destroyed or severely damaged"},oe={"No Damage":"  ,      ","Minor Damage":"  ,  ","Major Damage":"  ,    ",Destroyed:"        "},fe=q[G],pe=X[G],re=le[k]?.[pe]||le.default[pe];return{damage_level:G,hindi_damage_level:ee,confidence:Math.round(B*100)/100,estimated_cost_display:fe.display,ndma_category:pe,relief_amount_display:re,color:W[G],description:de[G],hindi_description:oe[G],recommendations:{immediate_actions:[G==="No Damage"?"Document current condition with photos":"Contact emergency services immediately","Keep emergency contacts ready",G!=="No Damage"?"Document all damage with detailed photos":"Monitor for any delayed damage signs"],relief_application:{required:G!=="No Damage",category:pe,amount:re,form:G==="No Damage"?"N/A":`SDRF Form 1${pe==="Category A"?"A":"B"}`,deadline:G==="No Damage"?"N/A":G==="Destroyed"?"Within 7 days":G==="Major Damage"?"Within 15 days":"Within 30 days"},documentation_required:G==="No Damage"?[]:["Property ownership documents","Aadhaar card copy","Bank account details","Recent property photos"],timeline:G==="No Damage"?"No immediate action required":G==="Destroyed"?"Apply within 7 days, processing takes 5-15 days":G==="Major Damage"?"Apply within 15 days, processing takes 10-20 days":"Apply within 30 days, processing takes 15-30 days"},emergency_contacts:{disaster_control:"+91-172-2740000",relief_commissioner:"+91-172-2740001",district_collector:"+91-172-2740002"},state:k.charAt(0).toUpperCase()+k.slice(1).replace("_"," ")}},P=()=>{e([]),s([]),i("idle"),g(null),h(0),c(null),T.current&&(T.current.value="")},U=k=>{const V=t.filter((ue,G)=>G!==k),J=n.filter((ue,G)=>G!==k);e(V),s(J)},I=k=>{switch(k){case"Destroyed":return"bg-red-600 text-white";case"Major Damage":return"bg-orange-500 text-white";case"Minor Damage":return"bg-yellow-400 text-slate-900";case"No Damage":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},O=k=>({en:{title:"AI-Powered Flood Damage Assessment",subtitle:"Upload images to get instant damage analysis with NDMA relief recommendations",uploadText:"Drop images here or click to browse",uploadSubtext:"Upload PNG, JPG, or HEIC files for damage assessment",analyzeButton:"Run AI Analysis",clearButton:"Clear All",damageLevel:"Damage Level",confidence:"Confidence",estimatedCost:"Estimated Cost",ndmaCategory:"NDMA Category",reliefAmount:"Relief Amount",immediateActions:"Immediate Actions",reliefApplication:"Relief Application",documentationRequired:"Documentation Required",emergencyContacts:"Emergency Contacts",recommendations:"Recommendations",analysisReport:"AI Analysis Report",selectState:"Select State",language:"Language"},hi:{title:"AI-   ",subtitle:"NDMA            ",uploadText:"         ",uploadSubtext:"    PNG, JPG,  HEIC   ",analyzeButton:"AI  ",clearButton:"  ",damageLevel:" ",confidence:"",estimatedCost:" ",ndmaCategory:"NDMA ",reliefAmount:" ",immediateActions:" ",reliefApplication:" ",documentationRequired:" ",emergencyContacts:" ",recommendations:"",analysisReport:"AI  ",selectState:" ",language:""}})[v][k]||k;return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:O("title")}),a.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:O("subtitle")}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Uv,{className:"w-4 h-4"}),a.jsxs("select",{value:v,onChange:k=>y(k.target.value),className:"px-3 py-1 border rounded-md text-sm",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"hi",children:""})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ln,{className:"w-4 h-4"}),a.jsx("select",{value:j,onChange:k=>S(k.target.value),className:"px-3 py-1 border rounded-md text-sm",children:N.map(k=>a.jsx("option",{value:k.value,children:v==="hi"?k.hindi:k.label},k.value))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{onClick:F,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[a.jsx(Dv,{className:"mx-auto h-12 w-12 text-slate-400"}),a.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:O("uploadText")}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:O("uploadSubtext")}),a.jsx("input",{ref:T,type:"file",multiple:!0,className:"sr-only",onChange:D,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),n.length>0&&a.jsxs(Ft,{children:[a.jsx(Ht,{children:a.jsxs($t,{className:"flex items-center",children:[a.jsx(Ui,{className:"w-5 h-5 mr-2"}),O("analysisReport")]})}),a.jsxs(Xt,{children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map((k,V)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:k,alt:`Preview ${V}`,className:"rounded-lg object-cover w-full h-32"}),a.jsx("button",{onClick:()=>U(V),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Vv,{className:"w-3 h-3"})})]},V))}),r==="idle"&&a.jsxs(ae,{onClick:$,className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[a.jsx(mM,{className:"w-4 h-4 mr-2"}),O("analyzeButton")," (",t.length," ",v==="hi"?"":"images",")"]}),a.jsx(ae,{onClick:P,variant:"outline",className:"w-full mt-2",children:O("clearButton")})]})]})]}),a.jsxs(Ft,{className:"h-full sticky top-8",children:[a.jsx(Ht,{children:a.jsxs($t,{className:"flex items-center",children:[a.jsx(Ui,{className:"w-5 h-5 mr-3"}),O("analysisReport")]})}),a.jsx(Xt,{children:r==="complete"&&m?a.jsxs("div",{className:"space-y-6 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{children:v==="hi"?" ":"Analysis Complete"}),a.jsx("span",{children:"100%"})]}),a.jsx(Xi,{value:100,className:"h-2"})]}),a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:O("damageLevel")}),a.jsx(Me,{className:I(m.damage_level),children:v==="hi"?m.hindi_damage_level:m.damage_level})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-slate-600",children:O("confidence")}),a.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[Math.round(m.confidence*100),"%"]})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-slate-600",children:O("estimatedCost")}),a.jsx("p",{className:"font-bold text-lg text-slate-800",children:m.estimated_cost_display})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-slate-600",children:O("ndmaCategory")}),a.jsx("p",{className:"font-bold text-lg text-slate-800",children:m.ndma_category})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-slate-600",children:O("reliefAmount")}),a.jsx("p",{className:"font-bold text-lg text-slate-800",children:m.relief_amount_display})]})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-slate-600 mb-1",children:v==="hi"?"":"Description"}),a.jsx("p",{className:"text-slate-800",children:v==="hi"?m.hindi_description:m.description})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[a.jsx(fM,{className:"w-4 h-4 mr-2 text-red-600"}),O("immediateActions")]}),a.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-700",children:m.recommendations.immediate_actions.map((k,V)=>a.jsx("li",{children:k},V))})]}),m.recommendations.relief_application.required&&a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[a.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:O("reliefApplication")}),a.jsxs("div",{className:"space-y-2 text-blue-700",children:[a.jsxs("p",{children:[a.jsx("strong",{children:v==="hi"?":":"Category:"})," ",m.recommendations.relief_application.category]}),a.jsxs("p",{children:[a.jsx("strong",{children:v==="hi"?":":"Amount:"})," ",m.recommendations.relief_application.amount]}),a.jsxs("p",{children:[a.jsx("strong",{children:v==="hi"?":":"Form:"})," ",m.recommendations.relief_application.form]}),a.jsxs("p",{children:[a.jsx("strong",{children:v==="hi"?" :":"Deadline:"})," ",m.recommendations.relief_application.deadline]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[a.jsx(ir,{className:"w-4 h-4 mr-2 text-red-600"}),O("emergencyContacts")]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ae,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${m.emergency_contacts.disaster_control}`,"_self"),children:[a.jsx(ir,{className:"w-3 h-3 mr-2"}),v==="hi"?" :":"Disaster Control:"," ",m.emergency_contacts.disaster_control]}),a.jsxs(ae,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${m.emergency_contacts.relief_commissioner}`,"_self"),children:[a.jsx(ir,{className:"w-3 h-3 mr-2"}),v==="hi"?" :":"Relief Commissioner:"," ",m.emergency_contacts.relief_commissioner]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ae,{size:"sm",className:"flex-1",onClick:()=>window.open(`https://www.google.com/maps?q=${A?.lat},${A?.lon}`,"_blank"),children:[a.jsx(gx,{className:"w-3 h-3 mr-1"}),v==="hi"?"Google Maps  ":"Open in Google Maps"]}),a.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{const k={damageLevel:m.damage_level,confidence:m.confidence,estimatedCost:m.estimated_cost_display,ndmaCategory:m.ndma_category,reliefAmount:m.relief_amount_display,state:m.state,timestamp:new Date().toISOString()},V=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),J=URL.createObjectURL(V),ue=document.createElement("a");ue.href=J,ue.download=`damage-report-${Date.now()}.json`,ue.click()},children:a.jsx(Lv,{className:"w-3 h-3"})})]})]}):r==="analyzing"?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[a.jsx(Os,{className:"w-8 h-8 mb-2 animate-spin"}),a.jsxs("p",{children:[d,"% - ",v==="hi"?"     ...":"Analyzing image..."]}),a.jsx(Xi,{value:d,className:"w-full mt-4"})]}):r==="error"?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[a.jsx(Nt,{className:"w-8 h-8 mb-2"}),a.jsx("p",{children:v==="hi"?"    ":"An error occurred during analysis."}),a.jsx("p",{className:"text-xs mt-2 text-red-400",children:l})]}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[a.jsx(Us,{className:"w-10 h-10 mb-4 text-slate-400"}),a.jsx("p",{className:"font-semibold",children:v==="hi"?"AI-   ":"AI-Powered Insights Await"}),a.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:v==="hi"?"                   ":"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})]})},VX=()=>a.jsx("div",{className:"space-y-8",children:a.jsx(UX,{})});function CD(t,e){const n=x.useRef(e);x.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const zX=1;function BX(t){return Object.freeze({__version:zX,map:t})}function RD(t,e){return Object.freeze({...t,...e})}const x1=x.createContext(null);function Yv(){const t=x.use(x1);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function PD(t){function e(n,s){const{instance:r,context:i}=t(n).current;x.useImperativeHandle(s,()=>r);const{children:l}=n;return l==null?null:ce.createElement(x1,{value:i},l)}return x.forwardRef(e)}function FX(t){function e(n,s){const[r,i]=x.useState(!1),{instance:l}=t(n,i).current;x.useImperativeHandle(s,()=>l),x.useEffect(function(){r&&l.update()},[l,r,n.children]);const c=l._contentNode;return c?Su.createPortal(n.children,c):null}return x.forwardRef(e)}function HX(t){function e(n,s){const{instance:r}=t(n).current;return x.useImperativeHandle(s,()=>r),null}return x.forwardRef(e)}function b1(t,e){const n=x.useRef(void 0);x.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Qv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function $X(t,e){return function(s,r){const i=Yv(),l=t(Qv(s,i),i);return CD(i.map,s.attribution),b1(l.current,s.eventHandlers),e(l.current,i,s,r),l}}var Lx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,s){s(e)})(Ds,function(n){var s="1.9.4";function r(o){var u,p,_,E;for(p=1,_=arguments.length;p<_;p++){E=arguments[p];for(u in E)o[u]=E[u]}return o}var i=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function l(o,u){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var _=p.call(arguments,2);return function(){return o.apply(u,_.length?_.concat(p.call(arguments)):arguments)}}var c=0;function d(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function h(o,u,p){var _,E,M,H;return H=function(){_=!1,E&&(M.apply(p,E),E=!1)},M=function(){_?E=arguments:(o.apply(p,arguments),setTimeout(H,u),_=!0)},M}function m(o,u,p){var _=u[1],E=u[0],M=_-E;return o===_&&p?o:((o-E)%M+M)%M+E}function g(){return!1}function v(o,u){if(u===!1)return o;var p=Math.pow(10,u===void 0?6:u);return Math.round(o*p)/p}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function A(o){return y(o).split(/\s+/)}function w(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?i(o.options):{});for(var p in u)o.options[p]=u[p];return o.options}function j(o,u,p){var _=[];for(var E in o)_.push(encodeURIComponent(p?E.toUpperCase():E)+"="+encodeURIComponent(o[E]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function T(o,u){return o.replace(S,function(p,_){var E=u[_];if(E===void 0)throw new Error("No value provided for variable "+p);return typeof E=="function"&&(E=E(u)),E})}var N=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function D(o,u){for(var p=0;p<o.length;p++)if(o[p]===u)return p;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var R=0;function P(o){var u=+new Date,p=Math.max(0,16-(u-R));return R=u+p,window.setTimeout(o,p)}var U=window.requestAnimationFrame||$("RequestAnimationFrame")||P,I=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function O(o,u,p){if(p&&U===P)o.call(u);else return U.call(window,l(o,u))}function k(o){o&&I.call(window,o)}var V={__proto__:null,extend:r,create:i,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:m,falseFn:g,formatNum:v,trim:y,splitWords:A,setOptions:w,getParamString:j,template:T,isArray:N,indexOf:D,emptyImageUrl:F,requestFn:U,cancelFn:I,requestAnimFrame:O,cancelAnimFrame:k};function J(){}J.extend=function(o){var u=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,_=i(p);_.constructor=u,u.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return o.statics&&r(u,o.statics),o.includes&&(ue(o.includes),r.apply(null,[_].concat(o.includes))),r(_,o),delete _.statics,delete _.includes,_.options&&(_.options=p.options?i(p.options):{},r(_.options,o.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,H=_._initHooks.length;M<H;M++)_._initHooks[M].call(this)}},u},J.include=function(o){var u=this.prototype.options;return r(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},J.mergeOptions=function(o){return r(this.prototype.options,o),this},J.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function ue(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=N(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(o,u,p){if(typeof o=="object")for(var _ in o)this._on(_,o[_],u);else{o=A(o);for(var E=0,M=o.length;E<M;E++)this._on(o[E],u,p)}return this},off:function(o,u,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var _ in o)this._off(_,o[_],u);else{o=A(o);for(var E=arguments.length===1,M=0,H=o.length;M<H;M++)E?this._off(o[M]):this._off(o[M],u,p)}return this},_on:function(o,u,p,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,p)===!1){p===this&&(p=void 0);var E={fn:u,ctx:p};_&&(E.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(E)}},_off:function(o,u,p){var _,E,M;if(this._events&&(_=this._events[o],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,M=_.length;E<M;E++)_[E].fn=g;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var H=this._listens(o,u,p);if(H!==!1){var Z=_[H];this._firingCount&&(Z.fn=g,this._events[o]=_=_.slice()),_.splice(H,1)}}},fire:function(o,u,p){if(!this.listens(o,p))return this;var _=r({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[o];if(E){this._firingCount=this._firingCount+1||1;for(var M=0,H=E.length;M<H;M++){var Z=E[M],Q=Z.fn;Z.once&&this.off(o,Q,Z.ctx),Q.call(Z.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(o,u,p,_){typeof o!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(_=!!u,E=void 0,p=void 0);var M=this._events&&this._events[o];if(M&&M.length&&this._listens(o,E,p)!==!1)return!0;if(_){for(var H in this._eventParents)if(this._eventParents[H].listens(o,u,p,_))return!0}return!1},_listens:function(o,u,p){if(!this._events)return!1;var _=this._events[o]||[];if(!u)return!!_.length;p===this&&(p=void 0);for(var E=0,M=_.length;E<M;E++)if(_[E].fn===u&&_[E].ctx===p)return E;return!1},once:function(o,u,p){if(typeof o=="object")for(var _ in o)this._on(_,o[_],u,!0);else{o=A(o);for(var E=0,M=o.length;E<M;E++)this._on(o[E],u,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[d(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[d(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,r({layer:o.target,propagatedFrom:o.target},o),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var ee=J.extend(G);function B(o,u,p){this.x=p?Math.round(o):o,this.y=p?Math.round(u):u}var q=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(o){return this.clone()._add(X(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(X(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new B(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new B(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(o){o=X(o);var u=o.x-this.x,p=o.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(o){return o=X(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=X(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function X(o,u,p){return o instanceof B?o:N(o)?new B(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new B(o.x,o.y):new B(o,u,p)}function le(o,u){if(o)for(var p=u?[o,u]:o,_=0,E=p.length;_<E;_++)this.extend(p[_])}le.prototype={extend:function(o){var u,p;if(!o)return this;if(o instanceof B||typeof o[0]=="number"||"x"in o)u=p=X(o);else if(o=W(o),u=o.min,p=o.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,p;return typeof o[0]=="number"||o instanceof B?o=X(o):o=W(o),o instanceof le?(u=o.min,p=o.max):u=p=o,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=W(o);var u=this.min,p=this.max,_=o.min,E=o.max,M=E.x>=u.x&&_.x<=p.x,H=E.y>=u.y&&_.y<=p.y;return M&&H},overlaps:function(o){o=W(o);var u=this.min,p=this.max,_=o.min,E=o.max,M=E.x>u.x&&_.x<p.x,H=E.y>u.y&&_.y<p.y;return M&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,p=this.max,_=Math.abs(u.x-p.x)*o,E=Math.abs(u.y-p.y)*o;return W(X(u.x-_,u.y-E),X(p.x+_,p.y+E))},equals:function(o){return o?(o=W(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function W(o,u){return!o||o instanceof le?o:new le(o,u)}function de(o,u){if(o)for(var p=u?[o,u]:o,_=0,E=p.length;_<E;_++)this.extend(p[_])}de.prototype={extend:function(o){var u=this._southWest,p=this._northEast,_,E;if(o instanceof fe)_=o,E=o;else if(o instanceof de){if(_=o._southWest,E=o._northEast,!_||!E)return this}else return o?this.extend(pe(o)||oe(o)):this;return!u&&!p?(this._southWest=new fe(_.lat,_.lng),this._northEast=new fe(E.lat,E.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),p.lat=Math.max(E.lat,p.lat),p.lng=Math.max(E.lng,p.lng)),this},pad:function(o){var u=this._southWest,p=this._northEast,_=Math.abs(u.lat-p.lat)*o,E=Math.abs(u.lng-p.lng)*o;return new de(new fe(u.lat-_,u.lng-E),new fe(p.lat+_,p.lng+E))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof fe||"lat"in o?o=pe(o):o=oe(o);var u=this._southWest,p=this._northEast,_,E;return o instanceof de?(_=o.getSouthWest(),E=o.getNorthEast()):_=E=o,_.lat>=u.lat&&E.lat<=p.lat&&_.lng>=u.lng&&E.lng<=p.lng},intersects:function(o){o=oe(o);var u=this._southWest,p=this._northEast,_=o.getSouthWest(),E=o.getNorthEast(),M=E.lat>=u.lat&&_.lat<=p.lat,H=E.lng>=u.lng&&_.lng<=p.lng;return M&&H},overlaps:function(o){o=oe(o);var u=this._southWest,p=this._northEast,_=o.getSouthWest(),E=o.getNorthEast(),M=E.lat>u.lat&&_.lat<p.lat,H=E.lng>u.lng&&_.lng<p.lng;return M&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=oe(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(o,u){return o instanceof de?o:new de(o,u)}function fe(o,u,p){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,p!==void 0&&(this.alt=+p)}fe.prototype={equals:function(o,u){if(!o)return!1;o=pe(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+v(this.lat,o)+", "+v(this.lng,o)+")"},distanceTo:function(o){return Oe.distance(this,pe(o))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,p=u/Math.cos(Math.PI/180*this.lat);return oe([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function pe(o,u,p){return o instanceof fe?o:N(o)&&typeof o[0]!="object"?o.length===3?new fe(o[0],o[1],o[2]):o.length===2?new fe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new fe(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new fe(o,u,p)}var re={latLngToPoint:function(o,u){var p=this.projection.project(o),_=this.scale(u);return this.transformation._transform(p,_)},pointToLatLng:function(o,u){var p=this.scale(u),_=this.transformation.untransform(o,p);return this.projection.unproject(_)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(o),_=this.transformation.transform(u.min,p),E=this.transformation.transform(u.max,p);return new le(_,E)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?m(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?m(o.lat,this.wrapLat,!0):o.lat,_=o.alt;return new fe(p,u,_)},wrapLatLngBounds:function(o){var u=o.getCenter(),p=this.wrapLatLng(u),_=u.lat-p.lat,E=u.lng-p.lng;if(_===0&&E===0)return o;var M=o.getSouthWest(),H=o.getNorthEast(),Z=new fe(M.lat-_,M.lng-E),Q=new fe(H.lat-_,H.lng-E);return new de(Z,Q)}},Oe=r({},re,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var p=Math.PI/180,_=o.lat*p,E=u.lat*p,M=Math.sin((u.lat-o.lat)*p/2),H=Math.sin((u.lng-o.lng)*p/2),Z=M*M+Math.cos(_)*Math.cos(E)*H*H,Q=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*Q}}),vt=6378137,We={R:vt,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,o.lat),-p),E=Math.sin(_*u);return new B(this.R*o.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(o){var u=180/Math.PI;return new fe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=vt*Math.PI;return new le([-o,-o],[o,o])}()};function Ke(o,u,p,_){if(N(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=p,this._d=_}Ke.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new B((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function tt(o,u,p,_){return new Ke(o,u,p,_)}var jt=r({},Oe,{code:"EPSG:3857",projection:We,transformation:function(){var o=.5/(Math.PI*We.R);return tt(o,.5,-o,.5)}()}),Zn=r({},jt,{code:"EPSG:900913"});function kr(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function gs(o,u){var p="",_,E,M,H,Z,Q;for(_=0,M=o.length;_<M;_++){for(Z=o[_],E=0,H=Z.length;E<H;E++)Q=Z[E],p+=(E?"L":"M")+Q.x+" "+Q.y;p+=u?xe.svg?"z":"x":""}return p||"M0 0"}var vs=document.documentElement.style,hr="ActiveXObject"in window,Gt=hr&&!document.addEventListener,Lt="msLaunchUri"in navigator&&!("documentMode"in document),Yn=Jn("webkit"),wo=Jn("android"),ys=Jn("android 2")||Jn("android 3"),Wu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),gi=wo&&Jn("Google")&&Wu<537&&!("AudioNode"in window),sn=!!window.opera,Vs=!Lt&&Jn("chrome"),ha=Jn("gecko")&&!Yn&&!sn&&!hr,Ku=!Vs&&Jn("safari"),vi=Jn("phantom"),So="OTransition"in vs,Eo=navigator.platform.indexOf("Win")===0,zs=hr&&"transition"in vs,Qn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ys,yi="MozPerspective"in vs,Pn=!window.L_DISABLE_3D&&(zs||Qn||yi)&&!So&&!vi,Mr=typeof orientation<"u"||Jn("mobile"),fa=Mr&&Yn,To=Mr&&Qn,fr=!window.PointerEvent&&window.MSPointerEvent,No=!!(window.PointerEvent||fr),kt="ontouchstart"in window||!!window.TouchEvent,_s=!window.L_NO_TOUCH&&(kt||No),_i=Mr&&sn,Ne=Mr&&ha,nt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mt=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return o}(),Wt=function(){return!!document.createElement("canvas").getContext}(),bn=!!(document.createElementNS&&kr("svg").createSVGRect),Bs=!!bn&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Xn=!bn&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),In=navigator.platform.indexOf("Mac")===0,xs=navigator.platform.indexOf("Linux")===0;function Jn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var xe={ie:hr,ielt9:Gt,edge:Lt,webkit:Yn,android:wo,android23:ys,androidStock:gi,opera:sn,chrome:Vs,gecko:ha,safari:Ku,phantom:vi,opera12:So,win:Eo,ie3d:zs,webkit3d:Qn,gecko3d:yi,any3d:Pn,mobile:Mr,mobileWebkit:fa,mobileWebkit3d:To,msPointer:fr,pointer:No,touch:_s,touchNative:kt,mobileOpera:_i,mobileGecko:Ne,retina:nt,passiveEvents:mt,canvas:Wt,svg:bn,vml:Xn,inlineSvg:Bs,mac:In,linux:xs},Uf=xe.msPointer?"MSPointerDown":"pointerdown",mr=xe.msPointer?"MSPointerMove":"pointermove",Zu=xe.msPointer?"MSPointerUp":"pointerup",Yu=xe.msPointer?"MSPointerCancel":"pointercancel",Ao={touchstart:Uf,touchmove:mr,touchend:Zu,touchcancel:Yu},Pl={touchstart:Qu,touchmove:Fs,touchend:Fs,touchcancel:Fs},xi={},Vf=!1;function zf(o,u,p){return u==="touchstart"&&jo(),Pl[u]?(p=Pl[u].bind(this,p),o.addEventListener(Ao[u],p,!1),p):(console.warn("wrong event specified:",u),g)}function ey(o,u,p){if(!Ao[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(Ao[u],p,!1)}function Il(o){xi[o.pointerId]=o}function Bf(o){xi[o.pointerId]&&(xi[o.pointerId]=o)}function kl(o){delete xi[o.pointerId]}function jo(){Vf||(document.addEventListener(Uf,Il,!0),document.addEventListener(mr,Bf,!0),document.addEventListener(Zu,kl,!0),document.addEventListener(Yu,kl,!0),Vf=!0)}function Fs(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in xi)u.touches.push(xi[p]);u.changedTouches=[u],o(u)}}function Qu(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Kt(u),Fs(o,u)}function ty(o){var u={},p,_;for(_ in o)p=o[_],u[_]=p&&p.bind?p.bind(o):p;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Ff=200;function Hf(o,u){o.addEventListener("dblclick",u);var p=0,_;function E(M){if(M.detail!==1){_=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var H=nd(M);if(!(H.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!H.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var Z=Date.now();Z-p<=Ff?(_++,_===2&&u(ty(M))):_=1,p=Z}}}return o.addEventListener("click",E),{dblclick:u,simDblclick:E}}function $f(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var Co=Ml(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bi=Ml(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xu=bi==="webkitTransition"||bi==="OTransition"?bi+"End":"transitionend";function Ju(o){return typeof o=="string"?document.getElementById(o):o}function ma(o,u){var p=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(o,null);p=_?_[u]:null}return p==="auto"?null:p}function Xe(o,u,p){var _=document.createElement(o);return _.className=u||"",p&&p.appendChild(_),_}function st(o){var u=o.parentNode;u&&u.removeChild(o)}function Bn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Hs(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function $s(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function Ro(o,u){if(o.classList!==void 0)return o.classList.contains(u);var p=Or(o);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function _e(o,u){if(o.classList!==void 0)for(var p=A(u),_=0,E=p.length;_<E;_++)o.classList.add(p[_]);else if(!Ro(o,u)){var M=Or(o);wi(o,(M?M+" ":"")+u)}}function _t(o,u){o.classList!==void 0?o.classList.remove(u):wi(o,y((" "+Or(o)+" ").replace(" "+u+" "," ")))}function wi(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function Or(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function es(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&qf(o,u)}function qf(o,u){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):o.style.filter+=" progid:"+_+"(opacity="+u+")"}function Ml(o){for(var u=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in u)return o[p];return!1}function Si(o,u,p){var _=u||new B(0,0);o.style[Co]=(xe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function Mt(o,u){o._leaflet_pos=u,xe.any3d?Si(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function Ei(o){return o._leaflet_pos||new B(0,0)}var pr,bs,Ol;if("onselectstart"in document)pr=function(){Pe(window,"selectstart",Kt)},bs=function(){dt(window,"selectstart",Kt)};else{var pa=Ml(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pr=function(){if(pa){var o=document.documentElement.style;Ol=o[pa],o[pa]="none"}},bs=function(){pa&&(document.documentElement.style[pa]=Ol,Ol=void 0)}}function Dl(){Pe(window,"dragstart",Kt)}function Ll(){dt(window,"dragstart",Kt)}var Po,Dr;function ed(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ul(),Po=o,Dr=o.style.outlineStyle,o.style.outlineStyle="none",Pe(window,"keydown",Ul))}function Ul(){Po&&(Po.style.outlineStyle=Dr,Po=void 0,Dr=void 0,dt(window,"keydown",Ul))}function Gf(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function qs(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var ny={__proto__:null,TRANSFORM:Co,TRANSITION:bi,TRANSITION_END:Xu,get:Ju,getStyle:ma,create:Xe,remove:st,empty:Bn,toFront:Hs,toBack:$s,hasClass:Ro,addClass:_e,removeClass:_t,setClass:wi,getClass:Or,setOpacity:es,testProp:Ml,setTransform:Si,setPosition:Mt,getPosition:Ei,get disableTextSelection(){return pr},get enableTextSelection(){return bs},disableImageDrag:Dl,enableImageDrag:Ll,preventOutline:ed,restoreOutline:Ul,getSizedParentNode:Gf,getScale:qs};function Pe(o,u,p,_){if(u&&typeof u=="object")for(var E in u)Vl(o,E,u[E],p);else{u=A(u);for(var M=0,H=u.length;M<H;M++)Vl(o,u[M],p,_)}return this}var Fn="_leaflet_events";function dt(o,u,p,_){if(arguments.length===1)ga(o),delete o[Fn];else if(u&&typeof u=="object")for(var E in u)Io(o,E,u[E],p);else if(u=A(u),arguments.length===2)ga(o,function(Z){return D(u,Z)!==-1});else for(var M=0,H=u.length;M<H;M++)Io(o,u[M],p,_);return this}function ga(o,u){for(var p in o[Fn]){var _=p.split(/\d/)[0];(!u||u(_))&&Io(o,_,null,null,p)}}var Ti={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vl(o,u,p,_){var E=u+d(p)+(_?"_"+d(_):"");if(o[Fn]&&o[Fn][E])return this;var M=function(Z){return p.call(_||o,Z||window.event)},H=M;!xe.touchNative&&xe.pointer&&u.indexOf("touch")===0?M=zf(o,u,M):xe.touch&&u==="dblclick"?M=Hf(o,M):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(Ti[u]||u,M,xe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(M=function(Z){Z=Z||window.event,rd(o,Z)&&H(Z)},o.addEventListener(Ti[u],M,!1)):o.addEventListener(u,H,!1):o.attachEvent("on"+u,M),o[Fn]=o[Fn]||{},o[Fn][E]=M}function Io(o,u,p,_,E){E=E||u+d(p)+(_?"_"+d(_):"");var M=o[Fn]&&o[Fn][E];if(!M)return this;!xe.touchNative&&xe.pointer&&u.indexOf("touch")===0?ey(o,u,M):xe.touch&&u==="dblclick"?$f(o,M):"removeEventListener"in o?o.removeEventListener(Ti[u]||u,M,!1):o.detachEvent("on"+u,M),o[Fn][E]=null}function lt(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function td(o){return Vl(o,"wheel",lt),this}function ko(o){return Pe(o,"mousedown touchstart dblclick contextmenu",lt),o._leaflet_disable_click=!0,this}function Kt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Lr(o){return Kt(o),lt(o),this}function nd(o){if(o.composedPath)return o.composedPath();for(var u=[],p=o.target;p;)u.push(p),p=p.parentNode;return u}function Mo(o,u){if(!u)return new B(o.clientX,o.clientY);var p=qs(u),_=p.boundingClientRect;return new B((o.clientX-_.left)/p.x-u.clientLeft,(o.clientY-_.top)/p.y-u.clientTop)}var Ur=xe.linux&&xe.chrome?window.devicePixelRatio:xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function sd(o){return xe.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ur:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function rd(o,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var Oo={__proto__:null,on:Pe,off:dt,stopPropagation:lt,disableScrollPropagation:td,disableClickPropagation:ko,preventDefault:Kt,stop:Lr,getPropagationPath:nd,getMousePosition:Mo,getWheelDelta:sd,isExternalTarget:rd,addListener:Pe,removeListener:dt},id=ee.extend({run:function(o,u,p,_){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Ei(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var p=this._startPos.add(this._offset.multiplyBy(o));u&&p._round(),Mt(this._el,p),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Fe=ee.extend({options:{crs:jt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=w(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(pe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bi&&xe.any3d&&!xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,Xu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(pe(o),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=r({animate:p.animate},p.zoom),p.pan=r({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,p.zoom):this._tryAnimatedPan(o,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,p){var _=this.getZoomScale(u),E=this.getSize().divideBy(2),M=o instanceof B?o:this.latLngToContainerPoint(o),H=M.subtract(E).multiplyBy(1-1/_),Z=this.containerPointToLatLng(E.add(H));return this.setView(Z,u,{zoom:p})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():oe(o);var p=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(o,!1,p.add(_));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:o.getCenter(),zoom:E};var M=_.subtract(p).divideBy(2),H=this.project(o.getSouthWest(),E),Z=this.project(o.getNorthEast(),E),Q=this.unproject(H.add(Z).divideBy(2).add(M),E);return{center:Q,zoom:E}},fitBounds:function(o,u){if(o=oe(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=X(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new id,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,p){if(p=p||{},p.animate===!1||!xe.any3d)return this.setView(o,u,p);this._stop();var _=this.project(this.getCenter()),E=this.project(o),M=this.getSize(),H=this._zoom;o=pe(o),u=u===void 0?H:u;var Z=Math.max(M.x,M.y),Q=Z*this.getZoomScale(H,u),se=E.distanceTo(_)||1,ve=1.42,Ae=ve*ve;function He(Zt){var lm=Zt?-1:1,c4=Zt?Q:Z,u4=Q*Q-Z*Z+lm*Ae*Ae*se*se,d4=2*c4*Ae*se,oy=u4/d4,H1=Math.sqrt(oy*oy+1)-oy,h4=H1<1e-9?-18:Math.log(H1);return h4}function Hn(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function hn(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function Ks(Zt){return Hn(Zt)/hn(Zt)}var ns=He(0);function Xl(Zt){return Z*(hn(ns)/hn(ns+ve*Zt))}function i4(Zt){return Z*(hn(ns)*Ks(ns+ve*Zt)-Hn(ns))/Ae}function a4(Zt){return 1-Math.pow(1-Zt,1.5)}var o4=Date.now(),B1=(He(1)-ns)/ve,l4=p.duration?1e3*p.duration:1e3*B1*.8;function F1(){var Zt=(Date.now()-o4)/l4,lm=a4(Zt)*B1;Zt<=1?(this._flyToFrame=O(F1,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(i4(lm)/se)),H),this.getScaleZoom(Z/Xl(lm),H),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),F1.call(this),this},flyToBounds:function(o,u){var p=this._getBoundsCenterZoom(o,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(o){return o=oe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,oe(o));return p.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var p=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),M=this.project(o),H=this.getPixelBounds(),Z=W([H.min.add(p),H.max.subtract(_)]),Q=Z.getSize();if(!Z.contains(M)){this._enforcingBounds=!0;var se=M.subtract(Z.getCenter()),ve=Z.extend(M).getSize().subtract(Q);E.x+=se.x<0?-ve.x:ve.x,E.y+=se.y<0?-ve.y:ve.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=r({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=u.divideBy(2).round(),E=p.divideBy(2).round(),M=_.subtract(E);return!M.x&&!M.y?this:(o.animate&&o.pan?this.panBy(M):(o.pan&&this._rawPanBy(M),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=r({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),p=l(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,o):navigator.geolocation.getCurrentPosition(u,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,p=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,p=o.coords.longitude,_=new fe(u,p),E=_.toBounds(o.coords.accuracy*2),M=this._locateOptions;if(M.setView){var H=this.getBoundsZoom(E);this.setView(_,M.maxZoom?Math.min(H,M.maxZoom):H)}var Z={latlng:_,bounds:E,timestamp:o.timestamp};for(var Q in o.coords)typeof o.coords[Q]=="number"&&(Z[Q]=o.coords[Q]);this.fire("locationfound",Z)}},addHandler:function(o,u){if(!u)return this;var p=this[o]=new u(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)st(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),_=Xe("div",p,u||this._mapPane);return o&&(this._panes[o]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new de(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,p){o=oe(o),p=X(p||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),M=this.getMaxZoom(),H=o.getNorthWest(),Z=o.getSouthEast(),Q=this.getSize().subtract(p),se=W(this.project(Z,_),this.project(H,_)).getSize(),ve=xe.any3d?this.options.zoomSnap:1,Ae=Q.x/se.x,He=Q.y/se.y,Hn=u?Math.max(Ae,He):Math.min(Ae,He);return _=this.getScaleZoom(Hn,_),ve&&(_=Math.round(_/(ve/100))*(ve/100),_=u?Math.ceil(_/ve)*ve:Math.floor(_/ve)*ve),Math.max(E,Math.min(M,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var p=this._getTopLeftPoint(o,u);return new le(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(o)/p.scale(u)},getScaleZoom:function(o,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var _=p.zoom(o*p.scale(u));return isNaN(_)?1/0:_},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(pe(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(X(o),u)},layerPointToLatLng:function(o){var u=X(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(pe(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(pe(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(oe(o))},distance:function(o,u){return this.options.crs.distance(pe(o),pe(u))},containerPointToLayerPoint:function(o){return X(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return X(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(X(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(o)))},mouseEventToContainerPoint:function(o){return Mo(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=Ju(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&xe.any3d,_e(o,"leaflet-container"+(xe.touch?" leaflet-touch":"")+(xe.retina?" leaflet-retina":"")+(xe.ielt9?" leaflet-oldie":"")+(xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ma(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mt(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(o.markerPane,"leaflet-zoom-hide"),_e(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,p){Mt(this._mapPane,new B(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,p)._move(o,u)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,p,_){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),_?p&&p.pinch&&this.fire("zoom",p):((E||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Mt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[d(this._container)]=this;var u=o?dt:Pe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),xe.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var p=[],_,E=u==="mouseout"||u==="mouseover",M=o.target||o.srcElement,H=!1;M;){if(_=this._targets[d(M)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){H=!0;break}if(_&&_.listens(u,!0)&&(E&&!rd(M,o)||(p.push(_),E))||M===this._container)break;M=M.parentNode}return!p.length&&!H&&!E&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var p=o.type;p==="mousedown"&&ed(u),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,p){if(o.type==="click"){var _=r({},o);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var E=this._findEventTargets(o,u);if(p){for(var M=[],H=0;H<p.length;H++)p[H].listens(u,!0)&&M.push(p[H]);E=M.concat(E)}if(E.length){u==="contextmenu"&&Kt(o);var Z=E[0],Q={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var se=Z.getLatLng&&(!Z._radius||Z._radius<=10);Q.containerPoint=se?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(o),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=se?Z.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(H=0;H<E.length;H++)if(E[H].fire(u,Q,!0),Q.originalEvent._stopped||E[H].options.bubblingMouseEvents===!1&&D(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return Ei(this._mapPane)||new B(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var p=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var p=this.getSize()._divideBy(2);return this.project(o,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,p){var _=this._getNewPixelOrigin(p,u);return this.project(o,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(o,u,p){var _=this._getNewPixelOrigin(p,u);return W([this.project(o.getSouthWest(),u)._subtract(_),this.project(o.getNorthWest(),u)._subtract(_),this.project(o.getSouthEast(),u)._subtract(_),this.project(o.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,p){if(!p)return o;var _=this.project(o,u),E=this.getSize().divideBy(2),M=new le(_.subtract(E),_.add(E)),H=this._getBoundsOffset(M,p,u);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?o:this.unproject(_.add(H),u)},_limitOffset:function(o,u){if(!u)return o;var p=this.getPixelBounds(),_=new le(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(o,u,p){var _=W(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),E=_.min.subtract(o.min),M=_.max.subtract(o.max),H=this._rebound(E.x,-M.x),Z=this._rebound(E.y,-M.y);return new B(H,Z)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),p=this.getMaxZoom(),_=xe.any3d?this.options.zoomSnap:1;return _&&(o=Math.round(o/_)*_),Math.max(u,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var p=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var o=this._proxy=Xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var p=Co,_=this._proxy.style[p];Si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();Si(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),E=this._getCenterOffset(o)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(E)?!1:(O(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zl(o,u){return new Fe(o,u)}var ts=J.extend({options:{position:"topright"},initialize:function(o){w(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),p=this.getPosition(),_=o._controlCorners[p];return _e(u,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(st(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Vr=function(o){return new ts(o)};Fe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",p=this._controlContainer=Xe("div",u+"control-container",this._container);function _(E,M){var H=u+E+" "+u+M;o[E+M]=Xe("div",H,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)st(this._controlCorners[o]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wf=ts.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,p,_){return p<_?-1:_<p?1:0}},initialize:function(o,u,p){w(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in o)this._addLayer(o[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ts.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=Xe("div",o),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ko(u),td(u);var _=this._section=Xe("section",o+"-list");p&&(this._map.on("click",this.collapse,this),Pe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Xe("a",o+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),Pe(E,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Kt(M),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Xe("div",o+"-base",_),this._separator=Xe("div",o+"-separator",_),this._overlaysList=Xe("div",o+"-overlays",_),u.appendChild(_)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(l(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bn(this._baseLayersList),Bn(this._overlaysList),this._layerControlInputs=[];var o,u,p,_,E=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),u=u||_.overlay,o=o||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(o=o&&E>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(d(o.target)),p=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(o,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(o){var u=document.createElement("label"),p=this._map.hasLayer(o.layer),_;o.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+d(this),p),this._layerControlInputs.push(_),_.layerId=d(o.layer),Pe(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+o.name;var M=document.createElement("span");u.appendChild(M),M.appendChild(_),M.appendChild(E);var H=o.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,p,_=[],E=[];this._handlingClick=!0;for(var M=o.length-1;M>=0;M--)u=o[M],p=this._getLayer(u.layerId).layer,u.checked?_.push(p):u.checked||E.push(p);for(M=0;M<E.length;M++)this._map.hasLayer(E[M])&&this._map.removeLayer(E[M]);for(M=0;M<_.length;M++)this._map.hasLayer(_[M])||this._map.addLayer(_[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,p,_=this._map.getZoom(),E=o.length-1;E>=0;E--)u=o[E],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Pe(o,"click",Kt),this.expand();var u=this;setTimeout(function(){dt(o,"click",Kt),u._preventClick=!1})}}),Kf=function(o,u,p){return new Wf(o,u,p)},Ni=ts.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",p=Xe("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,p,_,E){var M=Xe("a",p,_);return M.innerHTML=o,M.href="#",M.title=u,M.setAttribute("role","button"),M.setAttribute("aria-label",u),ko(M),Pe(M,"click",Lr),Pe(M,"click",E,this),Pe(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";_t(this._zoomInButton,u),_t(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(_e(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(_e(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ni,this.addControl(this.zoomControl))});var Zf=function(o){return new Ni(o)},ad=ts.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",p=Xe("div",u),_=this.options;return this._addScales(_,u+"-line",p),o.on(_.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,p){o.metric&&(this._mScale=Xe("div",u,p)),o.imperial&&(this._iScale=Xe("div",u,p))},_update:function(){var o=this._map,u=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/o)},_updateImperial:function(o){var u=o*3.2808399,p,_,E;u>5280?(p=u/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(o,u,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),p=o/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),od=function(o){return new ad(o)},ld='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bl=ts.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xe.inlineSvg?ld+" ":"")+"Leaflet</a>"},initialize:function(o){w(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Xe("div","leaflet-control-attribution"),ko(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new Bl().addTo(this)});var Fl=function(o){return new Bl(o)};ts.Layers=Wf,ts.Zoom=Ni,ts.Scale=ad,ts.Attribution=Bl,Vr.layers=Kf,Vr.zoom=Zf,Vr.scale=od,Vr.attribution=Fl;var ws=J.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ws.addTo=function(o,u){return o.addHandler(u,this),this};var Yf={Events:G},zr=xe.touch?"touchstart mousedown":"mousedown",gr=ee.extend({options:{clickTolerance:3},initialize:function(o,u,p,_){w(this,_),this._element=o,this._dragStartTarget=u||o,this._preventOutline=p},enable:function(){this._enabled||(Pe(this._dragStartTarget,zr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gr._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,zr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ro(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){gr._dragging===this&&this.finishDrag();return}if(!(gr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(gr._dragging=this,this._preventOutline&&ed(this._element),Dl(),pr(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,p=Gf(this._element);this._startPoint=new B(u.clientX,u.clientY),this._startPos=Ei(this._element),this._parentScale=qs(p);var _=o.type==="mousedown";Pe(document,_?"mousemove":"touchmove",this._onMove,this),Pe(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,p=new B(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Kt(o),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Mt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Ll(),bs();var u=this._moved&&this._moving;this._moving=!1,gr._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function cd(o,u,p){var _,E=[1,4,2,8],M,H,Z,Q,se,ve,Ae,He;for(M=0,ve=o.length;M<ve;M++)o[M]._code=Y(o[M],u);for(Z=0;Z<4;Z++){for(Ae=E[Z],_=[],M=0,ve=o.length,H=ve-1;M<ve;H=M++)Q=o[M],se=o[H],Q._code&Ae?se._code&Ae||(He=K(se,Q,Ae,u,p),He._code=Y(He,u),_.push(He)):(se._code&Ae&&(He=K(se,Q,Ae,u,p),He._code=Y(He,u),_.push(He)),_.push(Q));o=_}return o}function ud(o,u){var p,_,E,M,H,Z,Q,se,ve;if(!o||o.length===0)throw new Error("latlngs not passed");rt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ae=pe([0,0]),He=oe(o),Hn=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());Hn<1700&&(Ae=Hl(o));var hn=o.length,Ks=[];for(p=0;p<hn;p++){var ns=pe(o[p]);Ks.push(u.project(pe([ns.lat-Ae.lat,ns.lng-Ae.lng])))}for(Z=Q=se=0,p=0,_=hn-1;p<hn;_=p++)E=Ks[p],M=Ks[_],H=E.y*M.x-M.y*E.x,Q+=(E.x+M.x)*H,se+=(E.y+M.y)*H,Z+=H*3;Z===0?ve=Ks[0]:ve=[Q/Z,se/Z];var Xl=u.unproject(X(ve));return pe([Xl.lat+Ae.lat,Xl.lng+Ae.lng])}function Hl(o){for(var u=0,p=0,_=0,E=0;E<o.length;E++){var M=pe(o[E]);u+=M.lat,p+=M.lng,_++}return pe([u/_,p/_])}var $l={__proto__:null,clipPolygon:cd,polygonCenter:ud,centroid:Hl};function kn(o,u){if(!u||!o.length)return o.slice();var p=u*u;return o=b(o,p),o=va(o,p),o}function dd(o,u,p){return Math.sqrt(Ie(o,u,p,!0))}function Qf(o,u,p){return Ie(o,u,p)}function va(o,u){var p=o.length,_=typeof Uint8Array<"u"?Uint8Array:Array,E=new _(p);E[0]=E[p-1]=1,f(o,E,u,0,p-1);var M,H=[];for(M=0;M<p;M++)E[M]&&H.push(o[M]);return H}function f(o,u,p,_,E){var M=0,H,Z,Q;for(Z=_+1;Z<=E-1;Z++)Q=Ie(o[Z],o[_],o[E],!0),Q>M&&(H=Z,M=Q);M>p&&(u[H]=1,f(o,u,p,_,H),f(o,u,p,H,E))}function b(o,u){for(var p=[o[0]],_=1,E=0,M=o.length;_<M;_++)he(o[_],o[E])>u&&(p.push(o[_]),E=_);return E<M-1&&p.push(o[M-1]),p}var C;function z(o,u,p,_,E){var M=_?C:Y(o,p),H=Y(u,p),Z,Q,se;for(C=H;;){if(!(M|H))return[o,u];if(M&H)return!1;Z=M||H,Q=K(o,u,Z,p,E),se=Y(Q,p),Z===M?(o=Q,M=se):(u=Q,H=se)}}function K(o,u,p,_,E){var M=u.x-o.x,H=u.y-o.y,Z=_.min,Q=_.max,se,ve;return p&8?(se=o.x+M*(Q.y-o.y)/H,ve=Q.y):p&4?(se=o.x+M*(Z.y-o.y)/H,ve=Z.y):p&2?(se=Q.x,ve=o.y+H*(Q.x-o.x)/M):p&1&&(se=Z.x,ve=o.y+H*(Z.x-o.x)/M),new B(se,ve,E)}function Y(o,u){var p=0;return o.x<u.min.x?p|=1:o.x>u.max.x&&(p|=2),o.y<u.min.y?p|=4:o.y>u.max.y&&(p|=8),p}function he(o,u){var p=u.x-o.x,_=u.y-o.y;return p*p+_*_}function Ie(o,u,p,_){var E=u.x,M=u.y,H=p.x-E,Z=p.y-M,Q=H*H+Z*Z,se;return Q>0&&(se=((o.x-E)*H+(o.y-M)*Z)/Q,se>1?(E=p.x,M=p.y):se>0&&(E+=H*se,M+=Z*se)),H=o.x-E,Z=o.y-M,_?H*H+Z*Z:new B(E,M)}function rt(o){return!N(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function ct(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rt(o)}function Ut(o,u){var p,_,E,M,H,Z,Q,se;if(!o||o.length===0)throw new Error("latlngs not passed");rt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ve=pe([0,0]),Ae=oe(o),He=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());He<1700&&(ve=Hl(o));var Hn=o.length,hn=[];for(p=0;p<Hn;p++){var Ks=pe(o[p]);hn.push(u.project(pe([Ks.lat-ve.lat,Ks.lng-ve.lng])))}for(p=0,_=0;p<Hn-1;p++)_+=hn[p].distanceTo(hn[p+1])/2;if(_===0)se=hn[0];else for(p=0,M=0;p<Hn-1;p++)if(H=hn[p],Z=hn[p+1],E=H.distanceTo(Z),M+=E,M>_){Q=(M-_)/E,se=[Z.x-Q*(Z.x-H.x),Z.y-Q*(Z.y-H.y)];break}var ns=u.unproject(X(se));return pe([ns.lat+ve.lat,ns.lng+ve.lng])}var Gs={__proto__:null,simplify:kn,pointToSegmentDistance:dd,closestPointOnSegment:Qf,clipSegment:z,_getEdgeIntersection:K,_getBitCode:Y,_sqClosestPointOnSegment:Ie,isFlat:rt,_flat:ct,polylineCenter:Ut},vr={project:function(o){return new B(o.lng,o.lat)},unproject:function(o){return new fe(o.y,o.x)},bounds:new le([-180,-90],[180,90])},Ws={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,p=this.R,_=o.lat*u,E=this.R_MINOR/p,M=Math.sqrt(1-E*E),H=M*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-H)/(1+H),M/2);return _=-p*Math.log(Math.max(Z,1e-10)),new B(o.lng*u*p,_)},unproject:function(o){for(var u=180/Math.PI,p=this.R,_=this.R_MINOR/p,E=Math.sqrt(1-_*_),M=Math.exp(-o.y/p),H=Math.PI/2-2*Math.atan(M),Z=0,Q=.1,se;Z<15&&Math.abs(Q)>1e-7;Z++)se=E*Math.sin(H),se=Math.pow((1-se)/(1+se),E/2),Q=Math.PI/2-2*Math.atan(M*se)-H,H+=Q;return new fe(H*u,o.x*u/p)}},Br={__proto__:null,LonLat:vr,Mercator:Ws,SphericalMercator:We},ql=r({},Oe,{code:"EPSG:3395",projection:Ws,transformation:function(){var o=.5/(Math.PI*Ws.R);return tt(o,.5,-o,.5)}()}),Gl=r({},Oe,{code:"EPSG:4326",projection:vr,transformation:tt(1/180,1,-1/180,.5)}),LD=r({},re,{projection:vr,transformation:tt(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var p=u.lng-o.lng,_=u.lat-o.lat;return Math.sqrt(p*p+_*_)},infinite:!0});re.Earth=Oe,re.EPSG3395=ql,re.EPSG3857=jt,re.EPSG900913=Zn,re.EPSG4326=Gl,re.Simple=LD;var yr=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[d(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[d(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=d(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return d(o)in this._layers},eachLayer:function(o,u){for(var p in this._layers)o.call(u,this._layers[p]);return this},_addLayers:function(o){o=o?N(o)?o:[o]:[];for(var u=0,p=o.length;u<p;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[d(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=d(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;o=E.minZoom===void 0?o:Math.min(o,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wl=yr.extend({initialize:function(o,u){w(this,u),this._layers={};var p,_;if(o)for(p=0,_=o.length;p<_;p++)this.addLayer(o[p])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[o]&&_[o].apply(_,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var p in this._layers)o.call(u,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return d(o)}}),UD=function(o,u){return new Wl(o,u)},Ai=Wl.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Wl.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Wl.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new de;for(var u in this._layers){var p=this._layers[u];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),VD=function(o,u){return new Ai(o,u)},Kl=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){w(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(o,u){var p=this.options,_=p[u+"Size"];typeof _=="number"&&(_=[_,_]);var E=X(_),M=X(u==="shadow"&&p.shadowAnchor||p.iconAnchor||E&&E.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(p.className||""),M&&(o.style.marginLeft=-M.x+"px",o.style.marginTop=-M.y+"px"),E&&(o.style.width=E.x+"px",o.style.height=E.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return xe.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function zD(o){return new Kl(o)}var hd=Kl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof hd.imagePath!="string"&&(hd.imagePath=this._detectIconPath()),(this.options.imagePath||hd.imagePath)+Kl.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(p,_,E){var M=_.exec(p);return M&&M[E]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Xe("div","leaflet-default-icon-path",document.body),u=ma(o,"background-image")||ma(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),w1=ws.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new gr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,p=u._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,M=Ei(u._icon),H=p.getPixelBounds(),Z=p.getPixelOrigin(),Q=W(H.min._subtract(Z).add(E),H.max._subtract(Z).subtract(E));if(!Q.contains(M)){var se=X((Math.max(Q.max.x,M.x)-Q.max.x)/(H.max.x-Q.max.x)-(Math.min(Q.min.x,M.x)-Q.min.x)/(H.min.x-Q.min.x),(Math.max(Q.max.y,M.y)-Q.max.y)/(H.max.y-Q.max.y)-(Math.min(Q.min.y,M.y)-Q.min.y)/(H.min.y-Q.min.y)).multiplyBy(_);p.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),Mt(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=O(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,p=u._shadow,_=Ei(u._icon),E=u._map.layerPointToLatLng(_);p&&Mt(p,_),u._latlng=E,o.latlng=E,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Xf=yr.extend({options:{icon:new hd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){w(this,u),this._latlng=pe(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=pe(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),_e(p,u),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(p,"focus",this._panOnFocus,this);var E=o.icon.createShadow(this._shadow),M=!1;E!==this._shadow&&(this._removeShadow(),M=!0),E&&(_e(E,u),E.alt=""),this._shadow=E,o.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&M&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Mt(this._icon,o),this._shadow&&Mt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),w1)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new w1(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&es(this._icon,o),this._shadow&&es(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,p=u.iconSize?X(u.iconSize):X(0,0),_=u.iconAnchor?X(u.iconAnchor):X(0,0);o.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function BD(o,u){return new Xf(o,u)}var ya=yr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return w(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Jf=ya.extend({options:{fill:!0,radius:10},initialize:function(o,u){w(this,u),this._latlng=pe(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=pe(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return ya.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,p=this._clickTolerance(),_=[o+p,u+p];this._pxBounds=new le(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function FD(o,u){return new Jf(o,u)}var sy=Jf.extend({initialize:function(o,u,p){if(typeof u=="number"&&(u=r({},p,{radius:u})),w(this,u),this._latlng=pe(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ya.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===Oe.distance){var E=Math.PI/180,M=this._mRadius/Oe.R/E,H=p.project([u+M,o]),Z=p.project([u-M,o]),Q=H.add(Z).divideBy(2),se=p.unproject(Q).lat,ve=Math.acos((Math.cos(M*E)-Math.sin(u*E)*Math.sin(se*E))/(Math.cos(u*E)*Math.cos(se*E)))/E;(isNaN(ve)||ve===0)&&(ve=M/Math.cos(Math.PI/180*u)),this._point=Q.subtract(p.getPixelOrigin()),this._radius=isNaN(ve)?0:Q.x-p.project([se,o-ve]).x,this._radiusY=Q.y-H.y}else{var Ae=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ae).x}this._updateBounds()}});function HD(o,u,p){return new sy(o,u,p)}var ji=ya.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){w(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,p=null,_=Ie,E,M,H=0,Z=this._parts.length;H<Z;H++)for(var Q=this._parts[H],se=1,ve=Q.length;se<ve;se++){E=Q[se-1],M=Q[se];var Ae=_(o,E,M,!0);Ae<u&&(u=Ae,p=_(o,E,M))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ut(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=pe(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new de,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return rt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],p=rt(o),_=0,E=o.length;_<E;_++)p?(u[_]=pe(o[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(o[_]);return u},_project:function(){var o=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new B(o,o);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,p){var _=o[0]instanceof fe,E=o.length,M,H;if(_){for(H=[],M=0;M<E;M++)H[M]=this._map.latLngToLayerPoint(o[M]),p.extend(H[M]);u.push(H)}else for(M=0;M<E;M++)this._projectLatlngs(o[M],u,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,_,E,M,H,Z,Q;for(p=0,E=0,M=this._rings.length;p<M;p++)for(Q=this._rings[p],_=0,H=Q.length;_<H-1;_++)Z=z(Q[_],Q[_+1],o,_,!0),Z&&(u[E]=u[E]||[],u[E].push(Z[0]),(Z[1]!==Q[_+1]||_===H-2)&&(u[E].push(Z[1]),E++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,p=0,_=o.length;p<_;p++)o[p]=kn(o[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var p,_,E,M,H,Z,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,M=this._parts.length;p<M;p++)for(Z=this._parts[p],_=0,H=Z.length,E=H-1;_<H;E=_++)if(!(!u&&_===0)&&dd(o,Z[E],Z[_])<=Q)return!0;return!1}});function $D(o,u){return new ji(o,u)}ji._flat=ct;var Zl=ji.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ud(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=ji.prototype._convertLatLngs.call(this,o),p=u.length;return p>=2&&u[0]instanceof fe&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(o){ji.prototype._setLatLngs.call(this,o),rt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,p=new B(u,u);if(o=new le(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,M;_<E;_++)M=cd(this._rings[_],o,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,p,_,E,M,H,Z,Q,se;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(M=0,Q=this._parts.length;M<Q;M++)for(p=this._parts[M],H=0,se=p.length,Z=se-1;H<se;Z=H++)_=p[H],E=p[Z],_.y>o.y!=E.y>o.y&&o.x<(E.x-_.x)*(o.y-_.y)/(E.y-_.y)+_.x&&(u=!u);return u||ji.prototype._containsPoint.call(this,o,!0)}});function qD(o,u){return new Zl(o,u)}var Ci=Ai.extend({initialize:function(o,u){w(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=N(o)?o:o.features,p,_,E;if(u){for(p=0,_=u.length;p<_;p++)E=u[p],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var M=this.options;if(M.filter&&!M.filter(o))return this;var H=em(o,M);return H?(H.feature=sm(o),H.defaultOptions=H.options,this.resetStyle(H),M.onEachFeature&&M.onEachFeature(o,H),this.addLayer(H)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=r({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function em(o,u){var p=o.type==="Feature"?o.geometry:o,_=p?p.coordinates:null,E=[],M=u&&u.pointToLayer,H=u&&u.coordsToLatLng||ry,Z,Q,se,ve;if(!_&&!p)return null;switch(p.type){case"Point":return Z=H(_),S1(M,o,Z,u);case"MultiPoint":for(se=0,ve=_.length;se<ve;se++)Z=H(_[se]),E.push(S1(M,o,Z,u));return new Ai(E);case"LineString":case"MultiLineString":return Q=tm(_,p.type==="LineString"?0:1,H),new ji(Q,u);case"Polygon":case"MultiPolygon":return Q=tm(_,p.type==="Polygon"?1:2,H),new Zl(Q,u);case"GeometryCollection":for(se=0,ve=p.geometries.length;se<ve;se++){var Ae=em({geometry:p.geometries[se],type:"Feature",properties:o.properties},u);Ae&&E.push(Ae)}return new Ai(E);case"FeatureCollection":for(se=0,ve=p.features.length;se<ve;se++){var He=em(p.features[se],u);He&&E.push(He)}return new Ai(E);default:throw new Error("Invalid GeoJSON object.")}}function S1(o,u,p,_){return o?o(u,p):new Xf(p,_&&_.markersInheritOptions&&_)}function ry(o){return new fe(o[1],o[0],o[2])}function tm(o,u,p){for(var _=[],E=0,M=o.length,H;E<M;E++)H=u?tm(o[E],u-1,p):(p||ry)(o[E]),_.push(H);return _}function iy(o,u){return o=pe(o),o.alt!==void 0?[v(o.lng,u),v(o.lat,u),v(o.alt,u)]:[v(o.lng,u),v(o.lat,u)]}function nm(o,u,p,_){for(var E=[],M=0,H=o.length;M<H;M++)E.push(u?nm(o[M],rt(o[M])?0:u-1,p,_):iy(o[M],_));return!u&&p&&E.length>0&&E.push(E[0].slice()),E}function Yl(o,u){return o.feature?r({},o.feature,{geometry:u}):sm(u)}function sm(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var ay={toGeoJSON:function(o){return Yl(this,{type:"Point",coordinates:iy(this.getLatLng(),o)})}};Xf.include(ay),sy.include(ay),Jf.include(ay),ji.include({toGeoJSON:function(o){var u=!rt(this._latlngs),p=nm(this._latlngs,u?1:0,!1,o);return Yl(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Zl.include({toGeoJSON:function(o){var u=!rt(this._latlngs),p=u&&!rt(this._latlngs[0]),_=nm(this._latlngs,p?2:u?1:0,!0,o);return u||(_=[_]),Yl(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),Wl.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(o).geometry.coordinates)}),Yl(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var p=u==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var M=E.toGeoJSON(o);if(p)_.push(M.geometry);else{var H=sm(M);H.type==="FeatureCollection"?_.push.apply(_,H.features):_.push(H)}}}),p?Yl(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function E1(o,u){return new Ci(o,u)}var GD=E1,rm=yr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,p){this._url=o,this._bounds=oe(u),w(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Hs(this._image),this},bringToBack:function(){return this._map&&$s(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=oe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:Xe("img");if(_e(u,"leaflet-image-layer"),this._zoomAnimated&&_e(u,"leaflet-zoom-animated"),this.options.className&&_e(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Si(this._image,p,u)},_reset:function(){var o=this._image,u=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();Mt(o,u.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){es(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),WD=function(o,u,p){return new rm(o,u,p)},T1=rm.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:Xe("video");if(_e(u,"leaflet-image-layer"),this._zoomAnimated&&_e(u,"leaflet-zoom-animated"),this.options.className&&_e(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=l(this.fire,this,"load"),o){for(var p=u.getElementsByTagName("source"),_=[],E=0;E<p.length;E++)_.push(p[E].src);this._url=p.length>0?_:[u.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var H=Xe("source");H.src=this._url[M],u.appendChild(H)}}});function KD(o,u,p){return new T1(o,u,p)}var N1=rm.extend({_initImage:function(){var o=this._image=this._url;_e(o,"leaflet-image-layer"),this._zoomAnimated&&_e(o,"leaflet-zoom-animated"),this.options.className&&_e(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function ZD(o,u,p){return new N1(o,u,p)}var Fr=yr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof fe||N(o))?(this._latlng=pe(o),w(this,u)):(w(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&es(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&es(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(es(this._container,0),this._removeTimeout=setTimeout(l(st,void 0,this._container),200)):st(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=pe(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Hs(this._container),this},bringToBack:function(){return this._map&&$s(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof Ai){u=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){u=p[_];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=X(this.options.offset),p=this._getAnchor();this._zoomAnimated?Mt(this._container,o.add(p)):u=u.add(o).add(p);var _=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(o,u,p,_){var E=u;return E instanceof o||(E=new o(_).setContent(u)),p&&E.setLatLng(p),E}}),yr.include({_initOverlay:function(o,u,p,_){var E=p;return E instanceof o?(w(E,_),E._source=this):(E=u&&!_?u:new o(_,this),E.setContent(p)),E}});var im=Fr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Fr.prototype.openOn.call(this,o)},onAdd:function(o){Fr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ya||this._source.on("preclick",lt))},onRemove:function(o){Fr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ya||this._source.off("preclick",lt))},getEvents:function(){var o=Fr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=Xe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Xe("div",o+"-content-wrapper",u);if(this._contentNode=Xe("div",o+"-content",p),ko(u),td(this._contentNode),Pe(u,"contextmenu",lt),this._tipContainer=Xe("div",o+"-tip-container",u),this._tip=Xe("div",o+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Xe("a",o+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(_,"click",function(E){Kt(E),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var _=o.offsetHeight,E=this.options.maxHeight,M="leaflet-popup-scrolled";E&&_>E?(u.height=E+"px",_e(o,M)):_t(o,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();Mt(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(ma(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,_=this._containerWidth,E=new B(this._containerLeft,-p-this._containerBottom);E._add(Ei(this._container));var M=o.layerPointToContainerPoint(E),H=X(this.options.autoPanPadding),Z=X(this.options.autoPanPaddingTopLeft||H),Q=X(this.options.autoPanPaddingBottomRight||H),se=o.getSize(),ve=0,Ae=0;M.x+_+Q.x>se.x&&(ve=M.x+_-se.x+Q.x),M.x-ve-Z.x<0&&(ve=M.x-Z.x),M.y+p+Q.y>se.y&&(Ae=M.y+p-se.y+Q.y),M.y-Ae-Z.y<0&&(Ae=M.y-Z.y),(ve||Ae)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([ve,Ae]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),YD=function(o,u){return new im(o,u)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(o,u,p){return this._initOverlay(im,o,u,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),yr.include({bindPopup:function(o,u){return this._popup=this._initOverlay(im,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ai||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Lr(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof ya)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var am=Fr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Fr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Fr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Fr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,p,_=this._map,E=this._container,M=_.latLngToContainerPoint(_.getCenter()),H=_.layerPointToContainerPoint(o),Z=this.options.direction,Q=E.offsetWidth,se=E.offsetHeight,ve=X(this.options.offset),Ae=this._getAnchor();Z==="top"?(u=Q/2,p=se):Z==="bottom"?(u=Q/2,p=0):Z==="center"?(u=Q/2,p=se/2):Z==="right"?(u=0,p=se/2):Z==="left"?(u=Q,p=se/2):H.x<M.x?(Z="right",u=0,p=se/2):(Z="left",u=Q+(ve.x+Ae.x)*2,p=se/2),o=o.subtract(X(u,p,!0)).add(ve).add(Ae),_t(E,"leaflet-tooltip-right"),_t(E,"leaflet-tooltip-left"),_t(E,"leaflet-tooltip-top"),_t(E,"leaflet-tooltip-bottom"),_e(E,"leaflet-tooltip-"+Z),Mt(E,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&es(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),QD=function(o,u){return new am(o,u)};Fe.include({openTooltip:function(o,u,p){return this._initOverlay(am,o,u,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),yr.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(am,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ai||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(Pe(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Pe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,p,_;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),_=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var A1=Kl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Bn(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=X(p.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function XD(o){return new A1(o)}Kl.Default=hd;var fd=yr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){w(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),st(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Hs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($s(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof B?o:new B(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,p=-o(-1/0,1/0),_=0,E=u.length,M;_<E;_++)M=u[_].style.zIndex,u[_]!==this._container&&M&&(p=o(p,+M));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xe.ielt9){es(this._container,this.options.opacity);var o=+new Date,u=!1,p=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var M=Math.min(1,(o-E.loaded)/200);es(E.el,M),M<1?u=!0:(E.active?p=!0:this._onOpaqueTile(E),E.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(k(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=u-Math.abs(o-p),this._onUpdateLevel(p)):(st(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[o],E=this._map;return _||(_=this._levels[o]={},_.el=Xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=E.project(E.unproject(E.getPixelOrigin()),o).round(),_.zoom=o,this._setZoomTransform(_,E.getCenter(),E.getZoom()),g(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)st(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,p,_){var E=Math.floor(o/2),M=Math.floor(u/2),H=p-1,Z=new B(+E,+M);Z.z=+H;var Q=this._tileCoordsToKey(Z),se=this._tiles[Q];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),H>_?this._retainParent(E,M,H,_):!1)},_retainChildren:function(o,u,p,_){for(var E=2*o;E<2*o+2;E++)for(var M=2*u;M<2*u+2;M++){var H=new B(E,M);H.z=p+1;var Z=this._tileCoordsToKey(H),Q=this._tiles[Z];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);p+1<_&&this._retainChildren(E,M,p+1,_)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,p,_){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var M=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||M)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,u)},_setZoomTransform:function(o,u,p){var _=this._map.getZoomScale(p,o.zoom),E=o.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,p)).round();xe.any3d?Si(o.el,E,_):Mt(o.el,E)},_resetGrid:function(){var o=this._map,u=o.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],_).x/p.x),Math.ceil(o.project([0,u.wrapLng[1]],_).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],_).y/p.x),Math.ceil(o.project([u.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(p,this._tileZoom),E=u.project(o,this._tileZoom).floor(),M=u.getSize().divideBy(_*2);return new le(E.subtract(M),E.add(M))},_update:function(o){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(o),E=this._pxBoundsToTileRange(_),M=E.getCenter(),H=[],Z=this.options.keepBuffer,Q=new le(E.getBottomLeft().subtract([Z,-Z]),E.getTopRight().add([Z,-Z]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var ve=this._tiles[se].coords;(ve.z!==this._tileZoom||!Q.contains(new B(ve.x,ve.y)))&&(this._tiles[se].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var Ae=E.min.y;Ae<=E.max.y;Ae++)for(var He=E.min.x;He<=E.max.x;He++){var Hn=new B(He,Ae);if(Hn.z=this._tileZoom,!!this._isValidTile(Hn)){var hn=this._tiles[this._tileCoordsToKey(Hn)];hn?hn.current=!0:H.push(Hn)}}if(H.sort(function(ns,Xl){return ns.distanceTo(M)-Xl.distanceTo(M)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ks=document.createDocumentFragment();for(He=0;He<H.length;He++)this._addTile(H[He],Ks);this._level.el.appendChild(Ks)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!u.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(o);return oe(this.options.bounds).overlaps(_)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,p=this.getTileSize(),_=o.scaleBy(p),E=_.add(p),M=u.unproject(_,o.z),H=u.unproject(E,o.z);return[M,H]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),p=new de(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),p=new B(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(o){var u=this._tiles[o];u&&(st(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){_e(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=g,o.onmousemove=g,xe.ielt9&&this.options.opacity<1&&es(o,this.options.opacity)},_addTile:function(o,u){var p=this._getTilePos(o),_=this._tileCoordsToKey(o),E=this.createTile(this._wrapCoords(o),l(this._tileReady,this,o));this._initTile(E),this.createTile.length<2&&O(l(this._tileReady,this,o,null,E)),Mt(E,p),this._tiles[_]={el:E,coords:o,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:o})},_tileReady:function(o,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:o});var _=this._tileCoordsToKey(o);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(es(p.el,0),k(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(_e(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xe.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new B(this._wrapX?m(o.x,this._wrapX):o.x,this._wrapY?m(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new le(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function JD(o){return new fd(o)}var Ql=fd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=w(this,u),u.detectRetina&&xe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var p=document.createElement("img");return Pe(p,"load",l(this._tileOnLoad,this,u,p)),Pe(p,"error",l(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var u={r:xe.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=p),u["-y"]=p}return T(this._url,r(u,this.options))},_tileOnLoad:function(o,u){xe.ielt9?setTimeout(l(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,p){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),o(p,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(o=u-o),o+_},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=g,u.onerror=g,!u.complete)){u.src=F;var p=this._tiles[o].coords;st(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",F),fd.prototype._removeTile.call(this,o)},_tileReady:function(o,u,p){if(!(!this._map||p&&p.getAttribute("src")===F))return fd.prototype._tileReady.call(this,o,u,p)}});function j1(o,u){return new Ql(o,u)}var C1=Ql.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var p=r({},this.defaultWmsParams);for(var _ in u)_ in this.options||(p[_]=u[_]);u=w(this,u);var E=u.detectRetina&&xe.retina?2:1,M=this.getTileSize();p.width=M.x*E,p.height=M.y*E,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Ql.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),p=this._crs,_=W(p.project(u[0]),p.project(u[1])),E=_.min,M=_.max,H=(this._wmsVersion>=1.3&&this._crs===Gl?[E.y,E.x,M.y,M.x]:[E.x,E.y,M.x,M.y]).join(","),Z=Ql.prototype.getTileUrl.call(this,o);return Z+j(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(o,u){return r(this.wmsParams,o),u||this.redraw(),this}});function e4(o,u){return new C1(o,u)}Ql.WMS=C1,j1.wms=e4;var Ri=yr.extend({options:{padding:.1},initialize:function(o){w(this,o),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var p=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),M=_.multiplyBy(-p).add(E).subtract(this._map._getNewPixelOrigin(o,u));xe.any3d?Si(this._container,M,p):Mt(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new le(p,p.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),R1=Ri.extend({options:{tolerance:0},getEvents:function(){var o=Ri.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Pe(o,"mousemove",this._onMouseMove,this),Pe(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,st(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var o=this._bounds,u=this._container,p=o.getSize(),_=xe.retina?2:1;Mt(u,o.min),u.width=_*p.x,u.height=_*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[d(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,p=u.next,_=u.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete o._order,delete this._layers[d(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),p=[],_,E;for(E=0;E<u.length;E++){if(_=Number(u[E]),isNaN(_))return;p.push(_)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)o=_.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var p,_,E,M,H=o._parts,Z=H.length,Q=this._ctx;if(Z){for(Q.beginPath(),p=0;p<Z;p++){for(_=0,E=H[p].length;_<E;_++)M=H[p][_],Q[_?"lineTo":"moveTo"](M.x,M.y);u&&Q.closePath()}this._fillStroke(Q,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,p=this._ctx,_=Math.max(Math.round(o._radius),1),E=(Math.max(Math.round(o._radiusY),1)||_)/_;E!==1&&(p.save(),p.scale(1,E)),p.beginPath(),p.arc(u.x,u.y/E,_,0,Math.PI*2,!1),E!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,u){var p=u.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),p,_,E=this._drawFirst;E;E=E.next)p=E.layer,p.options.interactive&&p._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(_t(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var p,_,E=this._drawFirst;E;E=E.next)p=E.layer,p.options.interactive&&p._containsPoint(u)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(o),_&&(_e(this._container,"leaflet-interactive"),this._fireEvent([_],o,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,p){this._map._fireDOMEvent(u,p||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var p=u.next,_=u.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var p=u.next,_=u.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function P1(o){return xe.canvas?new R1(o):null}var md=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),t4={_initContainer:function(){this._container=Xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ri.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=md("shape");_e(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=md("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;st(u),o.removeInteractiveTarget(u),delete this._layers[d(o)]},_updateStyle:function(o){var u=o._stroke,p=o._fill,_=o.options,E=o._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(u||(u=o._stroke=md("stroke")),E.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=N(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(E.removeChild(u),o._stroke=null),_.fill?(p||(p=o._fill=md("fill")),E.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(E.removeChild(p),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),p=Math.round(o._radius),_=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){Hs(o._container)},_bringToBack:function(o){$s(o._container)}},om=xe.vml?md:kr,pd=Ri.extend({_initContainer:function(){this._container=om("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=om("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var o=this._bounds,u=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),Mt(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=om("path");o.options.className&&_e(u,o.options.className),o.options.interactive&&_e(u,"leaflet-interactive"),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){st(o._path),o.removeInteractiveTarget(o._path),delete this._layers[d(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,p=o.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,gs(o._parts,u))},_updateCircle:function(o){var u=o._point,p=Math.max(Math.round(o._radius),1),_=Math.max(Math.round(o._radiusY),1)||p,E="a"+p+","+_+" 0 1,0 ",M=o._empty()?"M0 0":"M"+(u.x-p)+","+u.y+E+p*2+",0 "+E+-p*2+",0 ";this._setPath(o,M)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){Hs(o._path)},_bringToBack:function(o){$s(o._path)}});xe.vml&&pd.include(t4);function I1(o){return xe.svg||xe.vml?new pd(o):null}Fe.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&P1(o)||I1(o)}});var k1=Zl.extend({initialize:function(o,u){Zl.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=oe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function n4(o,u){return new k1(o,u)}pd.create=om,pd.pointsToPath=gs,Ci.geometryToLayer=em,Ci.coordsToLatLng=ry,Ci.coordsToLatLngs=tm,Ci.latLngToCoords=iy,Ci.latLngsToCoords=nm,Ci.getFeature=Yl,Ci.asFeature=sm,Fe.mergeOptions({boxZoom:!0});var M1=ws.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pr(),Dl(),this._startPoint=this._map.mouseEventToContainerPoint(o),Pe(document,{contextmenu:Lr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Xe("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new le(this._point,this._startPoint),p=u.getSize();Mt(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(st(this._box),_t(this._container,"leaflet-crosshair")),bs(),Ll(),dt(document,{contextmenu:Lr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",M1),Fe.mergeOptions({doubleClickZoom:!0});var O1=ws.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,p=u.getZoom(),_=u.options.zoomDelta,E=o.originalEvent.shiftKey?p-_:p+_;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(o.containerPoint,E)}});Fe.addInitHook("addHandler","doubleClickZoom",O1),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var D1=ws.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new gr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=oe(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-u+p)%o+u-p,M=(_+u+p)%o-u-p,H=Math.abs(E+p)<Math.abs(M+p)?E:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(o){var u=this._map,p=u.options,_=!p.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),_)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,H=p.easeLinearity,Z=E.multiplyBy(H/M),Q=Z.distanceTo([0,0]),se=Math.min(p.inertiaMaxSpeed,Q),ve=Z.multiplyBy(se/Q),Ae=se/(p.inertiaDeceleration*H),He=ve.multiplyBy(-Ae/2).round();!He.x&&!He.y?u.fire("moveend"):(He=u._limitOffset(He,u.options.maxBounds),O(function(){u.panBy(He,{duration:Ae,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",D1),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var L1=ws.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Pe(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,p=o.scrollTop||u.scrollTop,_=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},p=this.keyCodes,_,E;for(_=0,E=p.left.length;_<E;_++)u[p.left[_]]=[-1*o,0];for(_=0,E=p.right.length;_<E;_++)u[p.right[_]]=[o,0];for(_=0,E=p.down.length;_<E;_++)u[p.down[_]]=[0,o];for(_=0,E=p.up.length;_<E;_++)u[p.up[_]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},p=this.keyCodes,_,E;for(_=0,E=p.zoomIn.length;_<E;_++)u[p.zoomIn[_]]=o;for(_=0,E=p.zoomOut.length;_<E;_++)u[p.zoomOut[_]]=-o},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,p=this._map,_;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[u],o.shiftKey&&(_=X(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(X(_),p.options.maxBounds)),p.options.worldCopyJump){var E=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(E)}else p.panBy(_)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Lr(o)}}});Fe.addInitHook("addHandler","keyboard",L1),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var U1=ws.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=sd(o),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),_),Lr(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,M=p?Math.ceil(E/p)*p:E,H=o._limitZoom(u+(this._delta>0?M:-M))-u;this._delta=0,this._startTime=null,H&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+H):o.setZoomAround(this._lastMousePos,u+H))}});Fe.addInitHook("addHandler","scrollWheelZoom",U1);var s4=600;Fe.mergeOptions({tapHold:xe.touchNative&&xe.safari&&xe.mobile,tapTolerance:15});var V1=ws.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new B(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",Kt),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),s4),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){dt(document,"touchend",Kt),dt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new B(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Fe.addInitHook("addHandler","tapHold",V1),Fe.mergeOptions({touchZoom:xe.touch,bounceAtZoomLimits:!0});var z1=ws.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(o.touches[0]),_=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),Kt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(o.touches[0]),_=u.mouseEventToContainerPoint(o.touches[1]),E=p.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var M=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&M.x===0&&M.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var H=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(H,this,!0),Kt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,k(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",z1),Fe.BoxZoom=M1,Fe.DoubleClickZoom=O1,Fe.Drag=D1,Fe.Keyboard=L1,Fe.ScrollWheelZoom=U1,Fe.TapHold=V1,Fe.TouchZoom=z1,n.Bounds=le,n.Browser=xe,n.CRS=re,n.Canvas=R1,n.Circle=sy,n.CircleMarker=Jf,n.Class=J,n.Control=ts,n.DivIcon=A1,n.DivOverlay=Fr,n.DomEvent=Oo,n.DomUtil=ny,n.Draggable=gr,n.Evented=ee,n.FeatureGroup=Ai,n.GeoJSON=Ci,n.GridLayer=fd,n.Handler=ws,n.Icon=Kl,n.ImageOverlay=rm,n.LatLng=fe,n.LatLngBounds=de,n.Layer=yr,n.LayerGroup=Wl,n.LineUtil=Gs,n.Map=Fe,n.Marker=Xf,n.Mixin=Yf,n.Path=ya,n.Point=B,n.PolyUtil=$l,n.Polygon=Zl,n.Polyline=ji,n.Popup=im,n.PosAnimation=id,n.Projection=Br,n.Rectangle=k1,n.Renderer=Ri,n.SVG=pd,n.SVGOverlay=N1,n.TileLayer=Ql,n.Tooltip=am,n.Transformation=Ke,n.Util=V,n.VideoOverlay=T1,n.bind=l,n.bounds=W,n.canvas=P1,n.circle=HD,n.circleMarker=FD,n.control=Vr,n.divIcon=XD,n.extend=r,n.featureGroup=VD,n.geoJSON=E1,n.geoJson=GD,n.gridLayer=JD,n.icon=zD,n.imageOverlay=WD,n.latLng=pe,n.latLngBounds=oe,n.layerGroup=UD,n.map=zl,n.marker=BD,n.point=X,n.polygon=qD,n.polyline=$D,n.popup=YD,n.rectangle=n4,n.setOptions=w,n.stamp=d,n.svg=I1,n.svgOverlay=ZD,n.tileLayer=j1,n.tooltip=QD,n.transformation=tt,n.version=s,n.videoOverlay=KD;var r4=window.L;n.noConflict=function(){return window.L=r4,this},window.L=n})})(Lx,Lx.exports);var Gu=Lx.exports;const ID=hA(Gu);function Xv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Jv(t,e){return e==null?function(s,r){const i=x.useRef(void 0);return i.current||(i.current=t(s,r)),i}:function(s,r){const i=x.useRef(void 0);i.current||(i.current=t(s,r));const l=x.useRef(s),{instance:c}=i.current;return x.useEffect(function(){l.current!==s&&(e(c,s,l.current),l.current=s)},[c,s,e]),i}}function kD(t,e){x.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function MD(t){return function(n){const s=Yv(),r=t(Qv(n,s),s);return CD(s.map,n.attribution),b1(r.current,n.eventHandlers),kD(r.current,s),r}}function qX(t,e){const n=x.useRef(void 0);x.useEffect(function(){if(e.pathOptions!==n.current){const r=e.pathOptions??{};t.instance.setStyle(r),n.current=r}},[t,e])}function GX(t){return function(n){const s=Yv(),r=t(Qv(n,s),s);return b1(r.current,n.eventHandlers),kD(r.current,s),qX(r.current,n),r}}function WX(t,e){const n=Jv(t,e),s=MD(n);return PD(s)}function KX(t,e){const n=Jv(t),s=$X(n,e);return FX(s)}function ZX(t,e){const n=Jv(t,e),s=GX(n);return PD(s)}function YX(t,e){const n=Jv(t,e),s=MD(n);return HX(s)}function QX(t,e,n){const{opacity:s,zIndex:r}=e;s!=null&&s!==n.opacity&&t.setOpacity(s),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function XX(){return Yv().map}function JX(t){const e=XX();return x.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function eJ({bounds:t,boundsOptions:e,center:n,children:s,className:r,id:i,placeholder:l,style:c,whenReady:d,zoom:h,...m},g){const[v]=x.useState({className:r,id:i,style:c}),[y,A]=x.useState(null),w=x.useRef(void 0);x.useImperativeHandle(g,()=>y?.map??null,[y]);const j=x.useCallback(T=>{if(T!==null&&!w.current){const N=new Gu.Map(T,m);w.current=N,n!=null&&h!=null?N.setView(n,h):t!=null&&N.fitBounds(t,e),d!=null&&N.whenReady(d),A(BX(N))}},[]);x.useEffect(()=>()=>{y?.map.remove()},[y]);const S=y?ce.createElement(x1,{value:y},s):l??null;return ce.createElement("div",{...v,ref:j},S)}const tJ=x.forwardRef(eJ),oA=WX(function({position:e,...n},s){const r=new Gu.Marker(e,n);return Xv(r,RD(s,{overlayContainer:r}))},function(e,n,s){n.position!==s.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),S0=ZX(function({positions:e,...n},s){const r=new Gu.Polyline(e,n);return Xv(r,RD(s,{overlayContainer:r}))},function(e,n,s){n.positions!==s.positions&&e.setLatLngs(n.positions)}),lA=KX(function(e,n){const s=new Gu.Popup(e,n.overlayContainer);return Xv(s,n)},function(e,n,{position:s},r){x.useEffect(function(){const{instance:l}=e;function c(h){h.popup===l&&(l.update(),r(!0))}function d(h){h.popup===l&&r(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(s!=null&&l.setLatLng(s),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,s])}),nJ=YX(function({url:e,...n},s){const r=new Gu.TileLayer(e,Qv(n,s));return Xv(r,s)},function(e,n,s){QX(e,n,s);const{url:r}=n;r!=null&&r!==s.url&&e.setUrl(r)});var OD={exports:{}};(function(t){var e={};function n(i){return Math.floor(Math.abs(i)+.5)*(i>=0?1:-1)}function s(i,l,c){i=n(i*c),l=n(l*c);var d=(i-l)*2;d<0&&(d=-d-1);for(var h="";d>=32;)h+=String.fromCharCode((32|d&31)+63),d/=32;return h+=String.fromCharCode((d|0)+63),h}e.decode=function(i,l){for(var c=0,d=0,h=0,m=[],g=0,v=0,y=null,A,w,j=Math.pow(10,Number.isInteger(l)?l:5);c<i.length;){y=null,g=1,v=0;do y=i.charCodeAt(c++)-63,v+=(y&31)*g,g*=32;while(y>=32);A=v&1?(-v-1)/2:v/2,g=1,v=0;do y=i.charCodeAt(c++)-63,v+=(y&31)*g,g*=32;while(y>=32);w=v&1?(-v-1)/2:v/2,d+=A,h+=w,m.push([d/j,h/j])}return m},e.encode=function(i,l){if(!i.length)return"";for(var c=Math.pow(10,Number.isInteger(l)?l:5),d=s(i[0][0],0,c)+s(i[0][1],0,c),h=1;h<i.length;h++){var m=i[h],g=i[h-1];d+=s(m[0],g[0],c),d+=s(m[1],g[1],c)}return d};function r(i){for(var l=[],c=0;c<i.length;c++){var d=i[c].slice();l.push([d[1],d[0]])}return l}e.fromGeoJSON=function(i,l){if(i&&i.type==="Feature"&&(i=i.geometry),!i||i.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return e.encode(r(i.coordinates),l)},e.toGeoJSON=function(i,l){var c=e.decode(i,l);return{type:"LineString",coordinates:r(c)}},t.exports&&(t.exports=e)})(OD);var sJ=OD.exports;const rJ=hA(sJ),DD=[{shelter_id:"AMR_001",name:"Golden Temple Community Center",lat:31.62,lon:74.8765,capacity:500,available:320,status:"operational",district:"Amritsar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43210"},{shelter_id:"AMR_002",name:"Amritsar Government School",lat:31.634,lon:74.872,capacity:300,available:180,status:"operational",district:"Amritsar",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43211"},{shelter_id:"AMR_003",name:"Jallianwala Bagh Memorial Hall",lat:31.62,lon:74.88,capacity:200,available:150,status:"operational",district:"Amritsar",amenities:["Food","Restrooms"],contact:"+91-98765-43212"},{shelter_id:"LUD_001",name:"Ludhiana Sports Complex",lat:30.901,lon:75.8573,capacity:800,available:450,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43220"},{shelter_id:"LUD_002",name:"Guru Nanak Dev Engineering College",lat:30.92,lon:75.85,capacity:400,available:280,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43221"},{shelter_id:"LUD_003",name:"Ludhiana Railway Station Shelter",lat:30.9,lon:75.86,capacity:150,available:90,status:"operational",district:"Ludhiana",amenities:["Food","Restrooms"],contact:"+91-98765-43222"},{shelter_id:"JAL_001",name:"Jalandhar City Center",lat:31.326,lon:75.5762,capacity:600,available:380,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43230"},{shelter_id:"JAL_002",name:"Punjab Agricultural University",lat:31.34,lon:75.57,capacity:500,available:320,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43231"},{shelter_id:"PAT_001",name:"Patiala Palace Grounds",lat:30.3398,lon:76.3869,capacity:700,available:420,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43240"},{shelter_id:"PAT_002",name:"Thapar Institute of Engineering",lat:30.35,lon:76.38,capacity:400,available:250,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43241"},{shelter_id:"BAT_001",name:"Bathinda Fort Community Center",lat:30.211,lon:74.9455,capacity:350,available:200,status:"operational",district:"Bathinda",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43250"},{shelter_id:"FIR_001",name:"Firozpur Cantonment Area",lat:30.9167,lon:74.6,capacity:450,available:280,status:"operational",district:"Firozpur",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43260"},{shelter_id:"GUR_001",name:"Gurdaspur Government College",lat:32.04,lon:75.4,capacity:300,available:180,status:"operational",district:"Gurdaspur",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43270"},{shelter_id:"HOS_001",name:"Hoshiarpur Sports Stadium",lat:31.53,lon:75.92,capacity:400,available:250,status:"operational",district:"Hoshiarpur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43280"},{shelter_id:"MOG_001",name:"Moga City Hall",lat:30.81,lon:75.17,capacity:250,available:150,status:"operational",district:"Moga",amenities:["Food","Restrooms"],contact:"+91-98765-43290"},{shelter_id:"SAN_001",name:"Sangrur District Hospital",lat:30.25,lon:75.84,capacity:200,available:120,status:"operational",district:"Sangrur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43300"}],iJ=[{id:"FZ_001",name:"Sutlej River Flood Zone",district:"Ludhiana",severity:"high",coordinates:[[30.85,75.8],[30.9,75.85],[30.95,75.9],[30.85,75.95],[30.8,75.9],[30.85,75.8]],affected_roads:["NH-1","State Highway 15","Local Road 23"]},{id:"FZ_002",name:"Beas River Flood Zone",district:"Amritsar",severity:"moderate",coordinates:[[31.6,74.85],[31.65,74.9],[31.7,74.85],[31.65,74.8],[31.6,74.85]],affected_roads:["NH-15","Local Road 45","Village Road 12"]},{id:"FZ_003",name:"Ravi River Flood Zone",district:"Gurdaspur",severity:"critical",coordinates:[[32,75.35],[32.05,75.4],[32.1,75.45],[32.05,75.5],[32,75.45],[32,75.35]],affected_roads:["NH-15","State Highway 20","Local Road 67"]},{id:"FZ_004",name:"Ghaggar River Flood Zone",district:"Patiala",severity:"moderate",coordinates:[[30.3,76.35],[30.35,76.4],[30.4,76.35],[30.35,76.3],[30.3,76.35]],affected_roads:["NH-64","Local Road 89","Village Road 34"]}],aJ=[{road_id:"ROAD_001",name:"NH-1 Ludhiana Section",status:"blocked",reason:"Sutlej River flooding",coordinates:[[30.85,75.8],[30.87,75.82],[30.89,75.84]]},{road_id:"ROAD_002",name:"State Highway 15 Amritsar",status:"risky",reason:"Beas River high water level",coordinates:[[31.6,74.85],[31.62,74.87],[31.64,74.89]]},{road_id:"ROAD_003",name:"Local Road 23 Ludhiana",status:"blocked",reason:"Complete submersion",coordinates:[[30.9,75.85],[30.92,75.87],[30.94,75.89]]}],cA=(t,e,n=20)=>DD.filter(s=>oJ(t,e,s.lat,s.lon)<=n&&s.status==="operational");function oJ(t,e,n,s){const i=(n-t)*Math.PI/180,l=(s-e)*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}const lJ="https://graphhopper.com/api/1/route",cJ="ecaf0074-5a6b-4e05-a880-db7db67f193f",uJ=t=>rJ.decode(t).map(([e,n])=>[e,n]);async function dJ(t,e,n=[]){try{return(await D$()({start:t,destination:e,blockedEdges:n})).data}catch(c){console.warn("Cloud Functions not available, falling back to direct GraphHopper:",c)}const s=new URL(`${lJ}/route`);s.searchParams.set("point",`${t.lat},${t.lon}`),s.searchParams.append("point",`${e.lat},${e.lon}`),s.searchParams.set("profile","car"),s.searchParams.set("locale","en"),s.searchParams.set("points_encoded","true"),s.searchParams.set("instructions","true"),n.length&&s.searchParams.set("block_area",n.join(",")),s.searchParams.set("key",cJ);const r=await fetch(s.toString());if(!r.ok)throw new Error(`Routing failed: ${r.status}`);const i=await r.json(),l=i.paths?.[0];if(!l)throw new Error("No route found");return{route:{polyline:l.points,distance_km:l.distance/1e3,duration_min:l.time/6e4,steps:(l.instructions||[]).map(c=>c.text)},warnings:i.info?.warnings||[]}}async function hJ(t){try{return(await L$()({lat:t.lat,lon:t.lon,radiusKm:20})).data}catch(s){console.warn("Cloud Functions not available, falling back to local data:",s)}const e=cA(t.lat,t.lon,20);if(e.length===0){const s=cA(t.lat,t.lon,100);if(s.length===0)throw new Error("No shelters available in the area");const r=s[0];return{shelter:{name:r.name,lat:r.lat,lon:r.lon,capacity_available:r.available,shelter_id:r.shelter_id}}}const n=e.sort((s,r)=>r.available-s.available)[0];return{shelter:{name:n.name,lat:n.lat,lon:n.lon,capacity_available:n.available,shelter_id:n.shelter_id}}}const fJ=new ID.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),mJ=new ID.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function pJ({onMapClick:t}){return JX({click:e=>{t(e.latlng.lat,e.latlng.lng)}}),null}const gJ=({start:t})=>{const[e,n]=x.useState(t||null),[s,r]=x.useState(null),[i,l]=x.useState([]),[c,d]=x.useState([]),[h,m]=x.useState(null),[g,v]=x.useState([]),[y,A]=x.useState([]),[w,j]=x.useState(!1),[S,T]=x.useState(null),[N,D]=x.useState([]);x.useEffect(()=>{D(DD);const I=aJ.map(O=>O.coordinates);l(I)},[]),x.useEffect(()=>{!e&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(I=>n({lat:I.coords.latitude,lon:I.coords.longitude}),()=>n({lat:30.7333,lon:76.7794}))},[e]);const F=(I,O)=>{r({lat:I,lon:O}),n({lat:I,lon:O})},$=async I=>{j(!0);try{const O=await hJ(I);m(O.shelter);const k=await dJ(I,{lat:O.shelter.lat,lon:O.shelter.lon});v(k.warnings||[]),A(k.route.steps||[]),d(uJ(k.route.polyline)),T({distance_km:k.route.distance_km,duration_min:k.route.duration_min})}catch(O){console.error("Failed to fetch route:",O),v(["Failed to fetch route. Using offline data."])}finally{j(!1)}};x.useEffect(()=>{e&&$(e)},[e?.lat,e?.lon]);const R=(I,O)=>{const k=`https://www.google.com/maps/dir/${I.lat},${I.lon}/${O.lat},${O.lon}`;window.open(k,"_blank")},P=I=>{window.open(`tel:${I}`,"_self")},U=x.useMemo(()=>c.length?c[Math.floor(c.length/2)]:e?[e.lat,e.lon]:[30.7333,76.7794],[c,e]);return a.jsxs("div",{className:"relative h-96 w-full",children:[a.jsxs(tJ,{center:U,zoom:13,style:{height:"100%",width:"100%"},children:[a.jsx(nJ,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),a.jsx(pJ,{onMapClick:F}),e&&a.jsx(oA,{position:[e.lat,e.lon],icon:mJ,children:a.jsx(lA,{children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-blue-600",children:"Your Location"}),a.jsxs("div",{className:"text-xs text-gray-600",children:[e.lat.toFixed(4),", ",e.lon.toFixed(4)]}),a.jsxs(ae,{size:"sm",className:"mt-2 w-full",onClick:()=>navigator.geolocation.getCurrentPosition(I=>n({lat:I.coords.latitude,lon:I.coords.longitude}),()=>{}),children:[a.jsx(Yh,{className:"w-3 h-3 mr-1"}),"Update Location"]})]})})}),N.map((I,O)=>a.jsx(oA,{position:[I.lat,I.lon],icon:fJ,children:a.jsx(lA,{children:a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("div",{className:"font-semibold text-green-600",children:I.name}),a.jsx("div",{className:"text-xs text-gray-600 mb-2",children:I.district}),a.jsxs("div",{className:"text-xs space-y-1",children:[a.jsxs("div",{children:["Capacity: ",I.available,"/",I.capacity]}),a.jsxs("div",{children:["Contact: ",I.contact]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:I.amenities.map((k,V)=>a.jsx(Me,{variant:"outline",className:"text-xs",children:k},V))})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(ae,{size:"sm",className:"flex-1",onClick:()=>{n({lat:I.lat,lon:I.lon})},children:[a.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Route Here"]}),a.jsx(ae,{size:"sm",variant:"outline",onClick:()=>R(e||{lat:30.7333,lon:76.7794},{lat:I.lat,lon:I.lon}),children:a.jsx(gx,{className:"w-3 h-3"})})]})]})})},O)),c.length>1&&a.jsx(S0,{positions:c,pathOptions:{color:"#16a34a",weight:5}}),i.map((I,O)=>a.jsx(S0,{positions:I,pathOptions:{color:"#ef4444",weight:4,dashArray:"6 8"}},`blocked-${O}`)),iJ.map((I,O)=>a.jsx(S0,{positions:I.coordinates,pathOptions:{color:I.severity==="critical"?"#dc2626":I.severity==="high"?"#ea580c":"#f59e0b",weight:3,fillColor:I.severity==="critical"?"#dc2626":I.severity==="high"?"#ea580c":"#f59e0b",fillOpacity:.2}},`flood-${O}`))]}),S&&h&&a.jsxs("div",{className:"absolute top-3 right-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Evacuation Route"}),a.jsxs("div",{className:"space-y-2 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Destination:"}),a.jsx("span",{className:"font-medium",children:h.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Distance:"}),a.jsxs("span",{className:"font-medium",children:[S.distance_km.toFixed(1)," km"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Duration:"}),a.jsxs("span",{className:"font-medium",children:[Math.round(S.duration_min)," min"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Available Space:"}),a.jsxs("span",{className:"font-medium text-green-600",children:[h.capacity_available," people"]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(ae,{size:"sm",className:"flex-1",onClick:()=>R(e||{lat:30.7333,lon:76.7794},{lat:h.lat,lon:h.lon}),children:[a.jsx(gx,{className:"w-3 h-3 mr-1"}),"Open in Google Maps"]}),a.jsx(ae,{size:"sm",variant:"outline",onClick:()=>P(h.contact||"+91-98765-43210"),children:a.jsx(ir,{className:"w-3 h-3"})})]})]}),y.length>0&&a.jsxs("div",{className:"absolute top-3 left-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg max-h-64 overflow-y-auto",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Step-by-Step Directions"}),a.jsx("ol",{className:"list-decimal pl-4 text-xs text-slate-700 space-y-1",children:y.map((I,O)=>a.jsx("li",{className:"py-1",children:I},O))})]}),a.jsxs("div",{className:"absolute bottom-3 left-3 bg-white/90 rounded-lg p-3 shadow",children:[a.jsx("div",{className:"text-xs font-semibold text-red-600 mb-2",children:"Emergency Contacts"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(ae,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("108"),children:[a.jsx(ir,{className:"w-3 h-3 mr-1"}),"Emergency: 108"]}),a.jsxs(ae,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("100"),children:[a.jsx(ir,{className:"w-3 h-3 mr-1"}),"Police: 100"]}),a.jsxs(ae,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("101"),children:[a.jsx(ir,{className:"w-3 h-3 mr-1"}),"Fire: 101"]})]})]}),g.length>0&&a.jsxs("div",{className:"absolute bottom-3 right-3 w-80 bg-white/90 rounded-lg p-3 shadow",children:[a.jsxs("div",{className:"text-xs font-semibold text-red-600 mb-2 flex items-center",children:[a.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Flood Warnings"]}),a.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-700 space-y-1",children:g.map((I,O)=>a.jsx("li",{children:I},O))})]}),a.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 rounded-lg p-3 shadow text-xs",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Map Legend"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{children:"Safe Route"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("span",{children:"Blocked Roads"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),a.jsx("span",{children:"Flood Zones"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{children:"Shelters"})]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Click anywhere on map to set location"})]}),w&&a.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[a.jsx("div",{className:"text-sm font-medium",children:"Finding safe route..."}),a.jsx("div",{className:"text-xs text-gray-600",children:"Please wait"})]})})]})},vJ=()=>{const[t,e]=x.useState([]),[n,s]=x.useState([]),[r,i]=x.useState("idle"),[l,c]=x.useState(null),[d,h]=x.useState(0),[m,g]=x.useState(0),[v,y]=x.useState(null),A=x.useRef(null),w=[{text:"Processing images locally...",duration:500,progress:20},{text:"Running local damage detection model...",duration:1500,progress:70},{text:"Generating final report...",duration:500,progress:100}],j=[{id:"RPT-20240715-001",date:"2024-07-15",severity:"Severe",images:12,priority:"High"},{id:"RPT-20240714-005",date:"2024-07-14",severity:"Moderate",images:5,priority:"Medium"},{id:"RPT-20240714-004",date:"2024-07-14",severity:"Catastrophic",images:34,priority:"Critical"},{id:"RPT-20240713-002",date:"2024-07-13",severity:"Minor",images:8,priority:"Low"}],S=I=>{const O=Array.from(I.target.files||[]);if(O.length){const k=[...t,...O];e(k);const V=O.map(J=>URL.createObjectURL(J));s([...n,...V]),i("idle"),y(null),g(0),h(0)}},T=()=>{A.current?.click()},N=async()=>{if(t.length!==0){i("analyzing"),c(null),g(0),h(0);for(const I of w)h(O=>O+1),await new Promise(O=>setTimeout(O,I.duration)),g(I.progress);D(t.length),i("complete")}},D=I=>{const O=["Minimal","Minor","Moderate","Severe","Catastrophic"],k=["Inundation","Structural Collapse","Wildfire","Landslide","Utility Damage"],V=["Gas Leak","Exposed Wiring","Contaminated Water","Unstable Structures"],J=["Deploy initial assessment team for on-site verification.","Alert residents and advise immediate evacuation of affected zones.","Coordinate with utility companies to shut off services in hazardous areas.","Mobilize heavy machinery for debris clearance on primary routes.","Request engineering corps for structural integrity assessment.","Establish a 500-meter safety perimeter around unstable structures."],ue=W=>W[Math.floor(Math.random()*W.length)],G=(W,de)=>W.sort(()=>.5-Math.random()).slice(0,de),ee=G(k,3).map(W=>({type:W,percentage:Math.random()*100,severity:ue(O)})),B=ee.reduce((W,de)=>W+de.percentage,0);ee.forEach(W=>W.percentage=W.percentage/B*100);const q=Math.floor(Math.random()*5e5)+5e4,X=Math.floor(Math.random()*2e5)+25e3,le={totalImages:I,timestamp:new Date().toISOString(),confidenceScore:Math.random()*10+90,priority:ue(["Low","Medium","High","Critical"]),overallSeverity:ue(O),detectedHazards:G(V,2),damageBreakdown:ee,estimatedCost:{repair:q,recovery:X,total:q+X},actionableSteps:G(J,3),modelInfo:{name:"DisasterNet-v5.2",version:"3.0.1",accuracy:98.2}};y(le)},F=()=>{e([]),s([]),i("idle"),y(null),g(0),h(0),c(null),A.current&&(A.current.value="")},$=I=>{const O=t.filter((V,J)=>J!==I),k=n.filter((V,J)=>J!==I);e(O),s(k)},R=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(I),P=I=>{switch(I){case"Critical":return"bg-red-600 text-white hover:bg-red-700";case"High":return"bg-orange-500 text-white hover:bg-orange-600";case"Medium":return"bg-yellow-400 text-slate-900 hover:bg-yellow-500";default:return"bg-blue-500 text-white hover:bg-blue-600"}},U=I=>{switch(I){case"Catastrophic":return"bg-red-500";case"Severe":return"bg-orange-500";case"Moderate":return"bg-yellow-500";case"Minor":return"bg-blue-500";default:return"bg-green-500"}};return a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{onClick:T,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[a.jsx(Dv,{className:"mx-auto h-12 w-12 text-slate-400"}),a.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:"Drop images here or click to browse"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Upload PNG, JPG, or HEIC files for damage assessment"}),a.jsx("input",{ref:A,type:"file",multiple:!0,className:"sr-only",onChange:S,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),n.length>0&&a.jsxs(Ft,{children:[a.jsx(Ht,{children:a.jsx($t,{children:"Uploaded Images for Assessment"})}),a.jsxs(Xt,{children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map((I,O)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:I,alt:`Preview ${O}`,className:"rounded-lg object-cover w-full h-32"}),a.jsx("button",{onClick:()=>$(O),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(_x,{className:"w-3 h-3"})})]},O))}),r==="idle"&&a.jsxs(ae,{onClick:N,type:"button",className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[a.jsx(mM,{className:"w-4 h-4 mr-2"}),"Run Analysis on ",t.length," Images"]}),a.jsx(ae,{onClick:F,variant:"outline",className:"w-full mt-2",children:"Clear All"})]})]}),n.length===0&&a.jsxs(Ft,{children:[a.jsx(Ht,{children:a.jsxs($t,{className:"flex items-center",children:[a.jsx(po,{className:"w-5 h-5 mr-3"}),"Recent Analyses"]})}),a.jsxs(Xt,{className:"text-sm text-slate-600 space-y-3",children:[j.map(I=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 cursor-pointer",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:I.id}),a.jsxs("span",{className:"text-xs text-slate-500",children:[I.date," - ",I.images," images"]})]}),a.jsx(Me,{className:P(I.priority),children:I.priority})]},I.id)),a.jsx(ae,{variant:"outline",className:"w-full mt-2",children:"View All Reports"})]})]})]}),a.jsxs(Ft,{className:"h-full sticky top-8",children:[a.jsx(Ht,{children:a.jsxs($t,{className:"flex items-center",children:[a.jsx(Ui,{className:"w-5 h-5 mr-3"})," AI Analysis Report"]})}),a.jsx(Xt,{children:r==="complete"&&v?a.jsxs("div",{className:"space-y-6 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:"Priority Assessment"}),a.jsx(Me,{className:P(v.priority),children:v.priority})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-slate-600",children:"Confidence Score"}),a.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[v.confidenceScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-slate-600",children:"Overall Severity"}),a.jsx("p",{className:"font-bold text-lg text-slate-800",children:v.overallSeverity})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[a.jsx(fM,{className:"w-4 h-4 mr-2 text-red-600"})," Detected Hazards"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.detectedHazards.map((I,O)=>a.jsx(Me,{variant:"destructive",children:I},O))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[a.jsx(XZ,{className:"w-4 h-4 mr-2"})," Damage Breakdown"]}),a.jsx("div",{className:"space-y-3",children:v.damageBreakdown.map((I,O)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:I.type}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full text-white ${U(I.severity)}`,children:I.severity})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden",children:a.jsx("div",{className:`${U(I.severity)} h-full rounded-full`,style:{width:`${I.percentage.toFixed(2)}%`}})}),a.jsxs("span",{className:"w-16 text-right font-semibold text-slate-700",children:[I.percentage.toFixed(1),"%"]})]})]},O))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[a.jsx(tY,{className:"w-4 h-4 mr-2"})," Detailed Cost Analysis"]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-600",children:"Estimated Repair Cost:"}),a.jsx("span",{className:"font-medium text-slate-800",children:R(v.estimatedCost.repair)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-600",children:"Resource & Recovery Cost:"}),a.jsx("span",{className:"font-medium text-slate-800",children:R(v.estimatedCost.recovery)})]}),a.jsx(c1,{}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-slate-800",children:"Total Estimated Cost:"}),a.jsx("span",{className:"font-bold text-lg text-blue-800",children:R(v.estimatedCost.total)})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-blue-800",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"})," Recommended Actions"]}),a.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-blue-700",children:v.actionableSteps.map((I,O)=>a.jsx("li",{children:I},O))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[a.jsx(eY,{className:"w-4 h-4 mr-2"})," Analysis Model Details"]}),a.jsxs("div",{className:"text-xs text-slate-500 bg-slate-50 p-3 rounded-lg",children:[a.jsxs("p",{children:["Model: ",v.modelInfo.name," (v",v.modelInfo.version,")"]}),a.jsxs("p",{children:["Accuracy: ",v.modelInfo.accuracy,"% | Processed ",v.totalImages," images in this batch."]}),a.jsxs("p",{children:["Timestamp: ",new Date(v.timestamp).toLocaleString()]})]})]})]}):r==="analyzing"?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[a.jsx(Os,{className:"w-8 h-8 mb-2 animate-spin"}),a.jsxs("p",{children:[m,"% - ",d>0&&w[d-1]?.text]})]}):r==="error"?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[a.jsx(Nt,{className:"w-8 h-8 mb-2"}),a.jsx("p",{children:"An error occurred during analysis."}),a.jsx("p",{className:"text-xs mt-2 text-red-400",children:l})]}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[a.jsx(Us,{className:"w-10 h-10 mb-4 text-slate-400"}),a.jsx("p",{className:"font-semibold",children:"AI-Powered Insights Await"}),a.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})})},yJ=()=>{const[t,e]=x.useState("primary"),n=[{id:"primary",name:"Primary Route A",status:"clear",distance:"2.3 km",time:"8 min",capacity:850,current:245},{id:"secondary",name:"Secondary Route B",status:"congested",distance:"3.1 km",time:"15 min",capacity:600,current:520},{id:"emergency",name:"Emergency Route C",status:"blocked",distance:"4.2 km",time:"N/A",capacity:400,current:0}],s=[{name:"Community Center",location:"Downtown",capacity:500,occupied:245,amenities:["Food","Medical","WiFi"],status:"available",contact:"+91-98765-43210",lat:30.7333,lon:76.7794},{name:"High School Gymnasium",location:"North District",capacity:300,occupied:180,amenities:["Food","Restrooms"],status:"available",contact:"+91-98765-43211",lat:30.75,lon:76.8},{name:"Sports Complex",location:"East Side",capacity:800,occupied:650,amenities:["Food","Medical","WiFi","Parking"],status:"near_capacity",contact:"+91-98765-43212",lat:30.72,lon:76.75},{name:"Church Hall",location:"West End",capacity:200,occupied:195,amenities:["Food","Restrooms"],status:"full",contact:"+91-98765-43213",lat:30.76,lon:76.72}],r=[{name:"Water Bottles",current:1e4,capacity:5e4,icon:i1,color:"blue"},{name:"MREs (Meals, Ready-to-Eat)",current:5e3,capacity:2e4,icon:eA,color:"orange"},{name:"First-Aid Kits",current:2e3,capacity:5e3,icon:vx,color:"red"},{name:"Blankets",current:8e3,capacity:15e3,icon:QN,color:"green"}],i=[{id:"Alpha-1",destination:"Community Center",eta:"15 min",status:"In Transit",contents:"500 water, 200 MREs"},{id:"Bravo-2",destination:"High School Gymnasium",eta:"25 min",status:"Loading",contents:"300 first-aid, 1000 blankets"},{id:"Charlie-3",destination:"Sports Complex",eta:"5 min",status:"Delivered",contents:"1000 water, 500 MREs"}],l=h=>{switch(h){case"clear":return{color:"text-green-600 bg-green-100",icon:or};case"congested":return{color:"text-yellow-600 bg-yellow-100",icon:po};case"blocked":return{color:"text-red-600 bg-red-100",icon:Nt};default:return{color:"text-blue-600 bg-blue-100",icon:Ln}}},c=h=>{switch(h){case"available":return{color:"text-green-600 bg-green-100",text:"Available"};case"near_capacity":return{color:"text-yellow-600 bg-yellow-100",text:"Near Full"};case"full":return{color:"text-red-600 bg-red-100",text:"Full"};default:return{color:"text-blue-600 bg-blue-100",text:"Unknown"}}},d=h=>{switch(h){case"In Transit":return{color:"text-blue-600 bg-blue-100",icon:w0};case"Loading":return{color:"text-yellow-600 bg-yellow-100",icon:po};case"Delivered":return{color:"text-green-600 bg-green-100",icon:or};default:return{color:"text-slate-600 bg-slate-100",icon:QN}}};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Planning & Resource Allocation"}),a.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Strategic evacuation planning with real-time resource tracking and emergency coordination"})]}),a.jsxs(Bv,{defaultValue:"evacuation",className:"space-y-6",children:[a.jsxs(Lf,{className:"grid w-full grid-cols-4 bg-gradient-to-r from-blue-50 to-teal-50",children:[a.jsxs(Cs,{value:"evacuation",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[a.jsx(XN,{className:"w-4 h-4 mr-2"}),"Evacuation Planning"]}),a.jsxs(Cs,{value:"shelters",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[a.jsx(pp,{className:"w-4 h-4 mr-2"}),"Shelter Management"]}),a.jsxs(Cs,{value:"resources",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[a.jsx(w0,{className:"w-4 h-4 mr-2"}),"Resource Distribution"]}),a.jsxs(Cs,{value:"damage",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[a.jsx(Dv,{className:"w-4 h-4 mr-2"}),"Damage Assessment"]})]}),a.jsx(ds,{value:"evacuation",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Interactive Evacuation Map"}),a.jsxs(Me,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[a.jsx(Yh,{className:"w-3 h-3 mr-1"}),"Live Traffic"]})]}),a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-xl h-96 overflow-hidden",children:[a.jsx(gJ,{}),a.jsx(JM,{text:"Flood-Aware Routing"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Clear Route"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Congested"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Blocked"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pp,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Shelter"})]})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Evacuation Routes"}),a.jsx("div",{className:"space-y-3",children:n.map(h=>{const m=l(h.status),g=m.icon;return a.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${t===h.id?"border-blue-400 bg-gradient-to-r from-blue-50 to-teal-50":"border-slate-200 hover:border-slate-300"}`,onClick:()=>e(h.id),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-900",children:h.name}),a.jsxs(Me,{variant:"secondary",className:m.color,children:[a.jsx(g,{className:"w-3 h-3 mr-1"}),h.status]})]}),a.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Distance: ",h.distance]}),a.jsxs("span",{children:["ETA: ",h.time]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Capacity: ",h.capacity]}),a.jsxs("span",{children:["Current: ",h.current]})]}),a.jsx(Xi,{value:h.current/h.capacity*100,className:"h-1 mt-2"})]})]},h.id)})})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ae,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white",onClick:()=>window.open("tel:108","_self"),children:[a.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Activate Emergency Protocol"]}),a.jsxs(ae,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:()=>window.location.reload(),children:[a.jsx(XN,{className:"w-4 h-4 mr-2"}),"Update Route Status"]}),a.jsxs(ae,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>window.open("tel:+91-98765-43210","_self"),children:[a.jsx(ir,{className:"w-4 h-4 mr-2"}),"Contact Traffic Control"]})]})]})]})]})}),a.jsx(ds,{value:"shelters",className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((h,m)=>{const g=c(h.status),v=h.occupied/h.capacity*100;return a.jsxs(ze,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:h.name}),a.jsx(Me,{variant:"secondary",className:g.color,children:g.text})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[a.jsx(Ln,{className:"w-4 h-4"}),a.jsx("span",{children:h.location})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Occupancy"}),a.jsxs("span",{className:"font-medium text-slate-900",children:[h.occupied,"/",h.capacity]})]}),a.jsx(Xi,{value:v,className:"h-2"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.amenities.map((y,A)=>a.jsxs(Me,{variant:"outline",className:"text-xs",children:[y==="Food"&&a.jsx(eA,{className:"w-3 h-3 mr-1"}),y==="Medical"&&a.jsx(vx,{className:"w-3 h-3 mr-1"}),y==="WiFi"&&a.jsx(pM,{className:"w-3 h-3 mr-1"}),y]},A))}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>window.open(`tel:${h.contact||"+91-98765-43210"}`,"_self"),children:[a.jsx(Wn,{className:"w-3 h-3 mr-1"}),"Contact"]}),a.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{window.open(`https://www.google.com/maps?q=${h.lat},${h.lon}`,"_blank")},children:[a.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Directions"]})]})]})]},m)})})}),a.jsxs(ds,{value:"resources",className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resource Inventory"}),a.jsx("div",{className:"space-y-4",children:r.map(h=>{const m=h.icon,g=h.current/h.capacity*100;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(m,{className:`w-4 h-4 mr-2 text-${h.color}-500`}),a.jsx("span",{className:"text-sm font-medium text-slate-800",children:h.name})]}),a.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[h.current.toLocaleString()," / ",h.capacity.toLocaleString()]})]}),a.jsx(Xi,{value:g,className:"h-2"})]},h.name)})})]}),a.jsxs(ze,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Active Delivery Missions"}),a.jsx("div",{className:"space-y-3",children:i.map(h=>{const m=d(h.status),g=m.icon;return a.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["Mission: ",h.id]}),a.jsxs(Me,{variant:"secondary",className:m.color,children:[a.jsx(g,{className:"w-3 h-3 mr-1"}),h.status]})]}),a.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"To:"})," ",h.destination]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"ETA:"})," ",h.eta]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Contents:"})," ",h.contents]})]})]},h.id)})})]})]}),a.jsx(ds,{value:"damage",children:a.jsx(vJ,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Wn,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"People Evacuated"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"2,847"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Successfully relocated"})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(pp,{className:"w-6 h-6 text-green-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Shelters"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"18"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Operational facilities"})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(w0,{className:"w-6 h-6 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Supply Deliveries"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"156"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Completed today"})]}),a.jsxs(ze,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(vn,{className:"w-6 h-6 text-purple-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"12min"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average deployment"})]})]})]})},_J=()=>{const{userProfile:t,updateUserProfile:e,currentUser:n}=Fu();return console.log("Profile page rendering..."),console.log("Current user:",n),console.log("User profile:",t),n?a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-teal-100 rounded-full flex items-center justify-center mx-auto",children:a.jsx(bu,{className:"w-12 h-12 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Profile Settings"}),a.jsx("p",{className:"text-lg text-slate-600",children:"Manage your account and preferences"})]})]}),a.jsxs(Ft,{className:"max-w-2xl mx-auto",children:[a.jsxs(Ht,{children:[a.jsx($t,{children:"Basic Profile Information"}),a.jsx(ls,{children:"Your account details"})]}),a.jsx(Xt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Rt,{children:"Display Name"}),a.jsx("p",{className:"text-lg font-medium",children:t?.displayName||"Not set"})]}),a.jsxs("div",{children:[a.jsx(Rt,{children:"Email"}),a.jsx("p",{className:"text-lg font-medium",children:t?.email||"Not set"})]}),a.jsxs("div",{children:[a.jsx(Rt,{children:"Role"}),a.jsx(Me,{variant:"secondary",children:t?.role?.replace("_"," ").toUpperCase()||"USER"})]}),a.jsxs("div",{children:[a.jsx(Rt,{children:"Member Since"}),a.jsx("p",{className:"text-sm text-gray-600",children:t?.joinedAt?new Date(t.joinedAt).toLocaleDateString():"Unknown"})]})]})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(bu,{className:"w-16 h-16 text-gray-400 mx-auto"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Please log in to view your profile"})]})})};function xJ(){return a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:a.jsxs("div",{className:"space-y-6 max-w-md",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),a.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx(ae,{asChild:!0,children:a.jsx("a",{href:"/",children:"Return Home"})}),a.jsx(ae,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const bJ=new B9,wJ=()=>a.jsx(H9,{client:bJ,children:a.jsx(cW,{children:a.jsx(uW,{children:a.jsxs(m9,{children:[a.jsx(N3,{}),a.jsx(g4,{children:a.jsxs(v4,{children:[a.jsx(Yt,{path:"/",element:a.jsx(EY,{})}),a.jsx(Yt,{path:"/auth",element:a.jsx(RY,{})}),a.jsx(Yt,{path:"/admin/signup",element:a.jsx(tA,{})}),a.jsx(Yt,{path:"/admin/signin",element:a.jsx(tA,{})}),a.jsx(Yt,{path:"/supabase-auth",element:a.jsx(vp,{to:"/admin/signin",replace:!0})}),a.jsx(Yt,{path:"/admin",element:a.jsx(kN,{children:a.jsx(SY,{children:a.jsx(nQ,{})})})}),a.jsx(Yt,{path:"/admin-test",element:a.jsx(sQ,{})}),a.jsx(Yt,{path:"/admin-debug",element:a.jsx(oQ,{})}),a.jsx(Yt,{path:"/admin-simple",element:a.jsx(lQ,{})}),a.jsx(Yt,{path:"/admin-basic",element:a.jsx(cQ,{})}),a.jsx(Yt,{path:"/admin-minimal-test",element:a.jsx(kN,{children:a.jsx(uQ,{})})}),a.jsx(Yt,{path:"/dashboard",element:a.jsx(Bo,{children:a.jsx(zo,{children:a.jsx(gQ,{})})})}),a.jsx(Yt,{path:"/predictions",element:a.jsx(Bo,{children:a.jsx(zo,{children:a.jsx(LQ,{})})})}),a.jsx(Yt,{path:"/alerts",element:a.jsx(Bo,{children:a.jsx(zo,{children:a.jsx(HQ,{})})})}),a.jsx(Yt,{path:"/reports",element:a.jsx(Bo,{children:a.jsx(zo,{children:a.jsx(LX,{})})})}),a.jsx(Yt,{path:"/assessment",element:a.jsx(Bo,{children:a.jsx(zo,{children:a.jsx(VX,{})})})}),a.jsx(Yt,{path:"/planning",element:a.jsx(Bo,{children:a.jsx(zo,{children:a.jsx(yJ,{})})})}),a.jsx(Yt,{path:"/profile",element:a.jsx(Bo,{children:a.jsx(zo,{children:a.jsx(_J,{})})})}),a.jsx(Yt,{path:"/index",element:a.jsx(vp,{to:"/dashboard",replace:!0})}),a.jsx(Yt,{path:"*",element:a.jsx(xJ,{})})]})})]})})})});K6.createRoot(document.getElementById("root")).render(a.jsx(wJ,{}));
