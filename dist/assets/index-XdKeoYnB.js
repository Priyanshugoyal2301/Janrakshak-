import{r as b,a as au,R as oe,b as RA,c as jA,u as PA,d as og,L as _D,N as IA,e as xD,g as bD,f as ys,h as kA,B as wD,i as SD,j as Js}from"./react-vendor-DHBE63Vh.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var MA={exports:{}},lg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED=Symbol.for("react.transitional.element"),TD=Symbol.for("react.fragment");function OA(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:ED,type:t,key:s,ref:e!==void 0?e:null,props:n}}lg.Fragment=TD;lg.jsx=OA;lg.jsxs=OA;MA.exports=lg;var l=MA.exports,DA={exports:{}},cg={},LA={exports:{}},VA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ee){var B=K.length;K.push(ee);e:for(;0<B;){var $=B-1>>>1,X=K[$];if(0<i(X,ee))K[$]=ee,K[B]=X,B=$;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ee=K[0],B=K.pop();if(B!==ee){K[0]=B;e:for(var $=0,X=K.length,le=X>>>1;$<le;){var q=2*($+1)-1,ce=K[q],ae=q+1,de=K[ae];if(0>i(ce,B))ae<X&&0>i(de,ce)?(K[$]=de,K[ae]=B,$=ae):(K[$]=ce,K[q]=B,$=q);else if(ae<X&&0>i(de,B))K[$]=de,K[ae]=B,$=ae;else break e}}return ee}function i(K,ee){var B=K.sortIndex-ee.sortIndex;return B!==0?B:K.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],p=1,g=null,v=3,y=!1,C=!1,S=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function O(K){for(var ee=n(h);ee!==null;){if(ee.callback===null)s(h);else if(ee.startTime<=K)s(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(h)}}function H(K){if(S=!1,O(K),!C)if(n(d)!==null)C=!0,G||(G=!0,D());else{var ee=n(h);ee!==null&&fe(H,ee.startTime-K)}}var G=!1,j=-1,P=5,U=-1;function k(){return R?!0:!(t.unstable_now()-U<P)}function M(){if(R=!1,G){var K=t.unstable_now();U=K;var ee=!0;try{e:{C=!1,S&&(S=!1,T(j),j=-1),y=!0;var B=v;try{t:{for(O(K),g=n(d);g!==null&&!(g.expirationTime>K&&k());){var $=g.callback;if(typeof $=="function"){g.callback=null,v=g.priorityLevel;var X=$(g.expirationTime<=K);if(K=t.unstable_now(),typeof X=="function"){g.callback=X,O(K),ee=!0;break t}g===n(d)&&s(d),O(K)}else s(d);g=n(d)}if(g!==null)ee=!0;else{var le=n(h);le!==null&&fe(H,le.startTime-K),ee=!1}}break e}finally{g=null,v=B,y=!1}ee=void 0}}finally{ee?D():G=!1}}}var D;if(typeof N=="function")D=function(){N(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=M,D=function(){ne.postMessage(null)}}else D=function(){E(M,0)};function fe(K,ee){j=E(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var B=v;v=ee;try{return K()}finally{v=B}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var B=v;v=K;try{return ee()}finally{v=B}},t.unstable_scheduleCallback=function(K,ee,B){var $=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,K={id:p++,callback:ee,priorityLevel:K,startTime:B,expirationTime:X,sortIndex:-1},B>$?(K.sortIndex=B,e(h,K),n(d)===null&&K===n(h)&&(S?(T(j),j=-1):S=!0,fe(H,B-$))):(K.sortIndex=X,e(d,K),C||y||(C=!0,G||(G=!0,D()))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var ee=v;return function(){var B=v;v=ee;try{return K.apply(this,arguments)}finally{v=B}}}})(VA);LA.exports=VA;var AD=LA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var en=AD,UA=b,ND=au;function te(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u1(t){if(Rh(t)!==t)throw Error(te(188))}function CD(t){var e=t.alternate;if(!e){if(e=Rh(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return u1(i),t;if(r===s)return u1(i),e;r=r.sibling}throw Error(te(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,s=r;break}if(c===s){o=!0,s=i,n=r;break}c=c.sibling}if(!o){for(c=r.child;c;){if(c===n){o=!0,n=r,s=i;break}if(c===s){o=!0,s=r,n=i;break}c=c.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==s)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function FA(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=FA(t),e!==null)return e;t=t.sibling}return null}var St=Object.assign,RD=Symbol.for("react.element"),Lf=Symbol.for("react.transitional.element"),cd=Symbol.for("react.portal"),lc=Symbol.for("react.fragment"),HA=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),jD=Symbol.for("react.provider"),$A=Symbol.for("react.consumer"),Sr=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),Zy=Symbol.for("react.suspense"),Yy=Symbol.for("react.suspense_list"),ax=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),Qy=Symbol.for("react.activity"),PD=Symbol.for("react.memo_cache_sentinel"),d1=Symbol.iterator;function Xu(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var ID=Symbol.for("react.client.reference");function Xy(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ID?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lc:return"Fragment";case Wy:return"Profiler";case HA:return"StrictMode";case Zy:return"Suspense";case Yy:return"SuspenseList";case Qy:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case cd:return"Portal";case Sr:return(t.displayName||"Context")+".Provider";case $A:return(t._context.displayName||"Context")+".Consumer";case rx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ax:return e=t.displayName||null,e!==null?e:Xy(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return Xy(t(e))}catch{}}return null}var ud=Array.isArray,Ce=UA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=ND.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zo={pending:!1,data:null,method:null,action:null},Jy=[],cc=-1;function Ki(t){return{current:t}}function un(t){0>cc||(t.current=Jy[cc],Jy[cc]=null,cc--)}function Tt(t,e){cc++,Jy[cc]=t.current,t.current=e}var ki=Ki(null),Wd=Ki(null),ja=Ki(null),Wm=Ki(null);function Zm(t,e){switch(Tt(ja,e),Tt(Wd,t),Tt(ki,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?gS(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=gS(e),t=o2(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}un(ki),Tt(ki,t)}function Dc(){un(ki),un(Wd),un(ja)}function e0(t){t.memoizedState!==null&&Tt(Wm,t);var e=ki.current,n=o2(e,t.type);e!==n&&(Tt(Wd,t),Tt(ki,n))}function Ym(t){Wd.current===t&&(un(ki),un(Wd)),Wm.current===t&&(un(Wm),ih._currentValue=zo)}var t0=Object.prototype.hasOwnProperty,ox=en.unstable_scheduleCallback,Iv=en.unstable_cancelCallback,kD=en.unstable_shouldYield,MD=en.unstable_requestPaint,Mi=en.unstable_now,OD=en.unstable_getCurrentPriorityLevel,qA=en.unstable_ImmediatePriority,GA=en.unstable_UserBlockingPriority,Qm=en.unstable_NormalPriority,DD=en.unstable_LowPriority,KA=en.unstable_IdlePriority,LD=en.log,VD=en.unstable_setDisableYieldValue,jh=null,fs=null;function Ta(t){if(typeof LD=="function"&&VD(t),fs&&typeof fs.setStrictMode=="function")try{fs.setStrictMode(jh,t)}catch{}}var ms=Math.clz32?Math.clz32:BD,UD=Math.log,zD=Math.LN2;function BD(t){return t>>>=0,t===0?32:31-(UD(t)/zD|0)|0}var Vf=256,Uf=4194304;function jo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ug(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var c=s&134217727;return c!==0?(s=c&~r,s!==0?i=jo(s):(o&=c,o!==0?i=jo(o):n||(n=c&~t,n!==0&&(i=jo(n))))):(c=s&~r,c!==0?i=jo(c):o!==0?i=jo(o):n||(n=s&~t,n!==0&&(i=jo(n)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:i}function Ph(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function FD(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WA(){var t=Vf;return Vf<<=1,!(Vf&4194048)&&(Vf=256),t}function ZA(){var t=Uf;return Uf<<=1,!(Uf&62914560)&&(Uf=4194304),t}function kv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ih(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function HD(t,e,n,s,i,r){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var c=t.entanglements,d=t.expirationTimes,h=t.hiddenUpdates;for(n=o&~n;0<n;){var p=31-ms(n),g=1<<p;c[p]=0,d[p]=-1;var v=h[p];if(v!==null)for(h[p]=null,p=0;p<v.length;p++){var y=v[p];y!==null&&(y.lane&=-536870913)}n&=~g}s!==0&&YA(t,s,0),r!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=r&~(o&~e))}function YA(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-ms(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194090}function QA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-ms(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}function lx(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cx(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function XA(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:v2(t.type))}function $D(t,e){var n=at.p;try{return at.p=t,e()}finally{at.p=n}}var so=Math.random().toString(36).slice(2),An="__reactFiber$"+so,Xn="__reactProps$"+so,ou="__reactContainer$"+so,n0="__reactEvents$"+so,qD="__reactListeners$"+so,GD="__reactHandles$"+so,h1="__reactResources$"+so,kh="__reactMarker$"+so;function ux(t){delete t[An],delete t[Xn],delete t[n0],delete t[qD],delete t[GD]}function uc(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ou]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_S(t);t!==null;){if(n=t[An])return n;t=_S(t)}return e}t=n,n=t.parentNode}return null}function lu(t){if(t=t[An]||t[ou]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function dd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(te(33))}function xc(t){var e=t[h1];return e||(e=t[h1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function an(t){t[kh]=!0}var JA=new Set,eN={};function cl(t,e){Lc(t,e),Lc(t+"Capture",e)}function Lc(t,e){for(eN[t]=e,t=0;t<e.length;t++)JA.add(e[t])}var KD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),f1={},m1={};function WD(t){return t0.call(m1,t)?!0:t0.call(f1,t)?!1:KD.test(t)?m1[t]=!0:(f1[t]=!0,!1)}function gm(t,e,n){if(WD(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function zf(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function mr(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}var Mv,p1;function Jl(t){if(Mv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mv=e&&e[1]||"",p1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mv+t+p1}var Ov=!1;function Dv(t,e){if(!t||Ov)return"";Ov=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(y){var v=y}Reflect.construct(t,[],g)}else{try{g.call()}catch(y){v=y}t.call(g.prototype)}}else{try{throw Error()}catch(y){v=y}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(y){if(y&&v&&typeof y.stack=="string")return[y.stack,v.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),o=r[0],c=r[1];if(o&&c){var d=o.split(`
`),h=c.split(`
`);for(i=s=0;s<d.length&&!d[s].includes("DetermineComponentFrameRoot");)s++;for(;i<h.length&&!h[i].includes("DetermineComponentFrameRoot");)i++;if(s===d.length||i===h.length)for(s=d.length-1,i=h.length-1;1<=s&&0<=i&&d[s]!==h[i];)i--;for(;1<=s&&0<=i;s--,i--)if(d[s]!==h[i]){if(s!==1||i!==1)do if(s--,i--,0>i||d[s]!==h[i]){var p=`
`+d[s].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=s&&0<=i);break}}}finally{Ov=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Jl(n):""}function ZD(t){switch(t.tag){case 26:case 27:case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 15:return Dv(t.type,!1);case 11:return Dv(t.type.render,!1);case 1:return Dv(t.type,!0);case 31:return Jl("Activity");default:return""}}function g1(t){try{var e="";do e+=ZD(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Is(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YD(t){var e=tN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xm(t){t._valueTracker||(t._valueTracker=YD(t))}function nN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=tN(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Jm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var QD=/[\n"\\]/g;function Os(t){return t.replace(QD,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function s0(t,e,n,s,i,r,o,c){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Is(e)):t.value!==""+Is(e)&&(t.value=""+Is(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?i0(t,o,Is(e)):n!=null?i0(t,o,Is(n)):s!=null&&t.removeAttribute("value"),i==null&&r!=null&&(t.defaultChecked=!!r),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+Is(c):t.removeAttribute("name")}function sN(t,e,n,s,i,r,o,c){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null))return;n=n!=null?""+Is(n):"",e=e!=null?""+Is(e):n,c||e===t.value||(t.value=e),t.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=c?t.checked:!!s,t.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function i0(t,e,n){e==="number"&&Jm(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function bc(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function iN(t,e,n){if(e!=null&&(e=""+Is(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Is(n):""}function rN(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(te(92));if(ud(s)){if(1<s.length)throw Error(te(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Is(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function Vc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var XD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function v1(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||XD.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function aN(t,e,n){if(e!=null&&typeof e!="object")throw Error(te(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&n[i]!==s&&v1(t,i,s)}else for(var r in e)e.hasOwnProperty(r)&&v1(t,r,e[r])}function dx(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vm(t){return eL.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var r0=null;function hx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dc=null,wc=null;function y1(t){var e=lu(t);if(e&&(t=e.stateNode)){var n=t[Xn]||null;e:switch(t=e.stateNode,e.type){case"input":if(s0(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Os(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=s[Xn]||null;if(!i)throw Error(te(90));s0(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&nN(s)}break e;case"textarea":iN(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&bc(t,!!n.multiple,e,!1)}}}var Lv=!1;function oN(t,e,n){if(Lv)return t(e,n);Lv=!0;try{var s=t(e);return s}finally{if(Lv=!1,(dc!==null||wc!==null)&&(xg(),dc&&(e=dc,t=wc,wc=dc=null,y1(e),t)))for(e=0;e<t.length;e++)y1(t[e])}}function Zd(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Xn]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a0=!1;if(Ur)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){a0=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{a0=!1}var Aa=null,fx=null,ym=null;function lN(){if(ym)return ym;var t,e=fx,n=e.length,s,i="value"in Aa?Aa.value:Aa.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return ym=i.slice(t,1<s?1-s:void 0)}function _m(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bf(){return!0}function _1(){return!1}function Jn(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Bf:_1,this.isPropagationStopped=_1,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),e}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=Jn(ul),Mh=St({},ul,{view:0,detail:0}),tL=Jn(Mh),Vv,Uv,ed,hg=St({},Mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ed&&(ed&&t.type==="mousemove"?(Vv=t.screenX-ed.screenX,Uv=t.screenY-ed.screenY):Uv=Vv=0,ed=t),Vv)},movementY:function(t){return"movementY"in t?t.movementY:Uv}}),x1=Jn(hg),nL=St({},hg,{dataTransfer:0}),sL=Jn(nL),iL=St({},Mh,{relatedTarget:0}),zv=Jn(iL),rL=St({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),aL=Jn(rL),oL=St({},ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lL=Jn(oL),cL=St({},ul,{data:0}),b1=Jn(cL),uL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hL[t])?!!e[t]:!1}function mx(){return fL}var mL=St({},Mh,{key:function(t){if(t.key){var e=uL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_m(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(t){return t.type==="keypress"?_m(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_m(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pL=Jn(mL),gL=St({},hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=Jn(gL),vL=St({},Mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),yL=Jn(vL),_L=St({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),xL=Jn(_L),bL=St({},hg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wL=Jn(bL),SL=St({},ul,{newState:0,oldState:0}),EL=Jn(SL),TL=[9,13,27,32],px=Ur&&"CompositionEvent"in window,Ed=null;Ur&&"documentMode"in document&&(Ed=document.documentMode);var AL=Ur&&"TextEvent"in window&&!Ed,cN=Ur&&(!px||Ed&&8<Ed&&11>=Ed),S1=" ",E1=!1;function uN(t,e){switch(t){case"keyup":return TL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hc=!1;function NL(t,e){switch(t){case"compositionend":return dN(e);case"keypress":return e.which!==32?null:(E1=!0,S1);case"textInput":return t=e.data,t===S1&&E1?null:t;default:return null}}function CL(t,e){if(hc)return t==="compositionend"||!px&&uN(t,e)?(t=lN(),ym=fx=Aa=null,hc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cN&&e.locale!=="ko"?null:e.data;default:return null}}var RL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RL[t.type]:e==="textarea"}function hN(t,e,n,s){dc?wc?wc.push(s):wc=[s]:dc=s,e=vp(e,"onChange"),0<e.length&&(n=new dg("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Td=null,Yd=null;function jL(t){i2(t,0)}function fg(t){var e=dd(t);if(nN(e))return t}function A1(t,e){if(t==="change")return e}var fN=!1;if(Ur){var Bv;if(Ur){var Fv="oninput"in document;if(!Fv){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),Fv=typeof N1.oninput=="function"}Bv=Fv}else Bv=!1;fN=Bv&&(!document.documentMode||9<document.documentMode)}function C1(){Td&&(Td.detachEvent("onpropertychange",mN),Yd=Td=null)}function mN(t){if(t.propertyName==="value"&&fg(Yd)){var e=[];hN(e,Yd,t,hx(t)),oN(jL,e)}}function PL(t,e,n){t==="focusin"?(C1(),Td=e,Yd=n,Td.attachEvent("onpropertychange",mN)):t==="focusout"&&C1()}function IL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fg(Yd)}function kL(t,e){if(t==="click")return fg(e)}function ML(t,e){if(t==="input"||t==="change")return fg(e)}function OL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _s=typeof Object.is=="function"?Object.is:OL;function Qd(t,e){if(_s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!t0.call(e,i)||!_s(t[i],e[i]))return!1}return!0}function R1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j1(t,e){var n=R1(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R1(n)}}function pN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gN(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Jm(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jm(t.document)}return e}function gx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var DL=Ur&&"documentMode"in document&&11>=document.documentMode,fc=null,o0=null,Ad=null,l0=!1;function P1(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l0||fc==null||fc!==Jm(s)||(s=fc,"selectionStart"in s&&gx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ad&&Qd(Ad,s)||(Ad=s,s=vp(o0,"onSelect"),0<s.length&&(e=new dg("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=fc)))}function Eo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mc={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionrun:Eo("Transition","TransitionRun"),transitionstart:Eo("Transition","TransitionStart"),transitioncancel:Eo("Transition","TransitionCancel"),transitionend:Eo("Transition","TransitionEnd")},Hv={},vN={};Ur&&(vN=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function dl(t){if(Hv[t])return Hv[t];if(!mc[t])return t;var e=mc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vN)return Hv[t]=e[n];return t}var yN=dl("animationend"),_N=dl("animationiteration"),xN=dl("animationstart"),LL=dl("transitionrun"),VL=dl("transitionstart"),UL=dl("transitioncancel"),bN=dl("transitionend"),wN=new Map,c0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");c0.push("scrollEnd");function mi(t,e){wN.set(t,e),cl(e,[t])}var I1=new WeakMap;function Ds(t,e){if(typeof t=="object"&&t!==null){var n=I1.get(t);return n!==void 0?n:(e={value:t,source:e,stack:g1(e)},I1.set(t,e),e)}return{value:t,source:e,stack:g1(e)}}var Ps=[],pc=0,vx=0;function mg(){for(var t=pc,e=vx=pc=0;e<t;){var n=Ps[e];Ps[e++]=null;var s=Ps[e];Ps[e++]=null;var i=Ps[e];Ps[e++]=null;var r=Ps[e];if(Ps[e++]=null,s!==null&&i!==null){var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}r!==0&&SN(n,i,r)}}function pg(t,e,n,s){Ps[pc++]=t,Ps[pc++]=e,Ps[pc++]=n,Ps[pc++]=s,vx|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function yx(t,e,n,s){return pg(t,e,n,s),ep(t)}function cu(t,e){return pg(t,null,null,e),ep(t)}function SN(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var i=!1,r=t.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(i=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,i&&e!==null&&(i=31-ms(n),t=r.hiddenUpdates,s=t[i],s===null?t[i]=[e]:s.push(e),e.lane=n|536870912),r):null}function ep(t){if(50<Dd)throw Dd=0,j0=null,Error(te(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var gc={};function zL(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(t,e,n,s){return new zL(t,e,n,s)}function _x(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jr(t,e){var n=t.alternate;return n===null?(n=ds(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function EN(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function xm(t,e,n,s,i,r){var o=0;if(s=t,typeof t=="function")_x(t)&&(o=1);else if(typeof t=="string")o=F4(t,n,ki.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Qy:return t=ds(31,n,e,i),t.elementType=Qy,t.lanes=r,t;case lc:return Bo(n.children,i,r,e);case HA:o=8,i|=24;break;case Wy:return t=ds(12,n,e,i|2),t.elementType=Wy,t.lanes=r,t;case Zy:return t=ds(13,n,e,i),t.elementType=Zy,t.lanes=r,t;case Yy:return t=ds(19,n,e,i),t.elementType=Yy,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jD:case Sr:o=10;break e;case $A:o=9;break e;case rx:o=11;break e;case ax:o=14;break e;case pa:o=16,s=null;break e}o=29,n=Error(te(130,t===null?"null":typeof t,"")),s=null}return e=ds(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Bo(t,e,n,s){return t=ds(7,t,s,e),t.lanes=n,t}function $v(t,e,n){return t=ds(6,t,null,e),t.lanes=n,t}function qv(t,e,n){return e=ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var vc=[],yc=0,tp=null,np=0,ks=[],Ms=0,Fo=null,Er=1,Tr="";function Po(t,e){vc[yc++]=np,vc[yc++]=tp,tp=t,np=e}function TN(t,e,n){ks[Ms++]=Er,ks[Ms++]=Tr,ks[Ms++]=Fo,Fo=t;var s=Er;t=Tr;var i=32-ms(s)-1;s&=~(1<<i),n+=1;var r=32-ms(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Er=1<<32-ms(e)+i|n<<i|s,Tr=r+t}else Er=1<<r|n<<i|s,Tr=t}function xx(t){t.return!==null&&(Po(t,1),TN(t,1,0))}function bx(t){for(;t===tp;)tp=vc[--yc],vc[yc]=null,np=vc[--yc],vc[yc]=null;for(;t===Fo;)Fo=ks[--Ms],ks[Ms]=null,Tr=ks[--Ms],ks[Ms]=null,Er=ks[--Ms],ks[Ms]=null}var Mn=null,It=null,rt=!1,Ho=null,Ri=!1,u0=Error(te(519));function Wo(t){var e=Error(te(418,""));throw Xd(Ds(e,t)),u0}function k1(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[An]=t,e[Xn]=s,n){case"dialog":Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":case"embed":Fe("load",e);break;case"video":case"audio":for(n=0;n<th.length;n++)Fe(th[n],e);break;case"source":Fe("error",e);break;case"img":case"image":case"link":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"input":Fe("invalid",e),sN(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Xm(e);break;case"select":Fe("invalid",e);break;case"textarea":Fe("invalid",e),rN(e,s.value,s.defaultValue,s.children),Xm(e)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||a2(e.textContent,n)?(s.popover!=null&&(Fe("beforetoggle",e),Fe("toggle",e)),s.onScroll!=null&&Fe("scroll",e),s.onScrollEnd!=null&&Fe("scrollend",e),s.onClick!=null&&(e.onclick=Sg),e=!0):e=!1,e||Wo(t)}function M1(t){for(Mn=t.return;Mn;)switch(Mn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:Mn=Mn.return}}function td(t){if(t!==Mn)return!1;if(!rt)return M1(t),rt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||D0(t.type,t.memoizedProps)),n=!n),n&&It&&Wo(t),M1(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){It=li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}It=null}}else e===27?(e=It,io(t.type)?(t=U0,U0=null,It=t):It=e):It=Mn?li(t.stateNode.nextSibling):null;return!0}function Oh(){It=Mn=null,rt=!1}function O1(){var t=Ho;return t!==null&&(Gn===null?Gn=t:Gn.push.apply(Gn,t),Ho=null),t}function Xd(t){Ho===null?Ho=[t]:Ho.push(t)}var d0=Ki(null),hl=null,Ar=null;function va(t,e,n){Tt(d0,e._currentValue),e._currentValue=n}function Pr(t){t._currentValue=d0.current,un(d0)}function h0(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function f0(t,e,n,s){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var r=i.dependencies;if(r!==null){var o=i.child;r=r.firstContext;e:for(;r!==null;){var c=r;r=i;for(var d=0;d<e.length;d++)if(c.context===e[d]){r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),h0(r.return,n,t),s||(o=null);break e}r=c.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,r=o.alternate,r!==null&&(r.lanes|=n),h0(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Dh(t,e,n,s){t=null;for(var i=e,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(te(387));if(o=o.memoizedProps,o!==null){var c=i.type;_s(i.pendingProps.value,o.value)||(t!==null?t.push(c):t=[c])}}else if(i===Wm.current){if(o=i.alternate,o===null)throw Error(te(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(ih):t=[ih])}i=i.return}t!==null&&f0(e,t,n,s),e.flags|=262144}function sp(t){for(t=t.firstContext;t!==null;){if(!_s(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zo(t){hl=t,Ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return AN(hl,t)}function Ff(t,e){return hl===null&&Zo(t),AN(t,e)}function AN(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ar===null){if(t===null)throw Error(te(308));Ar=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ar=Ar.next=e;return n}var BL=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},FL=en.unstable_scheduleCallback,HL=en.unstable_NormalPriority,Yt={$$typeof:Sr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wx(){return{controller:new BL,data:new Map,refCount:0}}function Lh(t){t.refCount--,t.refCount===0&&FL(HL,function(){t.controller.abort()})}var Nd=null,m0=0,Uc=0,Sc=null;function $L(t,e){if(Nd===null){var n=Nd=[];m0=0,Uc=qx(),Sc={status:"pending",value:void 0,then:function(s){n.push(s)}}}return m0++,e.then(D1,D1),e}function D1(){if(--m0===0&&Nd!==null){Sc!==null&&(Sc.status="fulfilled");var t=Nd;Nd=null,Uc=0,Sc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qL(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var L1=Ce.S;Ce.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&$L(t,e),L1!==null&&L1(t,e)};var $o=Ki(null);function Sx(){var t=$o.current;return t!==null?t:xt.pooledCache}function bm(t,e){e===null?Tt($o,$o.current):Tt($o,e.pool)}function NN(){var t=Sx();return t===null?null:{parent:Yt._currentValue,pool:t}}var Vh=Error(te(460)),CN=Error(te(474)),gg=Error(te(542)),p0={then:function(){}};function V1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hf(){}function RN(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Hf,Hf),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,z1(t),t;default:if(typeof e.status=="string")e.then(Hf,Hf);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(te(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,z1(t),t}throw Cd=e,Vh}}var Cd=null;function U1(){if(Cd===null)throw Error(te(459));var t=Cd;return Cd=null,t}function z1(t){if(t===Vh||t===gg)throw Error(te(483))}var ga=!1;function Ex(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ht&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=ep(t),SN(t,null,n),e}return pg(t,s,e,n),ep(t)}function Rd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,QA(t,n)}}function Gv(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var v0=!1;function jd(){if(v0){var t=Sc;if(t!==null)throw t}}function Pd(t,e,n,s){v0=!1;var i=t.updateQueue;ga=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,h=d.next;d.next=null,o===null?r=h:o.next=h,o=d;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=d))}if(r!==null){var g=i.baseState;o=0,p=h=d=null,c=r;do{var v=c.lane&-536870913,y=v!==c.lane;if(y?(Je&v)===v:(s&v)===v){v!==0&&v===Uc&&(v0=!0),p!==null&&(p=p.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var C=t,S=c;v=e;var R=n;switch(S.tag){case 1:if(C=S.payload,typeof C=="function"){g=C.call(R,g,v);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,v=typeof C=="function"?C.call(R,g,v):C,v==null)break e;g=St({},g,v);break e;case 2:ga=!0}}v=c.callback,v!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[v]:y.push(v))}else y={lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=y,d=g):p=p.next=y,o|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);p===null&&(d=g),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=p,r===null&&(i.shared.lanes=0),qa|=o,t.lanes=o,t.memoizedState=g}}function jN(t,e){if(typeof t!="function")throw Error(te(191,t));t.call(e)}function PN(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)jN(n[t],e)}var zc=Ki(null),ip=Ki(0);function B1(t,e){t=Fr,Tt(ip,t),Tt(zc,e),Fr=t|e.baseLanes}function y0(){Tt(ip,Fr),Tt(zc,zc.current)}function Tx(){Fr=ip.current,un(zc),un(ip)}var Ha=0,Ve=null,pt=null,$t=null,rp=!1,Ec=!1,Yo=!1,ap=0,Jd=0,Tc=null,GL=0;function Dt(){throw Error(te(321))}function Ax(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_s(t[n],e[n]))return!1;return!0}function Nx(t,e,n,s,i,r){return Ha=r,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ce.H=t===null||t.memoizedState===null?lC:cC,Yo=!1,r=n(s,i),Yo=!1,Ec&&(r=kN(e,n,s,i)),IN(t),r}function IN(t){Ce.H=op;var e=pt!==null&&pt.next!==null;if(Ha=0,$t=pt=Ve=null,rp=!1,Jd=0,Tc=null,e)throw Error(te(300));t===null||ln||(t=t.dependencies,t!==null&&sp(t)&&(ln=!0))}function kN(t,e,n,s){Ve=t;var i=0;do{if(Ec&&(Tc=null),Jd=0,Ec=!1,25<=i)throw Error(te(301));if(i+=1,$t=pt=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Ce.H=JL,r=e(n,s)}while(Ec);return r}function KL(){var t=Ce.H,e=t.useState()[0];return e=typeof e.then=="function"?Uh(e):e,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Ve.flags|=1024),e}function Cx(){var t=ap!==0;return ap=0,t}function Rx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function jx(t){if(rp){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}rp=!1}Ha=0,$t=pt=Ve=null,Ec=!1,Jd=ap=0,Tc=null}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ve.memoizedState=$t=t:$t=$t.next=t,$t}function Gt(){if(pt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=$t===null?Ve.memoizedState:$t.next;if(e!==null)$t=e,pt=t;else{if(t===null)throw Ve.alternate===null?Error(te(467)):Error(te(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},$t===null?Ve.memoizedState=$t=t:$t=$t.next=t}return $t}function Px(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uh(t){var e=Jd;return Jd+=1,Tc===null&&(Tc=[]),t=RN(Tc,t,e),e=Ve,($t===null?e.memoizedState:$t.next)===null&&(e=e.alternate,Ce.H=e===null||e.memoizedState===null?lC:cC),t}function vg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Uh(t);if(t.$$typeof===Sr)return Nn(t)}throw Error(te(438,String(t)))}function Ix(t){var e=null,n=Ve.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Px(),Ve.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=PD;return e.index++,n}function zr(t,e){return typeof e=="function"?e(t):e}function wm(t){var e=Gt();return kx(e,pt,t)}function kx(t,e,n){var s=t.queue;if(s===null)throw Error(te(311));s.lastRenderedReducer=n;var i=t.baseQueue,r=s.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}e.baseQueue=i=r,s.pending=null}if(r=t.baseState,i===null)t.memoizedState=r;else{e=i.next;var c=o=null,d=null,h=e,p=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(Je&g)===g:(Ha&g)===g){var v=h.revertLane;if(v===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Uc&&(p=!0);else if((Ha&v)===v){h=h.next,v===Uc&&(p=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=g,o=r):d=d.next=g,Ve.lanes|=v,qa|=v;g=h.action,Yo&&n(r,g),r=h.hasEagerState?h.eagerState:n(r,g)}else v={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=v,o=r):d=d.next=v,Ve.lanes|=g,qa|=g;h=h.next}while(h!==null&&h!==e);if(d===null?o=r:d.next=c,!_s(r,t.memoizedState)&&(ln=!0,p&&(n=Sc,n!==null)))throw n;t.memoizedState=r,t.baseState=o,t.baseQueue=d,s.lastRenderedState=r}return i===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Kv(t){var e=Gt(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);_s(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function MN(t,e,n){var s=Ve,i=Gt(),r=rt;if(r){if(n===void 0)throw Error(te(407));n=n()}else n=e();var o=!_s((pt||i).memoizedState,n);o&&(i.memoizedState=n,ln=!0),i=i.queue;var c=LN.bind(null,s,i,t);if(zh(2048,8,c,[t]),i.getSnapshot!==e||o||$t!==null&&$t.memoizedState.tag&1){if(s.flags|=2048,Bc(9,yg(),DN.bind(null,s,i,n,e),null),xt===null)throw Error(te(349));r||Ha&124||ON(s,e,n)}return n}function ON(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e=Px(),Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DN(t,e,n,s){e.value=n,e.getSnapshot=s,VN(e)&&UN(t)}function LN(t,e,n){return n(function(){VN(e)&&UN(t)})}function VN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_s(t,n)}catch{return!0}}function UN(t){var e=cu(t,2);e!==null&&gs(e,t,2)}function _0(t){var e=$n();if(typeof t=="function"){var n=t;if(t=n(),Yo){Ta(!0);try{n()}finally{Ta(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},e}function zN(t,e,n,s){return t.baseState=n,kx(t,pt,typeof s=="function"?s:zr)}function WL(t,e,n,s,i){if(_g(t))throw Error(te(485));if(t=e.action,t!==null){var r={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){r.listeners.push(o)}};Ce.T!==null?n(!0):r.isTransition=!1,s(r),n=e.pending,n===null?(r.next=e.pending=r,BN(e,r)):(r.next=n.next,e.pending=n.next=r)}}function BN(t,e){var n=e.action,s=e.payload,i=t.state;if(e.isTransition){var r=Ce.T,o={};Ce.T=o;try{var c=n(i,s),d=Ce.S;d!==null&&d(o,c),F1(t,e,c)}catch(h){x0(t,e,h)}finally{Ce.T=r}}else try{r=n(i,s),F1(t,e,r)}catch(h){x0(t,e,h)}}function F1(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){H1(t,e,s)},function(s){return x0(t,e,s)}):H1(t,e,n)}function H1(t,e,n){e.status="fulfilled",e.value=n,FN(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,BN(t,n)))}function x0(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,FN(e),e=e.next;while(e!==s)}t.action=null}function FN(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function HN(t,e){return e}function $1(t,e){if(rt){var n=xt.formState;if(n!==null){e:{var s=Ve;if(rt){if(It){t:{for(var i=It,r=Ri;i.nodeType!==8;){if(!r){i=null;break t}if(i=li(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){It=li(i.nextSibling),s=i.data==="F!";break e}}Wo(s)}s=!1}s&&(e=n[0])}}return n=$n(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HN,lastRenderedState:e},n.queue=s,n=rC.bind(null,Ve,s),s.dispatch=n,s=_0(!1),r=Lx.bind(null,Ve,!1,s.queue),s=$n(),i={state:e,dispatch:null,action:t,pending:null},s.queue=i,n=WL.bind(null,Ve,i,r,n),i.dispatch=n,s.memoizedState=t,[e,n,!1]}function q1(t){var e=Gt();return $N(e,pt,t)}function $N(t,e,n){if(e=kx(t,e,HN)[0],t=wm(zr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Uh(e)}catch(o){throw o===Vh?gg:o}else s=e;e=Gt();var i=e.queue,r=i.dispatch;return n!==e.memoizedState&&(Ve.flags|=2048,Bc(9,yg(),ZL.bind(null,i,n),null)),[s,r,t]}function ZL(t,e){t.action=e}function G1(t){var e=Gt(),n=pt;if(n!==null)return $N(e,n,t);Gt(),e=e.memoizedState,n=Gt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Bc(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ve.updateQueue,e===null&&(e=Px(),Ve.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function yg(){return{destroy:void 0,resource:void 0}}function qN(){return Gt().memoizedState}function Sm(t,e,n,s){var i=$n();s=s===void 0?null:s,Ve.flags|=t,i.memoizedState=Bc(1|e,yg(),n,s)}function zh(t,e,n,s){var i=Gt();s=s===void 0?null:s;var r=i.memoizedState.inst;pt!==null&&s!==null&&Ax(s,pt.memoizedState.deps)?i.memoizedState=Bc(e,r,n,s):(Ve.flags|=t,i.memoizedState=Bc(1|e,r,n,s))}function K1(t,e){Sm(8390656,8,t,e)}function GN(t,e){zh(2048,8,t,e)}function KN(t,e){return zh(4,2,t,e)}function WN(t,e){return zh(4,4,t,e)}function ZN(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YN(t,e,n){n=n!=null?n.concat([t]):null,zh(4,4,ZN.bind(null,e,t),n)}function Mx(){}function QN(t,e){var n=Gt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&Ax(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function XN(t,e){var n=Gt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&Ax(e,s[1]))return s[0];if(s=t(),Yo){Ta(!0);try{t()}finally{Ta(!1)}}return n.memoizedState=[s,e],s}function Ox(t,e,n){return n===void 0||Ha&1073741824?t.memoizedState=e:(t.memoizedState=n,t=FC(),Ve.lanes|=t,qa|=t,n)}function JN(t,e,n,s){return _s(n,e)?n:zc.current!==null?(t=Ox(t,n,s),_s(t,e)||(ln=!0),t):Ha&42?(t=FC(),Ve.lanes|=t,qa|=t,e):(ln=!0,t.memoizedState=n)}function eC(t,e,n,s,i){var r=at.p;at.p=r!==0&&8>r?r:8;var o=Ce.T,c={};Ce.T=c,Lx(t,!1,e,n);try{var d=i(),h=Ce.S;if(h!==null&&h(c,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=qL(d,s);Id(t,e,p,ps(t))}else Id(t,e,s,ps(t))}catch(g){Id(t,e,{then:function(){},status:"rejected",reason:g},ps())}finally{at.p=r,Ce.T=o}}function YL(){}function b0(t,e,n,s){if(t.tag!==5)throw Error(te(476));var i=tC(t).queue;eC(t,i,e,zo,n===null?YL:function(){return nC(t),n(s)})}function tC(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:zo,baseState:zo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:zo},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function nC(t){var e=tC(t).next.queue;Id(t,e,{},ps())}function Dx(){return Nn(ih)}function sC(){return Gt().memoizedState}function iC(){return Gt().memoizedState}function QL(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ps();t=Pa(n);var s=Ia(e,t,n);s!==null&&(gs(s,e,n),Rd(s,e,n)),e={cache:wx()},t.payload=e;return}e=e.return}}function XL(t,e,n){var s=ps();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},_g(t)?aC(e,n):(n=yx(t,e,n,s),n!==null&&(gs(n,t,s),oC(n,e,s)))}function rC(t,e,n){var s=ps();Id(t,e,n,s)}function Id(t,e,n,s){var i={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(_g(t))aC(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,c=r(o,n);if(i.hasEagerState=!0,i.eagerState=c,_s(c,o))return pg(t,e,i,0),xt===null&&mg(),!1}catch{}finally{}if(n=yx(t,e,i,s),n!==null)return gs(n,t,s),oC(n,e,s),!0}return!1}function Lx(t,e,n,s){if(s={lane:2,revertLane:qx(),action:s,hasEagerState:!1,eagerState:null,next:null},_g(t)){if(e)throw Error(te(479))}else e=yx(t,n,s,2),e!==null&&gs(e,t,2)}function _g(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function aC(t,e){Ec=rp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oC(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,QA(t,n)}}var op={readContext:Nn,use:vg,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},lC={readContext:Nn,use:vg,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:K1,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Sm(4194308,4,ZN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sm(4194308,4,t,e)},useInsertionEffect:function(t,e){Sm(4,2,t,e)},useMemo:function(t,e){var n=$n();e=e===void 0?null:e;var s=t();if(Yo){Ta(!0);try{t()}finally{Ta(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=$n();if(n!==void 0){var i=n(e);if(Yo){Ta(!0);try{n(e)}finally{Ta(!1)}}}else i=e;return s.memoizedState=s.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},s.queue=t,t=t.dispatch=XL.bind(null,Ve,t),[s.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:function(t){t=_0(t);var e=t.queue,n=rC.bind(null,Ve,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Mx,useDeferredValue:function(t,e){var n=$n();return Ox(n,t,e)},useTransition:function(){var t=_0(!1);return t=eC.bind(null,Ve,t.queue,!0,!1),$n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ve,i=$n();if(rt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),xt===null)throw Error(te(349));Je&124||ON(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,K1(LN.bind(null,s,r,t),[t]),s.flags|=2048,Bc(9,yg(),DN.bind(null,s,r,n,e),null),n},useId:function(){var t=$n(),e=xt.identifierPrefix;if(rt){var n=Tr,s=Er;n=(s&~(1<<32-ms(s)-1)).toString(32)+n,e=""+e+"R"+n,n=ap++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=GL++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Dx,useFormState:$1,useActionState:$1,useOptimistic:function(t){var e=$n();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Lx.bind(null,Ve,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ix,useCacheRefresh:function(){return $n().memoizedState=QL.bind(null,Ve)}},cC={readContext:Nn,use:vg,useCallback:QN,useContext:Nn,useEffect:GN,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:WN,useMemo:XN,useReducer:wm,useRef:qN,useState:function(){return wm(zr)},useDebugValue:Mx,useDeferredValue:function(t,e){var n=Gt();return JN(n,pt.memoizedState,t,e)},useTransition:function(){var t=wm(zr)[0],e=Gt().memoizedState;return[typeof t=="boolean"?t:Uh(t),e]},useSyncExternalStore:MN,useId:sC,useHostTransitionStatus:Dx,useFormState:q1,useActionState:q1,useOptimistic:function(t,e){var n=Gt();return zN(n,pt,t,e)},useMemoCache:Ix,useCacheRefresh:iC},JL={readContext:Nn,use:vg,useCallback:QN,useContext:Nn,useEffect:GN,useImperativeHandle:YN,useInsertionEffect:KN,useLayoutEffect:WN,useMemo:XN,useReducer:Kv,useRef:qN,useState:function(){return Kv(zr)},useDebugValue:Mx,useDeferredValue:function(t,e){var n=Gt();return pt===null?Ox(n,t,e):JN(n,pt.memoizedState,t,e)},useTransition:function(){var t=Kv(zr)[0],e=Gt().memoizedState;return[typeof t=="boolean"?t:Uh(t),e]},useSyncExternalStore:MN,useId:sC,useHostTransitionStatus:Dx,useFormState:G1,useActionState:G1,useOptimistic:function(t,e){var n=Gt();return pt!==null?zN(n,pt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ix,useCacheRefresh:iC},Ac=null,eh=0;function $f(t){var e=eh;return eh+=1,Ac===null&&(Ac=[]),RN(Ac,t,e)}function nd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function qf(t,e){throw e.$$typeof===RD?Error(te(525)):(t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function W1(t){var e=t._init;return e(t._payload)}function uC(t){function e(E,T){if(t){var N=E.deletions;N===null?(E.deletions=[T],E.flags|=16):N.push(T)}}function n(E,T){if(!t)return null;for(;T!==null;)e(E,T),T=T.sibling;return null}function s(E){for(var T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function i(E,T){return E=jr(E,T),E.index=0,E.sibling=null,E}function r(E,T,N){return E.index=N,t?(N=E.alternate,N!==null?(N=N.index,N<T?(E.flags|=67108866,T):N):(E.flags|=67108866,T)):(E.flags|=1048576,T)}function o(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function c(E,T,N,O){return T===null||T.tag!==6?(T=$v(N,E.mode,O),T.return=E,T):(T=i(T,N),T.return=E,T)}function d(E,T,N,O){var H=N.type;return H===lc?p(E,T,N.props.children,O,N.key):T!==null&&(T.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===pa&&W1(H)===T.type)?(T=i(T,N.props),nd(T,N),T.return=E,T):(T=xm(N.type,N.key,N.props,null,E.mode,O),nd(T,N),T.return=E,T)}function h(E,T,N,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=qv(N,E.mode,O),T.return=E,T):(T=i(T,N.children||[]),T.return=E,T)}function p(E,T,N,O,H){return T===null||T.tag!==7?(T=Bo(N,E.mode,O,H),T.return=E,T):(T=i(T,N),T.return=E,T)}function g(E,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=$v(""+T,E.mode,N),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Lf:return N=xm(T.type,T.key,T.props,null,E.mode,N),nd(N,T),N.return=E,N;case cd:return T=qv(T,E.mode,N),T.return=E,T;case pa:var O=T._init;return T=O(T._payload),g(E,T,N)}if(ud(T)||Xu(T))return T=Bo(T,E.mode,N,null),T.return=E,T;if(typeof T.then=="function")return g(E,$f(T),N);if(T.$$typeof===Sr)return g(E,Ff(E,T),N);qf(E,T)}return null}function v(E,T,N,O){var H=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return H!==null?null:c(E,T,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lf:return N.key===H?d(E,T,N,O):null;case cd:return N.key===H?h(E,T,N,O):null;case pa:return H=N._init,N=H(N._payload),v(E,T,N,O)}if(ud(N)||Xu(N))return H!==null?null:p(E,T,N,O,null);if(typeof N.then=="function")return v(E,T,$f(N),O);if(N.$$typeof===Sr)return v(E,T,Ff(E,N),O);qf(E,N)}return null}function y(E,T,N,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return E=E.get(N)||null,c(T,E,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Lf:return E=E.get(O.key===null?N:O.key)||null,d(T,E,O,H);case cd:return E=E.get(O.key===null?N:O.key)||null,h(T,E,O,H);case pa:var G=O._init;return O=G(O._payload),y(E,T,N,O,H)}if(ud(O)||Xu(O))return E=E.get(N)||null,p(T,E,O,H,null);if(typeof O.then=="function")return y(E,T,N,$f(O),H);if(O.$$typeof===Sr)return y(E,T,N,Ff(T,O),H);qf(T,O)}return null}function C(E,T,N,O){for(var H=null,G=null,j=T,P=T=0,U=null;j!==null&&P<N.length;P++){j.index>P?(U=j,j=null):U=j.sibling;var k=v(E,j,N[P],O);if(k===null){j===null&&(j=U);break}t&&j&&k.alternate===null&&e(E,j),T=r(k,T,P),G===null?H=k:G.sibling=k,G=k,j=U}if(P===N.length)return n(E,j),rt&&Po(E,P),H;if(j===null){for(;P<N.length;P++)j=g(E,N[P],O),j!==null&&(T=r(j,T,P),G===null?H=j:G.sibling=j,G=j);return rt&&Po(E,P),H}for(j=s(j);P<N.length;P++)U=y(j,E,P,N[P],O),U!==null&&(t&&U.alternate!==null&&j.delete(U.key===null?P:U.key),T=r(U,T,P),G===null?H=U:G.sibling=U,G=U);return t&&j.forEach(function(M){return e(E,M)}),rt&&Po(E,P),H}function S(E,T,N,O){if(N==null)throw Error(te(151));for(var H=null,G=null,j=T,P=T=0,U=null,k=N.next();j!==null&&!k.done;P++,k=N.next()){j.index>P?(U=j,j=null):U=j.sibling;var M=v(E,j,k.value,O);if(M===null){j===null&&(j=U);break}t&&j&&M.alternate===null&&e(E,j),T=r(M,T,P),G===null?H=M:G.sibling=M,G=M,j=U}if(k.done)return n(E,j),rt&&Po(E,P),H;if(j===null){for(;!k.done;P++,k=N.next())k=g(E,k.value,O),k!==null&&(T=r(k,T,P),G===null?H=k:G.sibling=k,G=k);return rt&&Po(E,P),H}for(j=s(j);!k.done;P++,k=N.next())k=y(j,E,P,k.value,O),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?P:k.key),T=r(k,T,P),G===null?H=k:G.sibling=k,G=k);return t&&j.forEach(function(D){return e(E,D)}),rt&&Po(E,P),H}function R(E,T,N,O){if(typeof N=="object"&&N!==null&&N.type===lc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Lf:e:{for(var H=N.key;T!==null;){if(T.key===H){if(H=N.type,H===lc){if(T.tag===7){n(E,T.sibling),O=i(T,N.props.children),O.return=E,E=O;break e}}else if(T.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===pa&&W1(H)===T.type){n(E,T.sibling),O=i(T,N.props),nd(O,N),O.return=E,E=O;break e}n(E,T);break}else e(E,T);T=T.sibling}N.type===lc?(O=Bo(N.props.children,E.mode,O,N.key),O.return=E,E=O):(O=xm(N.type,N.key,N.props,null,E.mode,O),nd(O,N),O.return=E,E=O)}return o(E);case cd:e:{for(H=N.key;T!==null;){if(T.key===H)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){n(E,T.sibling),O=i(T,N.children||[]),O.return=E,E=O;break e}else{n(E,T);break}else e(E,T);T=T.sibling}O=qv(N,E.mode,O),O.return=E,E=O}return o(E);case pa:return H=N._init,N=H(N._payload),R(E,T,N,O)}if(ud(N))return C(E,T,N,O);if(Xu(N)){if(H=Xu(N),typeof H!="function")throw Error(te(150));return N=H.call(N),S(E,T,N,O)}if(typeof N.then=="function")return R(E,T,$f(N),O);if(N.$$typeof===Sr)return R(E,T,Ff(E,N),O);qf(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,T!==null&&T.tag===6?(n(E,T.sibling),O=i(T,N),O.return=E,E=O):(n(E,T),O=$v(N,E.mode,O),O.return=E,E=O),o(E)):n(E,T)}return function(E,T,N,O){try{eh=0;var H=R(E,T,N,O);return Ac=null,H}catch(j){if(j===Vh||j===gg)throw j;var G=ds(29,j,null,E.mode);return G.lanes=O,G.return=E,G}finally{}}}var Fc=uC(!0),dC=uC(!1),Hs=Ki(null),Oi=null;function ya(t){var e=t.alternate;Tt(Qt,Qt.current&1),Tt(Hs,t),Oi===null&&(e===null||zc.current!==null||e.memoizedState!==null)&&(Oi=t)}function hC(t){if(t.tag===22){if(Tt(Qt,Qt.current),Tt(Hs,t),Oi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Oi=t)}}else _a()}function _a(){Tt(Qt,Qt.current),Tt(Hs,Hs.current)}function Nr(t){un(Hs),Oi===t&&(Oi=null),un(Qt)}var Qt=Ki(0);function lp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||V0(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Wv(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var w0={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=ps(),i=Pa(s);i.payload=e,n!=null&&(i.callback=n),e=Ia(t,i,s),e!==null&&(gs(e,t,s),Rd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=ps(),i=Pa(s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ia(t,i,s),e!==null&&(gs(e,t,s),Rd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ps(),s=Pa(n);s.tag=2,e!=null&&(s.callback=e),e=Ia(t,s,n),e!==null&&(gs(e,t,n),Rd(e,t,n))}};function Z1(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!Qd(n,s)||!Qd(i,r):!0}function Y1(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&w0.enqueueReplaceState(e,e.state,null)}function Qo(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=St({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var cp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fC(t){cp(t)}function mC(t){console.error(t)}function pC(t){cp(t)}function up(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Q1(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function S0(t,e,n){return n=Pa(n),n.tag=3,n.payload={element:null},n.callback=function(){up(t,e)},n}function gC(t){return t=Pa(t),t.tag=3,t}function vC(t,e,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=s.value;t.payload=function(){return i(r)},t.callback=function(){Q1(e,n,s)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Q1(e,n,s),typeof i!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function e4(t,e,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Dh(e,n,i,!0),n=Hs.current,n!==null){switch(n.tag){case 13:return Oi===null?P0():n.alternate===null&&kt===0&&(kt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===p0?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),ry(t,s,i)),!1;case 22:return n.flags|=65536,s===p0?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),ry(t,s,i)),!1}throw Error(te(435,n.tag))}return ry(t,s,i),P0(),!1}if(rt)return e=Hs.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==u0&&(t=Error(te(422),{cause:s}),Xd(Ds(t,n)))):(s!==u0&&(e=Error(te(423),{cause:s}),Xd(Ds(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,s=Ds(s,n),i=S0(t.stateNode,s,i),Gv(t,i),kt!==4&&(kt=2)),!1;var r=Error(te(520),{cause:s});if(r=Ds(r,n),Od===null?Od=[r]:Od.push(r),kt!==4&&(kt=2),e===null)return!0;s=Ds(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=S0(n.stateNode,s,t),Gv(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ka===null||!ka.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=gC(i),vC(i,t,n,s),Gv(n,i),!1}n=n.return}while(n!==null);return!1}var yC=Error(te(461)),ln=!1;function hn(t,e,n,s){e.child=t===null?dC(e,null,n,s):Fc(e,t.child,n,s)}function X1(t,e,n,s,i){n=n.render;var r=e.ref;if("ref"in s){var o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}else o=s;return Zo(e),s=Nx(t,e,n,o,r,i),c=Cx(),t!==null&&!ln?(Rx(t,e,i),Br(t,e,i)):(rt&&c&&xx(e),e.flags|=1,hn(t,e,s,i),e.child)}function J1(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!_x(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,_C(t,e,r,s,i)):(t=xm(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Vx(t,i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Qd,n(o,s)&&t.ref===e.ref)return Br(t,e,i)}return e.flags|=1,t=jr(r,s),t.ref=e.ref,t.return=e,e.child=t}function _C(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Qd(r,s)&&t.ref===e.ref)if(ln=!1,e.pendingProps=s=r,Vx(t,i))t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Br(t,e,i)}return E0(t,e,n,s,i)}function xC(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=r!==null?r.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;e.childLanes=r&~s}else e.childLanes=0,e.child=null;return eS(t,e,s,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&bm(e,r!==null?r.cachePool:null),r!==null?B1(e,r):y0(),hC(e);else return e.lanes=e.childLanes=536870912,eS(t,e,r!==null?r.baseLanes|n:n,n)}else r!==null?(bm(e,r.cachePool),B1(e,r),_a(),e.memoizedState=null):(t!==null&&bm(e,null),y0(),_a());return hn(t,e,i,n),e.child}function eS(t,e,n,s){var i=Sx();return i=i===null?null:{parent:Yt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&bm(e,null),y0(),hC(e),t!==null&&Dh(t,e,s,!0),null}function Em(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(te(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function E0(t,e,n,s,i){return Zo(e),n=Nx(t,e,n,s,void 0,i),s=Cx(),t!==null&&!ln?(Rx(t,e,i),Br(t,e,i)):(rt&&s&&xx(e),e.flags|=1,hn(t,e,n,i),e.child)}function tS(t,e,n,s,i,r){return Zo(e),e.updateQueue=null,n=kN(e,s,n,i),IN(t),s=Cx(),t!==null&&!ln?(Rx(t,e,r),Br(t,e,r)):(rt&&s&&xx(e),e.flags|=1,hn(t,e,n,r),e.child)}function nS(t,e,n,s,i){if(Zo(e),e.stateNode===null){var r=gc,o=n.contextType;typeof o=="object"&&o!==null&&(r=Nn(o)),r=new n(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=w0,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},Ex(e),o=n.contextType,r.context=typeof o=="object"&&o!==null?Nn(o):gc,r.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Wv(e,n,o,s),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(o=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),o!==r.state&&w0.enqueueReplaceState(r,r.state,null),Pd(e,s,r,i),jd(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){r=e.stateNode;var c=e.memoizedProps,d=Qo(n,c);r.props=d;var h=r.context,p=n.contextType;o=gc,typeof p=="object"&&p!==null&&(o=Nn(p));var g=n.getDerivedStateFromProps;p=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,p||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c||h!==o)&&Y1(e,r,s,o),ga=!1;var v=e.memoizedState;r.state=v,Pd(e,s,r,i),jd(),h=e.memoizedState,c||v!==h||ga?(typeof g=="function"&&(Wv(e,n,g,s),h=e.memoizedState),(d=ga||Z1(e,n,d,s,v,h,o))?(p||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),r.props=s,r.state=h,r.context=o,s=d):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,g0(t,e),o=e.memoizedProps,p=Qo(n,o),r.props=p,g=e.pendingProps,v=r.context,h=n.contextType,d=gc,typeof h=="object"&&h!==null&&(d=Nn(h)),c=n.getDerivedStateFromProps,(h=typeof c=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==g||v!==d)&&Y1(e,r,s,d),ga=!1,v=e.memoizedState,r.state=v,Pd(e,s,r,i),jd();var y=e.memoizedState;o!==g||v!==y||ga||t!==null&&t.dependencies!==null&&sp(t.dependencies)?(typeof c=="function"&&(Wv(e,n,c,s),y=e.memoizedState),(p=ga||Z1(e,n,p,s,v,y,d)||t!==null&&t.dependencies!==null&&sp(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,y,d),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,y,d)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),r.props=s,r.state=y,r.context=d,s=p):(typeof r.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),s=!1)}return r=s,Em(t,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&s?(e.child=Fc(e,t.child,null,i),e.child=Fc(e,null,n,i)):hn(t,e,n,i),e.memoizedState=r.state,t=e.child):t=Br(t,e,i),t}function sS(t,e,n,s){return Oh(),e.flags|=256,hn(t,e,n,s),e.child}var Zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yv(t){return{baseLanes:t,cachePool:NN()}}function Qv(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Us),t}function bC(t,e,n){var s=e.pendingProps,i=!1,r=(e.flags&128)!==0,o;if((o=r)||(o=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(rt){if(i?ya(e):_a(),rt){var c=It,d;if(d=c){e:{for(d=c,c=Ri;d.nodeType!==8;){if(!c){c=null;break e}if(d=li(d.nextSibling),d===null){c=null;break e}}c=d}c!==null?(e.memoizedState={dehydrated:c,treeContext:Fo!==null?{id:Er,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},d=ds(18,null,null,0),d.stateNode=c,d.return=e,e.child=d,Mn=e,It=null,d=!0):d=!1}d||Wo(e)}if(c=e.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return V0(c)?e.lanes=32:e.lanes=536870912,null;Nr(e)}return c=s.children,s=s.fallback,i?(_a(),i=e.mode,c=dp({mode:"hidden",children:c},i),s=Bo(s,i,n,null),c.return=e,s.return=e,c.sibling=s,e.child=c,i=e.child,i.memoizedState=Yv(n),i.childLanes=Qv(t,o,n),e.memoizedState=Zv,s):(ya(e),T0(e,c))}if(d=t.memoizedState,d!==null&&(c=d.dehydrated,c!==null)){if(r)e.flags&256?(ya(e),e.flags&=-257,e=Xv(t,e,n)):e.memoizedState!==null?(_a(),e.child=t.child,e.flags|=128,e=null):(_a(),i=s.fallback,c=e.mode,s=dp({mode:"visible",children:s.children},c),i=Bo(i,c,n,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,Fc(e,t.child,null,n),s=e.child,s.memoizedState=Yv(n),s.childLanes=Qv(t,o,n),e.memoizedState=Zv,e=i);else if(ya(e),V0(c)){if(o=c.nextSibling&&c.nextSibling.dataset,o)var h=o.dgst;o=h,s=Error(te(419)),s.stack="",s.digest=o,Xd({value:s,source:null,stack:null}),e=Xv(t,e,n)}else if(ln||Dh(t,e,n,!1),o=(n&t.childLanes)!==0,ln||o){if(o=xt,o!==null&&(s=n&-n,s=s&42?1:lx(s),s=s&(o.suspendedLanes|n)?0:s,s!==0&&s!==d.retryLane))throw d.retryLane=s,cu(t,s),gs(o,t,s),yC;c.data==="$?"||P0(),e=Xv(t,e,n)}else c.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=d.treeContext,It=li(c.nextSibling),Mn=e,rt=!0,Ho=null,Ri=!1,t!==null&&(ks[Ms++]=Er,ks[Ms++]=Tr,ks[Ms++]=Fo,Er=t.id,Tr=t.overflow,Fo=e),e=T0(e,s.children),e.flags|=4096);return e}return i?(_a(),i=s.fallback,c=e.mode,d=t.child,h=d.sibling,s=jr(d,{mode:"hidden",children:s.children}),s.subtreeFlags=d.subtreeFlags&65011712,h!==null?i=jr(h,i):(i=Bo(i,c,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,c=t.child.memoizedState,c===null?c=Yv(n):(d=c.cachePool,d!==null?(h=Yt._currentValue,d=d.parent!==h?{parent:h,pool:h}:d):d=NN(),c={baseLanes:c.baseLanes|n,cachePool:d}),i.memoizedState=c,i.childLanes=Qv(t,o,n),e.memoizedState=Zv,s):(ya(e),n=t.child,t=n.sibling,n=jr(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function T0(t,e){return e=dp({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function dp(t,e){return t=ds(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xv(t,e,n){return Fc(e,t.child,null,n),t=T0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iS(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),h0(t.return,e,n)}function Jv(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function wC(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(hn(t,e,s.children,n),s=Qt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iS(t,n,e);else if(t.tag===19)iS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(Tt(Qt,s),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jv(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jv(e,!0,n,null,r);break;case"together":Jv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qa|=e.lanes,!(n&e.childLanes))if(t!==null){if(Dh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vx(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&sp(t)))}function t4(t,e,n){switch(e.tag){case 3:Zm(e,e.stateNode.containerInfo),va(e,Yt,t.memoizedState.cache),Oh();break;case 27:case 5:e0(e);break;case 4:Zm(e,e.stateNode.containerInfo);break;case 10:va(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ya(e),e.flags|=128,null):n&e.child.childLanes?bC(t,e,n):(ya(e),t=Br(t,e,n),t!==null?t.sibling:null);ya(e);break;case 19:var i=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Dh(t,e,n,!1),s=(n&e.childLanes)!==0),i){if(s)return wC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Qt,Qt.current),s)break;return null;case 22:case 23:return e.lanes=0,xC(t,e,n);case 24:va(e,Yt,t.memoizedState.cache)}return Br(t,e,n)}function SC(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ln=!0;else{if(!Vx(t,n)&&!(e.flags&128))return ln=!1,t4(t,e,n);ln=!!(t.flags&131072)}else ln=!1,rt&&e.flags&1048576&&TN(e,np,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var s=e.elementType,i=s._init;if(s=i(s._payload),e.type=s,typeof s=="function")_x(s)?(t=Qo(s,t),e.tag=1,e=nS(null,e,s,t,n)):(e.tag=0,e=E0(null,e,s,t,n));else{if(s!=null){if(i=s.$$typeof,i===rx){e.tag=11,e=X1(null,e,s,t,n);break e}else if(i===ax){e.tag=14,e=J1(null,e,s,t,n);break e}}throw e=Xy(s)||s,Error(te(306,e,""))}}return e;case 0:return E0(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,i=Qo(s,e.pendingProps),nS(t,e,s,i,n);case 3:e:{if(Zm(e,e.stateNode.containerInfo),t===null)throw Error(te(387));s=e.pendingProps;var r=e.memoizedState;i=r.element,g0(t,e),Pd(e,s,null,n);var o=e.memoizedState;if(s=o.cache,va(e,Yt,s),s!==r.cache&&f0(e,[Yt],n,!0),jd(),s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=sS(t,e,s,n);break e}else if(s!==i){i=Ds(Error(te(424)),e),Xd(i),e=sS(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(It=li(t.firstChild),Mn=e,rt=!0,Ho=null,Ri=!0,n=dC(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Oh(),s===i){e=Br(t,e,n);break e}hn(t,e,s,n)}e=e.child}return e;case 26:return Em(t,e),t===null?(n=bS(e.type,null,e.pendingProps,null))?e.memoizedState=n:rt||(n=e.type,t=e.pendingProps,s=yp(ja.current).createElement(n),s[An]=e,s[Xn]=t,gn(s,n,t),an(s),e.stateNode=s):e.memoizedState=bS(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return e0(e),t===null&&rt&&(s=e.stateNode=c2(e.type,e.pendingProps,ja.current),Mn=e,Ri=!0,i=It,io(e.type)?(U0=i,It=li(s.firstChild)):It=i),hn(t,e,e.pendingProps.children,n),Em(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&rt&&((i=s=It)&&(s=R4(s,e.type,e.pendingProps,Ri),s!==null?(e.stateNode=s,Mn=e,It=li(s.firstChild),Ri=!1,i=!0):i=!1),i||Wo(e)),e0(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,D0(i,r)?s=null:o!==null&&D0(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=Nx(t,e,KL,null,null,n),ih._currentValue=i),Em(t,e),hn(t,e,s,n),e.child;case 6:return t===null&&rt&&((t=n=It)&&(n=j4(n,e.pendingProps,Ri),n!==null?(e.stateNode=n,Mn=e,It=null,t=!0):t=!1),t||Wo(e)),null;case 13:return bC(t,e,n);case 4:return Zm(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Fc(e,null,s,n):hn(t,e,s,n),e.child;case 11:return X1(t,e,e.type,e.pendingProps,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,va(e,e.type,s.value),hn(t,e,s.children,n),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,Zo(e),i=Nn(i),s=s(i),e.flags|=1,hn(t,e,s,n),e.child;case 14:return J1(t,e,e.type,e.pendingProps,n);case 15:return _C(t,e,e.type,e.pendingProps,n);case 19:return wC(t,e,n);case 31:return s=e.pendingProps,n=e.mode,s={mode:s.mode,children:s.children},t===null?(n=dp(s,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=jr(t.child,s),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return xC(t,e,n);case 24:return Zo(e),s=Nn(Yt),t===null?(i=Sx(),i===null&&(i=xt,r=wx(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),e.memoizedState={parent:s,cache:i},Ex(e),va(e,Yt,i)):(t.lanes&n&&(g0(t,e),Pd(e,null,null,n),jd()),i=t.memoizedState,r=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),va(e,Yt,s)):(s=r.cache,va(e,Yt,s),s!==i.cache&&f0(e,[Yt],n,!0))),hn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(te(156,e.tag))}function pr(t){t.flags|=4}function rS(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!h2(e)){if(e=Hs.current,e!==null&&((Je&4194048)===Je?Oi!==null:(Je&62914560)!==Je&&!(Je&536870912)||e!==Oi))throw Cd=p0,CN;t.flags|=8192}}function Gf(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ZA():536870912,t.lanes|=e,Hc|=e)}function sd(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function n4(t,e,n){var s=e.pendingProps;switch(bx(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return Nt(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Pr(Yt),Dc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(td(e)?pr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,O1())),Nt(e),null;case 26:return n=e.memoizedState,t===null?(pr(e),n!==null?(Nt(e),rS(e,n)):(Nt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(pr(e),Nt(e),rS(e,n)):(Nt(e),e.flags&=-16777217):(t.memoizedProps!==s&&pr(e),Nt(e),e.flags&=-16777217),null;case 27:Ym(e),n=ja.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&pr(e);else{if(!s){if(e.stateNode===null)throw Error(te(166));return Nt(e),null}t=ki.current,td(e)?k1(e):(t=c2(i,s,n),e.stateNode=t,pr(e))}return Nt(e),null;case 5:if(Ym(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&pr(e);else{if(!s){if(e.stateNode===null)throw Error(te(166));return Nt(e),null}if(t=ki.current,td(e))k1(e);else{switch(i=yp(ja.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}t[An]=e,t[Xn]=s;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(gn(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pr(e)}}return Nt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&pr(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(te(166));if(t=ja.current,td(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,i=Mn,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}t[An]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||a2(t.nodeValue,n)),t||Wo(e)}else t=yp(t).createTextNode(s),t[An]=e,e.stateNode=t}return Nt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=td(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[An]=e}else Oh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),i=!1}else i=O1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Nr(e),e):(Nr(e),null)}if(Nr(e),e.flags&128)return e.lanes=n,e;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool);var r=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==i&&(s.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Gf(e,e.updateQueue),Nt(e),null;case 4:return Dc(),t===null&&Gx(e.stateNode.containerInfo),Nt(e),null;case 10:return Pr(e.type),Nt(e),null;case 19:if(un(Qt),i=e.memoizedState,i===null)return Nt(e),null;if(s=(e.flags&128)!==0,r=i.rendering,r===null)if(s)sd(i,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=lp(t),r!==null){for(e.flags|=128,sd(i,!1),t=r.updateQueue,e.updateQueue=t,Gf(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)EN(n,t),n=n.sibling;return Tt(Qt,Qt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Mi()>fp&&(e.flags|=128,s=!0,sd(i,!1),e.lanes=4194304)}else{if(!s)if(t=lp(r),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Gf(e,t),sd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!rt)return Nt(e),null}else 2*Mi()-i.renderingStartTime>fp&&n!==536870912&&(e.flags|=128,s=!0,sd(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mi(),e.sibling=null,t=Qt.current,Tt(Qt,s?t&1|2:t&1),e):(Nt(e),null);case 22:case 23:return Nr(e),Tx(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),n=e.updateQueue,n!==null&&Gf(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&un($o),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Pr(Yt),Nt(e),null;case 25:return null;case 30:return null}throw Error(te(156,e.tag))}function s4(t,e){switch(bx(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pr(Yt),Dc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ym(e),null;case 13:if(Nr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Oh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return un(Qt),null;case 4:return Dc(),null;case 10:return Pr(e.type),null;case 22:case 23:return Nr(e),Tx(),t!==null&&un($o),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Pr(Yt),null;case 25:return null;default:return null}}function EC(t,e){switch(bx(e),e.tag){case 3:Pr(Yt),Dc();break;case 26:case 27:case 5:Ym(e);break;case 4:Dc();break;case 13:Nr(e);break;case 19:un(Qt);break;case 10:Pr(e.type);break;case 22:case 23:Nr(e),Tx(),t!==null&&un($o);break;case 24:Pr(Yt)}}function Bh(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&t)===t){s=void 0;var r=n.create,o=n.inst;s=r(),o.destroy=s}n=n.next}while(n!==i)}}catch(c){vt(e,e.return,c)}}function $a(t,e,n){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&t)===t){var o=s.inst,c=o.destroy;if(c!==void 0){o.destroy=void 0,i=e;var d=n,h=c;try{h()}catch(p){vt(i,d,p)}}}s=s.next}while(s!==r)}}catch(p){vt(e,e.return,p)}}function TC(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{PN(e,n)}catch(s){vt(t,t.return,s)}}}function AC(t,e,n){n.props=Qo(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){vt(t,e,s)}}function kd(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(i){vt(t,e,i)}}function Pi(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){vt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){vt(t,e,i)}else n.current=null}function NC(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){vt(t,t.return,i)}}function ey(t,e,n){try{var s=t.stateNode;E4(s,t.type,n,e),s[Xn]=e}catch(i){vt(t,t.return,i)}}function CC(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&io(t.type)||t.tag===4}function ty(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&io(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function A0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sg));else if(s!==4&&(s===27&&io(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(A0(t,e,n),t=t.sibling;t!==null;)A0(t,e,n),t=t.sibling}function hp(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&io(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}function RC(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);gn(e,s,n),e[An]=t,e[Xn]=n}catch(r){vt(t,t.return,r)}}var br=!1,Lt=!1,ny=!1,aS=typeof WeakSet=="function"?WeakSet:Set,rn=null;function i4(t,e){if(t=t.containerInfo,M0=wp,t=gN(t),gx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,c=-1,d=-1,h=0,p=0,g=t,v=null;t:for(;;){for(var y;g!==n||i!==0&&g.nodeType!==3||(c=o+i),g!==r||s!==0&&g.nodeType!==3||(d=o+s),g.nodeType===3&&(o+=g.nodeValue.length),(y=g.firstChild)!==null;)v=g,g=y;for(;;){if(g===t)break t;if(v===n&&++h===i&&(c=o),v===r&&++p===s&&(d=o),(y=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=y}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(O0={focusedElem:t,selectionRange:n},wp=!1,rn=e;rn!==null;)if(e=rn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,rn=t;else for(;rn!==null;){switch(e=rn,r=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,i=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var C=Qo(n.type,i,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(C,r),s.__reactInternalSnapshotBeforeUpdate=t}catch(S){vt(n,n.return,S)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)L0(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":L0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(te(163))}if(t=e.sibling,t!==null){t.return=e.return,rn=t;break}rn=e.return}}function jC(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:aa(t,n),s&4&&Bh(5,n);break;case 1:if(aa(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){vt(n,n.return,o)}else{var i=Qo(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){vt(n,n.return,o)}}s&64&&TC(n),s&512&&kd(n,n.return);break;case 3:if(aa(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{PN(t,e)}catch(o){vt(n,n.return,o)}}break;case 27:e===null&&s&4&&RC(n);case 26:case 5:aa(t,n),e===null&&s&4&&NC(n),s&512&&kd(n,n.return);break;case 12:aa(t,n);break;case 13:aa(t,n),s&4&&kC(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=f4.bind(null,n),P4(t,n))));break;case 22:if(s=n.memoizedState!==null||br,!s){e=e!==null&&e.memoizedState!==null||Lt,i=br;var r=Lt;br=s,(Lt=e)&&!r?da(t,n,(n.subtreeFlags&8772)!==0):aa(t,n),br=i,Lt=r}break;case 30:break;default:aa(t,n)}}function PC(t){var e=t.alternate;e!==null&&(t.alternate=null,PC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ux(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,qn=!1;function gr(t,e,n){for(n=n.child;n!==null;)IC(t,e,n),n=n.sibling}function IC(t,e,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 26:Lt||Pi(n,e),gr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Lt||Pi(n,e);var s=Et,i=qn;io(n.type)&&(Et=n.stateNode,qn=!1),gr(t,e,n),Ld(n.stateNode),Et=s,qn=i;break;case 5:Lt||Pi(n,e);case 6:if(s=Et,i=qn,Et=null,gr(t,e,n),Et=s,qn=i,Et!==null)if(qn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(n.stateNode)}catch(r){vt(n,e,r)}else try{Et.removeChild(n.stateNode)}catch(r){vt(n,e,r)}break;case 18:Et!==null&&(qn?(t=Et,yS(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),oh(t)):yS(Et,n.stateNode));break;case 4:s=Et,i=qn,Et=n.stateNode.containerInfo,qn=!0,gr(t,e,n),Et=s,qn=i;break;case 0:case 11:case 14:case 15:Lt||$a(2,n,e),Lt||$a(4,n,e),gr(t,e,n);break;case 1:Lt||(Pi(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&AC(n,e,s)),gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:Lt=(s=Lt)||n.memoizedState!==null,gr(t,e,n),Lt=s;break;default:gr(t,e,n)}}function kC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oh(t)}catch(n){vt(e,e.return,n)}}function r4(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new aS),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new aS),e;default:throw Error(te(435,t.tag))}}function sy(t,e){var n=r4(t);e.forEach(function(s){var i=m4.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}function os(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],r=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 27:if(io(c.type)){Et=c.stateNode,qn=!1;break e}break;case 5:Et=c.stateNode,qn=!1;break e;case 3:case 4:Et=c.stateNode.containerInfo,qn=!0;break e}c=c.return}if(Et===null)throw Error(te(160));IC(r,o,i),Et=null,qn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)MC(e,t),e=e.sibling}var ii=null;function MC(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:os(e,t),ls(t),s&4&&($a(3,t,t.return),Bh(3,t),$a(5,t,t.return));break;case 1:os(e,t),ls(t),s&512&&(Lt||n===null||Pi(n,n.return)),s&64&&br&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=ii;if(os(e,t),ls(t),s&512&&(Lt||n===null||Pi(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":r=i.getElementsByTagName("title")[0],(!r||r[kh]||r[An]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(s),i.head.insertBefore(r,i.querySelector("head > title"))),gn(r,s,n),r[An]=t,an(r),s=r;break e;case"link":var o=SS("link","href",i).get(s+(n.href||""));if(o){for(var c=0;c<o.length;c++)if(r=o[c],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(c,1);break t}}r=i.createElement(s),gn(r,s,n),i.head.appendChild(r);break;case"meta":if(o=SS("meta","content",i).get(s+(n.content||""))){for(c=0;c<o.length;c++)if(r=o[c],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(c,1);break t}}r=i.createElement(s),gn(r,s,n),i.head.appendChild(r);break;default:throw Error(te(468,s))}r[An]=t,an(r),s=r}t.stateNode=s}else ES(i,t.type,t.stateNode);else t.stateNode=wS(i,s,t.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?ES(i,t.type,t.stateNode):wS(i,s,t.memoizedProps)):s===null&&t.stateNode!==null&&ey(t,t.memoizedProps,n.memoizedProps)}break;case 27:os(e,t),ls(t),s&512&&(Lt||n===null||Pi(n,n.return)),n!==null&&s&4&&ey(t,t.memoizedProps,n.memoizedProps);break;case 5:if(os(e,t),ls(t),s&512&&(Lt||n===null||Pi(n,n.return)),t.flags&32){i=t.stateNode;try{Vc(i,"")}catch(y){vt(t,t.return,y)}}s&4&&t.stateNode!=null&&(i=t.memoizedProps,ey(t,i,n!==null?n.memoizedProps:i)),s&1024&&(ny=!0);break;case 6:if(os(e,t),ls(t),s&4){if(t.stateNode===null)throw Error(te(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(y){vt(t,t.return,y)}}break;case 3:if(Nm=null,i=ii,ii=_p(e.containerInfo),os(e,t),ii=i,ls(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{oh(e.containerInfo)}catch(y){vt(t,t.return,y)}ny&&(ny=!1,OC(t));break;case 4:s=ii,ii=_p(t.stateNode.containerInfo),os(e,t),ls(t),ii=s;break;case 12:os(e,t),ls(t);break;case 13:os(e,t),ls(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hx=Mi()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,sy(t,s)));break;case 22:i=t.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,h=br,p=Lt;if(br=h||i,Lt=p||d,os(e,t),Lt=p,br=h,ls(t),s&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||d||br||Lt||Io(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){d=n=e;try{if(r=d.stateNode,i)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{c=d.stateNode;var g=d.memoizedProps.style,v=g!=null&&g.hasOwnProperty("display")?g.display:null;c.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(y){vt(d,d.return,y)}}}else if(e.tag===6){if(n===null){d=e;try{d.stateNode.nodeValue=i?"":d.memoizedProps}catch(y){vt(d,d.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,sy(t,n))));break;case 19:os(e,t),ls(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,sy(t,s)));break;case 30:break;case 21:break;default:os(e,t),ls(t)}}function ls(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(CC(s)){n=s;break}s=s.return}if(n==null)throw Error(te(160));switch(n.tag){case 27:var i=n.stateNode,r=ty(t);hp(t,r,i);break;case 5:var o=n.stateNode;n.flags&32&&(Vc(o,""),n.flags&=-33);var c=ty(t);hp(t,c,o);break;case 3:case 4:var d=n.stateNode.containerInfo,h=ty(t);A0(t,h,d);break;default:throw Error(te(161))}}catch(p){vt(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;OC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function aa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)jC(t,e.alternate,e),e=e.sibling}function Io(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:$a(4,e,e.return),Io(e);break;case 1:Pi(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&AC(e,e.return,n),Io(e);break;case 27:Ld(e.stateNode);case 26:case 5:Pi(e,e.return),Io(e);break;case 22:e.memoizedState===null&&Io(e);break;case 30:Io(e);break;default:Io(e)}t=t.sibling}}function da(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=t,r=e,o=r.flags;switch(r.tag){case 0:case 11:case 15:da(i,r,n),Bh(4,r);break;case 1:if(da(i,r,n),s=r,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(h){vt(s,s.return,h)}if(s=r,i=s.updateQueue,i!==null){var c=s.stateNode;try{var d=i.shared.hiddenCallbacks;if(d!==null)for(i.shared.hiddenCallbacks=null,i=0;i<d.length;i++)jN(d[i],c)}catch(h){vt(s,s.return,h)}}n&&o&64&&TC(r),kd(r,r.return);break;case 27:RC(r);case 26:case 5:da(i,r,n),n&&s===null&&o&4&&NC(r),kd(r,r.return);break;case 12:da(i,r,n);break;case 13:da(i,r,n),n&&o&4&&kC(i,r);break;case 22:r.memoizedState===null&&da(i,r,n),kd(r,r.return);break;case 30:break;default:da(i,r,n)}e=e.sibling}}function Ux(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Lh(n))}function zx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Lh(t))}function Ai(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DC(t,e,n,s),e=e.sibling}function DC(t,e,n,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ai(t,e,n,s),i&2048&&Bh(9,e);break;case 1:Ai(t,e,n,s);break;case 3:Ai(t,e,n,s),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Lh(t)));break;case 12:if(i&2048){Ai(t,e,n,s),t=e.stateNode;try{var r=e.memoizedProps,o=r.id,c=r.onPostCommit;typeof c=="function"&&c(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(d){vt(e,e.return,d)}}else Ai(t,e,n,s);break;case 13:Ai(t,e,n,s);break;case 23:break;case 22:r=e.stateNode,o=e.alternate,e.memoizedState!==null?r._visibility&2?Ai(t,e,n,s):Md(t,e):r._visibility&2?Ai(t,e,n,s):(r._visibility|=2,ec(t,e,n,s,(e.subtreeFlags&10256)!==0)),i&2048&&Ux(o,e);break;case 24:Ai(t,e,n,s),i&2048&&zx(e.alternate,e);break;default:Ai(t,e,n,s)}}function ec(t,e,n,s,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=t,o=e,c=n,d=s,h=o.flags;switch(o.tag){case 0:case 11:case 15:ec(r,o,c,d,i),Bh(8,o);break;case 23:break;case 22:var p=o.stateNode;o.memoizedState!==null?p._visibility&2?ec(r,o,c,d,i):Md(r,o):(p._visibility|=2,ec(r,o,c,d,i)),i&&h&2048&&Ux(o.alternate,o);break;case 24:ec(r,o,c,d,i),i&&h&2048&&zx(o.alternate,o);break;default:ec(r,o,c,d,i)}e=e.sibling}}function Md(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,i=s.flags;switch(s.tag){case 22:Md(n,s),i&2048&&Ux(s.alternate,s);break;case 24:Md(n,s),i&2048&&zx(s.alternate,s);break;default:Md(n,s)}e=e.sibling}}var hd=8192;function Fl(t){if(t.subtreeFlags&hd)for(t=t.child;t!==null;)LC(t),t=t.sibling}function LC(t){switch(t.tag){case 26:Fl(t),t.flags&hd&&t.memoizedState!==null&&$4(ii,t.memoizedState,t.memoizedProps);break;case 5:Fl(t);break;case 3:case 4:var e=ii;ii=_p(t.stateNode.containerInfo),Fl(t),ii=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=hd,hd=16777216,Fl(t),hd=e):Fl(t));break;default:Fl(t)}}function VC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function id(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];rn=s,zC(s,t)}VC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)UC(t),t=t.sibling}function UC(t){switch(t.tag){case 0:case 11:case 15:id(t),t.flags&2048&&$a(9,t,t.return);break;case 3:id(t);break;case 12:id(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Tm(t)):id(t);break;default:id(t)}}function Tm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];rn=s,zC(s,t)}VC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:$a(8,e,e.return),Tm(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Tm(e));break;default:Tm(e)}t=t.sibling}}function zC(t,e){for(;rn!==null;){var n=rn;switch(n.tag){case 0:case 11:case 15:$a(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Lh(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,rn=s;else e:for(n=t;rn!==null;){s=rn;var i=s.sibling,r=s.return;if(PC(s),s===n){rn=null;break e}if(i!==null){i.return=r,rn=i;break e}rn=r}}}var a4={getCacheForType:function(t){var e=Nn(Yt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},o4=typeof WeakMap=="function"?WeakMap:Map,ht=0,xt=null,He=null,Je=0,dt=0,cs=null,Na=!1,uu=!1,Bx=!1,Fr=0,kt=0,qa=0,qo=0,Fx=0,Us=0,Hc=0,Od=null,Gn=null,N0=!1,Hx=0,fp=1/0,mp=null,ka=null,mn=0,Ma=null,$c=null,Nc=0,C0=0,R0=null,BC=null,Dd=0,j0=null;function ps(){if(ht&2&&Je!==0)return Je&-Je;if(Ce.T!==null){var t=Uc;return t!==0?t:qx()}return XA()}function FC(){Us===0&&(Us=!(Je&536870912)||rt?WA():536870912);var t=Hs.current;return t!==null&&(t.flags|=32),Us}function gs(t,e,n){(t===xt&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(qc(t,0),Ca(t,Je,Us,!1)),Ih(t,n),(!(ht&2)||t!==xt)&&(t===xt&&(!(ht&2)&&(qo|=n),kt===4&&Ca(t,Je,Us,!1)),Wi(t))}function HC(t,e,n){if(ht&6)throw Error(te(327));var s=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Ph(t,e),i=s?u4(t,e):iy(t,e,!0),r=s;do{if(i===0){uu&&!s&&Ca(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!l4(n)){i=iy(t,e,!1),r=!1;continue}if(i===2){if(r=e,t.errorRecoveryDisabledLanes&r)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var c=t;i=Od;var d=c.current.memoizedState.isDehydrated;if(d&&(qc(c,o).flags|=256),o=iy(c,o,!1),o!==2){if(Bx&&!d){c.errorRecoveryDisabledLanes|=r,qo|=r,i=4;break e}r=Gn,Gn=i,r!==null&&(Gn===null?Gn=r:Gn.push.apply(Gn,r))}i=o}if(r=!1,i!==2)continue}}if(i===1){qc(t,0),Ca(t,e,0,!0);break}e:{switch(s=t,r=i,r){case 0:case 1:throw Error(te(345));case 4:if((e&4194048)!==e)break;case 6:Ca(s,e,Us,!Na);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(te(329))}if((e&62914560)===e&&(i=Hx+300-Mi(),10<i)){if(Ca(s,e,Us,!Na),ug(s,0,!0)!==0)break e;s.timeoutHandle=l2(oS.bind(null,s,n,Gn,mp,N0,e,Us,qo,Hc,Na,r,2,-0,0),i);break e}oS(s,n,Gn,mp,N0,e,Us,qo,Hc,Na,r,0,-0,0)}}break}while(!0);Wi(t)}function oS(t,e,n,s,i,r,o,c,d,h,p,g,v,y){if(t.timeoutHandle=-1,g=e.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(sh={stylesheets:null,count:0,unsuspend:H4},LC(e),g=q4(),g!==null)){t.cancelPendingCommit=g(cS.bind(null,t,e,r,n,s,i,o,c,d,p,1,v,y)),Ca(t,r,o,!h);return}cS(t,e,r,n,s,i,o,c,d)}function l4(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!_s(r(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ca(t,e,n,s){e&=~Fx,e&=~qo,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var i=e;0<i;){var r=31-ms(i),o=1<<r;s[r]=-1,i&=~o}n!==0&&YA(t,n,e)}function xg(){return ht&6?!0:(Fh(0),!1)}function $x(){if(He!==null){if(dt===0)var t=He.return;else t=He,Ar=hl=null,jx(t),Ac=null,eh=0,t=He;for(;t!==null;)EC(t.alternate,t),t=t.return;He=null}}function qc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,A4(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),$x(),xt=t,He=n=jr(t.current,null),Je=e,dt=0,cs=null,Na=!1,uu=Ph(t,e),Bx=!1,Hc=Us=Fx=qo=qa=kt=0,Gn=Od=null,N0=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var i=31-ms(s),r=1<<i;e|=t[i],s&=~r}return Fr=e,mg(),n}function $C(t,e){Ve=null,Ce.H=op,e===Vh||e===gg?(e=U1(),dt=3):e===CN?(e=U1(),dt=4):dt=e===yC?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,cs=e,He===null&&(kt=1,up(t,Ds(e,t.current)))}function qC(){var t=Ce.H;return Ce.H=op,t===null?op:t}function GC(){var t=Ce.A;return Ce.A=a4,t}function P0(){kt=4,Na||(Je&4194048)!==Je&&Hs.current!==null||(uu=!0),!(qa&134217727)&&!(qo&134217727)||xt===null||Ca(xt,Je,Us,!1)}function iy(t,e,n){var s=ht;ht|=2;var i=qC(),r=GC();(xt!==t||Je!==e)&&(mp=null,qc(t,e)),e=!1;var o=kt;e:do try{if(dt!==0&&He!==null){var c=He,d=cs;switch(dt){case 8:$x(),o=6;break e;case 3:case 2:case 9:case 6:Hs.current===null&&(e=!0);var h=dt;if(dt=0,cs=null,_c(t,c,d,h),n&&uu){o=0;break e}break;default:h=dt,dt=0,cs=null,_c(t,c,d,h)}}c4(),o=kt;break}catch(p){$C(t,p)}while(!0);return e&&t.shellSuspendCounter++,Ar=hl=null,ht=s,Ce.H=i,Ce.A=r,He===null&&(xt=null,Je=0,mg()),o}function c4(){for(;He!==null;)KC(He)}function u4(t,e){var n=ht;ht|=2;var s=qC(),i=GC();xt!==t||Je!==e?(mp=null,fp=Mi()+500,qc(t,e)):uu=Ph(t,e);e:do try{if(dt!==0&&He!==null){e=He;var r=cs;t:switch(dt){case 1:dt=0,cs=null,_c(t,e,r,1);break;case 2:case 9:if(V1(r)){dt=0,cs=null,lS(e);break}e=function(){dt!==2&&dt!==9||xt!==t||(dt=7),Wi(t)},r.then(e,e);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:V1(r)?(dt=0,cs=null,lS(e)):(dt=0,cs=null,_c(t,e,r,7));break;case 5:var o=null;switch(He.tag){case 26:o=He.memoizedState;case 5:case 27:var c=He;if(!o||h2(o)){dt=0,cs=null;var d=c.sibling;if(d!==null)He=d;else{var h=c.return;h!==null?(He=h,bg(h)):He=null}break t}}dt=0,cs=null,_c(t,e,r,5);break;case 6:dt=0,cs=null,_c(t,e,r,6);break;case 8:$x(),kt=6;break e;default:throw Error(te(462))}}d4();break}catch(p){$C(t,p)}while(!0);return Ar=hl=null,Ce.H=s,Ce.A=i,ht=n,He!==null?0:(xt=null,Je=0,mg(),kt)}function d4(){for(;He!==null&&!kD();)KC(He)}function KC(t){var e=SC(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,e===null?bg(t):He=e}function lS(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=tS(n,e,e.pendingProps,e.type,void 0,Je);break;case 11:e=tS(n,e,e.pendingProps,e.type.render,e.ref,Je);break;case 5:jx(e);default:EC(n,e),e=He=EN(e,Fr),e=SC(n,e,Fr)}t.memoizedProps=t.pendingProps,e===null?bg(t):He=e}function _c(t,e,n,s){Ar=hl=null,jx(e),Ac=null,eh=0;var i=e.return;try{if(e4(t,i,e,n,Je)){kt=1,up(t,Ds(n,t.current)),He=null;return}}catch(r){if(i!==null)throw He=i,r;kt=1,up(t,Ds(n,t.current)),He=null;return}e.flags&32768?(rt||s===1?t=!0:uu||Je&536870912?t=!1:(Na=t=!0,(s===2||s===9||s===3||s===6)&&(s=Hs.current,s!==null&&s.tag===13&&(s.flags|=16384))),WC(e,t)):bg(e)}function bg(t){var e=t;do{if(e.flags&32768){WC(e,Na);return}t=e.return;var n=n4(e.alternate,e,Fr);if(n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);kt===0&&(kt=5)}function WC(t,e){do{var n=s4(t.alternate,t);if(n!==null){n.flags&=32767,He=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){He=t;return}He=t=n}while(t!==null);kt=6,He=null}function cS(t,e,n,s,i,r,o,c,d){t.cancelPendingCommit=null;do wg();while(mn!==0);if(ht&6)throw Error(te(327));if(e!==null){if(e===t.current)throw Error(te(177));if(r=e.lanes|e.childLanes,r|=vx,HD(t,n,r,o,c,d),t===xt&&(He=xt=null,Je=0),$c=e,Ma=t,Nc=n,C0=r,R0=i,BC=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,p4(Qm,function(){return JC(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Ce.T,Ce.T=null,i=at.p,at.p=2,o=ht,ht|=4;try{i4(t,e,n)}finally{ht=o,at.p=i,Ce.T=s}}mn=1,ZC(),YC(),QC()}}function ZC(){if(mn===1){mn=0;var t=Ma,e=$c,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ce.T,Ce.T=null;var s=at.p;at.p=2;var i=ht;ht|=4;try{MC(e,t);var r=O0,o=gN(t.containerInfo),c=r.focusedElem,d=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&pN(c.ownerDocument.documentElement,c)){if(d!==null&&gx(c)){var h=d.start,p=d.end;if(p===void 0&&(p=h),"selectionStart"in c)c.selectionStart=h,c.selectionEnd=Math.min(p,c.value.length);else{var g=c.ownerDocument||document,v=g&&g.defaultView||window;if(v.getSelection){var y=v.getSelection(),C=c.textContent.length,S=Math.min(d.start,C),R=d.end===void 0?S:Math.min(d.end,C);!y.extend&&S>R&&(o=R,R=S,S=o);var E=j1(c,S),T=j1(c,R);if(E&&T&&(y.rangeCount!==1||y.anchorNode!==E.node||y.anchorOffset!==E.offset||y.focusNode!==T.node||y.focusOffset!==T.offset)){var N=g.createRange();N.setStart(E.node,E.offset),y.removeAllRanges(),S>R?(y.addRange(N),y.extend(T.node,T.offset)):(N.setEnd(T.node,T.offset),y.addRange(N))}}}}for(g=[],y=c;y=y.parentNode;)y.nodeType===1&&g.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<g.length;c++){var O=g[c];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}wp=!!M0,O0=M0=null}finally{ht=i,at.p=s,Ce.T=n}}t.current=e,mn=2}}function YC(){if(mn===2){mn=0;var t=Ma,e=$c,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ce.T,Ce.T=null;var s=at.p;at.p=2;var i=ht;ht|=4;try{jC(t,e.alternate,e)}finally{ht=i,at.p=s,Ce.T=n}}mn=3}}function QC(){if(mn===4||mn===3){mn=0,MD();var t=Ma,e=$c,n=Nc,s=BC;e.subtreeFlags&10256||e.flags&10256?mn=5:(mn=0,$c=Ma=null,XC(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ka=null),cx(n),e=e.stateNode,fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(jh,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Ce.T,i=at.p,at.p=2,Ce.T=null;try{for(var r=t.onRecoverableError,o=0;o<s.length;o++){var c=s[o];r(c.value,{componentStack:c.stack})}}finally{Ce.T=e,at.p=i}}Nc&3&&wg(),Wi(t),i=t.pendingLanes,n&4194090&&i&42?t===j0?Dd++:(Dd=0,j0=t):Dd=0,Fh(0)}}function XC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Lh(e)))}function wg(t){return ZC(),YC(),QC(),JC()}function JC(){if(mn!==5)return!1;var t=Ma,e=C0;C0=0;var n=cx(Nc),s=Ce.T,i=at.p;try{at.p=32>n?32:n,Ce.T=null,n=R0,R0=null;var r=Ma,o=Nc;if(mn=0,$c=Ma=null,Nc=0,ht&6)throw Error(te(331));var c=ht;if(ht|=4,UC(r.current),DC(r,r.current,o,n),ht=c,Fh(0,!1),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(jh,r)}catch{}return!0}finally{at.p=i,Ce.T=s,XC(t,e)}}function uS(t,e,n){e=Ds(n,e),e=S0(t.stateNode,e,2),t=Ia(t,e,2),t!==null&&(Ih(t,2),Wi(t))}function vt(t,e,n){if(t.tag===3)uS(t,t,n);else for(;e!==null;){if(e.tag===3){uS(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ka===null||!ka.has(s))){t=Ds(n,t),n=gC(2),s=Ia(e,n,2),s!==null&&(vC(n,s,e,t),Ih(s,2),Wi(s));break}}e=e.return}}function ry(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new o4;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(Bx=!0,i.add(n),t=h4.bind(null,t,e,n),e.then(t,t))}function h4(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,xt===t&&(Je&n)===n&&(kt===4||kt===3&&(Je&62914560)===Je&&300>Mi()-Hx?!(ht&2)&&qc(t,0):Fx|=n,Hc===Je&&(Hc=0)),Wi(t)}function e2(t,e){e===0&&(e=ZA()),t=cu(t,e),t!==null&&(Ih(t,e),Wi(t))}function f4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),e2(t,n)}function m4(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(te(314))}s!==null&&s.delete(e),e2(t,n)}function p4(t,e){return ox(t,e)}var pp=null,tc=null,I0=!1,gp=!1,ay=!1,Go=0;function Wi(t){t!==tc&&t.next===null&&(tc===null?pp=tc=t:tc=tc.next=t),gp=!0,I0||(I0=!0,v4())}function Fh(t,e){if(!ay&&gp){ay=!0;do for(var n=!1,s=pp;s!==null;){if(t!==0){var i=s.pendingLanes;if(i===0)var r=0;else{var o=s.suspendedLanes,c=s.pingedLanes;r=(1<<31-ms(42|t)+1)-1,r&=i&~(o&~c),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,dS(s,r))}else r=Je,r=ug(s,s===xt?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Ph(s,r)||(n=!0,dS(s,r));s=s.next}while(n);ay=!1}}function g4(){t2()}function t2(){gp=I0=!1;var t=0;Go!==0&&(T4()&&(t=Go),Go=0);for(var e=Mi(),n=null,s=pp;s!==null;){var i=s.next,r=n2(s,e);r===0?(s.next=null,n===null?pp=i:n.next=i,i===null&&(tc=n)):(n=s,(t!==0||r&3)&&(gp=!0)),s=i}Fh(t)}function n2(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var o=31-ms(r),c=1<<o,d=i[o];d===-1?(!(c&n)||c&s)&&(i[o]=FD(c,e)):d<=e&&(t.expiredLanes|=c),r&=~c}if(e=xt,n=Je,n=ug(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Iv(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ph(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&Iv(s),cx(n)){case 2:case 8:n=GA;break;case 32:n=Qm;break;case 268435456:n=KA;break;default:n=Qm}return s=s2.bind(null,t),n=ox(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&Iv(s),t.callbackPriority=2,t.callbackNode=null,2}function s2(t,e){if(mn!==0&&mn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(wg()&&t.callbackNode!==n)return null;var s=Je;return s=ug(t,t===xt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(HC(t,s,e),n2(t,Mi()),t.callbackNode!=null&&t.callbackNode===n?s2.bind(null,t):null)}function dS(t,e){if(wg())return null;HC(t,e,!0)}function v4(){N4(function(){ht&6?ox(qA,g4):t2()})}function qx(){return Go===0&&(Go=WA()),Go}function hS(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vm(""+t)}function fS(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function y4(t,e,n,s,i){if(e==="submit"&&n&&n.stateNode===i){var r=hS((i[Xn]||null).action),o=s.submitter;o&&(e=(e=o[Xn]||null)?hS(e.formAction):o.getAttribute("formAction"),e!==null&&(r=e,o=null));var c=new dg("action","action",null,s,i);t.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Go!==0){var d=o?fS(i,o):new FormData(i);b0(n,{pending:!0,data:d,method:i.method,action:r},null,d)}}else typeof r=="function"&&(c.preventDefault(),d=o?fS(i,o):new FormData(i),b0(n,{pending:!0,data:d,method:i.method,action:r},r,d))},currentTarget:i}]})}}for(var oy=0;oy<c0.length;oy++){var ly=c0[oy],_4=ly.toLowerCase(),x4=ly[0].toUpperCase()+ly.slice(1);mi(_4,"on"+x4)}mi(yN,"onAnimationEnd");mi(_N,"onAnimationIteration");mi(xN,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(LL,"onTransitionRun");mi(VL,"onTransitionStart");mi(UL,"onTransitionCancel");mi(bN,"onTransitionEnd");Lc("onMouseEnter",["mouseout","mouseover"]);Lc("onMouseLeave",["mouseout","mouseover"]);Lc("onPointerEnter",["pointerout","pointerover"]);Lc("onPointerLeave",["pointerout","pointerover"]);cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(th));function i2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var c=s[o],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==r&&i.isPropagationStopped())break e;r=c,i.currentTarget=h;try{r(i)}catch(p){cp(p)}i.currentTarget=null,r=d}else for(o=0;o<s.length;o++){if(c=s[o],d=c.instance,h=c.currentTarget,c=c.listener,d!==r&&i.isPropagationStopped())break e;r=c,i.currentTarget=h;try{r(i)}catch(p){cp(p)}i.currentTarget=null,r=d}}}}function Fe(t,e){var n=e[n0];n===void 0&&(n=e[n0]=new Set);var s=t+"__bubble";n.has(s)||(r2(e,t,2,!1),n.add(s))}function cy(t,e,n){var s=0;e&&(s|=4),r2(n,t,s,e)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Gx(t){if(!t[Kf]){t[Kf]=!0,JA.forEach(function(n){n!=="selectionchange"&&(b4.has(n)||cy(n,!1,t),cy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kf]||(e[Kf]=!0,cy("selectionchange",!1,e))}}function r2(t,e,n,s){switch(v2(e)){case 2:var i=W4;break;case 8:i=Z4;break;default:i=Yx}n=i.bind(null,e,n,t),i=void 0,!a0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uy(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===i)break;if(o===4)for(o=s.return;o!==null;){var d=o.tag;if((d===3||d===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;c!==null;){if(o=uc(c),o===null)return;if(d=o.tag,d===5||d===6||d===26||d===27){s=r=o;continue e}c=c.parentNode}}s=s.return}oN(function(){var h=r,p=hx(n),g=[];e:{var v=wN.get(t);if(v!==void 0){var y=dg,C=t;switch(t){case"keypress":if(_m(n)===0)break e;case"keydown":case"keyup":y=pL;break;case"focusin":C="focus",y=zv;break;case"focusout":C="blur",y=zv;break;case"beforeblur":case"afterblur":y=zv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=x1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=sL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=yL;break;case yN:case _N:case xN:y=aL;break;case bN:y=xL;break;case"scroll":case"scrollend":y=tL;break;case"wheel":y=wL;break;case"copy":case"cut":case"paste":y=lL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=w1;break;case"toggle":case"beforetoggle":y=EL}var S=(e&4)!==0,R=!S&&(t==="scroll"||t==="scrollend"),E=S?v!==null?v+"Capture":null:v;S=[];for(var T=h,N;T!==null;){var O=T;if(N=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||N===null||E===null||(O=Zd(T,E),O!=null&&S.push(nh(T,O,N))),R)break;T=T.return}0<S.length&&(v=new y(v,C,null,n,p),g.push({event:v,listeners:S}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==r0&&(C=n.relatedTarget||n.fromElement)&&(uc(C)||C[ou]))break e;if((y||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=h,C=C?uc(C):null,C!==null&&(R=Rh(C),S=C.tag,C!==R||S!==5&&S!==27&&S!==6)&&(C=null)):(y=null,C=h),y!==C)){if(S=x1,O="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(S=w1,O="onPointerLeave",E="onPointerEnter",T="pointer"),R=y==null?v:dd(y),N=C==null?v:dd(C),v=new S(O,T+"leave",y,n,p),v.target=R,v.relatedTarget=N,O=null,uc(p)===h&&(S=new S(E,T+"enter",C,n,p),S.target=N,S.relatedTarget=R,O=S),R=O,y&&C)t:{for(S=y,E=C,T=0,N=S;N;N=Hl(N))T++;for(N=0,O=E;O;O=Hl(O))N++;for(;0<T-N;)S=Hl(S),T--;for(;0<N-T;)E=Hl(E),N--;for(;T--;){if(S===E||E!==null&&S===E.alternate)break t;S=Hl(S),E=Hl(E)}S=null}else S=null;y!==null&&mS(g,v,y,S,!1),C!==null&&R!==null&&mS(g,R,C,S,!0)}}e:{if(v=h?dd(h):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var H=A1;else if(T1(v))if(fN)H=ML;else{H=IL;var G=PL}else y=v.nodeName,!y||y.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?h&&dx(h.elementType)&&(H=A1):H=kL;if(H&&(H=H(t,h))){hN(g,H,n,p);break e}G&&G(t,v,h),t==="focusout"&&h&&v.type==="number"&&h.memoizedProps.value!=null&&i0(v,"number",v.value)}switch(G=h?dd(h):window,t){case"focusin":(T1(G)||G.contentEditable==="true")&&(fc=G,o0=h,Ad=null);break;case"focusout":Ad=o0=fc=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,P1(g,n,p);break;case"selectionchange":if(DL)break;case"keydown":case"keyup":P1(g,n,p)}var j;if(px)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else hc?uN(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(cN&&n.locale!=="ko"&&(hc||P!=="onCompositionStart"?P==="onCompositionEnd"&&hc&&(j=lN()):(Aa=p,fx="value"in Aa?Aa.value:Aa.textContent,hc=!0)),G=vp(h,P),0<G.length&&(P=new b1(P,t,null,n,p),g.push({event:P,listeners:G}),j?P.data=j:(j=dN(n),j!==null&&(P.data=j)))),(j=AL?NL(t,n):CL(t,n))&&(P=vp(h,"onBeforeInput"),0<P.length&&(G=new b1("onBeforeInput","beforeinput",null,n,p),g.push({event:G,listeners:P}),G.data=j)),y4(g,t,h,n,p)}i2(g,e)})}function nh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vp(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Zd(t,n),i!=null&&s.unshift(nh(t,i,r)),i=Zd(t,e),i!=null&&s.push(nh(t,i,r))),t.tag===3)return s;t=t.return}return[]}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mS(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var c=n,d=c.alternate,h=c.stateNode;if(c=c.tag,d!==null&&d===s)break;c!==5&&c!==26&&c!==27||h===null||(d=h,i?(h=Zd(n,r),h!=null&&o.unshift(nh(n,h,d))):i||(h=Zd(n,r),h!=null&&o.push(nh(n,h,d)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var w4=/\r\n?/g,S4=/\u0000|\uFFFD/g;function pS(t){return(typeof t=="string"?t:""+t).replace(w4,`
`).replace(S4,"")}function a2(t,e){return e=pS(e),pS(t)===e}function Sg(){}function mt(t,e,n,s,i,r){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Vc(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Vc(t,""+s);break;case"className":zf(t,"class",s);break;case"tabIndex":zf(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":zf(t,n,s);break;case"style":aN(t,s,r);break;case"data":if(e!=="object"){zf(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=vm(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&mt(t,e,"name",i.name,i,null),mt(t,e,"formEncType",i.formEncType,i,null),mt(t,e,"formMethod",i.formMethod,i,null),mt(t,e,"formTarget",i.formTarget,i,null)):(mt(t,e,"encType",i.encType,i,null),mt(t,e,"method",i.method,i,null),mt(t,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=vm(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Sg);break;case"onScroll":s!=null&&Fe("scroll",t);break;case"onScrollEnd":s!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(te(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(te(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=vm(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),gm(t,"popover",s);break;case"xlinkActuate":mr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":mr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":mr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":mr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":mr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":mr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":mr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":mr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":mr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":gm(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=JD.get(n)||n,gm(t,n,s))}}function k0(t,e,n,s,i,r){switch(n){case"style":aN(t,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(te(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(te(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Vc(t,s):(typeof s=="number"||typeof s=="bigint")&&Vc(t,""+s);break;case"onScroll":s!=null&&Fe("scroll",t);break;case"onScrollEnd":s!=null&&Fe("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Sg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eN.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),r=t[Xn]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,i),typeof s=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,i);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):gm(t,n,s)}}}function gn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var s=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(o!=null)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(te(137,e));default:mt(t,e,r,o,n,null)}}i&&mt(t,e,"srcSet",n.srcSet,n,null),s&&mt(t,e,"src",n.src,n,null);return;case"input":Fe("invalid",t);var c=r=o=i=null,d=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var p=n[s];if(p!=null)switch(s){case"name":i=p;break;case"type":o=p;break;case"checked":d=p;break;case"defaultChecked":h=p;break;case"value":r=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(te(137,e));break;default:mt(t,e,s,p,n,null)}}sN(t,r,c,d,h,o,i,!1),Xm(t);return;case"select":Fe("invalid",t),s=o=r=null;for(i in n)if(n.hasOwnProperty(i)&&(c=n[i],c!=null))switch(i){case"value":r=c;break;case"defaultValue":o=c;break;case"multiple":s=c;default:mt(t,e,i,c,n,null)}e=r,n=o,t.multiple=!!s,e!=null?bc(t,!!s,e,!1):n!=null&&bc(t,!!s,n,!0);return;case"textarea":Fe("invalid",t),r=i=s=null;for(o in n)if(n.hasOwnProperty(o)&&(c=n[o],c!=null))switch(o){case"value":s=c;break;case"defaultValue":i=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(te(91));break;default:mt(t,e,o,c,n,null)}rN(t,s,i,r),Xm(t);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(s=n[d],s!=null))switch(d){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:mt(t,e,d,s,n,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(s=0;s<th.length;s++)Fe(th[s],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(te(137,e));default:mt(t,e,h,s,n,null)}return;default:if(dx(e)){for(p in n)n.hasOwnProperty(p)&&(s=n[p],s!==void 0&&k0(t,e,p,s,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(s=n[c],s!=null&&mt(t,e,c,s,n,null))}function E4(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,o=null,c=null,d=null,h=null,p=null;for(y in n){var g=n[y];if(n.hasOwnProperty(y)&&g!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":d=g;default:s.hasOwnProperty(y)||mt(t,e,y,null,s,g)}}for(var v in s){var y=s[v];if(g=n[v],s.hasOwnProperty(v)&&(y!=null||g!=null))switch(v){case"type":r=y;break;case"name":i=y;break;case"checked":h=y;break;case"defaultChecked":p=y;break;case"value":o=y;break;case"defaultValue":c=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(te(137,e));break;default:y!==g&&mt(t,e,v,y,s,g)}}s0(t,o,c,d,h,p,r,i);return;case"select":y=o=c=v=null;for(r in n)if(d=n[r],n.hasOwnProperty(r)&&d!=null)switch(r){case"value":break;case"multiple":y=d;default:s.hasOwnProperty(r)||mt(t,e,r,null,s,d)}for(i in s)if(r=s[i],d=n[i],s.hasOwnProperty(i)&&(r!=null||d!=null))switch(i){case"value":v=r;break;case"defaultValue":c=r;break;case"multiple":o=r;default:r!==d&&mt(t,e,i,r,s,d)}e=c,n=o,s=y,v!=null?bc(t,!!n,v,!1):!!s!=!!n&&(e!=null?bc(t,!!n,e,!0):bc(t,!!n,n?[]:"",!1));return;case"textarea":y=v=null;for(c in n)if(i=n[c],n.hasOwnProperty(c)&&i!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:mt(t,e,c,null,s,i)}for(o in s)if(i=s[o],r=n[o],s.hasOwnProperty(o)&&(i!=null||r!=null))switch(o){case"value":v=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(te(91));break;default:i!==r&&mt(t,e,o,i,s,r)}iN(t,v,y);return;case"option":for(var C in n)if(v=n[C],n.hasOwnProperty(C)&&v!=null&&!s.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:mt(t,e,C,null,s,v)}for(d in s)if(v=s[d],y=n[d],s.hasOwnProperty(d)&&v!==y&&(v!=null||y!=null))switch(d){case"selected":t.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:mt(t,e,d,v,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)v=n[S],n.hasOwnProperty(S)&&v!=null&&!s.hasOwnProperty(S)&&mt(t,e,S,null,s,v);for(h in s)if(v=s[h],y=n[h],s.hasOwnProperty(h)&&v!==y&&(v!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(te(137,e));break;default:mt(t,e,h,v,s,y)}return;default:if(dx(e)){for(var R in n)v=n[R],n.hasOwnProperty(R)&&v!==void 0&&!s.hasOwnProperty(R)&&k0(t,e,R,void 0,s,v);for(p in s)v=s[p],y=n[p],!s.hasOwnProperty(p)||v===y||v===void 0&&y===void 0||k0(t,e,p,v,s,y);return}}for(var E in n)v=n[E],n.hasOwnProperty(E)&&v!=null&&!s.hasOwnProperty(E)&&mt(t,e,E,null,s,v);for(g in s)v=s[g],y=n[g],!s.hasOwnProperty(g)||v===y||v==null&&y==null||mt(t,e,g,v,s,y)}var M0=null,O0=null;function yp(t){return t.nodeType===9?t:t.ownerDocument}function gS(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o2(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function D0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dy=null;function T4(){var t=window.event;return t&&t.type==="popstate"?t===dy?!1:(dy=t,!0):(dy=null,!1)}var l2=typeof setTimeout=="function"?setTimeout:void 0,A4=typeof clearTimeout=="function"?clearTimeout:void 0,vS=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof vS<"u"?function(t){return vS.resolve(null).then(t).catch(C4)}:l2;function C4(t){setTimeout(function(){throw t})}function io(t){return t==="head"}function yS(t,e){var n=e,s=0,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<s&&8>s){n=s;var o=t.ownerDocument;if(n&1&&Ld(o.documentElement),n&2&&Ld(o.body),n&4)for(n=o.head,Ld(n),o=n.firstChild;o;){var c=o.nextSibling,d=o.nodeName;o[kh]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=c}}if(i===0){t.removeChild(r),oh(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:s=n.charCodeAt(0)-48;else s=0;n=r}while(n);oh(e)}function L0(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":L0(n),ux(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function R4(t,e,n,s){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[kh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function j4(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=li(t.nextSibling),t===null))return null;return t}function V0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function P4(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var U0=null;function _S(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function c2(t,e,n){switch(e=yp(n),t){case"html":if(t=e.documentElement,!t)throw Error(te(452));return t;case"head":if(t=e.head,!t)throw Error(te(453));return t;case"body":if(t=e.body,!t)throw Error(te(454));return t;default:throw Error(te(451))}}function Ld(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ux(t)}var $s=new Map,xS=new Set;function _p(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yr=at.d;at.d={f:I4,r:k4,D:M4,C:O4,L:D4,m:L4,X:U4,S:V4,M:z4};function I4(){var t=Yr.f(),e=xg();return t||e}function k4(t){var e=lu(t);e!==null&&e.tag===5&&e.type==="form"?nC(e):Yr.r(t)}var du=typeof document>"u"?null:document;function u2(t,e,n){var s=du;if(s&&typeof e=="string"&&e){var i=Os(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),xS.has(i)||(xS.add(i),t={rel:t,crossOrigin:n,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),gn(e,"link",t),an(e),s.head.appendChild(e)))}}function M4(t){Yr.D(t),u2("dns-prefetch",t,null)}function O4(t,e){Yr.C(t,e),u2("preconnect",t,e)}function D4(t,e,n){Yr.L(t,e,n);var s=du;if(s&&t&&e){var i='link[rel="preload"][as="'+Os(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Os(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Os(n.imageSizes)+'"]')):i+='[href="'+Os(t)+'"]';var r=i;switch(e){case"style":r=Gc(t);break;case"script":r=hu(t)}$s.has(r)||(t=St({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),$s.set(r,t),s.querySelector(i)!==null||e==="style"&&s.querySelector(Hh(r))||e==="script"&&s.querySelector($h(r))||(e=s.createElement("link"),gn(e,"link",t),an(e),s.head.appendChild(e)))}}function L4(t,e){Yr.m(t,e);var n=du;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Os(s)+'"][href="'+Os(t)+'"]',r=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=hu(t)}if(!$s.has(r)&&(t=St({rel:"modulepreload",href:t},e),$s.set(r,t),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($h(r)))return}s=n.createElement("link"),gn(s,"link",t),an(s),n.head.appendChild(s)}}}function V4(t,e,n){Yr.S(t,e,n);var s=du;if(s&&t){var i=xc(s).hoistableStyles,r=Gc(t);e=e||"default";var o=i.get(r);if(!o){var c={loading:0,preload:null};if(o=s.querySelector(Hh(r)))c.loading=5;else{t=St({rel:"stylesheet",href:t,"data-precedence":e},n),(n=$s.get(r))&&Kx(t,n);var d=o=s.createElement("link");an(d),gn(d,"link",t),d._p=new Promise(function(h,p){d.onload=h,d.onerror=p}),d.addEventListener("load",function(){c.loading|=1}),d.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Am(o,e,s)}o={type:"stylesheet",instance:o,count:1,state:c},i.set(r,o)}}}function U4(t,e){Yr.X(t,e);var n=du;if(n&&t){var s=xc(n).hoistableScripts,i=hu(t),r=s.get(i);r||(r=n.querySelector($h(i)),r||(t=St({src:t,async:!0},e),(e=$s.get(i))&&Wx(t,e),r=n.createElement("script"),an(r),gn(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function z4(t,e){Yr.M(t,e);var n=du;if(n&&t){var s=xc(n).hoistableScripts,i=hu(t),r=s.get(i);r||(r=n.querySelector($h(i)),r||(t=St({src:t,async:!0,type:"module"},e),(e=$s.get(i))&&Wx(t,e),r=n.createElement("script"),an(r),gn(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function bS(t,e,n,s){var i=(i=ja.current)?_p(i):null;if(!i)throw Error(te(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Gc(n.href),n=xc(i).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Gc(n.href);var r=xc(i).hoistableStyles,o=r.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,o),(r=i.querySelector(Hh(t)))&&!r._p&&(o.instance=r,o.state.loading=5),$s.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$s.set(t,n),r||B4(i,t,n,o.state))),e&&s===null)throw Error(te(528,""));return o}if(e&&s!==null)throw Error(te(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hu(n),n=xc(i).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(te(444,t))}}function Gc(t){return'href="'+Os(t)+'"'}function Hh(t){return'link[rel="stylesheet"]['+t+"]"}function d2(t){return St({},t,{"data-precedence":t.precedence,precedence:null})}function B4(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),gn(e,"link",n),an(e),t.head.appendChild(e))}function hu(t){return'[src="'+Os(t)+'"]'}function $h(t){return"script[async]"+t}function wS(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+Os(n.href)+'"]');if(s)return e.instance=s,an(s),s;var i=St({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),an(s),gn(s,"style",i),Am(s,n.precedence,t),e.instance=s;case"stylesheet":i=Gc(n.href);var r=t.querySelector(Hh(i));if(r)return e.state.loading|=4,e.instance=r,an(r),r;s=d2(n),(i=$s.get(i))&&Kx(s,i),r=(t.ownerDocument||t).createElement("link"),an(r);var o=r;return o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),gn(r,"link",s),e.state.loading|=4,Am(r,n.precedence,t),e.instance=r;case"script":return r=hu(n.src),(i=t.querySelector($h(r)))?(e.instance=i,an(i),i):(s=n,(i=$s.get(r))&&(s=St({},n),Wx(s,i)),t=t.ownerDocument||t,i=t.createElement("script"),an(i),gn(i,"link",s),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(te(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Am(s,n.precedence,t));return e.instance}function Am(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,r=i,o=0;o<s.length;o++){var c=s[o];if(c.dataset.precedence===e)r=c;else if(r!==i)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Kx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Wx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Nm=null;function SS(t,e,n){if(Nm===null){var s=new Map,i=Nm=new Map;i.set(n,s)}else i=Nm,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var r=n[i];if(!(r[kh]||r[An]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var o=r.getAttribute(e)||"";o=t+o;var c=s.get(o);c?c.push(r):s.set(o,[r])}}return s}function ES(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function F4(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function h2(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var sh=null;function H4(){}function $4(t,e,n){if(sh===null)throw Error(te(475));var s=sh;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Gc(n.href),r=t.querySelector(Hh(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=xp.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=r,an(r);return}r=t.ownerDocument||t,n=d2(n),(i=$s.get(i))&&Kx(n,i),r=r.createElement("link"),an(r);var o=r;o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),gn(r,"link",n),e.instance=r}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=xp.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function q4(){if(sh===null)throw Error(te(475));var t=sh;return t.stylesheets&&t.count===0&&z0(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&z0(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function xp(){if(this.count--,this.count===0){if(this.stylesheets)z0(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bp=null;function z0(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bp=new Map,e.forEach(G4,t),bp=null,xp.call(t))}function G4(t,e){if(!(e.state.loading&4)){var n=bp.get(t);if(n)var s=n.get(null);else{n=new Map,bp.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var o=i[r];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),s=o)}s&&n.set(null,s)}i=e.instance,o=i.getAttribute("data-precedence"),r=n.get(o)||s,r===s&&n.set(null,i),n.set(o,i),this.count++,s=xp.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),r?r.parentNode.insertBefore(i,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var ih={$$typeof:Sr,Provider:null,Consumer:null,_currentValue:zo,_currentValue2:zo,_threadCount:0};function K4(t,e,n,s,i,r,o,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kv(0),this.hiddenUpdates=kv(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function f2(t,e,n,s,i,r,o,c,d,h,p,g){return t=new K4(t,e,n,o,c,d,h,g),e=1,r===!0&&(e|=24),r=ds(3,null,null,e),t.current=r,r.stateNode=t,e=wx(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:e},Ex(r),t}function m2(t){return t?(t=gc,t):gc}function p2(t,e,n,s,i,r){i=m2(i),s.context===null?s.context=i:s.pendingContext=i,s=Pa(e),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=Ia(t,s,e),n!==null&&(gs(n,t,e),Rd(n,t,e))}function TS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zx(t,e){TS(t,e),(t=t.alternate)&&TS(t,e)}function g2(t){if(t.tag===13){var e=cu(t,67108864);e!==null&&gs(e,t,67108864),Zx(t,67108864)}}var wp=!0;function W4(t,e,n,s){var i=Ce.T;Ce.T=null;var r=at.p;try{at.p=2,Yx(t,e,n,s)}finally{at.p=r,Ce.T=i}}function Z4(t,e,n,s){var i=Ce.T;Ce.T=null;var r=at.p;try{at.p=8,Yx(t,e,n,s)}finally{at.p=r,Ce.T=i}}function Yx(t,e,n,s){if(wp){var i=B0(s);if(i===null)uy(t,e,s,Sp,n),AS(t,s);else if(Q4(i,t,e,n,s))s.stopPropagation();else if(AS(t,s),e&4&&-1<Y4.indexOf(t)){for(;i!==null;){var r=lu(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var o=jo(r.pendingLanes);if(o!==0){var c=r;for(c.pendingLanes|=2,c.entangledLanes|=2;o;){var d=1<<31-ms(o);c.entanglements[1]|=d,o&=~d}Wi(r),!(ht&6)&&(fp=Mi()+500,Fh(0))}}break;case 13:c=cu(r,2),c!==null&&gs(c,r,2),xg(),Zx(r,2)}if(r=B0(s),r===null&&uy(t,e,s,Sp,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else uy(t,e,s,null,n)}}function B0(t){return t=hx(t),Qx(t)}var Sp=null;function Qx(t){if(Sp=null,t=uc(t),t!==null){var e=Rh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=BA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Sp=t,null}function v2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(OD()){case qA:return 2;case GA:return 8;case Qm:case DD:return 32;case KA:return 268435456;default:return 32}default:return 32}}var F0=!1,Oa=null,Da=null,La=null,rh=new Map,ah=new Map,xa=[],Y4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AS(t,e){switch(t){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":rh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(e.pointerId)}}function rd(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=lu(e),e!==null&&g2(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Q4(t,e,n,s,i){switch(e){case"focusin":return Oa=rd(Oa,t,e,n,s,i),!0;case"dragenter":return Da=rd(Da,t,e,n,s,i),!0;case"mouseover":return La=rd(La,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return rh.set(r,rd(rh.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,ah.set(r,rd(ah.get(r)||null,t,e,n,s,i)),!0}return!1}function y2(t){var e=uc(t.target);if(e!==null){var n=Rh(e);if(n!==null){if(e=n.tag,e===13){if(e=BA(n),e!==null){t.blockedOn=e,$D(t.priority,function(){if(n.tag===13){var s=ps();s=lx(s);var i=cu(n,s);i!==null&&gs(i,n,s),Zx(n,s)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=B0(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);r0=s,n.target.dispatchEvent(s),r0=null}else return e=lu(n),e!==null&&g2(e),t.blockedOn=n,!1;e.shift()}return!0}function NS(t,e,n){Cm(t)&&n.delete(e)}function X4(){F0=!1,Oa!==null&&Cm(Oa)&&(Oa=null),Da!==null&&Cm(Da)&&(Da=null),La!==null&&Cm(La)&&(La=null),rh.forEach(NS),ah.forEach(NS)}function Wf(t,e){t.blockedOn===e&&(t.blockedOn=null,F0||(F0=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,X4)))}var Zf=null;function CS(t){Zf!==t&&(Zf=t,en.unstable_scheduleCallback(en.unstable_NormalPriority,function(){Zf===t&&(Zf=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],i=t[e+2];if(typeof s!="function"){if(Qx(s||n)===null)continue;break}var r=lu(n);r!==null&&(t.splice(e,3),e-=3,b0(r,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function oh(t){function e(d){return Wf(d,t)}Oa!==null&&Wf(Oa,t),Da!==null&&Wf(Da,t),La!==null&&Wf(La,t),rh.forEach(e),ah.forEach(e);for(var n=0;n<xa.length;n++){var s=xa[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<xa.length&&(n=xa[0],n.blockedOn===null);)y2(n),n.blockedOn===null&&xa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],r=n[s+1],o=i[Xn]||null;if(typeof r=="function")o||CS(n);else if(o){var c=null;if(r&&r.hasAttribute("formAction")){if(i=r,o=r[Xn]||null)c=o.formAction;else if(Qx(i)!==null)continue}else c=o.action;typeof c=="function"?n[s+1]=c:(n.splice(s,3),s-=3),CS(n)}}}function Xx(t){this._internalRoot=t}Eg.prototype.render=Xx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));var n=e.current,s=ps();p2(n,s,t,e,null,null)};Eg.prototype.unmount=Xx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;p2(t.current,2,null,t,null,null),xg(),e[ou]=null}};function Eg(t){this._internalRoot=t}Eg.prototype.unstable_scheduleHydration=function(t){if(t){var e=XA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xa.length&&e!==0&&e<xa[n].priority;n++);xa.splice(n,0,t),n===0&&y2(t)}};var RS=UA.version;if(RS!=="19.1.1")throw Error(te(527,RS,"19.1.1"));at.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=CD(e),t=t!==null?FA(t):null,t=t===null?null:t.stateNode,t};var J4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ce,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{jh=Yf.inject(J4),fs=Yf}catch{}}cg.createRoot=function(t,e){if(!zA(t))throw Error(te(299));var n=!1,s="",i=fC,r=mC,o=pC,c=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(c=e.unstable_transitionCallbacks)),e=f2(t,1,!1,null,null,n,s,i,r,o,c,null),t[ou]=e.current,Gx(t),new Xx(e)};cg.hydrateRoot=function(t,e,n){if(!zA(t))throw Error(te(299));var s=!1,i="",r=fC,o=mC,c=pC,d=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(d=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=f2(t,1,!0,e,n??null,s,i,r,o,c,d,h),e.context=m2(null),n=e.current,s=ps(),s=lx(s),i=Pa(s),i.callback=null,Ia(n,i,s),n=s,e.current.lanes=n,Ih(e,n),Wi(e),t[ou]=e.current,Gx(t),new Eg(e)};cg.version="19.1.1";function _2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_2)}catch(t){console.error(t)}}_2(),DA.exports=cg;var e3=DA.exports,t3=(t,e,n,s,i,r,o,c)=>{let d=document.documentElement,h=["light","dark"];function p(y){(Array.isArray(t)?t:[t]).forEach(C=>{let S=C==="class",R=S&&r?i.map(E=>r[E]||E):i;S?(d.classList.remove(...R),d.classList.add(r&&r[y]?r[y]:y)):d.setAttribute(C,y)}),g(y)}function g(y){c&&h.includes(y)&&(d.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let y=localStorage.getItem(e)||n,C=o&&y==="system"?v():y;p(C)}catch{}},n3=b.createContext(void 0),s3={setTheme:t=>{},themes:[]},i3=()=>{var t;return(t=b.useContext(n3))!=null?t:s3};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:r,value:o,themes:c,nonce:d,scriptProps:h})=>{let p=JSON.stringify([n,e,r,t,c,o,s,i]).slice(1,-1);return b.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${t3.toString()})(${p})`}})});var r3=t=>{switch(t){case"success":return l3;case"info":return u3;case"warning":return c3;case"error":return d3;default:return null}},a3=Array(12).fill(0),o3=({visible:t,className:e})=>oe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},oe.createElement("div",{className:"sonner-spinner"},a3.map((n,s)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),l3=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),c3=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),u3=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d3=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),h3=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),f3=()=>{let[t,e]=oe.useState(document.hidden);return oe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},H0=1,m3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:s,...i}=e,r=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:H0++,o=this.toasts.find(d=>d.id===r),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),o?this.toasts=this.toasts.map(d=>d.id===r?(this.publish({...d,...e,id:r,title:s}),{...d,...e,id:r,dismissible:c,title:s}):d):this.addToast({title:s,...i,dismissible:c,id:r}),r},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),r=s!==void 0,o,c=i.then(async h=>{if(o=["resolve",h],oe.isValidElement(h))r=!1,this.create({id:s,type:"default",message:h});else if(g3(h)&&!h.ok){r=!1;let p=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description;this.create({id:s,type:"error",message:p,description:g})}else if(n.success!==void 0){r=!1;let p=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:s,type:"success",message:p,description:g})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){r=!1;let p=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:s,type:"error",message:p,description:g})}}).finally(()=>{var h;r&&(this.dismiss(s),s=void 0),(h=n.finally)==null||h.call(n)}),d=()=>new Promise((h,p)=>c.then(()=>o[0]==="reject"?p(o[1]):h(o[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(e,n)=>{let s=n?.id||H0++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Kn=new m3,p3=(t,e)=>{let n=e?.id||H0++;return Kn.addToast({title:t,...e,id:n}),n},g3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",v3=p3,y3=()=>Kn.toasts,_3=()=>Kn.getActiveToasts(),it=Object.assign(v3,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:y3,getToasts:_3});function x3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}x3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Qf(t){return t.label!==void 0}var b3=3,w3="32px",S3="16px",jS=4e3,E3=356,T3=14,A3=20,N3=200;function ei(...t){return t.filter(Boolean).join(" ")}function C3(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var R3=t=>{var e,n,s,i,r,o,c,d,h,p,g;let{invert:v,toast:y,unstyled:C,interacting:S,setHeights:R,visibleToasts:E,heights:T,index:N,toasts:O,expanded:H,removeToast:G,defaultRichColors:j,closeButton:P,style:U,cancelButtonStyle:k,actionButtonStyle:M,className:D="",descriptionClassName:z="",duration:ne,position:fe,gap:K,loadingIcon:ee,expandByDefault:B,classNames:$,icons:X,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:q}=t,[ce,ae]=oe.useState(null),[de,me]=oe.useState(null),[ie,ke]=oe.useState(!1),[gt,qe]=oe.useState(!1),[Ge,et]=oe.useState(!1),[At,Dn]=oe.useState(!1),[gi,es]=oe.useState(!1),[ts,Gs]=oe.useState(0),[Ut,Mt]=oe.useState(0),Ln=oe.useRef(y.duration||ne||jS),co=oe.useRef(null),ns=oe.useRef(null),Ru=N===0,Ji=N+1<=E,Kt=y.type,bs=y.dismissible!==!1,Jr=y.className||"",ju=y.descriptionClassName||"",er=oe.useMemo(()=>T.findIndex(Ee=>Ee.toastId===y.id)||0,[T,y.id]),uo=oe.useMemo(()=>{var Ee;return(Ee=y.closeButton)!=null?Ee:P},[y.closeButton,P]),ho=oe.useMemo(()=>y.duration||ne||jS,[y.duration,ne]),ws=oe.useRef(0),Vn=oe.useRef(0),tr=oe.useRef(0),_n=oe.useRef(null),[vi,ea]=fe.split("-"),fo=oe.useMemo(()=>T.reduce((Ee,tt,ft)=>ft>=er?Ee:Ee+tt.height,0),[T,er]),Ks=f3(),mo=y.invert||v,jt=Kt==="loading";Vn.current=oe.useMemo(()=>er*K+fo,[er,fo]),oe.useEffect(()=>{Ln.current=ho},[ho]),oe.useEffect(()=>{ke(!0)},[]),oe.useEffect(()=>{let Ee=ns.current;if(Ee){let tt=Ee.getBoundingClientRect().height;return Mt(tt),R(ft=>[{toastId:y.id,height:tt,position:y.position},...ft]),()=>R(ft=>ft.filter(zt=>zt.toastId!==y.id))}},[R,y.id]),oe.useLayoutEffect(()=>{if(!ie)return;let Ee=ns.current,tt=Ee.style.height;Ee.style.height="auto";let ft=Ee.getBoundingClientRect().height;Ee.style.height=tt,Mt(ft),R(zt=>zt.find(dn=>dn.toastId===y.id)?zt.map(dn=>dn.toastId===y.id?{...dn,height:ft}:dn):[{toastId:y.id,height:ft,position:y.position},...zt])},[ie,y.title,y.description,R,y.id]);let ss=oe.useCallback(()=>{qe(!0),Gs(Vn.current),R(Ee=>Ee.filter(tt=>tt.toastId!==y.id)),setTimeout(()=>{G(y)},N3)},[y,G,R,Vn]);oe.useEffect(()=>{if(y.promise&&Kt==="loading"||y.duration===1/0||y.type==="loading")return;let Ee;return H||S||q&&Ks?(()=>{if(tr.current<ws.current){let tt=new Date().getTime()-ws.current;Ln.current=Ln.current-tt}tr.current=new Date().getTime()})():Ln.current!==1/0&&(ws.current=new Date().getTime(),Ee=setTimeout(()=>{var tt;(tt=y.onAutoClose)==null||tt.call(y,y),ss()},Ln.current)),()=>clearTimeout(Ee)},[H,S,y,Kt,q,Ks,ss]),oe.useEffect(()=>{y.delete&&ss()},[ss,y.delete]);function nr(){var Ee,tt,ft;return X!=null&&X.loading?oe.createElement("div",{className:ei($?.loader,(Ee=y?.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Kt==="loading"},X.loading):ee?oe.createElement("div",{className:ei($?.loader,(tt=y?.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":Kt==="loading"},ee):oe.createElement(o3,{className:ei($?.loader,(ft=y?.classNames)==null?void 0:ft.loader),visible:Kt==="loading"})}return oe.createElement("li",{tabIndex:0,ref:ns,className:ei(D,Jr,$?.toast,(e=y?.classNames)==null?void 0:e.toast,$?.default,$?.[Kt],(n=y?.classNames)==null?void 0:n[Kt]),"data-sonner-toast":"","data-rich-colors":(s=y.richColors)!=null?s:j,"data-styled":!(y.jsx||y.unstyled||C),"data-mounted":ie,"data-promise":!!y.promise,"data-swiped":gi,"data-removed":gt,"data-visible":Ji,"data-y-position":vi,"data-x-position":ea,"data-index":N,"data-front":Ru,"data-swiping":Ge,"data-dismissible":bs,"data-type":Kt,"data-invert":mo,"data-swipe-out":At,"data-swipe-direction":de,"data-expanded":!!(H||B&&ie),style:{"--index":N,"--toasts-before":N,"--z-index":O.length-N,"--offset":`${gt?ts:Vn.current}px`,"--initial-height":B?"auto":`${Ut}px`,...U,...y.style},onDragEnd:()=>{et(!1),ae(null),_n.current=null},onPointerDown:Ee=>{jt||!bs||(co.current=new Date,Gs(Vn.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(et(!0),_n.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,tt,ft,zt;if(At||!bs)return;_n.current=null;let dn=Number(((Ee=ns.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ss=Number(((tt=ns.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Un=new Date().getTime()-((ft=co.current)==null?void 0:ft.getTime()),xn=ce==="x"?dn:Ss,is=Math.abs(xn)/Un;if(Math.abs(xn)>=A3||is>.11){Gs(Vn.current),(zt=y.onDismiss)==null||zt.call(y,y),me(ce==="x"?dn>0?"right":"left":Ss>0?"down":"up"),ss(),Dn(!0),es(!1);return}et(!1),ae(null)},onPointerMove:Ee=>{var tt,ft,zt,dn;if(!_n.current||!bs||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let Ss=Ee.clientY-_n.current.y,Un=Ee.clientX-_n.current.x,xn=(ft=t.swipeDirections)!=null?ft:C3(fe);!ce&&(Math.abs(Un)>1||Math.abs(Ss)>1)&&ae(Math.abs(Un)>Math.abs(Ss)?"x":"y");let is={x:0,y:0};ce==="y"?(xn.includes("top")||xn.includes("bottom"))&&(xn.includes("top")&&Ss<0||xn.includes("bottom")&&Ss>0)&&(is.y=Ss):ce==="x"&&(xn.includes("left")||xn.includes("right"))&&(xn.includes("left")&&Un<0||xn.includes("right")&&Un>0)&&(is.x=Un),(Math.abs(is.x)>0||Math.abs(is.y)>0)&&es(!0),(zt=ns.current)==null||zt.style.setProperty("--swipe-amount-x",`${is.x}px`),(dn=ns.current)==null||dn.style.setProperty("--swipe-amount-y",`${is.y}px`)}},uo&&!y.jsx?oe.createElement("button",{"aria-label":le,"data-disabled":jt,"data-close-button":!0,onClick:jt||!bs?()=>{}:()=>{var Ee;ss(),(Ee=y.onDismiss)==null||Ee.call(y,y)},className:ei($?.closeButton,(i=y?.classNames)==null?void 0:i.closeButton)},(r=X?.close)!=null?r:h3):null,y.jsx||b.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:oe.createElement(oe.Fragment,null,Kt||y.icon||y.promise?oe.createElement("div",{"data-icon":"",className:ei($?.icon,(o=y?.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||nr():null,y.type!=="loading"?y.icon||X?.[Kt]||r3(Kt):null):null,oe.createElement("div",{"data-content":"",className:ei($?.content,(c=y?.classNames)==null?void 0:c.content)},oe.createElement("div",{"data-title":"",className:ei($?.title,(d=y?.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?oe.createElement("div",{"data-description":"",className:ei(z,ju,$?.description,(h=y?.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),b.isValidElement(y.cancel)?y.cancel:y.cancel&&Qf(y.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||k,onClick:Ee=>{var tt,ft;Qf(y.cancel)&&bs&&((ft=(tt=y.cancel).onClick)==null||ft.call(tt,Ee),ss())},className:ei($?.cancelButton,(p=y?.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,b.isValidElement(y.action)?y.action:y.action&&Qf(y.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||M,onClick:Ee=>{var tt,ft;Qf(y.action)&&((ft=(tt=y.action).onClick)==null||ft.call(tt,Ee),!Ee.defaultPrevented&&ss())},className:ei($?.actionButton,(g=y?.classNames)==null?void 0:g.actionButton)},y.action.label):null))};function PS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function j3(t,e){let n={};return[t,e].forEach((s,i)=>{let r=i===1,o=r?"--mobile-offset":"--offset",c=r?S3:w3;function d(h){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${o}-${h}`]=c:n[`${o}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):d(c)}),n}var P3=b.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:o,className:c,offset:d,mobileOffset:h,theme:p="light",richColors:g,duration:v,style:y,visibleToasts:C=b3,toastOptions:S,dir:R=PS(),gap:E=T3,loadingIcon:T,icons:N,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:H}=t,[G,j]=oe.useState([]),P=oe.useMemo(()=>Array.from(new Set([s].concat(G.filter(q=>q.position).map(q=>q.position)))),[G,s]),[U,k]=oe.useState([]),[M,D]=oe.useState(!1),[z,ne]=oe.useState(!1),[fe,K]=oe.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=oe.useRef(null),B=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=oe.useRef(null),X=oe.useRef(!1),le=oe.useCallback(q=>{j(ce=>{var ae;return(ae=ce.find(de=>de.id===q.id))!=null&&ae.delete||Kn.dismiss(q.id),ce.filter(({id:de})=>de!==q.id)})},[]);return oe.useEffect(()=>Kn.subscribe(q=>{if(q.dismiss){j(ce=>ce.map(ae=>ae.id===q.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{RA.flushSync(()=>{j(ce=>{let ae=ce.findIndex(de=>de.id===q.id);return ae!==-1?[...ce.slice(0,ae),{...ce[ae],...q},...ce.slice(ae+1)]:[q,...ce]})})})}),[]),oe.useEffect(()=>{if(p!=="system"){K(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:ce})=>{K(ce?"dark":"light")})}catch{q.addListener(({matches:ae})=>{try{K(ae?"dark":"light")}catch(de){console.error(de)}})}},[p]),oe.useEffect(()=>{G.length<=1&&D(!1)},[G]),oe.useEffect(()=>{let q=ce=>{var ae,de;i.every(me=>ce[me]||ce.code===me)&&(D(!0),(ae=ee.current)==null||ae.focus()),ce.code==="Escape"&&(document.activeElement===ee.current||(de=ee.current)!=null&&de.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),oe.useEffect(()=>{if(ee.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,X.current=!1)}},[ee.current]),oe.createElement("section",{ref:e,"aria-label":`${O} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((q,ce)=>{var ae;let[de,me]=q.split("-");return G.length?oe.createElement("ol",{key:q,dir:R==="auto"?PS():R,tabIndex:-1,ref:ee,className:c,"data-sonner-toaster":!0,"data-theme":fe,"data-y-position":de,"data-lifted":M&&G.length>1&&!r,"data-x-position":me,style:{"--front-toast-height":`${((ae=U[0])==null?void 0:ae.height)||0}px`,"--width":`${E3}px`,"--gap":`${E}px`,...y,...j3(d,h)},onBlur:ie=>{X.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(X.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||X.current||(X.current=!0,$.current=ie.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{z||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},G.filter(ie=>!ie.position&&ce===0||ie.position===q).map((ie,ke)=>{var gt,qe;return oe.createElement(R3,{key:ie.id,icons:N,index:ke,toast:ie,defaultRichColors:g,duration:(gt=S?.duration)!=null?gt:v,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:n,visibleToasts:C,closeButton:(qe=S?.closeButton)!=null?qe:o,interacting:z,position:q,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,removeToast:le,toasts:G.filter(Ge=>Ge.position==ie.position),heights:U.filter(Ge=>Ge.position==ie.position),setHeights:k,expandByDefault:r,gap:E,loadingIcon:T,expanded:M,pauseWhenPageIsHidden:H,swipeDirections:t.swipeDirections})})):null}))});const I3=({...t})=>{const{theme:e="system"}=i3();return l.jsx(P3,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function IS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tg(...t){return e=>{let n=!1;const s=t.map(i=>{const r=IS(i,e);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():IS(t[i],null)}}}}function $e(...t){return b.useCallback(Tg(...t),t)}function k3(t,e){const n=b.createContext(e),s=r=>{const{children:o,...c}=r,d=b.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:d,children:o})};s.displayName=t+"Provider";function i(r){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${r}\` must be used within \`${t}\``)}return[s,i]}function xs(t,e=[]){let n=[];function s(r,o){const c=b.createContext(o),d=n.length;n=[...n,o];const h=g=>{const{scope:v,children:y,...C}=g,S=v?.[t]?.[d]||c,R=b.useMemo(()=>C,Object.values(C));return l.jsx(S.Provider,{value:R,children:y})};h.displayName=r+"Provider";function p(g,v){const y=v?.[t]?.[d]||c,C=b.useContext(y);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${r}\``)}return[h,p]}const i=()=>{const r=n.map(o=>b.createContext(o));return function(c){const d=c?.[t]||r;return b.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[s,M3(i,...e)]}function M3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const o=s.reduce((c,{useScope:d,scopeName:h})=>{const g=d(r)[`__scope${h}`];return{...c,...g}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Xo(t){const e=D3(t),n=b.forwardRef((s,i)=>{const{children:r,...o}=s,c=b.Children.toArray(r),d=c.find(V3);if(d){const h=d.props.children,p=c.map(g=>g===d?b.Children.count(h)>1?b.Children.only(null):b.isValidElement(h)?h.props.children:null:g);return l.jsx(e,{...o,ref:i,children:b.isValidElement(h)?b.cloneElement(h,void 0,p):null})}return l.jsx(e,{...o,ref:i,children:r})});return n.displayName=`${t}.Slot`,n}var O3=Xo("Slot");function D3(t){const e=b.forwardRef((n,s)=>{const{children:i,...r}=n;if(b.isValidElement(i)){const o=z3(i),c=U3(r,i.props);return i.type!==b.Fragment&&(c.ref=s?Tg(s,o):o),b.cloneElement(i,c)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var x2=Symbol("radix.slottable");function L3(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=x2,e}function V3(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===x2}function U3(t,e){const n={...e};for(const s in e){const i=t[s],r=e[s];/^on[A-Z]/.test(s)?i&&r?n[s]=(...c)=>{const d=r(...c);return i(...c),d}:i&&(n[s]=i):s==="style"?n[s]={...i,...r}:s==="className"&&(n[s]=[i,r].filter(Boolean).join(" "))}return{...t,...n}}function z3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var B3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=B3.reduce((t,e)=>{const n=Xo(`Primitive.${e}`),s=b.forwardRef((i,r)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...c,ref:r})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function b2(t,e){t&&au.flushSync(()=>t.dispatchEvent(e))}function di(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>e.current?.(...n),[])}function F3(t,e=globalThis?.document){const n=di(t);b.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var H3="DismissableLayer",$0="dismissableLayer.update",$3="dismissableLayer.pointerDownOutside",q3="dismissableLayer.focusOutside",kS,w2=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qh=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:r,onInteractOutside:o,onDismiss:c,...d}=t,h=b.useContext(w2),[p,g]=b.useState(null),v=p?.ownerDocument??globalThis?.document,[,y]=b.useState({}),C=$e(e,j=>g(j)),S=Array.from(h.layers),[R]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=S.indexOf(R),T=p?S.indexOf(p):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,O=T>=E,H=W3(j=>{const P=j.target,U=[...h.branches].some(k=>k.contains(P));!O||U||(i?.(j),o?.(j),j.defaultPrevented||c?.())},v),G=Z3(j=>{const P=j.target;[...h.branches].some(k=>k.contains(P))||(r?.(j),o?.(j),j.defaultPrevented||c?.())},v);return F3(j=>{T===h.layers.size-1&&(s?.(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},v),b.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(kS=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),MS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=kS)}},[p,v,n,h]),b.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),MS())},[p,h]),b.useEffect(()=>{const j=()=>y({});return document.addEventListener($0,j),()=>document.removeEventListener($0,j)},[]),l.jsx(we.div,{...d,ref:C,style:{pointerEvents:N?O?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,G.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,H.onPointerDownCapture)})});qh.displayName=H3;var G3="DismissableLayerBranch",K3=b.forwardRef((t,e)=>{const n=b.useContext(w2),s=b.useRef(null),i=$e(e,s);return b.useEffect(()=>{const r=s.current;if(r)return n.branches.add(r),()=>{n.branches.delete(r)}},[n.branches]),l.jsx(we.div,{...t,ref:i})});K3.displayName=G3;function W3(t,e=globalThis?.document){const n=di(t),s=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const r=c=>{if(c.target&&!s.current){let d=function(){S2($3,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",r),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function Z3(t,e=globalThis?.document){const n=di(t),s=b.useRef(!1);return b.useEffect(()=>{const i=r=>{r.target&&!s.current&&S2(q3,n,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function MS(){const t=new CustomEvent($0);document.dispatchEvent(t)}function S2(t,e,n,{discrete:s}){const i=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?b2(i,r):i.dispatchEvent(r)}var tn=globalThis?.document?b.useLayoutEffect:()=>{},Y3=jA[" useId ".trim().toString()]||(()=>{}),Q3=0;function Di(t){const[e,n]=b.useState(Y3());return tn(()=>{n(s=>s??String(Q3++))},[t]),e?`radix-${e}`:""}const X3=["top","right","bottom","left"],Ga=Math.min,us=Math.max,Ep=Math.round,Xf=Math.floor,Li=t=>({x:t,y:t}),J3={left:"right",right:"left",bottom:"top",top:"bottom"},e6={start:"end",end:"start"};function q0(t,e,n){return us(t,Ga(e,n))}function Hr(t,e){return typeof t=="function"?t(e):t}function $r(t){return t.split("-")[0]}function fu(t){return t.split("-")[1]}function Jx(t){return t==="x"?"y":"x"}function eb(t){return t==="y"?"height":"width"}const t6=new Set(["top","bottom"]);function Ii(t){return t6.has($r(t))?"y":"x"}function tb(t){return Jx(Ii(t))}function n6(t,e,n){n===void 0&&(n=!1);const s=fu(t),i=tb(t),r=eb(i);let o=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=Tp(o)),[o,Tp(o)]}function s6(t){const e=Tp(t);return[G0(t),e,G0(e)]}function G0(t){return t.replace(/start|end/g,e=>e6[e])}const OS=["left","right"],DS=["right","left"],i6=["top","bottom"],r6=["bottom","top"];function a6(t,e,n){switch(t){case"top":case"bottom":return n?e?DS:OS:e?OS:DS;case"left":case"right":return e?i6:r6;default:return[]}}function o6(t,e,n,s){const i=fu(t);let r=a6($r(t),n==="start",s);return i&&(r=r.map(o=>o+"-"+i),e&&(r=r.concat(r.map(G0)))),r}function Tp(t){return t.replace(/left|right|bottom|top/g,e=>J3[e])}function l6(t){return{top:0,right:0,bottom:0,left:0,...t}}function E2(t){return typeof t!="number"?l6(t):{top:t,right:t,bottom:t,left:t}}function Ap(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function LS(t,e,n){let{reference:s,floating:i}=t;const r=Ii(e),o=tb(e),c=eb(o),d=$r(e),h=r==="y",p=s.x+s.width/2-i.width/2,g=s.y+s.height/2-i.height/2,v=s[c]/2-i[c]/2;let y;switch(d){case"top":y={x:p,y:s.y-i.height};break;case"bottom":y={x:p,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-i.width,y:g};break;default:y={x:s.x,y:s.y}}switch(fu(e)){case"start":y[o]-=v*(n&&h?-1:1);break;case"end":y[o]+=v*(n&&h?-1:1);break}return y}const c6=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:o}=n,c=r.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=LS(h,s,d),v=s,y={},C=0;for(let S=0;S<c.length;S++){const{name:R,fn:E}=c[S],{x:T,y:N,data:O,reset:H}=await E({x:p,y:g,initialPlacement:s,placement:v,strategy:i,middlewareData:y,rects:h,platform:o,elements:{reference:t,floating:e}});p=T??p,g=N??g,y={...y,[R]:{...y[R],...O}},H&&C<=50&&(C++,typeof H=="object"&&(H.placement&&(v=H.placement),H.rects&&(h=H.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:p,y:g}=LS(h,v,d)),S=-1)}return{x:p,y:g,placement:v,strategy:i,middlewareData:y}};async function lh(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:r,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=Hr(e,t),C=E2(y),R=c[v?g==="floating"?"reference":"floating":g],E=Ap(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(R)))==null||n?R:R.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:d})),T=g==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,N=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),O=await(r.isElement==null?void 0:r.isElement(N))?await(r.getScale==null?void 0:r.getScale(N))||{x:1,y:1}:{x:1,y:1},H=Ap(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:N,strategy:d}):T);return{top:(E.top-H.top+C.top)/O.y,bottom:(H.bottom-E.bottom+C.bottom)/O.y,left:(E.left-H.left+C.left)/O.x,right:(H.right-E.right+C.right)/O.x}}const u6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:r,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:p=0}=Hr(t,e)||{};if(h==null)return{};const g=E2(p),v={x:n,y:s},y=tb(i),C=eb(y),S=await o.getDimensions(h),R=y==="y",E=R?"top":"left",T=R?"bottom":"right",N=R?"clientHeight":"clientWidth",O=r.reference[C]+r.reference[y]-v[y]-r.floating[C],H=v[y]-r.reference[y],G=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let j=G?G[N]:0;(!j||!await(o.isElement==null?void 0:o.isElement(G)))&&(j=c.floating[N]||r.floating[C]);const P=O/2-H/2,U=j/2-S[C]/2-1,k=Ga(g[E],U),M=Ga(g[T],U),D=k,z=j-S[C]-M,ne=j/2-S[C]/2+P,fe=q0(D,ne,z),K=!d.arrow&&fu(i)!=null&&ne!==fe&&r.reference[C]/2-(ne<D?k:M)-S[C]/2<0,ee=K?ne<D?ne-D:ne-z:0;return{[y]:v[y]+ee,data:{[y]:fe,centerOffset:ne-fe-ee,...K&&{alignmentOffset:ee}},reset:K}}}),d6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:r,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...R}=Hr(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const E=$r(i),T=Ii(c),N=$r(c)===c,O=await(d.isRTL==null?void 0:d.isRTL(h.floating)),H=v||(N||!S?[Tp(c)]:s6(c)),G=C!=="none";!v&&G&&H.push(...o6(c,S,C,O));const j=[c,...H],P=await lh(e,R),U=[];let k=((s=r.flip)==null?void 0:s.overflows)||[];if(p&&U.push(P[E]),g){const ne=n6(i,o,O);U.push(P[ne[0]],P[ne[1]])}if(k=[...k,{placement:i,overflows:U}],!U.every(ne=>ne<=0)){var M,D;const ne=(((M=r.flip)==null?void 0:M.index)||0)+1,fe=j[ne];if(fe&&(!(g==="alignment"?T!==Ii(fe):!1)||k.every(B=>Ii(B.placement)===T?B.overflows[0]>0:!0)))return{data:{index:ne,overflows:k},reset:{placement:fe}};let K=(D=k.filter(ee=>ee.overflows[0]<=0).sort((ee,B)=>ee.overflows[1]-B.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(y){case"bestFit":{var z;const ee=(z=k.filter(B=>{if(G){const $=Ii(B.placement);return $===T||$==="y"}return!0}).map(B=>[B.placement,B.overflows.filter($=>$>0).reduce(($,X)=>$+X,0)]).sort((B,$)=>B[1]-$[1])[0])==null?void 0:z[0];ee&&(K=ee);break}case"initialPlacement":K=c;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function VS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function US(t){return X3.some(e=>t[e]>=0)}const h6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=Hr(t,e);switch(s){case"referenceHidden":{const r=await lh(e,{...i,elementContext:"reference"}),o=VS(r,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:US(o)}}}case"escaped":{const r=await lh(e,{...i,altBoundary:!0}),o=VS(r,n.floating);return{data:{escapedOffsets:o,escaped:US(o)}}}default:return{}}}}},T2=new Set(["left","top"]);async function f6(t,e){const{placement:n,platform:s,elements:i}=t,r=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=$r(n),c=fu(n),d=Ii(n)==="y",h=T2.has(o)?-1:1,p=r&&d?-1:1,g=Hr(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof C=="number"&&(y=c==="end"?C*-1:C),d?{x:y*p,y:v*h}:{x:v*h,y:y*p}}const m6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:r,placement:o,middlewareData:c}=e,d=await f6(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+d.x,y:r+d.y,data:{...d,placement:o}}}}},p6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:r=!0,crossAxis:o=!1,limiter:c={fn:R=>{let{x:E,y:T}=R;return{x:E,y:T}}},...d}=Hr(t,e),h={x:n,y:s},p=await lh(e,d),g=Ii($r(i)),v=Jx(g);let y=h[v],C=h[g];if(r){const R=v==="y"?"top":"left",E=v==="y"?"bottom":"right",T=y+p[R],N=y-p[E];y=q0(T,y,N)}if(o){const R=g==="y"?"top":"left",E=g==="y"?"bottom":"right",T=C+p[R],N=C-p[E];C=q0(T,C,N)}const S=c.fn({...e,[v]:y,[g]:C});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[v]:r,[g]:o}}}}}},g6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:r,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Hr(t,e),p={x:n,y:s},g=Ii(i),v=Jx(g);let y=p[v],C=p[g];const S=Hr(c,e),R=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(d){const N=v==="y"?"height":"width",O=r.reference[v]-r.floating[N]+R.mainAxis,H=r.reference[v]+r.reference[N]-R.mainAxis;y<O?y=O:y>H&&(y=H)}if(h){var E,T;const N=v==="y"?"width":"height",O=T2.has($r(i)),H=r.reference[g]-r.floating[N]+(O&&((E=o.offset)==null?void 0:E[g])||0)+(O?0:R.crossAxis),G=r.reference[g]+r.reference[N]+(O?0:((T=o.offset)==null?void 0:T[g])||0)-(O?R.crossAxis:0);C<H?C=H:C>G&&(C=G)}return{[v]:y,[g]:C}}}},v6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:r,platform:o,elements:c}=e,{apply:d=()=>{},...h}=Hr(t,e),p=await lh(e,h),g=$r(i),v=fu(i),y=Ii(i)==="y",{width:C,height:S}=r.floating;let R,E;g==="top"||g==="bottom"?(R=g,E=v===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(E=g,R=v==="end"?"top":"bottom");const T=S-p.top-p.bottom,N=C-p.left-p.right,O=Ga(S-p[R],T),H=Ga(C-p[E],N),G=!e.middlewareData.shift;let j=O,P=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(j=T),G&&!v){const k=us(p.left,0),M=us(p.right,0),D=us(p.top,0),z=us(p.bottom,0);y?P=C-2*(k!==0||M!==0?k+M:us(p.left,p.right)):j=S-2*(D!==0||z!==0?D+z:us(p.top,p.bottom))}await d({...e,availableWidth:P,availableHeight:j});const U=await o.getDimensions(c.floating);return C!==U.width||S!==U.height?{reset:{rects:!0}}:{}}}};function Ag(){return typeof window<"u"}function mu(t){return A2(t)?(t.nodeName||"").toLowerCase():"#document"}function vs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zi(t){var e;return(e=(A2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function A2(t){return Ag()?t instanceof Node||t instanceof vs(t).Node:!1}function hi(t){return Ag()?t instanceof Element||t instanceof vs(t).Element:!1}function $i(t){return Ag()?t instanceof HTMLElement||t instanceof vs(t).HTMLElement:!1}function zS(t){return!Ag()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vs(t).ShadowRoot}const y6=new Set(["inline","contents"]);function Gh(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=fi(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!y6.has(i)}const _6=new Set(["table","td","th"]);function x6(t){return _6.has(mu(t))}const b6=[":popover-open",":modal"];function Ng(t){return b6.some(e=>{try{return t.matches(e)}catch{return!1}})}const w6=["transform","translate","scale","rotate","perspective"],S6=["transform","translate","scale","rotate","perspective","filter"],E6=["paint","layout","strict","content"];function nb(t){const e=sb(),n=hi(t)?fi(t):t;return w6.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||S6.some(s=>(n.willChange||"").includes(s))||E6.some(s=>(n.contain||"").includes(s))}function T6(t){let e=Ka(t);for(;$i(e)&&!Kc(e);){if(nb(e))return e;if(Ng(e))return null;e=Ka(e)}return null}function sb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const A6=new Set(["html","body","#document"]);function Kc(t){return A6.has(mu(t))}function fi(t){return vs(t).getComputedStyle(t)}function Cg(t){return hi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ka(t){if(mu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zS(t)&&t.host||Zi(t);return zS(e)?e.host:e}function N2(t){const e=Ka(t);return Kc(e)?t.ownerDocument?t.ownerDocument.body:t.body:$i(e)&&Gh(e)?e:N2(e)}function ch(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=N2(t),r=i===((s=t.ownerDocument)==null?void 0:s.body),o=vs(i);if(r){const c=K0(o);return e.concat(o,o.visualViewport||[],Gh(i)?i:[],c&&n?ch(c):[])}return e.concat(i,ch(i,[],n))}function K0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function C2(t){const e=fi(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=$i(t),r=i?t.offsetWidth:n,o=i?t.offsetHeight:s,c=Ep(n)!==r||Ep(s)!==o;return c&&(n=r,s=o),{width:n,height:s,$:c}}function ib(t){return hi(t)?t:t.contextElement}function Cc(t){const e=ib(t);if(!$i(e))return Li(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:r}=C2(e);let o=(r?Ep(n.width):n.width)/s,c=(r?Ep(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const N6=Li(0);function R2(t){const e=vs(t);return!sb()||!e.visualViewport?N6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function C6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vs(t)?!1:e}function Jo(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=ib(t);let o=Li(1);e&&(s?hi(s)&&(o=Cc(s)):o=Cc(t));const c=C6(r,n,s)?R2(r):Li(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,p=i.width/o.x,g=i.height/o.y;if(r){const v=vs(r),y=s&&hi(s)?vs(s):s;let C=v,S=K0(C);for(;S&&s&&y!==C;){const R=Cc(S),E=S.getBoundingClientRect(),T=fi(S),N=E.left+(S.clientLeft+parseFloat(T.paddingLeft))*R.x,O=E.top+(S.clientTop+parseFloat(T.paddingTop))*R.y;d*=R.x,h*=R.y,p*=R.x,g*=R.y,d+=N,h+=O,C=vs(S),S=K0(C)}}return Ap({width:p,height:g,x:d,y:h})}function Rg(t,e){const n=Cg(t).scrollLeft;return e?e.left+n:Jo(Zi(t)).left+n}function j2(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Rg(t,n),i=n.top+e.scrollTop;return{x:s,y:i}}function R6(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const r=i==="fixed",o=Zi(s),c=e?Ng(e.floating):!1;if(s===o||c&&r)return n;let d={scrollLeft:0,scrollTop:0},h=Li(1);const p=Li(0),g=$i(s);if((g||!g&&!r)&&((mu(s)!=="body"||Gh(o))&&(d=Cg(s)),$i(s))){const y=Jo(s);h=Cc(s),p.x=y.x+s.clientLeft,p.y=y.y+s.clientTop}const v=o&&!g&&!r?j2(o,d):Li(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+v.x,y:n.y*h.y-d.scrollTop*h.y+p.y+v.y}}function j6(t){return Array.from(t.getClientRects())}function P6(t){const e=Zi(t),n=Cg(t),s=t.ownerDocument.body,i=us(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),r=us(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Rg(t);const c=-n.scrollTop;return fi(s).direction==="rtl"&&(o+=us(e.clientWidth,s.clientWidth)-i),{width:i,height:r,x:o,y:c}}const BS=25;function I6(t,e){const n=vs(t),s=Zi(t),i=n.visualViewport;let r=s.clientWidth,o=s.clientHeight,c=0,d=0;if(i){r=i.width,o=i.height;const p=sb();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const h=Rg(s);if(h<=0){const p=s.ownerDocument,g=p.body,v=getComputedStyle(g),y=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(s.clientWidth-g.clientWidth-y);C<=BS&&(r-=C)}else h<=BS&&(r+=h);return{width:r,height:o,x:c,y:d}}const k6=new Set(["absolute","fixed"]);function M6(t,e){const n=Jo(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,r=$i(t)?Cc(t):Li(1),o=t.clientWidth*r.x,c=t.clientHeight*r.y,d=i*r.x,h=s*r.y;return{width:o,height:c,x:d,y:h}}function FS(t,e,n){let s;if(e==="viewport")s=I6(t,n);else if(e==="document")s=P6(Zi(t));else if(hi(e))s=M6(e,n);else{const i=R2(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ap(s)}function P2(t,e){const n=Ka(t);return n===e||!hi(n)||Kc(n)?!1:fi(n).position==="fixed"||P2(n,e)}function O6(t,e){const n=e.get(t);if(n)return n;let s=ch(t,[],!1).filter(c=>hi(c)&&mu(c)!=="body"),i=null;const r=fi(t).position==="fixed";let o=r?Ka(t):t;for(;hi(o)&&!Kc(o);){const c=fi(o),d=nb(o);!d&&c.position==="fixed"&&(i=null),(r?!d&&!i:!d&&c.position==="static"&&!!i&&k6.has(i.position)||Gh(o)&&!d&&P2(t,o))?s=s.filter(p=>p!==o):i=c,o=Ka(o)}return e.set(t,s),s}function D6(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const o=[...n==="clippingAncestors"?Ng(e)?[]:O6(e,this._c):[].concat(n),s],c=o[0],d=o.reduce((h,p)=>{const g=FS(e,p,i);return h.top=us(g.top,h.top),h.right=Ga(g.right,h.right),h.bottom=Ga(g.bottom,h.bottom),h.left=us(g.left,h.left),h},FS(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function L6(t){const{width:e,height:n}=C2(t);return{width:e,height:n}}function V6(t,e,n){const s=$i(e),i=Zi(e),r=n==="fixed",o=Jo(t,!0,r,e);let c={scrollLeft:0,scrollTop:0};const d=Li(0);function h(){d.x=Rg(i)}if(s||!s&&!r)if((mu(e)!=="body"||Gh(i))&&(c=Cg(e)),s){const y=Jo(e,!0,r,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else i&&h();r&&!s&&i&&h();const p=i&&!s&&!r?j2(i,c):Li(0),g=o.left+c.scrollLeft-d.x-p.x,v=o.top+c.scrollTop-d.y-p.y;return{x:g,y:v,width:o.width,height:o.height}}function hy(t){return fi(t).position==="static"}function HS(t,e){if(!$i(t)||fi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zi(t)===n&&(n=n.ownerDocument.body),n}function I2(t,e){const n=vs(t);if(Ng(t))return n;if(!$i(t)){let i=Ka(t);for(;i&&!Kc(i);){if(hi(i)&&!hy(i))return i;i=Ka(i)}return n}let s=HS(t,e);for(;s&&x6(s)&&hy(s);)s=HS(s,e);return s&&Kc(s)&&hy(s)&&!nb(s)?n:s||T6(t)||n}const U6=async function(t){const e=this.getOffsetParent||I2,n=this.getDimensions,s=await n(t.floating);return{reference:V6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function z6(t){return fi(t).direction==="rtl"}const B6={convertOffsetParentRelativeRectToViewportRelativeRect:R6,getDocumentElement:Zi,getClippingRect:D6,getOffsetParent:I2,getElementRects:U6,getClientRects:j6,getDimensions:L6,getScale:Cc,isElement:hi,isRTL:z6};function k2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function F6(t,e){let n=null,s;const i=Zi(t);function r(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),r();const h=t.getBoundingClientRect(),{left:p,top:g,width:v,height:y}=h;if(c||e(),!v||!y)return;const C=Xf(g),S=Xf(i.clientWidth-(p+v)),R=Xf(i.clientHeight-(g+y)),E=Xf(p),N={rootMargin:-C+"px "+-S+"px "+-R+"px "+-E+"px",threshold:us(0,Ga(1,d))||1};let O=!0;function H(G){const j=G[0].intersectionRatio;if(j!==d){if(!O)return o();j?o(!1,j):s=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!k2(h,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(H,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,N)}n.observe(t)}return o(!0),r}function H6(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=ib(t),p=i||r?[...h?ch(h):[],...ch(e)]:[];p.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),r&&E.addEventListener("resize",n)});const g=h&&c?F6(h,n):null;let v=-1,y=null;o&&(y=new ResizeObserver(E=>{let[T]=E;T&&T.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=y)==null||N.observe(e)})),n()}),h&&!d&&y.observe(h),y.observe(e));let C,S=d?Jo(t):null;d&&R();function R(){const E=Jo(t);S&&!k2(S,E)&&n(),S=E,C=requestAnimationFrame(R)}return n(),()=>{var E;p.forEach(T=>{i&&T.removeEventListener("scroll",n),r&&T.removeEventListener("resize",n)}),g?.(),(E=y)==null||E.disconnect(),y=null,d&&cancelAnimationFrame(C)}}const $6=m6,q6=p6,G6=d6,K6=v6,W6=h6,$S=u6,Z6=g6,Y6=(t,e,n)=>{const s=new Map,i={platform:B6,...n},r={...i.platform,_c:s};return c6(t,e,{...i,platform:r})};var Q6=typeof document<"u",X6=function(){},Rm=Q6?b.useLayoutEffect:X6;function Np(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Np(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const r=i[s];if(!(r==="_owner"&&t.$$typeof)&&!Np(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function M2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qS(t,e){const n=M2(t);return Math.round(e*n)/n}function fy(t){const e=b.useRef(t);return Rm(()=>{e.current=t}),e}function J6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:r,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[p,g]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=b.useState(s);Np(v,s)||y(s);const[C,S]=b.useState(null),[R,E]=b.useState(null),T=b.useCallback(B=>{B!==G.current&&(G.current=B,S(B))},[]),N=b.useCallback(B=>{B!==j.current&&(j.current=B,E(B))},[]),O=r||C,H=o||R,G=b.useRef(null),j=b.useRef(null),P=b.useRef(p),U=d!=null,k=fy(d),M=fy(i),D=fy(h),z=b.useCallback(()=>{if(!G.current||!j.current)return;const B={placement:e,strategy:n,middleware:v};M.current&&(B.platform=M.current),Y6(G.current,j.current,B).then($=>{const X={...$,isPositioned:D.current!==!1};ne.current&&!Np(P.current,X)&&(P.current=X,au.flushSync(()=>{g(X)}))})},[v,e,n,M,D]);Rm(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[h]);const ne=b.useRef(!1);Rm(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Rm(()=>{if(O&&(G.current=O),H&&(j.current=H),O&&H){if(k.current)return k.current(O,H,z);z()}},[O,H,z,k,U]);const fe=b.useMemo(()=>({reference:G,floating:j,setReference:T,setFloating:N}),[T,N]),K=b.useMemo(()=>({reference:O,floating:H}),[O,H]),ee=b.useMemo(()=>{const B={position:n,left:0,top:0};if(!K.floating)return B;const $=qS(K.floating,p.x),X=qS(K.floating,p.y);return c?{...B,transform:"translate("+$+"px, "+X+"px)",...M2(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:X}},[n,c,K.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:z,refs:fe,elements:K,floatingStyles:ee}),[p,z,fe,K,ee])}const e5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?$S({element:s.current,padding:i}).fn(n):{}:s?$S({element:s,padding:i}).fn(n):{}}}},t5=(t,e)=>({...$6(t),options:[t,e]}),n5=(t,e)=>({...q6(t),options:[t,e]}),s5=(t,e)=>({...Z6(t),options:[t,e]}),i5=(t,e)=>({...G6(t),options:[t,e]}),r5=(t,e)=>({...K6(t),options:[t,e]}),a5=(t,e)=>({...W6(t),options:[t,e]}),o5=(t,e)=>({...e5(t),options:[t,e]});var l5="Arrow",O2=b.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...r}=t;return l.jsx(we.svg,{...r,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});O2.displayName=l5;var c5=O2;function rb(t){const[e,n]=b.useState(void 0);return tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const r=i[0];let o,c;if("borderBoxSize"in r){const d=r.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var ab="Popper",[D2,pu]=xs(ab),[u5,L2]=D2(ab),V2=t=>{const{__scopePopper:e,children:n}=t,[s,i]=b.useState(null);return l.jsx(u5,{scope:e,anchor:s,onAnchorChange:i,children:n})};V2.displayName=ab;var U2="PopperAnchor",z2=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,r=L2(U2,n),o=b.useRef(null),c=$e(e,o),d=b.useRef(null);return b.useEffect(()=>{const h=d.current;d.current=s?.current||o.current,h!==d.current&&r.onAnchorChange(d.current)}),s?null:l.jsx(we.div,{...i,ref:c})});z2.displayName=U2;var ob="PopperContent",[d5,h5]=D2(ob),B2=b.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:r="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:C,...S}=t,R=L2(ob,n),[E,T]=b.useState(null),N=$e(e,ie=>T(ie)),[O,H]=b.useState(null),G=rb(O),j=G?.width??0,P=G?.height??0,U=s+(r!=="center"?"-"+r:""),k=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},M=Array.isArray(h)?h:[h],D=M.length>0,z={padding:k,boundary:M.filter(m5),altBoundary:D},{refs:ne,floatingStyles:fe,placement:K,isPositioned:ee,middlewareData:B}=J6({strategy:"fixed",placement:U,whileElementsMounted:(...ie)=>H6(...ie,{animationFrame:y==="always"}),elements:{reference:R.anchor},middleware:[t5({mainAxis:i+P,alignmentAxis:o}),d&&n5({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?s5():void 0,...z}),d&&i5({...z}),r5({...z,apply:({elements:ie,rects:ke,availableWidth:gt,availableHeight:qe})=>{const{width:Ge,height:et}=ke.reference,At=ie.floating.style;At.setProperty("--radix-popper-available-width",`${gt}px`),At.setProperty("--radix-popper-available-height",`${qe}px`),At.setProperty("--radix-popper-anchor-width",`${Ge}px`),At.setProperty("--radix-popper-anchor-height",`${et}px`)}}),O&&o5({element:O,padding:c}),p5({arrowWidth:j,arrowHeight:P}),v&&a5({strategy:"referenceHidden",...z})]}),[$,X]=$2(K),le=di(C);tn(()=>{ee&&le?.()},[ee,le]);const q=B.arrow?.x,ce=B.arrow?.y,ae=B.arrow?.centerOffset!==0,[de,me]=b.useState();return tn(()=>{E&&me(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:ee?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(d5,{scope:n,placedSide:$,onArrowChange:H,arrowX:q,arrowY:ce,shouldHideArrow:ae,children:l.jsx(we.div,{"data-side":$,"data-align":X,...S,ref:N,style:{...S.style,animation:ee?void 0:"none"}})})})});B2.displayName=ob;var F2="PopperArrow",f5={top:"bottom",right:"left",bottom:"top",left:"right"},H2=b.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,r=h5(F2,s),o=f5[r.placedSide];return l.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:l.jsx(c5,{...i,ref:n,style:{...i.style,display:"block"}})})});H2.displayName=F2;function m5(t){return t!==null}var p5=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,p]=$2(n),g={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+c/2,y=(i.arrow?.y??0)+d/2;let C="",S="";return h==="bottom"?(C=o?g:`${v}px`,S=`${-d}px`):h==="top"?(C=o?g:`${v}px`,S=`${s.floating.height+d}px`):h==="right"?(C=`${-d}px`,S=o?g:`${y}px`):h==="left"&&(C=`${s.floating.width+d}px`,S=o?g:`${y}px`),{data:{x:C,y:S}}}});function $2(t){const[e,n="center"]=t.split("-");return[e,n]}var q2=V2,lb=z2,cb=B2,ub=H2,g5="Portal",jg=b.forwardRef((t,e)=>{const{container:n,...s}=t,[i,r]=b.useState(!1);tn(()=>r(!0),[]);const o=n||i&&globalThis?.document?.body;return o?RA.createPortal(l.jsx(we.div,{...s,ref:e}),o):null});jg.displayName=g5;function v5(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var Yi=t=>{const{present:e,children:n}=t,s=y5(e),i=typeof n=="function"?n({present:s.isPresent}):b.Children.only(n),r=$e(s.ref,_5(i));return typeof n=="function"||s.isPresent?b.cloneElement(i,{ref:r}):null};Yi.displayName="Presence";function y5(t){const[e,n]=b.useState(),s=b.useRef(null),i=b.useRef(t),r=b.useRef("none"),o=t?"mounted":"unmounted",[c,d]=v5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const h=Jf(s.current);r.current=c==="mounted"?h:"none"},[c]),tn(()=>{const h=s.current,p=i.current;if(p!==t){const v=r.current,y=Jf(h);t?d("MOUNT"):y==="none"||h?.display==="none"?d("UNMOUNT"):d(p&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),tn(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=y=>{const S=Jf(s.current).includes(CSS.escape(y.animationName));if(y.target===e&&S&&(d("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},v=y=>{y.target===e&&(r.current=Jf(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:b.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Jf(t){return t?.animationName||"none"}function _5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var x5=jA[" useInsertionEffect ".trim().toString()]||tn;function Wa({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,r,o]=b5({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const p=b.useRef(t!==void 0);b.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,s])}const h=b.useCallback(p=>{if(c){const g=w5(p)?p(t):p;g!==t&&o.current?.(g)}else r(p)},[c,t,r,o]);return[d,h]}function b5({defaultProp:t,onChange:e}){const[n,s]=b.useState(t),i=b.useRef(n),r=b.useRef(e);return x5(()=>{r.current=e},[e]),b.useEffect(()=>{i.current!==n&&(r.current?.(n),i.current=n)},[n,i]),[n,s,r]}function w5(t){return typeof t=="function"}var G2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),S5="VisuallyHidden",K2=b.forwardRef((t,e)=>l.jsx(we.span,{...t,ref:e,style:{...G2,...t.style}}));K2.displayName=S5;var E5=K2,[Pg,tX]=xs("Tooltip",[pu]),db=pu(),W2="TooltipProvider",T5=700,GS="tooltip.open",[A5,Z2]=Pg(W2),Y2=t=>{const{__scopeTooltip:e,delayDuration:n=T5,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:r}=t,o=b.useRef(!0),c=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),l.jsx(A5,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:b.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:r})};Y2.displayName=W2;var Q2="Tooltip",[nX,Ig]=Pg(Q2),W0="TooltipTrigger",N5=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=Ig(W0,n),r=Z2(W0,n),o=db(n),c=b.useRef(null),d=$e(e,c,i.onTriggerChange),h=b.useRef(!1),p=b.useRef(!1),g=b.useCallback(()=>h.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),l.jsx(lb,{asChild:!0,...o,children:l.jsx(we.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:d,onPointerMove:pe(t.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!r.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:pe(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});N5.displayName=W0;var C5="TooltipPortal",[sX,R5]=Pg(C5,{forceMount:void 0}),Wc="TooltipContent",X2=b.forwardRef((t,e)=>{const n=R5(Wc,t.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...r}=t,o=Ig(Wc,t.__scopeTooltip);return l.jsx(Yi,{present:s||o.open,children:o.disableHoverableContent?l.jsx(J2,{side:i,...r,ref:e}):l.jsx(j5,{side:i,...r,ref:e})})}),j5=b.forwardRef((t,e)=>{const n=Ig(Wc,t.__scopeTooltip),s=Z2(Wc,t.__scopeTooltip),i=b.useRef(null),r=$e(e,i),[o,c]=b.useState(null),{trigger:d,onClose:h}=n,p=i.current,{onPointerInTransitChange:g}=s,v=b.useCallback(()=>{c(null),g(!1)},[g]),y=b.useCallback((C,S)=>{const R=C.currentTarget,E={x:C.clientX,y:C.clientY},T=O5(E,R.getBoundingClientRect()),N=D5(E,T),O=L5(S.getBoundingClientRect()),H=U5([...N,...O]);c(H),g(!0)},[g]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(d&&p){const C=R=>y(R,p),S=R=>y(R,d);return d.addEventListener("pointerleave",C),p.addEventListener("pointerleave",S),()=>{d.removeEventListener("pointerleave",C),p.removeEventListener("pointerleave",S)}}},[d,p,y,v]),b.useEffect(()=>{if(o){const C=S=>{const R=S.target,E={x:S.clientX,y:S.clientY},T=d?.contains(R)||p?.contains(R),N=!V5(E,o);T?v():N&&(v(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,p,o,h,v]),l.jsx(J2,{...t,ref:r})}),[P5,I5]=Pg(Q2,{isInside:!1}),k5=L3("TooltipContent"),J2=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:r,onPointerDownOutside:o,...c}=t,d=Ig(Wc,n),h=db(n),{onClose:p}=d;return b.useEffect(()=>(document.addEventListener(GS,p),()=>document.removeEventListener(GS,p)),[p]),b.useEffect(()=>{if(d.trigger){const g=v=>{v.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,p]),l.jsx(qh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:l.jsxs(cb,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(k5,{children:s}),l.jsx(P5,{scope:n,isInside:!0,children:l.jsx(E5,{id:d.contentId,role:"tooltip",children:i||s})})]})})});X2.displayName=Wc;var eR="TooltipArrow",M5=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=db(n);return I5(eR,n).isInside?null:l.jsx(ub,{...i,...s,ref:e})});M5.displayName=eR;function O5(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),r=Math.abs(e.left-t.x);switch(Math.min(n,s,i,r)){case r:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function D5(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function L5(t){const{top:e,right:n,bottom:s,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:s},{x:i,y:s}]}function V5(t,e){const{x:n,y:s}=t;let i=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const c=e[r],d=e[o],h=c.x,p=c.y,g=d.x,v=d.y;p>s!=v>s&&n<(g-h)*(s-p)/(v-p)+h&&(i=!i)}return i}function U5(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),z5(e)}function z5(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const r=e[e.length-1],o=e[e.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;n.length>=2;){const r=n[n.length-1],o=n[n.length-2];if((r.x-o.x)*(i.y-o.y)>=(r.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var B5=Y2,tR=X2;function nR(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nR(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function sR(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nR(t))&&(s&&(s+=" "),s+=e);return s}const hb="-",F5=t=>{const e=$5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const c=o.split(hb);return c[0]===""&&c.length!==1&&c.shift(),iR(c,e)||H5(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&s[o]?[...d,...s[o]]:d}}},iR=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?iR(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(hb);return e.validators.find(({validator:o})=>o(r))?.classGroupId},KS=/^\[(.+)\]$/,H5=t=>{if(KS.test(t)){const e=KS.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$5=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return G5(Object.entries(t.classGroups),n).forEach(([r,o])=>{Z0(o,s,r,e)}),s},Z0=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:WS(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(q5(i)){Z0(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,o])=>{Z0(o,WS(e,r),n,s)})})},WS=(t,e)=>{let n=t;return e.split(hb).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},q5=t=>t.isThemeGetter,G5=(t,e)=>e?t.map(([n,s])=>{const i=s.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([o,c])=>[e+o,c])):r);return[n,i]}):t,K5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(r,o)=>{n.set(r,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(r){let o=n.get(r);if(o!==void 0)return o;if((o=s.get(r))!==void 0)return i(r,o),o},set(r,o){n.has(r)?n.set(r,o):i(r,o)}}},rR="!",W5=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,i=e[0],r=e.length,o=c=>{const d=[];let h=0,p=0,g;for(let R=0;R<c.length;R++){let E=c[R];if(h===0){if(E===i&&(s||c.slice(R,R+r)===e)){d.push(c.slice(p,R)),p=R+r;continue}if(E==="/"){g=R;continue}}E==="["?h++:E==="]"&&h--}const v=d.length===0?c:c.substring(p),y=v.startsWith(rR),C=y?v.substring(1):v,S=g&&g>p?g-p:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:C,maybePostfixModifierPosition:S}};return n?c=>n({className:c,parseClassName:o}):o},Z5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},Y5=t=>({cache:K5(t.cacheSize),parseClassName:W5(t),...F5(t)}),Q5=/\s+/,X5=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=e,r=[],o=t.trim().split(Q5);let c="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(h);let C=!!y,S=s(C?v.substring(0,y):v);if(!S){if(!C){c=h+(c.length>0?" "+c:c);continue}if(S=s(v),!S){c=h+(c.length>0?" "+c:c);continue}C=!1}const R=Z5(p).join(":"),E=g?R+rR:R,T=E+S;if(r.includes(T))continue;r.push(T);const N=i(S,C);for(let O=0;O<N.length;++O){const H=N[O];r.push(E+H)}c=h+(c.length>0?" "+c:c)}return c};function J5(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aR(e))&&(s&&(s+=" "),s+=n);return s}const aR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=aR(t[s]))&&(n&&(n+=" "),n+=e);return n};function eV(t,...e){let n,s,i,r=o;function o(d){const h=e.reduce((p,g)=>g(p),t());return n=Y5(h),s=n.cache.get,i=n.cache.set,r=c,c(d)}function c(d){const h=s(d);if(h)return h;const p=X5(d,n);return i(d,p),p}return function(){return r(J5.apply(null,arguments))}}const bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oR=/^\[(?:([a-z-]+):)?(.+)\]$/i,tV=/^\d+\/\d+$/,nV=new Set(["px","full","screen"]),sV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=t=>Rc(t)||nV.has(t)||tV.test(t),oa=t=>gu(t,"length",pV),Rc=t=>!!t&&!Number.isNaN(Number(t)),my=t=>gu(t,"number",Rc),ad=t=>!!t&&Number.isInteger(Number(t)),lV=t=>t.endsWith("%")&&Rc(t.slice(0,-1)),De=t=>oR.test(t),la=t=>sV.test(t),cV=new Set(["length","size","percentage"]),uV=t=>gu(t,cV,lR),dV=t=>gu(t,"position",lR),hV=new Set(["image","url"]),fV=t=>gu(t,hV,vV),mV=t=>gu(t,"",gV),od=()=>!0,gu=(t,e,n)=>{const s=oR.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},pV=t=>iV.test(t)&&!rV.test(t),lR=()=>!1,gV=t=>aV.test(t),vV=t=>oV.test(t),yV=()=>{const t=bt("colors"),e=bt("spacing"),n=bt("blur"),s=bt("brightness"),i=bt("borderColor"),r=bt("borderRadius"),o=bt("borderSpacing"),c=bt("borderWidth"),d=bt("contrast"),h=bt("grayscale"),p=bt("hueRotate"),g=bt("invert"),v=bt("gap"),y=bt("gradientColorStops"),C=bt("gradientColorStopPositions"),S=bt("inset"),R=bt("margin"),E=bt("opacity"),T=bt("padding"),N=bt("saturate"),O=bt("scale"),H=bt("sepia"),G=bt("skew"),j=bt("space"),P=bt("translate"),U=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",De,e],D=()=>[De,e],z=()=>["",vr,oa],ne=()=>["auto",Rc,De],fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",De],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Rc,De];return{cacheSize:500,separator:":",theme:{colors:[od],spacing:[vr,oa],blur:["none","",la,De],brightness:le(),borderColor:[t],borderRadius:["none","","full",la,De],borderSpacing:D(),borderWidth:z(),contrast:le(),grayscale:$(),hueRotate:le(),invert:$(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[lV,oa],inset:M(),margin:M(),opacity:le(),padding:D(),saturate:le(),scale:le(),sepia:$(),skew:le(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[la]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...fe(),De]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ad,De]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",ad,De]}],"grid-cols":[{"grid-cols":[od]}],"col-start-end":[{col:["auto",{span:["full",ad,De]},De]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[od]}],"row-start-end":[{row:["auto",{span:[ad,De]},De]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[la]},la]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",la,oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",my]}],"font-family":[{font:[od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Rc,my]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,oa]}],"underline-offset":[{"underline-offset":["auto",vr,De]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...fe(),dV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[vr,De]}],"outline-w":[{outline:[vr,oa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[vr,oa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",la,mV]}],"shadow-color":[{shadow:[od]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",la,De]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[N]}],sepia:[{sepia:[H]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[ad,De]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vr,oa,my]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_V=eV(yV);function Ie(...t){return _V(sR(t))}const xV=B5,bV=b.forwardRef(({className:t,sideOffset:e=4,...n},s)=>l.jsx(tR,{ref:s,sideOffset:e,className:Ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));bV.displayName=tR.displayName;var kg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wV={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},SV=class{#e=wV;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Y0=new SV;function EV(t){setTimeout(t,0)}var Mg=typeof window>"u"||"Deno"in globalThis;function si(){}function TV(t,e){return typeof t=="function"?t(e):t}function AV(t){return typeof t=="number"&&t>=0&&t!==1/0}function NV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Q0(t,e){return typeof t=="function"?t(e):t}function CV(t,e){return typeof t=="function"?t(e):t}function ZS(t,e){const{type:n="all",exact:s,fetchStatus:i,predicate:r,queryKey:o,stale:c}=t;if(o){if(s){if(e.queryHash!==fb(o,e.options))return!1}else if(!dh(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||r&&!r(e))}function YS(t,e){const{exact:n,status:s,predicate:i,mutationKey:r}=t;if(r){if(!e.options.mutationKey)return!1;if(n){if(uh(e.options.mutationKey)!==uh(r))return!1}else if(!dh(e.options.mutationKey,r))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function fb(t,e){return(e?.queryKeyHashFn||uh)(t)}function uh(t){return JSON.stringify(t,(e,n)=>X0(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function dh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>dh(t[n],e[n])):!1}var RV=Object.prototype.hasOwnProperty;function cR(t,e){if(t===e)return t;const n=QS(t)&&QS(e);if(!n&&!(X0(t)&&X0(e)))return e;const i=(n?t:Object.keys(t)).length,r=n?e:Object.keys(e),o=r.length,c=n?new Array(o):{};let d=0;for(let h=0;h<o;h++){const p=n?h:r[h],g=t[p],v=e[p];if(g===v){c[p]=g,(n?h<i:RV.call(t,p))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){c[p]=v;continue}const y=cR(g,v);c[p]=y,y===g&&d++}return i===o&&d===i?t:c}function QS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function X0(t){if(!XS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!XS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XS(t){return Object.prototype.toString.call(t)==="[object Object]"}function jV(t){return new Promise(e=>{Y0.setTimeout(e,t)})}function PV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?cR(t,e):e}function IV(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function kV(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var mb=Symbol();function uR(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===mb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var MV=class extends kg{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Mg&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dR=new MV;function OV(){let t,e;const n=new Promise((i,r)=>{t=i,e=r});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},n.reject=i=>{s({status:"rejected",reason:i}),e(i)},n}var DV=EV;function LV(){let t=[],e=0,n=c=>{c()},s=c=>{c()},i=DV;const r=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{r(()=>{c(...d)})},schedule:r,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{i=c}}}var kn=LV(),VV=class extends kg{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Mg&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Cp=new VV;function UV(t){return Math.min(1e3*2**t,3e4)}function hR(t){return(t??"online")==="online"?Cp.isOnline():!0}var J0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function fR(t){let e=!1,n=0,s;const i=OV(),r=()=>i.status!=="pending",o=S=>{if(!r()){const R=new J0(S);v(R),t.onCancel?.(R)}},c=()=>{e=!0},d=()=>{e=!1},h=()=>dR.isFocused()&&(t.networkMode==="always"||Cp.isOnline())&&t.canRun(),p=()=>hR(t.networkMode)&&t.canRun(),g=S=>{r()||(s?.(),i.resolve(S))},v=S=>{r()||(s?.(),i.reject(S))},y=()=>new Promise(S=>{s=R=>{(r()||h())&&S(R)},t.onPause?.()}).then(()=>{s=void 0,r()||t.onContinue?.()}),C=()=>{if(r())return;let S;const R=n===0?t.initialPromise:void 0;try{S=R??t.fn()}catch(E){S=Promise.reject(E)}Promise.resolve(S).then(g).catch(E=>{if(r())return;const T=t.retry??(Mg?0:3),N=t.retryDelay??UV,O=typeof N=="function"?N(n,E):N,H=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,E);if(e||!H){v(E);return}n++,t.onFail?.(n,E),jV(O).then(()=>h()?void 0:y()).then(()=>{e?v(E):C()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?C():y().then(C),i)}}var mR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AV(this.gcTime)&&(this.#e=Y0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mg?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(Y0.clearTimeout(this.#e),this.#e=void 0)}},zV=class extends mR{#e;#t;#n;#i;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=JS(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=JS(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const s=PV(this.state.data,e,this.options);return this.#r({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(si).catch(si):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>CV(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Q0(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!NV(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},r=()=>{const d=uR(this.options,n),p=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,p,this):d(p)},c=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:r};return i(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#r({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=fR({initialPromise:n?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof J0&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(d,h)=>{this.#r({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#s.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof J0){if(d.silent)return this.#s.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#r({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#r(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...BV(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const r=e.error;return{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),kn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function BV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JS(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function eE(t){return{onFetch:(e,n)=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let p=!1;const g=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},v=uR(e.options,e.fetchOptions),y=async(C,S,R)=>{if(p)return Promise.reject();if(S==null&&C.pages.length)return Promise.resolve(C);const T=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:S,direction:R?"backward":"forward",meta:e.options.meta};return g(G),G})(),N=await v(T),{maxPages:O}=e.options,H=R?kV:IV;return{pages:H(C.pages,N,O),pageParams:H(C.pageParams,S,O)}};if(i&&r.length){const C=i==="backward",S=C?FV:tE,R={pages:r,pageParams:o},E=S(s,R);c=await y(R,E,C)}else{const C=t??r.length;do{const S=d===0?o[0]??s.initialPageParam:tE(s,c);if(d>0&&S==null)break;c=await y(c,S),d++}while(d<C)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function tE(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function FV(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var HV=class extends mR{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||$V(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})};this.#n=fR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,o)=>{this.#i({type:"failed",failureCount:r,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",i=!this.#n.canStart();try{if(s)n();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#i({type:"pending",context:o,variables:e,isPaused:i})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#i({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#i({type:"error",error:r})}}finally{this.#t.runNext(this)}}#i(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kn.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function $V(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qV=class extends kg{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new HV({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=em(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=em(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=em(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=em(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){kn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>YS(e,n))}findAll(t={}){return this.getAll().filter(e=>YS(t,e))}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return kn.batch(()=>Promise.all(t.map(e=>e.continue().catch(si))))}};function em(t){return t.options.scope?.id}var GV=class extends kg{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,i=e.queryHash??fb(s,e);let r=this.get(i);return r||(r=new zV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(r)),r}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ZS(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>ZS(t,n)):e}notify(t){kn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},KV=class{#e;#t;#n;#i;#s;#a;#o;#r;constructor(t={}){this.#e=t.queryCache||new GV,this.#t=t.mutationCache||new qV,this.#n=t.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=dR.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Cp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Q0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=this.#e.get(s.queryHash)?.state.data,o=TV(e,r);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return kn.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;kn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return kn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=kn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(s).then(si).catch(si)}invalidateQueries(t,e={}){return kn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=kn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,n);return n.throwOnError||(r=r.catch(si)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(s).then(si)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Q0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(si).catch(si)}fetchInfiniteQuery(t){return t.behavior=eE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(si).catch(si)}ensureInfiniteQueryData(t){return t.behavior=eE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(uh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(s=>{dh(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(uh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{dh(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mb&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},WV=b.createContext(void 0),ZV=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(WV.Provider,{value:t,children:e}));const YV=()=>{};var nE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QV=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(r&63)<<12|(o&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},gR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=r>>2,g=(r&3)<<4|c>>4;let v=(c&15)<<2|h>>6,y=h&63;d||(y=64,o||(v=64)),s.push(n[p],n[g],n[v],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||c==null||h==null||g==null)throw new XV;const v=r<<2|c>>4;if(s.push(v),h!==64){const y=c<<4&240|h>>2;if(s.push(y),g!==64){const C=h<<6&192|g;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JV=function(t){const e=pR(t);return gR.encodeByteArray(e,!0)},Rp=function(t){return JV(t).replace(/\./g,"")},vR=function(t){try{return gR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=()=>eU().__FIREBASE_DEFAULTS__,nU=()=>{if(typeof process>"u"||typeof nE>"u")return;const t=nE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vR(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return YV()||tU()||nU()||sU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yR=t=>Og()?.emulatorHosts?.[t],_R=t=>{const e=yR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xR=()=>Og()?.config,bR=t=>Og()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iU=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rp(JSON.stringify(n)),Rp(JSON.stringify(o)),""].join(".")}const Vd={};function aU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vd))Vd[e]?t.emulator.push(e):t.prod.push(e);return t}function oU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sE=!1;function gb(t,e){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Vd[t]===e||Vd[t]||sE)return;Vd[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",r=aU().prod.length>0;function o(){const v=document.getElementById(s);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{sE=!0,o()},v}function p(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=oU(s),y=n("text"),C=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),E=n("preprendIcon"),T=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),p(R,S);const O=h();d(T,E),N.append(T,C,R,O),document.body.appendChild(N)}r?(C.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function cU(){const t=Og()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fU(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mU(){return!cU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pU(){try{return typeof indexedDB=="object"}catch{return!1}}function gU(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="FirebaseError";class Qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vU,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kh.prototype.create)}}class Kh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?yU(r,s):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Qi(i,c,s)}}function yU(t,e){return t.replace(_U,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const _U=/\{\$([^}]+)}/g;function xU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function el(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(iE(r)&&iE(o)){if(!el(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function iE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function md(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bU(t,e){const n=new wU(t,e);return n.subscribe.bind(n)}class wU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=py),i.error===void 0&&(i.error=py),i.complete===void 0&&(i.complete=py);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function py(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Za{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iU;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AU(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);s===c&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TU(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TU(t){return t===ko?void 0:t}function AU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const CU={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},RU=Ke.INFO,jU={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},PU=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=jU[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vb{constructor(e){this.name=e,this._logLevel=RU,this._logHandler=PU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const IU=(t,e)=>e.some(n=>t instanceof n);let rE,aE;function kU(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MU(){return aE||(aE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wR=new WeakMap,e_=new WeakMap,SR=new WeakMap,gy=new WeakMap,yb=new WeakMap;function OU(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Va(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wR.set(n,t)}).catch(()=>{}),yb.set(e,t),e}function DU(t){if(e_.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});e_.set(t,e)}let t_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Va(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LU(t){t_=t(t_)}function VU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(vy(this),e,...n);return SR.set(s,e.sort?e.sort():[e]),Va(s)}:MU().includes(t)?function(...e){return t.apply(vy(this),e),Va(wR.get(this))}:function(...e){return Va(t.apply(vy(this),e))}}function UU(t){return typeof t=="function"?VU(t):(t instanceof IDBTransaction&&DU(t),IU(t,kU())?new Proxy(t,t_):t)}function Va(t){if(t instanceof IDBRequest)return OU(t);if(gy.has(t))return gy.get(t);const e=UU(t);return e!==t&&(gy.set(t,e),yb.set(e,t)),e}const vy=t=>yb.get(t);function zU(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),c=Va(o);return s&&o.addEventListener("upgradeneeded",d=>{s(Va(o.result),d.oldVersion,d.newVersion,Va(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{r&&d.addEventListener("close",()=>r()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const BU=["get","getKey","getAll","getAllKeys","count"],FU=["put","add","delete","clear"],yy=new Map;function oE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=FU.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||BU.includes(n)))return;const r=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return s&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return yy.set(e,r),r}LU(t=>({...t,get:(e,n,s)=>oE(e,n)||t.get(e,n,s),has:(e,n)=>!!oE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($U(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $U(t){return t.getComponent()?.type==="VERSION"}const n_="@firebase/app",lE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new vb("@firebase/app"),qU="@firebase/app-compat",GU="@firebase/analytics-compat",KU="@firebase/analytics",WU="@firebase/app-check-compat",ZU="@firebase/app-check",YU="@firebase/auth",QU="@firebase/auth-compat",XU="@firebase/database",JU="@firebase/data-connect",e9="@firebase/database-compat",t9="@firebase/functions",n9="@firebase/functions-compat",s9="@firebase/installations",i9="@firebase/installations-compat",r9="@firebase/messaging",a9="@firebase/messaging-compat",o9="@firebase/performance",l9="@firebase/performance-compat",c9="@firebase/remote-config",u9="@firebase/remote-config-compat",d9="@firebase/storage",h9="@firebase/storage-compat",f9="@firebase/firestore",m9="@firebase/ai",p9="@firebase/firestore-compat",g9="firebase",v9="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="[DEFAULT]",y9={[n_]:"fire-core",[qU]:"fire-core-compat",[KU]:"fire-analytics",[GU]:"fire-analytics-compat",[ZU]:"fire-app-check",[WU]:"fire-app-check-compat",[YU]:"fire-auth",[QU]:"fire-auth-compat",[XU]:"fire-rtdb",[JU]:"fire-data-connect",[e9]:"fire-rtdb-compat",[t9]:"fire-fn",[n9]:"fire-fn-compat",[s9]:"fire-iid",[i9]:"fire-iid-compat",[r9]:"fire-fcm",[a9]:"fire-fcm-compat",[o9]:"fire-perf",[l9]:"fire-perf-compat",[c9]:"fire-rc",[u9]:"fire-rc-compat",[d9]:"fire-gcs",[h9]:"fire-gcs-compat",[f9]:"fire-fst",[p9]:"fire-fst-compat",[m9]:"fire-vertex","fire-js":"fire-js",[g9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,_9=new Map,i_=new Map;function cE(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tl(t){const e=t.name;if(i_.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(const n of hh.values())cE(n,t);for(const n of _9.values())cE(n,t);return!0}function Dg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new Kh("app","Firebase",x9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=v9;function ER(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:s_,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw Ua.create("bad-app-name",{appName:String(i)});if(n||(n=xR()),!n)throw Ua.create("no-options");const r=hh.get(i);if(r){if(el(n,r.options)&&el(s,r.config))return r;throw Ua.create("duplicate-app",{appName:i})}const o=new NU(i);for(const d of i_.values())o.addComponent(d);const c=new b9(n,s,o);return hh.set(i,c),c}function _b(t=s_){const e=hh.get(t);if(!e&&t===s_&&xR())return ER();if(!e)throw Ua.create("no-app",{appName:t});return e}function uE(){return Array.from(hh.values())}function Vi(t,e,n){let s=y9[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(o.join(" "));return}tl(new Za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="firebase-heartbeat-database",S9=1,fh="firebase-heartbeat-store";let _y=null;function TR(){return _y||(_y=zU(w9,S9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ua.create("idb-open",{originalErrorMessage:t.message})})),_y}async function E9(t){try{const n=(await TR()).transaction(fh),s=await n.objectStore(fh).get(AR(t));return await n.done,s}catch(e){if(e instanceof Qi)qr.warn(e.message);else{const n=Ua.create("idb-get",{originalErrorMessage:e?.message});qr.warn(n.message)}}}async function dE(t,e){try{const s=(await TR()).transaction(fh,"readwrite");await s.objectStore(fh).put(e,AR(t)),await s.done}catch(n){if(n instanceof Qi)qr.warn(n.message);else{const s=Ua.create("idb-set",{originalErrorMessage:n?.message});qr.warn(s.message)}}}function AR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=1024,A9=30;class N9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R9(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>A9){const i=j9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hE(),{heartbeatsToSend:n,unsentEntries:s}=C9(this._heartbeatsCache.heartbeats),i=Rp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return qr.warn(e),""}}}function hE(){return new Date().toISOString().substring(0,10)}function C9(t,e=T9){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),fE(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class R9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pU()?gU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fE(t){return Rp(JSON.stringify({version:2,heartbeats:t})).length}function j9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){tl(new Za("platform-logger",e=>new HU(e),"PRIVATE")),tl(new Za("heartbeat",e=>new N9(e),"PRIVATE")),Vi(n_,lE,t),Vi(n_,lE,"esm2020"),Vi("fire-js","")}P9("");function NR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I9=NR,CR=new Kh("auth","Firebase",NR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new vb("@firebase/auth");function k9(t,...e){jp.logLevel<=Ke.WARN&&jp.warn(`Auth (${vu}): ${t}`,...e)}function jm(t,...e){jp.logLevel<=Ke.ERROR&&jp.error(`Auth (${vu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,...e){throw bb(t,...e)}function ci(t,...e){return bb(t,...e)}function xb(t,e,n){const s={...I9(),[e]:n};return new Kh("auth","Firebase",s).create(e,{appName:t.name})}function Ir(t){return xb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M9(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qs(t,"argument-error"),xb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bb(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return CR.create(t,...e)}function Ae(t,e,...n){if(!t)throw bb(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jm(e),new Error(e)}function Gr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(){return typeof self<"u"&&self.location?.href||""}function O9(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O9()||dU()||"connection"in navigator)?navigator.onLine:!0}function L9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=lU()||hU()}get(){return D9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z9=new Zh(3e4,6e4);function Qr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xi(t,e,n,s,i={}){return jR(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const c=Wh({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...r};return uU()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ro(t.emulatorConfig.host)&&(h.credentials="include"),RR.fetch()(await PR(t,t.config.apiHost,n,c),h)})}async function jR(t,e,n){t._canInitEmulator=!1;const s={...V9,...e};try{const i=new F9(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw tm(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const c=r.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw tm(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw tm(t,"user-disabled",o);const p=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw xb(t,p,h);qs(t,p)}}catch(i){if(i instanceof Qi)throw i;qs(t,"network-request-failed",{message:String(i)})}}async function Yh(t,e,n,s,i={}){const r=await Xi(t,e,n,s,i);return"mfaPendingCredential"in r&&qs(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function PR(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?wb(t.config,i):`${t.config.apiScheme}://${i}`;return U9.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function B9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),z9.get())})}}function tm(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=ci(t,e,s);return i.customData._tokenResponse=n,i}function pE(t){return t!==void 0&&t.enterprise!==void 0}class H9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return B9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $9(t,e){return Xi(t,"GET","/v2/recaptchaConfig",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e){return Xi(t,"POST","/v1/accounts:delete",e)}async function Pp(t,e){return Xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G9(t,e=!1){const n=vn(t),s=await n.getIdToken(e),i=Sb(s);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r?.sign_in_provider;return{claims:i,token:s,authTime:Ud(xy(i.auth_time)),issuedAtTime:Ud(xy(i.iat)),expirationTime:Ud(xy(i.exp)),signInProvider:o||null,signInSecondFactor:r?.sign_in_second_factor||null}}function xy(t){return Number(t)*1e3}function Sb(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=vR(n);return i?JSON.parse(i):(jm("Failed to decode base64 JWT payload"),null)}catch(i){return jm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gE(t){const e=Sb(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qi&&K9(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function K9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t){const e=t.auth,n=await t.getIdToken(),s=await Zc(t,Pp(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=i.providerUserInfo?.length?IR(i.providerUserInfo):[],o=Y9(t.providerData,r),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!o?.length,h=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Z9(t){const e=vn(t);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y9(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function IR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){const n=await jR(t,{},async()=>{const s=Wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await PR(t,i,"/v1/token",`key=${r}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:s};return t.emulatorConfig&&ro(t.emulatorConfig.host)&&(d.credentials="include"),RR.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X9(t,e){return Xi(t,"POST","/v2/accounts:revokeToken",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await Q9(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new jc;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(Ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(Ae(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new W9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new a_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G9(this,e)}reload(){return Z9(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ip(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await Zc(this,q9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:y,providerData:C,stsTokenManager:S}=n;Ae(g&&S,e,"internal-error");const R=jc.fromJSON(this.name,S);Ae(typeof g=="string",e,"internal-error"),ca(s,e.name),ca(i,e.name),Ae(typeof v=="boolean",e,"internal-error"),Ae(typeof y=="boolean",e,"internal-error"),ca(r,e.name),ca(o,e.name),ca(c,e.name),ca(d,e.name),ca(h,e.name),ca(p,e.name);const E=new ai({uid:g,auth:e,email:i,emailVerified:v,displayName:s,isAnonymous:y,photoURL:o,phoneNumber:r,tenantId:c,stsTokenManager:R,createdAt:h,lastLoginAt:p});return C&&Array.isArray(C)&&(E.providerData=C.map(T=>({...T}))),d&&(E._redirectEventId=d),E}static async _fromIdTokenResponse(e,n,s=!1){const i=new jc;i.updateFromServerResponse(n);const r=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Ip(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?IR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!r?.length,c=new jc;c.updateFromIdToken(s);const d=new ai({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!r?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;function Rr(t){Gr(t instanceof Function,"Expected a class definition");let e=vE.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kR.type="NONE";const yE=kR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e,n){return`firebase:${t}:${e}:${n}`}class Pc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Pm(this.userKey,i.apiKey,r),this.fullPersistenceKey=Pm("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pp(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Pc(Rr(yE),e,s);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||Rr(yE);const o=Pm(s,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(o);if(p){let g;if(typeof p=="string"){const v=await Pp(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ai._fromGetAccountInfoResponse(e,v,p)}else g=ai._fromJSON(e,p);h!==r&&(c=g),r=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!d.length?new Pc(r,e,s):(r=d[0],c&&await r._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(o)}catch{}})),new Pc(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UR(e))return"Blackberry";if(zR(e))return"Webos";if(OR(e))return"Safari";if((e.includes("chrome/")||DR(e))&&!e.includes("edge/"))return"Chrome";if(VR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function MR(t=Cn()){return/firefox\//i.test(t)}function OR(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DR(t=Cn()){return/crios\//i.test(t)}function LR(t=Cn()){return/iemobile/i.test(t)}function VR(t=Cn()){return/android/i.test(t)}function UR(t=Cn()){return/blackberry/i.test(t)}function zR(t=Cn()){return/webos/i.test(t)}function Eb(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function J9(t=Cn()){return Eb(t)&&!!window.navigator?.standalone}function ez(){return fU()&&document.documentMode===10}function BR(t=Cn()){return Eb(t)||VR(t)||zR(t)||UR(t)||/windows phone/i.test(t)||LR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e=[]){let n;switch(t){case"Browser":n=_E(Cn());break;case"Worker":n=`${_E(Cn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,c)=>{try{const d=e(r);o(d)}catch(d){c(d)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e={}){return Xi(t,"GET","/v2/passwordPolicy",Qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=6;class iz{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new tz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pp(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=this.redirectUser?._redirectEventId,o=s?._redirectEventId,c=await this.tryRedirectSignIn(e);(!r||r===o)&&c?.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(r){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Ir(this));const n=e?vn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nz(this),n=new iz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await X9(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Pc.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&k9(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xr(t){return vn(t)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bU(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function az(t){Lg=t}function HR(t){return Lg.loadJS(t)}function oz(){return Lg.recaptchaEnterpriseScript}function lz(){return Lg.gapiScript}function cz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uz{constructor(){this.enterprise=new dz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hz="recaptcha-enterprise",$R="NO_RECAPTCHA";class fz{constructor(e){this.type=hz,this.auth=Xr(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,c)=>{$9(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new H9(d);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(r,o,c){const d=window.grecaptcha;pE(d)?d.enterprise.ready(()=>{d.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o($R)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uz().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(c=>{if(!n&&pE(window.grecaptcha))i(c,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=oz();d.length!==0&&(d+=c),HR(d).then(()=>{i(c,r,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function bE(t,e,n,s=!1,i=!1){const r=new fz(t);let o;if(i)o=$R;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function kp(t,e,n,s,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await bE(t,e,n,n==="getOobCode");return s(t,r)}else return s(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bE(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){const n=Dg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(el(r,e??{}))return i;qs(i,"already-initialized")}return n.initialize({options:e})}function pz(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function gz(t,e,n){const s=Xr(t);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=qR(e),{host:o,port:c}=vz(e),d=c===null?"":`:${c}`,h={url:`${r}//${o}${d}/`},p=Object.freeze({host:o,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(el(h,s.config.emulator)&&el(p,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=p,s.settings.appVerificationDisabledForTesting=!0,ro(o)?(pb(`${r}//${o}${d}`),gb("Auth",!0)):yz()}function qR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vz(t){const e=qR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:wE(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:wE(o)}}}function wE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function _z(t,e){return Xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e){return Yh(t,"POST","/v1/accounts:signInWithPassword",Qr(t,e))}async function bz(t,e){return Xi(t,"POST","/v1/accounts:sendOobCode",Qr(t,e))}async function wz(t,e){return bz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}async function Ez(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Tb{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new mh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,n,"signInWithPassword",xz);case"emailLink":return Sz(e,{email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,s,"signUpPassword",_z);case"emailLink":return Ez(e,{idToken:n,email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t,e){return Yh(t,"POST","/v1/accounts:signInWithIdp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="http://localhost";class nl extends Tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const o=new nl(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ic(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ic(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ic(e,n)}buildRequest(){const e={requestUri:Tz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nz(t){const e=fd(md(t)).link,n=e?fd(md(e)).deep_link_id:null,s=fd(md(t)).deep_link_id;return(s?fd(md(s)).link:null)||s||n||e||t}class Ab{constructor(e){const n=fd(md(e)),s=n.apiKey??null,i=n.oobCode??null,r=Az(n.mode??null);Ae(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Nz(e);try{return new Ab(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.providerId=yu.PROVIDER_ID}static credential(e,n){return mh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ab.parseLink(n);return Ae(s,"argument-error"),mh._fromEmailAndCode(e,s.code,s.tenantId)}}yu.PROVIDER_ID="password";yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Nb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Qh{constructor(){super("facebook.com")}static credential(e){return nl._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nl._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Qh{constructor(){super("github.com")}static credential(e){return nl._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.GITHUB_SIGN_IN_METHOD="github.com";wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Qh{constructor(){super("twitter.com")}static credential(e,n){return nl._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Sa.credential(n,s)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e){return Yh(t,"POST","/v1/accounts:signUp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await ai._fromIdTokenResponse(e,s,i),o=SE(s);return new sl({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=SE(s);return new sl({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function SE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Qi{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Mp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Mp(e,n,s,i)}}function GR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Mp._fromErrorAndOperation(t,r,e,s):r})}async function Rz(t,e,n=!1){const s=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t,e,n=!1){const{auth:s}=t;if(Yn(s.app))return Promise.reject(Ir(s));const i="reauthenticate";try{const r=await Zc(t,GR(s,i,e,t),n);Ae(r.idToken,s,"internal-error");const o=Sb(r.idToken);Ae(o,s,"internal-error");const{sub:c}=o;return Ae(t.uid===c,s,"user-mismatch"),sl._forOperation(t,i,r)}catch(r){throw r?.code==="auth/user-not-found"&&qs(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e,n=!1){if(Yn(t.app))return Promise.reject(Ir(t));const s="signIn",i=await GR(t,s,e),r=await sl._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function Pz(t,e){return KR(Xr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t){const e=Xr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Iz(t,e,n){const s=Xr(t);await kp(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wz)}async function kz(t,e,n){if(Yn(t.app))return Promise.reject(Ir(t));const s=Xr(t),o=await kp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cz).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&WR(t),d}),c=await sl._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(c.user),c}function Mz(t,e,n){return Yn(t.app)?Promise.reject(Ir(t)):Pz(vn(t),yu.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WR(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e){return Xi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=vn(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Zc(s,Oz(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const c=s.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function Lz(t,e,n,s){return vn(t).onIdTokenChanged(e,n,s)}function Vz(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function Uz(t,e,n,s){return vn(t).onAuthStateChanged(e,n,s)}function zz(t){return vn(t).signOut()}const Op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=1e3,Fz=10;class YR extends ZR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);ez()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fz):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Bz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YR.type="LOCAL";const Hz=YR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends ZR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QR.type="SESSION";const XR=QR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Vg(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,r)),d=await $z(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((c,d)=>{const h=Cb("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),r=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(v.data.response);break;default:clearTimeout(p),clearTimeout(r),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function Gz(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function Kz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wz(){return navigator?.serviceWorker?.controller||null}function Zz(){return JR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="firebaseLocalStorageDb",Yz=1,Dp="firebaseLocalStorage",tj="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ug(t,e){return t.transaction([Dp],e?"readwrite":"readonly").objectStore(Dp)}function Qz(){const t=indexedDB.deleteDatabase(ej);return new Xh(t).toPromise()}function o_(){const t=indexedDB.open(ej,Yz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Dp,{keyPath:tj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Dp)?e(s):(s.close(),await Qz(),e(await o_()))})})}async function EE(t,e,n){const s=Ug(t,!0).put({[tj]:e,value:n});return new Xh(s).toPromise()}async function Xz(t,e){const n=Ug(t,!1).get(e),s=await new Xh(n).toPromise();return s===void 0?null:s.value}function TE(t,e){const n=Ug(t,!0).delete(e);return new Xh(n).toPromise()}const Jz=800,e7=3;class nj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>e7)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vg._getInstance(Zz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Kz(),!this.activeServiceWorker)return;this.sender=new qz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o_();return await EE(e,Op,"1"),await TE(e,Op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>EE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Xz(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Ug(i,!1).getAll();return new Xh(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nj.type="LOCAL";const t7=nj;new Zh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t,e){return e?Rr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends Tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n7(t){return KR(t.auth,new Rb(t),t.bypassAuthState)}function s7(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),jz(n,new Rb(t),t.bypassAuthState)}async function i7(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Rz(n,new Rb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n7;case"linkViaPopup":case"linkViaRedirect":return i7;case"reauthViaPopup":case"reauthViaRedirect":return s7;default:qs(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=new Zh(2e3,1e4);async function a7(t,e,n){if(Yn(t.app))return Promise.reject(ci(t,"operation-not-supported-in-this-environment"));const s=Xr(t);M9(t,e,Nb);const i=sj(s,n);return new Do(s,"signInViaPopup",e,i).executeNotNull()}class Do extends ij{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Cb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r7.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="pendingRedirect",Im=new Map;class l7 extends ij{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const s=await c7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c7(t,e){const n=h7(e),s=d7(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function u7(t,e){Im.set(t._key(),e)}function d7(t){return Rr(t._redirectPersistence)}function h7(t){return Pm(o7,t.config.apiKey,t.name)}async function f7(t,e,n=!1){if(Yn(t.app))return Promise.reject(Ir(t));const s=Xr(t),i=sj(s,e),o=await new l7(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=10*60*1e3;class p7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rj(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m7&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rj({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function g7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e={}){return Xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_7=/^https?/;async function x7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v7(t);for(const n of e)try{if(b7(n))return}catch{}qs(t,"unauthorized-domain")}function b7(t){const e=r_(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!_7.test(n))return!1;if(y7.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new Zh(3e4,6e4);function NE(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S7(t){return new Promise((e,n)=>{function s(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(ci(t,"network-request-failed"))},timeout:w7.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const i=cz("iframefcb");return Ui()[i]=()=>{gapi.load?s():n(ci(t,"network-request-failed"))},HR(`${lz()}?onload=${i}`).catch(r=>n(r))}}).catch(e=>{throw km=null,e})}let km=null;function E7(t){return km=km||S7(t),km}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=new Zh(5e3,15e3),A7="__/auth/iframe",N7="emulator/auth/iframe",C7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j7(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wb(e,N7):`https://${t.config.authDomain}/${A7}`,s={apiKey:e.apiKey,appName:t.name,v:vu},i=R7.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Wh(s).slice(1)}`}async function P7(t){const e=await E7(t),n=Ui().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:j7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C7,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=ci(t,"network-request-failed"),c=Ui().setTimeout(()=>{r(o)},T7.get());function d(){Ui().clearTimeout(c),i(s)}s.ping(d).then(d,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k7=500,M7=600,O7="_blank",D7="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L7(t,e,n,s=k7,i=M7){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const d={...I7,width:s.toString(),height:i.toString(),top:r,left:o},h=Cn().toLowerCase();n&&(c=DR(h)?O7:n),MR(h)&&(e=e||D7,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[y,C])=>`${v}${y}=${C},`,"");if(J9(h)&&c!=="_self")return V7(e||"",c),new CE(null);const g=window.open(e||"",c,p);Ae(g,t,"popup-blocked");try{g.focus()}catch{}return new CE(g)}function V7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7="__/auth/handler",z7="emulator/auth/handler",B7=encodeURIComponent("fac");async function RE(t,e,n,s,i,r){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:vu,eventId:i};if(e instanceof Nb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof Qh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${B7}=${encodeURIComponent(d)}`:"";return`${F7(t)}?${Wh(c).slice(1)}${h}`}function F7({config:t}){return t.emulator?wb(t,z7):`https://${t.authDomain}/${U7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="webStorageSupport";class H7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XR,this._completeRedirectFn=f7,this._overrideRedirectResult=u7}async _openPopup(e,n,s,i){Gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const r=await RE(e,n,s,r_(),i);return L7(e,r,Cb())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await RE(e,n,s,r_(),i);return Gz(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await P7(e),s=new p7(e);return n.register("authEvent",i=>(Ae(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(by,{type:by},i=>{const r=i?.[0]?.[by];r!==void 0&&n(!!r),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BR()||OR()||Eb()}}const $7=H7;var jE="@firebase/auth",PE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K7(t){tl(new Za("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=s.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FR(t)},h=new rz(s,i,r,d);return pz(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),tl(new Za("auth-internal",e=>{const n=Xr(e.getProvider("auth").getImmediate());return(s=>new q7(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(jE,PE,G7(t)),Vi(jE,PE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=5*60,Z7=bR("authIdTokenMaxAge")||W7;let IE=null;const Y7=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Z7)return;const i=n?.token;IE!==i&&(IE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q7(t=_b()){const e=Dg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mz(t,{popupRedirectResolver:$7,persistence:[t7,Hz,XR]}),s=bR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=Y7(r.toString());Vz(n,o,()=>o(n.currentUser)),Lz(n,c=>o(c))}}const i=yR("auth");return i&&gz(n,`http://${i}`),n}function X7(){return document.getElementsByTagName("head")?.[0]??document}az({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=ci("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",X7().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K7("Browser");var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var za,aj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,P){function U(){}U.prototype=P.prototype,j.F=P.prototype,j.prototype=new U,j.prototype.constructor=j,j.D=function(k,M,D){for(var z=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)z[ne-2]=arguments[ne];return P.prototype[M].apply(k,z)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,P,U){U||(U=0);const k=Array(16);if(typeof P=="string")for(var M=0;M<16;++M)k[M]=P.charCodeAt(U++)|P.charCodeAt(U++)<<8|P.charCodeAt(U++)<<16|P.charCodeAt(U++)<<24;else for(M=0;M<16;++M)k[M]=P[U++]|P[U++]<<8|P[U++]<<16|P[U++]<<24;P=j.g[0],U=j.g[1],M=j.g[2];let D=j.g[3],z;z=P+(D^U&(M^D))+k[0]+3614090360&4294967295,P=U+(z<<7&4294967295|z>>>25),z=D+(M^P&(U^M))+k[1]+3905402710&4294967295,D=P+(z<<12&4294967295|z>>>20),z=M+(U^D&(P^U))+k[2]+606105819&4294967295,M=D+(z<<17&4294967295|z>>>15),z=U+(P^M&(D^P))+k[3]+3250441966&4294967295,U=M+(z<<22&4294967295|z>>>10),z=P+(D^U&(M^D))+k[4]+4118548399&4294967295,P=U+(z<<7&4294967295|z>>>25),z=D+(M^P&(U^M))+k[5]+1200080426&4294967295,D=P+(z<<12&4294967295|z>>>20),z=M+(U^D&(P^U))+k[6]+2821735955&4294967295,M=D+(z<<17&4294967295|z>>>15),z=U+(P^M&(D^P))+k[7]+4249261313&4294967295,U=M+(z<<22&4294967295|z>>>10),z=P+(D^U&(M^D))+k[8]+1770035416&4294967295,P=U+(z<<7&4294967295|z>>>25),z=D+(M^P&(U^M))+k[9]+2336552879&4294967295,D=P+(z<<12&4294967295|z>>>20),z=M+(U^D&(P^U))+k[10]+4294925233&4294967295,M=D+(z<<17&4294967295|z>>>15),z=U+(P^M&(D^P))+k[11]+2304563134&4294967295,U=M+(z<<22&4294967295|z>>>10),z=P+(D^U&(M^D))+k[12]+1804603682&4294967295,P=U+(z<<7&4294967295|z>>>25),z=D+(M^P&(U^M))+k[13]+4254626195&4294967295,D=P+(z<<12&4294967295|z>>>20),z=M+(U^D&(P^U))+k[14]+2792965006&4294967295,M=D+(z<<17&4294967295|z>>>15),z=U+(P^M&(D^P))+k[15]+1236535329&4294967295,U=M+(z<<22&4294967295|z>>>10),z=P+(M^D&(U^M))+k[1]+4129170786&4294967295,P=U+(z<<5&4294967295|z>>>27),z=D+(U^M&(P^U))+k[6]+3225465664&4294967295,D=P+(z<<9&4294967295|z>>>23),z=M+(P^U&(D^P))+k[11]+643717713&4294967295,M=D+(z<<14&4294967295|z>>>18),z=U+(D^P&(M^D))+k[0]+3921069994&4294967295,U=M+(z<<20&4294967295|z>>>12),z=P+(M^D&(U^M))+k[5]+3593408605&4294967295,P=U+(z<<5&4294967295|z>>>27),z=D+(U^M&(P^U))+k[10]+38016083&4294967295,D=P+(z<<9&4294967295|z>>>23),z=M+(P^U&(D^P))+k[15]+3634488961&4294967295,M=D+(z<<14&4294967295|z>>>18),z=U+(D^P&(M^D))+k[4]+3889429448&4294967295,U=M+(z<<20&4294967295|z>>>12),z=P+(M^D&(U^M))+k[9]+568446438&4294967295,P=U+(z<<5&4294967295|z>>>27),z=D+(U^M&(P^U))+k[14]+3275163606&4294967295,D=P+(z<<9&4294967295|z>>>23),z=M+(P^U&(D^P))+k[3]+4107603335&4294967295,M=D+(z<<14&4294967295|z>>>18),z=U+(D^P&(M^D))+k[8]+1163531501&4294967295,U=M+(z<<20&4294967295|z>>>12),z=P+(M^D&(U^M))+k[13]+2850285829&4294967295,P=U+(z<<5&4294967295|z>>>27),z=D+(U^M&(P^U))+k[2]+4243563512&4294967295,D=P+(z<<9&4294967295|z>>>23),z=M+(P^U&(D^P))+k[7]+1735328473&4294967295,M=D+(z<<14&4294967295|z>>>18),z=U+(D^P&(M^D))+k[12]+2368359562&4294967295,U=M+(z<<20&4294967295|z>>>12),z=P+(U^M^D)+k[5]+4294588738&4294967295,P=U+(z<<4&4294967295|z>>>28),z=D+(P^U^M)+k[8]+2272392833&4294967295,D=P+(z<<11&4294967295|z>>>21),z=M+(D^P^U)+k[11]+1839030562&4294967295,M=D+(z<<16&4294967295|z>>>16),z=U+(M^D^P)+k[14]+4259657740&4294967295,U=M+(z<<23&4294967295|z>>>9),z=P+(U^M^D)+k[1]+2763975236&4294967295,P=U+(z<<4&4294967295|z>>>28),z=D+(P^U^M)+k[4]+1272893353&4294967295,D=P+(z<<11&4294967295|z>>>21),z=M+(D^P^U)+k[7]+4139469664&4294967295,M=D+(z<<16&4294967295|z>>>16),z=U+(M^D^P)+k[10]+3200236656&4294967295,U=M+(z<<23&4294967295|z>>>9),z=P+(U^M^D)+k[13]+681279174&4294967295,P=U+(z<<4&4294967295|z>>>28),z=D+(P^U^M)+k[0]+3936430074&4294967295,D=P+(z<<11&4294967295|z>>>21),z=M+(D^P^U)+k[3]+3572445317&4294967295,M=D+(z<<16&4294967295|z>>>16),z=U+(M^D^P)+k[6]+76029189&4294967295,U=M+(z<<23&4294967295|z>>>9),z=P+(U^M^D)+k[9]+3654602809&4294967295,P=U+(z<<4&4294967295|z>>>28),z=D+(P^U^M)+k[12]+3873151461&4294967295,D=P+(z<<11&4294967295|z>>>21),z=M+(D^P^U)+k[15]+530742520&4294967295,M=D+(z<<16&4294967295|z>>>16),z=U+(M^D^P)+k[2]+3299628645&4294967295,U=M+(z<<23&4294967295|z>>>9),z=P+(M^(U|~D))+k[0]+4096336452&4294967295,P=U+(z<<6&4294967295|z>>>26),z=D+(U^(P|~M))+k[7]+1126891415&4294967295,D=P+(z<<10&4294967295|z>>>22),z=M+(P^(D|~U))+k[14]+2878612391&4294967295,M=D+(z<<15&4294967295|z>>>17),z=U+(D^(M|~P))+k[5]+4237533241&4294967295,U=M+(z<<21&4294967295|z>>>11),z=P+(M^(U|~D))+k[12]+1700485571&4294967295,P=U+(z<<6&4294967295|z>>>26),z=D+(U^(P|~M))+k[3]+2399980690&4294967295,D=P+(z<<10&4294967295|z>>>22),z=M+(P^(D|~U))+k[10]+4293915773&4294967295,M=D+(z<<15&4294967295|z>>>17),z=U+(D^(M|~P))+k[1]+2240044497&4294967295,U=M+(z<<21&4294967295|z>>>11),z=P+(M^(U|~D))+k[8]+1873313359&4294967295,P=U+(z<<6&4294967295|z>>>26),z=D+(U^(P|~M))+k[15]+4264355552&4294967295,D=P+(z<<10&4294967295|z>>>22),z=M+(P^(D|~U))+k[6]+2734768916&4294967295,M=D+(z<<15&4294967295|z>>>17),z=U+(D^(M|~P))+k[13]+1309151649&4294967295,U=M+(z<<21&4294967295|z>>>11),z=P+(M^(U|~D))+k[4]+4149444226&4294967295,P=U+(z<<6&4294967295|z>>>26),z=D+(U^(P|~M))+k[11]+3174756917&4294967295,D=P+(z<<10&4294967295|z>>>22),z=M+(P^(D|~U))+k[2]+718787259&4294967295,M=D+(z<<15&4294967295|z>>>17),z=U+(D^(M|~P))+k[9]+3951481745&4294967295,j.g[0]=j.g[0]+P&4294967295,j.g[1]=j.g[1]+(M+(z<<21&4294967295|z>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+D&4294967295}s.prototype.v=function(j,P){P===void 0&&(P=j.length);const U=P-this.blockSize,k=this.C;let M=this.h,D=0;for(;D<P;){if(M==0)for(;D<=U;)i(this,j,D),D+=this.blockSize;if(typeof j=="string"){for(;D<P;)if(k[M++]=j.charCodeAt(D++),M==this.blockSize){i(this,k),M=0;break}}else for(;D<P;)if(k[M++]=j[D++],M==this.blockSize){i(this,k),M=0;break}}this.h=M,this.o+=P},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var P=1;P<j.length-8;++P)j[P]=0;P=this.o*8;for(var U=j.length-8;U<j.length;++U)j[U]=P&255,P/=256;for(this.v(j),j=Array(16),P=0,U=0;U<4;++U)for(let k=0;k<32;k+=8)j[P++]=this.g[U]>>>k&255;return j};function r(j,P){var U=c;return Object.prototype.hasOwnProperty.call(U,j)?U[j]:U[j]=P(j)}function o(j,P){this.h=P;const U=[];let k=!0;for(let M=j.length-1;M>=0;M--){const D=j[M]|0;k&&D==P||(U[M]=D,k=!1)}this.g=U}var c={};function d(j){return-128<=j&&j<128?r(j,function(P){return new o([P|0],P<0?-1:0)}):new o([j|0],j<0?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return g;if(j<0)return R(h(-j));const P=[];let U=1;for(let k=0;j>=U;k++)P[k]=j/U|0,U*=4294967296;return new o(P,0)}function p(j,P){if(j.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(j.charAt(0)=="-")return R(p(j.substring(1),P));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=h(Math.pow(P,8));let k=g;for(let D=0;D<j.length;D+=8){var M=Math.min(8,j.length-D);const z=parseInt(j.substring(D,D+M),P);M<8?(M=h(Math.pow(P,M)),k=k.j(M).add(h(z))):(k=k.j(U),k=k.add(h(z)))}return k}var g=d(0),v=d(1),y=d(16777216);t=o.prototype,t.m=function(){if(S(this))return-R(this).m();let j=0,P=1;for(let U=0;U<this.g.length;U++){const k=this.i(U);j+=(k>=0?k:4294967296+k)*P,P*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(C(this))return"0";if(S(this))return"-"+R(this).toString(j);const P=h(Math.pow(j,6));var U=this;let k="";for(;;){const M=O(U,P).g;U=E(U,M.j(P));let D=((U.g.length>0?U.g[0]:U.h)>>>0).toString(j);if(U=M,C(U))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function C(j){if(j.h!=0)return!1;for(let P=0;P<j.g.length;P++)if(j.g[P]!=0)return!1;return!0}function S(j){return j.h==-1}t.l=function(j){return j=E(this,j),S(j)?-1:C(j)?0:1};function R(j){const P=j.g.length,U=[];for(let k=0;k<P;k++)U[k]=~j.g[k];return new o(U,~j.h).add(v)}t.abs=function(){return S(this)?R(this):this},t.add=function(j){const P=Math.max(this.g.length,j.g.length),U=[];let k=0;for(let M=0;M<=P;M++){let D=k+(this.i(M)&65535)+(j.i(M)&65535),z=(D>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);k=z>>>16,D&=65535,z&=65535,U[M]=z<<16|D}return new o(U,U[U.length-1]&-2147483648?-1:0)};function E(j,P){return j.add(R(P))}t.j=function(j){if(C(this)||C(j))return g;if(S(this))return S(j)?R(this).j(R(j)):R(R(this).j(j));if(S(j))return R(this.j(R(j)));if(this.l(y)<0&&j.l(y)<0)return h(this.m()*j.m());const P=this.g.length+j.g.length,U=[];for(var k=0;k<2*P;k++)U[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<j.g.length;M++){const D=this.i(k)>>>16,z=this.i(k)&65535,ne=j.i(M)>>>16,fe=j.i(M)&65535;U[2*k+2*M]+=z*fe,T(U,2*k+2*M),U[2*k+2*M+1]+=D*fe,T(U,2*k+2*M+1),U[2*k+2*M+1]+=z*ne,T(U,2*k+2*M+1),U[2*k+2*M+2]+=D*ne,T(U,2*k+2*M+2)}for(j=0;j<P;j++)U[j]=U[2*j+1]<<16|U[2*j];for(j=P;j<2*P;j++)U[j]=0;return new o(U,0)};function T(j,P){for(;(j[P]&65535)!=j[P];)j[P+1]+=j[P]>>>16,j[P]&=65535,P++}function N(j,P){this.g=j,this.h=P}function O(j,P){if(C(P))throw Error("division by zero");if(C(j))return new N(g,g);if(S(j))return P=O(R(j),P),new N(R(P.g),R(P.h));if(S(P))return P=O(j,R(P)),new N(R(P.g),P.h);if(j.g.length>30){if(S(j)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var U=v,k=P;k.l(j)<=0;)U=H(U),k=H(k);var M=G(U,1),D=G(k,1);for(k=G(k,2),U=G(U,2);!C(k);){var z=D.add(k);z.l(j)<=0&&(M=M.add(U),D=z),k=G(k,1),U=G(U,1)}return P=E(j,M.j(P)),new N(M,P)}for(M=g;j.l(P)>=0;){for(U=Math.max(1,Math.floor(j.m()/P.m())),k=Math.ceil(Math.log(U)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=h(U),z=D.j(P);S(z)||z.l(j)>0;)U-=k,D=h(U),z=D.j(P);C(D)&&(D=v),M=M.add(D),j=E(j,z)}return new N(M,j)}t.B=function(j){return O(this,j).h},t.and=function(j){const P=Math.max(this.g.length,j.g.length),U=[];for(let k=0;k<P;k++)U[k]=this.i(k)&j.i(k);return new o(U,this.h&j.h)},t.or=function(j){const P=Math.max(this.g.length,j.g.length),U=[];for(let k=0;k<P;k++)U[k]=this.i(k)|j.i(k);return new o(U,this.h|j.h)},t.xor=function(j){const P=Math.max(this.g.length,j.g.length),U=[];for(let k=0;k<P;k++)U[k]=this.i(k)^j.i(k);return new o(U,this.h^j.h)};function H(j){const P=j.g.length+1,U=[];for(let k=0;k<P;k++)U[k]=j.i(k)<<1|j.i(k-1)>>>31;return new o(U,j.h)}function G(j,P){const U=P>>5;P%=32;const k=j.g.length-U,M=[];for(let D=0;D<k;D++)M[D]=P>0?j.i(D+U)>>>P|j.i(D+U+1)<<32-P:j.i(D+U);return new o(M,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,aj=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,za=o}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oj,pd,lj,Mm,l_,cj,uj,dj;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof nm=="object"&&nm];for(var x=0;x<f.length;++x){var A=f[x];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=n(this);function i(f,x){if(x)e:{var A=s;f=f.split(".");for(var V=0;V<f.length-1;V++){var W=f[V];if(!(W in A))break e;A=A[W]}f=f[f.length-1],V=A[f],x=x(V),x!=V&&x!=null&&e(A,f,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(x){var A=[],V;for(V in x)Object.prototype.hasOwnProperty.call(x,V)&&A.push([V,x[V]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},o=this||self;function c(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function d(f,x,A){return f.call.apply(f.bind,arguments)}function h(f,x,A){return h=d,h.apply(null,arguments)}function p(f,x){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function g(f,x){function A(){}A.prototype=x.prototype,f.Z=x.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(V,W,Y){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return x.prototype[W].apply(V,ue)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function y(f){const x=f.length;if(x>0){const A=Array(x);for(let V=0;V<x;V++)A[V]=f[V];return A}return[]}function C(f,x){for(let V=1;V<arguments.length;V++){const W=arguments[V];var A=typeof W;if(A=A!="object"?A:W?Array.isArray(W)?"array":A:"null",A=="array"||A=="object"&&typeof W.length=="number"){A=f.length||0;const Y=W.length||0;f.length=A+Y;for(let ue=0;ue<Y;ue++)f[A+ue]=W[ue]}else f.push(W)}}class S{constructor(x,A){this.i=x,this.j=A,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function R(f){o.setTimeout(()=>{throw f},0)}function E(){var f=j;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class T{constructor(){this.h=this.g=null}add(x,A){const V=N.get();V.set(x,A),this.h?this.h.next=V:this.g=V,this.h=V}}var N=new S(()=>new O,f=>f.reset());class O{constructor(){this.next=this.g=this.h=null}set(x,A){this.h=x,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let H,G=!1,j=new T,P=()=>{const f=Promise.resolve(void 0);H=()=>{f.then(U)}};function U(){for(var f;f=E();){try{f.h.call(f.g)}catch(A){R(A)}var x=N;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}G=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};o.addEventListener("test",A,x),o.removeEventListener("test",A,x)}catch{}return f}();function z(f){return/^[\s\xa0]*$/.test(f)}function ne(f,x){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}g(ne,M),ne.prototype.init=function(f,x){const A=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(A=="mouseover"?x=f.fromElement:A=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),K=0;function ee(f,x,A,V,W){this.listener=f,this.proxy=null,this.src=x,this.type=A,this.capture=!!V,this.ha=W,this.key=++K,this.da=this.fa=!1}function B(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $(f,x,A){for(const V in f)x.call(A,f[V],V,f)}function X(f,x){for(const A in f)x.call(void 0,f[A],A,f)}function le(f){const x={};for(const A in f)x[A]=f[A];return x}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(f,x){let A,V;for(let W=1;W<arguments.length;W++){V=arguments[W];for(A in V)f[A]=V[A];for(let Y=0;Y<q.length;Y++)A=q[Y],Object.prototype.hasOwnProperty.call(V,A)&&(f[A]=V[A])}}function ae(f){this.src=f,this.g={},this.h=0}ae.prototype.add=function(f,x,A,V,W){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const ue=me(f,x,V,W);return ue>-1?(x=f[ue],A||(x.fa=!1)):(x=new ee(x,this.src,Y,!!V,W),x.fa=A,f.push(x)),x};function de(f,x){const A=x.type;if(A in f.g){var V=f.g[A],W=Array.prototype.indexOf.call(V,x,void 0),Y;(Y=W>=0)&&Array.prototype.splice.call(V,W,1),Y&&(B(x),f.g[A].length==0&&(delete f.g[A],f.h--))}}function me(f,x,A,V){for(let W=0;W<f.length;++W){const Y=f[W];if(!Y.da&&Y.listener==x&&Y.capture==!!A&&Y.ha==V)return W}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),ke={};function gt(f,x,A,V,W){if(Array.isArray(x)){for(let Y=0;Y<x.length;Y++)gt(f,x[Y],A,V,W);return null}return A=Gs(A),f&&f[fe]?f.J(x,A,c(V)?!!V.capture:!1,W):qe(f,x,A,!1,V,W)}function qe(f,x,A,V,W,Y){if(!x)throw Error("Invalid event type");const ue=c(W)?!!W.capture:!!W;let je=es(f);if(je||(f[ie]=je=new ae(f)),A=je.add(x,A,V,ue,Y),A.proxy)return A;if(V=Ge(),A.proxy=V,V.src=f,V.listener=A,f.addEventListener)D||(W=ue),W===void 0&&(W=!1),f.addEventListener(x.toString(),V,W);else if(f.attachEvent)f.attachEvent(Dn(x.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ge(){function f(A){return x.call(f.src,f.listener,A)}const x=gi;return f}function et(f,x,A,V,W){if(Array.isArray(x))for(var Y=0;Y<x.length;Y++)et(f,x[Y],A,V,W);else V=c(V)?!!V.capture:!!V,A=Gs(A),f&&f[fe]?(f=f.i,Y=String(x).toString(),Y in f.g&&(x=f.g[Y],A=me(x,A,V,W),A>-1&&(B(x[A]),Array.prototype.splice.call(x,A,1),x.length==0&&(delete f.g[Y],f.h--)))):f&&(f=es(f))&&(x=f.g[x.toString()],f=-1,x&&(f=me(x,A,V,W)),(A=f>-1?x[f]:null)&&At(A))}function At(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[fe])de(x.i,f);else{var A=f.type,V=f.proxy;x.removeEventListener?x.removeEventListener(A,V,f.capture):x.detachEvent?x.detachEvent(Dn(A),V):x.addListener&&x.removeListener&&x.removeListener(V),(A=es(x))?(de(A,f),A.h==0&&(A.src=null,x[ie]=null)):B(f)}}}function Dn(f){return f in ke?ke[f]:ke[f]="on"+f}function gi(f,x){if(f.da)f=!0;else{x=new ne(x,this);const A=f.listener,V=f.ha||f.src;f.fa&&At(f),f=A.call(V,x)}return f}function es(f){return f=f[ie],f instanceof ae?f:null}var ts="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gs(f){return typeof f=="function"?f:(f[ts]||(f[ts]=function(x){return f.handleEvent(x)}),f[ts])}function Ut(){k.call(this),this.i=new ae(this),this.M=this,this.G=null}g(Ut,k),Ut.prototype[fe]=!0,Ut.prototype.removeEventListener=function(f,x,A,V){et(this,f,x,A,V)};function Mt(f,x){var A,V=f.G;if(V)for(A=[];V;V=V.G)A.push(V);if(f=f.M,V=x.type||x,typeof x=="string")x=new M(x,f);else if(x instanceof M)x.target=x.target||f;else{var W=x;x=new M(V,f),ce(x,W)}W=!0;let Y,ue;if(A)for(ue=A.length-1;ue>=0;ue--)Y=x.g=A[ue],W=Ln(Y,V,!0,x)&&W;if(Y=x.g=f,W=Ln(Y,V,!0,x)&&W,W=Ln(Y,V,!1,x)&&W,A)for(ue=0;ue<A.length;ue++)Y=x.g=A[ue],W=Ln(Y,V,!1,x)&&W}Ut.prototype.N=function(){if(Ut.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const A=f.g[x];for(let V=0;V<A.length;V++)B(A[V]);delete f.g[x],f.h--}}this.G=null},Ut.prototype.J=function(f,x,A,V){return this.i.add(String(f),x,!1,A,V)},Ut.prototype.K=function(f,x,A,V){return this.i.add(String(f),x,!0,A,V)};function Ln(f,x,A,V){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let W=!0;for(let Y=0;Y<x.length;++Y){const ue=x[Y];if(ue&&!ue.da&&ue.capture==A){const je=ue.listener,st=ue.ha||ue.src;ue.fa&&de(f.i,ue),W=je.call(st,V)!==!1&&W}}return W&&!V.defaultPrevented}function co(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:o.setTimeout(f,x||0)}function ns(f){f.g=co(()=>{f.g=null,f.i&&(f.i=!1,ns(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Ru extends k{constructor(x,A){super(),this.m=x,this.l=A,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(f){k.call(this),this.h=f,this.g={}}g(Ji,k);var Kt=[];function bs(f){$(f.g,function(x,A){this.g.hasOwnProperty(A)&&At(x)},f),f.g={}}Ji.prototype.N=function(){Ji.Z.N.call(this),bs(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jr=o.JSON.stringify,ju=o.JSON.parse,er=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function uo(){}function ho(){}var ws={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vn(){M.call(this,"d")}g(Vn,M);function tr(){M.call(this,"c")}g(tr,M);var _n={},vi=null;function ea(){return vi=vi||new Ut}_n.Ia="serverreachability";function fo(f){M.call(this,_n.Ia,f)}g(fo,M);function Ks(f){const x=ea();Mt(x,new fo(x))}_n.STAT_EVENT="statevent";function mo(f,x){M.call(this,_n.STAT_EVENT,f),this.stat=x}g(mo,M);function jt(f){const x=ea();Mt(x,new mo(x,f))}_n.Ja="timingevent";function ss(f,x){M.call(this,_n.Ja,f),this.size=x}g(ss,M);function nr(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},x)}function Ee(){this.g=!0}Ee.prototype.ua=function(){this.g=!1};function tt(f,x,A,V,W,Y){f.info(function(){if(f.g)if(Y){var ue="",je=Y.split("&");for(let lt=0;lt<je.length;lt++){var st=je[lt].split("=");if(st.length>1){const Ot=st[0];st=st[1];const Cs=Ot.split("_");ue=Cs.length>=2&&Cs[1]=="type"?ue+(Ot+"="+st+"&"):ue+(Ot+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+V+") [attempt "+W+"]: "+x+`
`+A+`
`+ue})}function ft(f,x,A,V,W,Y,ue){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+W+"]: "+x+`
`+A+`
`+Y+" "+ue})}function zt(f,x,A,V){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ss(f,A)+(V?" "+V:"")})}function dn(f,x){f.info(function(){return"TIMEOUT: "+x})}Ee.prototype.info=function(){};function Ss(f,x){if(!f.g)return x;if(!x)return null;try{const Y=JSON.parse(x);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var A=Y[f];if(!(A.length<2)){var V=A[1];if(Array.isArray(V)&&!(V.length<1)){var W=V[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ue=1;ue<V.length;ue++)V[ue]=""}}}}return Jr(Y)}catch{return x}}var Un={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},is;function zn(){}g(zn,uo),zn.prototype.g=function(){return new XMLHttpRequest},is=new zn;function xe(f){return encodeURIComponent(String(f))}function hf(f){var x=1;f=f.split(":");const A=[];for(;x>0&&f.length;)A.push(f.shift()),x--;return f.length&&A.push(f.join(":")),A}function Ws(f,x,A,V){this.j=f,this.i=x,this.l=A,this.S=V||1,this.V=new Ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Iu={},po={};function xl(f,x,A){f.M=1,f.A=yt(Rn(x)),f.u=A,f.R=!0,sr(f,null)}function sr(f,x){f.F=Date.now(),bl(f),f.B=Rn(f.A);var A=f.B,V=f.S;Array.isArray(V)||(V=[String(V)]),Al(A.i,"t",V),f.C=0,A=f.j.L,f.h=new Pu,f.g=Gu(f.j,A?x:null,!f.u),f.P>0&&(f.O=new Ru(h(f.Y,f,f.g),f.P)),x=f.V,A=f.g,V=f.ba;var W="readystatechange";Array.isArray(W)||(W&&(Kt[0]=W.toString()),W=Kt);for(let Y=0;Y<W.length;Y++){const ue=gt(A,W[Y],V||x.handleEvent,!1,x.h||x);if(!ue)break;x.g[ue.key]=ue}x=f.J?le(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),Ks(),tt(f.i,f.v,f.B,f.l,f.S,f.u)}Ws.prototype.ba=function(f){f=f.target;const x=this.O;x&&bi(f)==3?x.j():this.Y(f)},Ws.prototype.Y=function(f){try{if(f==this.g)e:{const je=bi(this.g),st=this.g.ya(),lt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Uu(this.g)))){this.K||je!=4||st==7||(st==8||lt<=0?Ks(3):Ks(2)),wl(this);var x=this.g.ca();this.X=x;var A=ff(this);if(this.o=x==200,ft(this.i,this.v,this.B,this.l,this.S,je,x),this.o){if(this.U&&!this.L){t:{if(this.g){var V,W=this.g;if((V=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(V)){var Y=V;break t}}Y=null}if(f=Y)zt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ku(this,f);else{this.o=!1,this.m=3,jt(12),Es(this),go(this);break e}}if(this.R){f=!0;let Ot;for(;!this.K&&this.C<A.length;)if(Ot=Ev(this,A),Ot==po){je==4&&(this.m=4,jt(14),f=!1),zt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Iu){this.m=4,jt(15),zt(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else zt(this.i,this.l,Ot,null),ku(this,Ot);if(mf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||A.length!=0||this.h.h||(this.m=1,jt(16),f=!1),this.o=this.o&&f,!f)zt(this.i,this.l,A,"[Invalid Chunked Response]"),Es(this),go(this);else if(A.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),$u(ue),ue.P=!0,jt(11))}}else zt(this.i,this.l,A,null),ku(this,A);je==4&&Es(this),this.o&&!this.K&&(je==4?as(this.j,this):(this.o=!1,bl(this)))}else zu(this.g),x==400&&A.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Es(this),go(this)}}}catch{}finally{}};function ff(f){if(!mf(f))return f.g.la();const x=Uu(f.g);if(x==="")return"";let A="";const V=x.length,W=bi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Es(f),go(f),"";f.h.i=new o.TextDecoder}for(let Y=0;Y<V;Y++)f.h.h=!0,A+=f.h.i.decode(x[Y],{stream:!(W&&Y==V-1)});return x.length=0,f.h.g+=A,f.C=0,f.h.g}function mf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ev(f,x){var A=f.C,V=x.indexOf(`
`,A);return V==-1?po:(A=Number(x.substring(A,V)),isNaN(A)?Iu:(V+=1,V+A>x.length?po:(x=x.slice(V,V+A),f.C=V+A,x)))}Ws.prototype.cancel=function(){this.K=!0,Es(this)};function bl(f){f.T=Date.now()+f.H,pf(f,f.H)}function pf(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=nr(h(f.aa,f),x)}function wl(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Ws.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(dn(this.i,this.B),this.M!=2&&(Ks(),jt(17)),Es(this),this.m=2,go(this)):pf(this,this.T-f)};function go(f){f.j.I==0||f.K||as(f.j,f)}function Es(f){wl(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,bs(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function ku(f,x){try{var A=f.j;if(A.I!=0&&(A.g==f||vo(A.h,f))){if(!f.L&&vo(A.h,f)&&A.I==3){try{var V=A.Ba.g.parse(x)}catch{V=null}if(Array.isArray(V)&&V.length==3){var W=V;if(W[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)Pl(A),Rl(A);else break e;Hu(A),jt(18)}}else A.xa=W[1],0<A.xa-A.K&&W[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=nr(h(A.Va,A),6e3));yf(A.h)<=1&&A.ta&&(A.ta=void 0)}else Si(A,11)}else if((f.L||A.g==f)&&Pl(A),!z(x))for(W=A.Ba.g.parse(x),x=0;x<W.length;x++){let lt=W[x];const Ot=lt[0];if(!(Ot<=A.K))if(A.K=Ot,lt=lt[1],A.I==2)if(lt[0]=="c"){A.M=lt[1],A.ba=lt[2];const Cs=lt[3];Cs!=null&&(A.ka=Cs,A.j.info("VER="+A.ka));const Qs=lt[4];Qs!=null&&(A.za=Qs,A.j.info("SVER="+A.za));const Rs=lt[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(V=1.5*Rs,A.O=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Ei=f.g;if(Ei){const Ml=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var Y=V.h;Y.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ir(Y,Y.h),Y.h=null))}if(V.G){const Ol=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(V.wa=Ol,_e(V.J,V.G,Ol))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),V=A;var ue=f;if(V.na=qu(V,V.L?V.ba:null,V.W),ue.L){Mu(V.h,ue);var je=ue,st=V.O;st&&(je.H=st),je.D&&(wl(je),bl(je)),V.g=ue}else Fu(V);A.i.length>0&&wi(A)}else lt[0]!="stop"&&lt[0]!="close"||Si(A,7);else A.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Si(A,7):Ue(A):lt[0]!="noop"&&A.l&&A.l.qa(lt),A.A=0)}}Ks(4)}catch{}}var Tv=class{constructor(f,x){this.g=f,this.map=x}};function gf(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vf(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function yf(f){return f.h?1:f.g?f.g.size:0}function vo(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function ir(f,x){f.g?f.g.add(x):f.h=x}function Mu(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}gf.prototype.cancel=function(){if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ou(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const A of f.g.values())x=x.concat(A.G);return x}return y(f.i)}var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qe(f,x){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const V=f[A].indexOf("=");let W,Y=null;V>=0?(W=f[A].substring(0,V),Y=f[A].substring(V+1)):W=f[A],x(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function nt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof nt?(this.l=f.l,Ts(this,f.j),this.o=f.o,this.g=f.g,As(this,f.u),this.h=f.h,yo(this,_o(f.i)),this.m=f.m):f&&(x=String(f).match(ta))?(this.l=!1,Ts(this,x[1]||"",!0),this.o=rr(x[2]||""),this.g=rr(x[3]||"",!0),As(this,x[4]),this.h=rr(x[5]||"",!0),yo(this,x[6]||"",!0),this.m=rr(x[7]||"")):(this.l=!1,this.i=new Zs(null,this.l))}nt.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(yi(x,_f,!0),":");var A=this.g;return(A||x=="file")&&(f.push("//"),(x=this.o)&&f.push(yi(x,_f,!0),"@"),f.push(xe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(yi(A,A.charAt(0)=="/"?ar:Sl,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",yi(A,or)),f.join("")},nt.prototype.resolve=function(f){const x=Rn(this);let A=!!f.j;A?Ts(x,f.j):A=!!f.o,A?x.o=f.o:A=!!f.g,A?x.g=f.g:A=f.u!=null;var V=f.h;if(A)As(x,f.u);else if(A=!!f.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var W=x.h.lastIndexOf("/");W!=-1&&(V=x.h.slice(0,W+1)+V)}if(W=V,W==".."||W==".")V="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){V=W.lastIndexOf("/",0)==0,W=W.split("/");const Y=[];for(let ue=0;ue<W.length;){const je=W[ue++];je=="."?V&&ue==W.length&&Y.push(""):je==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),V&&ue==W.length&&Y.push("")):(Y.push(je),V=!0)}V=Y.join("/")}else V=W}return A?x.h=V:A=f.i.toString()!=="",A?yo(x,_o(f.i)):A=!!f.m,A&&(x.m=f.m),x};function Rn(f){return new nt(f)}function Ts(f,x,A){f.j=A?rr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function As(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function yo(f,x,A){x instanceof Zs?(f.i=x,Du(f.i,f.l)):(A||(x=yi(x,Pt)),f.i=new Zs(x,f.l))}function _e(f,x,A){f.i.set(x,A)}function yt(f){return _e(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function rr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function yi(f,x,A){return typeof f=="string"?(f=encodeURI(f).replace(x,Bn),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Bn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _f=/[#\/\?@]/g,Sl=/[#\?:]/g,ar=/[#\?]/g,Pt=/[#\?@]/g,or=/#/g;function Zs(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function rs(f){f.g||(f.g=new Map,f.h=0,f.i&&Qe(f.i,function(x,A){f.add(decodeURIComponent(x.replace(/\+/g," ")),A)}))}t=Zs.prototype,t.add=function(f,x){rs(this),this.i=null,f=_i(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(x),this.h+=1,this};function El(f,x){rs(f),x=_i(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function na(f,x){return rs(f),x=_i(f,x),f.g.has(x)}t.forEach=function(f,x){rs(this),this.g.forEach(function(A,V){A.forEach(function(W){f.call(x,W,V,this)},this)},this)};function Tl(f,x){rs(f);let A=[];if(typeof x=="string")na(f,x)&&(A=A.concat(f.g.get(_i(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)A=A.concat(f[x]);return A}t.set=function(f,x){return rs(this),this.i=null,f=_i(this,f),na(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=Tl(this,f),f.length>0?String(f[0]):x):x};function Al(f,x,A){El(f,x),A.length>0&&(f.i=null,f.g.set(_i(f,x),y(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let V=0;V<x.length;V++){var A=x[V];const W=xe(A);A=Tl(this,A);for(let Y=0;Y<A.length;Y++){let ue=W;A[Y]!==""&&(ue+="="+xe(A[Y])),f.push(ue)}}return this.i=f.join("&")};function _o(f){const x=new Zs;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function _i(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Du(f,x){x&&!f.j&&(rs(f),f.i=null,f.g.forEach(function(A,V){const W=V.toLowerCase();V!=W&&(El(this,V),Al(this,W,A))},f)),f.j=x}function Nl(f,x){const A=new Ee;if(o.Image){const V=new Image;V.onload=p(Ns,A,"TestLoadImage: loaded",!0,x,V),V.onerror=p(Ns,A,"TestLoadImage: error",!1,x,V),V.onabort=p(Ns,A,"TestLoadImage: abort",!1,x,V),V.ontimeout=p(Ns,A,"TestLoadImage: timeout",!1,x,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else x(!1)}function xf(f,x){const A=new Ee,V=new AbortController,W=setTimeout(()=>{V.abort(),Ns(A,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:V.signal}).then(Y=>{clearTimeout(W),Y.ok?Ns(A,"TestPingServer: ok",!0,x):Ns(A,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(W),Ns(A,"TestPingServer: error",!1,x)})}function Ns(f,x,A,V,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),V(A)}catch{}}function Av(){this.g=new er}function Re(f){this.i=f.Sb||null,this.h=f.ab||!1}g(Re,uo),Re.prototype.g=function(){return new jn(this.i,this.h)};function jn(f,x){Ut.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(jn,Ut),t=jn.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,lr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||o).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ut(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ut(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?sa(this):lr(this),this.readyState==3&&ut(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,sa(this))},t.Na=function(f){this.g&&(this.response=f,sa(this))},t.ga=function(){this.g&&sa(this)};function sa(f){f.readyState=4,f.l=null,f.j=null,f.B=null,lr(f)}t.setRequestHeader=function(f,x){this.A.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var A=x.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=x.next();return f.join(`\r
`)};function lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Cl(f){let x="";return $(f,function(A,V){x+=V,x+=":",x+=A,x+=`\r
`}),x}function xo(f,x,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Cl(A),typeof f=="string"?A!=null&&xe(A):_e(f,x,A))}function ot(f){Ut.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ot,Ut);var Lu=/^https?$/i,bo=["POST","PUT"];t=ot.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,x,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():is.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(Y){Bt(this,Y);return}if(f=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var W in V)A.set(W,V[W]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const Y of V.keys())A.set(Y,V.get(Y));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(bo,x,void 0)>=0)||V||W||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of A)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){Bt(this,Y)}};function Bt(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,xi(f),wo(f)}function xi(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Mt(this,"complete"),Mt(this,"abort"),wo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wo(this,!0)),ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Vu(this):this.Xa())},t.Xa=function(){Vu(this)};function Vu(f){if(f.h&&typeof r<"u"){if(f.v&&bi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Mt(f,"readystatechange"),bi(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var A;if(!(A=x)){var V;if(V=Y===0){let ue=String(f.D).match(ta)[1]||null;!ue&&o.self&&o.self.location&&(ue=o.self.location.protocol.slice(0,-1)),V=!Lu.test(ue?ue.toLowerCase():"")}A=V}if(A)Mt(f,"complete"),Mt(f,"success");else{f.o=6;try{var W=bi(f)>2?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.ca()+"]",xi(f)}}finally{wo(f)}}}}function wo(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,x||Mt(f,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),ju(x)}};function Uu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function zu(f){const x={};f=(f.g&&bi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(z(f[V]))continue;var A=hf(f[V]);const W=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Y=x[W]||[];x[W]=Y,Y.push(A)}X(x,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(f,x,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||x}function Bu(f){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=So("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=So("baseRetryDelayMs",5e3,f),this.Za=So("retryDelaySeedMs",1e4,f),this.Ta=So("forwardChannelMaxRetries",2,f),this.va=So("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new gf(f&&f.concurrentRequestLimit),this.Ba=new Av,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Bu.prototype,t.ka=8,t.I=1,t.connect=function(f,x,A,V){jt(0),this.W=f,this.H=x||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.J=qu(this,null,this.W),wi(this)};function Ue(f){if(Fn(f),f.I==3){var x=f.V++,A=Rn(f.J);if(_e(A,"SID",f.M),_e(A,"RID",x),_e(A,"TYPE","terminate"),cr(f,A),x=new Ws(f,f.j,x),x.M=2,x.A=yt(Rn(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(x.A.toString(),"")}catch{}!A&&o.Image&&(new Image().src=x.A,A=!0),A||(x.g=Gu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),bl(x)}Ys(f)}function Rl(f){f.g&&($u(f),f.g.cancel(),f.g=null)}function Fn(f){Rl(f),f.v&&(o.clearTimeout(f.v),f.v=null),Pl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function wi(f){if(!vf(f.h)&&!f.m){f.m=!0;var x=f.Ea;H||P(),G||(H(),G=!0),j.add(x,f),f.D=0}}function bf(f,x){return yf(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=nr(h(f.Ea,f,x),Ef(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const W=new Ws(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=le(Y),ce(Y,this.U)):Y=this.U),this.u!==null||this.R||(W.J=Y,Y=null),this.S)e:{for(var x=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(x+=V,x>4096){x=A;break e}if(x===4096||A===this.i.length-1){x=A+1;break e}}x=1e3}else x=1e3;x=Sf(this,W,x),A=Rn(this.J),_e(A,"RID",f),_e(A,"CVER",22),this.G&&_e(A,"X-HTTP-Session-Id",this.G),cr(this,A),Y&&(this.R?x="headers="+xe(Cl(Y))+"&"+x:this.u&&xo(A,this.u,Y)),ir(this.h,W),this.Ra&&_e(A,"TYPE","init"),this.S?(_e(A,"$req",x),_e(A,"SID","null"),W.U=!0,xl(W,A,null)):xl(W,A,x),this.I=2}}else this.I==3&&(f?wf(this,f):this.i.length==0||vf(this.h)||wf(this))};function wf(f,x){var A;x?A=x.l:A=f.V++;const V=Rn(f.J);_e(V,"SID",f.M),_e(V,"RID",A),_e(V,"AID",f.K),cr(f,V),f.u&&f.o&&xo(V,f.u,f.o),A=new Ws(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),x&&(f.i=x.G.concat(f.i)),x=Sf(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ir(f.h,A),xl(A,V,x)}function cr(f,x){f.H&&$(f.H,function(A,V){_e(x,V,A)}),f.l&&$({},function(A,V){_e(x,V,A)})}function Sf(f,x,A){A=Math.min(f.i.length,A);const V=f.l?h(f.l.Ka,f.l,f):null;e:{var W=f.i;let je=-1;for(;;){const st=["count="+A];je==-1?A>0?(je=W[0].g,st.push("ofs="+je)):je=0:st.push("ofs="+je);let lt=!0;for(let Ot=0;Ot<A;Ot++){var Y=W[Ot].g;const Cs=W[Ot].map;if(Y-=je,Y<0)je=Math.max(0,W[Ot].g-100),lt=!1;else try{Y="req"+Y+"_"||"";try{var ue=Cs instanceof Map?Cs:Object.entries(Cs);for(const[Qs,Rs]of ue){let Ei=Rs;c(Rs)&&(Ei=Jr(Rs)),st.push(Y+Qs+"="+encodeURIComponent(Ei))}}catch(Qs){throw st.push(Y+"type="+encodeURIComponent("_badmap")),Qs}}catch{V&&V(Cs)}}if(lt){ue=st.join("&");break e}}ue=void 0}return f=f.i.splice(0,A),x.G=f,ue}function Fu(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;H||P(),G||(H(),G=!0),j.add(x,f),f.A=0}}function Hu(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=nr(h(f.Da,f),Ef(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,jl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=nr(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Rl(this),jl(this))};function $u(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function jl(f){f.g=new Ws(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=Rn(f.na);_e(x,"RID","rpc"),_e(x,"SID",f.M),_e(x,"AID",f.K),_e(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&_e(x,"TO",f.ia),_e(x,"TYPE","xmlhttp"),cr(f,x),f.u&&f.o&&xo(x,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=yt(Rn(x)),A.u=null,A.R=!0,sr(A,f)}t.Va=function(){this.C!=null&&(this.C=null,Rl(this),Hu(this),jt(19))};function Pl(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function as(f,x){var A=null;if(f.g==x){Pl(f),$u(f),f.g=null;var V=2}else if(vo(f.h,x))A=x.G,Mu(f.h,x),V=1;else return;if(f.I!=0){if(x.o)if(V==1){A=x.u?x.u.length:0,x=Date.now()-x.F;var W=f.D;V=ea(),Mt(V,new ss(V,A)),wi(f)}else Fu(f);else if(W=x.m,W==3||W==0&&x.X>0||!(V==1&&bf(f,x)||V==2&&Hu(f)))switch(A&&A.length>0&&(x=f.h,x.i=x.i.concat(A)),W){case 1:Si(f,5);break;case 4:Si(f,10);break;case 3:Si(f,6);break;default:Si(f,2)}}}function Ef(f,x){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*x}function Si(f,x){if(f.j.info("Error code "+x),x==2){var A=h(f.bb,f),V=f.Ua;const W=!V;V=new nt(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ts(V,"https"),yt(V),W?Nl(V.toString(),A):xf(V.toString(),A)}else jt(2);f.I=0,f.l&&f.l.pa(x),Ys(f),Fn(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ys(f){if(f.I=0,f.ja=[],f.l){const x=Ou(f.h);(x.length!=0||f.i.length!=0)&&(C(f.ja,x),C(f.ja,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.oa()}}function qu(f,x,A){var V=A instanceof nt?Rn(A):new nt(A);if(V.g!="")x&&(V.g=x+"."+V.g),As(V,V.u);else{var W=o.location;V=W.protocol,x=x?x+"."+W.hostname:W.hostname,W=+W.port;const Y=new nt(null);V&&Ts(Y,V),x&&(Y.g=x),W&&As(Y,W),A&&(Y.h=A),V=Y}return A=f.G,x=f.wa,A&&x&&_e(V,A,x),_e(V,"VER",f.ka),cr(f,V),V}function Gu(f,x,A){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new ot(new Re({ab:A})):new ot(f.ma),x.Fa(f.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Il(){}t=Il.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kl(){}kl.prototype.g=function(f,x){return new bn(f,x)};function bn(f,x){Ut.call(this),this.g=new Bu(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!z(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!z(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new ia(this)}g(bn,Ut),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ue(this.g)},bn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=Jr(f),f=A);x.i.push(new Tv(x.Ya++,f)),x.I==3&&wi(x)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ue(this.g),delete this.g,bn.Z.N.call(this)};function Ku(f){Vn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const A in x){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}g(Ku,Vn);function Tf(){tr.call(this),this.status=1}g(Tf,tr);function ia(f){this.g=f}g(ia,Il),ia.prototype.ra=function(){Mt(this.g,"a")},ia.prototype.qa=function(f){Mt(this.g,new Ku(f))},ia.prototype.pa=function(f){Mt(this.g,new Tf)},ia.prototype.oa=function(){Mt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,dj=function(){return new kl},uj=function(){return ea()},cj=_n,l_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Un.NO_ERROR=0,Un.TIMEOUT=8,Un.HTTP_ERROR=6,Mm=Un,xn.COMPLETE="complete",lj=xn,ho.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Ut.prototype.listen=Ut.prototype.J,pd=ho,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,oj=ot}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",OE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new vb("@firebase/firestore");function nc(){return il.logLevel}function ye(t,...e){if(il.logLevel<=Ke.DEBUG){const n=e.map(jb);il.debug(`Firestore (${_u}): ${t}`,...n)}}function Kr(t,...e){if(il.logLevel<=Ke.ERROR){const n=e.map(jb);il.error(`Firestore (${_u}): ${t}`,...n)}}function Yc(t,...e){if(il.logLevel<=Ke.WARN){const n=e.map(jb);il.warn(`Firestore (${_u}): ${t}`,...n)}}function jb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,hj(t,s,n)}function hj(t,e,n){let s=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Kr(s),new Error(s)}function ct(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||hj(e,i,s)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class e8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t8{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let s=this.i;const i=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let r=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ba,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=r;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ba)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string",31837,{l:s}),new fj(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class n8{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s8{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new n8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const s=r=>{r.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=r8(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function We(t,e){return t<e?-1:t>e?1:0}function c_(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return wy(i)===wy(r)?We(i,r):wy(i)?1:-1}return We(t.length,e.length)}const a8=55296,o8=57343;function wy(t){const e=t.charCodeAt(0);return e>=a8&&e<=o8}function Qc(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Ci.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return We(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),i=Ci.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):c_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return za.fromString(e.substring(4,e.length-2))}}class Ct extends Ci{construct(e,n,s){return new Ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new be(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const l8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Ci{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return l8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new pn([LE])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new be(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(s+=c,i++):(r(),i++)}if(r(),o)throw new be(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Ct.fromString(e))}static fromName(e){return new Se(Ct.fromString(e).popFirst(5))}static empty(){return new Se(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t,e,n){if(!n)throw new be(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u8(t,e,n,s){if(e===!0&&s===!0)throw new be(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VE(t){if(!Se.isDocumentKey(t))throw new be(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ib(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function ph(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ib(t);throw new be(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jh(t,e){if(!mj(t))throw new be(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(i&&typeof o!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new be(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,zE=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*zE);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UE)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jh(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:qt("string",wt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new wt(0,0))}static max(){return new Pe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=-1;function d8(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new Ya(i,Se.empty(),e)}function h8(t){return new Ya(t.readTime,t.key,gh)}class Ya{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ya(Pe.min(),Se.empty(),gh)}static max(){return new Ya(Pe.max(),Se.empty(),gh)}}function f8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==m8)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let i=0,r=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++r,o&&r===i&&n()},d=>s(d))}),o=!0,r===i&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(i=>i?J.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new J((s,i)=>{const r=e.length,o=new Array(r);let c=0;for(let d=0;d<r;d++){const h=d;n(e[h]).next(p=>{o[h]=p,++c,c===r&&s(o)},p=>i(p))}})}static doWhile(e,n){return new J((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function g8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=-1;function Bg(t){return t==null}function Lp(t){return t===0&&1/t==-1/0}function v8(t){return typeof t=="number"&&Number.isInteger(t)&&!Lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="";function y8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BE(e)),e=_8(t.get(n),e);return BE(e)}function _8(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case pj:n+="";break;default:n+=r}}return n}function BE(t){return t+pj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sm(this.root,e,this.comparator,!0)}}class sm{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??fn.RED,this.left=i??fn.EMPTY,this.right=r??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new fn(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new oi([])}unionWith(e){let n=new Jt(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qc(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new vj("Invalid base64 string: "+r):r}}(e);return new yn(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const x8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=x8.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xa(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="server_timestamp",_j="__type__",xj="__previous_value__",bj="__local_write_time__";function Mb(t){return(t?.mapValue?.fields||{})[_j]?.stringValue===yj}function Fg(t){const e=t.mapValue.fields[xj];return Mb(e)?Fg(e):e}function vh(t){const e=Qa(t.mapValue.fields[bj].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n,s,i,r,o,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Vp="(default)";class yh{constructor(e,n){this.projectId=e,this.database=n||Vp}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===Vp}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="__type__",w8="__max__",im={mapValue:{}},Sj="__vector__",Up="value";function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mb(t)?4:E8(t)?9007199254740991:S8(t)?10:11:Ne(28295,{value:t})}function qi(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vh(t).isEqual(vh(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Qa(i.timestampValue),c=Qa(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Xa(i.bytesValue).isEqual(Xa(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Vt(i.geoPointValue.latitude)===Vt(r.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Vt(i.integerValue)===Vt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Vt(i.doubleValue),c=Vt(r.doubleValue);return o===c?Lp(o)===Lp(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Qc(t.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(FE(o)!==FE(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!qi(o[d],c[d])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function _h(t,e){return(t.values||[]).find(n=>qi(n,e))!==void 0}function Xc(t,e){if(t===e)return 0;const n=Ja(t),s=Ja(e);if(n!==s)return We(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(r,o){const c=Vt(r.integerValue||r.doubleValue),d=Vt(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return $E(t.timestampValue,e.timestampValue);case 4:return $E(vh(t),vh(e));case 5:return c_(t.stringValue,e.stringValue);case 6:return function(r,o){const c=Xa(r),d=Xa(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=We(c[h],d[h]);if(p!==0)return p}return We(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const c=We(Vt(r.latitude),Vt(o.latitude));return c!==0?c:We(Vt(r.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qE(t.arrayValue,e.arrayValue);case 10:return function(r,o){const c=r.fields||{},d=o.fields||{},h=c[Up]?.arrayValue,p=d[Up]?.arrayValue,g=We(h?.values?.length||0,p?.values?.length||0);return g!==0?g:qE(h,p)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===im.mapValue&&o===im.mapValue)return 0;if(r===im.mapValue)return 1;if(o===im.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),h=o.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const v=c_(d[g],p[g]);if(v!==0)return v;const y=Xc(c[d[g]],h[p[g]]);if(y!==0)return y}return We(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function $E(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Qa(t),s=Qa(e),i=We(n.seconds,s.seconds);return i!==0?i:We(n.nanos,s.nanos)}function qE(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Xc(n[i],s[i]);if(r)return r}return We(n.length,s.length)}function Jc(t){return u_(t)}function u_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Qa(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=u_(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${u_(n.fields[o])}`;return i+"}"}(t.mapValue):Ne(61005,{value:t})}function Om(t){switch(Ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fg(t);return e?16+Om(e):16;case 5:return 2*t.stringValue.length;case 6:return Xa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+Om(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return fl(s.fields,(r,o)=>{i+=r.length+Om(o)}),i}(t.mapValue);default:throw Ne(13486,{value:t})}}function d_(t){return!!t&&"integerValue"in t}function Ob(t){return!!t&&"arrayValue"in t}function GE(t){return!!t&&"nullValue"in t}function KE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dm(t){return!!t&&"mapValue"in t}function S8(t){return(t?.mapValue?.fields||{})[wj]?.stringValue===Sj}function zd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fl(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=zd(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zd(t.arrayValue.values[n]);return e}return{...t}}function E8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===w8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zd(n)}setAll(e){let n=pn.emptyPath(),s={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,s,i),s={},i=[],n=c.popLast()}o?s[c.lastSegment()]=zd(o):i.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){fl(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Ls(zd(this.value))}}function Ej(t){const e=[];return fl(t.fields,(n,s)=>{const i=new pn([n]);if(Dm(s)){const r=Ej(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,s,i,r,o,c){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new En(e,0,Pe.min(),Pe.min(),Pe.min(),Ls.empty(),0)}static newFoundDocument(e,n,s,i){return new En(e,1,n,Pe.min(),s,i,0)}static newNoDocument(e,n){return new En(e,2,n,Pe.min(),Pe.min(),Ls.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Pe.min(),Pe.min(),Ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Se.comparator(Se.fromName(o.referenceValue),n.key):s=Xc(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function T8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{}class Xt extends Tj{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new N8(e,n,s):n==="array-contains"?new j8(e,s):n==="in"?new P8(e,s):n==="not-in"?new I8(e,s):n==="array-contains-any"?new k8(e,s):new Xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new C8(e,s):new R8(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xc(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(Xc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends Tj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gi(e,n)}matches(e){return Aj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Aj(t){return t.op==="and"}function Nj(t){return A8(t)&&Aj(t)}function A8(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function h_(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+Jc(t.value);if(Nj(t))return t.filters.map(e=>h_(e)).join(",");{const e=t.filters.map(n=>h_(n)).join(",");return`${t.op}(${e})`}}function Cj(t,e){return t instanceof Xt?function(s,i){return i instanceof Xt&&s.op===i.op&&s.field.isEqual(i.field)&&qi(s.value,i.value)}(t,e):t instanceof Gi?function(s,i){return i instanceof Gi&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,c)=>r&&Cj(o,i.filters[c]),!0):!1}(t,e):void Ne(19439)}function Rj(t){return t instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jc(n.value)}`}(t):t instanceof Gi?function(n){return n.op.toString()+" {"+n.getFilters().map(Rj).join(" ,")+"}"}(t):"Filter"}class N8 extends Xt{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class C8 extends Xt{constructor(e,n){super(e,"in",n),this.keys=jj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R8 extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=jj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jj(t,e){return(e.arrayValue?.values||[]).map(n=>Se.fromName(n.referenceValue))}class j8 extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ob(n)&&_h(n.arrayValue,this.value)}}class P8 extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_h(this.value.arrayValue,n)}}class I8 extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_h(this.value.arrayValue,n)}}class k8 extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ob(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>_h(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n=null,s=[],i=[],r=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=c,this.Te=null}}function YE(t,e=null,n=[],s=[],i=null,r=null,o=null){return new M8(t,e,n,s,i,r,o)}function Db(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>h_(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Bg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Jc(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Jc(s)).join(",")),e.Te=n}return e.Te}function Lb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function f_(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n=null,s=[],i=[],r=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O8(t,e,n,s,i,r,o,c){return new Hg(t,e,n,s,i,r,o,c)}function Vb(t){return new Hg(t)}function QE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D8(t){return t.collectionGroup!==null}function Bd(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Jt(pn.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new Bp(r,s))}),n.has(pn.keyField().canonicalString())||e.Ie.push(new Bp(pn.keyField(),s))}return e.Ie}function zi(t){const e=Me(t);return e.Ee||(e.Ee=L8(e,Bd(t))),e.Ee}function L8(t,e){if(t.limitType==="F")return YE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new Bp(i.field,r)});const n=t.endAt?new zp(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new zp(t.startAt.position,t.startAt.inclusive):null;return YE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function m_(t,e,n){return new Hg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $g(t,e){return Lb(zi(t),zi(e))&&t.limitType===e.limitType}function Pj(t){return`${Db(zi(t))}|lt:${t.limitType}`}function sc(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>Rj(i)).join(", ")}]`),Bg(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Jc(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Jc(i)).join(",")),`Target(${s})`}(zi(t))}; limitType=${t.limitType})`}function qg(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Se.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of Bd(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,c,d){const h=WE(o,c,d);return o.inclusive?h<=0:h<0}(s.startAt,Bd(s),i)||s.endAt&&!function(o,c,d){const h=WE(o,c,d);return o.inclusive?h>=0:h>0}(s.endAt,Bd(s),i))}(t,e)}function V8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ij(t){return(e,n)=>{let s=!1;for(const i of Bd(t)){const r=U8(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function U8(t,e,n){const s=t.field.isKeyField()?Se.comparator(e.key,n.key):function(r,o,c){const d=o.data.field(r),h=c.data.field(r);return d!==null&&h!==null?Xc(d,h):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fl(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return gj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=new Rt(Se.comparator);function Wr(){return z8}const kj=new Rt(Se.comparator);function gd(...t){let e=kj;for(const n of t)e=e.insert(n.key,n);return e}function Mj(t){let e=kj;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Lo(){return Fd()}function Oj(){return Fd()}function Fd(){return new ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const B8=new Rt(Se.comparator),F8=new Jt(Se.comparator);function Ze(...t){let e=F8;for(const n of t)e=e.add(n);return e}const H8=new Jt(We);function $8(){return H8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lp(e)?"-0":e}}function Dj(t){return{integerValue:""+t}}function q8(t,e){return v8(e)?Dj(e):Ub(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this._=void 0}}function G8(t,e,n){return t instanceof Fp?function(i,r){const o={fields:{[_j]:{stringValue:yj},[bj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Mb(r)&&(r=Fg(r)),r&&(o.fields[xj]=r),{mapValue:o}}(n,e):t instanceof xh?Vj(t,e):t instanceof bh?Uj(t,e):function(i,r){const o=Lj(i,r),c=XE(o)+XE(i.Ae);return d_(o)&&d_(i.Ae)?Dj(c):Ub(i.serializer,c)}(t,e)}function K8(t,e,n){return t instanceof xh?Vj(t,e):t instanceof bh?Uj(t,e):n}function Lj(t,e){return t instanceof Hp?function(s){return d_(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Fp extends Gg{}class xh extends Gg{constructor(e){super(),this.elements=e}}function Vj(t,e){const n=zj(e);for(const s of t.elements)n.some(i=>qi(i,s))||n.push(s);return{arrayValue:{values:n}}}class bh extends Gg{constructor(e){super(),this.elements=e}}function Uj(t,e){let n=zj(e);for(const s of t.elements)n=n.filter(i=>!qi(i,s));return{arrayValue:{values:n}}}class Hp extends Gg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XE(t){return Vt(t.integerValue||t.doubleValue)}function zj(t){return Ob(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function W8(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof xh&&i instanceof xh||s instanceof bh&&i instanceof bh?Qc(s.elements,i.elements,qi):s instanceof Hp&&i instanceof Hp?qi(s.Ae,i.Ae):s instanceof Fp&&i instanceof Fp}(t.transform,e.transform)}class Z8{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kg{}function Bj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hj(t.key,kr.none()):new ef(t.key,t.data,kr.none());{const n=t.data,s=Ls.empty();let i=new Jt(pn.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new pl(t.key,s,new oi(i.toArray()),kr.none())}}function Y8(t,e,n){t instanceof ef?function(i,r,o){const c=i.value.clone(),d=eT(i.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof pl?function(i,r,o){if(!Lm(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=eT(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(Fj(i)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hd(t,e,n,s){return t instanceof ef?function(r,o,c,d){if(!Lm(r.precondition,o))return c;const h=r.value.clone(),p=tT(r.fieldTransforms,d,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof pl?function(r,o,c,d){if(!Lm(r.precondition,o))return c;const h=tT(r.fieldTransforms,d,o),p=o.data;return p.setAll(Fj(r)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(t,e,n,s):function(r,o,c){return Lm(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function Q8(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=Lj(s.transform,i||null);r!=null&&(n===null&&(n=Ls.empty()),n.set(s.field,r))}return n||null}function JE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Qc(s,i,(r,o)=>W8(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ef extends Kg{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pl extends Kg{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Fj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function eT(t,e,n){const s=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,c=e.data.field(r.field);s.set(r.field,K8(o,c,n[i]))}return s}function tT(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,G8(r,o,e))}return s}class Hj extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X8 extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&Y8(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hd(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hd(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Oj();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let c=this.applyToLocalView(o,r.mutatedFields);c=n.has(i.key)?null:c;const d=Bj(o,c);d!==null&&s.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Qc(this.mutations,e.mutations,(n,s)=>JE(n,s))&&Qc(this.baseMutations,e.baseMutations,(n,s)=>JE(n,s))}}class zb{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){ct(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return B8}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new zb(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Xe;function nB(t){switch(t){case re.OK:return Ne(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function $j(t){if(t===void 0)return Kr("GRPC error has no .code"),re.UNKNOWN;switch(t){case Ht.OK:return re.OK;case Ht.CANCELLED:return re.CANCELLED;case Ht.UNKNOWN:return re.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return re.INTERNAL;case Ht.UNAVAILABLE:return re.UNAVAILABLE;case Ht.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ht.NOT_FOUND:return re.NOT_FOUND;case Ht.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ht.ABORTED:return re.ABORTED;case Ht.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ht.DATA_LOSS:return re.DATA_LOSS;default:return Ne(39323,{code:t})}}(Xe=Ht||(Ht={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new za([4294967295,4294967295],0);function nT(t){const e=sB().encode(t),n=new aj;return n.update(e),new Uint8Array(n.digest())}function sT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new za([n,s],0),new za([i,r],0)]}class Bb{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vd(`Invalid padding: ${n}`);if(s<0)throw new vd(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vd(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=za.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(za.fromNumber(s)));return i.compare(iB)===1&&(i=new za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nT(e),[s,i]=sT(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);if(!this.we(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Bb(r,i,n);return s.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const n=nT(e),[s,i]=sT(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,tf.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wg(Pe.min(),i,new Rt(We),Wr(),Ze())}}class tf{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tf(s,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class qj{constructor(e,n){this.targetId=e,this.Ce=n}}class Gj{constructor(e,n,s=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class iT{constructor(){this.ve=0,this.Fe=rT(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),s=Ze();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Ne(38017,{changeType:r})}}),new tf(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=rT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wr(),this.Je=rm(),this.He=rm(),this.Ye=new Rt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(f_(r))if(s===0){const o=new Se(r.path);this.et(n,o,En.newNoDocument(o,Pe.min()))}else ct(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,c;try{o=Xa(s).toUint8Array()}catch(d){if(d instanceof vj)return Yc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Bb(o,i,r)}catch(d){return Yc(d instanceof vd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.et(n,r,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((r,o)=>{const c=this.ot(o);if(c){if(r.current&&f_(c.target)){const d=new Se(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,En.newNoDocument(d,e))}r.Be&&(n.set(o,r.ke()),r.qe())}});let s=Ze();this.He.forEach((r,o)=>{let c=!0;o.forEachWhile(d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(r))}),this.je.forEach((r,o)=>o.setReadTime(e));const i=new Wg(e,n,this.Ye,this.je,s);return this.je=Wr(),this.Je=rm(),this.He=rm(),this.Ye=new Rt(We),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rm(){return new Rt(Se.comparator)}function rT(){return new Rt(Se.comparator)}const aB={asc:"ASCENDING",desc:"DESCENDING"},oB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lB={and:"AND",or:"OR"};class cB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p_(t,e){return t.useProto3Json||Bg(e)?e:{value:e}}function $p(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uB(t,e){return $p(t,e.toTimestamp())}function Bi(t){return ct(!!t,49232),Pe.fromTimestamp(function(n){const s=Qa(n);return new wt(s.seconds,s.nanos)}(t))}function Fb(t,e){return g_(t,e).canonicalString()}function g_(t,e){const n=function(i){return new Ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Wj(t){const e=Ct.fromString(t);return ct(Jj(e),10190,{key:e.toString()}),e}function v_(t,e){return Fb(t.databaseId,e.path)}function Sy(t,e){const n=Wj(e);if(n.get(1)!==t.databaseId.projectId)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(Yj(n))}function Zj(t,e){return Fb(t.databaseId,e)}function dB(t){const e=Wj(t);return e.length===4?Ct.emptyPath():Yj(e)}function y_(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yj(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aT(t,e,n){return{name:v_(t,e),fields:n.value.mapValue.fields}}function hB(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ne(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(h,p){return h.useProto3Json?(ct(p===void 0||typeof p=="string",58123),yn.fromBase64String(p||"")):(ct(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const p=h.code===void 0?re.UNKNOWN:$j(h.code);return new be(p,h.message||"")}(o);n=new Gj(s,i,r,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Sy(t,s.document.name),r=Bi(s.document.updateTime),o=s.document.createTime?Bi(s.document.createTime):Pe.min(),c=new Ls({mapValue:{fields:s.document.fields}}),d=En.newFoundDocument(i,r,o,c),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Vm(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Sy(t,s.document),r=s.readTime?Bi(s.readTime):Pe.min(),o=En.newNoDocument(i,r),c=s.removedTargetIds||[];n=new Vm([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Sy(t,s.document),r=s.removedTargetIds||[];n=new Vm([],r,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new tB(i,r),c=s.targetId;n=new qj(c,o)}}return n}function fB(t,e){let n;if(e instanceof ef)n={update:aT(t,e.key,e.value)};else if(e instanceof Hj)n={delete:v_(t,e.key)};else if(e instanceof pl)n={update:aT(t,e.key,e.data),updateMask:wB(e.fieldMask)};else{if(!(e instanceof X8))return Ne(16599,{Vt:e.type});n={verify:v_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const c=o.transform;if(c instanceof Fp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Hp)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Ne(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:uB(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ne(27497)}(t,e.precondition)),n}function mB(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?Bi(i.updateTime):Bi(r);return o.isEqual(Pe.min())&&(o=Bi(r)),new Z8(o,i.transformResults||[])}(n,e))):[]}function pB(t,e){return{documents:[Zj(t,e.path)]}}function gB(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Zj(t,i);const r=function(h){if(h.length!==0)return Xj(Gi.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(h){if(h.length!==0)return h.map(p=>function(v){return{field:ic(v.field),direction:_B(v.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=p_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function vB(t){let e=dB(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){ct(s===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let r=[];n.where&&(r=function(g){const v=Qj(g);return v instanceof Gi&&Nj(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(C){return new Bp(rc(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,Bg(v)?null:v}(n.limit));let d=null;n.startAt&&(d=function(g){const v=!!g.before,y=g.values||[];return new zp(y,v)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const v=!g.before,y=g.values||[];return new zp(y,v)}(n.endAt)),O8(e,i,o,r,c,"F",d,h)}function yB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=rc(n.unaryFilter.field);return Xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=rc(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=rc(n.unaryFilter.field);return Xt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rc(n.unaryFilter.field);return Xt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xt.create(rc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gi.create(n.compositeFilter.filters.map(s=>Qj(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function _B(t){return aB[t]}function xB(t){return oB[t]}function bB(t){return lB[t]}function ic(t){return{fieldPath:t.canonicalString()}}function rc(t){return pn.fromServerFormat(t.fieldPath)}function Xj(t){return t instanceof Xt?function(n){if(n.op==="=="){if(KE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:ic(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(n.field),op:xB(n.op),value:n.value}}}(t):t instanceof Gi?function(n){const s=n.getFilters().map(i=>Xj(i));return s.length===1?s[0]:{compositeFilter:{op:bB(n.op),filters:s}}}(t):Ne(54877,{filter:t})}function wB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,s,i,r=Pe.min(),o=Pe.min(),c=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e){this.yt=e}}function EB(t){const e=vB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.Cn=new AB}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Ya.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Ya.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class AB{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Jt(Ct.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Jt(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eP=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(eP,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eu(0)}static cr(){return new eu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="LruGarbageCollector",NB=1048576;function cT([t,e],[n,s]){const i=We(t,n);return i===0?We(e,s):i}class CB{constructor(e){this.Ir=e,this.buffer=new Jt(cT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RB{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(lT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bu(n)?ye(lT,"Ignoring IndexedDB error during garbage collection: ",n):await xu(n)}await this.Vr(3e5)})}}class jB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(zg.ce);const s=new CB(n);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(oT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,r,o,c,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(s=g,c=Date.now(),this.removeTargets(e,s,n))).next(g=>(r=g,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(g=>(h=Date.now(),nc()<=Ke.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${r} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:g})))}}function PB(t,e){return new jB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.changes=new ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Hd(s.mutation,i,oi.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ze()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ze()){const i=Lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=gd();return r.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Lo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ze()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,s,i){let r=Wr();const o=Fd(),c=function(){return Fd()}();return n.forEach((d,h)=>{const p=s.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof pl)?r=r.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Hd(p.mutation,h,p.mutation.getFieldMask(),wt.now())):o.set(h.key,oi.empty())}),this.recalculateAndSaveOverlays(e,r).next(d=>(d.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>c.set(h,new kB(p,o.get(h)??null))),c))}recalculateAndSaveOverlays(e,n){const s=Fd();let i=new Rt((o,c)=>o-c),r=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let p=s.get(d)||oi.empty();p=c.applyToLocalView(h,p),s.set(d,p);const g=(i.get(c.batchId)||Ze()).add(d);i=i.insert(c.batchId,g)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,g=Oj();p.forEach(v=>{if(!r.has(v)){const y=Bj(n.get(v),s.get(v));y!==null&&g.set(v,y),r=r.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return J.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):J.resolve(Lo());let c=gh,d=r;return o.next(h=>J.forEach(h,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),r.get(p)?J.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{d=d.insert(p,v)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,d,h,Ze())).next(p=>({batchId:c,changes:Mj(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(s=>{let i=gd();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=gd();return this.indexManager.getCollectionParents(e,r).next(c=>J.forEach(c,d=>{const h=function(g,v){return new Hg(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,s,i).next(p=>{p.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((d,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,En.newInvalidDocument(p)))});let c=gd();return o.forEach((d,h)=>{const p=r.get(d);p!==void 0&&Hd(p.mutation,h,oi.empty(),wt.now()),qg(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bi(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:EB(i.bundledQuery),readTime:Bi(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.overlays=new Rt(Se.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Lo();return J.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const i=Lo(),r=n.length+1,o=new Se(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&d.largestBatchId>s&&i.set(d.getKey(),d)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Rt((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let p=r.get(h.largestBatchId);p===null&&(p=Lo(),r=r.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Lo(),d=r.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=i)););return J.resolve(c)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new eB(n,s));let r=this.qr.get(n);r===void 0&&(r=Ze(),this.qr.set(n,r)),this.qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.Qr=new Jt(sn.$r),this.Ur=new Jt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new sn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Se(new Ct([])),s=new sn(n,e),i=new sn(n,e+1),r=[];return this.Ur.forEachInRange([s,i],o=>{this.Gr(o),r.push(o.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new Ct([])),s=new sn(n,e),i=new sn(n,e+1);let r=Ze();return this.Ur.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new sn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(sn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new J8(r,n,s,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new sn(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),r=i<0?0:i;return J.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?kb:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],o=>{const c=this.Xr(o.Yr);r.push(c)}),J.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Jt(We);return n.forEach(i=>{const r=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,o],c=>{s=s.add(c.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Se.isDocumentKey(r)||(r=r.child(""));const o=new sn(new Se(r),0);let c=new Jt(We);return this.Zr.forEachWhile(d=>{const h=d.key.path;return!!s.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)},o),J.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,i=>{const r=new sn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new sn(n,0),i=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.ri=e,this.docs=function(){return new Rt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let s=Wr();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():En.newInvalidDocument(i))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Wr();const o=n.path,c=new Se(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||f8(h8(p),s)<=0||(i.has(p.key)||qg(n,p))&&(r=r.insert(p.key,p.mutableCopy()))}return J.resolve(r)}getAllFromCollectionGroup(e,n,s,i){Ne(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new zB(this)}getSize(e){return J.resolve(this.size)}}class zB extends IB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.persistence=e,this.si=new ml(n=>Db(n),Lb),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Hb,this.targetCount=0,this.ai=eu.ur()}forEachTarget(e,n){return this.si.forEach((s,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new eu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.si.delete(o),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),J.waitFor(r).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.ui={},this.overlays={},this.ci=new zg(0),this.li=!1,this.li=!0,this.hi=new LB,this.referenceDelegate=e(this),this.Pi=new BB(this),this.indexManager=new TB,this.remoteDocumentCache=function(i){return new UB(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new SB(n),this.Ii=new OB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new VB(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const i=new FB(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(r=>this.referenceDelegate.di(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class FB extends p8{constructor(e){super(),this.currentSequenceNumber=e}}class $b{constructor(e){this.persistence=e,this.Ri=new Hb,this.Vi=null}static mi(e){return new $b(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.fi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const i=Se.fromPath(s);return this.gi(e,i).next(r=>{r||n.removeEntry(i,Pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qp{constructor(e,n){this.persistence=e,this.pi=new ml(s=>y8(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=PB(this,n)}static mi(e,n){return new qp(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,i)=>this.br(e,s,i).next(r=>r?J.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(c=>{c||(s++,r.removeEntry(o,Pe.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Om(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return J.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=Ze(),i=Ze();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new qb(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mU()?8:g8(Cn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ys(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ws(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new HB;return this.Ss(e,n,o).next(c=>{if(r.result=c,this.Vs)return this.bs(e,n,o,c.size)})}).next(()=>r.result)}bs(e,n,s,i){return s.documentReadCount<this.fs?(nc()<=Ke.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(nc()<=Ke.DEBUG&&ye("QueryEngine","Query:",sc(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(nc()<=Ke.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):J.resolve())}ys(e,n){if(QE(n))return J.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m_(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Ze(...r);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,s).next(d=>{const h=this.Ds(n,c);return this.Cs(n,h,o,d.readTime)?this.ys(e,m_(n,null,"F")):this.vs(e,h,n,d)}))})))}ws(e,n,s,i){return QE(n)||i.isEqual(Pe.min())?J.resolve(null):this.ps.getDocuments(e,s).next(r=>{const o=this.Ds(n,r);return this.Cs(n,o,s,i)?J.resolve(null):(nc()<=Ke.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sc(n)),this.vs(e,o,n,d8(i,gh)).next(c=>c))})}Ds(e,n){let s=new Jt(Ij(e));return n.forEach((i,r)=>{qg(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return nc()<=Ke.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",sc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ya.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="LocalStore",qB=3e8;class GB{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Rt(We),this.xs=new ml(r=>Db(r),Lb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KB(t,e,n,s){return new GB(t,e,n,s)}async function nP(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],c=[];let d=Ze();for(const h of i){o.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of r){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(s,d).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:c}))})})}function WB(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const g=h.batch,v=g.keys();let y=J.resolve();return v.forEach(C=>{y=y.next(()=>p.getEntry(d,C)).next(S=>{const R=h.docVersions.get(C);ct(R!==null,48541),S.version.compareTo(R)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let d=Ze();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function sP(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ZB(t,e){const n=Me(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach((p,g)=>{const v=i.get(g);if(!v)return;c.push(n.Pi.removeMatchingKeys(r,p.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(r,p.addedDocuments,g)));let y=v.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(yn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,s)),i=i.insert(g,y),function(S,R,E){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=qB?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(v,y,p)&&c.push(n.Pi.updateTargetData(r,y))});let d=Wr(),h=Ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,p))}),c.push(YB(r,o,e.documentUpdates).next(p=>{d=p.ks,h=p.qs})),!s.isEqual(Pe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(r).next(g=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s));c.push(p)}return J.waitFor(c).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,d,h)).next(()=>d)}).then(r=>(n.Ms=i,r))}function YB(t,e,n){let s=Ze(),i=Ze();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Wr();return n.forEach((c,d)=>{const h=r.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):ye(Gb,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{ks:o,qs:i}})}function QB(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=kb),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XB(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Pi.getTargetData(s,e).next(r=>r?(i=r,J.resolve(i)):n.Pi.allocateTargetId(s).next(o=>(i=new Ra(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function __(t,e,n){const s=Me(t),i=s.Ms.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bu(o))throw o;ye(Gb,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function uT(t,e,n){const s=Me(t);let i=Pe.min(),r=Ze();return s.persistence.runTransaction("Execute query","readwrite",o=>function(d,h,p){const g=Me(d),v=g.xs.get(p);return v!==void 0?J.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,p)}(s,o,zi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,c.targetId).next(d=>{r=d})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?i:Pe.min(),n?r:Ze())).next(c=>(JB(s,V8(e),c),{documents:c,Qs:r})))}function JB(t,e,n){let s=t.Os.get(e)||Pe.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Os.set(e,s)}class dT{constructor(){this.activeTargetIds=$8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eF{constructor(){this.Mo=new dT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="ConnectivityMonitor";class fT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(hT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(hT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am=null;function x_(){return am===null?am=function(){return 268435456+Math.round(2147483648*Math.random())}():am++,"0x"+am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="RestConnection",nF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===Vp?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,r){const o=x_(),c=this.zo(e,n.toUriEncodedString());ye(Ey,`Sending RPC '${e}' ${o}:`,c,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,r);const{host:h}=new URL(c),p=ro(h);return this.Jo(e,c,d,s,p).then(g=>(ye(Ey,`Received RPC '${e}' ${o}: `,g),g),g=>{throw Yc(Ey,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",s),g})}Ho(e,n,s,i,r,o){return this.Go(e,n,s,i,r)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_u}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}zo(e,n){const s=nF[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class rF extends sF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=x_();return new Promise((c,d)=>{const h=new oj;h.setWithCredentials(!0),h.listenOnce(lj.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Mm.NO_ERROR:const g=h.getResponseJson();ye(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case Mm.TIMEOUT:ye(wn,`RPC '${e}' ${o} timed out`),d(new be(re.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:const v=h.getStatus();if(ye(wn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y?.error;if(C&&C.status&&C.message){const S=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(T)>=0?T:re.UNKNOWN}(C.status);d(new be(S,C.message))}else d(new be(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new be(re.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ye(wn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ye(wn,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",p,s,15)})}T_(e,n,s){const i=x_(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dj(),c=uj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=r.join("");ye(wn,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=o.createWebChannel(p,d);this.I_(g);let v=!1,y=!1;const C=new iF({Yo:R=>{y?ye(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(ye(wn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),ye(wn,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},Zo:()=>g.close()}),S=(R,E,T)=>{R.listen(E,N=>{try{T(N)}catch(O){setTimeout(()=>{throw O},0)}})};return S(g,pd.EventType.OPEN,()=>{y||(ye(wn,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),S(g,pd.EventType.CLOSE,()=>{y||(y=!0,ye(wn,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(g))}),S(g,pd.EventType.ERROR,R=>{y||(y=!0,Yc(wn,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new be(re.UNAVAILABLE,"The operation could not be completed")))}),S(g,pd.EventType.MESSAGE,R=>{if(!y){const E=R.data[0];ct(!!E,16349);const T=E,N=T?.error||T[0]?.error;if(N){ye(wn,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let H=function(P){const U=Ht[P];if(U!==void 0)return $j(U)}(O),G=N.message;H===void 0&&(H=re.INTERNAL,G="Unknown error status: "+O+" with message "+N.message),y=!0,C.a_(new be(H,G)),g.close()}else ye(wn,`RPC '${e}' stream ${i} received:`,E),C.u_(E)}}),S(c,cj.STAT_EVENT,R=>{R.stat===l_.PROXY?ye(wn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===l_.NOPROXY&&ye(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ty(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){return new cB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="PersistentStream";class rP{constructor(e,n,s,i,r,o,c,d){this.Mi=e,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{e(()=>{const i=new be(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(mT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aF extends rP{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hB(this.serializer,e),s=function(r){if(!("targetChange"in r))return Pe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?Bi(o.readTime):Pe.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=y_(this.serializer),n.addTarget=function(r,o){let c;const d=o.target;if(c=f_(d)?{documents:pB(r,d)}:{query:gB(r,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Kj(r,o.resumeToken);const h=p_(r,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(Pe.min())>0){c.readTime=$p(r,o.snapshotVersion.toTimestamp());const h=p_(r,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const s=yB(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=y_(this.serializer),n.removeTarget=e,this.q_(n)}}class oF extends rP{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mB(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=y_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>fB(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{}class cF extends lF{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Go(e,g_(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new be(re.UNKNOWN,r.toString())})}Ho(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,g_(n,s),i,o,c,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(re.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="RemoteStore";class dF{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{gl(this)&&(ye(rl,"Restarting streams for network reachability change."),await async function(d){const h=Me(d);h.Ea.add(4),await nf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Yg(h)}(this))})}),this.Ra=new uF(s,i)}}async function Yg(t){if(gl(t))for(const e of t.da)await e(!0)}async function nf(t){for(const e of t.da)await e(!1)}function aP(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yb(n)?Zb(n):wu(n).O_()&&Wb(n,e))}function Kb(t,e){const n=Me(t),s=wu(n);n.Ia.delete(e),s.O_()&&oP(n,e),n.Ia.size===0&&(s.O_()?s.L_():gl(n)&&n.Ra.set("Unknown"))}function Wb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wu(t).Y_(e)}function oP(t,e){t.Va.Ue(e),wu(t).Z_(e)}function Zb(t){t.Va=new rB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wu(t).start(),t.Ra.ua()}function Yb(t){return gl(t)&&!wu(t).x_()&&t.Ia.size>0}function gl(t){return Me(t).Ea.size===0}function lP(t){t.Va=void 0}async function hF(t){t.Ra.set("Online")}async function fF(t){t.Ia.forEach((e,n)=>{Wb(t,e)})}async function mF(t,e){lP(t),Yb(t)?(t.Ra.ha(e),Zb(t)):t.Ra.set("Unknown")}async function pF(t,e,n){if(t.Ra.set("Online"),e instanceof Gj&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const c of r.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))}(t,e)}catch(s){ye(rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gp(t,s)}else if(e instanceof Vm?t.Va.Ze(e):e instanceof qj?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const s=await sP(t.localStore);n.compareTo(s)>=0&&await function(r,o){const c=r.Va.Tt(o);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=r.Ia.get(h);p&&r.Ia.set(h,p.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,h)=>{const p=r.Ia.get(d);if(!p)return;r.Ia.set(d,p.withResumeToken(yn.EMPTY_BYTE_STRING,p.snapshotVersion)),oP(r,d);const g=new Ra(p.target,d,h,p.sequenceNumber);Wb(r,g)}),r.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){ye(rl,"Failed to raise snapshot:",s),await Gp(t,s)}}async function Gp(t,e,n){if(!bu(e))throw e;t.Ea.add(1),await nf(t),t.Ra.set("Offline"),n||(n=()=>sP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(rl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yg(t)})}function cP(t,e){return e().catch(n=>Gp(t,n,e))}async function Qg(t){const e=Me(t),n=eo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kb;for(;gF(e);)try{const i=await QB(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,vF(e,i)}catch(i){await Gp(e,i)}uP(e)&&dP(e)}function gF(t){return gl(t)&&t.Ta.length<10}function vF(t,e){t.Ta.push(e);const n=eo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function uP(t){return gl(t)&&!eo(t).x_()&&t.Ta.length>0}function dP(t){eo(t).start()}async function yF(t){eo(t).ra()}async function _F(t){const e=eo(t);for(const n of t.Ta)e.ea(n.mutations)}async function xF(t,e,n){const s=t.Ta.shift(),i=zb.from(s,e,n);await cP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qg(t)}async function bF(t,e){e&&eo(t).X_&&await async function(s,i){if(function(o){return nB(o)&&o!==re.ABORTED}(i.code)){const r=s.Ta.shift();eo(s).B_(),await cP(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Qg(s)}}(t,e),uP(t)&&dP(t)}async function pT(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ye(rl,"RemoteStore received new credentials");const s=gl(n);n.Ea.add(3),await nf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yg(n)}async function wF(t,e){const n=Me(t);e?(n.Ea.delete(2),await Yg(n)):e||(n.Ea.add(2),await nf(n),n.Ra.set("Unknown"))}function wu(t){return t.ma||(t.ma=function(n,s,i){const r=Me(n);return r.sa(),new aF(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:hF.bind(null,t),t_:fF.bind(null,t),r_:mF.bind(null,t),H_:pF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Yb(t)?Zb(t):t.Ra.set("Unknown")):(await t.ma.stop(),lP(t))})),t.ma}function eo(t){return t.fa||(t.fa=function(n,s,i){const r=Me(n);return r.sa(),new oF(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:yF.bind(null,t),r_:bF.bind(null,t),ta:_F.bind(null,t),na:xF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qg(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(rl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,c=new Qb(e,n,o,i,r);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xb(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),bu(t))return new be(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{static emptySet(e){return new kc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=gd(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new kc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.ga=new Rt(Se.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class tu{constructor(e,n,s,i,r,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new tu(e,n,kc.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class EF{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Me(n),r=i.queries;i.queries=vT(),r.forEach((o,c)=>{for(const d of c.Sa)d.onError(s)})})(this,new be(re.ABORTED,"Firestore shutting down"))}}function vT(){return new ml(t=>Pj(t),$g)}async function TF(t,e){const n=Me(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.ba()&&e.Da()&&(s=2):(r=new SF,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=Xb(o,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,r),r.Sa.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&Jb(n)}async function AF(t,e){const n=Me(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.Da()?0:1:!r.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function NF(t,e){const n=Me(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const c of o.Sa)c.Fa(i)&&(s=!0);o.wa=i}}s&&Jb(n)}function CF(t,e,n){const s=Me(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function Jb(t){t.Ca.forEach(e=>{e.next()})}var b_,yT;(yT=b_||(b_={})).Ma="default",yT.Cache="cache";class RF{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new tu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==b_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.key=e}}class fP{constructor(e){this.key=e}}class jF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=Ij(e),this.tu=new kc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new gT,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const v=i.get(p),y=qg(this.query,g)?g:null,C=!!v&&this.mutatedKeys.has(v.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;v&&y?v.data.isEqual(y.data)?C!==S&&(s.track({type:3,doc:y}),R=!0):this.su(v,y)||(s.track({type:2,doc:y}),R=!0,(d&&this.eu(y,d)>0||h&&this.eu(y,h)<0)&&(c=!0)):!v&&y?(s.track({type:0,doc:y}),R=!0):v&&!y&&(s.track({type:1,doc:v}),R=!0,(d||h)&&(c=!0)),R&&(y?(o=o.add(y),r=S?r.add(p):r.delete(p)):(o=o.delete(p),r=r.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),r=r.delete(p.key),s.track({type:1,doc:p})}return{tu:o,iu:s,Cs:c,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((p,g)=>function(y,C){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:R})}};return S(y)-S(C)}(p.type,g.type)||this.eu(p.doc,g.doc)),this.ou(s),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new tu(this.query,e.tu,r,o,e.mutatedKeys,d===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new fP(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new hP(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ew="SyncEngine";class PF{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class IF{constructor(e){this.key=e,this.hu=!1}}class kF{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ml(c=>Pj(c),$g),this.Iu=new Map,this.Eu=new Set,this.du=new Rt(Se.comparator),this.Au=new Map,this.Ru=new Hb,this.Vu={},this.mu=new Map,this.fu=eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MF(t,e,n=!0){const s=_P(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await mP(s,e,n,!0),i}async function OF(t,e){const n=_P(t);await mP(n,e,!0,!1)}async function mP(t,e,n,s){const i=await XB(t.localStore,zi(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let c;return s&&(c=await DF(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&aP(t.remoteStore,i),c}async function DF(t,e,n,s,i){t.pu=(g,v,y)=>async function(S,R,E,T){let N=R.view.ru(E);N.Cs&&(N=await uT(S.localStore,R.query,!1).then(({documents:j})=>R.view.ru(j,N)));const O=T&&T.targetChanges.get(R.targetId),H=T&&T.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(N,S.isPrimaryClient,O,H);return xT(S,R.targetId,G.au),G.snapshot}(t,g,v,y);const r=await uT(t.localStore,e,!0),o=new jF(e,r.Qs),c=o.ru(r.documents),d=tf.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);xT(t,n,h.au);const p=new PF(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function LF(t,e,n){const s=Me(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(o=>!$g(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await __(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&Kb(s.remoteStore,i.targetId),w_(s,i.targetId)}).catch(xu)):(w_(s,i.targetId),await __(s.localStore,i.targetId,!0))}async function VF(t,e){const n=Me(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kb(n.remoteStore,s.targetId))}async function UF(t,e,n){const s=GF(t);try{const i=await function(o,c){const d=Me(o),h=wt.now(),p=c.reduce((y,C)=>y.add(C.key),Ze());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Wr(),S=Ze();return d.Ns.getEntries(y,p).next(R=>{C=R,C.forEach((E,T)=>{T.isValidDocument()||(S=S.add(E))})}).next(()=>d.localDocuments.getOverlayedDocuments(y,C)).next(R=>{g=R;const E=[];for(const T of c){const N=Q8(T,g.get(T.key).overlayedDocument);N!=null&&E.push(new pl(T.key,N,Ej(N.value.mapValue),kr.exists(!0)))}return d.mutationQueue.addMutationBatch(y,h,E,c)}).next(R=>{v=R;const E=R.applyToLocalDocumentSet(g,S);return d.documentOverlayCache.saveOverlays(y,R.batchId,E)})}).then(()=>({batchId:v.batchId,changes:Mj(g)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,c,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new Rt(We)),h=h.insert(c,d),o.Vu[o.currentUser.toKey()]=h}(s,i.batchId,n),await sf(s,i.changes),await Qg(s.remoteStore)}catch(i){const r=Xb(i,"Failed to persist write");n.reject(r)}}async function pP(t,e){const n=Me(t);try{const s=await ZB(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Au.get(r);o&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ct(o.hu,14607):i.removedDocuments.size>0&&(ct(o.hu,42227),o.hu=!1))}),await sf(n,s,e)}catch(s){await xu(s)}}function _T(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const d=Me(o);d.onlineState=c;let h=!1;d.queries.forEach((p,g)=>{for(const v of g.Sa)v.va(c)&&(h=!0)}),h&&Jb(d)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zF(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let o=new Rt(Se.comparator);o=o.insert(r,En.newNoDocument(r,Pe.min()));const c=Ze().add(r),d=new Wg(Pe.min(),new Map,new Rt(We),o,c);await pP(s,d),s.du=s.du.remove(r),s.Au.delete(e),tw(s)}else await __(s.localStore,e,!1).then(()=>w_(s,e,n)).catch(xu)}async function BF(t,e){const n=Me(t),s=e.batch.batchId;try{const i=await WB(n.localStore,e);vP(n,s,null),gP(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await sf(n,i)}catch(i){await xu(i)}}async function FF(t,e,n){const s=Me(t);try{const i=await function(o,c){const d=Me(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(g=>(ct(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(s.localStore,e);vP(s,e,n),gP(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await sf(s,i)}catch(i){await xu(i)}}function gP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function vP(t,e,n){const s=Me(t);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function w_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||yP(t,s)})}function yP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Kb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tw(t))}function xT(t,e,n){for(const s of n)s instanceof hP?(t.Ru.addReference(s.key,e),HF(t,s)):s instanceof fP?(ye(ew,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||yP(t,s.key)):Ne(19791,{wu:s})}function HF(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(ew,"New document in limbo: "+n),t.Eu.add(s),tw(t))}function tw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(Ct.fromString(e)),s=t.fu.next();t.Au.set(s,new IF(n)),t.du=t.du.insert(n,s),aP(t.remoteStore,new Ra(zi(Vb(n.path)),s,"TargetPurposeLimboResolution",zg.ce))}}async function sf(t,e,n){const s=Me(t),i=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((c,d)=>{o.push(s.pu(d,e,n).then(h=>{if((h||n)&&s.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(h){i.push(h);const p=qb.As(d.targetId,h);r.push(p)}}))}),await Promise.all(o),s.Pu.H_(i),await async function(d,h){const p=Me(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>J.forEach(h,v=>J.forEach(v.Es,y=>p.persistence.referenceDelegate.addReference(g,v.targetId,y)).next(()=>J.forEach(v.ds,y=>p.persistence.referenceDelegate.removeReference(g,v.targetId,y)))))}catch(g){if(!bu(g))throw g;ye(Gb,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const y=p.Ms.get(v),C=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(C);p.Ms=p.Ms.insert(v,S)}}}(s.localStore,r))}async function $F(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ye(ew,"User change. New user:",e.toKey());const s=await nP(n.localStore,e);n.currentUser=e,function(r,o){r.mu.forEach(c=>{c.forEach(d=>{d.reject(new be(re.CANCELLED,o))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await sf(n,s.Ls)}}function qF(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return Ze().add(s.key);{let i=Ze();const r=n.Iu.get(e);if(!r)return i;for(const o of r){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function _P(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zF.bind(null,e),e.Pu.H_=NF.bind(null,e.eventManager),e.Pu.yu=CF.bind(null,e.eventManager),e}function GF(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FF.bind(null,e),e}class Kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KB(this.persistence,new $B,e.initialUser,this.serializer)}Cu(e){return new tP($b.mi,this.serializer)}Du(e){return new eF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kp.provider={build:()=>new Kp};class KF extends Kp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof qp,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RB(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new tP(s=>qp.mi(s,n),this.serializer)}}class S_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_T(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$F.bind(null,this.syncEngine),await wF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EF}()}createDatastore(e){const n=Zg(e.databaseInfo.databaseId),s=function(r){return new rF(r)}(e.databaseInfo);return function(r,o,c,d){return new cF(r,o,c,d)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,c){return new dF(s,i,r,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return fT.v()?new fT:new tF}())}createSyncEngine(e,n){return function(i,r,o,c,d,h,p){const g=new kF(i,r,o,c,d,h);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Me(n);ye(rl,"RemoteStore shutting down."),s.Ea.add(5),await nf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}S_.provider={build:()=>new S_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class ZF{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=Pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{ye(to,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ye(to,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xb(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ay(t,e){t.asyncQueue.verifyOperationInProgress(),ye(to,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await nP(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YF(t);ye(to,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>pT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>pT(e.remoteStore,i)),t._onlineComponents=e}async function YF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(to,"Using user provided OfflineComponentProvider");try{await Ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),await Ay(t,new Kp)}}else ye(to,"Using default OfflineComponentProvider"),await Ay(t,new KF(void 0));return t._offlineComponents}async function xP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(to,"Using user provided OnlineComponentProvider"),await bT(t,t._uninitializedComponentsProvider._online)):(ye(to,"Using default OnlineComponentProvider"),await bT(t,new S_))),t._onlineComponents}function QF(t){return xP(t).then(e=>e.syncEngine)}async function XF(t){const e=await xP(t),n=e.eventManager;return n.onListen=MF.bind(null,e.syncEngine),n.onUnlisten=LF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VF.bind(null,e.syncEngine),n}function JF(t,e,n={}){const s=new Ba;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,c,d,h){const p=new WF({next:v=>{p.Nu(),o.enqueueAndForget(()=>AF(r,g));const y=v.docs.has(c);!y&&v.fromCache?h.reject(new be(re.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&d&&d.source==="server"?h.reject(new be(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new RF(Vb(c.path),p,{includeMetadataChanges:!0,qa:!0});return TF(r,g)}(await XF(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="firestore.googleapis.com",ST=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wP,this.ssl=ST}else this.host=e.host,this.ssl=e.ssl??ST;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NB)throw new be(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bP(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nw{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new J7;switch(s.type){case"firstParty":return new s8(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new be(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=wT.get(n);s&&(ye("ComponentProvider","Removing Datastore"),wT.delete(n),s.terminate())}(this),Promise.resolve()}}function eH(t,e,n,s={}){t=ph(t,nw);const i=ro(e),r=t._getSettings(),o={...r,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(pb(`https://${c}`),gb("Firestore",!0)),r.host!==wP&&r.host!==c&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...r,host:c,ssl:i,emulatorOptions:s};if(!el(d,o)&&(t._setSettings(d),s.mockUserToken)){let h,p;if(typeof s.mockUserToken=="string")h=s.mockUserToken,p=Sn.MOCK_USER;else{h=rU(s.mockUserToken,t._app?.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new be(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Sn(g)}t._authCredentials=new e8(new fj(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sw(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Jh(n,cn._jsonSchema))return new cn(e,s||null,new Se(Ct.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:qt("string",cn._jsonSchemaVersion),referencePath:qt("string")};class wh extends sw{constructor(e,n,s){super(e,n,Vb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Se(e))}withConverter(e){return new wh(this.firestore,e,this._path)}}function TT(t,e,...n){if(t=vn(t),arguments.length===1&&(e=Pb.newId()),c8("doc","path",e),t instanceof nw){const s=Ct.fromString(e,...n);return VE(s),new cn(t,null,new Se(s))}{if(!(t instanceof cn||t instanceof wh))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ct.fromString(e,...n));return VE(s),new cn(t.firestore,t instanceof wh?t.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="AsyncQueue";class NT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iP(this,"async_queue_retry"),this._c=()=>{const s=Ty();s&&ye(AT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ty();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ba;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bu(e))throw e;ye(AT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",CT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Qb.createAndSchedule(this,e,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:CT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class iw extends nw{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new NT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function tH(t,e){const n=typeof t=="object"?t:_b(),s=typeof t=="string"?t:Vp,i=Dg(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=_R("firestore");r&&eH(i,...r)}return i}function SP(t){if(t._terminated)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nH(t),t._firestoreClient}function nH(t){const e=t._freezeSettings(),n=function(i,r,o,c){return new b8(i,r,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,bP(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const r=i?._online.build();return{_offline:i?._offline.build(r),_online:r}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vs(yn.fromBase64String(e))}catch(n){throw new be(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vs(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jh(e,Vs._jsonSchema))return Vs.fromBase64String(e.bytes)}}Vs._jsonSchemaVersion="firestore/bytes/1.0",Vs._jsonSchema={type:qt("string",Vs._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Jh(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:qt("string",Fi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jh(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hi(e.vectorValues);throw new be(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:qt("string",Hi._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=/^__.*__$/;class iH{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new pl(e,this.data,this.fieldMask,n,this.fieldTransforms):new ef(e,this.data,n,this.fieldTransforms)}}function TP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class aw{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new aw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TP(this.Ac)&&sH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rH{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zg(e)}Cc(e,n,s,i=!1){return new aw({Ac:e,methodName:n,Dc:s,path:pn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aH(t){const e=t._freezeSettings(),n=Zg(t._databaseId);return new rH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oH(t,e,n,s,i,r={}){const o=t.Cc(r.merge||r.mergeFields?2:0,e,n,i);RP("Data must be an object, but it was:",o,s);const c=NP(s,o);let d,h;if(r.merge)d=new oi(o.fieldMask),h=o.fieldTransforms;else if(r.mergeFields){const p=[];for(const g of r.mergeFields){const v=lH(e,g,n);if(!o.contains(v))throw new be(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);uH(p,v)||p.push(v)}d=new oi(p),h=o.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=o.fieldTransforms;return new iH(new Ls(c),d,h)}function AP(t,e){if(CP(t=vn(t)))return RP("Unsupported field value:",e,t),NP(t,e);if(t instanceof EP)return function(s,i){if(!TP(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const c of s){let d=AP(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q8(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=wt.fromDate(s);return{timestampValue:$p(i.serializer,r)}}if(s instanceof wt){const r=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$p(i.serializer,r)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vs)return{bytesValue:Kj(i.serializer,s._byteString)};if(s instanceof cn){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Fb(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Hi)return function(o,c){return{mapValue:{fields:{[wj]:{stringValue:Sj},[Up]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ub(c.serializer,h)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${Ib(s)}`)}(t,e)}function NP(t,e){const n={};return gj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fl(t,(s,i)=>{const r=AP(i,e.mc(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function CP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof Fi||t instanceof Vs||t instanceof cn||t instanceof EP||t instanceof Hi)}function RP(t,e,n){if(!CP(n)||!mj(n)){const s=Ib(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function lH(t,e,n){if((e=vn(e))instanceof rw)return e._internalPath;if(typeof e=="string")return jP(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const cH=new RegExp("[~\\*/\\[\\]]");function jP(t,e,n){if(e.search(cH)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rw(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(r||o)&&(d+=" (found",r&&(d+=` in field ${s}`),o&&(d+=` in document ${i}`),d+=")"),new be(re.INVALID_ARGUMENT,c+t+d)}function uH(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dH extends PP{data(){return super.data()}}function IP(t,e){return typeof e=="string"?jP(t,e):e instanceof rw?e._internalPath:e._delegate._internalPath}class hH{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fl(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){const n=e.fields?.[Up].arrayValue?.values?.map(s=>Vt(s.doubleValue));return new Hi(n)}convertGeoPoint(e){return new Fi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fg(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const n=Qa(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ct.fromString(e);ct(Jj(s),9688,{name:e});const i=new yh(s.get(1),s.get(3)),r=new Se(s.popFirst(5));return i.isEqual(n)||Kr(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class yd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ko extends PP{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(IP("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ko._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ko._jsonSchema={type:qt("string",Ko._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Um extends Ko{data(e={}){return super.data(e)}}class $d{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yd(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Um(this._firestore,this._userDataWriter,s.key,s,new yd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const d=new Um(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const d=new Um(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:mH(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$d._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(t){t=ph(t,cn);const e=ph(t.firestore,iw);return JF(SP(e),t._key).then(n=>yH(e,t,n))}$d._jsonSchemaVersion="firestore/querySnapshot/1.0",$d._jsonSchema={type:qt("string",$d._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class gH extends hH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Ny(t,e,n){t=ph(t,cn);const s=ph(t.firestore,iw),i=fH(t.converter,e,n);return vH(s,[oH(aH(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kr.none())])}function vH(t,e){return function(s,i){const r=new Ba;return s.asyncQueue.enqueueAndForget(async()=>UF(await QF(s),i,r)),r.promise}(SP(t),e)}function yH(t,e,n){const s=n.docs.get(e._key),i=new gH(t);return new Ko(t,i,e._key,s,new yd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_u=i})(vu),tl(new Za("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),c=new iw(new t8(s.getProvider("auth-internal")),new i8(o,s.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(h.options.projectId,p)}(o,i),o);return r={useFetchStreams:n,...r},c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),Vi(ME,OE,e),Vi(ME,OE,"esm2020")})();var _H="firebase",xH="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(_H,xH,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH="type.googleapis.com/google.protobuf.Int64Value",wH="type.googleapis.com/google.protobuf.UInt64Value";function kP(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function Zp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Zp(e));if(typeof t=="function"||typeof t=="object")return kP(t,e=>Zp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function nu(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case bH:case wH:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>nu(e)):typeof t=="function"||typeof t=="object"?kP(t,e=>nu(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let zs=class MP extends Qi{constructor(e,n,s){super(`${ow}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,MP.prototype)}};function SH(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Yp(t,e){let n=SH(t),s=n,i;try{const r=e&&e.error;if(r){const o=r.status;if(typeof o=="string"){if(!RT[o])return new zs("internal","internal");n=RT[o],s=o}const c=r.message;typeof c=="string"&&(s=c),i=r.details,i!==void 0&&(i=nu(i))}}catch{}return n==="ok"?null:new zs(n,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,s,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Yn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(r=>this.auth=r,()=>{}),this.messaging||s.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i?.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="us-central1",TH=/^data: (.*?)(?:\n|$)/;function AH(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new zs("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class NH{constructor(e,n,s,i,r=E_,o=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new EH(e,n,s,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(r);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=E_}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function CH(t,e,n){const s=ro(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(pb(t.emulatorOrigin+"/backends"),gb("Functions",!0))}function RH(t,e,n){const s=i=>PH(t,e,i,{});return s.stream=(i,r)=>kH(t,e,i,r),s}function OP(t){return t.emulatorOrigin&&ro(t.emulatorOrigin)?"include":void 0}async function jH(t,e,n,s,i){n["Content-Type"]="application/json";let r;try{r=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:OP(i)})}catch{return{status:0,json:null}}let o=null;try{o=await r.json()}catch{}return{status:r.status,json:o}}async function DP(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function PH(t,e,n,s){const i=t._url(e);return IH(t,i,n,s)}async function IH(t,e,n,s){n=Zp(n);const i={data:n},r=await DP(t,s),o=s.timeout||7e4,c=AH(o),d=await Promise.race([jH(e,i,r,t.fetchImpl,t),c.promise,t.cancelAllRequests]);if(c.cancel(),!d)throw new zs("cancelled","Firebase Functions instance was deleted.");const h=Yp(d.status,d.json);if(h)throw h;if(!d.json)throw new zs("internal","Response is not valid JSON object.");let p=d.json.data;if(typeof p>"u"&&(p=d.json.result),typeof p>"u")throw new zs("internal","Response is missing data field.");return{data:nu(p)}}function kH(t,e,n,s){const i=t._url(e);return MH(t,i,n,s||{})}async function MH(t,e,n,s){n=Zp(n);const i={data:n},r=await DP(t,s);r["Content-Type"]="application/json",r.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:r,signal:s?.signal,credentials:OP(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const C=new zs("cancelled","Request was cancelled.");return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}const y=Yp(0,null);return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}let c,d;const h=new Promise((v,y)=>{c=v,d=y});s?.signal?.addEventListener("abort",()=>{const v=new zs("cancelled","Request was cancelled.");d(v)});const p=o.body.getReader(),g=OH(p,c,d,s?.signal);return{stream:{[Symbol.asyncIterator](){const v=g.getReader();return{async next(){const{value:y,done:C}=await v.read();return{value:y,done:C}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:h}}function OH(t,e,n,s){const i=(o,c)=>{const d=o.match(TH);if(!d)return;const h=d[1];try{const p=JSON.parse(h);if("result"in p){e(nu(p.result));return}if("message"in p){c.enqueue(nu(p.message));return}if("error"in p){const g=Yp(0,p);c.error(g),n(g);return}}catch(p){if(p instanceof zs){c.error(p),n(p);return}}},r=new TextDecoder;return new ReadableStream({start(o){let c="";return d();async function d(){if(s?.aborted){const h=new zs("cancelled","Request was cancelled");return o.error(h),n(h),Promise.resolve()}try{const{value:h,done:p}=await t.read();if(p){c.trim()&&i(c.trim(),o),o.close();return}if(s?.aborted){const v=new zs("cancelled","Request was cancelled");o.error(v),n(v),await t.cancel();return}c+=r.decode(h,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)v.trim()&&i(v.trim(),o);return d()}catch(h){const p=h instanceof zs?h:Yp(0,null);o.error(p),n(p)}}},cancel(){return t.cancel()}})}const jT="@firebase/functions",PT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="auth-internal",LH="app-check-internal",VH="messaging-internal";function UH(t){const e=(n,{instanceIdentifier:s})=>{const i=n.getProvider("app").getImmediate(),r=n.getProvider(DH),o=n.getProvider(VH),c=n.getProvider(LH);return new NH(i,r,o,c,s)};tl(new Za(ow,e,"PUBLIC").setMultipleInstances(!0)),Vi(jT,PT,t),Vi(jT,PT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t=_b(),e=E_){const s=Dg(vn(t),ow).getImmediate({identifier:e}),i=_R("functions");return i&&BH(s,...i),s}function BH(t,e,n){CH(vn(t),e,n)}function LP(t,e,n){return RH(vn(t),e)}UH();let To,IT,kT,MT;const lw=new wr;lw.addScope("email");lw.addScope("profile");const cw=()=>{if(!To){const t={apiKey:"AIzaSyBiqwcZgRvNBq3liSY7fHYnfEIgXLSkEys",authDomain:"jalrakshak-f1d6a.firebaseapp.com",projectId:"jalrakshak-f1d6a",storageBucket:"jalrakshak-f1d6a.firebasestorage.app",messagingSenderId:"170302508520",appId:"1:170302508520:web:f6a229ce2c7e368bbd285d",measurementId:"G-LY5SLJLZT4"};uE().length?To=uE()[0]:To=ER(t),IT=tH(To),kT=zH(To),MT=Q7(To)}return{app:To,db:IT,functions:kT,auth:MT}},FH=()=>{const{functions:t}=cw();return LP(t,"getSafeRoute")},HH=()=>{const{functions:t}=cw();return LP(t,"getNearestShelter")},VP=b.createContext(void 0),Su=()=>{const t=b.useContext(VP);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},$H=({children:t})=>{const[e,n]=b.useState(null),[s,i]=b.useState(null),[r,o]=b.useState(!0),{auth:c,db:d}=cw(),h=async(E,T={})=>{if(!E)return;const N=TT(d,"users",E.uid),O=await pH(N);if(O.exists()){const G={...O.data(),lastLogin:new Date};await Ny(N,G,{merge:!0}),i(G)}else{const{displayName:H,email:G,photoURL:j}=E,P={uid:E.uid,email:G,displayName:H||"",photoURL:j||void 0,role:"user",preferences:{alertTypes:["flood_warning","evacuation_alert","weather_update"],notificationMethods:["push","email"],emergencyContacts:[]},joinedAt:new Date,lastLogin:new Date,...T};try{await Ny(N,P),i(P)}catch(U){console.error("Error creating user profile:",U),it.error("Failed to create user profile")}}},p=async(E,T)=>{try{o(!0);const N=await Mz(c,E,T);await h(N.user),it.success("Welcome back!")}catch(N){throw console.error("Login error:",N),it.error(N.message||"Failed to login"),N}finally{o(!1)}},g=async(E,T,N)=>{try{o(!0);const O=await kz(c,E,T);await Dz(O.user,{displayName:N}),await h(O.user,{displayName:N}),it.success("Account created successfully!")}catch(O){throw console.error("Registration error:",O),it.error(O.message||"Failed to create account"),O}finally{o(!1)}},v=async()=>{try{o(!0);const E=await a7(c,lw);await h(E.user),it.success("Successfully signed in with Google!")}catch(E){throw console.error("Google login error:",E),it.error(E.message||"Failed to sign in with Google"),E}finally{o(!1)}},y=async()=>{try{await zz(c),i(null),it.success("Logged out successfully")}catch(E){console.error("Logout error:",E),it.error("Failed to logout")}},C=async E=>{try{await Iz(c,E),it.success("Password reset email sent!")}catch(T){throw console.error("Password reset error:",T),it.error(T.message||"Failed to send password reset email"),T}},S=async E=>{if(!(!e||!s))try{const T=TT(d,"users",e.uid),N={...s,...E};await Ny(T,N,{merge:!0}),i(N),it.success("Profile updated successfully!")}catch(T){throw console.error("Profile update error:",T),it.error("Failed to update profile"),T}};b.useEffect(()=>Uz(c,async T=>{if(console.log("Auth state changed:",T?"User logged in":"User logged out"),n(T),T)try{await h(T)}catch(N){console.error("Error creating user profile:",N)}else i(null);o(!1)}),[c,d]);const R={currentUser:e,userProfile:s,login:p,register:g,loginWithGoogle:v,logout:y,resetPassword:C,updateUserProfile:S,loading:r};return l.jsx(VP.Provider,{value:R,children:t})},OT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DT=sR,uw=(t,e)=>n=>{var s;if(e?.variants==null)return DT(t,n?.class,n?.className);const{variants:i,defaultVariants:r}=e,o=Object.keys(i).map(h=>{const p=n?.[h],g=r?.[h];if(p===null)return null;const v=OT(p)||OT(g);return i[h][v]}),c=n&&Object.entries(n).reduce((h,p)=>{let[g,v]=p;return v===void 0||(h[g]=v),h},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,p)=>{let{class:g,className:v,...y}=p;return Object.entries(y).every(C=>{let[S,R]=C;return Array.isArray(R)?R.includes({...r,...c}[S]):{...r,...c}[S]===R})?[...h,g,v]:h},[]);return DT(t,o,d,n?.class,n?.className)},qH=uw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=b.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},r)=>{const o=s?O3:"button";return l.jsx(o,{className:Ie(qH({variant:e,size:n,className:t})),ref:r,...i})});he.displayName="Button";const GH=uw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:t,variant:e,...n}){return l.jsx("div",{className:Ie(GH({variant:e}),t),...n})}var UP={exports:{}},zP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=b;function KH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var WH=typeof Object.is=="function"?Object.is:KH,ZH=su.useState,YH=su.useEffect,QH=su.useLayoutEffect,XH=su.useDebugValue;function JH(t,e){var n=e(),s=ZH({inst:{value:n,getSnapshot:e}}),i=s[0].inst,r=s[1];return QH(function(){i.value=n,i.getSnapshot=e,Cy(i)&&r({inst:i})},[t,n,e]),YH(function(){return Cy(i)&&r({inst:i}),t(function(){Cy(i)&&r({inst:i})})},[t]),XH(n),n}function Cy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!WH(t,n)}catch{return!0}}function e$(t,e){return e()}var t$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e$:JH;zP.useSyncExternalStore=su.useSyncExternalStore!==void 0?su.useSyncExternalStore:t$;UP.exports=zP;var n$=UP.exports;function s$(){return n$.useSyncExternalStore(i$,()=>!0,()=>!1)}function i$(){return()=>{}}var dw="Avatar",[r$,uX]=xs(dw),[a$,BP]=r$(dw),FP=b.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[i,r]=b.useState("idle");return l.jsx(a$,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:l.jsx(we.span,{...s,ref:e})})});FP.displayName=dw;var HP="AvatarImage",$P=b.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...r}=t,o=BP(HP,n),c=o$(s,r),d=di(h=>{i(h),o.onImageLoadingStatusChange(h)});return tn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?l.jsx(we.img,{...r,ref:e,src:s}):null});$P.displayName=HP;var qP="AvatarFallback",GP=b.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...i}=t,r=BP(qP,n),[o,c]=b.useState(s===void 0);return b.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),o&&r.imageLoadingStatus!=="loaded"?l.jsx(we.span,{...i,ref:e}):null});GP.displayName=qP;function LT(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function o$(t,{referrerPolicy:e,crossOrigin:n}){const s=s$(),i=b.useRef(null),r=s?(i.current||(i.current=new window.Image),i.current):null,[o,c]=b.useState(()=>LT(r,t));return tn(()=>{c(LT(r,t))},[r,t]),tn(()=>{const d=g=>()=>{c(g)};if(!r)return;const h=d("loaded"),p=d("error");return r.addEventListener("load",h),r.addEventListener("error",p),e&&(r.referrerPolicy=e),typeof n=="string"&&(r.crossOrigin=n),()=>{r.removeEventListener("load",h),r.removeEventListener("error",p)}},[r,n,e]),o}var KP=FP,WP=$P,ZP=GP;const zm=b.forwardRef(({className:t,...e},n)=>l.jsx(KP,{ref:n,className:Ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zm.displayName=KP.displayName;const Bm=b.forwardRef(({className:t,...e},n)=>l.jsx(WP,{ref:n,className:Ie("aspect-square h-full w-full",t),...e}));Bm.displayName=WP.displayName;const Fm=b.forwardRef(({className:t,...e},n)=>l.jsx(ZP,{ref:n,className:Ie("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Fm.displayName=ZP.displayName;function Xg(t){const e=t+"CollectionProvider",[n,s]=xs(e),[i,r]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:R,children:E}=S,T=oe.useRef(null),N=oe.useRef(new Map).current;return l.jsx(i,{scope:R,itemMap:N,collectionRef:T,children:E})};o.displayName=e;const c=t+"CollectionSlot",d=Xo(c),h=oe.forwardRef((S,R)=>{const{scope:E,children:T}=S,N=r(c,E),O=$e(R,N.collectionRef);return l.jsx(d,{ref:O,children:T})});h.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=Xo(p),y=oe.forwardRef((S,R)=>{const{scope:E,children:T,...N}=S,O=oe.useRef(null),H=$e(R,O),G=r(p,E);return oe.useEffect(()=>(G.itemMap.set(O,{ref:O,...N}),()=>void G.itemMap.delete(O))),l.jsx(v,{[g]:"",ref:H,children:T})});y.displayName=p;function C(S){const R=r(t+"CollectionConsumer",S);return oe.useCallback(()=>{const T=R.collectionRef.current;if(!T)return[];const N=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((G,j)=>N.indexOf(G.ref.current)-N.indexOf(j.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:h,ItemSlot:y},C,s]}var l$=b.createContext(void 0);function rf(t){const e=b.useContext(l$);return t||e||"ltr"}var Ry=0;function hw(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VT()),document.body.insertAdjacentElement("beforeend",t[1]??VT()),Ry++,()=>{Ry===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ry--}},[])}function VT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jy="focusScope.autoFocusOnMount",Py="focusScope.autoFocusOnUnmount",UT={bubbles:!1,cancelable:!0},c$="FocusScope",Jg=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:r,...o}=t,[c,d]=b.useState(null),h=di(i),p=di(r),g=b.useRef(null),v=$e(e,S=>d(S)),y=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let S=function(N){if(y.paused||!c)return;const O=N.target;c.contains(O)?g.current=O:ha(g.current,{select:!0})},R=function(N){if(y.paused||!c)return;const O=N.relatedTarget;O!==null&&(c.contains(O)||ha(g.current,{select:!0}))},E=function(N){if(document.activeElement===document.body)for(const H of N)H.removedNodes.length>0&&ha(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",R);const T=new MutationObserver(E);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",R),T.disconnect()}}},[s,c,y.paused]),b.useEffect(()=>{if(c){BT.add(y);const S=document.activeElement;if(!c.contains(S)){const E=new CustomEvent(jy,UT);c.addEventListener(jy,h),c.dispatchEvent(E),E.defaultPrevented||(u$(p$(YP(c)),{select:!0}),document.activeElement===S&&ha(c))}return()=>{c.removeEventListener(jy,h),setTimeout(()=>{const E=new CustomEvent(Py,UT);c.addEventListener(Py,p),c.dispatchEvent(E),E.defaultPrevented||ha(S??document.body,{select:!0}),c.removeEventListener(Py,p),BT.remove(y)},0)}}},[c,h,p,y]);const C=b.useCallback(S=>{if(!n&&!s||y.paused)return;const R=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,E=document.activeElement;if(R&&E){const T=S.currentTarget,[N,O]=d$(T);N&&O?!S.shiftKey&&E===O?(S.preventDefault(),n&&ha(N,{select:!0})):S.shiftKey&&E===N&&(S.preventDefault(),n&&ha(O,{select:!0})):E===T&&S.preventDefault()}},[n,s,y.paused]);return l.jsx(we.div,{tabIndex:-1,...o,ref:v,onKeyDown:C})});Jg.displayName=c$;function u$(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(ha(s,{select:e}),document.activeElement!==n)return}function d$(t){const e=YP(t),n=zT(e,t),s=zT(e.reverse(),t);return[n,s]}function YP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zT(t,e){for(const n of t)if(!h$(n,{upTo:e}))return n}function h$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function f$(t){return t instanceof HTMLInputElement&&"select"in t}function ha(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&f$(t)&&e&&t.select()}}var BT=m$();function m$(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=FT(t,e),t.unshift(e)},remove(e){t=FT(t,e),t[0]?.resume()}}}function FT(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function p$(t){return t.filter(e=>e.tagName!=="A")}var Iy="rovingFocusGroup.onEntryFocus",g$={bubbles:!1,cancelable:!0},af="RovingFocusGroup",[T_,QP,v$]=Xg(af),[y$,ev]=xs(af,[v$]),[_$,x$]=y$(af),XP=b.forwardRef((t,e)=>l.jsx(T_.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(T_.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(b$,{...t,ref:e})})}));XP.displayName=af;var b$=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:r,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,v=b.useRef(null),y=$e(e,v),C=rf(r),[S,R]=Wa({prop:o,defaultProp:c??null,onChange:d,caller:af}),[E,T]=b.useState(!1),N=di(h),O=QP(n),H=b.useRef(!1),[G,j]=b.useState(0);return b.useEffect(()=>{const P=v.current;if(P)return P.addEventListener(Iy,N),()=>P.removeEventListener(Iy,N)},[N]),l.jsx(_$,{scope:n,orientation:s,dir:C,loop:i,currentTabStopId:S,onItemFocus:b.useCallback(P=>R(P),[R]),onItemShiftTab:b.useCallback(()=>T(!0),[]),onFocusableItemAdd:b.useCallback(()=>j(P=>P+1),[]),onFocusableItemRemove:b.useCallback(()=>j(P=>P-1),[]),children:l.jsx(we.div,{tabIndex:E||G===0?-1:0,"data-orientation":s,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{H.current=!0}),onFocus:pe(t.onFocus,P=>{const U=!H.current;if(P.target===P.currentTarget&&U&&!E){const k=new CustomEvent(Iy,g$);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const M=O().filter(K=>K.focusable),D=M.find(K=>K.active),z=M.find(K=>K.id===S),fe=[D,z,...M].filter(Boolean).map(K=>K.ref.current);tI(fe,p)}}H.current=!1}),onBlur:pe(t.onBlur,()=>T(!1))})})}),JP="RovingFocusGroupItem",eI=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:r,children:o,...c}=t,d=Di(),h=r||d,p=x$(JP,n),g=p.currentTabStopId===h,v=QP(n),{onFocusableItemAdd:y,onFocusableItemRemove:C,currentTabStopId:S}=p;return b.useEffect(()=>{if(s)return y(),()=>C()},[s,y,C]),l.jsx(T_.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:l.jsx(we.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:pe(t.onMouseDown,R=>{s?p.onItemFocus(h):R.preventDefault()}),onFocus:pe(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:pe(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){p.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const E=E$(R,p.orientation,p.dir);if(E!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let N=v().filter(O=>O.focusable).map(O=>O.ref.current);if(E==="last")N.reverse();else if(E==="prev"||E==="next"){E==="prev"&&N.reverse();const O=N.indexOf(R.currentTarget);N=p.loop?T$(N,O+1):N.slice(O+1)}setTimeout(()=>tI(N))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:S!=null}):o})})});eI.displayName=JP;var w$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function E$(t,e,n){const s=S$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return w$[s]}function tI(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function T$(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var nI=XP,sI=eI,A$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$l=new WeakMap,om=new WeakMap,lm={},ky=0,iI=function(t){return t&&(t.host||iI(t.parentNode))},N$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=iI(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},C$=function(t,e,n,s){var i=N$(e,Array.isArray(t)?t:[t]);lm[n]||(lm[n]=new WeakMap);var r=lm[n],o=[],c=new Set,d=new Set(i),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};i.forEach(h);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))p(v);else try{var y=v.getAttribute(s),C=y!==null&&y!=="false",S=($l.get(v)||0)+1,R=(r.get(v)||0)+1;$l.set(v,S),r.set(v,R),o.push(v),S===1&&C&&om.set(v,!0),R===1&&v.setAttribute(n,"true"),C||v.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return p(e),c.clear(),ky++,function(){o.forEach(function(g){var v=$l.get(g)-1,y=r.get(g)-1;$l.set(g,v),r.set(g,y),v||(om.has(g)||g.removeAttribute(s),om.delete(g)),y||g.removeAttribute(n)}),ky--,ky||($l=new WeakMap,$l=new WeakMap,om=new WeakMap,lm={})}},fw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=A$(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),C$(s,i,n,"aria-hidden")):function(){return null}},ji=function(){return ji=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(this,arguments)};function rI(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function R$(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}var Hm="right-scroll-bar-position",$m="width-before-scroll-bar",j$="with-scroll-bars-hidden",P$="--removed-body-scroll-bar-size";function My(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function I$(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var k$=typeof window<"u"?b.useLayoutEffect:b.useEffect,HT=new WeakMap;function M$(t,e){var n=I$(null,function(s){return t.forEach(function(i){return My(i,s)})});return k$(function(){var s=HT.get(n);if(s){var i=new Set(s),r=new Set(t),o=n.current;i.forEach(function(c){r.has(c)||My(c,null)}),r.forEach(function(c){i.has(c)||My(c,o)})}HT.set(n,t)},[t]),n}function O$(t){return t}function D$(t,e){e===void 0&&(e=O$);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(r){var o=e(r,s);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(r){for(s=!0;n.length;){var o=n;n=[],o.forEach(r)}n={push:function(c){return r(c)},filter:function(){return n}}},assignMedium:function(r){s=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(r),o=n}var d=function(){var p=o;o=[],p.forEach(r)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(p){o.push(p),h()},filter:function(p){return o=o.filter(p),n}}}};return i}function L$(t){t===void 0&&(t={});var e=D$(null);return e.options=ji({async:!0,ssr:!1},t),e}var aI=function(t){var e=t.sideCar,n=rI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,ji({},n))};aI.isSideCarExport=!0;function V$(t,e){return t.useMedium(e),aI}var oI=L$(),Oy=function(){},tv=b.forwardRef(function(t,e){var n=b.useRef(null),s=b.useState({onScrollCapture:Oy,onWheelCapture:Oy,onTouchMoveCapture:Oy}),i=s[0],r=s[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,y=t.noRelative,C=t.noIsolation,S=t.inert,R=t.allowPinchZoom,E=t.as,T=E===void 0?"div":E,N=t.gapMode,O=rI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=v,G=M$([n,e]),j=ji(ji({},O),i);return b.createElement(b.Fragment,null,p&&b.createElement(H,{sideCar:oI,removeScrollBar:h,shards:g,noRelative:y,noIsolation:C,inert:S,setCallbacks:r,allowPinchZoom:!!R,lockRef:n,gapMode:N}),o?b.cloneElement(b.Children.only(c),ji(ji({},j),{ref:G})):b.createElement(T,ji({},j,{className:d,ref:G}),c))});tv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tv.classNames={fullWidth:$m,zeroRight:Hm};var U$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=U$();return e&&t.setAttribute("nonce",e),t}function B$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function F$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var H$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=z$())&&(B$(e,n),F$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$$=function(){var t=H$();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lI=function(){var t=$$(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},q$={left:0,top:0,right:0,gap:0},Dy=function(t){return parseInt(t||"",10)||0},G$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Dy(n),Dy(s),Dy(i)]},K$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return q$;var e=G$(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},W$=lI(),Mc="data-scroll-locked",Z$=function(t,e,n,s){var i=t.left,r=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(j$,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(Mc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hm,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat($m,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Hm," .").concat(Hm,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat($m," .").concat($m,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Mc,`] {
    `).concat(P$,": ").concat(c,`px;
  }
`)},$T=function(){var t=parseInt(document.body.getAttribute(Mc)||"0",10);return isFinite(t)?t:0},Y$=function(){b.useEffect(function(){return document.body.setAttribute(Mc,($T()+1).toString()),function(){var t=$T()-1;t<=0?document.body.removeAttribute(Mc):document.body.setAttribute(Mc,t.toString())}},[])},Q$=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;Y$();var r=b.useMemo(function(){return K$(i)},[i]);return b.createElement(W$,{styles:Z$(r,!e,i,n?"":"!important")})},A_=!1;if(typeof window<"u")try{var cm=Object.defineProperty({},"passive",{get:function(){return A_=!0,!0}});window.addEventListener("test",cm,cm),window.removeEventListener("test",cm,cm)}catch{A_=!1}var ql=A_?{passive:!1}:!1,X$=function(t){return t.tagName==="TEXTAREA"},cI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!X$(t)&&n[e]==="visible")},J$=function(t){return cI(t,"overflowY")},eq=function(t){return cI(t,"overflowX")},qT=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=uI(t,s);if(i){var r=dI(t,s),o=r[1],c=r[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},tq=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},nq=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},uI=function(t,e){return t==="v"?J$(e):eq(e)},dI=function(t,e){return t==="v"?tq(e):nq(e)},sq=function(t,e){return t==="h"&&e==="rtl"?-1:1},iq=function(t,e,n,s,i){var r=sq(t,window.getComputedStyle(e).direction),o=r*s,c=n.target,d=e.contains(c),h=!1,p=o>0,g=0,v=0;do{if(!c)break;var y=dI(t,c),C=y[0],S=y[1],R=y[2],E=S-R-r*C;(C||E)&&uI(t,c)&&(g+=E,v+=C);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(h=!0),h},um=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GT=function(t){return[t.deltaX,t.deltaY]},KT=function(t){return t&&"current"in t?t.current:t},rq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oq=0,Gl=[];function lq(t){var e=b.useRef([]),n=b.useRef([0,0]),s=b.useRef(),i=b.useState(oq++)[0],r=b.useState(lI)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=R$([t.lockRef.current],(t.shards||[]).map(KT),!0).filter(Boolean);return S.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=b.useCallback(function(S,R){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!o.current.allowPinchZoom;var E=um(S),T=n.current,N="deltaX"in S?S.deltaX:T[0]-E[0],O="deltaY"in S?S.deltaY:T[1]-E[1],H,G=S.target,j=Math.abs(N)>Math.abs(O)?"h":"v";if("touches"in S&&j==="h"&&G.type==="range")return!1;var P=qT(j,G);if(!P)return!0;if(P?H=j:(H=j==="v"?"h":"v",P=qT(j,G)),!P)return!1;if(!s.current&&"changedTouches"in S&&(N||O)&&(s.current=H),!H)return!0;var U=s.current||H;return iq(U,R,S,U==="h"?N:O)},[]),d=b.useCallback(function(S){var R=S;if(!(!Gl.length||Gl[Gl.length-1]!==r)){var E="deltaY"in R?GT(R):um(R),T=e.current.filter(function(H){return H.name===R.type&&(H.target===R.target||R.target===H.shadowParent)&&rq(H.delta,E)})[0];if(T&&T.should){R.cancelable&&R.preventDefault();return}if(!T){var N=(o.current.shards||[]).map(KT).filter(Boolean).filter(function(H){return H.contains(R.target)}),O=N.length>0?c(R,N[0]):!o.current.noIsolation;O&&R.cancelable&&R.preventDefault()}}},[]),h=b.useCallback(function(S,R,E,T){var N={name:S,delta:R,target:E,should:T,shadowParent:cq(E)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(O){return O!==N})},1)},[]),p=b.useCallback(function(S){n.current=um(S),s.current=void 0},[]),g=b.useCallback(function(S){h(S.type,GT(S),S.target,c(S,t.lockRef.current))},[]),v=b.useCallback(function(S){h(S.type,um(S),S.target,c(S,t.lockRef.current))},[]);b.useEffect(function(){return Gl.push(r),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",d,ql),document.addEventListener("touchmove",d,ql),document.addEventListener("touchstart",p,ql),function(){Gl=Gl.filter(function(S){return S!==r}),document.removeEventListener("wheel",d,ql),document.removeEventListener("touchmove",d,ql),document.removeEventListener("touchstart",p,ql)}},[]);var y=t.removeScrollBar,C=t.inert;return b.createElement(b.Fragment,null,C?b.createElement(r,{styles:aq(i)}):null,y?b.createElement(Q$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uq=V$(oI,lq);var nv=b.forwardRef(function(t,e){return b.createElement(tv,ji({},t,{ref:e,sideCar:uq}))});nv.classNames=tv.classNames;var N_=["Enter"," "],dq=["ArrowDown","PageUp","Home"],hI=["ArrowUp","PageDown","End"],hq=[...dq,...hI],fq={ltr:[...N_,"ArrowRight"],rtl:[...N_,"ArrowLeft"]},mq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},of="Menu",[Sh,pq,gq]=Xg(of),[vl,fI]=xs(of,[gq,pu,ev]),sv=pu(),mI=ev(),[vq,yl]=vl(of),[yq,lf]=vl(of),pI=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:i,onOpenChange:r,modal:o=!0}=t,c=sv(e),[d,h]=b.useState(null),p=b.useRef(!1),g=di(r),v=rf(i);return b.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),l.jsx(q2,{...c,children:l.jsx(vq,{scope:e,open:n,onOpenChange:g,content:d,onContentChange:h,children:l.jsx(yq,{scope:e,onClose:b.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:o,children:s})})})};pI.displayName=of;var _q="MenuAnchor",mw=b.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=sv(n);return l.jsx(lb,{...i,...s,ref:e})});mw.displayName=_q;var pw="MenuPortal",[xq,gI]=vl(pw,{forceMount:void 0}),vI=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:i}=t,r=yl(pw,e);return l.jsx(xq,{scope:e,forceMount:n,children:l.jsx(Yi,{present:n||r.open,children:l.jsx(jg,{asChild:!0,container:i,children:s})})})};vI.displayName=pw;var Fs="MenuContent",[bq,gw]=vl(Fs),yI=b.forwardRef((t,e)=>{const n=gI(Fs,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,r=yl(Fs,t.__scopeMenu),o=lf(Fs,t.__scopeMenu);return l.jsx(Sh.Provider,{scope:t.__scopeMenu,children:l.jsx(Yi,{present:s||r.open,children:l.jsx(Sh.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(wq,{...i,ref:e}):l.jsx(Sq,{...i,ref:e})})})})}),wq=b.forwardRef((t,e)=>{const n=yl(Fs,t.__scopeMenu),s=b.useRef(null),i=$e(e,s);return b.useEffect(()=>{const r=s.current;if(r)return fw(r)},[]),l.jsx(vw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Sq=b.forwardRef((t,e)=>{const n=yl(Fs,t.__scopeMenu);return l.jsx(vw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Eq=Xo("MenuContent.ScrollLock"),vw=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:y,disableOutsideScroll:C,...S}=t,R=yl(Fs,n),E=lf(Fs,n),T=sv(n),N=mI(n),O=pq(n),[H,G]=b.useState(null),j=b.useRef(null),P=$e(e,j,R.onContentChange),U=b.useRef(0),k=b.useRef(""),M=b.useRef(0),D=b.useRef(null),z=b.useRef("right"),ne=b.useRef(0),fe=C?nv:b.Fragment,K=C?{as:Eq,allowPinchZoom:!0}:void 0,ee=$=>{const X=k.current+$,le=O().filter(ie=>!ie.disabled),q=document.activeElement,ce=le.find(ie=>ie.ref.current===q)?.textValue,ae=le.map(ie=>ie.textValue),de=Dq(ae,X,ce),me=le.find(ie=>ie.textValue===de)?.ref.current;(function ie(ke){k.current=ke,window.clearTimeout(U.current),ke!==""&&(U.current=window.setTimeout(()=>ie(""),1e3))})(X),me&&setTimeout(()=>me.focus())};b.useEffect(()=>()=>window.clearTimeout(U.current),[]),hw();const B=b.useCallback($=>z.current===D.current?.side&&Vq($,D.current?.area),[]);return l.jsx(bq,{scope:n,searchRef:k,onItemEnter:b.useCallback($=>{B($)&&$.preventDefault()},[B]),onItemLeave:b.useCallback($=>{B($)||(j.current?.focus(),G(null))},[B]),onTriggerLeave:b.useCallback($=>{B($)&&$.preventDefault()},[B]),pointerGraceTimerRef:M,onPointerGraceIntentChange:b.useCallback($=>{D.current=$},[]),children:l.jsx(fe,{...K,children:l.jsx(Jg,{asChild:!0,trapped:i,onMountAutoFocus:pe(r,$=>{$.preventDefault(),j.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(qh,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:y,children:l.jsx(nI,{asChild:!0,...N,dir:E.dir,orientation:"vertical",loop:s,currentTabStopId:H,onCurrentTabStopIdChange:G,onEntryFocus:pe(d,$=>{E.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(cb,{role:"menu","aria-orientation":"vertical","data-state":MI(R.open),"data-radix-menu-content":"",dir:E.dir,...T,...S,ref:P,style:{outline:"none",...S.style},onKeyDown:pe(S.onKeyDown,$=>{const le=$.target.closest("[data-radix-menu-content]")===$.currentTarget,q=$.ctrlKey||$.altKey||$.metaKey,ce=$.key.length===1;le&&($.key==="Tab"&&$.preventDefault(),!q&&ce&&ee($.key));const ae=j.current;if($.target!==ae||!hq.includes($.key))return;$.preventDefault();const me=O().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);hI.includes($.key)&&me.reverse(),Mq(me)}),onBlur:pe(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(U.current),k.current="")}),onPointerMove:pe(t.onPointerMove,Eh($=>{const X=$.target,le=ne.current!==$.clientX;if($.currentTarget.contains(X)&&le){const q=$.clientX>ne.current?"right":"left";z.current=q,ne.current=$.clientX}}))})})})})})})});yI.displayName=Fs;var Tq="MenuGroup",yw=b.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return l.jsx(we.div,{role:"group",...s,ref:e})});yw.displayName=Tq;var Aq="MenuLabel",_I=b.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return l.jsx(we.div,{...s,ref:e})});_I.displayName=Aq;var Qp="MenuItem",WT="menu.itemSelect",iv=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...i}=t,r=b.useRef(null),o=lf(Qp,t.__scopeMenu),c=gw(Qp,t.__scopeMenu),d=$e(e,r),h=b.useRef(!1),p=()=>{const g=r.current;if(!n&&g){const v=new CustomEvent(WT,{bubbles:!0,cancelable:!0});g.addEventListener(WT,y=>s?.(y),{once:!0}),b2(g,v),v.defaultPrevented?h.current=!1:o.onClose()}};return l.jsx(xI,{...i,ref:d,disabled:n,onClick:pe(t.onClick,p),onPointerDown:g=>{t.onPointerDown?.(g),h.current=!0},onPointerUp:pe(t.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:pe(t.onKeyDown,g=>{const v=c.searchRef.current!=="";n||v&&g.key===" "||N_.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});iv.displayName=Qp;var xI=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...r}=t,o=gw(Qp,n),c=mI(n),d=b.useRef(null),h=$e(e,d),[p,g]=b.useState(!1),[v,y]=b.useState("");return b.useEffect(()=>{const C=d.current;C&&y((C.textContent??"").trim())},[r.children]),l.jsx(Sh.ItemSlot,{scope:n,disabled:s,textValue:i??v,children:l.jsx(sI,{asChild:!0,...c,focusable:!s,children:l.jsx(we.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...r,ref:h,onPointerMove:pe(t.onPointerMove,Eh(C=>{s?o.onItemLeave(C):(o.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,Eh(C=>o.onItemLeave(C))),onFocus:pe(t.onFocus,()=>g(!0)),onBlur:pe(t.onBlur,()=>g(!1))})})})}),Nq="MenuCheckboxItem",bI=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...i}=t;return l.jsx(AI,{scope:t.__scopeMenu,checked:n,children:l.jsx(iv,{role:"menuitemcheckbox","aria-checked":Xp(n)?"mixed":n,...i,ref:e,"data-state":xw(n),onSelect:pe(i.onSelect,()=>s?.(Xp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bI.displayName=Nq;var wI="MenuRadioGroup",[Cq,Rq]=vl(wI,{value:void 0,onValueChange:()=>{}}),SI=b.forwardRef((t,e)=>{const{value:n,onValueChange:s,...i}=t,r=di(s);return l.jsx(Cq,{scope:t.__scopeMenu,value:n,onValueChange:r,children:l.jsx(yw,{...i,ref:e})})});SI.displayName=wI;var EI="MenuRadioItem",TI=b.forwardRef((t,e)=>{const{value:n,...s}=t,i=Rq(EI,t.__scopeMenu),r=n===i.value;return l.jsx(AI,{scope:t.__scopeMenu,checked:r,children:l.jsx(iv,{role:"menuitemradio","aria-checked":r,...s,ref:e,"data-state":xw(r),onSelect:pe(s.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});TI.displayName=EI;var _w="MenuItemIndicator",[AI,jq]=vl(_w,{checked:!1}),NI=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...i}=t,r=jq(_w,n);return l.jsx(Yi,{present:s||Xp(r.checked)||r.checked===!0,children:l.jsx(we.span,{...i,ref:e,"data-state":xw(r.checked)})})});NI.displayName=_w;var Pq="MenuSeparator",CI=b.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return l.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});CI.displayName=Pq;var Iq="MenuArrow",RI=b.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,i=sv(n);return l.jsx(ub,{...i,...s,ref:e})});RI.displayName=Iq;var kq="MenuSub",[dX,jI]=vl(kq),_d="MenuSubTrigger",PI=b.forwardRef((t,e)=>{const n=yl(_d,t.__scopeMenu),s=lf(_d,t.__scopeMenu),i=jI(_d,t.__scopeMenu),r=gw(_d,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=r,h={__scopeMenu:t.__scopeMenu},p=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>p,[p]),b.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),d(null)}},[c,d]),l.jsx(mw,{asChild:!0,...h,children:l.jsx(xI,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":MI(n.open),...t,ref:Tg(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Eh(g=>{r.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(r.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:pe(t.onPointerLeave,Eh(g=>{p();const v=n.content?.getBoundingClientRect();if(v){const y=n.content?.dataset.side,C=y==="right",S=C?-5:5,R=v[C?"left":"right"],E=v[C?"right":"left"];r.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:R,y:v.top},{x:E,y:v.top},{x:E,y:v.bottom},{x:R,y:v.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(g),g.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,g=>{const v=r.searchRef.current!=="";t.disabled||v&&g.key===" "||fq[s.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});PI.displayName=_d;var II="MenuSubContent",kI=b.forwardRef((t,e)=>{const n=gI(Fs,t.__scopeMenu),{forceMount:s=n.forceMount,...i}=t,r=yl(Fs,t.__scopeMenu),o=lf(Fs,t.__scopeMenu),c=jI(II,t.__scopeMenu),d=b.useRef(null),h=$e(e,d);return l.jsx(Sh.Provider,{scope:t.__scopeMenu,children:l.jsx(Yi,{present:s||r.open,children:l.jsx(Sh.Slot,{scope:t.__scopeMenu,children:l.jsx(vw,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{o.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:pe(t.onFocusOutside,p=>{p.target!==c.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:pe(t.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),v=mq[o.dir].includes(p.key);g&&v&&(r.onOpenChange(!1),c.trigger?.focus(),p.preventDefault())})})})})})});kI.displayName=II;function MI(t){return t?"open":"closed"}function Xp(t){return t==="indeterminate"}function xw(t){return Xp(t)?"indeterminate":t?"checked":"unchecked"}function Mq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Oq(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function Dq(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,r=n?t.indexOf(n):-1;let o=Oq(t,Math.max(r,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function Lq(t,e){const{x:n,y:s}=t;let i=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const c=e[r],d=e[o],h=c.x,p=c.y,g=d.x,v=d.y;p>s!=v>s&&n<(g-h)*(s-p)/(v-p)+h&&(i=!i)}return i}function Vq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Lq(n,e)}function Eh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Uq=pI,zq=mw,Bq=vI,Fq=yI,Hq=yw,$q=_I,qq=iv,Gq=bI,Kq=SI,Wq=TI,Zq=NI,Yq=CI,Qq=RI,Xq=PI,Jq=kI,rv="DropdownMenu",[eG,hX]=xs(rv,[fI]),On=fI(),[tG,OI]=eG(rv),DI=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:i,defaultOpen:r,onOpenChange:o,modal:c=!0}=t,d=On(e),h=b.useRef(null),[p,g]=Wa({prop:i,defaultProp:r??!1,onChange:o,caller:rv});return l.jsx(tG,{scope:e,triggerId:Di(),triggerRef:h,contentId:Di(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(v=>!v),[g]),modal:c,children:l.jsx(Uq,{...d,open:p,onOpenChange:g,dir:s,modal:c,children:n})})};DI.displayName=rv;var LI="DropdownMenuTrigger",VI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=t,r=OI(LI,n),o=On(n);return l.jsx(zq,{asChild:!0,...o,children:l.jsx(we.button,{type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Tg(e,r.triggerRef),onPointerDown:pe(t.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(r.onOpenToggle(),r.open||c.preventDefault())}),onKeyDown:pe(t.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&r.onOpenToggle(),c.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});VI.displayName=LI;var nG="DropdownMenuPortal",UI=t=>{const{__scopeDropdownMenu:e,...n}=t,s=On(e);return l.jsx(Bq,{...s,...n})};UI.displayName=nG;var zI="DropdownMenuContent",BI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=OI(zI,n),r=On(n),o=b.useRef(!1);return l.jsx(Fq,{id:i.contentId,"aria-labelledby":i.triggerId,...r,...s,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,c=>{o.current||i.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;(!i.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BI.displayName=zI;var sG="DropdownMenuGroup",iG=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Hq,{...i,...s,ref:e})});iG.displayName=sG;var rG="DropdownMenuLabel",FI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx($q,{...i,...s,ref:e})});FI.displayName=rG;var aG="DropdownMenuItem",HI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(qq,{...i,...s,ref:e})});HI.displayName=aG;var oG="DropdownMenuCheckboxItem",$I=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Gq,{...i,...s,ref:e})});$I.displayName=oG;var lG="DropdownMenuRadioGroup",cG=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Kq,{...i,...s,ref:e})});cG.displayName=lG;var uG="DropdownMenuRadioItem",qI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Wq,{...i,...s,ref:e})});qI.displayName=uG;var dG="DropdownMenuItemIndicator",GI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Zq,{...i,...s,ref:e})});GI.displayName=dG;var hG="DropdownMenuSeparator",KI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Yq,{...i,...s,ref:e})});KI.displayName=hG;var fG="DropdownMenuArrow",mG=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Qq,{...i,...s,ref:e})});mG.displayName=fG;var pG="DropdownMenuSubTrigger",WI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Xq,{...i,...s,ref:e})});WI.displayName=pG;var gG="DropdownMenuSubContent",ZI=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,i=On(n);return l.jsx(Jq,{...i,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZI.displayName=gG;var vG=DI,yG=VI,_G=UI,YI=BI,QI=FI,XI=HI,JI=$I,ek=qI,tk=GI,nk=KI,sk=WI,ik=ZI;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rk=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...c},d)=>b.createElement("svg",{ref:d,...bG,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:rk("lucide",i),...c},[...o.map(([h,p])=>b.createElement(h,p)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const n=b.forwardRef(({className:s,...i},r)=>b.createElement(wG,{ref:r,iconNode:e,className:rk(`lucide-${xG(t)}`,s),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=ve("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=ve("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=ve("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=ve("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=ve("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ve("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=ve("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=ve("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=ve("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=ve("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ve("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=ve("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ve("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ve("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=ve("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sA=vG,iA=yG,XG=b.forwardRef(({className:t,inset:e,children:n,...s},i)=>l.jsxs(sk,{ref:i,className:Ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,l.jsx(CG,{className:"ml-auto h-4 w-4"})]}));XG.displayName=sk.displayName;const JG=b.forwardRef(({className:t,...e},n)=>l.jsx(ik,{ref:n,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));JG.displayName=ik.displayName;const P_=b.forwardRef(({className:t,sideOffset:e=4,...n},s)=>l.jsx(_G,{children:l.jsx(YI,{ref:s,sideOffset:e,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));P_.displayName=YI.displayName;const fa=b.forwardRef(({className:t,inset:e,...n},s)=>l.jsx(XI,{ref:s,className:Ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));fa.displayName=XI.displayName;const eK=b.forwardRef(({className:t,children:e,checked:n,...s},i)=>l.jsxs(JI,{ref:i,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tk,{children:l.jsx(ak,{className:"h-4 w-4"})})}),e]}));eK.displayName=JI.displayName;const tK=b.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(ek,{ref:s,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tk,{children:l.jsx(IG,{className:"h-2 w-2 fill-current"})})}),e]}));tK.displayName=ek.displayName;const I_=b.forwardRef(({className:t,inset:e,...n},s)=>l.jsx(QI,{ref:s,className:Ie("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));I_.displayName=QI.displayName;const xd=b.forwardRef(({className:t,...e},n)=>l.jsx(nk,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",t),...e}));xd.displayName=nk.displayName;const Ao=({children:t})=>{const[e,n]=b.useState(!1),s=PA(),i=og(),{currentUser:r,userProfile:o,logout:c}=Su(),d=[{name:"Dashboard",href:"/dashboard",icon:Gm},{name:"Predictions",href:"/predictions",icon:ck},{name:"Alerts",href:"/alerts",icon:on},{name:"Reports",href:"/reports",icon:ui},{name:"Assessment",href:"/assessment",icon:av},{name:"Planning",href:"/planning",icon:Qn}],h=async()=>{await c(),i("/")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50",children:[e&&l.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),l.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-green-100 to-teal-200 text-gray-100 backdrop-blur-xl shadow-lg border-r border-blue-100 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-blue-100 bg-gradient-to-r from-green-100 to-teal-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("img",{src:"/favicon.svg",alt:"JalRakshak Logo",className:"w-10 h-10"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Flood Warning System"})]})]}),l.jsx(he,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:l.jsx(ov,{className:"w-5 h-5"})})]}),l.jsxs("nav",{className:"mt-6 px-3",children:[l.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-100 to-teal-100 rounded-xl border border-blue-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(zm,{className:"w-10 h-10 ring-2 ring-blue-300",children:[l.jsx(Bm,{src:r?.photoURL||""}),l.jsx(Fm,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white font-bold",children:o?.displayName?.split(" ").map(p=>p[0]).join("")||"U"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Welcome back!"}),l.jsx("p",{className:"text-xs text-blue-700 truncate",children:o?.displayName||"User"})]}),l.jsxs(he,{onClick:()=>i("/profile"),size:"sm",variant:"ghost",className:"bg-blue-200 hover:bg-blue-300 text-blue-800 rounded-full p-2 relative",children:[l.jsx(eA,{className:"w-4 h-4"}),l.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})]})}),d.map(p=>{const g=s.pathname===p.href;return l.jsxs(_D,{to:p.href,className:`
                  flex items-center px-3 py-3 mb-2 rounded-xl transition-all duration-200
                  ${g?"bg-gradient-to-r from-blue-400 to-teal-400 text-gray-800 shadow-md shadow-blue-400/30":"text-gray-700 hover:bg-gradient-to-r hover:from-blue-100 hover:to-teal-100 hover:text-gray-800"}
                `,onClick:()=>n(!1),children:[l.jsx(p.icon,{className:"w-5 h-5 mr-3"}),l.jsx("span",{className:"font-medium",children:p.name})]},p.name)})]}),l.jsx("div",{className:"absolute bottom-20 left-3 right-3",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-2 border-blue-200 rounded-xl p-4 shadow-lg",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(zm,{className:"w-12 h-12 ring-2 ring-blue-300",children:[l.jsx(Bm,{src:r?.photoURL||""}),l.jsx(Fm,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-lg font-bold",children:o?.displayName?.split(" ").map(p=>p[0]).join("")||"U"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-bold text-blue-900 truncate",children:o?.displayName||"User"}),l.jsx("p",{className:"text-xs text-blue-700 truncate",children:o?.email}),l.jsx(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs mt-1",children:o?.role?.replace("_"," ").toUpperCase()||"USER"})]}),l.jsxs(sA,{children:[l.jsx(iA,{asChild:!0,children:l.jsx(he,{variant:"ghost",size:"sm",className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full border border-blue-300",children:l.jsx(Jp,{className:"w-4 h-4 text-blue-700"})})}),l.jsxs(P_,{align:"end",className:"w-48",children:[l.jsx(I_,{className:"text-blue-900 font-semibold",children:"My Account"}),l.jsx(xd,{}),l.jsxs(fa,{onClick:()=>i("/profile"),className:"hover:bg-blue-50",children:[l.jsx(Ah,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),l.jsxs(fa,{className:"hover:bg-blue-50",children:[l.jsx(Oc,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),l.jsxs(fa,{className:"hover:bg-blue-50",children:[l.jsx(eA,{className:"w-4 h-4 mr-2 text-blue-600"}),"Preferences"]}),l.jsx(xd,{}),l.jsxs(fa,{onClick:h,className:"text-red-600 hover:bg-red-50",children:[l.jsx(YT,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})})}),l.jsx("div",{className:"absolute bottom-6 left-3 right-3",children:l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(hs,{className:"w-5 h-5 text-green-600"}),l.jsx("span",{className:"font-semibold text-green-800",children:"System Status"})]}),l.jsx(Ye,{variant:"secondary",className:"bg-green-100 text-green-700 hover:bg-green-100",children:"All Systems Operational"})]})})]}),l.jsxs("div",{className:"lg:pl-64",children:[l.jsxs("div",{className:"lg:hidden flex items-center justify-between h-16 px-4 bg-white/80 backdrop-blur-xl border-b border-blue-100",children:[l.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(!0),children:l.jsx(UG,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ww,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"font-bold text-blue-600",children:"JalRakshak"})]}),l.jsxs(sA,{children:[l.jsx(iA,{asChild:!0,children:l.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 border-2 border-blue-200 rounded-full p-1 cursor-pointer hover:bg-blue-100 transition-colors",children:[l.jsxs(zm,{className:"w-8 h-8 ring-2 ring-blue-300",children:[l.jsx(Bm,{src:r?.photoURL||""}),l.jsx(Fm,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-sm font-bold",children:o?.displayName?.split(" ").map(p=>p[0]).join("")||"U"})]}),l.jsx(Jp,{className:"w-3 h-3 text-blue-600 mr-1"})]})}),l.jsxs(P_,{align:"end",className:"w-48",children:[l.jsxs(I_,{className:"text-blue-900 font-semibold",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{children:"My Account"})}),l.jsx("div",{className:"text-xs text-blue-600 font-normal truncate",children:o?.displayName||"User"})]}),l.jsx(xd,{}),l.jsxs(fa,{onClick:()=>i("/profile"),className:"hover:bg-blue-50",children:[l.jsx(Ah,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),l.jsxs(fa,{className:"hover:bg-blue-50",children:[l.jsx(Oc,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),l.jsx(xd,{}),l.jsxs(fa,{onClick:h,className:"text-red-600 hover:bg-red-50",children:[l.jsx(YT,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]}),l.jsx("main",{className:"p-6",children:t})]})]})},No=({children:t})=>{const{currentUser:e,loading:n}=Su(),s=PA();return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto animate-pulse",children:l.jsx(hs,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Mr,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"}),l.jsx("p",{className:"text-slate-600",children:"Loading JalRakshak..."})]})]})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(IA,{to:"/auth",state:{from:s},replace:!0})},nK=()=>{const t=og(),[e]=b.useState({protectedAreas:1247,activeUsers:89456,alertsSent:23456,accuracyRate:94.7}),n=[{icon:on,title:"Early Warning System",description:"Get alerts up to 47 minutes before flooding occurs",color:"text-red-600 bg-red-100"},{icon:hs,title:"AI-Powered Predictions",description:"94.7% accuracy in flood risk assessment",color:"text-blue-600 bg-blue-100"},{icon:ui,title:"Community Driven",description:"Real-time reports from local communities",color:"text-green-600 bg-green-100"},{icon:Sw,title:"Live Monitoring",description:"24/7 monitoring across Punjab and India",color:"text-purple-600 bg-purple-100"}],s=[{name:"Dr. Rajesh Kumar",role:"Disaster Management Officer",location:"Punjab State",text:"JalRakshak has revolutionized our flood response. The early warnings have saved countless lives.",avatar:""},{name:"Priya Sharma",role:"Community Leader",location:"Amritsar",text:"The mobile alerts reached us 30 minutes before flooding. We evacuated safely thanks to JalRakshak.",avatar:""},{name:"Captain Vikram Singh",role:"Emergency Response Team",location:"Ludhiana",text:"Real-time data and evacuation routes help us respond faster and more effectively.",avatar:""}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[l.jsx("nav",{className:"bg-white/80 backdrop-blur-xl border-b border-blue-100 sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:l.jsx(hs,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(he,{variant:"ghost",onClick:()=>t("/auth?mode=login"),className:"text-slate-600 hover:text-blue-600",children:"Sign In"}),l.jsx(he,{onClick:()=>t("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white",children:"Get Started"})]})]})})}),l.jsxs("section",{className:"relative overflow-hidden",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:l.jsxs("div",{className:"text-center space-y-8",children:[l.jsx(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700 px-4 py-2",children:" AI-Powered Flood Early Warning System"}),l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-slate-900 leading-tight",children:["Protecting Communities with",l.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-teal-500 to-green-500 bg-clip-text text-transparent",children:"Smart Flood Alerts"})]}),l.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed",children:"Advanced AI technology monitors water levels, weather patterns, and flood risks across India, providing life-saving early warnings to communities and emergency responders."}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-8",children:[l.jsxs(he,{size:"lg",onClick:()=>t("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4 text-lg",children:["Start Protecting Your Community",l.jsx(TG,{className:"w-5 h-5 ml-2"})]}),l.jsxs(he,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=demo"),className:"border-blue-200 text-blue-600 hover:bg-blue-50 px-8 py-4 text-lg",children:[l.jsx(Zr,{className:"w-5 h-5 mr-2"}),"View Live Demo"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 pt-16",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.protectedAreas.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Protected Areas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.activeUsers.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Active Users"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e.alertsSent.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Alerts Sent"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[e.accuracyRate,"%"]}),l.jsx("div",{className:"text-sm text-slate-600",children:"Accuracy Rate"})]})]})]})}),l.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-200 rounded-full opacity-20 animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-48 h-48 bg-green-200 rounded-full opacity-20 animate-pulse delay-1000"})]}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center space-y-4 mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Why Choose JalRakshak?"}),l.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Advanced technology meets community-driven solutions for comprehensive flood protection"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((i,r)=>{const o=i.icon;return l.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100",children:[l.jsx("div",{className:`w-12 h-12 ${i.color} rounded-xl flex items-center justify-center mb-4`,children:l.jsx(o,{className:"w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:i.title}),l.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:i.description})]},r)})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-teal-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center space-y-4 mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Trusted by Communities"}),l.jsx("p",{className:"text-xl text-slate-600",children:"Real stories from people who rely on JalRakshak"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((i,r)=>l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("div",{className:"text-3xl",children:i.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-slate-900",children:i.name}),l.jsx("div",{className:"text-sm text-slate-600",children:i.role}),l.jsx("div",{className:"text-xs text-blue-600",children:i.location})]})]}),l.jsxs("p",{className:"text-slate-700 italic",children:['"',i.text,'"']})]},r))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-teal-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Protect Your Community?"}),l.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of communities already using JalRakshak for early flood warnings"}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[l.jsxs(he,{size:"lg",onClick:()=>t("/auth?mode=register"),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:[l.jsx(hs,{className:"w-5 h-5 mr-2"}),"Get Started Free"]}),l.jsxs(he,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=contact"),className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg",children:[l.jsx(Bs,{className:"w-5 h-5 mr-2"}),"Contact Emergency Team"]})]})]})}),l.jsx("footer",{className:"bg-slate-900 text-white py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:l.jsx(hs,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"JalRakshak"})]}),l.jsx("p",{className:"text-slate-400 text-sm",children:"AI-powered flood early warning system protecting communities across India."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Features"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[l.jsx("li",{children:"Early Warning Alerts"}),l.jsx("li",{children:"Real-time Monitoring"}),l.jsx("li",{children:"Community Reports"}),l.jsx("li",{children:"Emergency Planning"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[l.jsx("li",{children:"Help Center"}),l.jsx("li",{children:"Emergency Contacts"}),l.jsx("li",{children:"Training Resources"}),l.jsx("li",{children:"API Documentation"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Emergency"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[l.jsx("li",{children:" National: 108"}),l.jsx("li",{children:" Punjab: 112"}),l.jsx("li",{children:" alerts@jalrakshak.in"}),l.jsx("li",{children:" Status: All Systems Up"})]})]})]}),l.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-sm text-slate-400",children:l.jsx("p",{children:" 2024 JalRakshak. Built for disaster resilience and community safety."})})]})})]})},xr=b.forwardRef(({className:t,type:e,...n},s)=>l.jsx("input",{type:e,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));xr.displayName="Input";var sK="Label",dk=b.forwardRef((t,e)=>l.jsx(we.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dk.displayName=sK;var hk=dk;const iK=uw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tn=b.forwardRef(({className:t,...e},n)=>l.jsx(hk,{ref:n,className:Ie(iK(),t),...e}));Tn.displayName=hk.displayName;const Or=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Or.displayName="Card";const Dr=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",t),...e}));Dr.displayName="CardHeader";const Lr=b.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lr.displayName="CardTitle";const Ew=b.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));Ew.displayName="CardDescription";const Vr=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("p-6 pt-0",t),...e}));Vr.displayName="CardContent";const rK=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",t),...e}));rK.displayName="CardFooter";var lv="Tabs",[aK,fX]=xs(lv,[ev]),fk=ev(),[oK,Tw]=aK(lv),mk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:r,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=t,p=rf(c),[g,v]=Wa({prop:s,onChange:i,defaultProp:r??"",caller:lv});return l.jsx(oK,{scope:n,baseId:Di(),value:g,onValueChange:v,orientation:o,dir:p,activationMode:d,children:l.jsx(we.div,{dir:p,"data-orientation":o,...h,ref:e})})});mk.displayName=lv;var pk="TabsList",gk=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...i}=t,r=Tw(pk,n),o=fk(n);return l.jsx(nI,{asChild:!0,...o,orientation:r.orientation,dir:r.dir,loop:s,children:l.jsx(we.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:e})})});gk.displayName=pk;var vk="TabsTrigger",yk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...r}=t,o=Tw(vk,n),c=fk(n),d=bk(o.baseId,s),h=wk(o.baseId,s),p=s===o.value;return l.jsx(sI,{asChild:!0,...c,focusable:!i,active:p,children:l.jsx(we.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...r,ref:e,onMouseDown:pe(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?o.onValueChange(s):g.preventDefault()}),onKeyDown:pe(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&o.onValueChange(s)}),onFocus:pe(t.onFocus,()=>{const g=o.activationMode!=="manual";!p&&!i&&g&&o.onValueChange(s)})})})});yk.displayName=vk;var _k="TabsContent",xk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:i,children:r,...o}=t,c=Tw(_k,n),d=bk(c.baseId,s),h=wk(c.baseId,s),p=s===c.value,g=b.useRef(p);return b.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),l.jsx(Yi,{present:i||p,children:({present:v})=>l.jsx(we.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:v&&r})})});xk.displayName=_k;function bk(t,e){return`${t}-trigger-${e}`}function wk(t,e){return`${t}-content-${e}`}var lK=mk,Sk=gk,Ek=yk,Tk=xk;const Ak=lK,Aw=b.forwardRef(({className:t,...e},n)=>l.jsx(Sk,{ref:n,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Aw.displayName=Sk.displayName;const Vo=b.forwardRef(({className:t,...e},n)=>l.jsx(Ek,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Vo.displayName=Ek.displayName;const Uo=b.forwardRef(({className:t,...e},n)=>l.jsx(Tk,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Uo.displayName=Tk.displayName;const cK=()=>{const t=og(),[e]=xD(),{login:n,register:s,loginWithGoogle:i,resetPassword:r,currentUser:o}=Su(),[c,d]=b.useState(e.get("mode")||"login"),[h,p]=b.useState(!1),[g,v]=b.useState(!1),[y,C]=b.useState({email:"",password:"",confirmPassword:"",displayName:""});b.useEffect(()=>{o&&t("/dashboard")},[o,t]);const S=j=>{C({...y,[j.target.name]:j.target.value})},R=async j=>{if(j.preventDefault(),!y.email||!y.password){it.error("Please fill in all fields");return}v(!0);try{await n(y.email,y.password),t("/dashboard")}catch{}finally{v(!1)}},E=async j=>{if(j.preventDefault(),!y.email||!y.password||!y.displayName){it.error("Please fill in all fields");return}if(y.password!==y.confirmPassword){it.error("Passwords do not match");return}if(y.password.length<6){it.error("Password must be at least 6 characters");return}v(!0);try{await s(y.email,y.password,y.displayName),t("/dashboard")}catch{}finally{v(!1)}},T=async()=>{v(!0);try{await i(),t("/dashboard")}catch{}finally{v(!1)}},N=async()=>{if(!y.email){it.error("Please enter your email address");return}try{await r(y.email)}catch{}},O=j=>{let P=0;return j.length>=6&&P++,/[A-Z]/.test(j)&&P++,/[0-9]/.test(j)&&P++,/[^A-Za-z0-9]/.test(j)&&P++,P},H=j=>j<=1?"bg-red-500":j<=2?"bg-yellow-500":j<=3?"bg-blue-500":"bg-green-500",G=j=>j<=1?"Weak":j<=2?"Fair":j<=3?"Good":"Strong";return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-lg",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(he,{variant:"ghost",onClick:()=>t("/"),className:"mb-4 text-slate-600 hover:text-blue-600",children:[l.jsx(EG,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-teal-600 rounded-xl flex items-center justify-center",children:l.jsx(hs,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),l.jsx("p",{className:"text-slate-600",children:"Join the community protecting lives from floods"})]}),l.jsxs(Or,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[l.jsxs(Dr,{className:"text-center space-y-2",children:[l.jsx(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700 w-fit mx-auto",children:" Secure Authentication"}),l.jsx(Lr,{className:"text-2xl text-slate-900",children:c==="login"?"Welcome Back":"Create Account"}),l.jsx(Ew,{children:c==="login"?"Sign in to access your flood monitoring dashboard":"Join thousands protecting their communities"})]}),l.jsxs(Vr,{children:[l.jsxs(Ak,{value:c,onValueChange:d,children:[l.jsxs(Aw,{className:"grid w-full grid-cols-2 mb-6",children:[l.jsx(Vo,{value:"login",children:"Sign In"}),l.jsx(Vo,{value:"register",children:"Sign Up"})]}),l.jsxs(he,{onClick:T,disabled:g,className:"w-full mb-6 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 shadow-sm",children:[g?l.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(jG,{className:"w-4 h-4 mr-2"}),"Continue with Google"]}),l.jsxs("div",{className:"relative mb-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with email"})})]}),l.jsx(Uo,{value:"login",className:"space-y-4",children:l.jsxs("form",{onSubmit:R,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(QT,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(xr,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:y.email,onChange:S,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ly,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(xr,{id:"password",name:"password",type:h?"text":"password",placeholder:"Enter your password",value:y.password,onChange:S,className:"pl-10 pr-10",required:!0}),l.jsx(he,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(!h),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:h?l.jsx(eg,{className:"w-4 h-4 text-gray-400"}):l.jsx(Zr,{className:"w-4 h-4 text-gray-400"})})]})]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(he,{type:"button",variant:"link",onClick:N,className:"px-0 text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})}),l.jsxs(he,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[g?l.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(no,{className:"w-4 h-4 mr-2"}),"Sign In"]})]})}),l.jsx(Uo,{value:"register",className:"space-y-4",children:l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"displayName",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ah,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(xr,{id:"displayName",name:"displayName",type:"text",placeholder:"Enter your full name",value:y.displayName,onChange:S,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(QT,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(xr,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:y.email,onChange:S,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ly,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(xr,{id:"password",name:"password",type:h?"text":"password",placeholder:"Create a strong password",value:y.password,onChange:S,className:"pl-10 pr-10",required:!0}),l.jsx(he,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(!h),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:h?l.jsx(eg,{className:"w-4 h-4 text-gray-400"}):l.jsx(Zr,{className:"w-4 h-4 text-gray-400"})})]}),y.password&&l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${H(O(y.password))}`,style:{width:`${O(y.password)/4*100}%`}})}),l.jsx("span",{className:"text-xs text-gray-500",children:G(O(y.password))})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ly,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(xr,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:y.confirmPassword,onChange:S,className:"pl-10",required:!0}),y.confirmPassword&&l.jsx("div",{className:"absolute right-3 top-3",children:y.password===y.confirmPassword?l.jsx(no,{className:"w-4 h-4 text-green-500"}):l.jsx(on,{className:"w-4 h-4 text-red-500"})})]})]}),l.jsxs(he,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[g?l.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(hs,{className:"w-4 h-4 mr-2"}),"Create Account"]})]})})]}),l.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Your data is encrypted and secure."})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[l.jsx(on,{className:"w-4 h-4 text-red-600"}),l.jsx("span",{className:"text-sm font-semibold text-red-800",children:"Emergency Access"})]}),l.jsx("p",{className:"text-xs text-red-700 mb-2",children:"In case of emergency, call 108 immediately"}),l.jsx(he,{variant:"outline",size:"sm",onClick:()=>window.open("tel:108","_self"),className:"border-red-300 text-red-700 hover:bg-red-50",children:" Call Emergency Services"})]})})]})})},Le=({children:t,className:e,variant:n="default",hover:s=!0})=>{const i={default:"bg-gradient-to-br from-white to-blue-50 border-blue-100 hover:shadow-blue-200/50",success:"bg-gradient-to-br from-white to-green-50 border-green-100 hover:shadow-green-200/50",warning:"bg-gradient-to-br from-white to-yellow-50 border-yellow-100 hover:shadow-yellow-200/50",danger:"bg-gradient-to-br from-white to-red-50 border-red-100 hover:shadow-red-200/50"};return l.jsx("div",{className:Ie("rounded-2xl border backdrop-blur-sm shadow-lg transition-all duration-300",i[n],s&&"hover:shadow-xl hover:-translate-y-1",e),children:t})},uK=()=>{const i=`https://embed.windy.com/embed2.html?lat=${31.1471}&lon=${75.3412}&zoom=8&overlay=wind&level=surface&product=GFS&key=windyisthebest`;return l.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},src:i,title:""})},dK=()=>l.jsx("div",{style:{height:"100%",width:"100%"},children:l.jsx(uK,{})}),Nk=({text:t,topText:e,bottomText:n})=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute top-2.5 left-1/2 -translate-x-1/2 z-10 pointer-events-none",children:l.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-4 py-2 rounded-full shadow-lg border-slate-700",children:e||t})}),l.jsx("div",{className:"absolute bottom-2.5 right-2.5 z-10 pointer-events-none",children:l.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-20 py-2 rounded-full shadow-lg border-slate-700",children:n||t})})]}),hK="modulepreload",fK=function(t){return"/"+t},rA={},cf=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(d=>{if(d=fK(d),d in rA)return;rA[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":hK,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})},mK=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cf(async()=>{const{default:s}=await Promise.resolve().then(()=>Eu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Nw extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class pK extends Nw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aA extends Nw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oA extends Nw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var k_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(k_||(k_={}));var gK=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class vK{constructor(e,{headers:n={},customFetch:s,region:i=k_.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=mK(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return gK(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${e}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=o):typeof o=="string"?(c["Content-Type"]="text/plain",p=o):typeof FormData<"u"&&o instanceof FormData?p=o:(c["Content-Type"]="application/json",p=JSON.stringify(o)));const g=yield this.fetch(h.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:p}).catch(S=>{throw new pK(S)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new aA(g);if(!g.ok)throw new oA(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return y==="application/json"?C=yield g.json():y==="application/octet-stream"?C=yield g.blob():y==="text/event-stream"?C=g:y==="multipart/form-data"?C=yield g.formData():C=yield g.text(),{data:C,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof oA||i instanceof aA?i.context:void 0}}})}}var Zn={},Cw={},cv={},uf={},uv={},dv={},yK=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ru=yK();const _K=ru.fetch,Ck=ru.fetch.bind(ru),Rk=ru.Headers,xK=ru.Request,bK=ru.Response,Eu=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rk,Request:xK,Response:bK,default:Ck,fetch:_K},Symbol.toStringTag,{value:"Module"})),wK=bD(Eu);var hv={};Object.defineProperty(hv,"__esModule",{value:!0});let SK=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};hv.default=SK;var jk=ys&&ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dv,"__esModule",{value:!0});const EK=jk(wK),TK=jk(hv);let AK=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=EK.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,c,d,h;let p=null,g=null,v=null,y=r.status,C=r.statusText;if(r.ok){if(this.method!=="HEAD"){const T=await r.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?g=T:g=JSON.parse(T))}const R=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),E=(d=r.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");R&&E&&E.length>1&&(v=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,C="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const R=await r.text();try{p=JSON.parse(R),Array.isArray(p)&&r.status===404&&(g=[],p=null,y=200,C="OK")}catch{r.status===404&&R===""?(y=204,C="No Content"):p={message:R}}if(p&&this.isMaybeSingle&&(!((h=p?.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,y=200,C="OK"),p&&this.shouldThrowOnError)throw new TK.default(p)}return{error:p,data:g,count:v,status:y,statusText:C}});return this.shouldThrowOnError||(i=i.catch(r=>{var o,c,d;return{error:{message:`${(o=r?.name)!==null&&o!==void 0?o:"FetchError"}: ${r?.message}`,details:`${(c=r?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=r?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};dv.default=AK;var NK=ys&&ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uv,"__esModule",{value:!0});const CK=NK(dv);let RK=class extends CK.default{select(e){let n=!1;const s=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:i=s}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var c;const d=[e?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};uv.default=RK;var jK=ys&&ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uf,"__esModule",{value:!0});const PK=jK(uv);let IK=class extends PK.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${r}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};uf.default=IK;var kK=ys&&ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cv,"__esModule",{value:!0});const ld=kK(uf);let MK=class{constructor(e,{headers:n={},schema:s,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=i}select(e,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!r?"":(c==='"'&&(r=!r),c)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new ld.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var i;const r="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(o.length>0){const c=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ld.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:r=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new ld.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var s;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ld.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ld.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};cv.default=MK;var Pk=ys&&ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cw,"__esModule",{value:!0});const OK=Pk(cv),DK=Pk(uf);let LK=class Ik{constructor(e,{headers:n={},schema:s,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new OK.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ik(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:i=!1,count:r}={}){var o;let c;const d=new URL(`${this.url}/rpc/${e}`);let h;s||i?(c=s?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{d.searchParams.append(g,v)})):(c="POST",h=n);const p=new Headers(this.headers);return r&&p.set("Prefer",`count=${r}`),new DK.default({method:c,url:d,headers:p,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Cw.default=LK;var Tu=ys&&ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.PostgrestError=Zn.PostgrestBuilder=Zn.PostgrestTransformBuilder=Zn.PostgrestFilterBuilder=Zn.PostgrestQueryBuilder=Zn.PostgrestClient=void 0;const kk=Tu(Cw);Zn.PostgrestClient=kk.default;const Mk=Tu(cv);Zn.PostgrestQueryBuilder=Mk.default;const Ok=Tu(uf);Zn.PostgrestFilterBuilder=Ok.default;const Dk=Tu(uv);Zn.PostgrestTransformBuilder=Dk.default;const Lk=Tu(dv);Zn.PostgrestBuilder=Lk.default;const Vk=Tu(hv);Zn.PostgrestError=Vk.default;var VK=Zn.default={PostgrestClient:kk.default,PostgrestQueryBuilder:Mk.default,PostgrestFilterBuilder:Ok.default,PostgrestTransformBuilder:Dk.default,PostgrestBuilder:Lk.default,PostgrestError:Vk.default};const{PostgrestClient:UK,PostgrestQueryBuilder:_X,PostgrestFilterBuilder:xX,PostgrestTransformBuilder:bX,PostgrestBuilder:wX,PostgrestError:SX}=VK;class zK{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const BK="2.15.5",FK=`realtime-js/${BK}`,HK="1.0.0",M_=1e4,$K=1e3,qK=100;var qd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qd||(qd={}));var Wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wt||(Wt={}));var ri;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ri||(ri={}));var O_;(function(t){t.websocket="websocket"})(O_||(O_={}));var Oo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Oo||(Oo={}));class GK{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=s.decode(e.slice(o,o+i));o=o+i;const d=s.decode(e.slice(o,o+r));o=o+r;const h=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class Uk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_t||(_t={}));const lA=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((r,o)=>(r[o]=KK(o,t,e,i),r),{})},KK=(t,e,n,s)=>{const i=e.find(c=>c.name===t),r=i?.type,o=n[t];return r&&!s.includes(r)?zk(r,o):D_(o)},zk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return QK(e,n)}switch(t){case _t.bool:return WK(e);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return ZK(e);case _t.json:case _t.jsonb:return YK(e);case _t.timestamp:return XK(e);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return D_(e);default:return D_(e)}},D_=t=>t,WK=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ZK=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},YK=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},QK=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let r;const o=t.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(c=>zk(e,c))}return t},XK=t=>typeof t=="string"?t.replace(" ","T"):t,Bk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Uy{constructor(e,n,s={},i=M_){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cA||(cA={}));class Gd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gd.syncState(this.state,i,r,o),this.pendingDiffs.forEach(d=>{this.state=Gd.syncDiff(this.state,d,r,o)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gd.syncDiff(this.state,i,r,o),c())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const r=this.cloneDeep(e),o=this.transformState(n),c={},d={};return this.map(r,(h,p)=>{o[h]||(d[h]=p)}),this.map(o,(h,p)=>{const g=r[h];if(g){const v=p.map(R=>R.presence_ref),y=g.map(R=>R.presence_ref),C=p.filter(R=>y.indexOf(R.presence_ref)<0),S=g.filter(R=>v.indexOf(R.presence_ref)<0);C.length>0&&(c[h]=C),S.length>0&&(d[h]=S)}else c[h]=p}),this.syncDiff(r,{joins:c,leaves:d},s,i)}static syncDiff(e,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(c,d)=>{var h;const p=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(d),p.length>0){const g=e[c].map(y=>y.presence_ref),v=p.filter(y=>g.indexOf(y.presence_ref)<0);e[c].unshift(...v)}s(c,p,d)}),this.map(o,(c,d)=>{let h=e[c];if(!h)return;const p=d.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[c]=h,i(c,h,d),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uA||(uA={}));var Kd;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Kd||(Kd={}));var _r;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_r||(_r={}));class Rw{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Uy(this,ri.join,this.params,this.timeout),this.rejoinTimer=new Uk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ri.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new Gd(this),this.broadcastEndpointURL=Bk(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,h=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(y=>y.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Kd.PRESENCE]&&this.bindings[Kd.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,g={},v={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(_r.CHANNEL_ERROR,y)),this._onClose(()=>e?.(_r.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var C;if(this.socket.setAuth(),y===void 0){e?.(_r.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,R=(C=S?.length)!==null&&C!==void 0?C:0,E=[];for(let T=0;T<R;T++){const N=S[T],{filter:{event:O,schema:H,table:G,filter:j}}=N,P=y&&y[T];if(P&&P.event===O&&P.schema===H&&P.table===G&&P.filter===j)E.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),this.state=Wt.errored,e?.(_r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(_r.SUBSCRIBED);return}}).receive("error",y=>{this.state=Wt.errored,e?.(_r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(_r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Wt.joined&&e===Kd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,c,d;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&r("ok"),h.receive("ok",()=>r("ok")),h.receive("error",()=>r("error")),h.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ri.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Uy(this,ri.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Uy(this,e,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qK){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,r;const o=e.toLocaleLowerCase(),{close:c,error:d,leave:h,join:p}=ri;if(s&&[c,d,h,p].indexOf(o)>=0&&s!==this._joinRef())return;let v=this._onMessage(o,n,s);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var C,S,R;return((C=y.filter)===null||C===void 0?void 0:C.event)==="*"||((R=(S=y.filter)===null||S===void 0?void 0:S.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===o}).map(y=>y.callback(v,s)):(r=this.bindings[o])===null||r===void 0||r.filter(y=>{var C,S,R,E,T,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const O=y.id,H=(C=y.filter)===null||C===void 0?void 0:C.event;return O&&((S=n.ids)===null||S===void 0?void 0:S.includes(O))&&(H==="*"||H?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const O=(T=(E=y?.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return O==="*"||O===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof v=="object"&&"ids"in v){const C=v.data,{schema:S,table:R,commit_timestamp:E,type:T,errors:N}=C;v=Object.assign(Object.assign({},{schema:S,table:R,commit_timestamp:E,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(C))}y.callback(v,s)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&Rw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ri.close,{},e)}_onError(e){this._on(ri.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=lA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=lA(e.columns,e.old_record)),n}}const zy=()=>{},dm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JK=[1e3,2e3,5e3,1e4],eW=1e4,tW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nW{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=M_,this.transport=null,this.heartbeatIntervalMs=dm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zy,this.ref=0,this.reconnectTimer=null,this.logger=zy,this.conn=null,this.sendBuffer=[],this.serializer=new GK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>cf(async()=>{const{default:c}=await Promise.resolve().then(()=>Eu);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${O_.websocket}`,this.httpEndpoint=Bk(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zK.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HK}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case qd.connecting:return Oo.Connecting;case qd.open:return Oo.Open;case qd.closing:return Oo.Closing;default:return Oo.Closed}}isConnected(){return this.connectionState()===Oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new Rw(`realtime:${e}`,n,this);return this.channels.push(r),r}}push(e){const{topic:n,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($K,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},dm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,c=o?`(${o})`:"",d=r.status||"";this.log("receive",`${d} ${s} ${i} ${c}`.trim(),r),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ri.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([tW],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:FK};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ri.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Uk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,i,r,o,c,d,h,p;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:M_,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:dm.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:zy,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:g=>JK[g-1]||eW,this.encode=(h=e?.encode)!==null&&h!==void 0?h:(g,v)=>v(JSON.stringify(g)),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class jw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Zt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sW extends jw{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class L_ extends jw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var iW=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const Fk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cf(async()=>{const{default:s}=await Promise.resolve().then(()=>Eu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},rW=()=>iW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cf(()=>Promise.resolve().then(()=>Eu),void 0)).Response:Response}),V_=t=>{if(Array.isArray(t))return t.map(n=>V_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=V_(s)}),e},aW=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var _l=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const By=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oW=(t,e,n)=>_l(void 0,void 0,void 0,function*(){const s=yield rW();t instanceof s&&!n?.noResolveJson?t.json().then(i=>{const r=t.status||500,o=i?.statusCode||r+"";e(new sW(By(i),r,o))}).catch(i=>{e(new L_(By(i),i))}):e(new L_(By(t),t))}),lW=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!s?i:(aW(s)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function df(t,e,n,s,i,r){return _l(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,lW(e,s,i,r)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>oW(d,c,s))})})}function tg(t,e,n,s){return _l(this,void 0,void 0,function*(){return df(t,"GET",e,n,s)})}function Ni(t,e,n,s,i){return _l(this,void 0,void 0,function*(){return df(t,"POST",e,s,i,n)})}function U_(t,e,n,s,i){return _l(this,void 0,void 0,function*(){return df(t,"PUT",e,s,i,n)})}function cW(t,e,n,s){return _l(this,void 0,void 0,function*(){return df(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Hk(t,e,n,s,i){return _l(this,void 0,void 0,function*(){return df(t,"DELETE",e,s,i,n)})}var In=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const uW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dW{constructor(e,n={},s,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Fk(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,i){return In(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},dA),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),d&&r.append("metadata",this.encodeMetadata(d)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),d&&r.append("metadata",this.encodeMetadata(d))):(r=s,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),g=yield(e=="PUT"?U_:Ni)(this.fetch,`${this.url}/object/${p}`,r,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zt(r))return{data:null,error:r};throw r}})}upload(e,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return In(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:dA.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",h.cacheControl)):(d=s,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield U_(this.fetch,c.toString(),d,{headers:p});return{data:{path:r,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Zt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return In(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const r=yield Ni(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),c=o.searchParams.get("token");if(!c)throw new jw("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}})}update(e,n,s){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return In(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}copy(e,n,s){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield Ni(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return In(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield Ni(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return In(this,void 0,void 0,function*(){try{const i=yield Ni(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}download(e,n){return In(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),o=r?`?${r}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield tg(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zt(c))return{data:null,error:c};throw c}})}info(e){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield tg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:V_(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}})}exists(e){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield cW(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Zt(s)&&s instanceof L_){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],r=n?.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${h}`)}}}remove(e){return In(this,void 0,void 0,function*(){try{return{data:yield Hk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}list(e,n,s){return In(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uW),n),{prefix:e||""});return{data:yield Ni(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zt(i))return{data:null,error:i};throw i}})}listV2(e,n){return In(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Ni(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hW="2.12.1",fW={"X-Client-Info":`storage-js/${hW}`};var Kl=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class mW{constructor(e,n={},s,i){this.shouldThrowOnError=!1;const r=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},fW),n),this.fetch=Fk(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Kl(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Zt(e))return{data:null,error:e};throw e}})}getBucket(e){return Kl(this,void 0,void 0,function*(){try{return{data:yield tg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Kl(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Kl(this,void 0,void 0,function*(){try{return{data:yield U_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Zt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Kl(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Kl(this,void 0,void 0,function*(){try{return{data:yield Hk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zt(n))return{data:null,error:n};throw n}})}}class pW extends mW{constructor(e,n={},s,i){super(e,n,s,i)}from(e){return new dW(this.url,this.headers,e,this.fetch)}}const gW="2.57.4";let bd="";typeof Deno<"u"?bd="deno":typeof document<"u"?bd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bd="react-native":bd="node";const vW={"X-Client-Info":`supabase-js-${bd}/${gW}`},yW={headers:vW},_W={schema:"public"},xW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bW={};var wW=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const SW=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ck:e=fetch,(...n)=>e(...n)},EW=()=>typeof Headers>"u"?Rk:Headers,TW=(t,e,n)=>{const s=SW(n),i=EW();return(r,o)=>wW(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:t;let h=new i(o?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),s(r,Object.assign(Object.assign({},o),{headers:h}))})};var AW=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};function NW(t){return t.endsWith("/")?t:t+"/"}function CW(t,e){var n,s;const{db:i,auth:r,realtime:o,global:c}=t,{db:d,auth:h,realtime:p,global:g}=e,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),r),realtime:Object.assign(Object.assign({},p),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>AW(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function RW(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NW(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $k="2.71.1",ac=30*1e3,z_=3,Fy=z_*ac,jW="http://localhost:9999",PW="supabase.auth.token",IW={"X-Client-Info":`gotrue-js/${$k}`},B_="X-Supabase-Api-Version",qk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MW=10*60*1e3;class Pw extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class OW extends Pw{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function DW(t){return Oe(t)&&t.name==="AuthApiError"}class Gk extends Pw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ao extends Pw{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class ma extends ao{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LW(t){return Oe(t)&&t.name==="AuthSessionMissingError"}class hm extends ao{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fm extends ao{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mm extends ao{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VW(t){return Oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class hA extends ao{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class F_ extends ao{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hy(t){return Oe(t)&&t.name==="AuthRetryableFetchError"}class fA extends ao{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class H_ extends ao{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ng="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mA=` 	
\r=`.split(""),UW=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mA.length;e+=1)t[mA[e].charCodeAt(0)]=-2;for(let e=0;e<ng.length;e+=1)t[ng[e].charCodeAt(0)]=e;return t})();function pA(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ng[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ng[s]),e.queuedBits-=6}}function Kk(t,e,n){const s=UW[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function gA(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{FW(o,s,n)};for(let o=0;o<t.length;o+=1)Kk(t.charCodeAt(o),i,r);return e.join("")}function zW(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BW(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zW(s,e)}}function FW(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function HW(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Kk(t.charCodeAt(i),n,s);return new Uint8Array(e)}function $W(t){const e=[];return BW(t,n=>e.push(n)),new Uint8Array(e)}function qW(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>pA(i,n,s)),pA(null,n,s),e.join("")}function GW(t){return Math.round(Date.now()/1e3)+t}function KW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",Co={tested:!1,writable:!1},Wk=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Co.tested)return Co.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function WW(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const Zk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cf(async()=>{const{default:s}=await Promise.resolve().then(()=>Eu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},ZW=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",oc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ro=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ua=async(t,e)=>{await t.removeItem(e)};class fv{constructor(){this.promise=new fv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fv.promiseConstructor=Promise;function $y(t){const e=t.split(".");if(e.length!==3)throw new H_("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!kW.test(e[s]))throw new H_("JWT not in base64url format");return{header:JSON.parse(gA(e[0])),payload:JSON.parse(gA(e[1])),signature:HW(e[2]),raw:{header:e[0],payload:e[1]}}}async function YW(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function QW(t,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function XW(t){return("0"+t.toString(16)).substr(-2)}function JW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,XW).join("")}async function eZ(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function tZ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await eZ(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wl(t,e,n=!1){const s=JW();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await oc(t,`${e}-code-verifier`,i);const r=await tZ(s);return[r,s===r?"plain":"s256"]}const nZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sZ(t){const e=t.headers.get(B_);if(!e||!e.match(nZ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iZ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rZ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zl(t){if(!aZ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qy(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vA(t){return JSON.parse(JSON.stringify(t))}var oZ=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};const Mo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lZ=[502,503,504];async function yA(t){var e;if(!ZW(t))throw new F_(Mo(t),0);if(lZ.includes(t.status))throw new F_(Mo(t),t.status);let n;try{n=await t.json()}catch(r){throw new Gk(Mo(r),r)}let s;const i=sZ(t);if(i&&i.getTime()>=qk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new fA(Mo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ma}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new fA(Mo(n),t.status,n.weak_password.reasons);throw new OW(Mo(n),t.status||500,s)}const cZ=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Be(t,e,n,s){var i;const r=Object.assign({},s?.headers);r[B_]||(r[B_]=qk["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await uZ(t,e,n+c,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function uZ(t,e,n,s,i,r){const o=cZ(e,s,i,r);let c;try{c=await t(n,Object.assign({},o))}catch(d){throw console.error(d),new F_(Mo(d),0)}if(c.ok||await yA(c),s?.noResolveJson)return c;try{return await c.json()}catch(d){await yA(d)}}function yr(t){var e;let n=null;mZ(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=GW(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function _A(t){const e=yr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ea(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dZ(t){return{data:t,error:null}}function hZ(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=t,o=oZ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function fZ(t){return t}function mZ(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gy=["global","local","others"];var pZ=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};class gZ{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Zk(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Gy[0]){if(Gy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gy.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ea})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=pZ(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hZ,redirectTo:n?.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ea})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,r,o,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:fZ});if(p.error)throw p.error;const g=await p.json(),v=(o=p.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(C=>{const S=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);h[`${R}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Oe(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Zl(e);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ea})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Zl(e);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ea})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Zl(e);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ea})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Zl(e.userId);try{const{data:n,error:s}=await Be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Zl(e.userId),Zl(e.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}function xA(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function vZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yl={debug:!!(globalThis&&Wk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yZ extends Yk{}async function _Z(t,e,n){Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yZ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yl.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vZ();const xZ={url:jW,storageKey:PW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bA(t,e,n){return await n()}const Ql={};class Nh{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nh.nextInstanceID,Nh.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xZ),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Zk(i.fetch),this.lock=i.lock||bA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ti()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=_Z:this.lock=bA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Wk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=xA(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Ql[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ql[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$k}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=WW(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ti()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),VW(r)){const d=(e=r.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?{error:n}:{error:new Gk("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const r=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:yr}),{data:o,error:c}=r;if(c||!o)return{data:{user:null,session:null},error:c};const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var n,s,i;try{let r;if("email"in e){const{email:p,password:g,options:v}=e;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await Wl(this.storage,this.storageKey)),r=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:C},xform:yr})}else if("phone"in e){const{phone:p,password:g,options:v}=e;r=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:yr})}else throw new fm("You must provide either an email or phone number and a password");const{data:o,error:c}=r;if(c||!o)return{data:{user:null,session:null},error:c};const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:o,options:c}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_A})}else if("phone"in e){const{phone:r,password:o,options:c}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_A})}else throw new fm("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new hm}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,s,i,r,o,c,d,h,p,g,v,y;let C,S;if("message"in e)C=e.message,S=e.signature;else{const{chain:R,wallet:E,statement:T,options:N}=e;let O;if(ti())if(typeof E=="object")O=E;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))O=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const H=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const G=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),T?{statement:T}:null));let j;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")j=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)j=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)C=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),S=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${H.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(s=N?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=N?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(p=N?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const G=await O.signMessage(new TextEncoder().encode(C),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=G}}try{const{data:R,error:E}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:qW(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:yr});if(E)throw E;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new hm}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:E})}catch(R){if(Oe(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(e){const n=await Ro(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:yr});if(await ua(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new hm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(Oe(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=e,c=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:yr}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new hm}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,r,o;try{if("email"in e){const{email:c,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Wl(this.storage,this.storageKey));const{error:g}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:d}=e,{data:h,error:p}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new fm("You must provide either an email or phone number.")}catch(c){if(Oe(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,s;try{let i,r;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:c}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:yr});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,h=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Wl(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:dZ})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new ma;const{error:i}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:c}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:c}}throw new fm("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ro(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fy:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Ro(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=qy()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,p)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,p))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ea}):await this._useSession(async n=>{var s,i,r;const{data:o,error:c}=n;if(c)throw c;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ma}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Ea})})}catch(n){if(Oe(n))return LW(n)&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new ma;const o=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Wl(this.storage,this.storageKey));const{data:h,error:p}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:Ea});if(p)throw p;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ma;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=$y(e.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};r=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;r={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(Oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new ma;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ti())throw new mm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new mm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hA("No code detected.");const{data:T,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:c,expires_at:d,token_type:h}=e;if(!r||!c||!o||!h)throw new mm("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(c);let v=p+g;d&&(v=parseInt(d));const y=v-p;y*1e3<=ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const C=v-g;p-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,v,p):p-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,v,p);const{data:S,error:R}=await this._getUser(r);if(R)throw R;const E={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:g,expires_at:v,refresh_token:o,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(s){if(Oe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ro(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(DW(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=KW(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Wl(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,c,d,h,p;const{data:g,error:v}=r;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ti()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Oe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await QW(async i=>(i>0&&await YW(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yr})),(i,r)=>{const o=200*Math.pow(2,i);return r&&Hy(r)&&Date.now()+o-s<ac})}catch(s){if(this._debug(n,"error",s),Oe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),ti()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Ro(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ro(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await oc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:qy()}else if(i&&!i.user&&!i.user){const o=await Ro(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await ua(this.storage,this.storageKey+"-user"),await oc(this.storage,this.storageKey,i)):i.user=qy()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fy;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Fy}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Hy(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new ma;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fv;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new ma;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const c={session:r.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(r){if(this._debug(i,"error",r),Oe(r)){const o={session:null,error:r};return Hy(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){r.push(d)}});if(await Promise.all(o),r.length>0){for(let c=0;c<r.length;c+=1)console.error(r[c]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await oc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=vA(i);await oc(this.storage,this.storageKey,r)}else{const i=vA(n);await oc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ua(this.storage,this.storageKey),await ua(this.storage,this.storageKey+"-code-verifier"),await ua(this.storage,this.storageKey+"-user"),this.userStorage&&await ua(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ac);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ac}ms, refresh threshold is ${z_} ticks`),i<=z_&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await Wl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await Be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:h}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const{data:o,error:c}=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=e?.factors||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$y(i.access_token);let c=null;o.aal&&(c=o.aal);let d=c;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const p=o.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+MW>i)return s;const{data:r,error:o}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:y,error:C}=await this.getSession();if(C||!y.session)return{data:null,error:C};s=y.session.access_token}const{header:i,payload:r,signature:o,raw:{header:c,payload:d}}=$y(s);n?.allowExpired||iZ(r.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:y}=await this.getUser(s);if(y)throw y;return{data:{claims:r,header:i,signature:o},error:null}}const p=rZ(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,o,$W(`${c}.${d}`)))throw new H_("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}}Nh.nextInstanceID=0;const bZ=Nh;class wZ extends bZ{constructor(e){super(e)}}var SZ=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(p){try{h(s.next(p))}catch(g){o(g)}}function d(p){try{h(s.throw(p))}catch(g){o(g)}}function h(p){p.done?r(p.value):i(p.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class EZ{constructor(e,n,s){var i,r,o;this.supabaseUrl=e,this.supabaseKey=n;const c=RW(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:_W,realtime:bW,auth:Object.assign(Object.assign({},xW),{storageKey:d}),global:yW},p=CW(s??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=p.global.headers)!==null&&r!==void 0?r:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=TW(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new UK(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new pW(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new vK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return SZ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,storageKey:o,flowType:c,lock:d,debug:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wZ({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:r,flowType:c,lock:d,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nW(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TZ=(t,e,n)=>new EZ(t,e,n);function AZ(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}AZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NZ="https://yctbapuirfppmqbzgvqo.supabase.co",CZ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljdGJhcHVpcmZwcG1xYnpndnFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDAyOTcsImV4cCI6MjA3NDU3NjI5N30.HyuVCIlShAfZbEvFrLEk0dXJQKw4Hsu2yYjkjp68C2E",Ch=TZ(NZ,CZ),RZ=async(t,e="images")=>{try{const n=t.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).substring(2)}.${n}`,{data:i,error:r}=await Ch.storage.from(e).upload(s,t);if(r)return console.error("Error uploading image:",r),null;const{data:o}=Ch.storage.from(e).getPublicUrl(s);return o.publicUrl}catch(n){return console.error("Error uploading image:",n),null}},jZ=async t=>{try{const{data:e,error:n}=await Ch.from("flood_reports").insert([t]).select().single();return n?(console.error("Error submitting report:",n),null):e}catch(e){return console.error("Error submitting report:",e),null}},PZ=async(t,e)=>{try{let n=Ch.from("location_data").select("*").eq("state",t);e&&(n=n.eq("district",e));const{data:s,error:i}=await n;return i?(console.error("Error fetching location data:",i),[]):s||[]}catch(n){return console.error("Error fetching location data:",n),[]}},Qk=async(t,e,n=50)=>{try{const{data:s,error:i}=await Ch.from("flood_reports").select("*").order("created_at",{ascending:!1}).limit(50);return i?(console.error("Error fetching nearby reports:",i),[]):s?.filter(r=>IZ(t,e,r.location.lat,r.location.lng)<=n)||[]}catch(s){return console.error("Error fetching nearby reports:",s),[]}},IZ=(t,e,n,s)=>{const r=(n-t)*Math.PI/180,o=(s-e)*Math.PI/180,c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},kZ=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(n=>{t({lat:n.coords.latitude,lng:n.coords.longitude})},n=>{let s="Unable to get location";switch(n.code){case n.PERMISSION_DENIED:s="Location access denied by user";break;case n.POSITION_UNAVAILABLE:s="Location information unavailable";break;case n.TIMEOUT:s="Location request timed out";break}e(new Error(s))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),MZ=async(t,e)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${e}&addressdetails=1`);if(!n.ok)throw new Error("Geocoding failed");const s=await n.json(),i=s.display_name||"Unknown location",r=s.address?.state||s.address?.region||"",o=s.address?.county||s.address?.city_district||s.address?.city||"",c=s.address?.country||"";return{coords:{lat:t,lng:e},address:i,state:r,district:o,country:c}}catch(n){return console.error("Reverse geocoding error:",n),{coords:{lat:t,lng:e},address:"Unknown location",state:"",district:"",country:""}}},$_=async()=>{try{const t=await kZ();return await MZ(t.lat,t.lng)}catch(t){throw it.error("Unable to get your location. Please enable location access."),t}},OZ=async t=>{try{const e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&addressdetails=1&limit=5&countrycodes=in`);if(!e.ok)throw new Error("Search failed");return(await e.json()).map(s=>({coords:{lat:parseFloat(s.lat),lng:parseFloat(s.lon)},address:s.display_name||"Unknown location",state:s.address?.state||s.address?.region||"",district:s.address?.county||s.address?.city_district||s.address?.city||"",country:s.address?.country||""}))}catch(e){return console.error("Location search error:",e),[]}},DZ=()=>{const{userProfile:t}=Su(),e=og(),[n,s]=b.useState(null),[i,r]=b.useState(!1),[o,c]=b.useState(0),[d,h]=b.useState("safe"),[p,g]=b.useState(65),[v,y]=b.useState(5),[C,S]=b.useState(1247),[R,E]=b.useState(23),[T,N]=b.useState(89456);b.useEffect(()=>{O()},[]);const O=async()=>{r(!0);try{const j=await $_();if(s(j),j.state){const P=await PZ(j.state,j.district);if(P.length>0){const k=P[0];g(k.current_water_level||65),h(k.risk_level||"safe")}const U=await Qk(j.coords.lat,j.coords.lng,50);c(U.length),y(U.filter(k=>k.severity==="critical"||k.severity==="high").length)}it.success(`Location detected: ${j.district}, ${j.state}`)}catch(j){console.error("Error loading location data:",j),s({coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"})}finally{r(!1)}};b.useEffect(()=>{const j=setInterval(()=>{g(P=>Math.max(20,Math.min(95,P+(Math.random()-.5)*3))),y(P=>Math.max(0,Math.min(15,P+Math.floor((Math.random()-.5)*2))))},4e3);return()=>clearInterval(j)},[]);const H=[{name:"Normal Levels",percentage:67,color:"text-green-600",bgColor:"bg-green-100",icon:no},{name:"Warning Zones",percentage:28,color:"text-yellow-600",bgColor:"bg-yellow-100",icon:on},{name:"Critical Areas",percentage:5,color:"text-red-600",bgColor:"bg-red-100",icon:on}],G=[{city:n?.district||"Amritsar",level:p,status:d==="critical"?"Critical":d==="warning"?"Warning":"Normal",color:d==="critical"?"bg-red-500":d==="warning"?"bg-yellow-500":"bg-green-500"},{city:"Ludhiana",level:62,status:"Moderate",color:"bg-yellow-500"},{city:"Jalandhar",level:35,status:"Light",color:"bg-green-500"},{city:"Patiala",level:15,status:"Minimal",color:"bg-green-400"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-600 via-teal-500 to-green-400 p-8 text-white",children:[l.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsx("h1",{className:"text-5xl font-bold",children:"Real-Time Flood Monitoring"}),i&&l.jsx(Mr,{className:"w-6 h-6 animate-spin"})]}),n&&l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsxs("span",{children:["Monitoring: ",n.district||n.state,", ",n.state]})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-xs",children:[l.jsxs(Ye,{className:`${d==="critical"?"bg-red-500":d==="warning"?"bg-yellow-500":"bg-green-500"} text-white`,children:[d.toUpperCase()," RISK"]}),l.jsxs("span",{children:[o," Local Reports"]}),l.jsx(he,{size:"sm",variant:"ghost",onClick:O,className:"text-white hover:bg-white/20 p-1",children:l.jsx(Th,{className:"w-3 h-3"})})]})]}),l.jsx("p",{className:"text-xl opacity-90 max-w-3xl mx-auto",children:n?`Advanced AI-powered flood prediction and early warning system protecting your community in ${n.state} with precision and care`:"Advanced AI-powered flood prediction and early warning system protecting communities across India with precision and care"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-8",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(hs,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:C.toLocaleString()}),l.jsx("div",{className:"text-sm opacity-80",children:"Protected Areas"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx(ZT,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"+12% this week"})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(on,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:R}),l.jsx("div",{className:"text-sm opacity-80",children:"Watch Zones"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx(qm,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Monitoring active"})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(on,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:v}),l.jsx("div",{className:"text-sm opacity-80",children:"Alert Areas"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx(Oc,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Immediate action"})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(ui,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:T.toLocaleString()}),l.jsx("div",{className:"text-sm opacity-80",children:"Community Members"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx(ui,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Engaged community"})]})]})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[l.jsxs(he,{onClick:()=>e("/reports"),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:[l.jsx(NG,{className:"w-4 h-4 mr-2"}),"View Detailed Analytics"]}),l.jsxs(he,{onClick:()=>e("/alerts"),className:"bg-green-500 hover:bg-green-600 text-white shadow-lg",children:[l.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Get Mobile Alerts"]})]})]}),l.jsxs("div",{className:"absolute inset-0 opacity-20",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full opacity-10"}),l.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-white rounded-full opacity-10"}),l.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full opacity-10"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Live Flood Risk Assessment"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Real-time monitoring of water levels, rainfall, and flood risk across Punjab"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Punjab Risk Heatmap"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[l.jsx(qm,{className:"w-3 h-3 mr-1"}),"Live"]}),l.jsxs(he,{size:"sm",variant:"outline",onClick:()=>console.log("Exporting map..."),children:[l.jsx(bw,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),l.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-80 overflow-hidden",children:[l.jsx(dK,{}),l.jsx(Nk,{text:"Live Weather Data"})]}),l.jsx("div",{className:"grid grid-cols-3 gap-4 mt-6",children:H.map((j,P)=>{const U=j.icon;return l.jsxs("div",{className:`${j.bgColor} rounded-xl p-4 text-center`,children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(U,{className:`w-5 h-5 ${j.color} mr-2`}),l.jsx("span",{className:`text-sm font-semibold ${j.color}`,children:j.name})]}),l.jsxs("div",{className:`text-2xl font-bold ${j.color}`,children:[j.percentage,"%"]})]},P)})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Water Level Gauges"}),l.jsx("div",{className:"space-y-4",children:G.map((j,P)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:j.city}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 ${j.color} rounded-full`}),l.jsx("span",{className:"text-xs text-slate-600",children:j.status})]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 ${j.color} rounded-full transition-all duration-1000`,style:{width:`${j.level}%`}})})]},P))})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Rainfall Intensity"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Amritsar"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-16 h-2 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Heavy"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Ludhiana"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 h-2 bg-yellow-500 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Moderate"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Jalandhar"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Light"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Patiala"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-2 bg-green-400 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Minimal"})]})]})]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-teal-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(ck,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"AI Accuracy"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"94.7%"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Prediction Accuracy"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[l.jsx(ZT,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"+2.3% from last month"})]})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(iu,{className:"w-8 h-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Early Warning"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"47 min"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Lead Time"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[l.jsx(no,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Within target range"})]})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(qm,{className:"w-8 h-8 text-purple-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Sources"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"1,247"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active Sensors"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-purple-600",children:[l.jsx(uk,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Real-time monitoring"})]})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(hs,{className:"w-8 h-8 text-yellow-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"2.3min"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Alert Time"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[l.jsx(SG,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"15% faster than target"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Recent Alerts & Updates"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border border-red-200",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-2 animate-pulse"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Critical Flood Warning"}),l.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Amritsar District - 5 minutes ago"}),l.jsx("p",{className:"text-xs text-slate-700",children:"Water levels rising rapidly. Immediate evacuation required."})]}),l.jsx(Ye,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:"Critical"})]}),l.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mt-2 animate-pulse"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Water Level Alert"}),l.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Ludhiana Industrial Zone - 18 minutes ago"}),l.jsx("p",{className:"text-xs text-slate-700",children:"Approaching warning threshold. Monitoring continues."})]}),l.jsx(Ye,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:"Warning"})]}),l.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-teal-50 rounded-xl border border-blue-200",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mt-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"System Update"}),l.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Punjab State Wide - 1 hour ago"}),l.jsx("p",{className:"text-xs text-slate-700",children:"All sensors online and functioning normally."})]}),l.jsx(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:"Info"})]})]})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Emergency Actions"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(he,{onClick:()=>e("/assessment"),className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(on,{className:"w-5 h-5 mr-3"}),"Report Emergency Situation"]}),l.jsxs(he,{onClick:()=>e("/predictions"),className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(Zr,{className:"w-5 h-5 mr-3"}),"View Flood Predictions"]}),l.jsxs(he,{onClick:()=>{navigator.userAgent.match(/iPhone|Android/i)?window.open("tel:108","_self"):window.open("https://www.dial108.com/","_blank"),console.log("Emergency helpline activated")},className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(Bs,{className:"w-5 h-5 mr-3"}),"Emergency Helpline"]}),l.jsxs(he,{onClick:()=>e("/reports"),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(ui,{className:"w-5 h-5 mr-3"}),"Community Reports"]})]})]})]})]})};function sg(t,[e,n]){return Math.min(n,Math.max(e,t))}function Iw(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Xk=["PageUp","PageDown"],Jk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Au="Slider",[q_,LZ,VZ]=Xg(Au),[tM,EX]=xs(Au,[VZ]),[UZ,mv]=tM(Au),nM=b.forwardRef((t,e)=>{const{name:n,min:s=0,max:i=100,step:r=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[s],value:p,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:C,...S}=t,R=b.useRef(new Set),E=b.useRef(0),N=o==="horizontal"?zZ:BZ,[O=[],H]=Wa({prop:p,defaultProp:h,onChange:M=>{[...R.current][E.current]?.focus(),g(M)}}),G=b.useRef(O);function j(M){const D=GZ(O,M);k(M,D)}function P(M){k(M,E.current)}function U(){const M=G.current[E.current];O[E.current]!==M&&v(O)}function k(M,D,{commit:z}={commit:!1}){const ne=YZ(r),fe=QZ(Math.round((M-s)/r)*r+s,ne),K=sg(fe,[s,i]);H((ee=[])=>{const B=$Z(ee,K,D);if(ZZ(B,d*r)){E.current=B.indexOf(K);const $=String(B)!==String(ee);return $&&z&&v(B),$?B:ee}else return ee})}return l.jsx(UZ,{scope:t.__scopeSlider,name:n,disabled:c,min:s,max:i,valueIndexToChangeRef:E,thumbs:R.current,values:O,orientation:o,form:C,children:l.jsx(q_.Provider,{scope:t.__scopeSlider,children:l.jsx(q_.Slot,{scope:t.__scopeSlider,children:l.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...S,ref:e,onPointerDown:pe(S.onPointerDown,()=>{c||(G.current=O)}),min:s,max:i,inverted:y,onSlideStart:c?void 0:j,onSlideMove:c?void 0:P,onSlideEnd:c?void 0:U,onHomeKeyDown:()=>!c&&k(s,0,{commit:!0}),onEndKeyDown:()=>!c&&k(i,O.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:D})=>{if(!c){const fe=Xk.includes(M.key)||M.shiftKey&&Jk.includes(M.key)?10:1,K=E.current,ee=O[K],B=r*fe*D;k(ee+B,K,{commit:!0})}}})})})})});nM.displayName=Au;var[sM,iM]=tM(Au,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zZ=b.forwardRef((t,e)=>{const{min:n,max:s,dir:i,inverted:r,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...p}=t,[g,v]=b.useState(null),y=$e(e,N=>v(N)),C=b.useRef(void 0),S=rf(i),R=S==="ltr",E=R&&!r||!R&&r;function T(N){const O=C.current||g.getBoundingClientRect(),H=[0,O.width],j=kw(H,E?[n,s]:[s,n]);return C.current=O,j(N-O.left)}return l.jsx(sM,{scope:t.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:l.jsx(rM,{dir:S,"data-orientation":"horizontal",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const O=T(N.clientX);o?.(O)},onSlideMove:N=>{const O=T(N.clientX);c?.(O)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:N=>{const H=eM[E?"from-left":"from-right"].includes(N.key);h?.({event:N,direction:H?-1:1})}})})}),BZ=b.forwardRef((t,e)=>{const{min:n,max:s,inverted:i,onSlideStart:r,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=t,p=b.useRef(null),g=$e(e,p),v=b.useRef(void 0),y=!i;function C(S){const R=v.current||p.current.getBoundingClientRect(),E=[0,R.height],N=kw(E,y?[s,n]:[n,s]);return v.current=R,N(S-R.top)}return l.jsx(sM,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:l.jsx(rM,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const R=C(S.clientY);r?.(R)},onSlideMove:S=>{const R=C(S.clientY);o?.(R)},onSlideEnd:()=>{v.current=void 0,c?.()},onStepKeyDown:S=>{const E=eM[y?"from-bottom":"from-top"].includes(S.key);d?.({event:S,direction:E?-1:1})}})})}),rM=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:i,onSlideEnd:r,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:d,...h}=t,p=mv(Au,n);return l.jsx(we.span,{...h,ref:e,onKeyDown:pe(t.onKeyDown,g=>{g.key==="Home"?(o(g),g.preventDefault()):g.key==="End"?(c(g),g.preventDefault()):Xk.concat(Jk).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:pe(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),p.thumbs.has(v)?v.focus():s(g)}),onPointerMove:pe(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:pe(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),r(g))})})}),aM="SliderTrack",oM=b.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,i=mv(aM,n);return l.jsx(we.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:e})});oM.displayName=aM;var G_="SliderRange",lM=b.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,i=mv(G_,n),r=iM(G_,n),o=b.useRef(null),c=$e(e,o),d=i.values.length,h=i.values.map(v=>dM(v,i.min,i.max)),p=d>1?Math.min(...h):0,g=100-Math.max(...h);return l.jsx(we.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:c,style:{...t.style,[r.startEdge]:p+"%",[r.endEdge]:g+"%"}})});lM.displayName=G_;var K_="SliderThumb",cM=b.forwardRef((t,e)=>{const n=LZ(t.__scopeSlider),[s,i]=b.useState(null),r=$e(e,c=>i(c)),o=b.useMemo(()=>s?n().findIndex(c=>c.ref.current===s):-1,[n,s]);return l.jsx(FZ,{...t,ref:r,index:o})}),FZ=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:i,...r}=t,o=mv(K_,n),c=iM(K_,n),[d,h]=b.useState(null),p=$e(e,T=>h(T)),g=d?o.form||!!d.closest("form"):!0,v=rb(d),y=o.values[s],C=y===void 0?0:dM(y,o.min,o.max),S=qZ(s,o.values.length),R=v?.[c.size],E=R?KZ(R,C,c.direction):0;return b.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${E}px)`},children:[l.jsx(q_.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(we.span,{role:"slider","aria-label":t["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...r,ref:p,style:y===void 0?{display:"none"}:t.style,onFocus:pe(t.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),g&&l.jsx(uM,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},s)]})});cM.displayName=K_;var HZ="RadioBubbleInput",uM=b.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const i=b.useRef(null),r=$e(i,s),o=Iw(e);return b.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&p){const g=new Event("input",{bubbles:!0});p.call(c,e),c.dispatchEvent(g)}},[o,e]),l.jsx(we.input,{style:{display:"none"},...n,ref:r,defaultValue:e})});uM.displayName=HZ;function $Z(t=[],e,n){const s=[...t];return s[n]=e,s.sort((i,r)=>i-r)}function dM(t,e,n){const r=100/(n-e)*(t-e);return sg(r,[0,100])}function qZ(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function GZ(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),s=Math.min(...n);return n.indexOf(s)}function KZ(t,e,n){const s=t/2,r=kw([0,50],[0,s]);return(s-r(e)*n)*n}function WZ(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function ZZ(t,e){if(e>0){const n=WZ(t);return Math.min(...n)>=e}return!0}function kw(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function YZ(t){return(String(t).split(".")[1]||"").length}function QZ(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var hM=nM,XZ=oM,JZ=lM,eY=cM;const fM=b.forwardRef(({className:t,...e},n)=>l.jsxs(hM,{ref:n,className:Ie("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(XZ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(JZ,{className:"absolute h-full bg-primary"})}),l.jsx(eY,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fM.displayName=hM.displayName;var Mw="Progress",Ow=100,[tY,TX]=xs(Mw),[nY,sY]=tY(Mw),mM=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:i,getValueLabel:r=iY,...o}=t;(i||i===0)&&!wA(i)&&console.error(rY(`${i}`,"Progress"));const c=wA(i)?i:Ow;s!==null&&!SA(s,c)&&console.error(aY(`${s}`,"Progress"));const d=SA(s,c)?s:null,h=ig(d)?r(d,c):void 0;return l.jsx(nY,{scope:n,value:d,max:c,children:l.jsx(we.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ig(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":vM(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});mM.displayName=Mw;var pM="ProgressIndicator",gM=b.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,i=sY(pM,n);return l.jsx(we.div,{"data-state":vM(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:e})});gM.displayName=pM;function iY(t,e){return`${Math.round(t/e*100)}%`}function vM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ig(t){return typeof t=="number"}function wA(t){return ig(t)&&!isNaN(t)&&t>0}function SA(t,e){return ig(t)&&!isNaN(t)&&t<=e&&t>=0}function rY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ow}\`.`}function aY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ow} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yM=mM,oY=gM;const Fa=b.forwardRef(({className:t,value:e,...n},s)=>l.jsx(yM,{ref:s,className:Ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(oY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Fa.displayName=yM.displayName;class lY{openWeatherAPIKey="demo_key";baseURL="https://api.openweathermap.org/data/2.5";imdBaseURL="https://api.imd.gov.in/v1";punjabCoordinates={lat:30.7333,lon:76.7794,name:"Punjab, India"};async getCurrentWeather(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/weather?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok){const n=await e.json();return this.transformOpenWeatherData(n)}}return this.getMockWeatherData()}catch(e){return console.warn("Weather API failed, using mock data:",e),this.getMockWeatherData()}}async getWeatherForecast(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/forecast?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok)return(await e.json()).list.slice(0,24).map(s=>this.transformOpenWeatherData(s))}return this.getMockForecastData()}catch(e){return console.warn("Forecast API failed, using mock data:",e),this.getMockForecastData()}}async getFloodPrediction(e){const n=e[0],s=e.slice(1,8),i=this.calculateRainfallRisk(s),r=n.humidity>80?.3:0,o=n.windSpeed>20?.2:0,c=n.pressure<1e3?.3:0,d=i+r+o+c;let h,p;return d>.8?(h="critical",p=85+Math.random()*15):d>.6?(h="high",p=60+Math.random()*25):d>.4?(h="moderate",p=30+Math.random()*30):(h="low",p=5+Math.random()*25),{riskLevel:h,probability:Math.round(p),expectedTime:this.calculateExpectedTime(h),affectedAreas:this.getAffectedAreas(h),waterLevel:this.calculateWaterLevel(h),confidence:75+Math.random()*20,recommendations:this.getRecommendations(h)}}async getHistoricalData(){return[{date:"2024-07-15",rainfall:45.2,floodOccurred:!0,severity:"moderate",affectedPopulation:12500},{date:"2024-07-10",rainfall:32.1,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-07-05",rainfall:28.7,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-06-28",rainfall:67.3,floodOccurred:!0,severity:"severe",affectedPopulation:45e3},{date:"2024-06-20",rainfall:41.8,floodOccurred:!0,severity:"moderate",affectedPopulation:18e3}]}async getFloodMonitoringData(){return{riverLevels:[{name:"Sutlej River",level:245.6,status:"normal",trend:"rising"},{name:"Beas River",level:198.3,status:"alert",trend:"rising"},{name:"Ravi River",level:156.7,status:"normal",trend:"stable"}],damLevels:[{name:"Bhakra Dam",level:78.5,capacity:85.2,status:"normal"},{name:"Pong Dam",level:92.1,capacity:95.8,status:"alert"},{name:"Ranjit Sagar Dam",level:65.3,capacity:72.1,status:"normal"}],alerts:[{id:1,type:"flood_warning",message:"Rising water levels detected in Beas River",severity:"moderate",timestamp:new Date().toISOString()},{id:2,type:"dam_alert",message:"Pong Dam approaching capacity",severity:"high",timestamp:new Date().toISOString()}]}}transformOpenWeatherData(e){return{temperature:e.main.temp,humidity:e.main.humidity,rainfall:e.rain?.["1h"]||0,windSpeed:e.wind.speed*3.6,windDirection:e.wind.deg,pressure:e.main.pressure,visibility:e.visibility/1e3,uvIndex:e.uvi||0,timestamp:new Date(e.dt*1e3).toISOString(),location:this.punjabCoordinates}}getMockWeatherData(){return{temperature:28+Math.random()*8,humidity:70+Math.random()*20,rainfall:Math.random()*50,windSpeed:10+Math.random()*20,windDirection:Math.random()*360,pressure:1e3+Math.random()*20,visibility:8+Math.random()*4,uvIndex:5+Math.random()*5,timestamp:new Date().toISOString(),location:this.punjabCoordinates}}getMockForecastData(){const e=[],n=new Date;for(let s=0;s<24;s++){const i=new Date(n.getTime()+s*60*60*1e3);e.push({temperature:25+Math.random()*10,humidity:60+Math.random()*30,rainfall:Math.random()*30,windSpeed:8+Math.random()*15,windDirection:Math.random()*360,pressure:995+Math.random()*25,visibility:6+Math.random()*6,uvIndex:3+Math.random()*7,timestamp:i.toISOString(),location:this.punjabCoordinates})}return e}calculateRainfallRisk(e){const s=e.reduce((i,r)=>i+r.rainfall,0)/e.length;return s>20?.8:s>15?.6:s>10?.4:s>5?.2:.1}calculateExpectedTime(e){const n={critical:2+Math.random()*2,high:4+Math.random()*4,moderate:8+Math.random()*8,low:12+Math.random()*12},s=new Date;return s.setHours(s.getHours()+n[e]),s.toLocaleString()}getAffectedAreas(e){return{critical:["Riverside District","Low-lying Areas","Industrial Zone"],high:["Riverside District","Low-lying Areas"],moderate:["Riverside District"],low:[]}[e]}calculateWaterLevel(e){return 150+{critical:25+Math.random()*15,high:15+Math.random()*10,moderate:8+Math.random()*7,low:2+Math.random()*3}[e]}getRecommendations(e){return{critical:["Immediate evacuation of affected areas","Activate emergency response teams","Close all schools and offices","Set up emergency shelters"],high:["Prepare for evacuation","Move to higher ground","Secure important documents","Stock emergency supplies"],moderate:["Monitor water levels closely","Avoid low-lying areas","Keep emergency contacts ready","Prepare evacuation plan"],low:["Continue normal activities","Stay informed about weather updates","Keep emergency kit ready"]}[e]}}const Xl=new lY;class cY{grid;waterLevels;riskMap;timeStep;currentTime;isRunning;simulationData;constructor(){this.grid=[],this.waterLevels=[],this.riskMap=[],this.timeStep=5,this.currentTime=0,this.isRunning=!1,this.simulationData=[]}initializeSimulation(e){this.grid=e.terrainData,this.waterLevels=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill(0)),this.riskMap=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill("low")),this.timeStep=e.timeStep,this.currentTime=0,this.simulationData=[]}runSimulation(e){this.initializeSimulation(e),this.isRunning=!0;const n=Math.floor(e.totalTime/this.timeStep);for(let s=0;s<n;s++)this.simulateStep(e),this.currentTime+=this.timeStep;return this.isRunning=!1,this.simulationData}simulateStep(e){const n=this.waterLevels.map(i=>[...i]),s=e.waterSource;n[s.y][s.x]+=s.intensity*this.timeStep/60;for(let i=0;i<e.gridSize;i++)for(let r=0;r<e.gridSize;r++)this.waterLevels[i][r]>0&&this.simulateWaterFlow(r,i,n,e);this.waterLevels=n,this.updateRiskMap(),this.recordSimulationData()}simulateWaterFlow(e,n,s,i){const r=this.waterLevels[n][e],o=this.grid[n][e],c=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];for(const d of c){const h=e+d.dx,p=n+d.dy;if(h>=0&&h<i.gridSize&&p>=0&&p<i.gridSize){const g=this.grid[p][h],v=this.waterLevels[p][h],y=o-g,C=r-v;if(y>0&&C>0){const S=Math.min((y+C)*.1,r*.3);s[n][e]-=S,s[p][h]+=S}}}}updateRiskMap(){for(let e=0;e<this.waterLevels.length;e++)for(let n=0;n<this.waterLevels[e].length;n++){const s=this.waterLevels[e][n],i=this.grid[e][n];s>i+2?this.riskMap[e][n]="critical":s>i+1?this.riskMap[e][n]="high":s>i+.5?this.riskMap[e][n]="moderate":s>0?this.riskMap[e][n]="low":this.riskMap[e][n]="low"}}recordSimulationData(){for(let e=0;e<this.waterLevels.length;e++)for(let n=0;n<this.waterLevels[e].length;n++){const s=this.waterLevels[e][n];s>0&&this.simulationData.push({x:n,y:e,waterLevel:s,timestamp:this.currentTime,riskLevel:this.riskMap[e][n]})}}getFloodZones(){return[{id:"riverside_district",name:"Riverside District",coordinates:[{lat:30.74,lon:76.78},{lat:30.75,lon:76.79},{lat:30.76,lon:76.8},{lat:30.75,lon:76.81}],elevation:220,population:25e3,infrastructure:["Schools","Hospitals","Markets"],riskLevel:"critical",evacuationTime:30},{id:"industrial_zone",name:"Industrial Zone",coordinates:[{lat:30.72,lon:76.75},{lat:30.73,lon:76.76},{lat:30.74,lon:76.77},{lat:30.73,lon:76.78}],elevation:240,population:15e3,infrastructure:["Factories","Warehouses","Power Plants"],riskLevel:"high",evacuationTime:45},{id:"downtown_area",name:"Downtown Area",coordinates:[{lat:30.76,lon:76.72},{lat:30.77,lon:76.73},{lat:30.78,lon:76.74},{lat:30.77,lon:76.75}],elevation:260,population:4e4,infrastructure:["Government Buildings","Banks","Shopping Centers"],riskLevel:"moderate",evacuationTime:60},{id:"residential_blocks",name:"Residential Blocks",coordinates:[{lat:30.7,lon:76.7},{lat:30.71,lon:76.71},{lat:30.72,lon:76.72},{lat:30.71,lon:76.73}],elevation:250,population:35e3,infrastructure:["Housing","Schools","Community Centers"],riskLevel:"low",evacuationTime:90}]}generateTerrainData(e){const n=[];for(let s=0;s<e;s++){const i=[];for(let r=0;r<e;r++){const o=e/2,c=e/2,d=Math.sqrt((r-o)**2+(s-c)**2),h=Math.sqrt(o**2+c**2),p=300-d/h*100,g=(Math.random()-.5)*20,y=Math.abs(s-c)<5?-30:0;i.push(Math.max(200,p+g+y))}n.push(i)}return n}getSimulationStatus(){const e=this.simulationData.filter(n=>n.riskLevel==="critical").length;return{isRunning:this.isRunning,currentTime:this.currentTime,totalPoints:this.simulationData.length,criticalPoints:e}}reset(){this.waterLevels=this.waterLevels.map(e=>e.map(()=>0)),this.riskMap=this.riskMap.map(e=>e.map(()=>"low")),this.currentTime=0,this.simulationData=[],this.isRunning=!1}}const pm=new cY,uY=()=>{const[t,e]=b.useState(!1),[n,s]=b.useState([0]),[i,r]=b.useState("24h"),[o,c]=b.useState([]),[d,h]=b.useState(null),[p,g]=b.useState([]),[v,y]=b.useState([]),[C,S]=b.useState(!0),[R,E]=b.useState(0),[T,N]=b.useState(!0),[O,H]=b.useState(null),[G,j]=b.useState([]),P=b.useRef(null),U=[{label:"24h",value:"24h",active:!0},{label:"48h",value:"48h",active:!1},{label:"72h",value:"72h",active:!1}];b.useEffect(()=>{k()},[]),b.useEffect(()=>{o.length>0&&M()},[i,o]),b.useEffect(()=>(t?z():ne(),()=>ne()),[t]);const k=async()=>{S(!0);try{const q=await Xl.getCurrentWeather(),ce=await Xl.getWeatherForecast(),ae=[q,...ce];c(ae);const de=await Xl.getFloodPrediction(ae);h(de);const me=pm.getFloodZones();y(me);const ie=await Xl.getFloodMonitoringData();H(ie);const ke=await Xl.getHistoricalData();j(ke),D()}catch(q){console.error("Failed to load data:",q)}finally{S(!1)}},M=async()=>{try{const q=await Xl.getFloodPrediction(o);h(q)}catch(q){console.error("Failed to update prediction:",q)}},D=()=>{const q={timeStep:5,totalTime:360,gridSize:20,terrainData:pm.generateTerrainData(20),waterSource:{x:10,y:5,intensity:2.5}},ce=pm.runSimulation(q);g(ce)},z=()=>{P.current||(P.current=setInterval(()=>{E(q=>q>=100?(e(!1),100):q+2)},100))},ne=()=>{P.current&&(clearInterval(P.current),P.current=null)},fe=()=>{e(!1),E(0),s([0]),pm.reset(),D()},K=q=>{s(q),E(q[0])},ee=async()=>{S(!0),await k()},B=()=>{const q={timestamp:new Date().toISOString(),weatherData:o[0],floodPrediction:d,simulationData:p.slice(0,100),floodZones:v.map(me=>({name:me.name,riskLevel:me.riskLevel,population:me.population}))},ce=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),ae=URL.createObjectURL(ce),de=document.createElement("a");de.href=ae,de.download=`flood-prediction-report-${Date.now()}.json`,de.click(),URL.revokeObjectURL(ae)},$=async()=>{if(navigator.share)try{await navigator.share({title:"Flood Prediction Alert",text:`Flood risk level: ${d?.riskLevel}. Probability: ${d?.probability}%`,url:window.location.href})}catch(q){console.log("Error sharing:",q)}else navigator.clipboard.writeText(`Flood Prediction Alert: Risk Level ${d?.riskLevel}, Probability ${d?.probability}%`)},X=[{title:"AI Accuracy",value:`${d?.confidence||85}%`,change:"Based on 15+ data sources",icon:AG,color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{title:"Early Warning",value:d?`${Math.round(Math.random()*60+30)} min`:"47 min",change:"Within target range",icon:PG,color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{title:"Data Sources",value:"1,247",change:"Real-time monitoring",icon:qm,color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"}],le=()=>{if(o.length===0)return[];const q=o[0];return[{parameter:"Rainfall",value:`${q.rainfall.toFixed(1)}mm`,status:q.rainfall>20?"Heavy":q.rainfall>10?"Moderate":"Light",color:q.rainfall>20?"text-red-600":q.rainfall>10?"text-yellow-600":"text-green-600",bgColor:q.rainfall>20?"bg-red-100":q.rainfall>10?"bg-yellow-100":"bg-green-100"},{parameter:"Wind Speed",value:`${q.windSpeed.toFixed(1)} km/h`,status:q.windSpeed>30?"Strong":q.windSpeed>15?"Moderate":"Light",color:q.windSpeed>30?"text-red-600":q.windSpeed>15?"text-yellow-600":"text-green-600",bgColor:q.windSpeed>30?"bg-red-100":q.windSpeed>15?"bg-yellow-100":"bg-green-100"},{parameter:"Temperature",value:`${q.temperature.toFixed(1)}C`,status:"Normal",color:"text-green-600",bgColor:"bg-green-100"},{parameter:"Humidity",value:`${q.humidity.toFixed(0)}%`,status:q.humidity>80?"High":q.humidity>60?"Moderate":"Low",color:q.humidity>80?"text-orange-600":q.humidity>60?"text-yellow-600":"text-green-600",bgColor:q.humidity>80?"bg-orange-100":q.humidity>60?"bg-yellow-100":"bg-green-100"}]};return C?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Loading flood prediction data..."})]})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"AI-Powered Flood Prediction"}),l.jsxs(he,{size:"sm",variant:"outline",onClick:ee,className:"flex items-center space-x-2",children:[l.jsx(HG,{className:"w-4 h-4"}),l.jsx("span",{children:"Refresh"})]})]}),l.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"Advanced machine learning algorithms analyze weather patterns, historical data, and real-time conditions to predict flood events up to 72 hours in advance"}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsxs(he,{onClick:B,variant:"outline",className:"flex items-center space-x-2",children:[l.jsx(bw,{className:"w-4 h-4"}),l.jsx("span",{children:"Download Report"})]}),l.jsxs(he,{onClick:$,variant:"outline",className:"flex items-center space-x-2",children:[l.jsx(GG,{className:"w-4 h-4"}),l.jsx("span",{children:"Share Alert"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:X.map((q,ce)=>{const ae=q.icon;return l.jsxs(Le,{className:`p-6 bg-gradient-to-br ${q.bgColor}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${q.color} rounded-xl flex items-center justify-center`,children:l.jsx(ae,{className:"w-6 h-6 text-white"})}),l.jsx(Ye,{variant:"secondary",className:"bg-white/70 text-slate-700",children:q.title})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:`text-3xl font-bold bg-gradient-to-r ${q.color} bg-clip-text text-transparent`,children:q.value}),l.jsx("p",{className:"text-sm text-slate-600",children:q.change})]})]},ce)})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Prediction Timeline"}),l.jsx("div",{className:"flex space-x-2",children:U.map(q=>l.jsx(he,{size:"sm",variant:i===q.value?"default":"outline",className:i===q.value?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>r(q.value),children:q.label},q.value))})]}),l.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-64 p-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-6",children:l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx("div",{className:"absolute inset-0 grid grid-cols-6 grid-rows-4 gap-0",children:Array.from({length:24}).map((q,ce)=>l.jsx("div",{className:"border-r border-b border-slate-300/30"},ce))}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[l.jsx("path",{d:"M 20 180 Q 100 120 180 100 T 340 80 T 500 90",stroke:"url(#gradient)",strokeWidth:"3",fill:"none",className:"animate-pulse"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),l.jsx("stop",{offset:"50%",stopColor:"#F59E0B"}),l.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]})})]}),l.jsx("div",{className:"absolute top-16 left-16 w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),l.jsx("div",{className:"absolute top-12 left-32 w-3 h-3 bg-yellow-500 rounded-full animate-pulse delay-300"}),l.jsx("div",{className:"absolute top-8 left-48 w-3 h-3 bg-red-500 rounded-full animate-pulse delay-700"})]})}),l.jsxs("div",{className:"absolute bottom-4 left-6 right-6 flex justify-between text-xs text-slate-600",children:[l.jsx("span",{children:"Now"}),l.jsx("span",{children:"12h"}),l.jsx("span",{children:"24h"}),l.jsx("span",{children:"36h"}),l.jsx("span",{children:"48h"})]})]})]}),l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Flood Spread Simulation"}),l.jsx(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Next 6 hours"})]}),l.jsxs("div",{className:"flex items-center space-x-4 mb-6 p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl",children:[l.jsx(he,{size:"sm",variant:t?"secondary":"default",className:t?"":"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>e(!t),children:t?l.jsx(zG,{className:"w-4 h-4"}):l.jsx(BG,{className:"w-4 h-4"})}),l.jsx(he,{size:"sm",variant:"outline",onClick:fe,children:l.jsx($G,{className:"w-4 h-4"})}),l.jsx(he,{size:"sm",variant:"outline",onClick:()=>N(!T),children:T?l.jsx(eg,{className:"w-4 h-4"}):l.jsx(Zr,{className:"w-4 h-4"})}),l.jsx("div",{className:"flex-1 px-4",children:l.jsx(fM,{value:n,onValueChange:K,max:100,step:1,className:"w-full"})}),l.jsxs("span",{className:"text-sm text-slate-600 min-w-fit",children:["T+",R,"%"]})]}),l.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-blue-900 rounded-2xl h-80 overflow-hidden",children:[T?l.jsx("div",{className:"absolute inset-4 rounded-xl overflow-hidden",children:l.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ${t?"animate-pulse":""}`,children:l.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-800 via-blue-600 to-teal-500 relative",children:[v.map((q,ce)=>{const ae=1+R/100*2,de=.6+R/100*.4,me={critical:"from-red-400 to-red-600",high:"from-orange-400 to-orange-600",moderate:"from-yellow-400 to-yellow-600",low:"from-blue-400 to-blue-600"};return l.jsx("div",{className:`absolute bg-gradient-to-br ${me[q.riskLevel]} rounded-full opacity-${Math.round(de*100)} transition-all duration-2000`,style:{width:`${60*ae}px`,height:`${60*ae}px`,top:`${20+ce*25}px`,left:`${30+ce*30}px`},children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-xs font-bold",children:q.name.split(" ")[0]})},q.id)}),l.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-white text-xs",children:[l.jsxs("span",{children:["Water Level: ",d?.waterLevel?.toFixed(1)||"0.0","m"]}),l.jsxs("span",{children:["Risk: ",d?.riskLevel?.toUpperCase()||"LOW"]})]})]})})}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(eg,{className:"w-12 h-12 mx-auto mb-2"}),l.jsx("p",{children:"Simulation Hidden"})]})}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-white text-sm mb-2",children:[l.jsx("span",{children:"Simulation Progress"}),l.jsx("span",{children:"Next 6 hours"})]}),l.jsx(Fa,{value:n[0],className:"h-2 bg-white/20"})]})})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Weather Conditions"}),l.jsx("div",{className:"space-y-4",children:le().map((q,ce)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[q.parameter==="Rainfall"&&l.jsx(MG,{className:"w-5 h-5 text-blue-600"}),q.parameter==="Wind Speed"&&l.jsx(QG,{className:"w-5 h-5 text-slate-600"}),q.parameter==="Temperature"&&l.jsx(KG,{className:"w-5 h-5 text-red-600"}),q.parameter==="Humidity"&&l.jsx(ww,{className:"w-5 h-5 text-teal-600"}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:q.parameter})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-bold text-slate-900",children:q.value}),l.jsx(Ye,{variant:"secondary",className:`text-xs ${q.bgColor} ${q.color}`,children:q.status})]})]},ce))})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Risk Assessment"}),l.jsx("div",{className:"space-y-4",children:v.map((q,ce)=>{const ae={critical:"destructive",high:"bg-red-100 text-red-800",moderate:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},de={critical:95,high:75,moderate:50,low:25},me={critical:"High probability of severe flooding in 2-4 hours",high:"Moderate to high risk, prepare for evacuation",moderate:"Moderate risk, monitoring continues",low:"Low risk, normal conditions expected"};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:q.name}),l.jsx(Ye,{variant:q.riskLevel==="critical"?"destructive":"secondary",className:`text-xs ${ae[q.riskLevel]}`,children:q.riskLevel.charAt(0).toUpperCase()+q.riskLevel.slice(1)})]}),l.jsx(Fa,{value:de[q.riskLevel],className:"h-2"}),l.jsx("p",{className:"text-xs text-slate-600",children:me[q.riskLevel]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[l.jsxs("span",{children:["Population: ",q.population.toLocaleString()]}),l.jsxs("span",{children:["Evac Time: ",q.evacuationTime,"min"]})]})]},q.id)})})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Analysis"}),l.jsxs("div",{className:"space-y-4",children:[G.slice(0,2).map((q,ce)=>l.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-900",children:q.floodOccurred?"Flood Event":"Normal Period"}),l.jsx(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:new Date(q.date).toLocaleDateString()})]}),l.jsxs("p",{className:"text-xs text-slate-600 mb-2",children:["Rainfall: ",q.rainfall.toFixed(1),"mm |",q.floodOccurred?` ${q.severity} flooding`:" No flooding",q.affectedPopulation>0&&` | ${q.affectedPopulation.toLocaleString()} affected`]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${q.floodOccurred?"bg-red-500":"bg-green-500"}`}),l.jsx("span",{className:"text-xs text-slate-600",children:q.floodOccurred?"Flood occurred":"No flood risk"})]})]},ce)),l.jsxs("div",{className:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Prediction Confidence"}),l.jsx(Ye,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:d?.confidence&&d.confidence>80?"High":"Medium"})]}),l.jsxs("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:[d?.confidence||85,"%"]}),l.jsxs("p",{className:"text-xs text-slate-600",children:["Based on ",G.length," historical events and ML models"]})]})]})]})]})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Predicted Alert Timeline"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.slice(0,3).map((q,ce)=>{const de={critical:{bg:"from-red-50 to-pink-50",border:"border-red-200",dot:"bg-red-500",text:"text-red-800",title:"Critical Alert"},high:{bg:"from-orange-50 to-red-50",border:"border-orange-200",dot:"bg-orange-500",text:"text-orange-800",title:"High Alert"},moderate:{bg:"from-yellow-50 to-orange-50",border:"border-yellow-200",dot:"bg-yellow-500",text:"text-yellow-800",title:"Warning Alert"},low:{bg:"from-blue-50 to-teal-50",border:"border-blue-200",dot:"bg-blue-500",text:"text-blue-800",title:"Advisory"}}[q.riskLevel],me=q.evacuationTime+Math.random()*60;return l.jsxs("div",{className:`p-4 bg-gradient-to-r ${de.bg} rounded-xl border ${de.border}`,children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("div",{className:`w-4 h-4 ${de.dot} rounded-full animate-pulse`,style:{animationDelay:`${ce*300}ms`}}),l.jsx("span",{className:`text-sm font-semibold ${de.text}`,children:de.title})]}),l.jsx("p",{className:"text-sm text-slate-700 mb-2",children:q.name}),l.jsxs("p",{className:"text-xs text-slate-600",children:["Expected in ",Math.round(me)," minutes"]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:q.riskLevel==="critical"?"Immediate evacuation may be required":q.riskLevel==="high"?"Prepare for evacuation":q.riskLevel==="moderate"?"Precautionary measures advised":"Monitor conditions closely"}),l.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[l.jsxs("span",{children:["Population: ",q.population.toLocaleString()]}),l.jsxs("span",{children:["Evac Time: ",q.evacuationTime,"min"]})]})]},q.id)})})]})]})};var pv="Switch",[dY,AX]=xs(pv),[hY,fY]=dY(pv),_M=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:r,required:o,disabled:c,value:d="on",onCheckedChange:h,form:p,...g}=t,[v,y]=b.useState(null),C=$e(e,N=>y(N)),S=b.useRef(!1),R=v?p||!!v.closest("form"):!0,[E,T]=Wa({prop:i,defaultProp:r??!1,onChange:h,caller:pv});return l.jsxs(hY,{scope:n,checked:E,disabled:c,children:[l.jsx(we.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":SM(E),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:C,onClick:pe(t.onClick,N=>{T(O=>!O),R&&(S.current=N.isPropagationStopped(),S.current||N.stopPropagation())})}),R&&l.jsx(wM,{control:v,bubbles:!S.current,name:s,value:d,checked:E,required:o,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});_M.displayName=pv;var xM="SwitchThumb",bM=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=fY(xM,n);return l.jsx(we.span,{"data-state":SM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});bM.displayName=xM;var mY="SwitchBubbleInput",wM=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...i},r)=>{const o=b.useRef(null),c=$e(o,r),d=Iw(n),h=rb(e);return b.useEffect(()=>{const p=o.current;if(!p)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&y){const C=new Event("click",{bubbles:s});y.call(p,n),p.dispatchEvent(C)}},[d,n,s]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wM.displayName=mY;function SM(t){return t?"checked":"unchecked"}var EM=_M,pY=bM;const W_=b.forwardRef(({className:t,...e},n)=>l.jsx(EM,{className:Ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(pY,{className:Ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));W_.displayName=EM.displayName;const gY=()=>{const[t,e]=b.useState(!0),[n,s]=b.useState("en"),[i,r]=b.useState(!0),o=[{id:1,type:"critical",title:"Flash Flood Warning",message:"Immediate evacuation required for Riverside District. Water levels rising rapidly.",location:"Riverside District",time:"2 minutes ago",status:"active",recipients:1250},{id:2,type:"warning",title:"Water Level Alert",message:"Water levels approaching warning threshold in Industrial Zone.",location:"Industrial Zone",time:"15 minutes ago",status:"active",recipients:890},{id:3,type:"info",title:"Weather Update",message:"Heavy rainfall expected in the next 6 hours. Stay alert.",location:"City Wide",time:"1 hour ago",status:"sent",recipients:3200},{id:4,type:"success",title:"All Clear",message:"Water levels have receded in Downtown Area. Normal activities can resume.",location:"Downtown Area",time:"3 hours ago",status:"resolved",recipients:1800}],c=[{name:"Emergency Services",number:"911",type:"emergency"},{name:"Flood Control Center",number:"+1-555-FLOOD",type:"flood"},{name:"Red Cross Shelter",number:"+1-555-SHELTER",type:"shelter"},{name:"Municipal Office",number:"+1-555-CITY",type:"municipal"}],d=p=>{switch(p){case"critical":return"danger";case"warning":return"warning";case"success":return"success";default:return"default"}},h=p=>{switch(p){case"critical":return on;case"warning":return Oc;case"success":return no;default:return Oc}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Early Warning & Communications"}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Real-time alert system with multi-channel communication and emergency response coordination"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Alert Settings"}),l.jsx(YG,{className:"w-5 h-5 text-slate-600"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Sound Alerts"}),l.jsx(W_,{checked:t,onCheckedChange:e})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Auto-Translate"}),l.jsx(W_,{checked:i,onCheckedChange:r})]})]})]}),l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Broadcast Alert"}),l.jsx(VG,{className:"w-5 h-5 text-slate-600"})]}),l.jsxs(he,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(on,{className:"w-4 h-4 mr-2"}),"Send Emergency Alert"]})]}),l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"System Status"}),l.jsx(hs,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"SMS Gateway"}),l.jsx(Ye,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Online"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Push Notifications"}),l.jsx(Ye,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Active"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Active Alerts"}),l.jsxs(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[l.jsx(Oc,{className:"w-3 h-3 mr-1"}),o.filter(p=>p.status==="active").length," Active"]})]}),l.jsx("div",{className:"space-y-4",children:o.map(p=>{const g=h(p.type);return l.jsx(Le,{variant:d(p.type),className:"p-4",hover:!1,children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${p.type==="critical"?"bg-red-100":p.type==="warning"?"bg-yellow-100":p.type==="success"?"bg-green-100":"bg-blue-100"}`,children:l.jsx(g,{className:`w-5 h-5 ${p.type==="critical"?"text-red-600":p.type==="warning"?"text-yellow-600":p.type==="success"?"text-green-600":"text-blue-600"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:p.title}),l.jsx(Ye,{variant:p.status==="active"?"default":"secondary",className:p.status==="active"?"bg-red-100 text-red-700":"",children:p.status})]}),l.jsx("p",{className:"text-sm text-slate-700 mb-3",children:p.message}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(Qn,{className:"w-3 h-3 mr-1"}),p.location]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(ui,{className:"w-3 h-3 mr-1"}),p.recipients," recipients"]})]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(iu,{className:"w-3 h-3 mr-1"}),p.time]})]})]})]})},p.id)})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(he,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Qn,{className:"w-4 h-4 mr-2"}),"View Evacuation Routes"]}),l.jsxs(he,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(ui,{className:"w-4 h-4 mr-2"}),"Find Nearest Shelter"]}),l.jsxs(he,{className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Km,{className:"w-4 h-4 mr-2"}),"Community Chat"]})]})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Emergency Contacts"}),l.jsx("div",{className:"space-y-3",children:c.map((p,g)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg border border-slate-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:p.name}),l.jsx("p",{className:"text-xs text-slate-600",children:p.number})]}),l.jsx(he,{size:"sm",variant:"outline",className:"hover:bg-green-50 hover:border-green-200",children:l.jsx(Bs,{className:"w-4 h-4"})})]},g))})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Language & Translation"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Sw,{className:"w-5 h-5 text-slate-600"}),l.jsx("span",{className:"text-sm text-slate-700",children:"Multi-language Support"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(he,{size:"sm",variant:n==="en"?"default":"outline",className:n==="en"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("en"),children:"English"}),l.jsx(he,{size:"sm",variant:n==="es"?"default":"outline",className:n==="es"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("es"),children:"Espaol"}),l.jsx(he,{size:"sm",variant:n==="hi"?"default":"outline",className:n==="hi"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("hi"),children:""}),l.jsx(he,{size:"sm",variant:n==="bn"?"default":"outline",className:n==="bn"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("bn"),children:""})]})]})]})]})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Alert Preview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"SMS Alert Preview"}),l.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs font-medium text-slate-600",children:"FLOOD ALERT"})]}),l.jsx("p",{className:"text-sm text-slate-900 mb-2",children:" URGENT: Flash flood warning for Riverside District. Evacuate immediately to higher ground."}),l.jsx("p",{className:"text-xs text-slate-600",children:"Shelter: Community Center, 123 Main St. Info: jalrakshak.gov"})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"App Notification Preview"}),l.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-red-500",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-teal-500 rounded-lg flex items-center justify-center",children:l.jsx(on,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"JalRakshak Alert"}),l.jsx("p",{className:"text-xs text-slate-600",children:"Critical Flood Warning"})]})]}),l.jsx("p",{className:"text-sm text-slate-700",children:"Immediate evacuation required for your area. Tap for evacuation routes and shelter information."})]})})]})]})]})]})},TM=b.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));TM.displayName="Textarea";var gv="Dialog",[AM,NX]=xs(gv),[vY,pi]=AM(gv),NM=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:r,modal:o=!0}=t,c=b.useRef(null),d=b.useRef(null),[h,p]=Wa({prop:s,defaultProp:i??!1,onChange:r,caller:gv});return l.jsx(vY,{scope:e,triggerRef:c,contentRef:d,contentId:Di(),titleId:Di(),descriptionId:Di(),open:h,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(g=>!g),[p]),modal:o,children:n})};NM.displayName=gv;var CM="DialogTrigger",RM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=pi(CM,n),r=$e(e,i.triggerRef);return l.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Vw(i.open),...s,ref:r,onClick:pe(t.onClick,i.onOpenToggle)})});RM.displayName=CM;var Dw="DialogPortal",[yY,jM]=AM(Dw,{forceMount:void 0}),PM=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,r=pi(Dw,e);return l.jsx(yY,{scope:e,forceMount:n,children:b.Children.map(s,o=>l.jsx(Yi,{present:n||r.open,children:l.jsx(jg,{asChild:!0,container:i,children:o})}))})};PM.displayName=Dw;var rg="DialogOverlay",IM=b.forwardRef((t,e)=>{const n=jM(rg,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,r=pi(rg,t.__scopeDialog);return r.modal?l.jsx(Yi,{present:s||r.open,children:l.jsx(xY,{...i,ref:e})}):null});IM.displayName=rg;var _Y=Xo("DialogOverlay.RemoveScroll"),xY=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=pi(rg,n);return l.jsx(nv,{as:_Y,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(we.div,{"data-state":Vw(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),al="DialogContent",kM=b.forwardRef((t,e)=>{const n=jM(al,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,r=pi(al,t.__scopeDialog);return l.jsx(Yi,{present:s||r.open,children:r.modal?l.jsx(bY,{...i,ref:e}):l.jsx(wY,{...i,ref:e})})});kM.displayName=al;var bY=b.forwardRef((t,e)=>{const n=pi(al,t.__scopeDialog),s=b.useRef(null),i=$e(e,n.contentRef,s);return b.useEffect(()=>{const r=s.current;if(r)return fw(r)},[]),l.jsx(MM,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,r=>{r.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,r=>{const o=r.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&r.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,r=>r.preventDefault())})}),wY=b.forwardRef((t,e)=>{const n=pi(al,t.__scopeDialog),s=b.useRef(!1),i=b.useRef(!1);return l.jsx(MM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{t.onCloseAutoFocus?.(r),r.defaultPrevented||(s.current||n.triggerRef.current?.focus(),r.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:r=>{t.onInteractOutside?.(r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=r.target;n.triggerRef.current?.contains(o)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&i.current&&r.preventDefault()}})}),MM=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:r,...o}=t,c=pi(al,n),d=b.useRef(null),h=$e(e,d);return hw(),l.jsxs(l.Fragment,{children:[l.jsx(Jg,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:r,children:l.jsx(qh,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Vw(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(SY,{titleId:c.titleId}),l.jsx(TY,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Lw="DialogTitle",OM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=pi(Lw,n);return l.jsx(we.h2,{id:i.titleId,...s,ref:e})});OM.displayName=Lw;var DM="DialogDescription",LM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=pi(DM,n);return l.jsx(we.p,{id:i.descriptionId,...s,ref:e})});LM.displayName=DM;var VM="DialogClose",UM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=pi(VM,n);return l.jsx(we.button,{type:"button",...s,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});UM.displayName=VM;function Vw(t){return t?"open":"closed"}var zM="DialogTitleWarning",[CX,BM]=k3(zM,{contentName:al,titleName:Lw,docsSlug:"dialog"}),SY=({titleId:t})=>{const e=BM(zM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},EY="DialogDescriptionWarning",TY=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BM(EY).contentName}}.`;return b.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},AY=NM,NY=RM,CY=PM,FM=IM,HM=kM,$M=OM,qM=LM,RY=UM;const EA=AY,jY=NY,PY=CY,GM=b.forwardRef(({className:t,...e},n)=>l.jsx(FM,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GM.displayName=FM.displayName;const Z_=b.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(PY,{children:[l.jsx(GM,{}),l.jsxs(HM,{ref:s,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(RY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ov,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Z_.displayName=HM.displayName;const Y_=({className:t,...e})=>l.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Y_.displayName="DialogHeader";const Q_=b.forwardRef(({className:t,...e},n)=>l.jsx($M,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",t),...e}));Q_.displayName=$M.displayName;const X_=b.forwardRef(({className:t,...e},n)=>l.jsx(qM,{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));X_.displayName=qM.displayName;var IY=[" ","Enter","ArrowUp","ArrowDown"],kY=[" ","Enter"],ol="Select",[vv,yv,MY]=Xg(ol),[Nu,RX]=xs(ol,[MY,pu]),_v=pu(),[OY,oo]=Nu(ol),[DY,LY]=Nu(ol),KM=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:r,value:o,defaultValue:c,onValueChange:d,dir:h,name:p,autoComplete:g,disabled:v,required:y,form:C}=t,S=_v(e),[R,E]=b.useState(null),[T,N]=b.useState(null),[O,H]=b.useState(!1),G=rf(h),[j,P]=Wa({prop:s,defaultProp:i??!1,onChange:r,caller:ol}),[U,k]=Wa({prop:o,defaultProp:c,onChange:d,caller:ol}),M=b.useRef(null),D=R?C||!!R.closest("form"):!0,[z,ne]=b.useState(new Set),fe=Array.from(z).map(K=>K.props.value).join(";");return l.jsx(q2,{...S,children:l.jsxs(OY,{required:y,scope:e,trigger:R,onTriggerChange:E,valueNode:T,onValueNodeChange:N,valueNodeHasChildren:O,onValueNodeHasChildrenChange:H,contentId:Di(),value:U,onValueChange:k,open:j,onOpenChange:P,dir:G,triggerPointerDownPosRef:M,disabled:v,children:[l.jsx(vv.Provider,{scope:e,children:l.jsx(DY,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(K=>{ne(ee=>new Set(ee).add(K))},[]),onNativeOptionRemove:b.useCallback(K=>{ne(ee=>{const B=new Set(ee);return B.delete(K),B})},[]),children:n})}),D?l.jsxs(vO,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:g,value:U,onChange:K=>k(K.target.value),disabled:v,form:C,children:[U===void 0?l.jsx("option",{value:""}):null,Array.from(z)]},fe):null]})})};KM.displayName=ol;var WM="SelectTrigger",ZM=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,r=_v(n),o=oo(WM,n),c=o.disabled||s,d=$e(e,o.onTriggerChange),h=yv(n),p=b.useRef("touch"),[g,v,y]=_O(S=>{const R=h().filter(N=>!N.disabled),E=R.find(N=>N.value===o.value),T=xO(R,S,E);T!==void 0&&o.onValueChange(T.value)}),C=S=>{c||(o.onOpenChange(!0),y()),S&&(o.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return l.jsx(lb,{asChild:!0,...r,children:l.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":yO(o.value)?"":void 0,...i,ref:d,onClick:pe(i.onClick,S=>{S.currentTarget.focus(),p.current!=="mouse"&&C(S)}),onPointerDown:pe(i.onPointerDown,S=>{p.current=S.pointerType;const R=S.target;R.hasPointerCapture(S.pointerId)&&R.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(C(S),S.preventDefault())}),onKeyDown:pe(i.onKeyDown,S=>{const R=g.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&v(S.key),!(R&&S.key===" ")&&IY.includes(S.key)&&(C(),S.preventDefault())})})})});ZM.displayName=WM;var YM="SelectValue",QM=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:r,placeholder:o="",...c}=t,d=oo(YM,n),{onValueNodeHasChildrenChange:h}=d,p=r!==void 0,g=$e(e,d.onValueNodeChange);return tn(()=>{h(p)},[h,p]),l.jsx(we.span,{...c,ref:g,style:{pointerEvents:"none"},children:yO(d.value)?l.jsx(l.Fragment,{children:o}):r})});QM.displayName=YM;var VY="SelectIcon",XM=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return l.jsx(we.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});XM.displayName=VY;var UY="SelectPortal",JM=t=>l.jsx(jg,{asChild:!0,...t});JM.displayName=UY;var ll="SelectContent",eO=b.forwardRef((t,e)=>{const n=oo(ll,t.__scopeSelect),[s,i]=b.useState();if(tn(()=>{i(new DocumentFragment)},[]),!n.open){const r=s;return r?au.createPortal(l.jsx(tO,{scope:t.__scopeSelect,children:l.jsx(vv.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),r):null}return l.jsx(nO,{...t,ref:e})});eO.displayName=ll;var ni=10,[tO,lo]=Nu(ll),zY="SelectContentImpl",BY=Xo("SelectContent.RemoveScroll"),nO=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:r,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:C,hideWhenDetached:S,avoidCollisions:R,...E}=t,T=oo(ll,n),[N,O]=b.useState(null),[H,G]=b.useState(null),j=$e(e,ie=>O(ie)),[P,U]=b.useState(null),[k,M]=b.useState(null),D=yv(n),[z,ne]=b.useState(!1),fe=b.useRef(!1);b.useEffect(()=>{if(N)return fw(N)},[N]),hw();const K=b.useCallback(ie=>{const[ke,...gt]=D().map(et=>et.ref.current),[qe]=gt.slice(-1),Ge=document.activeElement;for(const et of ie)if(et===Ge||(et?.scrollIntoView({block:"nearest"}),et===ke&&H&&(H.scrollTop=0),et===qe&&H&&(H.scrollTop=H.scrollHeight),et?.focus(),document.activeElement!==Ge))return},[D,H]),ee=b.useCallback(()=>K([P,N]),[K,P,N]);b.useEffect(()=>{z&&ee()},[z,ee]);const{onOpenChange:B,triggerPointerDownPosRef:$}=T;b.useEffect(()=>{if(N){let ie={x:0,y:0};const ke=qe=>{ie={x:Math.abs(Math.round(qe.pageX)-($.current?.x??0)),y:Math.abs(Math.round(qe.pageY)-($.current?.y??0))}},gt=qe=>{ie.x<=10&&ie.y<=10?qe.preventDefault():N.contains(qe.target)||B(!1),document.removeEventListener("pointermove",ke),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",gt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",gt,{capture:!0})}}},[N,B,$]),b.useEffect(()=>{const ie=()=>B(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[B]);const[X,le]=_O(ie=>{const ke=D().filter(Ge=>!Ge.disabled),gt=ke.find(Ge=>Ge.ref.current===document.activeElement),qe=xO(ke,ie,gt);qe&&setTimeout(()=>qe.ref.current.focus())}),q=b.useCallback((ie,ke,gt)=>{const qe=!fe.current&&!gt;(T.value!==void 0&&T.value===ke||qe)&&(U(ie),qe&&(fe.current=!0))},[T.value]),ce=b.useCallback(()=>N?.focus(),[N]),ae=b.useCallback((ie,ke,gt)=>{const qe=!fe.current&&!gt;(T.value!==void 0&&T.value===ke||qe)&&M(ie)},[T.value]),de=s==="popper"?J_:sO,me=de===J_?{side:c,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:C,hideWhenDetached:S,avoidCollisions:R}:{};return l.jsx(tO,{scope:n,content:N,viewport:H,onViewportChange:G,itemRefCallback:q,selectedItem:P,onItemLeave:ce,itemTextRefCallback:ae,focusSelectedItem:ee,selectedItemText:k,position:s,isPositioned:z,searchRef:X,children:l.jsx(nv,{as:BY,allowPinchZoom:!0,children:l.jsx(Jg,{asChild:!0,trapped:T.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:pe(i,ie=>{T.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:l.jsx(qh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:l.jsx(de,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ie=>ie.preventDefault(),...E,...me,onPlaced:()=>ne(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:pe(E.onKeyDown,ie=>{const ke=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ke&&ie.key.length===1&&le(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let qe=D().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(qe=qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Ge=ie.target,et=qe.indexOf(Ge);qe=qe.slice(et+1)}setTimeout(()=>K(qe)),ie.preventDefault()}})})})})})})});nO.displayName=zY;var FY="SelectItemAlignedPosition",sO=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,r=oo(ll,n),o=lo(ll,n),[c,d]=b.useState(null),[h,p]=b.useState(null),g=$e(e,j=>p(j)),v=yv(n),y=b.useRef(!1),C=b.useRef(!0),{viewport:S,selectedItem:R,selectedItemText:E,focusSelectedItem:T}=o,N=b.useCallback(()=>{if(r.trigger&&r.valueNode&&c&&h&&S&&R&&E){const j=r.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),U=r.valueNode.getBoundingClientRect(),k=E.getBoundingClientRect();if(r.dir!=="rtl"){const Ge=k.left-P.left,et=U.left-Ge,At=j.left-et,Dn=j.width+At,gi=Math.max(Dn,P.width),es=window.innerWidth-ni,ts=sg(et,[ni,Math.max(ni,es-gi)]);c.style.minWidth=Dn+"px",c.style.left=ts+"px"}else{const Ge=P.right-k.right,et=window.innerWidth-U.right-Ge,At=window.innerWidth-j.right-et,Dn=j.width+At,gi=Math.max(Dn,P.width),es=window.innerWidth-ni,ts=sg(et,[ni,Math.max(ni,es-gi)]);c.style.minWidth=Dn+"px",c.style.right=ts+"px"}const M=v(),D=window.innerHeight-ni*2,z=S.scrollHeight,ne=window.getComputedStyle(h),fe=parseInt(ne.borderTopWidth,10),K=parseInt(ne.paddingTop,10),ee=parseInt(ne.borderBottomWidth,10),B=parseInt(ne.paddingBottom,10),$=fe+K+z+B+ee,X=Math.min(R.offsetHeight*5,$),le=window.getComputedStyle(S),q=parseInt(le.paddingTop,10),ce=parseInt(le.paddingBottom,10),ae=j.top+j.height/2-ni,de=D-ae,me=R.offsetHeight/2,ie=R.offsetTop+me,ke=fe+K+ie,gt=$-ke;if(ke<=ae){const Ge=M.length>0&&R===M[M.length-1].ref.current;c.style.bottom="0px";const et=h.clientHeight-S.offsetTop-S.offsetHeight,At=Math.max(de,me+(Ge?ce:0)+et+ee),Dn=ke+At;c.style.height=Dn+"px"}else{const Ge=M.length>0&&R===M[0].ref.current;c.style.top="0px";const At=Math.max(ae,fe+S.offsetTop+(Ge?q:0)+me)+gt;c.style.height=At+"px",S.scrollTop=ke-ae+S.offsetTop}c.style.margin=`${ni}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=D+"px",s?.(),requestAnimationFrame(()=>y.current=!0)}},[v,r.trigger,r.valueNode,c,h,S,R,E,r.dir,s]);tn(()=>N(),[N]);const[O,H]=b.useState();tn(()=>{h&&H(window.getComputedStyle(h).zIndex)},[h]);const G=b.useCallback(j=>{j&&C.current===!0&&(N(),T?.(),C.current=!1)},[N,T]);return l.jsx($Y,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:G,children:l.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:l.jsx(we.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sO.displayName=FY;var HY="SelectPopperPosition",J_=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=ni,...r}=t,o=_v(n);return l.jsx(cb,{...o,...r,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J_.displayName=HY;var[$Y,Uw]=Nu(ll,{}),ex="SelectViewport",iO=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,r=lo(ex,n),o=Uw(ex,n),c=$e(e,r.onViewportChange),d=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(vv.Slot,{scope:n,children:l.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=o;if(v?.current&&g){const y=Math.abs(d.current-p.scrollTop);if(y>0){const C=window.innerHeight-ni*2,S=parseFloat(g.style.minHeight),R=parseFloat(g.style.height),E=Math.max(S,R);if(E<C){const T=E+y,N=Math.min(C,T),O=T-N;g.style.height=N+"px",g.style.bottom==="0px"&&(p.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});iO.displayName=ex;var rO="SelectGroup",[qY,GY]=Nu(rO),KY=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Di();return l.jsx(qY,{scope:n,id:i,children:l.jsx(we.div,{role:"group","aria-labelledby":i,...s,ref:e})})});KY.displayName=rO;var aO="SelectLabel",oO=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=GY(aO,n);return l.jsx(we.div,{id:i.id,...s,ref:e})});oO.displayName=aO;var ag="SelectItem",[WY,lO]=Nu(ag),cO=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:r,...o}=t,c=oo(ag,n),d=lo(ag,n),h=c.value===s,[p,g]=b.useState(r??""),[v,y]=b.useState(!1),C=$e(e,T=>d.itemRefCallback?.(T,s,i)),S=Di(),R=b.useRef("touch"),E=()=>{i||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(WY,{scope:n,value:s,disabled:i,textId:S,isSelected:h,onItemTextChange:b.useCallback(T=>{g(N=>N||(T?.textContent??"").trim())},[]),children:l.jsx(vv.ItemSlot,{scope:n,value:s,disabled:i,textValue:p,children:l.jsx(we.div,{role:"option","aria-labelledby":S,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:C,onFocus:pe(o.onFocus,()=>y(!0)),onBlur:pe(o.onBlur,()=>y(!1)),onClick:pe(o.onClick,()=>{R.current!=="mouse"&&E()}),onPointerUp:pe(o.onPointerUp,()=>{R.current==="mouse"&&E()}),onPointerDown:pe(o.onPointerDown,T=>{R.current=T.pointerType}),onPointerMove:pe(o.onPointerMove,T=>{R.current=T.pointerType,i?d.onItemLeave?.():R.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,T=>{T.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:pe(o.onKeyDown,T=>{d.searchRef?.current!==""&&T.key===" "||(kY.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});cO.displayName=ag;var wd="SelectItemText",uO=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...r}=t,o=oo(wd,n),c=lo(wd,n),d=lO(wd,n),h=LY(wd,n),[p,g]=b.useState(null),v=$e(e,E=>g(E),d.onItemTextChange,E=>c.itemTextRefCallback?.(E,d.value,d.disabled)),y=p?.textContent,C=b.useMemo(()=>l.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:S,onNativeOptionRemove:R}=h;return tn(()=>(S(C),()=>R(C)),[S,R,C]),l.jsxs(l.Fragment,{children:[l.jsx(we.span,{id:d.textId,...r,ref:v}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?au.createPortal(r.children,o.valueNode):null]})});uO.displayName=wd;var dO="SelectItemIndicator",hO=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return lO(dO,n).isSelected?l.jsx(we.span,{"aria-hidden":!0,...s,ref:e}):null});hO.displayName=dO;var tx="SelectScrollUpButton",fO=b.forwardRef((t,e)=>{const n=lo(tx,t.__scopeSelect),s=Uw(tx,t.__scopeSelect),[i,r]=b.useState(!1),o=$e(e,s.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;r(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?l.jsx(pO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});fO.displayName=tx;var nx="SelectScrollDownButton",mO=b.forwardRef((t,e)=>{const n=lo(nx,t.__scopeSelect),s=Uw(nx,t.__scopeSelect),[i,r]=b.useState(!1),o=$e(e,s.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;r(p)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?l.jsx(pO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});mO.displayName=nx;var pO=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,r=lo("SelectScrollButton",n),o=b.useRef(null),c=yv(n),d=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),tn(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),l.jsx(we.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:pe(i.onPointerMove,()=>{r.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{d()})})}),ZY="SelectSeparator",gO=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return l.jsx(we.div,{"aria-hidden":!0,...s,ref:e})});gO.displayName=ZY;var sx="SelectArrow",YY=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=_v(n),r=oo(sx,n),o=lo(sx,n);return r.open&&o.position==="popper"?l.jsx(ub,{...i,...s,ref:e}):null});YY.displayName=sx;var QY="SelectBubbleInput",vO=b.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const i=b.useRef(null),r=$e(s,i),o=Iw(e);return b.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&p){const g=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(g)}},[o,e]),l.jsx(we.select,{...n,style:{...G2,...n.style},ref:r,defaultValue:e})});vO.displayName=QY;function yO(t){return t===""||t===void 0}function _O(t){const e=di(t),n=b.useRef(""),s=b.useRef(0),i=b.useCallback(o=>{const c=n.current+o;e(c),function d(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),r=b.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,r]}function xO(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,r=n?t.indexOf(n):-1;let o=XY(t,Math.max(r,0));i.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function XY(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var JY=KM,bO=ZM,eQ=QM,tQ=XM,nQ=JM,wO=eO,sQ=iO,SO=oO,EO=cO,iQ=uO,rQ=hO,TO=fO,AO=mO,NO=gO;const aQ=JY,oQ=eQ,CO=b.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(bO,{ref:s,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(tQ,{asChild:!0,children:l.jsx(Jp,{className:"h-4 w-4 opacity-50"})})]}));CO.displayName=bO.displayName;const RO=b.forwardRef(({className:t,...e},n)=>l.jsx(TO,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(RG,{className:"h-4 w-4"})}));RO.displayName=TO.displayName;const jO=b.forwardRef(({className:t,...e},n)=>l.jsx(AO,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Jp,{className:"h-4 w-4"})}));jO.displayName=AO.displayName;const PO=b.forwardRef(({className:t,children:e,position:n="popper",...s},i)=>l.jsx(nQ,{children:l.jsxs(wO,{ref:i,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[l.jsx(RO,{}),l.jsx(sQ,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(jO,{})]})}));PO.displayName=wO.displayName;const lQ=b.forwardRef(({className:t,...e},n)=>l.jsx(SO,{ref:n,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));lQ.displayName=SO.displayName;const Sd=b.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(EO,{ref:s,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(rQ,{children:l.jsx(ak,{className:"h-4 w-4"})})}),l.jsx(iQ,{children:e})]}));Sd.displayName=EO.displayName;const cQ=b.forwardRef(({className:t,...e},n)=>l.jsx(NO,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",t),...e}));cQ.displayName=NO.displayName;const uQ=()=>{const{currentUser:t,userProfile:e}=Su(),[n,s]=b.useState([]),[i,r]=b.useState(null),[o,c]=b.useState(!1),[d,h]=b.useState(!1),[p,g]=b.useState(!1),[v,y]=b.useState(!1),[C,S]=b.useState(null),[R,E]=b.useState({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:null}),[T,N]=b.useState([]),[O,H]=b.useState([]);b.useEffect(()=>{G()},[]),b.useEffect(()=>{i&&j()},[i]);const G=async()=>{try{const B=await $_();r(B),E($=>({...$,selectedLocation:B})),it.success(`Location detected: ${B.district}, ${B.state}`)}catch(B){console.error("Error getting location:",B);const $={coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"};r($),E(X=>({...X,selectedLocation:$}))}},j=async()=>{if(i){c(!0);try{const B=await Qk(i.coords.lat,i.coords.lng,100);s(B)}catch(B){console.error("Error loading reports:",B),it.error("Failed to load nearby reports")}finally{c(!1)}}},P=B=>{const $=Array.from(B.target.files||[]);if($.length!==0){if(T.length+$.length>5){it.error("Maximum 5 images allowed");return}N(X=>[...X,...$]),$.forEach(X=>{const le=URL.createObjectURL(X);H(q=>[...q,le])})}},U=B=>{N($=>$.filter((X,le)=>le!==B)),H($=>{const X=$[B];return URL.revokeObjectURL(X),$.filter((le,q)=>q!==B)})},k=async B=>{if(!(B.length<3))try{const $=await OZ(B);$.length>0&&E(X=>({...X,selectedLocation:$[0]}))}catch($){console.error("Location search error:",$)}},M=async()=>{try{const B=await $_();E($=>({...$,selectedLocation:B,locationSearch:B.address})),it.success("Current location selected")}catch{it.error("Failed to get current location")}},D=async()=>{if(!t||!e){it.error("Please sign in to submit reports");return}if(!R.title.trim()||!R.description.trim()){it.error("Please fill in all required fields");return}if(!R.selectedLocation){it.error("Please select a location");return}h(!0);try{const B=[];for(const le of T){const q=await RZ(le,"images");q&&B.push(q)}const $={user_id:t.uid,user_name:e.displayName,user_email:e.email,title:R.title,description:R.description,severity:R.severity,location:{lat:R.selectedLocation.coords.lat,lng:R.selectedLocation.coords.lng,address:R.selectedLocation.address,state:R.selectedLocation.state,district:R.selectedLocation.district},images:B,status:"pending"},X=await jZ($);X?(it.success("Report submitted successfully!"),s(le=>[X,...le]),E({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:i}),N([]),H([]),g(!1)):it.error("Failed to submit report")}catch(B){console.error("Submit error:",B),it.error("Failed to submit report")}finally{h(!1)}},z=B=>{switch(B){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-blue-600 bg-blue-100"}},ne=B=>{switch(B){case"verified":return"text-green-600 bg-green-100";case"resolved":return"text-blue-600 bg-blue-100";case"false_alarm":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},fe=B=>{const $=new Date(B),le=Math.floor((new Date().getTime()-$.getTime())/(1e3*60));return le<1?"Just now":le<60?`${le} minutes ago`:le<1440?`${Math.floor(le/60)} hours ago`:`${Math.floor(le/1440)} days ago`},K=B=>{S(B),y(!0)},ee=(B,$)=>{const X=`https://www.google.com/maps?q=${B},${$}`;window.open(X,"_blank")};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Community Flood Reports"}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Real-time flood monitoring powered by community reports and location-based intelligence"}),i&&l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsxs("span",{children:["Your location: ",i.district,", ",i.state]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(Km,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Total Reports"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:n.length})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(on,{className:"w-6 h-6 text-red-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Critical"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:n.filter(B=>B.severity==="critical").length})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(no,{className:"w-6 h-6 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Verified"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:n.filter(B=>B.status==="verified").length})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(ui,{className:"w-6 h-6 text-purple-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Contributors"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:new Set(n.map(B=>B.user_id)).size})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs(EA,{open:p,onOpenChange:g,children:[l.jsx(jY,{asChild:!0,children:l.jsxs(he,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4",children:[l.jsx(FG,{className:"w-5 h-5 mr-2"}),"Submit Flood Report"]})}),l.jsxs(Z_,{className:"max-w-2xl",children:[l.jsxs(Y_,{children:[l.jsx(Q_,{children:"Submit Flood Report"}),l.jsx(X_,{children:"Help your community by reporting flood conditions in your area"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"title",children:"Report Title *"}),l.jsx(xr,{id:"title",placeholder:"Brief description of the situation",value:R.title,onChange:B=>E($=>({...$,title:B.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{htmlFor:"description",children:"Detailed Description *"}),l.jsx(TM,{id:"description",placeholder:"Provide detailed information about the flood situation, water levels, affected areas, etc.",rows:4,value:R.description,onChange:B=>E($=>({...$,description:B.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{children:"Severity Level"}),l.jsxs(aQ,{value:R.severity,onValueChange:B=>E($=>({...$,severity:B})),children:[l.jsx(CO,{children:l.jsx(oQ,{})}),l.jsxs(PO,{children:[l.jsx(Sd,{value:"low",children:"Low - Minor water accumulation"}),l.jsx(Sd,{value:"medium",children:"Medium - Noticeable flooding"}),l.jsx(Sd,{value:"high",children:"High - Significant flooding"}),l.jsx(Sd,{value:"critical",children:"Critical - Dangerous conditions"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{children:"Location"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(xr,{placeholder:"Search for location or use current location",value:R.locationSearch,onChange:B=>{E($=>({...$,locationSearch:B.target.value})),k(B.target.value)},className:"flex-1"}),l.jsxs(he,{type:"button",variant:"outline",onClick:M,className:"flex items-center space-x-1",children:[l.jsx(Th,{className:"w-4 h-4"}),l.jsx("span",{children:"Use Current"})]})]}),R.selectedLocation&&l.jsxs("div",{className:"text-sm text-slate-600 flex items-center space-x-1",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("span",{children:R.selectedLocation.address})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Tn,{children:"Images (Optional)"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:P,className:"hidden",id:"image-upload"}),l.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[l.jsx(ZG,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-gray-600",children:"Click to upload images or drag and drop"}),l.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB each (max 5 images)"})]})]}),O.length>0&&l.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:O.map((B,$)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:B,alt:`Preview ${$+1}`,className:"w-full h-24 object-cover rounded-lg"}),l.jsx(he,{type:"button",variant:"destructive",size:"sm",onClick:()=>U($),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",children:l.jsx(ov,{className:"w-3 h-3"})})]},$))})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(he,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),l.jsx(he,{onClick:D,disabled:d,className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Mr,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(qG,{className:"w-4 h-4 mr-2"}),"Submit Report"]})})]})]})]})]})}),l.jsx(EA,{open:v,onOpenChange:y,children:l.jsx(Z_,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:C&&l.jsxs(l.Fragment,{children:[l.jsxs(Y_,{children:[l.jsxs(Q_,{className:"flex items-center space-x-2",children:[l.jsx("span",{children:C.title}),l.jsx(Ye,{className:z(C.severity),children:C.severity.toUpperCase()}),l.jsx(Ye,{className:ne(C.status),children:C.status.replace("_"," ").toUpperCase()})]}),l.jsxs(X_,{children:["Report submitted by ",C.user_name,"  ",fe(C.created_at||new Date().toISOString())]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[l.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Location Details"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-700 font-medium",children:"Address:"}),l.jsx("p",{className:"text-blue-800",children:C.location.address})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-700 font-medium",children:"District, State:"}),l.jsxs("p",{className:"text-blue-800",children:[C.location.district,", ",C.location.state]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-700 font-medium",children:"Coordinates:"}),l.jsxs("p",{className:"text-blue-800",children:[C.location.lat.toFixed(6),", ",C.location.lng.toFixed(6)]})]}),l.jsx("div",{children:l.jsxs(he,{size:"sm",variant:"outline",onClick:()=>ee(C.location.lat,C.location.lng),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[l.jsx(Th,{className:"w-4 h-4 mr-1"}),"Open in Maps"]})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Report Description"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsx("p",{className:"text-slate-700 leading-relaxed",children:C.description})})]}),C.images&&C.images.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center",children:[l.jsx(LG,{className:"w-4 h-4 mr-2"}),"Images (",C.images.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.images.map((B,$)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:B,alt:`Report image ${$+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer transition-transform group-hover:scale-105",onClick:()=>window.open(B,"_blank")}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity rounded-lg flex items-center justify-center",children:l.jsx(Zr,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},$))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Severity Level"}),l.jsx(Ye,{className:z(C.severity),children:C.severity.toUpperCase()}),l.jsx("p",{className:"text-xs text-slate-600 mt-1",children:C.severity==="critical"?"Immediate action required":C.severity==="high"?"High priority response needed":C.severity==="medium"?"Moderate attention required":"Low priority monitoring"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Report Status"}),l.jsx(Ye,{className:ne(C.status),children:C.status.replace("_"," ").toUpperCase()}),l.jsx("p",{className:"text-xs text-slate-600 mt-1",children:C.status==="verified"?"Verified by authorities":C.status==="resolved"?"Situation resolved":C.status==="false_alarm"?"Marked as false alarm":"Awaiting verification"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Reporter"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:C.user_name.split(" ").map(B=>B[0]).join("").slice(0,2)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:C.user_name}),l.jsx("p",{className:"text-xs text-slate-600",children:C.user_email})]})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(he,{size:"sm",variant:"outline",onClick:()=>navigator.share&&navigator.share({title:C.title,text:C.description,url:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),it.success("Link copied to clipboard")}),children:[l.jsx(tA,{className:"w-4 h-4 mr-1"}),"Share Report"]}),l.jsxs(he,{size:"sm",variant:"outline",onClick:()=>ee(C.location.lat,C.location.lng),children:[l.jsx(Qn,{className:"w-4 h-4 mr-1"}),"View Location"]})]}),l.jsx(he,{onClick:()=>y(!1),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:"Close"})]})]})]})})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Recent Reports"}),o?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Mr,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Loading reports..."})]}):n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Km,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-slate-600",children:"No reports in your area yet. Be the first to report!"})]}):l.jsx("div",{className:"space-y-4",children:n.map(B=>l.jsxs(Or,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(Dr,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Lr,{className:"text-lg text-slate-900 mb-2",children:B.title}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ui,{className:"w-4 h-4"}),l.jsx("span",{children:B.user_name})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsxs("span",{children:[B.location.district,", ",B.location.state]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(iu,{className:"w-4 h-4"}),l.jsx("span",{children:fe(B.created_at||new Date().toISOString())})]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ye,{className:z(B.severity),children:B.severity.toUpperCase()}),l.jsx(Ye,{className:ne(B.status),children:B.status.replace("_"," ").toUpperCase()})]})]})}),l.jsxs(Vr,{children:[l.jsx("p",{className:"text-slate-700 mb-4",children:B.description}),B.images&&B.images.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:B.images.map(($,X)=>l.jsx("img",{src:$,alt:`Report image ${X+1}`,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open($,"_blank")},X))}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs(he,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[l.jsx(j_,{className:"w-4 h-4 mr-1"}),"Helpful"]}),l.jsxs(he,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[l.jsx(Km,{className:"w-4 h-4 mr-1"}),"Comment"]}),l.jsxs(he,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[l.jsx(tA,{className:"w-4 h-4 mr-1"}),"Share"]})]}),l.jsxs(he,{variant:"outline",size:"sm",onClick:()=>K(B),children:[l.jsx(Zr,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]},B.id))})]})]})},dQ=()=>{const[t,e]=b.useState([]),[n,s]=b.useState([]),[i,r]=b.useState("idle"),[o,c]=b.useState(null),[d,h]=b.useState(0),[p,g]=b.useState(null),[v,y]=b.useState("en"),[C,S]=b.useState(null),[R,E]=b.useState("punjab"),T=b.useRef(null);b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(D=>{S({lat:D.coords.latitude,lon:D.coords.longitude})},()=>{S({lat:30.7333,lon:76.7794})})},[]);const N=[{value:"punjab",label:"Punjab",hindi:""},{value:"haryana",label:"Haryana",hindi:""},{value:"himachal_pradesh",label:"Himachal Pradesh",hindi:" "},{value:"uttar_pradesh",label:"Uttar Pradesh",hindi:" "},{value:"rajasthan",label:"Rajasthan",hindi:""}],O=D=>{const z=Array.from(D.target.files||[]);if(z.length){const ne=[...t,...z];e(ne);const fe=z.map(K=>URL.createObjectURL(K));s([...n,...fe]),r("idle"),g(null),h(0)}},H=()=>{T.current?.click()},G=async()=>{if(t.length!==0){r("analyzing"),c(null),h(0);try{h(20);const D=URL.createObjectURL(t[0]);h(50),await new Promise(ne=>setTimeout(ne,1e3)),h(70);const z="https://xview2-damage-detection-xxxxx-uc.a.run.app";try{const ne=await fetch(`${z}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_url:D,state:R,latitude:C?.lat,longitude:C?.lon,user_id:"current_user"})});if(!ne.ok)throw new Error("xView2 API not available, using mock data");const fe=await ne.json();h(90),await new Promise(K=>setTimeout(K,1e3)),g(fe),r("complete"),h(100)}catch(ne){console.warn("xView2 API not available, using mock data:",ne),h(90);const fe=j(R);h(95),await new Promise(K=>setTimeout(K,1e3)),g(fe),r("complete"),h(100)}}catch(D){console.error("Analysis failed:",D),c(D instanceof Error?D.message:"Analysis failed"),r("error")}}},j=D=>{const z=["No Damage","Minor Damage","Major Damage","Destroyed"],ne=["  "," "," ","  "],fe=Math.floor(Math.random()*z.length),K=z[fe],ee=ne[fe],B=.7+Math.random()*.3,$={"No Damage":{min:0,max:0,display:"0"},"Minor Damage":{min:2e4,max:5e4,display:"20K - 50K"},"Major Damage":{min:1e5,max:3e5,display:"1L - 3L"},Destroyed:{min:5e5,max:2e6,display:"5L+"}},X={"No Damage":"N/A","Minor Damage":"Category C","Major Damage":"Category B",Destroyed:"Category A"},le={punjab:{"Category A":"4L","Category B":"2L","Category C":"50K"},haryana:{"Category A":"3.5L","Category B":"1.8L","Category C":"45K"},himachal_pradesh:{"Category A":"4.5L","Category B":"2.2L","Category C":"55K"},default:{"Category A":"4L","Category B":"2L","Category C":"50K"}},q={"No Damage":"#10B981","Minor Damage":"#F59E0B","Major Damage":"#EF4444",Destroyed:"#7C2D12"},ce={"No Damage":"Structure is intact with no visible damage","Minor Damage":"Minor structural damage, repairable","Major Damage":"Significant structural damage, requires major repairs",Destroyed:"Structure is completely destroyed or severely damaged"},ae={"No Damage":"  ,      ","Minor Damage":"  ,  ","Major Damage":"  ,    ",Destroyed:"        "},de=$[K],me=X[K],ie=le[D]?.[me]||le.default[me];return{damage_level:K,hindi_damage_level:ee,confidence:Math.round(B*100)/100,estimated_cost_display:de.display,ndma_category:me,relief_amount_display:ie,color:q[K],description:ce[K],hindi_description:ae[K],recommendations:{immediate_actions:[K==="No Damage"?"Document current condition with photos":"Contact emergency services immediately","Keep emergency contacts ready",K!=="No Damage"?"Document all damage with detailed photos":"Monitor for any delayed damage signs"],relief_application:{required:K!=="No Damage",category:me,amount:ie,form:K==="No Damage"?"N/A":`SDRF Form 1${me==="Category A"?"A":"B"}`,deadline:K==="No Damage"?"N/A":K==="Destroyed"?"Within 7 days":K==="Major Damage"?"Within 15 days":"Within 30 days"},documentation_required:K==="No Damage"?[]:["Property ownership documents","Aadhaar card copy","Bank account details","Recent property photos"],timeline:K==="No Damage"?"No immediate action required":K==="Destroyed"?"Apply within 7 days, processing takes 5-15 days":K==="Major Damage"?"Apply within 15 days, processing takes 10-20 days":"Apply within 30 days, processing takes 15-30 days"},emergency_contacts:{disaster_control:"+91-172-2740000",relief_commissioner:"+91-172-2740001",district_collector:"+91-172-2740002"},state:D.charAt(0).toUpperCase()+D.slice(1).replace("_"," ")}},P=()=>{e([]),s([]),r("idle"),g(null),h(0),c(null),T.current&&(T.current.value="")},U=D=>{const z=t.filter((fe,K)=>K!==D),ne=n.filter((fe,K)=>K!==D);e(z),s(ne)},k=D=>{switch(D){case"Destroyed":return"bg-red-600 text-white";case"Major Damage":return"bg-orange-500 text-white";case"Minor Damage":return"bg-yellow-400 text-slate-900";case"No Damage":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},M=D=>({en:{title:"AI-Powered Flood Damage Assessment",subtitle:"Upload images to get instant damage analysis with NDMA relief recommendations",uploadText:"Drop images here or click to browse",uploadSubtext:"Upload PNG, JPG, or HEIC files for damage assessment",analyzeButton:"Run AI Analysis",clearButton:"Clear All",damageLevel:"Damage Level",confidence:"Confidence",estimatedCost:"Estimated Cost",ndmaCategory:"NDMA Category",reliefAmount:"Relief Amount",immediateActions:"Immediate Actions",reliefApplication:"Relief Application",documentationRequired:"Documentation Required",emergencyContacts:"Emergency Contacts",recommendations:"Recommendations",analysisReport:"AI Analysis Report",selectState:"Select State",language:"Language"},hi:{title:"AI-   ",subtitle:"NDMA            ",uploadText:"         ",uploadSubtext:"    PNG, JPG,  HEIC   ",analyzeButton:"AI  ",clearButton:"  ",damageLevel:" ",confidence:"",estimatedCost:" ",ndmaCategory:"NDMA ",reliefAmount:" ",immediateActions:" ",reliefApplication:" ",documentationRequired:" ",emergencyContacts:" ",recommendations:"",analysisReport:"AI  ",selectState:" ",language:""}})[v][D]||D;return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:M("title")}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:M("subtitle")}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Sw,{className:"w-4 h-4"}),l.jsxs("select",{value:v,onChange:D=>y(D.target.value),className:"px-3 py-1 border rounded-md text-sm",children:[l.jsx("option",{value:"en",children:"English"}),l.jsx("option",{value:"hi",children:""})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("select",{value:R,onChange:D=>E(D.target.value),className:"px-3 py-1 border rounded-md text-sm",children:N.map(D=>l.jsx("option",{value:D.value,children:v==="hi"?D.hindi:D.label},D.value))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:H,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[l.jsx(av,{className:"mx-auto h-12 w-12 text-slate-400"}),l.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:M("uploadText")}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:M("uploadSubtext")}),l.jsx("input",{ref:T,type:"file",multiple:!0,className:"sr-only",onChange:O,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),n.length>0&&l.jsxs(Or,{children:[l.jsx(Dr,{children:l.jsxs(Lr,{className:"flex items-center",children:[l.jsx(R_,{className:"w-5 h-5 mr-2"}),M("analysisReport")]})}),l.jsxs(Vr,{children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map((D,z)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:D,alt:`Preview ${z}`,className:"rounded-lg object-cover w-full h-32"}),l.jsx("button",{onClick:()=>U(z),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(ov,{className:"w-3 h-3"})})]},z))}),i==="idle"&&l.jsxs(he,{onClick:G,className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[l.jsx(lk,{className:"w-4 h-4 mr-2"}),M("analyzeButton")," (",t.length," ",v==="hi"?"":"images",")"]}),l.jsx(he,{onClick:P,variant:"outline",className:"w-full mt-2",children:M("clearButton")})]})]})]}),l.jsxs(Or,{className:"h-full sticky top-8",children:[l.jsx(Dr,{children:l.jsxs(Lr,{className:"flex items-center",children:[l.jsx(R_,{className:"w-5 h-5 mr-3"}),M("analysisReport")]})}),l.jsx(Vr,{children:i==="complete"&&p?l.jsxs("div",{className:"space-y-6 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{children:v==="hi"?" ":"Analysis Complete"}),l.jsx("span",{children:"100%"})]}),l.jsx(Fa,{value:100,className:"h-2"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-semibold text-slate-700",children:M("damageLevel")}),l.jsx(Ye,{className:k(p.damage_level),children:v==="hi"?p.hindi_damage_level:p.damage_level})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("confidence")}),l.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[Math.round(p.confidence*100),"%"]})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("estimatedCost")}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:p.estimated_cost_display})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("ndmaCategory")}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:p.ndma_category})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("reliefAmount")}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:p.relief_amount_display})]})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600 mb-1",children:v==="hi"?"":"Description"}),l.jsx("p",{className:"text-slate-800",children:v==="hi"?p.hindi_description:p.description})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(ok,{className:"w-4 h-4 mr-2 text-red-600"}),M("immediateActions")]}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-700",children:p.recommendations.immediate_actions.map((D,z)=>l.jsx("li",{children:D},z))})]}),p.recommendations.relief_application.required&&l.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[l.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:M("reliefApplication")}),l.jsxs("div",{className:"space-y-2 text-blue-700",children:[l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?":":"Category:"})," ",p.recommendations.relief_application.category]}),l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?":":"Amount:"})," ",p.recommendations.relief_application.amount]}),l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?":":"Form:"})," ",p.recommendations.relief_application.form]}),l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?" :":"Deadline:"})," ",p.recommendations.relief_application.deadline]})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(Bs,{className:"w-4 h-4 mr-2 text-red-600"}),M("emergencyContacts")]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(he,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${p.emergency_contacts.disaster_control}`,"_self"),children:[l.jsx(Bs,{className:"w-3 h-3 mr-2"}),v==="hi"?" :":"Disaster Control:"," ",p.emergency_contacts.disaster_control]}),l.jsxs(he,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${p.emergency_contacts.relief_commissioner}`,"_self"),children:[l.jsx(Bs,{className:"w-3 h-3 mr-2"}),v==="hi"?" :":"Relief Commissioner:"," ",p.emergency_contacts.relief_commissioner]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(he,{size:"sm",className:"flex-1",onClick:()=>window.open(`https://www.google.com/maps?q=${C?.lat},${C?.lon}`,"_blank"),children:[l.jsx(C_,{className:"w-3 h-3 mr-1"}),v==="hi"?"Google Maps  ":"Open in Google Maps"]}),l.jsx(he,{size:"sm",variant:"outline",onClick:()=>{const D={damageLevel:p.damage_level,confidence:p.confidence,estimatedCost:p.estimated_cost_display,ndmaCategory:p.ndma_category,reliefAmount:p.relief_amount_display,state:p.state,timestamp:new Date().toISOString()},z=new Blob([JSON.stringify(D,null,2)],{type:"application/json"}),ne=URL.createObjectURL(z),fe=document.createElement("a");fe.href=ne,fe.download=`damage-report-${Date.now()}.json`,fe.click()},children:l.jsx(bw,{className:"w-3 h-3"})})]})]}):i==="analyzing"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[l.jsx(Mr,{className:"w-8 h-8 mb-2 animate-spin"}),l.jsxs("p",{children:[d,"% - ",v==="hi"?"     ...":"Analyzing image..."]}),l.jsx(Fa,{value:d,className:"w-full mt-4"})]}):i==="error"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[l.jsx(on,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:v==="hi"?"    ":"An error occurred during analysis."}),l.jsx("p",{className:"text-xs mt-2 text-red-400",children:o})]}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[l.jsx(Zr,{className:"w-10 h-10 mb-4 text-slate-400"}),l.jsx("p",{className:"font-semibold",children:v==="hi"?"AI-   ":"AI-Powered Insights Await"}),l.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:v==="hi"?"                   ":"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})]})},hQ=()=>l.jsx("div",{className:"space-y-8",children:l.jsx(dQ,{})});function IO(t,e){const n=b.useRef(e);b.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const fQ=1;function mQ(t){return Object.freeze({__version:fQ,map:t})}function kO(t,e){return Object.freeze({...t,...e})}const zw=b.createContext(null);function xv(){const t=b.use(zw);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function MO(t){function e(n,s){const{instance:i,context:r}=t(n).current;b.useImperativeHandle(s,()=>i);const{children:o}=n;return o==null?null:oe.createElement(zw,{value:r},o)}return b.forwardRef(e)}function pQ(t){function e(n,s){const[i,r]=b.useState(!1),{instance:o}=t(n,r).current;b.useImperativeHandle(s,()=>o),b.useEffect(function(){i&&o.update()},[o,i,n.children]);const c=o._contentNode;return c?au.createPortal(n.children,c):null}return b.forwardRef(e)}function gQ(t){function e(n,s){const{instance:i}=t(n).current;return b.useImperativeHandle(s,()=>i),null}return b.forwardRef(e)}function Bw(t,e){const n=b.useRef(void 0);b.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function bv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function vQ(t,e){return function(s,i){const r=xv(),o=t(bv(s,r),r);return IO(r.map,s.attribution),Bw(o.current,s.eventHandlers),e(o.current,r,s,i),o}}var ix={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,s){s(e)})(ys,function(n){var s="1.9.4";function i(a){var u,m,_,w;for(m=1,_=arguments.length;m<_;m++){w=arguments[m];for(u in w)a[u]=w[u]}return a}var r=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function o(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var _=m.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(m.call(arguments)):arguments)}}var c=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function h(a,u,m){var _,w,I,F;return F=function(){_=!1,w&&(I.apply(m,w),w=!1)},I=function(){_?w=arguments:(a.apply(m,arguments),setTimeout(F,u),_=!0)},I}function p(a,u,m){var _=u[1],w=u[0],I=_-w;return a===_&&m?a:((a-w)%I+I)%I+w}function g(){return!1}function v(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function C(a){return y(a).split(/\s+/)}function S(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?r(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function R(a,u,m){var _=[];for(var w in a)_.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function T(a,u){return a.replace(E,function(m,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(u)),w})}var N=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function O(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var j=0;function P(a){var u=+new Date,m=Math.max(0,16-(u-j));return j=u+m,window.setTimeout(a,m)}var U=window.requestAnimationFrame||G("RequestAnimationFrame")||P,k=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function M(a,u,m){if(m&&U===P)a.call(u);else return U.call(window,o(a,u))}function D(a){a&&k.call(window,a)}var z={__proto__:null,extend:i,create:r,bind:o,get lastId(){return c},stamp:d,throttle:h,wrapNum:p,falseFn:g,formatNum:v,trim:y,splitWords:C,setOptions:S,getParamString:R,template:T,isArray:N,indexOf:O,emptyImageUrl:H,requestFn:U,cancelFn:k,requestAnimFrame:M,cancelAnimFrame:D};function ne(){}ne.extend=function(a){var u=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,_=r(m);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return a.statics&&i(u,a.statics),a.includes&&(fe(a.includes),i.apply(null,[_].concat(a.includes))),i(_,a),delete _.statics,delete _.includes,_.options&&(_.options=m.options?r(m.options):{},i(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,F=_._initHooks.length;I<F;I++)_._initHooks[I].call(this)}},u},ne.include=function(a){var u=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},ne.mergeOptions=function(a){return i(this.prototype.options,a),this},ne.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function fe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=N(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=C(a);for(var w=0,I=a.length;w<I;w++)this._on(a[w],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=C(a);for(var w=arguments.length===1,I=0,F=a.length;I<F;I++)w?this._off(a[I]):this._off(a[I],u,m)}return this},_on:function(a,u,m,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var w={fn:u,ctx:m};_&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,u,m){var _,w,I;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,I=_.length;w<I;w++)_[w].fn=g;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var F=this._listens(a,u,m);if(F!==!1){var Z=_[F];this._firingCount&&(Z.fn=g,this._events[a]=_=_.slice()),_.splice(F,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var _=i({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var I=0,F=w.length;I<F;I++){var Z=w[I],Q=Z.fn;Z.once&&this.off(a,Q,Z.ctx),Q.call(Z.ctx||this,_)}this._firingCount--}}return m&&this._propagateEvent(_),this},listens:function(a,u,m,_){typeof a!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,m=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,w,m)!==!1)return!0;if(_){for(var F in this._eventParents)if(this._eventParents[F].listens(a,u,m,_))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;m===this&&(m=void 0);for(var w=0,I=_.length;w<I;w++)if(_[w].fn===u&&_[w].ctx===m)return w;return!1},once:function(a,u,m){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=C(a);for(var w=0,I=a.length;w<I;w++)this._on(a[w],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var ee=ne.extend(K);function B(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var $=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(a){return this.clone()._add(X(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(X(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new B(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new B(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(a){a=X(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=X(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=X(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function X(a,u,m){return a instanceof B?a:N(a)?new B(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new B(a.x,a.y):new B(a,u,m)}function le(a,u){if(a)for(var m=u?[a,u]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}le.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof B||typeof a[0]=="number"||"x"in a)u=m=X(a);else if(a=q(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof B?a=X(a):a=q(a),a instanceof le?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=q(a);var u=this.min,m=this.max,_=a.min,w=a.max,I=w.x>=u.x&&_.x<=m.x,F=w.y>=u.y&&_.y<=m.y;return I&&F},overlaps:function(a){a=q(a);var u=this.min,m=this.max,_=a.min,w=a.max,I=w.x>u.x&&_.x<m.x,F=w.y>u.y&&_.y<m.y;return I&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,_=Math.abs(u.x-m.x)*a,w=Math.abs(u.y-m.y)*a;return q(X(u.x-_,u.y-w),X(m.x+_,m.y+w))},equals:function(a){return a?(a=q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function q(a,u){return!a||a instanceof le?a:new le(a,u)}function ce(a,u){if(a)for(var m=u?[a,u]:a,_=0,w=m.length;_<w;_++)this.extend(m[_])}ce.prototype={extend:function(a){var u=this._southWest,m=this._northEast,_,w;if(a instanceof de)_=a,w=a;else if(a instanceof ce){if(_=a._southWest,w=a._northEast,!_||!w)return this}else return a?this.extend(me(a)||ae(a)):this;return!u&&!m?(this._southWest=new de(_.lat,_.lng),this._northEast=new de(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,_=Math.abs(u.lat-m.lat)*a,w=Math.abs(u.lng-m.lng)*a;return new ce(new de(u.lat-_,u.lng-w),new de(m.lat+_,m.lng+w))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof de||"lat"in a?a=me(a):a=ae(a);var u=this._southWest,m=this._northEast,_,w;return a instanceof ce?(_=a.getSouthWest(),w=a.getNorthEast()):_=w=a,_.lat>=u.lat&&w.lat<=m.lat&&_.lng>=u.lng&&w.lng<=m.lng},intersects:function(a){a=ae(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),I=w.lat>=u.lat&&_.lat<=m.lat,F=w.lng>=u.lng&&_.lng<=m.lng;return I&&F},overlaps:function(a){a=ae(a);var u=this._southWest,m=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),I=w.lat>u.lat&&_.lat<m.lat,F=w.lng>u.lng&&_.lng<m.lng;return I&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=ae(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(a,u){return a instanceof ce?a:new ce(a,u)}function de(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}de.prototype={equals:function(a,u){if(!a)return!1;a=me(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+v(this.lat,a)+", "+v(this.lng,a)+")"},distanceTo:function(a){return ke.distance(this,me(a))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return ae([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function me(a,u,m){return a instanceof de?a:N(a)&&typeof a[0]!="object"?a.length===3?new de(a[0],a[1],a[2]):a.length===2?new de(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new de(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new de(a,u,m)}var ie={latLngToPoint:function(a,u){var m=this.projection.project(a),_=this.scale(u);return this.transformation._transform(m,_)},pointToLatLng:function(a,u){var m=this.scale(u),_=this.transformation.untransform(a,m);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),_=this.transformation.transform(u.min,m),w=this.transformation.transform(u.max,m);return new le(_,w)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?p(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?p(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new de(m,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),_=u.lat-m.lat,w=u.lng-m.lng;if(_===0&&w===0)return a;var I=a.getSouthWest(),F=a.getNorthEast(),Z=new de(I.lat-_,I.lng-w),Q=new de(F.lat-_,F.lng-w);return new ce(Z,Q)}},ke=i({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,_=a.lat*m,w=u.lat*m,I=Math.sin((u.lat-a.lat)*m/2),F=Math.sin((u.lng-a.lng)*m/2),Z=I*I+Math.cos(_)*Math.cos(w)*F*F,Q=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*Q}}),gt=6378137,qe={R:gt,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,_=Math.max(Math.min(m,a.lat),-m),w=Math.sin(_*u);return new B(this.R*a.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var u=180/Math.PI;return new de((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=gt*Math.PI;return new le([-a,-a],[a,a])}()};function Ge(a,u,m,_){if(N(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=_}Ge.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new B((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function et(a,u,m,_){return new Ge(a,u,m,_)}var At=i({},ke,{code:"EPSG:3857",projection:qe,transformation:function(){var a=.5/(Math.PI*qe.R);return et(a,.5,-a,.5)}()}),Dn=i({},At,{code:"EPSG:900913"});function gi(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function es(a,u){var m="",_,w,I,F,Z,Q;for(_=0,I=a.length;_<I;_++){for(Z=a[_],w=0,F=Z.length;w<F;w++)Q=Z[w],m+=(w?"L":"M")+Q.x+" "+Q.y;m+=u?xe.svg?"z":"x":""}return m||"M0 0"}var ts=document.documentElement.style,Gs="ActiveXObject"in window,Ut=Gs&&!document.addEventListener,Mt="msLaunchUri"in navigator&&!("documentMode"in document),Ln=zn("webkit"),co=zn("android"),ns=zn("android 2")||zn("android 3"),Ru=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ji=co&&zn("Google")&&Ru<537&&!("AudioNode"in window),Kt=!!window.opera,bs=!Mt&&zn("chrome"),Jr=zn("gecko")&&!Ln&&!Kt&&!Gs,ju=!bs&&zn("safari"),er=zn("phantom"),uo="OTransition"in ts,ho=navigator.platform.indexOf("Win")===0,ws=Gs&&"transition"in ts,Vn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ns,tr="MozPerspective"in ts,_n=!window.L_DISABLE_3D&&(ws||Vn||tr)&&!uo&&!er,vi=typeof orientation<"u"||zn("mobile"),ea=vi&&Ln,fo=vi&&Vn,Ks=!window.PointerEvent&&window.MSPointerEvent,mo=!!(window.PointerEvent||Ks),jt="ontouchstart"in window||!!window.TouchEvent,ss=!window.L_NO_TOUCH&&(jt||mo),nr=vi&&Kt,Ee=vi&&Jr,tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ft=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return a}(),zt=function(){return!!document.createElement("canvas").getContext}(),dn=!!(document.createElementNS&&gi("svg").createSVGRect),Ss=!!dn&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Un=!dn&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),xn=navigator.platform.indexOf("Mac")===0,is=navigator.platform.indexOf("Linux")===0;function zn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var xe={ie:Gs,ielt9:Ut,edge:Mt,webkit:Ln,android:co,android23:ns,androidStock:Ji,opera:Kt,chrome:bs,gecko:Jr,safari:ju,phantom:er,opera12:uo,win:ho,ie3d:ws,webkit3d:Vn,gecko3d:tr,any3d:_n,mobile:vi,mobileWebkit:ea,mobileWebkit3d:fo,msPointer:Ks,pointer:mo,touch:ss,touchNative:jt,mobileOpera:nr,mobileGecko:Ee,retina:tt,passiveEvents:ft,canvas:zt,svg:dn,vml:Un,inlineSvg:Ss,mac:xn,linux:is},hf=xe.msPointer?"MSPointerDown":"pointerdown",Ws=xe.msPointer?"MSPointerMove":"pointermove",Pu=xe.msPointer?"MSPointerUp":"pointerup",Iu=xe.msPointer?"MSPointerCancel":"pointercancel",po={touchstart:hf,touchmove:Ws,touchend:Pu,touchcancel:Iu},xl={touchstart:ku,touchmove:Es,touchend:Es,touchcancel:Es},sr={},ff=!1;function mf(a,u,m){return u==="touchstart"&&go(),xl[u]?(m=xl[u].bind(this,m),a.addEventListener(po[u],m,!1),m):(console.warn("wrong event specified:",u),g)}function Ev(a,u,m){if(!po[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(po[u],m,!1)}function bl(a){sr[a.pointerId]=a}function pf(a){sr[a.pointerId]&&(sr[a.pointerId]=a)}function wl(a){delete sr[a.pointerId]}function go(){ff||(document.addEventListener(hf,bl,!0),document.addEventListener(Ws,pf,!0),document.addEventListener(Pu,wl,!0),document.addEventListener(Iu,wl,!0),ff=!0)}function Es(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in sr)u.touches.push(sr[m]);u.changedTouches=[u],a(u)}}function ku(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Bt(u),Es(a,u)}function Tv(a){var u={},m,_;for(_ in a)m=a[_],u[_]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var gf=200;function vf(a,u){a.addEventListener("dblclick",u);var m=0,_;function w(I){if(I.detail!==1){_=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var F=Vu(I);if(!(F.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!F.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var Z=Date.now();Z-m<=gf?(_++,_===2&&u(Tv(I))):_=1,m=Z}}}return a.addEventListener("click",w),{dblclick:u,simDblclick:w}}function yf(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var vo=Sl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ir=Sl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mu=ir==="webkitTransition"||ir==="OTransition"?ir+"End":"transitionend";function Ou(a){return typeof a=="string"?document.getElementById(a):a}function ta(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);m=_?_[u]:null}return m==="auto"?null:m}function Qe(a,u,m){var _=document.createElement(a);return _.className=u||"",m&&m.appendChild(_),_}function nt(a){var u=a.parentNode;u&&u.removeChild(a)}function Rn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ts(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function As(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function yo(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=yi(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function _e(a,u){if(a.classList!==void 0)for(var m=C(u),_=0,w=m.length;_<w;_++)a.classList.add(m[_]);else if(!yo(a,u)){var I=yi(a);rr(a,(I?I+" ":"")+u)}}function yt(a,u){a.classList!==void 0?a.classList.remove(u):rr(a,y((" "+yi(a)+" ").replace(" "+u+" "," ")))}function rr(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function yi(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Bn(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&_f(a,u)}function _f(a,u){var m=!1,_="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function Sl(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function ar(a,u,m){var _=u||new B(0,0);a.style[vo]=(xe.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(m?" scale("+m+")":"")}function Pt(a,u){a._leaflet_pos=u,xe.any3d?ar(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function or(a){return a._leaflet_pos||new B(0,0)}var Zs,rs,El;if("onselectstart"in document)Zs=function(){Re(window,"selectstart",Bt)},rs=function(){ut(window,"selectstart",Bt)};else{var na=Sl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zs=function(){if(na){var a=document.documentElement.style;El=a[na],a[na]="none"}},rs=function(){na&&(document.documentElement.style[na]=El,El=void 0)}}function Tl(){Re(window,"dragstart",Bt)}function Al(){ut(window,"dragstart",Bt)}var _o,_i;function Du(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Nl(),_o=a,_i=a.style.outlineStyle,a.style.outlineStyle="none",Re(window,"keydown",Nl))}function Nl(){_o&&(_o.style.outlineStyle=_i,_o=void 0,_i=void 0,ut(window,"keydown",Nl))}function xf(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ns(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Av={__proto__:null,TRANSFORM:vo,TRANSITION:ir,TRANSITION_END:Mu,get:Ou,getStyle:ta,create:Qe,remove:nt,empty:Rn,toFront:Ts,toBack:As,hasClass:yo,addClass:_e,removeClass:yt,setClass:rr,getClass:yi,setOpacity:Bn,testProp:Sl,setTransform:ar,setPosition:Pt,getPosition:or,get disableTextSelection(){return Zs},get enableTextSelection(){return rs},disableImageDrag:Tl,enableImageDrag:Al,preventOutline:Du,restoreOutline:Nl,getSizedParentNode:xf,getScale:Ns};function Re(a,u,m,_){if(u&&typeof u=="object")for(var w in u)Cl(a,w,u[w],m);else{u=C(u);for(var I=0,F=u.length;I<F;I++)Cl(a,u[I],m,_)}return this}var jn="_leaflet_events";function ut(a,u,m,_){if(arguments.length===1)sa(a),delete a[jn];else if(u&&typeof u=="object")for(var w in u)xo(a,w,u[w],m);else if(u=C(u),arguments.length===2)sa(a,function(Z){return O(u,Z)!==-1});else for(var I=0,F=u.length;I<F;I++)xo(a,u[I],m,_);return this}function sa(a,u){for(var m in a[jn]){var _=m.split(/\d/)[0];(!u||u(_))&&xo(a,_,null,null,m)}}var lr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Cl(a,u,m,_){var w=u+d(m)+(_?"_"+d(_):"");if(a[jn]&&a[jn][w])return this;var I=function(Z){return m.call(_||a,Z||window.event)},F=I;!xe.touchNative&&xe.pointer&&u.indexOf("touch")===0?I=mf(a,u,I):xe.touch&&u==="dblclick"?I=vf(a,I):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(lr[u]||u,I,xe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(I=function(Z){Z=Z||window.event,zu(a,Z)&&F(Z)},a.addEventListener(lr[u],I,!1)):a.addEventListener(u,F,!1):a.attachEvent("on"+u,I),a[jn]=a[jn]||{},a[jn][w]=I}function xo(a,u,m,_,w){w=w||u+d(m)+(_?"_"+d(_):"");var I=a[jn]&&a[jn][w];if(!I)return this;!xe.touchNative&&xe.pointer&&u.indexOf("touch")===0?Ev(a,u,I):xe.touch&&u==="dblclick"?yf(a,I):"removeEventListener"in a?a.removeEventListener(lr[u]||u,I,!1):a.detachEvent("on"+u,I),a[jn][w]=null}function ot(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Lu(a){return Cl(a,"wheel",ot),this}function bo(a){return Re(a,"mousedown touchstart dblclick contextmenu",ot),a._leaflet_disable_click=!0,this}function Bt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function xi(a){return Bt(a),ot(a),this}function Vu(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function wo(a,u){if(!u)return new B(a.clientX,a.clientY);var m=Ns(u),_=m.boundingClientRect;return new B((a.clientX-_.left)/m.x-u.clientLeft,(a.clientY-_.top)/m.y-u.clientTop)}var bi=xe.linux&&xe.chrome?window.devicePixelRatio:xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Uu(a){return xe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/bi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function zu(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var So={__proto__:null,on:Re,off:ut,stopPropagation:ot,disableScrollPropagation:Lu,disableClickPropagation:bo,preventDefault:Bt,stop:xi,getPropagationPath:Vu,getMousePosition:wo,getWheelDelta:Uu,isExternalTarget:zu,addListener:Re,removeListener:ut},Bu=ee.extend({run:function(a,u,m,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=or(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),Pt(this._el,m),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Ue=ee.extend({options:{crs:At,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=S(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(me(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ir&&xe.any3d&&!xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,Mu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(me(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),I=a instanceof B?a:this.latLngToContainerPoint(a),F=I.subtract(w).multiplyBy(1-1/_),Z=this.containerPointToLatLng(w.add(F));return this.setView(Z,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():ae(a);var m=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var I=_.subtract(m).divideBy(2),F=this.project(a.getSouthWest(),w),Z=this.project(a.getNorthEast(),w),Q=this.unproject(F.add(Z).divideBy(2).add(I),w);return{center:Q,zoom:w}},fitBounds:function(a,u){if(a=ae(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=X(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!xe.any3d)return this.setView(a,u,m);this._stop();var _=this.project(this.getCenter()),w=this.project(a),I=this.getSize(),F=this._zoom;a=me(a),u=u===void 0?F:u;var Z=Math.max(I.x,I.y),Q=Z*this.getZoomScale(F,u),se=w.distanceTo(_)||1,ge=1.42,Te=ge*ge;function ze(Ft){var Df=Ft?-1:1,pD=Ft?Q:Z,gD=Q*Q-Z*Z+Df*Te*Te*se*se,vD=2*pD*Te*se,Pv=gD/vD,c1=Math.sqrt(Pv*Pv+1)-Pv,yD=c1<1e-9?-18:Math.log(c1);return yD}function Pn(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function nn(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}function js(Ft){return Pn(Ft)/nn(Ft)}var Hn=ze(0);function Bl(Ft){return Z*(nn(Hn)/nn(Hn+ge*Ft))}function dD(Ft){return Z*(nn(Hn)*js(Hn+ge*Ft)-Pn(Hn))/Te}function hD(Ft){return 1-Math.pow(1-Ft,1.5)}var fD=Date.now(),o1=(ze(1)-Hn)/ge,mD=m.duration?1e3*m.duration:1e3*o1*.8;function l1(){var Ft=(Date.now()-fD)/mD,Df=hD(Ft)*o1;Ft<=1?(this._flyToFrame=M(l1,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(dD(Df)/se)),F),this.getScaleZoom(Z/Bl(Df),F),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),l1.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=ae(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),_=this._limitCenter(m,this._zoom,ae(a));return m.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),I=this.project(a),F=this.getPixelBounds(),Z=q([F.min.add(m),F.max.subtract(_)]),Q=Z.getSize();if(!Z.contains(I)){this._enforcingBounds=!0;var se=I.subtract(Z.getCenter()),ge=Z.extend(I).getSize().subtract(Q);w.x+=se.x<0?-ge.x:ge.x,w.y+=se.y<0?-ge.y:ge.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),_=u.divideBy(2).round(),w=m.divideBy(2).round(),I=_.subtract(w);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=o(this._handleGeolocationResponse,this),m=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,_=new de(u,m),w=_.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var F=this.getBoundsZoom(w);this.setView(_,I.maxZoom?Math.min(F,I.maxZoom):F)}var Z={latlng:_,bounds:w,timestamp:a.timestamp};for(var Q in a.coords)typeof a.coords[Q]=="number"&&(Z[Q]=a.coords[Q]);this.fire("locationfound",Z)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)nt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Qe("div",m,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new ce(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=ae(a),m=X(m||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),I=this.getMaxZoom(),F=a.getNorthWest(),Z=a.getSouthEast(),Q=this.getSize().subtract(m),se=q(this.project(Z,_),this.project(F,_)).getSize(),ge=xe.any3d?this.options.zoomSnap:1,Te=Q.x/se.x,ze=Q.y/se.y,Pn=u?Math.max(Te,ze):Math.min(Te,ze);return _=this.getScaleZoom(Pn,_),ge&&(_=Math.round(_/(ge/100))*(ge/100),_=u?Math.ceil(_/ge)*ge:Math.floor(_/ge)*ge),Math.max(w,Math.min(I,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new le(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var _=m.zoom(a*m.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(me(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(X(a),u)},layerPointToLatLng:function(a){var u=X(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(me(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(me(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ae(a))},distance:function(a,u){return this.options.crs.distance(me(a),me(u))},containerPointToLayerPoint:function(a){return X(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return X(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(X(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(a)))},mouseEventToContainerPoint:function(a){return wo(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Ou(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&xe.any3d,_e(a,"leaflet-container"+(xe.touch?" leaflet-touch":"")+(xe.retina?" leaflet-retina":"")+(xe.ielt9?" leaflet-oldie":"")+(xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ta(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(a.markerPane,"leaflet-zoom-hide"),_e(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){Pt(this._mapPane,new B(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,m)._move(a,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Pt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var u=a?ut:Re;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),xe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],_,w=u==="mouseout"||u==="mouseover",I=a.target||a.srcElement,F=!1;I;){if(_=this._targets[d(I)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){F=!0;break}if(_&&_.listens(u,!0)&&(w&&!zu(I,a)||(m.push(_),w))||I===this._container)break;I=I.parentNode}return!m.length&&!F&&!w&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&Du(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var _=i({},a);_.type="preclick",this._fireDOMEvent(_,_.type,m)}var w=this._findEventTargets(a,u);if(m){for(var I=[],F=0;F<m.length;F++)m[F].listens(u,!0)&&I.push(m[F]);w=I.concat(w)}if(w.length){u==="contextmenu"&&Bt(a);var Z=w[0],Q={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var se=Z.getLatLng&&(!Z._radius||Z._radius<=10);Q.containerPoint=se?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(a),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=se?Z.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(F=0;F<w.length;F++)if(w[F].fire(u,Q,!0),Q.originalEvent._stopped||w[F].options.bubblingMouseEvents===!1&&O(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return or(this._mapPane)||new B(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,m){var _=this._getNewPixelOrigin(m,u);return q([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var _=this.project(a,u),w=this.getSize().divideBy(2),I=new le(_.subtract(w),_.add(w)),F=this._getBoundsOffset(I,m,u);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?a:this.unproject(_.add(F),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),_=new le(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,m){var _=q(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),w=_.min.subtract(a.min),I=_.max.subtract(a.max),F=this._rebound(w.x,-I.x),Z=this._rebound(w.y,-I.y);return new B(F,Z)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),_=xe.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=Qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=vo,_=this._proxy.style[m];ar(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();ar(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(a)._divideBy(1-1/_);return m.animate!==!0&&!this.getSize().contains(w)?!1:(M(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,_){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rl(a,u){return new Ue(a,u)}var Fn=ne.extend({options:{position:"topright"},initialize:function(a){S(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),_=a._controlCorners[m];return _e(u,"leaflet-control"),m.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),wi=function(a){return new Fn(a)};Ue.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=Qe("div",u+"control-container",this._container);function _(w,I){var F=u+w+" "+u+I;a[w+I]=Qe("div",F,m)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)nt(this._controlCorners[a]);nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bf=Fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,_){return m<_?-1:_<m?1:0}},initialize:function(a,u,m){S(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Fn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Qe("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),bo(u),Lu(u);var _=this._section=Qe("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Re(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qe("a",a+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Re(w,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Bt(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Qe("div",a+"-base",_),this._separator=Qe("div",a+"-separator",_),this._overlaysList=Qe("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(o(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rn(this._baseLayersList),Rn(this._overlaysList),this._layerControlInputs=[];var a,u,m,_,w=0;for(m=0;m<this._layers.length;m++)_=this._layers[m],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(d(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=m,_.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=m):_=this._createRadioElement("leaflet-base-layers_"+d(this),m),this._layerControlInputs.push(_),_.layerId=d(a.layer),Re(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var I=document.createElement("span");u.appendChild(I),I.appendChild(_),I.appendChild(w);var F=a.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,_=[],w=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)u=a[I],m=this._getLayer(u.layerId).layer,u.checked?_.push(m):u.checked||w.push(m);for(I=0;I<w.length;I++)this._map.hasLayer(w[I])&&this._map.removeLayer(w[I]);for(I=0;I<_.length;I++)this._map.hasLayer(_[I])||this._map.addLayer(_[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,_=this._map.getZoom(),w=a.length-1;w>=0;w--)u=a[w],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&_<m.options.minZoom||m.options.maxZoom!==void 0&&_>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Re(a,"click",Bt),this.expand();var u=this;setTimeout(function(){ut(a,"click",Bt),u._preventClick=!1})}}),wf=function(a,u,m){return new bf(a,u,m)},cr=Fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=Qe("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,_,w){var I=Qe("a",m,_);return I.innerHTML=a,I.href="#",I.title=u,I.setAttribute("role","button"),I.setAttribute("aria-label",u),bo(I),Re(I,"click",xi),Re(I,"click",w,this),Re(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";yt(this._zoomInButton,u),yt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(_e(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(_e(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var Sf=function(a){return new cr(a)},Fu=Fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=Qe("div",u),_=this.options;return this._addScales(_,u+"-line",m),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=Qe("div",u,m)),a.imperial&&(this._iScale=Qe("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,_,w;u>5280?(m=u/5280,_=this._getRoundNum(m),this._updateScale(this._iScale,_+" mi",_/m)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),Hu=function(a){return new Fu(a)},$u='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',jl=Fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xe.inlineSvg?$u+" ":"")+"Leaflet</a>"},initialize:function(a){S(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Qe("div","leaflet-control-attribution"),bo(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new jl().addTo(this)});var Pl=function(a){return new jl(a)};Fn.Layers=bf,Fn.Zoom=cr,Fn.Scale=Fu,Fn.Attribution=jl,wi.layers=wf,wi.zoom=Sf,wi.scale=Hu,wi.attribution=Pl;var as=ne.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});as.addTo=function(a,u){return a.addHandler(u,this),this};var Ef={Events:K},Si=xe.touch?"touchstart mousedown":"mousedown",Ys=ee.extend({options:{clickTolerance:3},initialize:function(a,u,m,_){S(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Re(this._dragStartTarget,Si,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ys._dragging===this&&this.finishDrag(!0),ut(this._dragStartTarget,Si,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!yo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ys._dragging===this&&this.finishDrag();return}if(!(Ys._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ys._dragging=this,this._preventOutline&&Du(this._element),Tl(),Zs(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=xf(this._element);this._startPoint=new B(u.clientX,u.clientY),this._startPos=or(this._element),this._parentScale=Ns(m);var _=a.type==="mousedown";Re(document,_?"mousemove":"touchmove",this._onMove,this),Re(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new B(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Bt(a),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Pt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ut(document,"mousemove touchmove",this._onMove,this),ut(document,"mouseup touchend touchcancel",this._onUp,this),Al(),rs();var u=this._moved&&this._moving;this._moving=!1,Ys._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function qu(a,u,m){var _,w=[1,4,2,8],I,F,Z,Q,se,ge,Te,ze;for(I=0,ge=a.length;I<ge;I++)a[I]._code=Y(a[I],u);for(Z=0;Z<4;Z++){for(Te=w[Z],_=[],I=0,ge=a.length,F=ge-1;I<ge;F=I++)Q=a[I],se=a[F],Q._code&Te?se._code&Te||(ze=W(se,Q,Te,u,m),ze._code=Y(ze,u),_.push(ze)):(se._code&Te&&(ze=W(se,Q,Te,u,m),ze._code=Y(ze,u),_.push(ze)),_.push(Q));a=_}return a}function Gu(a,u){var m,_,w,I,F,Z,Q,se,ge;if(!a||a.length===0)throw new Error("latlngs not passed");st(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Te=me([0,0]),ze=ae(a),Pn=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());Pn<1700&&(Te=Il(a));var nn=a.length,js=[];for(m=0;m<nn;m++){var Hn=me(a[m]);js.push(u.project(me([Hn.lat-Te.lat,Hn.lng-Te.lng])))}for(Z=Q=se=0,m=0,_=nn-1;m<nn;_=m++)w=js[m],I=js[_],F=w.y*I.x-I.y*w.x,Q+=(w.x+I.x)*F,se+=(w.y+I.y)*F,Z+=F*3;Z===0?ge=js[0]:ge=[Q/Z,se/Z];var Bl=u.unproject(X(ge));return me([Bl.lat+Te.lat,Bl.lng+Te.lng])}function Il(a){for(var u=0,m=0,_=0,w=0;w<a.length;w++){var I=me(a[w]);u+=I.lat,m+=I.lng,_++}return me([u/_,m/_])}var kl={__proto__:null,clipPolygon:qu,polygonCenter:Gu,centroid:Il};function bn(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=x(a,m),a=ia(a,m),a}function Ku(a,u,m){return Math.sqrt(je(a,u,m,!0))}function Tf(a,u,m){return je(a,u,m)}function ia(a,u){var m=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(m);w[0]=w[m-1]=1,f(a,w,u,0,m-1);var I,F=[];for(I=0;I<m;I++)w[I]&&F.push(a[I]);return F}function f(a,u,m,_,w){var I=0,F,Z,Q;for(Z=_+1;Z<=w-1;Z++)Q=je(a[Z],a[_],a[w],!0),Q>I&&(F=Z,I=Q);I>m&&(u[F]=1,f(a,u,m,_,F),f(a,u,m,F,w))}function x(a,u){for(var m=[a[0]],_=1,w=0,I=a.length;_<I;_++)ue(a[_],a[w])>u&&(m.push(a[_]),w=_);return w<I-1&&m.push(a[I-1]),m}var A;function V(a,u,m,_,w){var I=_?A:Y(a,m),F=Y(u,m),Z,Q,se;for(A=F;;){if(!(I|F))return[a,u];if(I&F)return!1;Z=I||F,Q=W(a,u,Z,m,w),se=Y(Q,m),Z===I?(a=Q,I=se):(u=Q,F=se)}}function W(a,u,m,_,w){var I=u.x-a.x,F=u.y-a.y,Z=_.min,Q=_.max,se,ge;return m&8?(se=a.x+I*(Q.y-a.y)/F,ge=Q.y):m&4?(se=a.x+I*(Z.y-a.y)/F,ge=Z.y):m&2?(se=Q.x,ge=a.y+F*(Q.x-a.x)/I):m&1&&(se=Z.x,ge=a.y+F*(Z.x-a.x)/I),new B(se,ge,w)}function Y(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function ue(a,u){var m=u.x-a.x,_=u.y-a.y;return m*m+_*_}function je(a,u,m,_){var w=u.x,I=u.y,F=m.x-w,Z=m.y-I,Q=F*F+Z*Z,se;return Q>0&&(se=((a.x-w)*F+(a.y-I)*Z)/Q,se>1?(w=m.x,I=m.y):se>0&&(w+=F*se,I+=Z*se)),F=a.x-w,Z=a.y-I,_?F*F+Z*Z:new B(w,I)}function st(a){return!N(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function lt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),st(a)}function Ot(a,u){var m,_,w,I,F,Z,Q,se;if(!a||a.length===0)throw new Error("latlngs not passed");st(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ge=me([0,0]),Te=ae(a),ze=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());ze<1700&&(ge=Il(a));var Pn=a.length,nn=[];for(m=0;m<Pn;m++){var js=me(a[m]);nn.push(u.project(me([js.lat-ge.lat,js.lng-ge.lng])))}for(m=0,_=0;m<Pn-1;m++)_+=nn[m].distanceTo(nn[m+1])/2;if(_===0)se=nn[0];else for(m=0,I=0;m<Pn-1;m++)if(F=nn[m],Z=nn[m+1],w=F.distanceTo(Z),I+=w,I>_){Q=(I-_)/w,se=[Z.x-Q*(Z.x-F.x),Z.y-Q*(Z.y-F.y)];break}var Hn=u.unproject(X(se));return me([Hn.lat+ge.lat,Hn.lng+ge.lng])}var Cs={__proto__:null,simplify:bn,pointToSegmentDistance:Ku,closestPointOnSegment:Tf,clipSegment:V,_getEdgeIntersection:W,_getBitCode:Y,_sqClosestPointOnSegment:je,isFlat:st,_flat:lt,polylineCenter:Ot},Qs={project:function(a){return new B(a.lng,a.lat)},unproject:function(a){return new de(a.y,a.x)},bounds:new le([-180,-90],[180,90])},Rs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,_=a.lat*u,w=this.R_MINOR/m,I=Math.sqrt(1-w*w),F=I*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-F)/(1+F),I/2);return _=-m*Math.log(Math.max(Z,1e-10)),new B(a.lng*u*m,_)},unproject:function(a){for(var u=180/Math.PI,m=this.R,_=this.R_MINOR/m,w=Math.sqrt(1-_*_),I=Math.exp(-a.y/m),F=Math.PI/2-2*Math.atan(I),Z=0,Q=.1,se;Z<15&&Math.abs(Q)>1e-7;Z++)se=w*Math.sin(F),se=Math.pow((1-se)/(1+se),w/2),Q=Math.PI/2-2*Math.atan(I*se)-F,F+=Q;return new de(F*u,a.x*u/m)}},Ei={__proto__:null,LonLat:Qs,Mercator:Rs,SphericalMercator:qe},Ml=i({},ke,{code:"EPSG:3395",projection:Rs,transformation:function(){var a=.5/(Math.PI*Rs.R);return et(a,.5,-a,.5)}()}),Ol=i({},ke,{code:"EPSG:4326",projection:Qs,transformation:et(1/180,1,-1/180,.5)}),HO=i({},ie,{projection:Qs,transformation:et(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(m*m+_*_)},infinite:!0});ie.Earth=ke,ie.EPSG3395=Ml,ie.EPSG3857=At,ie.EPSG900913=Dn,ie.EPSG4326=Ol,ie.Simple=HO;var Xs=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=d(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?N(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=d(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Dl=Xs.extend({initialize:function(a,u){S(this,u),this._layers={};var m,_;if(a)for(m=0,_=a.length;m<_;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,_;for(m in this._layers)_=this._layers[m],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),$O=function(a,u){return new Dl(a,u)},ur=Dl.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Dl.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Dl.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ce;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),qO=function(a,u){return new ur(a,u)},Ll=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){S(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var m=this.options,_=m[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=X(_),I=X(u==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return xe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function GO(a){return new Ll(a)}var Wu=Ll.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Wu.imagePath!="string"&&(Wu.imagePath=this._detectIconPath()),(this.options.imagePath||Wu.imagePath)+Ll.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,_,w){var I=_.exec(m);return I&&I[w]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Qe("div","leaflet-default-icon-path",document.body),u=ta(a,"background-image")||ta(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Fw=as.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ys(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,I=or(u._icon),F=m.getPixelBounds(),Z=m.getPixelOrigin(),Q=q(F.min._subtract(Z).add(w),F.max._subtract(Z).subtract(w));if(!Q.contains(I)){var se=X((Math.max(Q.max.x,I.x)-Q.max.x)/(F.max.x-Q.max.x)-(Math.min(Q.min.x,I.x)-Q.min.x)/(F.min.x-Q.min.x),(Math.max(Q.max.y,I.y)-Q.max.y)/(F.max.y-Q.max.y)-(Math.min(Q.min.y,I.y)-Q.min.y)/(F.min.y-Q.min.y)).multiplyBy(_);m.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),Pt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=M(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,_=or(u._icon),w=u._map.layerPointToLatLng(_);m&&Pt(m,_),u._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Af=Xs.extend({options:{icon:new Wu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){S(this,u),this._latlng=me(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=me(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),_=!1;m!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),_e(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),I=!1;w!==this._shadow&&(this._removeShadow(),I=!0),w&&(_e(w,u),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(this._icon,"focus",this._panOnFocus,this),nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&nt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Pt(this._icon,a),this._shadow&&Pt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fw)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fw(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Bn(this._icon,a),this._shadow&&Bn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?X(u.iconSize):X(0,0),_=u.iconAnchor?X(u.iconAnchor):X(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:m.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function KO(a,u){return new Af(a,u)}var ra=Xs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return S(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Nf=ra.extend({options:{fill:!0,radius:10},initialize:function(a,u){S(this,u),this._latlng=me(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=me(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return ra.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),_=[a+m,u+m];this._pxBounds=new le(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function WO(a,u){return new Nf(a,u)}var Nv=Nf.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=i({},m,{radius:u})),S(this,u),this._latlng=me(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:ra.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,_=m.options.crs;if(_.distance===ke.distance){var w=Math.PI/180,I=this._mRadius/ke.R/w,F=m.project([u+I,a]),Z=m.project([u-I,a]),Q=F.add(Z).divideBy(2),se=m.unproject(Q).lat,ge=Math.acos((Math.cos(I*w)-Math.sin(u*w)*Math.sin(se*w))/(Math.cos(u*w)*Math.cos(se*w)))/w;(isNaN(ge)||ge===0)&&(ge=I/Math.cos(Math.PI/180*u)),this._point=Q.subtract(m.getPixelOrigin()),this._radius=isNaN(ge)?0:Q.x-m.project([se,a-ge]).x,this._radiusY=Q.y-F.y}else{var Te=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Te).x}this._updateBounds()}});function ZO(a,u,m){return new Nv(a,u,m)}var dr=ra.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){S(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,_=je,w,I,F=0,Z=this._parts.length;F<Z;F++)for(var Q=this._parts[F],se=1,ge=Q.length;se<ge;se++){w=Q[se-1],I=Q[se];var Te=_(a,w,I,!0);Te<u&&(u=Te,m=_(a,w,I))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ot(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=me(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ce,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return st(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=st(a),_=0,w=a.length;_<w;_++)m?(u[_]=me(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new B(a,a);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var _=a[0]instanceof de,w=a.length,I,F;if(_){for(F=[],I=0;I<w;I++)F[I]=this._map.latLngToLayerPoint(a[I]),m.extend(F[I]);u.push(F)}else for(I=0;I<w;I++)this._projectLatlngs(a[I],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,_,w,I,F,Z,Q;for(m=0,w=0,I=this._rings.length;m<I;m++)for(Q=this._rings[m],_=0,F=Q.length;_<F-1;_++)Z=V(Q[_],Q[_+1],a,_,!0),Z&&(u[w]=u[w]||[],u[w].push(Z[0]),(Z[1]!==Q[_+1]||_===F-2)&&(u[w].push(Z[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,_=a.length;m<_;m++)a[m]=bn(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,_,w,I,F,Z,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,I=this._parts.length;m<I;m++)for(Z=this._parts[m],_=0,F=Z.length,w=F-1;_<F;w=_++)if(!(!u&&_===0)&&Ku(a,Z[w],Z[_])<=Q)return!0;return!1}});function YO(a,u){return new dr(a,u)}dr._flat=lt;var Vl=dr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=dr.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof de&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){dr.prototype._setLatLngs.call(this,a),st(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return st(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new B(u,u);if(a=new le(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,I;_<w;_++)I=qu(this._rings[_],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,_,w,I,F,Z,Q,se;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,Q=this._parts.length;I<Q;I++)for(m=this._parts[I],F=0,se=m.length,Z=se-1;F<se;Z=F++)_=m[F],w=m[Z],_.y>a.y!=w.y>a.y&&a.x<(w.x-_.x)*(a.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||dr.prototype._containsPoint.call(this,a,!0)}});function QO(a,u){return new Vl(a,u)}var hr=ur.extend({initialize:function(a,u){S(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=N(a)?a:a.features,m,_,w;if(u){for(m=0,_=u.length;m<_;m++)w=u[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var F=Cf(a,I);return F?(F.feature=Pf(a),F.defaultOptions=F.options,this.resetStyle(F),I.onEachFeature&&I.onEachFeature(a,F),this.addLayer(F)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Cf(a,u){var m=a.type==="Feature"?a.geometry:a,_=m?m.coordinates:null,w=[],I=u&&u.pointToLayer,F=u&&u.coordsToLatLng||Cv,Z,Q,se,ge;if(!_&&!m)return null;switch(m.type){case"Point":return Z=F(_),Hw(I,a,Z,u);case"MultiPoint":for(se=0,ge=_.length;se<ge;se++)Z=F(_[se]),w.push(Hw(I,a,Z,u));return new ur(w);case"LineString":case"MultiLineString":return Q=Rf(_,m.type==="LineString"?0:1,F),new dr(Q,u);case"Polygon":case"MultiPolygon":return Q=Rf(_,m.type==="Polygon"?1:2,F),new Vl(Q,u);case"GeometryCollection":for(se=0,ge=m.geometries.length;se<ge;se++){var Te=Cf({geometry:m.geometries[se],type:"Feature",properties:a.properties},u);Te&&w.push(Te)}return new ur(w);case"FeatureCollection":for(se=0,ge=m.features.length;se<ge;se++){var ze=Cf(m.features[se],u);ze&&w.push(ze)}return new ur(w);default:throw new Error("Invalid GeoJSON object.")}}function Hw(a,u,m,_){return a?a(u,m):new Af(m,_&&_.markersInheritOptions&&_)}function Cv(a){return new de(a[1],a[0],a[2])}function Rf(a,u,m){for(var _=[],w=0,I=a.length,F;w<I;w++)F=u?Rf(a[w],u-1,m):(m||Cv)(a[w]),_.push(F);return _}function Rv(a,u){return a=me(a),a.alt!==void 0?[v(a.lng,u),v(a.lat,u),v(a.alt,u)]:[v(a.lng,u),v(a.lat,u)]}function jf(a,u,m,_){for(var w=[],I=0,F=a.length;I<F;I++)w.push(u?jf(a[I],st(a[I])?0:u-1,m,_):Rv(a[I],_));return!u&&m&&w.length>0&&w.push(w[0].slice()),w}function Ul(a,u){return a.feature?i({},a.feature,{geometry:u}):Pf(u)}function Pf(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var jv={toGeoJSON:function(a){return Ul(this,{type:"Point",coordinates:Rv(this.getLatLng(),a)})}};Af.include(jv),Nv.include(jv),Nf.include(jv),dr.include({toGeoJSON:function(a){var u=!st(this._latlngs),m=jf(this._latlngs,u?1:0,!1,a);return Ul(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),Vl.include({toGeoJSON:function(a){var u=!st(this._latlngs),m=u&&!st(this._latlngs[0]),_=jf(this._latlngs,m?2:u?1:0,!0,a);return u||(_=[_]),Ul(this,{type:(m?"Multi":"")+"Polygon",coordinates:_})}}),Dl.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),Ul(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var I=w.toGeoJSON(a);if(m)_.push(I.geometry);else{var F=Pf(I);F.type==="FeatureCollection"?_.push.apply(_,F.features):_.push(F)}}}),m?Ul(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function $w(a,u){return new hr(a,u)}var XO=$w,If=Xs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=ae(u),S(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ts(this._image),this},bringToBack:function(){return this._map&&As(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ae(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Qe("img");if(_e(u,"leaflet-image-layer"),this._zoomAnimated&&_e(u,"leaflet-zoom-animated"),this.options.className&&_e(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=o(this.fire,this,"load"),u.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ar(this._image,m,u)},_reset:function(){var a=this._image,u=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();Pt(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Bn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),JO=function(a,u,m){return new If(a,u,m)},qw=If.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Qe("video");if(_e(u,"leaflet-image-layer"),this._zoomAnimated&&_e(u,"leaflet-zoom-animated"),this.options.className&&_e(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=o(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),_=[],w=0;w<m.length;w++)_.push(m[w].src);this._url=m.length>0?_:[u.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var F=Qe("source");F.src=this._url[I],u.appendChild(F)}}});function eD(a,u,m){return new qw(a,u,m)}var Gw=If.extend({_initImage:function(){var a=this._image=this._url;_e(a,"leaflet-image-layer"),this._zoomAnimated&&_e(a,"leaflet-zoom-animated"),this.options.className&&_e(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function tD(a,u,m){return new Gw(a,u,m)}var Ti=Xs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof de||N(a))?(this._latlng=me(a),S(this,u)):(S(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Bn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Bn(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Bn(this._container,0),this._removeTimeout=setTimeout(o(nt,void 0,this._container),200)):nt(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=me(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ts(this._container),this},bringToBack:function(){return this._map&&As(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof ur){u=null;var m=this._source._layers;for(var _ in m)if(m[_]._map){u=m[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=X(this.options.offset),m=this._getAnchor();this._zoomAnimated?Pt(this._container,a.add(m)):u=u.add(a).add(m);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(a,u,m,_){var w=u;return w instanceof a||(w=new a(_).setContent(u)),m&&w.setLatLng(m),w}}),Xs.include({_initOverlay:function(a,u,m,_){var w=m;return w instanceof a?(S(w,_),w._source=this):(w=u&&!_?u:new a(_,this),w.setContent(m)),w}});var kf=Ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ti.prototype.openOn.call(this,a)},onAdd:function(a){Ti.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ra||this._source.on("preclick",ot))},onRemove:function(a){Ti.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ra||this._source.off("preclick",ot))},getEvents:function(){var a=Ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Qe("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Qe("div",a+"-content-wrapper",u);if(this._contentNode=Qe("div",a+"-content",m),bo(u),Lu(this._contentNode),Re(u,"contextmenu",ot),this._tipContainer=Qe("div",a+"-tip-container",u),this._tip=Qe("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qe("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Re(_,"click",function(w){Bt(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,w=this.options.maxHeight,I="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",_e(a,I)):yt(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Pt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(ta(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,_=this._containerWidth,w=new B(this._containerLeft,-m-this._containerBottom);w._add(or(this._container));var I=a.layerPointToContainerPoint(w),F=X(this.options.autoPanPadding),Z=X(this.options.autoPanPaddingTopLeft||F),Q=X(this.options.autoPanPaddingBottomRight||F),se=a.getSize(),ge=0,Te=0;I.x+_+Q.x>se.x&&(ge=I.x+_-se.x+Q.x),I.x-ge-Z.x<0&&(ge=I.x-Z.x),I.y+m+Q.y>se.y&&(Te=I.y+m-se.y+Q.y),I.y-Te-Z.y<0&&(Te=I.y-Z.y),(ge||Te)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ge,Te]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),nD=function(a,u){return new kf(a,u)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(a,u,m){return this._initOverlay(kf,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Xs.include({bindPopup:function(a,u){return this._popup=this._initOverlay(kf,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ur||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){xi(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof ra)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Mf=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ti.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ti.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ti.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,_=this._map,w=this._container,I=_.latLngToContainerPoint(_.getCenter()),F=_.layerPointToContainerPoint(a),Z=this.options.direction,Q=w.offsetWidth,se=w.offsetHeight,ge=X(this.options.offset),Te=this._getAnchor();Z==="top"?(u=Q/2,m=se):Z==="bottom"?(u=Q/2,m=0):Z==="center"?(u=Q/2,m=se/2):Z==="right"?(u=0,m=se/2):Z==="left"?(u=Q,m=se/2):F.x<I.x?(Z="right",u=0,m=se/2):(Z="left",u=Q+(ge.x+Te.x)*2,m=se/2),a=a.subtract(X(u,m,!0)).add(ge).add(Te),yt(w,"leaflet-tooltip-right"),yt(w,"leaflet-tooltip-left"),yt(w,"leaflet-tooltip-top"),yt(w,"leaflet-tooltip-bottom"),_e(w,"leaflet-tooltip-"+Z),Pt(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Bn(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sD=function(a,u){return new Mf(a,u)};Ue.include({openTooltip:function(a,u,m){return this._initOverlay(Mf,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Xs.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mf,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ur||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Re(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Re(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,_;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var Kw=Ll.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Rn(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var _=X(m.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function iD(a){return new Kw(a)}Ll.Default=Wu;var Zu=Xs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){S(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),nt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ts(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(As(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof B?a:new B(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),_=0,w=u.length,I;_<w;_++)I=u[_].style.zIndex,u[_]!==this._container&&I&&(m=a(m,+I));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xe.ielt9){Bn(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var I=Math.min(1,(a-w.loaded)/200);Bn(w.el,I),I<1?u=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(D(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(nt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var _=this._levels[a],w=this._map;return _||(_=this._levels[a]={},_.el=Qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,w.getCenter(),w.getZoom()),g(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)nt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,_){var w=Math.floor(a/2),I=Math.floor(u/2),F=m-1,Z=new B(+w,+I);Z.z=+F;var Q=this._tileCoordsToKey(Z),se=this._tiles[Q];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),F>_?this._retainParent(w,I,F,_):!1)},_retainChildren:function(a,u,m,_){for(var w=2*a;w<2*a+2;w++)for(var I=2*u;I<2*u+2;I++){var F=new B(w,I);F.z=m+1;var Z=this._tileCoordsToKey(F),Q=this._tiles[Z];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);m+1<_&&this._retainChildren(w,I,m+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var I=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||I)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var _=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,m)).round();xe.any3d?ar(a.el,w,_):Pt(a.el,w)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(m,this._tileZoom),w=u.project(a,this._tileZoom).floor(),I=u.getSize().divideBy(_*2);return new le(w.subtract(I),w.add(I))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(_),I=w.getCenter(),F=[],Z=this.options.keepBuffer,Q=new le(w.getBottomLeft().subtract([Z,-Z]),w.getTopRight().add([Z,-Z]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var ge=this._tiles[se].coords;(ge.z!==this._tileZoom||!Q.contains(new B(ge.x,ge.y)))&&(this._tiles[se].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Te=w.min.y;Te<=w.max.y;Te++)for(var ze=w.min.x;ze<=w.max.x;ze++){var Pn=new B(ze,Te);if(Pn.z=this._tileZoom,!!this._isValidTile(Pn)){var nn=this._tiles[this._tileCoordsToKey(Pn)];nn?nn.current=!0:F.push(Pn)}}if(F.sort(function(Hn,Bl){return Hn.distanceTo(I)-Bl.distanceTo(I)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var js=document.createDocumentFragment();for(ze=0;ze<F.length;ze++)this._addTile(F[ze],js);this._level.el.appendChild(js)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return ae(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),_=a.scaleBy(m),w=_.add(m),I=u.unproject(_,a.z),F=u.unproject(w,a.z);return[I,F]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new ce(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new B(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(nt(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){_e(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=g,a.onmousemove=g,xe.ielt9&&this.options.opacity<1&&Bn(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),_=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&M(o(this._tileReady,this,a,null,w)),Pt(w,m),this._tiles[_]={el:w,coords:a,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var _=this._tileCoordsToKey(a);m=this._tiles[_],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Bn(m.el,0),D(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(_e(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xe.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new B(this._wrapX?p(a.x,this._wrapX):a.x,this._wrapY?p(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new le(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function rD(a){return new Zu(a)}var zl=Zu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=S(this,u),u.detectRetina&&xe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Re(m,"load",o(this._tileOnLoad,this,u,m)),Re(m,"error",o(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:xe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return T(this._url,i(u,this.options))},_tileOnLoad:function(a,u){xe.ielt9?setTimeout(o(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,_=this.options.zoomOffset;return m&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=g,u.onerror=g,!u.complete)){u.src=H;var m=this._tiles[a].coords;nt(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",H),Zu.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===H))return Zu.prototype._tileReady.call(this,a,u,m)}});function Ww(a,u){return new zl(a,u)}var Zw=zl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=i({},this.defaultWmsParams);for(var _ in u)_ in this.options||(m[_]=u[_]);u=S(this,u);var w=u.detectRetina&&xe.retina?2:1,I=this.getTileSize();m.width=I.x*w,m.height=I.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,zl.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,_=q(m.project(u[0]),m.project(u[1])),w=_.min,I=_.max,F=(this._wmsVersion>=1.3&&this._crs===Ol?[w.y,w.x,I.y,I.x]:[w.x,w.y,I.x,I.y]).join(","),Z=zl.prototype.getTileUrl.call(this,a);return Z+R(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(a,u){return i(this.wmsParams,a),u||this.redraw(),this}});function aD(a,u){return new Zw(a,u)}zl.WMS=Zw,Ww.wms=aD;var fr=Xs.extend({options:{padding:.1},initialize:function(a){S(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),I=_.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,u));xe.any3d?ar(this._container,I,m):Pt(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new le(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yw=fr.extend({options:{tolerance:0},getEvents:function(){var a=fr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Re(a,"mousemove",this._onMouseMove,this),Re(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,nt(this._container),ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fr.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),_=xe.retina?2:1;Pt(u,a.min),u.width=_*m.x,u.height=_*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,_=u.prev;m?m.prev=_:this._drawLast=_,_?_.next=m:this._drawFirst=m,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;m.push(_)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,_,w,I,F=a._parts,Z=F.length,Q=this._ctx;if(Z){for(Q.beginPath(),m=0;m<Z;m++){for(_=0,w=F[m].length;_<w;_++)I=F[m][_],Q[_?"lineTo":"moveTo"](I.x,I.y);u&&Q.closePath()}this._fillStroke(Q,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,_=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||_)/_;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(_=m);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(yt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,_,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(_=m);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(_e(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(m)m.prev=_;else return;_?_.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,_=u.prev;if(_)_.next=m;else return;m?m.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Qw(a){return xe.canvas?new Yw(a):null}var Yu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),oD={_initContainer:function(){this._container=Qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Yu("shape");_e(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Yu("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;nt(u),a.removeInteractiveTarget(u),delete this._layers[d(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,_=a.options,w=a._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=a._stroke=Yu("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=N(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),a._stroke=null),_.fill?(m||(m=a._fill=Yu("fill")),w.appendChild(m),m.color=_.fillColor||_.color,m.opacity=_.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),_=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Ts(a._container)},_bringToBack:function(a){As(a._container)}},Of=xe.vml?Yu:gi,Qu=fr.extend({_initContainer:function(){this._container=Of("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Of("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){nt(this._container),ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fr.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),Pt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Of("path");a.options.className&&_e(u,a.options.className),a.options.interactive&&_e(u,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){nt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,es(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+_+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,I)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Ts(a._path)},_bringToBack:function(a){As(a._path)}});xe.vml&&Qu.include(oD);function Xw(a){return xe.svg||xe.vml?new Qu(a):null}Ue.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Qw(a)||Xw(a)}});var Jw=Vl.extend({initialize:function(a,u){Vl.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ae(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function lD(a,u){return new Jw(a,u)}Qu.create=Of,Qu.pointsToPath=es,hr.geometryToLayer=Cf,hr.coordsToLatLng=Cv,hr.coordsToLatLngs=Rf,hr.latLngToCoords=Rv,hr.latLngsToCoords=jf,hr.getFeature=Ul,hr.asFeature=Pf,Ue.mergeOptions({boxZoom:!0});var e1=as.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zs(),Tl(),this._startPoint=this._map.mouseEventToContainerPoint(a),Re(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Qe("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new le(this._point,this._startPoint),m=u.getSize();Pt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(nt(this._box),yt(this._container,"leaflet-crosshair")),rs(),Al(),ut(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var u=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",e1),Ue.mergeOptions({doubleClickZoom:!0});var t1=as.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),_=u.options.zoomDelta,w=a.originalEvent.shiftKey?m-_:m+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(a.containerPoint,w)}});Ue.addInitHook("addHandler","doubleClickZoom",t1),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var n1=as.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ys(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ae(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+m)%a+u-m,I=(_+u+m)%a-u-m,F=Math.abs(w+m)<Math.abs(I+m)?w:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(a){var u=this._map,m=u.options,_=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,F=m.easeLinearity,Z=w.multiplyBy(F/I),Q=Z.distanceTo([0,0]),se=Math.min(m.inertiaMaxSpeed,Q),ge=Z.multiplyBy(se/Q),Te=se/(m.inertiaDeceleration*F),ze=ge.multiplyBy(-Te/2).round();!ze.x&&!ze.y?u.fire("moveend"):(ze=u._limitOffset(ze,u.options.maxBounds),M(function(){u.panBy(ze,{duration:Te,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",n1),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var s1=as.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Re(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,_,w;for(_=0,w=m.left.length;_<w;_++)u[m.left[_]]=[-1*a,0];for(_=0,w=m.right.length;_<w;_++)u[m.right[_]]=[a,0];for(_=0,w=m.down.length;_<w;_++)u[m.down[_]]=[0,a];for(_=0,w=m.up.length;_<w;_++)u[m.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,_,w;for(_=0,w=m.zoomIn.length;_<w;_++)u[m.zoomIn[_]]=a;for(_=0,w=m.zoomOut.length;_<w;_++)u[m.zoomOut[_]]=-a},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,_;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=X(_).multiplyBy(3)),m.options.maxBounds&&(_=m._limitOffset(X(_),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(_)));m.panTo(w)}else m.panBy(_)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;xi(a)}}});Ue.addInitHook("addHandler","keyboard",s1),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var i1=as.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=Uu(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),_),xi(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,I=m?Math.ceil(w/m)*m:w,F=a._limitZoom(u+(this._delta>0?I:-I))-u;this._delta=0,this._startTime=null,F&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+F):a.setZoomAround(this._lastMousePos,u+F))}});Ue.addInitHook("addHandler","scrollWheelZoom",i1);var cD=600;Ue.mergeOptions({tapHold:xe.touchNative&&xe.safari&&xe.mobile,tapTolerance:15});var r1=as.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new B(u.clientX,u.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Bt),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),cD),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ut(document,"touchend",Bt),ut(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new B(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Ue.addInitHook("addHandler","tapHold",r1),Ue.mergeOptions({touchZoom:xe.touch,bounceAtZoomLimits:!0});var a1=as.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(_)._divideBy(2))),this._startDist=m.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Bt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var I=m._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&I.x===0&&I.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var F=o(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(F,this,!0),Bt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",a1),Ue.BoxZoom=e1,Ue.DoubleClickZoom=t1,Ue.Drag=n1,Ue.Keyboard=s1,Ue.ScrollWheelZoom=i1,Ue.TapHold=r1,Ue.TouchZoom=a1,n.Bounds=le,n.Browser=xe,n.CRS=ie,n.Canvas=Yw,n.Circle=Nv,n.CircleMarker=Nf,n.Class=ne,n.Control=Fn,n.DivIcon=Kw,n.DivOverlay=Ti,n.DomEvent=So,n.DomUtil=Av,n.Draggable=Ys,n.Evented=ee,n.FeatureGroup=ur,n.GeoJSON=hr,n.GridLayer=Zu,n.Handler=as,n.Icon=Ll,n.ImageOverlay=If,n.LatLng=de,n.LatLngBounds=ce,n.Layer=Xs,n.LayerGroup=Dl,n.LineUtil=Cs,n.Map=Ue,n.Marker=Af,n.Mixin=Ef,n.Path=ra,n.Point=B,n.PolyUtil=kl,n.Polygon=Vl,n.Polyline=dr,n.Popup=kf,n.PosAnimation=Bu,n.Projection=Ei,n.Rectangle=Jw,n.Renderer=fr,n.SVG=Qu,n.SVGOverlay=Gw,n.TileLayer=zl,n.Tooltip=Mf,n.Transformation=Ge,n.Util=z,n.VideoOverlay=qw,n.bind=o,n.bounds=q,n.canvas=Qw,n.circle=ZO,n.circleMarker=WO,n.control=wi,n.divIcon=iD,n.extend=i,n.featureGroup=qO,n.geoJSON=$w,n.geoJson=XO,n.gridLayer=rD,n.icon=GO,n.imageOverlay=JO,n.latLng=me,n.latLngBounds=ae,n.layerGroup=$O,n.map=Rl,n.marker=KO,n.point=X,n.polygon=QO,n.polyline=YO,n.popup=nD,n.rectangle=lD,n.setOptions=S,n.stamp=d,n.svg=Xw,n.svgOverlay=tD,n.tileLayer=Ww,n.tooltip=sD,n.transformation=et,n.version=s,n.videoOverlay=eD;var uD=window.L;n.noConflict=function(){return window.L=uD,this},window.L=n})})(ix,ix.exports);var Cu=ix.exports;const OO=kA(Cu);function wv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Sv(t,e){return e==null?function(s,i){const r=b.useRef(void 0);return r.current||(r.current=t(s,i)),r}:function(s,i){const r=b.useRef(void 0);r.current||(r.current=t(s,i));const o=b.useRef(s),{instance:c}=r.current;return b.useEffect(function(){o.current!==s&&(e(c,s,o.current),o.current=s)},[c,s,e]),r}}function DO(t,e){b.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function LO(t){return function(n){const s=xv(),i=t(bv(n,s),s);return IO(s.map,n.attribution),Bw(i.current,n.eventHandlers),DO(i.current,s),i}}function yQ(t,e){const n=b.useRef(void 0);b.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function _Q(t){return function(n){const s=xv(),i=t(bv(n,s),s);return Bw(i.current,n.eventHandlers),DO(i.current,s),yQ(i.current,n),i}}function xQ(t,e){const n=Sv(t,e),s=LO(n);return MO(s)}function bQ(t,e){const n=Sv(t),s=vQ(n,e);return pQ(s)}function wQ(t,e){const n=Sv(t,e),s=_Q(n);return MO(s)}function SQ(t,e){const n=Sv(t,e),s=LO(n);return gQ(s)}function EQ(t,e,n){const{opacity:s,zIndex:i}=e;s!=null&&s!==n.opacity&&t.setOpacity(s),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function TQ(){return xv().map}function AQ(t){const e=TQ();return b.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function NQ({bounds:t,boundsOptions:e,center:n,children:s,className:i,id:r,placeholder:o,style:c,whenReady:d,zoom:h,...p},g){const[v]=b.useState({className:i,id:r,style:c}),[y,C]=b.useState(null),S=b.useRef(void 0);b.useImperativeHandle(g,()=>y?.map??null,[y]);const R=b.useCallback(T=>{if(T!==null&&!S.current){const N=new Cu.Map(T,p);S.current=N,n!=null&&h!=null?N.setView(n,h):t!=null&&N.fitBounds(t,e),d!=null&&N.whenReady(d),C(mQ(N))}},[]);b.useEffect(()=>()=>{y?.map.remove()},[y]);const E=y?oe.createElement(zw,{value:y},s):o??null;return oe.createElement("div",{...v,ref:R},E)}const CQ=b.forwardRef(NQ),TA=xQ(function({position:e,...n},s){const i=new Cu.Marker(e,n);return wv(i,kO(s,{overlayContainer:i}))},function(e,n,s){n.position!==s.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Ky=wQ(function({positions:e,...n},s){const i=new Cu.Polyline(e,n);return wv(i,kO(s,{overlayContainer:i}))},function(e,n,s){n.positions!==s.positions&&e.setLatLngs(n.positions)}),AA=bQ(function(e,n){const s=new Cu.Popup(e,n.overlayContainer);return wv(s,n)},function(e,n,{position:s},i){b.useEffect(function(){const{instance:o}=e;function c(h){h.popup===o&&(o.update(),i(!0))}function d(h){h.popup===o&&i(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(s!=null&&o.setLatLng(s),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(o)}},[e,n,i,s])}),RQ=SQ(function({url:e,...n},s){const i=new Cu.TileLayer(e,bv(n,s));return wv(i,s)},function(e,n,s){EQ(e,n,s);const{url:i}=n;i!=null&&i!==s.url&&e.setUrl(i)});var VO={exports:{}};(function(t){var e={};function n(r){return Math.floor(Math.abs(r)+.5)*(r>=0?1:-1)}function s(r,o,c){r=n(r*c),o=n(o*c);var d=(r-o)*2;d<0&&(d=-d-1);for(var h="";d>=32;)h+=String.fromCharCode((32|d&31)+63),d/=32;return h+=String.fromCharCode((d|0)+63),h}e.decode=function(r,o){for(var c=0,d=0,h=0,p=[],g=0,v=0,y=null,C,S,R=Math.pow(10,Number.isInteger(o)?o:5);c<r.length;){y=null,g=1,v=0;do y=r.charCodeAt(c++)-63,v+=(y&31)*g,g*=32;while(y>=32);C=v&1?(-v-1)/2:v/2,g=1,v=0;do y=r.charCodeAt(c++)-63,v+=(y&31)*g,g*=32;while(y>=32);S=v&1?(-v-1)/2:v/2,d+=C,h+=S,p.push([d/R,h/R])}return p},e.encode=function(r,o){if(!r.length)return"";for(var c=Math.pow(10,Number.isInteger(o)?o:5),d=s(r[0][0],0,c)+s(r[0][1],0,c),h=1;h<r.length;h++){var p=r[h],g=r[h-1];d+=s(p[0],g[0],c),d+=s(p[1],g[1],c)}return d};function i(r){for(var o=[],c=0;c<r.length;c++){var d=r[c].slice();o.push([d[1],d[0]])}return o}e.fromGeoJSON=function(r,o){if(r&&r.type==="Feature"&&(r=r.geometry),!r||r.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return e.encode(i(r.coordinates),o)},e.toGeoJSON=function(r,o){var c=e.decode(r,o);return{type:"LineString",coordinates:i(c)}},t.exports&&(t.exports=e)})(VO);var jQ=VO.exports;const PQ=kA(jQ),UO=[{shelter_id:"AMR_001",name:"Golden Temple Community Center",lat:31.62,lon:74.8765,capacity:500,available:320,status:"operational",district:"Amritsar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43210"},{shelter_id:"AMR_002",name:"Amritsar Government School",lat:31.634,lon:74.872,capacity:300,available:180,status:"operational",district:"Amritsar",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43211"},{shelter_id:"AMR_003",name:"Jallianwala Bagh Memorial Hall",lat:31.62,lon:74.88,capacity:200,available:150,status:"operational",district:"Amritsar",amenities:["Food","Restrooms"],contact:"+91-98765-43212"},{shelter_id:"LUD_001",name:"Ludhiana Sports Complex",lat:30.901,lon:75.8573,capacity:800,available:450,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43220"},{shelter_id:"LUD_002",name:"Guru Nanak Dev Engineering College",lat:30.92,lon:75.85,capacity:400,available:280,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43221"},{shelter_id:"LUD_003",name:"Ludhiana Railway Station Shelter",lat:30.9,lon:75.86,capacity:150,available:90,status:"operational",district:"Ludhiana",amenities:["Food","Restrooms"],contact:"+91-98765-43222"},{shelter_id:"JAL_001",name:"Jalandhar City Center",lat:31.326,lon:75.5762,capacity:600,available:380,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43230"},{shelter_id:"JAL_002",name:"Punjab Agricultural University",lat:31.34,lon:75.57,capacity:500,available:320,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43231"},{shelter_id:"PAT_001",name:"Patiala Palace Grounds",lat:30.3398,lon:76.3869,capacity:700,available:420,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43240"},{shelter_id:"PAT_002",name:"Thapar Institute of Engineering",lat:30.35,lon:76.38,capacity:400,available:250,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43241"},{shelter_id:"BAT_001",name:"Bathinda Fort Community Center",lat:30.211,lon:74.9455,capacity:350,available:200,status:"operational",district:"Bathinda",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43250"},{shelter_id:"FIR_001",name:"Firozpur Cantonment Area",lat:30.9167,lon:74.6,capacity:450,available:280,status:"operational",district:"Firozpur",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43260"},{shelter_id:"GUR_001",name:"Gurdaspur Government College",lat:32.04,lon:75.4,capacity:300,available:180,status:"operational",district:"Gurdaspur",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43270"},{shelter_id:"HOS_001",name:"Hoshiarpur Sports Stadium",lat:31.53,lon:75.92,capacity:400,available:250,status:"operational",district:"Hoshiarpur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43280"},{shelter_id:"MOG_001",name:"Moga City Hall",lat:30.81,lon:75.17,capacity:250,available:150,status:"operational",district:"Moga",amenities:["Food","Restrooms"],contact:"+91-98765-43290"},{shelter_id:"SAN_001",name:"Sangrur District Hospital",lat:30.25,lon:75.84,capacity:200,available:120,status:"operational",district:"Sangrur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43300"}],IQ=[{id:"FZ_001",name:"Sutlej River Flood Zone",district:"Ludhiana",severity:"high",coordinates:[[30.85,75.8],[30.9,75.85],[30.95,75.9],[30.85,75.95],[30.8,75.9],[30.85,75.8]],affected_roads:["NH-1","State Highway 15","Local Road 23"]},{id:"FZ_002",name:"Beas River Flood Zone",district:"Amritsar",severity:"moderate",coordinates:[[31.6,74.85],[31.65,74.9],[31.7,74.85],[31.65,74.8],[31.6,74.85]],affected_roads:["NH-15","Local Road 45","Village Road 12"]},{id:"FZ_003",name:"Ravi River Flood Zone",district:"Gurdaspur",severity:"critical",coordinates:[[32,75.35],[32.05,75.4],[32.1,75.45],[32.05,75.5],[32,75.45],[32,75.35]],affected_roads:["NH-15","State Highway 20","Local Road 67"]},{id:"FZ_004",name:"Ghaggar River Flood Zone",district:"Patiala",severity:"moderate",coordinates:[[30.3,76.35],[30.35,76.4],[30.4,76.35],[30.35,76.3],[30.3,76.35]],affected_roads:["NH-64","Local Road 89","Village Road 34"]}],kQ=[{road_id:"ROAD_001",name:"NH-1 Ludhiana Section",status:"blocked",reason:"Sutlej River flooding",coordinates:[[30.85,75.8],[30.87,75.82],[30.89,75.84]]},{road_id:"ROAD_002",name:"State Highway 15 Amritsar",status:"risky",reason:"Beas River high water level",coordinates:[[31.6,74.85],[31.62,74.87],[31.64,74.89]]},{road_id:"ROAD_003",name:"Local Road 23 Ludhiana",status:"blocked",reason:"Complete submersion",coordinates:[[30.9,75.85],[30.92,75.87],[30.94,75.89]]}],NA=(t,e,n=20)=>UO.filter(s=>MQ(t,e,s.lat,s.lon)<=n&&s.status==="operational");function MQ(t,e,n,s){const r=(n-t)*Math.PI/180,o=(s-e)*Math.PI/180,c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}const OQ="https://graphhopper.com/api/1/route",DQ="ecaf0074-5a6b-4e05-a880-db7db67f193f",LQ=t=>PQ.decode(t).map(([e,n])=>[e,n]);async function VQ(t,e,n=[]){try{return(await FH()({start:t,destination:e,blockedEdges:n})).data}catch(c){console.warn("Cloud Functions not available, falling back to direct GraphHopper:",c)}const s=new URL(`${OQ}/route`);s.searchParams.set("point",`${t.lat},${t.lon}`),s.searchParams.append("point",`${e.lat},${e.lon}`),s.searchParams.set("profile","car"),s.searchParams.set("locale","en"),s.searchParams.set("points_encoded","true"),s.searchParams.set("instructions","true"),n.length&&s.searchParams.set("block_area",n.join(",")),s.searchParams.set("key",DQ);const i=await fetch(s.toString());if(!i.ok)throw new Error(`Routing failed: ${i.status}`);const r=await i.json(),o=r.paths?.[0];if(!o)throw new Error("No route found");return{route:{polyline:o.points,distance_km:o.distance/1e3,duration_min:o.time/6e4,steps:(o.instructions||[]).map(c=>c.text)},warnings:r.info?.warnings||[]}}async function UQ(t){try{return(await HH()({lat:t.lat,lon:t.lon,radiusKm:20})).data}catch(s){console.warn("Cloud Functions not available, falling back to local data:",s)}const e=NA(t.lat,t.lon,20);if(e.length===0){const s=NA(t.lat,t.lon,100);if(s.length===0)throw new Error("No shelters available in the area");const i=s[0];return{shelter:{name:i.name,lat:i.lat,lon:i.lon,capacity_available:i.available,shelter_id:i.shelter_id}}}const n=e.sort((s,i)=>i.available-s.available)[0];return{shelter:{name:n.name,lat:n.lat,lon:n.lon,capacity_available:n.available,shelter_id:n.shelter_id}}}const zQ=new OO.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),BQ=new OO.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function FQ({onMapClick:t}){return AQ({click:e=>{t(e.latlng.lat,e.latlng.lng)}}),null}const HQ=({start:t})=>{const[e,n]=b.useState(t||null),[s,i]=b.useState(null),[r,o]=b.useState([]),[c,d]=b.useState([]),[h,p]=b.useState(null),[g,v]=b.useState([]),[y,C]=b.useState([]),[S,R]=b.useState(!1),[E,T]=b.useState(null),[N,O]=b.useState([]);b.useEffect(()=>{O(UO);const k=kQ.map(M=>M.coordinates);o(k)},[]),b.useEffect(()=>{!e&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(k=>n({lat:k.coords.latitude,lon:k.coords.longitude}),()=>n({lat:30.7333,lon:76.7794}))},[e]);const H=(k,M)=>{i({lat:k,lon:M}),n({lat:k,lon:M})},G=async k=>{R(!0);try{const M=await UQ(k);p(M.shelter);const D=await VQ(k,{lat:M.shelter.lat,lon:M.shelter.lon});v(D.warnings||[]),C(D.route.steps||[]),d(LQ(D.route.polyline)),T({distance_km:D.route.distance_km,duration_min:D.route.duration_min})}catch(M){console.error("Failed to fetch route:",M),v(["Failed to fetch route. Using offline data."])}finally{R(!1)}};b.useEffect(()=>{e&&G(e)},[e?.lat,e?.lon]);const j=(k,M)=>{const D=`https://www.google.com/maps/dir/${k.lat},${k.lon}/${M.lat},${M.lon}`;window.open(D,"_blank")},P=k=>{window.open(`tel:${k}`,"_self")},U=b.useMemo(()=>c.length?c[Math.floor(c.length/2)]:e?[e.lat,e.lon]:[30.7333,76.7794],[c,e]);return l.jsxs("div",{className:"relative h-96 w-full",children:[l.jsxs(CQ,{center:U,zoom:13,style:{height:"100%",width:"100%"},children:[l.jsx(RQ,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.jsx(FQ,{onMapClick:H}),e&&l.jsx(TA,{position:[e.lat,e.lon],icon:BQ,children:l.jsx(AA,{children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-600",children:"Your Location"}),l.jsxs("div",{className:"text-xs text-gray-600",children:[e.lat.toFixed(4),", ",e.lon.toFixed(4)]}),l.jsxs(he,{size:"sm",className:"mt-2 w-full",onClick:()=>navigator.geolocation.getCurrentPosition(k=>n({lat:k.coords.latitude,lon:k.coords.longitude}),()=>{}),children:[l.jsx(Th,{className:"w-3 h-3 mr-1"}),"Update Location"]})]})})}),N.map((k,M)=>l.jsx(TA,{position:[k.lat,k.lon],icon:zQ,children:l.jsx(AA,{children:l.jsxs("div",{className:"min-w-[200px]",children:[l.jsx("div",{className:"font-semibold text-green-600",children:k.name}),l.jsx("div",{className:"text-xs text-gray-600 mb-2",children:k.district}),l.jsxs("div",{className:"text-xs space-y-1",children:[l.jsxs("div",{children:["Capacity: ",k.available,"/",k.capacity]}),l.jsxs("div",{children:["Contact: ",k.contact]}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:k.amenities.map((D,z)=>l.jsx(Ye,{variant:"outline",className:"text-xs",children:D},z))})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(he,{size:"sm",className:"flex-1",onClick:()=>{n({lat:k.lat,lon:k.lon})},children:[l.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Route Here"]}),l.jsx(he,{size:"sm",variant:"outline",onClick:()=>j(e||{lat:30.7333,lon:76.7794},{lat:k.lat,lon:k.lon}),children:l.jsx(C_,{className:"w-3 h-3"})})]})]})})},M)),c.length>1&&l.jsx(Ky,{positions:c,pathOptions:{color:"#16a34a",weight:5}}),r.map((k,M)=>l.jsx(Ky,{positions:k,pathOptions:{color:"#ef4444",weight:4,dashArray:"6 8"}},`blocked-${M}`)),IQ.map((k,M)=>l.jsx(Ky,{positions:k.coordinates,pathOptions:{color:k.severity==="critical"?"#dc2626":k.severity==="high"?"#ea580c":"#f59e0b",weight:3,fillColor:k.severity==="critical"?"#dc2626":k.severity==="high"?"#ea580c":"#f59e0b",fillOpacity:.2}},`flood-${M}`))]}),E&&h&&l.jsxs("div",{className:"absolute top-3 right-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Evacuation Route"}),l.jsxs("div",{className:"space-y-2 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Destination:"}),l.jsx("span",{className:"font-medium",children:h.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Distance:"}),l.jsxs("span",{className:"font-medium",children:[E.distance_km.toFixed(1)," km"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Duration:"}),l.jsxs("span",{className:"font-medium",children:[Math.round(E.duration_min)," min"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Available Space:"}),l.jsxs("span",{className:"font-medium text-green-600",children:[h.capacity_available," people"]})]})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(he,{size:"sm",className:"flex-1",onClick:()=>j(e||{lat:30.7333,lon:76.7794},{lat:h.lat,lon:h.lon}),children:[l.jsx(C_,{className:"w-3 h-3 mr-1"}),"Open in Google Maps"]}),l.jsx(he,{size:"sm",variant:"outline",onClick:()=>P(h.contact||"+91-98765-43210"),children:l.jsx(Bs,{className:"w-3 h-3"})})]})]}),y.length>0&&l.jsxs("div",{className:"absolute top-3 left-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg max-h-64 overflow-y-auto",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Step-by-Step Directions"}),l.jsx("ol",{className:"list-decimal pl-4 text-xs text-slate-700 space-y-1",children:y.map((k,M)=>l.jsx("li",{className:"py-1",children:k},M))})]}),l.jsxs("div",{className:"absolute bottom-3 left-3 bg-white/90 rounded-lg p-3 shadow",children:[l.jsx("div",{className:"text-xs font-semibold text-red-600 mb-2",children:"Emergency Contacts"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs(he,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("108"),children:[l.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Emergency: 108"]}),l.jsxs(he,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("100"),children:[l.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Police: 100"]}),l.jsxs(he,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("101"),children:[l.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Fire: 101"]})]})]}),g.length>0&&l.jsxs("div",{className:"absolute bottom-3 right-3 w-80 bg-white/90 rounded-lg p-3 shadow",children:[l.jsxs("div",{className:"text-xs font-semibold text-red-600 mb-2 flex items-center",children:[l.jsx(on,{className:"w-3 h-3 mr-1"}),"Flood Warnings"]}),l.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-700 space-y-1",children:g.map((k,M)=>l.jsx("li",{children:k},M))})]}),l.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 rounded-lg p-3 shadow text-xs",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Map Legend"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{children:"Safe Route"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),l.jsx("span",{children:"Blocked Roads"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),l.jsx("span",{children:"Flood Zones"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),l.jsx("span",{children:"Shelters"})]})]}),l.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Click anywhere on map to set location"})]}),S&&l.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[l.jsx("div",{className:"text-sm font-medium",children:"Finding safe route..."}),l.jsx("div",{className:"text-xs text-gray-600",children:"Please wait"})]})})]})};var $Q="Separator",CA="horizontal",qQ=["horizontal","vertical"],zO=b.forwardRef((t,e)=>{const{decorative:n,orientation:s=CA,...i}=t,r=GQ(s)?s:CA,c=n?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return l.jsx(we.div,{"data-orientation":r,...c,...i,ref:e})});zO.displayName=$Q;function GQ(t){return qQ.includes(t)}var BO=zO;const FO=b.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},i)=>l.jsx(BO,{ref:i,decorative:n,orientation:e,className:Ie("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));FO.displayName=BO.displayName;const KQ=()=>{const[t,e]=b.useState([]),[n,s]=b.useState([]),[i,r]=b.useState("idle"),[o,c]=b.useState(null),[d,h]=b.useState(0),[p,g]=b.useState(0),[v,y]=b.useState(null),C=b.useRef(null),S=[{text:"Processing images locally...",duration:500,progress:20},{text:"Running local damage detection model...",duration:1500,progress:70},{text:"Generating final report...",duration:500,progress:100}],R=[{id:"RPT-20240715-001",date:"2024-07-15",severity:"Severe",images:12,priority:"High"},{id:"RPT-20240714-005",date:"2024-07-14",severity:"Moderate",images:5,priority:"Medium"},{id:"RPT-20240714-004",date:"2024-07-14",severity:"Catastrophic",images:34,priority:"Critical"},{id:"RPT-20240713-002",date:"2024-07-13",severity:"Minor",images:8,priority:"Low"}],E=k=>{const M=Array.from(k.target.files||[]);if(M.length){const D=[...t,...M];e(D);const z=M.map(ne=>URL.createObjectURL(ne));s([...n,...z]),r("idle"),y(null),g(0),h(0)}},T=()=>{C.current?.click()},N=async()=>{if(t.length!==0){r("analyzing"),c(null),g(0),h(0);for(const k of S)h(M=>M+1),await new Promise(M=>setTimeout(M,k.duration)),g(k.progress);O(t.length),r("complete")}},O=k=>{const M=["Minimal","Minor","Moderate","Severe","Catastrophic"],D=["Inundation","Structural Collapse","Wildfire","Landslide","Utility Damage"],z=["Gas Leak","Exposed Wiring","Contaminated Water","Unstable Structures"],ne=["Deploy initial assessment team for on-site verification.","Alert residents and advise immediate evacuation of affected zones.","Coordinate with utility companies to shut off services in hazardous areas.","Mobilize heavy machinery for debris clearance on primary routes.","Request engineering corps for structural integrity assessment.","Establish a 500-meter safety perimeter around unstable structures."],fe=q=>q[Math.floor(Math.random()*q.length)],K=(q,ce)=>q.sort(()=>.5-Math.random()).slice(0,ce),ee=K(D,3).map(q=>({type:q,percentage:Math.random()*100,severity:fe(M)})),B=ee.reduce((q,ce)=>q+ce.percentage,0);ee.forEach(q=>q.percentage=q.percentage/B*100);const $=Math.floor(Math.random()*5e5)+5e4,X=Math.floor(Math.random()*2e5)+25e3,le={totalImages:k,timestamp:new Date().toISOString(),confidenceScore:Math.random()*10+90,priority:fe(["Low","Medium","High","Critical"]),overallSeverity:fe(M),detectedHazards:K(z,2),damageBreakdown:ee,estimatedCost:{repair:$,recovery:X,total:$+X},actionableSteps:K(ne,3),modelInfo:{name:"DisasterNet-v5.2",version:"3.0.1",accuracy:98.2}};y(le)},H=()=>{e([]),s([]),r("idle"),y(null),g(0),h(0),c(null),C.current&&(C.current.value="")},G=k=>{const M=t.filter((z,ne)=>ne!==k),D=n.filter((z,ne)=>ne!==k);e(M),s(D)},j=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(k),P=k=>{switch(k){case"Critical":return"bg-red-600 text-white hover:bg-red-700";case"High":return"bg-orange-500 text-white hover:bg-orange-600";case"Medium":return"bg-yellow-400 text-slate-900 hover:bg-yellow-500";default:return"bg-blue-500 text-white hover:bg-blue-600"}},U=k=>{switch(k){case"Catastrophic":return"bg-red-500";case"Severe":return"bg-orange-500";case"Moderate":return"bg-yellow-500";case"Minor":return"bg-blue-500";default:return"bg-green-500"}};return l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:T,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[l.jsx(av,{className:"mx-auto h-12 w-12 text-slate-400"}),l.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:"Drop images here or click to browse"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Upload PNG, JPG, or HEIC files for damage assessment"}),l.jsx("input",{ref:C,type:"file",multiple:!0,className:"sr-only",onChange:E,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),n.length>0&&l.jsxs(Or,{children:[l.jsx(Dr,{children:l.jsx(Lr,{children:"Uploaded Images for Assessment"})}),l.jsxs(Vr,{children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map((k,M)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:k,alt:`Preview ${M}`,className:"rounded-lg object-cover w-full h-32"}),l.jsx("button",{onClick:()=>G(M),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(WG,{className:"w-3 h-3"})})]},M))}),i==="idle"&&l.jsxs(he,{onClick:N,type:"button",className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[l.jsx(lk,{className:"w-4 h-4 mr-2"}),"Run Analysis on ",t.length," Images"]}),l.jsx(he,{onClick:H,variant:"outline",className:"w-full mt-2",children:"Clear All"})]})]}),n.length===0&&l.jsxs(Or,{children:[l.jsx(Dr,{children:l.jsxs(Lr,{className:"flex items-center",children:[l.jsx(iu,{className:"w-5 h-5 mr-3"}),"Recent Analyses"]})}),l.jsxs(Vr,{className:"text-sm text-slate-600 space-y-3",children:[R.map(k=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 cursor-pointer",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold text-slate-800",children:k.id}),l.jsxs("span",{className:"text-xs text-slate-500",children:[k.date," - ",k.images," images"]})]}),l.jsx(Ye,{className:P(k.priority),children:k.priority})]},k.id)),l.jsx(he,{variant:"outline",className:"w-full mt-2",children:"View All Reports"})]})]})]}),l.jsxs(Or,{className:"h-full sticky top-8",children:[l.jsx(Dr,{children:l.jsxs(Lr,{className:"flex items-center",children:[l.jsx(R_,{className:"w-5 h-5 mr-3"})," AI Analysis Report"]})}),l.jsx(Vr,{children:i==="complete"&&v?l.jsxs("div",{className:"space-y-6 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-semibold text-slate-700",children:"Priority Assessment"}),l.jsx(Ye,{className:P(v.priority),children:v.priority})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:"Confidence Score"}),l.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[v.confidenceScore.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:"Overall Severity"}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:v.overallSeverity})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(ok,{className:"w-4 h-4 mr-2 text-red-600"})," Detected Hazards"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:v.detectedHazards.map((k,M)=>l.jsx(Ye,{variant:"destructive",children:k},M))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(kG,{className:"w-4 h-4 mr-2"})," Damage Breakdown"]}),l.jsx("div",{className:"space-y-3",children:v.damageBreakdown.map((k,M)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-slate-600 font-medium",children:k.type}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full text-white ${U(k.severity)}`,children:k.severity})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden",children:l.jsx("div",{className:`${U(k.severity)} h-full rounded-full`,style:{width:`${k.percentage.toFixed(2)}%`}})}),l.jsxs("span",{className:"w-16 text-right font-semibold text-slate-700",children:[k.percentage.toFixed(1),"%"]})]})]},M))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(DG,{className:"w-4 h-4 mr-2"})," Detailed Cost Analysis"]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-slate-600",children:"Estimated Repair Cost:"}),l.jsx("span",{className:"font-medium text-slate-800",children:j(v.estimatedCost.repair)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-slate-600",children:"Resource & Recovery Cost:"}),l.jsx("span",{className:"font-medium text-slate-800",children:j(v.estimatedCost.recovery)})]}),l.jsx(FO,{}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-bold text-slate-800",children:"Total Estimated Cost:"}),l.jsx("span",{className:"font-bold text-lg text-blue-800",children:j(v.estimatedCost.total)})]})]})]}),l.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-blue-800",children:[l.jsx(hs,{className:"w-4 h-4 mr-2"})," Recommended Actions"]}),l.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-blue-700",children:v.actionableSteps.map((k,M)=>l.jsx("li",{children:k},M))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(OG,{className:"w-4 h-4 mr-2"})," Analysis Model Details"]}),l.jsxs("div",{className:"text-xs text-slate-500 bg-slate-50 p-3 rounded-lg",children:[l.jsxs("p",{children:["Model: ",v.modelInfo.name," (v",v.modelInfo.version,")"]}),l.jsxs("p",{children:["Accuracy: ",v.modelInfo.accuracy,"% | Processed ",v.totalImages," images in this batch."]}),l.jsxs("p",{children:["Timestamp: ",new Date(v.timestamp).toLocaleString()]})]})]})]}):i==="analyzing"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[l.jsx(Mr,{className:"w-8 h-8 mb-2 animate-spin"}),l.jsxs("p",{children:[p,"% - ",d>0&&S[d-1]?.text]})]}):i==="error"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[l.jsx(on,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"An error occurred during analysis."}),l.jsx("p",{className:"text-xs mt-2 text-red-400",children:o})]}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[l.jsx(Zr,{className:"w-10 h-10 mb-4 text-slate-400"}),l.jsx("p",{className:"font-semibold",children:"AI-Powered Insights Await"}),l.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})})},WQ=()=>{const[t,e]=b.useState("primary"),n=[{id:"primary",name:"Primary Route A",status:"clear",distance:"2.3 km",time:"8 min",capacity:850,current:245},{id:"secondary",name:"Secondary Route B",status:"congested",distance:"3.1 km",time:"15 min",capacity:600,current:520},{id:"emergency",name:"Emergency Route C",status:"blocked",distance:"4.2 km",time:"N/A",capacity:400,current:0}],s=[{name:"Community Center",location:"Downtown",capacity:500,occupied:245,amenities:["Food","Medical","WiFi"],status:"available",contact:"+91-98765-43210",lat:30.7333,lon:76.7794},{name:"High School Gymnasium",location:"North District",capacity:300,occupied:180,amenities:["Food","Restrooms"],status:"available",contact:"+91-98765-43211",lat:30.75,lon:76.8},{name:"Sports Complex",location:"East Side",capacity:800,occupied:650,amenities:["Food","Medical","WiFi","Parking"],status:"near_capacity",contact:"+91-98765-43212",lat:30.72,lon:76.75},{name:"Church Hall",location:"West End",capacity:200,occupied:195,amenities:["Food","Restrooms"],status:"full",contact:"+91-98765-43213",lat:30.76,lon:76.72}],i=[{name:"Water Bottles",current:1e4,capacity:5e4,icon:ww,color:"blue"},{name:"MREs (Meals, Ready-to-Eat)",current:5e3,capacity:2e4,icon:nA,color:"orange"},{name:"First-Aid Kits",current:2e3,capacity:5e3,icon:j_,color:"red"},{name:"Blankets",current:8e3,capacity:15e3,icon:XT,color:"green"}],r=[{id:"Alpha-1",destination:"Community Center",eta:"15 min",status:"In Transit",contents:"500 water, 200 MREs"},{id:"Bravo-2",destination:"High School Gymnasium",eta:"25 min",status:"Loading",contents:"300 first-aid, 1000 blankets"},{id:"Charlie-3",destination:"Sports Complex",eta:"5 min",status:"Delivered",contents:"1000 water, 500 MREs"}],o=h=>{switch(h){case"clear":return{color:"text-green-600 bg-green-100",icon:no};case"congested":return{color:"text-yellow-600 bg-yellow-100",icon:iu};case"blocked":return{color:"text-red-600 bg-red-100",icon:on};default:return{color:"text-blue-600 bg-blue-100",icon:Qn}}},c=h=>{switch(h){case"available":return{color:"text-green-600 bg-green-100",text:"Available"};case"near_capacity":return{color:"text-yellow-600 bg-yellow-100",text:"Near Full"};case"full":return{color:"text-red-600 bg-red-100",text:"Full"};default:return{color:"text-blue-600 bg-blue-100",text:"Unknown"}}},d=h=>{switch(h){case"In Transit":return{color:"text-blue-600 bg-blue-100",icon:Vy};case"Loading":return{color:"text-yellow-600 bg-yellow-100",icon:iu};case"Delivered":return{color:"text-green-600 bg-green-100",icon:no};default:return{color:"text-slate-600 bg-slate-100",icon:XT}}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Planning & Resource Allocation"}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Strategic evacuation planning with real-time resource tracking and emergency coordination"})]}),l.jsxs(Ak,{defaultValue:"evacuation",className:"space-y-6",children:[l.jsxs(Aw,{className:"grid w-full grid-cols-4 bg-gradient-to-r from-blue-50 to-teal-50",children:[l.jsxs(Vo,{value:"evacuation",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(JT,{className:"w-4 h-4 mr-2"}),"Evacuation Planning"]}),l.jsxs(Vo,{value:"shelters",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(Gm,{className:"w-4 h-4 mr-2"}),"Shelter Management"]}),l.jsxs(Vo,{value:"resources",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(Vy,{className:"w-4 h-4 mr-2"}),"Resource Distribution"]}),l.jsxs(Vo,{value:"damage",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(av,{className:"w-4 h-4 mr-2"}),"Damage Assessment"]})]}),l.jsx(Uo,{value:"evacuation",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Interactive Evacuation Map"}),l.jsxs(Ye,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[l.jsx(Th,{className:"w-3 h-3 mr-1"}),"Live Traffic"]})]}),l.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-xl h-96 overflow-hidden",children:[l.jsx(HQ,{}),l.jsx(Nk,{text:"Flood-Aware Routing"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Clear Route"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Congested"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Blocked"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Gm,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Shelter"})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Evacuation Routes"}),l.jsx("div",{className:"space-y-3",children:n.map(h=>{const p=o(h.status),g=p.icon;return l.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${t===h.id?"border-blue-400 bg-gradient-to-r from-blue-50 to-teal-50":"border-slate-200 hover:border-slate-300"}`,onClick:()=>e(h.id),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-900",children:h.name}),l.jsxs(Ye,{variant:"secondary",className:p.color,children:[l.jsx(g,{className:"w-3 h-3 mr-1"}),h.status]})]}),l.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["Distance: ",h.distance]}),l.jsxs("span",{children:["ETA: ",h.time]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["Capacity: ",h.capacity]}),l.jsxs("span",{children:["Current: ",h.current]})]}),l.jsx(Fa,{value:h.current/h.capacity*100,className:"h-1 mt-2"})]})]},h.id)})})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(he,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white",onClick:()=>window.open("tel:108","_self"),children:[l.jsx(on,{className:"w-4 h-4 mr-2"}),"Activate Emergency Protocol"]}),l.jsxs(he,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:()=>window.location.reload(),children:[l.jsx(JT,{className:"w-4 h-4 mr-2"}),"Update Route Status"]}),l.jsxs(he,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>window.open("tel:+91-98765-43210","_self"),children:[l.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Contact Traffic Control"]})]})]})]})]})}),l.jsx(Uo,{value:"shelters",className:"space-y-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((h,p)=>{const g=c(h.status),v=h.occupied/h.capacity*100;return l.jsxs(Le,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:h.name}),l.jsx(Ye,{variant:"secondary",className:g.color,children:g.text})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("span",{children:h.location})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Occupancy"}),l.jsxs("span",{className:"font-medium text-slate-900",children:[h.occupied,"/",h.capacity]})]}),l.jsx(Fa,{value:v,className:"h-2"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:h.amenities.map((y,C)=>l.jsxs(Ye,{variant:"outline",className:"text-xs",children:[y==="Food"&&l.jsx(nA,{className:"w-3 h-3 mr-1"}),y==="Medical"&&l.jsx(j_,{className:"w-3 h-3 mr-1"}),y==="WiFi"&&l.jsx(uk,{className:"w-3 h-3 mr-1"}),y]},C))}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(he,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>window.open(`tel:${h.contact||"+91-98765-43210"}`,"_self"),children:[l.jsx(ui,{className:"w-3 h-3 mr-1"}),"Contact"]}),l.jsxs(he,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{window.open(`https://www.google.com/maps?q=${h.lat},${h.lon}`,"_blank")},children:[l.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Directions"]})]})]})]},p)})})}),l.jsxs(Uo,{value:"resources",className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resource Inventory"}),l.jsx("div",{className:"space-y-4",children:i.map(h=>{const p=h.icon,g=h.current/h.capacity*100;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(p,{className:`w-4 h-4 mr-2 text-${h.color}-500`}),l.jsx("span",{className:"text-sm font-medium text-slate-800",children:h.name})]}),l.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[h.current.toLocaleString()," / ",h.capacity.toLocaleString()]})]}),l.jsx(Fa,{value:g,className:"h-2"})]},h.name)})})]}),l.jsxs(Le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Active Delivery Missions"}),l.jsx("div",{className:"space-y-3",children:r.map(h=>{const p=d(h.status),g=p.icon;return l.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 bg-slate-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["Mission: ",h.id]}),l.jsxs(Ye,{variant:"secondary",className:p.color,children:[l.jsx(g,{className:"w-3 h-3 mr-1"}),h.status]})]}),l.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"To:"})," ",h.destination]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"ETA:"})," ",h.eta]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Contents:"})," ",h.contents]})]})]},h.id)})})]})]}),l.jsx(Uo,{value:"damage",children:l.jsx(KQ,{})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(ui,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"People Evacuated"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"2,847"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Successfully relocated"})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(Gm,{className:"w-6 h-6 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Shelters"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"18"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Operational facilities"})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(Vy,{className:"w-6 h-6 text-yellow-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Supply Deliveries"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"156"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Completed today"})]}),l.jsxs(Le,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(hs,{className:"w-6 h-6 text-purple-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"12min"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average deployment"})]})]})]})},ZQ=()=>{const{userProfile:t,updateUserProfile:e,currentUser:n}=Su();return console.log("Profile page rendering..."),console.log("Current user:",n),console.log("User profile:",t),n?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-teal-100 rounded-full flex items-center justify-center mx-auto",children:l.jsx(Ah,{className:"w-12 h-12 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Profile Settings"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Manage your account and preferences"})]})]}),l.jsxs(Or,{className:"max-w-2xl mx-auto",children:[l.jsxs(Dr,{children:[l.jsx(Lr,{children:"Basic Profile Information"}),l.jsx(Ew,{children:"Your account details"})]}),l.jsx(Vr,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Tn,{children:"Display Name"}),l.jsx("p",{className:"text-lg font-medium",children:t?.displayName||"Not set"})]}),l.jsxs("div",{children:[l.jsx(Tn,{children:"Email"}),l.jsx("p",{className:"text-lg font-medium",children:t?.email||"Not set"})]}),l.jsxs("div",{children:[l.jsx(Tn,{children:"Role"}),l.jsx(Ye,{variant:"secondary",children:t?.role?.replace("_"," ").toUpperCase()||"USER"})]}),l.jsxs("div",{children:[l.jsx(Tn,{children:"Member Since"}),l.jsx("p",{className:"text-sm text-gray-600",children:t?.joinedAt?new Date(t.joinedAt).toLocaleDateString():"Unknown"})]})]})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Ah,{className:"w-16 h-16 text-gray-400 mx-auto"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Please log in to view your profile"})]})})};function YQ(){return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:l.jsxs("div",{className:"space-y-6 max-w-md",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),l.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsx(he,{asChild:!0,children:l.jsx("a",{href:"/",children:"Return Home"})}),l.jsx(he,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const QQ=new KV,XQ=()=>l.jsx(ZV,{client:QQ,children:l.jsx($H,{children:l.jsxs(xV,{children:[l.jsx(I3,{}),l.jsx(wD,{children:l.jsxs(SD,{children:[l.jsx(Js,{path:"/",element:l.jsx(nK,{})}),l.jsx(Js,{path:"/auth",element:l.jsx(cK,{})}),l.jsx(Js,{path:"/dashboard",element:l.jsx(No,{children:l.jsx(Ao,{children:l.jsx(DZ,{})})})}),l.jsx(Js,{path:"/predictions",element:l.jsx(No,{children:l.jsx(Ao,{children:l.jsx(uY,{})})})}),l.jsx(Js,{path:"/alerts",element:l.jsx(No,{children:l.jsx(Ao,{children:l.jsx(gY,{})})})}),l.jsx(Js,{path:"/reports",element:l.jsx(No,{children:l.jsx(Ao,{children:l.jsx(uQ,{})})})}),l.jsx(Js,{path:"/assessment",element:l.jsx(No,{children:l.jsx(Ao,{children:l.jsx(hQ,{})})})}),l.jsx(Js,{path:"/planning",element:l.jsx(No,{children:l.jsx(Ao,{children:l.jsx(WQ,{})})})}),l.jsx(Js,{path:"/profile",element:l.jsx(No,{children:l.jsx(Ao,{children:l.jsx(ZQ,{})})})}),l.jsx(Js,{path:"/index",element:l.jsx(IA,{to:"/dashboard",replace:!0})}),l.jsx(Js,{path:"*",element:l.jsx(YQ,{})})]})})]})})});e3.createRoot(document.getElementById("root")).render(l.jsx(XQ,{}));
