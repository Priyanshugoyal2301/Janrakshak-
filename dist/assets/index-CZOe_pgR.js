import{r as x,a as _u,R as le,b as rA,c as iA,g as cL,d as ks,u as Ng,e as Wh,L as uL,N as up,f as dL,h as aA,B as hL,i as fL,j as Ln}from"./react-vendor-C9zSxLv9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var oA={exports:{}},Ag={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL=Symbol.for("react.transitional.element"),pL=Symbol.for("react.fragment");function lA(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:mL,type:t,key:s,ref:e!==void 0?e:null,props:n}}Ag.Fragment=pL;Ag.jsx=lA;Ag.jsxs=lA;oA.exports=Ag;var l=oA.exports,cA={exports:{}},Cg={},uA={exports:{}},dA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,ee){var B=W.length;W.push(ee);e:for(;0<B;){var q=B-1>>>1,X=W[q];if(0<r(X,ee))W[q]=ee,W[B]=X,B=q;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ee=W[0],B=W.pop();if(B!==ee){W[0]=B;e:for(var q=0,X=W.length,ce=X>>>1;q<ce;){var G=2*(q+1)-1,ue=W[G],oe=G+1,he=W[oe];if(0>r(ue,B))oe<X&&0>r(he,ue)?(W[q]=he,W[oe]=B,q=oe):(W[q]=ue,W[G]=B,q=G);else if(oe<X&&0>r(he,B))W[q]=he,W[oe]=B,q=oe;else break e}}return ee}function r(W,ee){var B=W.sortIndex-ee.sortIndex;return B!==0?B:W.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,g=null,v=3,y=!1,A=!1,w=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function O(W){for(var ee=n(h);ee!==null;){if(ee.callback===null)s(h);else if(ee.startTime<=W)s(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(h)}}function F(W){if(w=!1,O(W),!A)if(n(d)!==null)A=!0,$||($=!0,U());else{var ee=n(h);ee!==null&&me(F,ee.startTime-W)}}var $=!1,j=-1,P=5,D=-1;function I(){return R?!0:!(t.unstable_now()-D<P)}function M(){if(R=!1,$){var W=t.unstable_now();D=W;var ee=!0;try{e:{A=!1,w&&(w=!1,T(j),j=-1),y=!0;var B=v;try{t:{for(O(W),g=n(d);g!==null&&!(g.expirationTime>W&&I());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var X=q(g.expirationTime<=W);if(W=t.unstable_now(),typeof X=="function"){g.callback=X,O(W),ee=!0;break t}g===n(d)&&s(d),O(W)}else s(d);g=n(d)}if(g!==null)ee=!0;else{var ce=n(h);ce!==null&&me(F,ce.startTime-W),ee=!1}}break e}finally{g=null,v=B,y=!1}ee=void 0}}finally{ee?U():$=!1}}}var U;if(typeof N=="function")U=function(){N(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=M,U=function(){ne.postMessage(null)}}else U=function(){E(M,0)};function me(W,ee){j=E(function(){W(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var B=v;v=ee;try{return W()}finally{v=B}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var B=v;v=W;try{return ee()}finally{v=B}},t.unstable_scheduleCallback=function(W,ee,B){var q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,W={id:m++,callback:ee,priorityLevel:W,startTime:B,expirationTime:X,sortIndex:-1},B>q?(W.sortIndex=B,e(h,W),n(d)===null&&W===n(h)&&(w?(T(j),j=-1):w=!0,me(F,B-q))):(W.sortIndex=X,e(d,W),A||y||(A=!0,$||($=!0,U()))),W},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(W){var ee=v;return function(){var B=v;v=ee;try{return W.apply(this,arguments)}finally{v=B}}}})(dA);uA.exports=dA;var gL=uA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rn=gL,hA=x,vL=_u;function te(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z1(t){if(Kh(t)!==t)throw Error(te(188))}function yL(t){var e=t.alternate;if(!e){if(e=Kh(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return z1(r),t;if(i===s)return z1(r),e;i=i.sibling}throw Error(te(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,s=i;break}if(c===s){o=!0,s=r,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,s=r;break}if(c===s){o=!0,s=i,n=r;break}c=c.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==s)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function pA(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=pA(t),e!==null)return e;t=t.sibling}return null}var Et=Object.assign,_L=Symbol.for("react.element"),nm=Symbol.for("react.transitional.element"),Sd=Symbol.for("react.portal"),vc=Symbol.for("react.fragment"),gA=Symbol.for("react.strict_mode"),g0=Symbol.for("react.profiler"),xL=Symbol.for("react.provider"),vA=Symbol.for("react.consumer"),Vi=Symbol.for("react.context"),Rx=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),y0=Symbol.for("react.suspense_list"),jx=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),_0=Symbol.for("react.activity"),bL=Symbol.for("react.memo_cache_sentinel"),B1=Symbol.iterator;function hd(t){return t===null||typeof t!="object"?null:(t=B1&&t[B1]||t["@@iterator"],typeof t=="function"?t:null)}var wL=Symbol.for("react.client.reference");function x0(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===wL?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vc:return"Fragment";case g0:return"Profiler";case gA:return"StrictMode";case v0:return"Suspense";case y0:return"SuspenseList";case _0:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Sd:return"Portal";case Vi:return(t.displayName||"Context")+".Provider";case vA:return(t._context.displayName||"Context")+".Consumer";case Rx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jx:return e=t.displayName||null,e!==null?e:x0(t.type)||"Memo";case Ea:e=t._payload,t=t._init;try{return x0(t(e))}catch{}}return null}var Ed=Array.isArray,je=hA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=vL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Go={pending:!1,data:null,method:null,action:null},b0=[],yc=-1;function ci(t){return{current:t}}function mn(t){0>yc||(t.current=b0[yc],b0[yc]=null,yc--)}function Nt(t,e){yc++,b0[yc]=t.current,t.current=e}var Kr=ci(null),dh=ci(null),Va=ci(null),dp=ci(null);function hp(t,e){switch(Nt(Va,e),Nt(dh,t),Nt(Kr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?GS(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=GS(e),t=M2(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}mn(Kr),Nt(Kr,t)}function Gc(){mn(Kr),mn(dh),mn(Va)}function w0(t){t.memoizedState!==null&&Nt(dp,t);var e=Kr.current,n=M2(e,t.type);e!==n&&(Nt(dh,t),Nt(Kr,n))}function fp(t){dh.current===t&&(mn(Kr),mn(dh)),dp.current===t&&(mn(dp),bh._currentValue=Go)}var S0=Object.prototype.hasOwnProperty,Px=rn.unstable_scheduleCallback,ty=rn.unstable_cancelCallback,SL=rn.unstable_shouldYield,EL=rn.unstable_requestPaint,Zr=rn.unstable_now,TL=rn.unstable_getCurrentPriorityLevel,yA=rn.unstable_ImmediatePriority,_A=rn.unstable_UserBlockingPriority,mp=rn.unstable_NormalPriority,NL=rn.unstable_LowPriority,xA=rn.unstable_IdlePriority,AL=rn.log,CL=rn.unstable_setDisableYieldValue,Zh=null,Ts=null;function Ma(t){if(typeof AL=="function"&&CL(t),Ts&&typeof Ts.setStrictMode=="function")try{Ts.setStrictMode(Zh,t)}catch{}}var Ns=Math.clz32?Math.clz32:PL,RL=Math.log,jL=Math.LN2;function PL(t){return t>>>=0,t===0?32:31-(RL(t)/jL|0)|0}var sm=256,rm=4194304;function Uo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rg(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var c=s&134217727;return c!==0?(s=c&~i,s!==0?r=Uo(s):(o&=c,o!==0?r=Uo(o):n||(n=c&~t,n!==0&&(r=Uo(n))))):(c=s&~i,c!==0?r=Uo(c):o!==0?r=Uo(o):n||(n=s&~t,n!==0&&(r=Uo(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Yh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function IL(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bA(){var t=sm;return sm<<=1,!(sm&4194048)&&(sm=256),t}function wA(){var t=rm;return rm<<=1,!(rm&62914560)&&(rm=4194304),t}function ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kL(t,e,n,s,r,i){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var c=t.entanglements,d=t.expirationTimes,h=t.hiddenUpdates;for(n=o&~n;0<n;){var m=31-Ns(n),g=1<<m;c[m]=0,d[m]=-1;var v=h[m];if(v!==null)for(h[m]=null,m=0;m<v.length;m++){var y=v[m];y!==null&&(y.lane&=-536870913)}n&=~g}s!==0&&SA(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(o&~e))}function SA(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ns(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194090}function EA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ns(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function Ix(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kx(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function TA(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:$2(t.type))}function ML(t,e){var n=ot.p;try{return ot.p=t,e()}finally{ot.p=n}}var ho=Math.random().toString(36).slice(2),Pn="__reactFiber$"+ho,ls="__reactProps$"+ho,xu="__reactContainer$"+ho,E0="__reactEvents$"+ho,OL="__reactListeners$"+ho,DL="__reactHandles$"+ho,F1="__reactResources$"+ho,Xh="__reactMarker$"+ho;function Mx(t){delete t[Pn],delete t[ls],delete t[E0],delete t[OL],delete t[DL]}function _c(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xu]||n[Pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZS(t);t!==null;){if(n=t[Pn])return n;t=ZS(t)}return e}t=n,n=t.parentNode}return null}function bu(t){if(t=t[Pn]||t[xu]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Td(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(te(33))}function Rc(t){var e=t[F1];return e||(e=t[F1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function un(t){t[Xh]=!0}var NA=new Set,AA={};function vl(t,e){Wc(t,e),Wc(t+"Capture",e)}function Wc(t,e){for(AA[t]=e,t=0;t<e.length;t++)NA.add(e[t])}var LL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H1={},$1={};function UL(t){return S0.call($1,t)?!0:S0.call(H1,t)?!1:LL.test(t)?$1[t]=!0:(H1[t]=!0,!1)}function Dm(t,e,n){if(UL(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function im(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ji(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}var sy,q1;function oc(t){if(sy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sy=e&&e[1]||"",q1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sy+t+q1}var ry=!1;function iy(t,e){if(!t||ry)return"";ry=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(y){var v=y}Reflect.construct(t,[],g)}else{try{g.call()}catch(y){v=y}t.call(g.prototype)}}else{try{throw Error()}catch(y){v=y}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(y){if(y&&v&&typeof y.stack=="string")return[y.stack,v.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),o=i[0],c=i[1];if(o&&c){var d=o.split(`
`),h=c.split(`
`);for(r=s=0;s<d.length&&!d[s].includes("DetermineComponentFrameRoot");)s++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(s===d.length||r===h.length)for(s=d.length-1,r=h.length-1;1<=s&&0<=r&&d[s]!==h[r];)r--;for(;1<=s&&0<=r;s--,r--)if(d[s]!==h[r]){if(s!==1||r!==1)do if(s--,r--,0>r||d[s]!==h[r]){var m=`
`+d[s].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=s&&0<=r);break}}}finally{ry=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?oc(n):""}function VL(t){switch(t.tag){case 26:case 27:case 5:return oc(t.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 15:return iy(t.type,!1);case 11:return iy(t.type.render,!1);case 1:return iy(t.type,!0);case 31:return oc("Activity");default:return""}}function G1(t){try{var e="";do e+=VL(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Gs(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zL(t){var e=CA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pp(t){t._valueTracker||(t._valueTracker=zL(t))}function RA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=CA(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var BL=/[\n"\\]/g;function Ys(t){return t.replace(BL,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function T0(t,e,n,s,r,i,o,c){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Gs(e)):t.value!==""+Gs(e)&&(t.value=""+Gs(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?N0(t,o,Gs(e)):n!=null?N0(t,o,Gs(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+Gs(c):t.removeAttribute("name")}function jA(t,e,n,s,r,i,o,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Gs(n):"",e=e!=null?""+Gs(e):n,c||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=c?t.checked:!!s,t.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function N0(t,e,n){e==="number"&&gp(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function jc(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function PA(t,e,n){if(e!=null&&(e=""+Gs(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Gs(n):""}function IA(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(te(92));if(Ed(s)){if(1<s.length)throw Error(te(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Gs(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function Kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var FL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function W1(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||FL.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function kA(t,e,n){if(e!=null&&typeof e!="object")throw Error(te(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&W1(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&W1(t,i,e[i])}function Ox(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$L=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lm(t){return $L.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var A0=null;function Dx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xc=null,Pc=null;function K1(t){var e=bu(t);if(e&&(t=e.stateNode)){var n=t[ls]||null;e:switch(t=e.stateNode,e.type){case"input":if(T0(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ys(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[ls]||null;if(!r)throw Error(te(90));T0(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&RA(s)}break e;case"textarea":PA(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&jc(t,!!n.multiple,e,!1)}}}var ay=!1;function MA(t,e,n){if(ay)return t(e,n);ay=!0;try{var s=t(e);return s}finally{if(ay=!1,(xc!==null||Pc!==null)&&(Vg(),xc&&(e=xc,t=Pc,Pc=xc=null,K1(e),t)))for(e=0;e<t.length;e++)K1(t[e])}}function hh(t,e){var n=t.stateNode;if(n===null)return null;var s=n[ls]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C0=!1;if(Yi)try{var fd={};Object.defineProperty(fd,"passive",{get:function(){C0=!0}}),window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{C0=!1}var Oa=null,Lx=null,Um=null;function OA(){if(Um)return Um;var t,e=Lx,n=e.length,s,r="value"in Oa?Oa.value:Oa.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Um=r.slice(t,1<s?1-s:void 0)}function Vm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function am(){return!0}function Z1(){return!1}function cs(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?am:Z1,this.isPropagationStopped=Z1,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),e}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=cs(yl),Jh=Et({},yl,{view:0,detail:0}),qL=cs(Jh),oy,ly,md,Pg=Et({},Jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ux,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==md&&(md&&t.type==="mousemove"?(oy=t.screenX-md.screenX,ly=t.screenY-md.screenY):ly=oy=0,md=t),oy)},movementY:function(t){return"movementY"in t?t.movementY:ly}}),Y1=cs(Pg),GL=Et({},Pg,{dataTransfer:0}),WL=cs(GL),KL=Et({},Jh,{relatedTarget:0}),cy=cs(KL),ZL=Et({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),YL=cs(ZL),QL=Et({},yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XL=cs(QL),JL=Et({},yl,{data:0}),Q1=cs(JL),e4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n4[t])?!!e[t]:!1}function Ux(){return s4}var r4=Et({},Jh,{key:function(t){if(t.key){var e=e4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ux,charCode:function(t){return t.type==="keypress"?Vm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i4=cs(r4),a4=Et({},Pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X1=cs(a4),o4=Et({},Jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ux}),l4=cs(o4),c4=Et({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),u4=cs(c4),d4=Et({},Pg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h4=cs(d4),f4=Et({},yl,{newState:0,oldState:0}),m4=cs(f4),p4=[9,13,27,32],Vx=Yi&&"CompositionEvent"in window,Ld=null;Yi&&"documentMode"in document&&(Ld=document.documentMode);var g4=Yi&&"TextEvent"in window&&!Ld,DA=Yi&&(!Vx||Ld&&8<Ld&&11>=Ld),J1=" ",eS=!1;function LA(t,e){switch(t){case"keyup":return p4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bc=!1;function v4(t,e){switch(t){case"compositionend":return UA(e);case"keypress":return e.which!==32?null:(eS=!0,J1);case"textInput":return t=e.data,t===J1&&eS?null:t;default:return null}}function y4(t,e){if(bc)return t==="compositionend"||!Vx&&LA(t,e)?(t=OA(),Um=Lx=Oa=null,bc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DA&&e.locale!=="ko"?null:e.data;default:return null}}var _4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_4[t.type]:e==="textarea"}function VA(t,e,n,s){xc?Pc?Pc.push(s):Pc=[s]:xc=s,e=Mp(e,"onChange"),0<e.length&&(n=new jg("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ud=null,fh=null;function x4(t){P2(t,0)}function Ig(t){var e=Td(t);if(RA(e))return t}function nS(t,e){if(t==="change")return e}var zA=!1;if(Yi){var uy;if(Yi){var dy="oninput"in document;if(!dy){var sS=document.createElement("div");sS.setAttribute("oninput","return;"),dy=typeof sS.oninput=="function"}uy=dy}else uy=!1;zA=uy&&(!document.documentMode||9<document.documentMode)}function rS(){Ud&&(Ud.detachEvent("onpropertychange",BA),fh=Ud=null)}function BA(t){if(t.propertyName==="value"&&Ig(fh)){var e=[];VA(e,fh,t,Dx(t)),MA(x4,e)}}function b4(t,e,n){t==="focusin"?(rS(),Ud=e,fh=n,Ud.attachEvent("onpropertychange",BA)):t==="focusout"&&rS()}function w4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ig(fh)}function S4(t,e){if(t==="click")return Ig(e)}function E4(t,e){if(t==="input"||t==="change")return Ig(e)}function T4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ms=typeof Object.is=="function"?Object.is:T4;function mh(t,e){if(Ms(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!S0.call(e,r)||!Ms(t[r],e[r]))return!1}return!0}function iS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aS(t,e){var n=iS(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iS(n)}}function FA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HA(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=gp(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gp(t.document)}return e}function zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var N4=Yi&&"documentMode"in document&&11>=document.documentMode,wc=null,R0=null,Vd=null,j0=!1;function oS(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j0||wc==null||wc!==gp(s)||(s=wc,"selectionStart"in s&&zx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vd&&mh(Vd,s)||(Vd=s,s=Mp(R0,"onSelect"),0<s.length&&(e=new jg("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=wc)))}function Io(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sc={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionrun:Io("Transition","TransitionRun"),transitionstart:Io("Transition","TransitionStart"),transitioncancel:Io("Transition","TransitionCancel"),transitionend:Io("Transition","TransitionEnd")},hy={},$A={};Yi&&($A=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function _l(t){if(hy[t])return hy[t];if(!Sc[t])return t;var e=Sc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $A)return hy[t]=e[n];return t}var qA=_l("animationend"),GA=_l("animationiteration"),WA=_l("animationstart"),A4=_l("transitionrun"),C4=_l("transitionstart"),R4=_l("transitioncancel"),KA=_l("transitionend"),ZA=new Map,P0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");P0.push("scrollEnd");function Rr(t,e){ZA.set(t,e),vl(e,[t])}var lS=new WeakMap;function Qs(t,e){if(typeof t=="object"&&t!==null){var n=lS.get(t);return n!==void 0?n:(e={value:t,source:e,stack:G1(e)},lS.set(t,e),e)}return{value:t,source:e,stack:G1(e)}}var qs=[],Ec=0,Bx=0;function kg(){for(var t=Ec,e=Bx=Ec=0;e<t;){var n=qs[e];qs[e++]=null;var s=qs[e];qs[e++]=null;var r=qs[e];qs[e++]=null;var i=qs[e];if(qs[e++]=null,s!==null&&r!==null){var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}i!==0&&YA(n,r,i)}}function Mg(t,e,n,s){qs[Ec++]=t,qs[Ec++]=e,qs[Ec++]=n,qs[Ec++]=s,Bx|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Fx(t,e,n,s){return Mg(t,e,n,s),vp(t)}function wu(t,e){return Mg(t,null,null,e),vp(t)}function YA(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-Ns(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function vp(t){if(50<Zd)throw Zd=0,X0=null,Error(te(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Tc={};function j4(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(t,e,n,s){return new j4(t,e,n,s)}function Hx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,e){var n=t.alternate;return n===null?(n=Ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function QA(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function zm(t,e,n,s,r,i){var o=0;if(s=t,typeof t=="function")Hx(t)&&(o=1);else if(typeof t=="string")o=I6(t,n,Kr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case _0:return t=Ss(31,n,e,r),t.elementType=_0,t.lanes=i,t;case vc:return Wo(n.children,r,i,e);case gA:o=8,r|=24;break;case g0:return t=Ss(12,n,e,r|2),t.elementType=g0,t.lanes=i,t;case v0:return t=Ss(13,n,e,r),t.elementType=v0,t.lanes=i,t;case y0:return t=Ss(19,n,e,r),t.elementType=y0,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xL:case Vi:o=10;break e;case vA:o=9;break e;case Rx:o=11;break e;case jx:o=14;break e;case Ea:o=16,s=null;break e}o=29,n=Error(te(130,t===null?"null":typeof t,"")),s=null}return e=Ss(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Wo(t,e,n,s){return t=Ss(7,t,s,e),t.lanes=n,t}function fy(t,e,n){return t=Ss(6,t,null,e),t.lanes=n,t}function my(t,e,n){return e=Ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Nc=[],Ac=0,yp=null,_p=0,Ws=[],Ks=0,Ko=null,zi=1,Bi="";function Vo(t,e){Nc[Ac++]=_p,Nc[Ac++]=yp,yp=t,_p=e}function XA(t,e,n){Ws[Ks++]=zi,Ws[Ks++]=Bi,Ws[Ks++]=Ko,Ko=t;var s=zi;t=Bi;var r=32-Ns(s)-1;s&=~(1<<r),n+=1;var i=32-Ns(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,zi=1<<32-Ns(e)+r|n<<r|s,Bi=i+t}else zi=1<<i|n<<r|s,Bi=t}function $x(t){t.return!==null&&(Vo(t,1),XA(t,1,0))}function qx(t){for(;t===yp;)yp=Nc[--Ac],Nc[Ac]=null,_p=Nc[--Ac],Nc[Ac]=null;for(;t===Ko;)Ko=Ws[--Ks],Ws[Ks]=null,Bi=Ws[--Ks],Ws[Ks]=null,zi=Ws[--Ks],Ws[Ks]=null}var zn=null,Mt=null,at=!1,Zo=null,$r=!1,I0=Error(te(519));function nl(t){var e=Error(te(418,""));throw ph(Qs(e,t)),I0}function cS(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[Pn]=t,e[ls]=s,n){case"dialog":qe("cancel",e),qe("close",e);break;case"iframe":case"object":case"embed":qe("load",e);break;case"video":case"audio":for(n=0;n<yh.length;n++)qe(yh[n],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"input":qe("invalid",e),jA(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),pp(e);break;case"select":qe("invalid",e);break;case"textarea":qe("invalid",e),IA(e,s.value,s.defaultValue,s.children),pp(e)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||k2(e.textContent,n)?(s.popover!=null&&(qe("beforetoggle",e),qe("toggle",e)),s.onScroll!=null&&qe("scroll",e),s.onScrollEnd!=null&&qe("scrollend",e),s.onClick!=null&&(e.onclick=Fg),e=!0):e=!1,e||nl(t)}function uS(t){for(zn=t.return;zn;)switch(zn.tag){case 5:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:zn=zn.return}}function pd(t){if(t!==zn)return!1;if(!at)return uS(t),at=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||r_(t.type,t.memoizedProps)),n=!n),n&&Mt&&nl(t),uS(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Mt=Er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Mt=null}}else e===27?(e=Mt,fo(t.type)?(t=o_,o_=null,Mt=t):Mt=e):Mt=zn?Er(t.stateNode.nextSibling):null;return!0}function ef(){Mt=zn=null,at=!1}function dS(){var t=Zo;return t!==null&&(Xn===null?Xn=t:Xn.push.apply(Xn,t),Zo=null),t}function ph(t){Zo===null?Zo=[t]:Zo.push(t)}var k0=ci(null),xl=null,Fi=null;function Na(t,e,n){Nt(k0,e._currentValue),e._currentValue=n}function Wi(t){t._currentValue=k0.current,mn(k0)}function M0(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function O0(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var o=r.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=r;for(var d=0;d<e.length;d++)if(c.context===e[d]){i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),M0(i.return,n,t),s||(o=null);break e}i=c.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(te(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),M0(o,n,t),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function tf(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(te(387));if(o=o.memoizedProps,o!==null){var c=r.type;Ms(r.pendingProps.value,o.value)||(t!==null?t.push(c):t=[c])}}else if(r===dp.current){if(o=r.alternate,o===null)throw Error(te(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(bh):t=[bh])}r=r.return}t!==null&&O0(e,t,n,s),e.flags|=262144}function xp(t){for(t=t.firstContext;t!==null;){if(!Ms(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sl(t){xl=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function In(t){return JA(xl,t)}function om(t,e){return xl===null&&sl(t),JA(t,e)}function JA(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Fi===null){if(t===null)throw Error(te(308));Fi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Fi=Fi.next=e;return n}var P4=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},I4=rn.unstable_scheduleCallback,k4=rn.unstable_NormalPriority,en={$$typeof:Vi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gx(){return{controller:new P4,data:new Map,refCount:0}}function nf(t){t.refCount--,t.refCount===0&&I4(k4,function(){t.controller.abort()})}var zd=null,D0=0,Zc=0,Ic=null;function M4(t,e){if(zd===null){var n=zd=[];D0=0,Zc=pb(),Ic={status:"pending",value:void 0,then:function(s){n.push(s)}}}return D0++,e.then(hS,hS),e}function hS(){if(--D0===0&&zd!==null){Ic!==null&&(Ic.status="fulfilled");var t=zd;zd=null,Zc=0,Ic=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function O4(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var fS=je.S;je.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&M4(t,e),fS!==null&&fS(t,e)};var Yo=ci(null);function Wx(){var t=Yo.current;return t!==null?t:bt.pooledCache}function Bm(t,e){e===null?Nt(Yo,Yo.current):Nt(Yo,e.pool)}function eC(){var t=Wx();return t===null?null:{parent:en._currentValue,pool:t}}var sf=Error(te(460)),tC=Error(te(474)),Og=Error(te(542)),L0={then:function(){}};function mS(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lm(){}function nC(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(lm,lm),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gS(t),t;default:if(typeof e.status=="string")e.then(lm,lm);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(te(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,gS(t),t}throw Bd=e,sf}}var Bd=null;function pS(){if(Bd===null)throw Error(te(459));var t=Bd;return Bd=null,t}function gS(t){if(t===sf||t===Og)throw Error(te(483))}var Ta=!1;function Kx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function U0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function za(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ft&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=vp(t),YA(t,null,n),e}return Mg(t,s,e,n),vp(t)}function Fd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,EA(t,n)}}function py(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var V0=!1;function Hd(){if(V0){var t=Ic;if(t!==null)throw t}}function $d(t,e,n,s){V0=!1;var r=t.updateQueue;Ta=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var d=c,h=d.next;d.next=null,o===null?i=h:o.next=h,o=d;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==o&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=d))}if(i!==null){var g=r.baseState;o=0,m=h=d=null,c=i;do{var v=c.lane&-536870913,y=v!==c.lane;if(y?(et&v)===v:(s&v)===v){v!==0&&v===Zc&&(V0=!0),m!==null&&(m=m.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var A=t,w=c;v=e;var R=n;switch(w.tag){case 1:if(A=w.payload,typeof A=="function"){g=A.call(R,g,v);break e}g=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=w.payload,v=typeof A=="function"?A.call(R,g,v):A,v==null)break e;g=Et({},g,v);break e;case 2:Ta=!0}}v=c.callback,v!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[v]:y.push(v))}else y={lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=y,d=g):m=m.next=y,o|=v;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;y=c,c=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);m===null&&(d=g),r.baseState=d,r.firstBaseUpdate=h,r.lastBaseUpdate=m,i===null&&(r.shared.lanes=0),eo|=o,t.lanes=o,t.memoizedState=g}}function sC(t,e){if(typeof t!="function")throw Error(te(191,t));t.call(e)}function rC(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)sC(n[t],e)}var Yc=ci(null),bp=ci(0);function vS(t,e){t=Ji,Nt(bp,t),Nt(Yc,e),Ji=t|e.baseLanes}function z0(){Nt(bp,Ji),Nt(Yc,Yc.current)}function Zx(){Ji=bp.current,mn(Yc),mn(bp)}var Xa=0,Be=null,gt=null,Wt=null,wp=!1,kc=!1,rl=!1,Sp=0,gh=0,Mc=null,D4=0;function Vt(){throw Error(te(321))}function Yx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ms(t[n],e[n]))return!1;return!0}function Qx(t,e,n,s,r,i){return Xa=i,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,je.H=t===null||t.memoizedState===null?OC:DC,rl=!1,i=n(s,r),rl=!1,kc&&(i=aC(e,n,s,r)),iC(t),i}function iC(t){je.H=Ep;var e=gt!==null&&gt.next!==null;if(Xa=0,Wt=gt=Be=null,wp=!1,gh=0,Mc=null,e)throw Error(te(300));t===null||hn||(t=t.dependencies,t!==null&&xp(t)&&(hn=!0))}function aC(t,e,n,s){Be=t;var r=0;do{if(kc&&(Mc=null),gh=0,kc=!1,25<=r)throw Error(te(301));if(r+=1,Wt=gt=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}je.H=H4,i=e(n,s)}while(kc);return i}function L4(){var t=je.H,e=t.useState()[0];return e=typeof e.then=="function"?rf(e):e,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Be.flags|=1024),e}function Xx(){var t=Sp!==0;return Sp=0,t}function Jx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function eb(t){if(wp){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}wp=!1}Xa=0,Wt=gt=Be=null,kc=!1,gh=Sp=0,Mc=null}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Be.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Zt(){if(gt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Wt===null?Be.memoizedState:Wt.next;if(e!==null)Wt=e,gt=t;else{if(t===null)throw Be.alternate===null?Error(te(467)):Error(te(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Wt===null?Be.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function tb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rf(t){var e=gh;return gh+=1,Mc===null&&(Mc=[]),t=nC(Mc,t,e),e=Be,(Wt===null?e.memoizedState:Wt.next)===null&&(e=e.alternate,je.H=e===null||e.memoizedState===null?OC:DC),t}function Dg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rf(t);if(t.$$typeof===Vi)return In(t)}throw Error(te(438,String(t)))}function nb(t){var e=null,n=Be.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=tb(),Be.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=bL;return e.index++,n}function Qi(t,e){return typeof e=="function"?e(t):e}function Fm(t){var e=Zt();return sb(e,gt,t)}function sb(t,e,n){var s=t.queue;if(s===null)throw Error(te(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var c=o=null,d=null,h=e,m=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(et&g)===g:(Xa&g)===g){var v=h.revertLane;if(v===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Zc&&(m=!0);else if((Xa&v)===v){h=h.next,v===Zc&&(m=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=g,o=i):d=d.next=g,Be.lanes|=v,eo|=v;g=h.action,rl&&n(i,g),i=h.hasEagerState?h.eagerState:n(i,g)}else v={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=v,o=i):d=d.next=v,Be.lanes|=g,eo|=g;h=h.next}while(h!==null&&h!==e);if(d===null?o=i:d.next=c,!Ms(i,t.memoizedState)&&(hn=!0,m&&(n=Ic,n!==null)))throw n;t.memoizedState=i,t.baseState=o,t.baseQueue=d,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function gy(t){var e=Zt(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Ms(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function oC(t,e,n){var s=Be,r=Zt(),i=at;if(i){if(n===void 0)throw Error(te(407));n=n()}else n=e();var o=!Ms((gt||r).memoizedState,n);o&&(r.memoizedState=n,hn=!0),r=r.queue;var c=uC.bind(null,s,r,t);if(af(2048,8,c,[t]),r.getSnapshot!==e||o||Wt!==null&&Wt.memoizedState.tag&1){if(s.flags|=2048,Qc(9,Lg(),cC.bind(null,s,r,n,e),null),bt===null)throw Error(te(349));i||Xa&124||lC(s,e,n)}return n}function lC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e=tb(),Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cC(t,e,n,s){e.value=n,e.getSnapshot=s,dC(e)&&hC(t)}function uC(t,e,n){return n(function(){dC(e)&&hC(t)})}function dC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ms(t,n)}catch{return!0}}function hC(t){var e=wu(t,2);e!==null&&Cs(e,t,2)}function B0(t){var e=Yn();if(typeof t=="function"){var n=t;if(t=n(),rl){Ma(!0);try{n()}finally{Ma(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},e}function fC(t,e,n,s){return t.baseState=n,sb(t,gt,typeof s=="function"?s:Qi)}function U4(t,e,n,s,r){if(Ug(t))throw Error(te(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};je.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,mC(e,i)):(i.next=n.next,e.pending=n.next=i)}}function mC(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=je.T,o={};je.T=o;try{var c=n(r,s),d=je.S;d!==null&&d(o,c),yS(t,e,c)}catch(h){F0(t,e,h)}finally{je.T=i}}else try{i=n(r,s),yS(t,e,i)}catch(h){F0(t,e,h)}}function yS(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){_S(t,e,s)},function(s){return F0(t,e,s)}):_S(t,e,n)}function _S(t,e,n){e.status="fulfilled",e.value=n,pC(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,mC(t,n)))}function F0(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,pC(e),e=e.next;while(e!==s)}t.action=null}function pC(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function gC(t,e){return e}function xS(t,e){if(at){var n=bt.formState;if(n!==null){e:{var s=Be;if(at){if(Mt){t:{for(var r=Mt,i=$r;r.nodeType!==8;){if(!i){r=null;break t}if(r=Er(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){Mt=Er(r.nextSibling),s=r.data==="F!";break e}}nl(s)}s=!1}s&&(e=n[0])}}return n=Yn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gC,lastRenderedState:e},n.queue=s,n=IC.bind(null,Be,s),s.dispatch=n,s=B0(!1),i=ob.bind(null,Be,!1,s.queue),s=Yn(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=U4.bind(null,Be,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function bS(t){var e=Zt();return vC(e,gt,t)}function vC(t,e,n){if(e=sb(t,e,gC)[0],t=Fm(Qi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=rf(e)}catch(o){throw o===sf?Og:o}else s=e;e=Zt();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(Be.flags|=2048,Qc(9,Lg(),V4.bind(null,r,n),null)),[s,i,t]}function V4(t,e){t.action=e}function wS(t){var e=Zt(),n=gt;if(n!==null)return vC(e,n,t);Zt(),e=e.memoizedState,n=Zt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Qc(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Be.updateQueue,e===null&&(e=tb(),Be.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Lg(){return{destroy:void 0,resource:void 0}}function yC(){return Zt().memoizedState}function Hm(t,e,n,s){var r=Yn();s=s===void 0?null:s,Be.flags|=t,r.memoizedState=Qc(1|e,Lg(),n,s)}function af(t,e,n,s){var r=Zt();s=s===void 0?null:s;var i=r.memoizedState.inst;gt!==null&&s!==null&&Yx(s,gt.memoizedState.deps)?r.memoizedState=Qc(e,i,n,s):(Be.flags|=t,r.memoizedState=Qc(1|e,i,n,s))}function SS(t,e){Hm(8390656,8,t,e)}function _C(t,e){af(2048,8,t,e)}function xC(t,e){return af(4,2,t,e)}function bC(t,e){return af(4,4,t,e)}function wC(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SC(t,e,n){n=n!=null?n.concat([t]):null,af(4,4,wC.bind(null,e,t),n)}function rb(){}function EC(t,e){var n=Zt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&Yx(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function TC(t,e){var n=Zt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&Yx(e,s[1]))return s[0];if(s=t(),rl){Ma(!0);try{t()}finally{Ma(!1)}}return n.memoizedState=[s,e],s}function ib(t,e,n){return n===void 0||Xa&1073741824?t.memoizedState=e:(t.memoizedState=n,t=p2(),Be.lanes|=t,eo|=t,n)}function NC(t,e,n,s){return Ms(n,e)?n:Yc.current!==null?(t=ib(t,n,s),Ms(t,e)||(hn=!0),t):Xa&42?(t=p2(),Be.lanes|=t,eo|=t,e):(hn=!0,t.memoizedState=n)}function AC(t,e,n,s,r){var i=ot.p;ot.p=i!==0&&8>i?i:8;var o=je.T,c={};je.T=c,ob(t,!1,e,n);try{var d=r(),h=je.S;if(h!==null&&h(c,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=O4(d,s);qd(t,e,m,As(t))}else qd(t,e,s,As(t))}catch(g){qd(t,e,{then:function(){},status:"rejected",reason:g},As())}finally{ot.p=i,je.T=o}}function z4(){}function H0(t,e,n,s){if(t.tag!==5)throw Error(te(476));var r=CC(t).queue;AC(t,r,e,Go,n===null?z4:function(){return RC(t),n(s)})}function CC(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Go,baseState:Go,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:Go},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function RC(t){var e=CC(t).next.queue;qd(t,e,{},As())}function ab(){return In(bh)}function jC(){return Zt().memoizedState}function PC(){return Zt().memoizedState}function B4(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=As();t=za(n);var s=Ba(e,t,n);s!==null&&(Cs(s,e,n),Fd(s,e,n)),e={cache:Gx()},t.payload=e;return}e=e.return}}function F4(t,e,n){var s=As();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ug(t)?kC(e,n):(n=Fx(t,e,n,s),n!==null&&(Cs(n,t,s),MC(n,e,s)))}function IC(t,e,n){var s=As();qd(t,e,n,s)}function qd(t,e,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ug(t))kC(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,n);if(r.hasEagerState=!0,r.eagerState=c,Ms(c,o))return Mg(t,e,r,0),bt===null&&kg(),!1}catch{}finally{}if(n=Fx(t,e,r,s),n!==null)return Cs(n,t,s),MC(n,e,s),!0}return!1}function ob(t,e,n,s){if(s={lane:2,revertLane:pb(),action:s,hasEagerState:!1,eagerState:null,next:null},Ug(t)){if(e)throw Error(te(479))}else e=Fx(t,n,s,2),e!==null&&Cs(e,t,2)}function Ug(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function kC(t,e){kc=wp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MC(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,EA(t,n)}}var Ep={readContext:In,use:Dg,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},OC={readContext:In,use:Dg,useCallback:function(t,e){return Yn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:SS,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Hm(4194308,4,wC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hm(4194308,4,t,e)},useInsertionEffect:function(t,e){Hm(4,2,t,e)},useMemo:function(t,e){var n=Yn();e=e===void 0?null:e;var s=t();if(rl){Ma(!0);try{t()}finally{Ma(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Yn();if(n!==void 0){var r=n(e);if(rl){Ma(!0);try{n(e)}finally{Ma(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=F4.bind(null,Be,t),[s.memoizedState,t]},useRef:function(t){var e=Yn();return t={current:t},e.memoizedState=t},useState:function(t){t=B0(t);var e=t.queue,n=IC.bind(null,Be,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:rb,useDeferredValue:function(t,e){var n=Yn();return ib(n,t,e)},useTransition:function(){var t=B0(!1);return t=AC.bind(null,Be,t.queue,!0,!1),Yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Be,r=Yn();if(at){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),bt===null)throw Error(te(349));et&124||lC(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,SS(uC.bind(null,s,i,t),[t]),s.flags|=2048,Qc(9,Lg(),cC.bind(null,s,i,n,e),null),n},useId:function(){var t=Yn(),e=bt.identifierPrefix;if(at){var n=Bi,s=zi;n=(s&~(1<<32-Ns(s)-1)).toString(32)+n,e=""+e+"R"+n,n=Sp++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=D4++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:ab,useFormState:xS,useActionState:xS,useOptimistic:function(t){var e=Yn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ob.bind(null,Be,!0,n),n.dispatch=e,[t,e]},useMemoCache:nb,useCacheRefresh:function(){return Yn().memoizedState=B4.bind(null,Be)}},DC={readContext:In,use:Dg,useCallback:EC,useContext:In,useEffect:_C,useImperativeHandle:SC,useInsertionEffect:xC,useLayoutEffect:bC,useMemo:TC,useReducer:Fm,useRef:yC,useState:function(){return Fm(Qi)},useDebugValue:rb,useDeferredValue:function(t,e){var n=Zt();return NC(n,gt.memoizedState,t,e)},useTransition:function(){var t=Fm(Qi)[0],e=Zt().memoizedState;return[typeof t=="boolean"?t:rf(t),e]},useSyncExternalStore:oC,useId:jC,useHostTransitionStatus:ab,useFormState:bS,useActionState:bS,useOptimistic:function(t,e){var n=Zt();return fC(n,gt,t,e)},useMemoCache:nb,useCacheRefresh:PC},H4={readContext:In,use:Dg,useCallback:EC,useContext:In,useEffect:_C,useImperativeHandle:SC,useInsertionEffect:xC,useLayoutEffect:bC,useMemo:TC,useReducer:gy,useRef:yC,useState:function(){return gy(Qi)},useDebugValue:rb,useDeferredValue:function(t,e){var n=Zt();return gt===null?ib(n,t,e):NC(n,gt.memoizedState,t,e)},useTransition:function(){var t=gy(Qi)[0],e=Zt().memoizedState;return[typeof t=="boolean"?t:rf(t),e]},useSyncExternalStore:oC,useId:jC,useHostTransitionStatus:ab,useFormState:wS,useActionState:wS,useOptimistic:function(t,e){var n=Zt();return gt!==null?fC(n,gt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:nb,useCacheRefresh:PC},Oc=null,vh=0;function cm(t){var e=vh;return vh+=1,Oc===null&&(Oc=[]),nC(Oc,t,e)}function gd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function um(t,e){throw e.$$typeof===_L?Error(te(525)):(t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ES(t){var e=t._init;return e(t._payload)}function LC(t){function e(E,T){if(t){var N=E.deletions;N===null?(E.deletions=[T],E.flags|=16):N.push(T)}}function n(E,T){if(!t)return null;for(;T!==null;)e(E,T),T=T.sibling;return null}function s(E){for(var T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function r(E,T){return E=Gi(E,T),E.index=0,E.sibling=null,E}function i(E,T,N){return E.index=N,t?(N=E.alternate,N!==null?(N=N.index,N<T?(E.flags|=67108866,T):N):(E.flags|=67108866,T)):(E.flags|=1048576,T)}function o(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function c(E,T,N,O){return T===null||T.tag!==6?(T=fy(N,E.mode,O),T.return=E,T):(T=r(T,N),T.return=E,T)}function d(E,T,N,O){var F=N.type;return F===vc?m(E,T,N.props.children,O,N.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ea&&ES(F)===T.type)?(T=r(T,N.props),gd(T,N),T.return=E,T):(T=zm(N.type,N.key,N.props,null,E.mode,O),gd(T,N),T.return=E,T)}function h(E,T,N,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=my(N,E.mode,O),T.return=E,T):(T=r(T,N.children||[]),T.return=E,T)}function m(E,T,N,O,F){return T===null||T.tag!==7?(T=Wo(N,E.mode,O,F),T.return=E,T):(T=r(T,N),T.return=E,T)}function g(E,T,N){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=fy(""+T,E.mode,N),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nm:return N=zm(T.type,T.key,T.props,null,E.mode,N),gd(N,T),N.return=E,N;case Sd:return T=my(T,E.mode,N),T.return=E,T;case Ea:var O=T._init;return T=O(T._payload),g(E,T,N)}if(Ed(T)||hd(T))return T=Wo(T,E.mode,N,null),T.return=E,T;if(typeof T.then=="function")return g(E,cm(T),N);if(T.$$typeof===Vi)return g(E,om(E,T),N);um(E,T)}return null}function v(E,T,N,O){var F=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return F!==null?null:c(E,T,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case nm:return N.key===F?d(E,T,N,O):null;case Sd:return N.key===F?h(E,T,N,O):null;case Ea:return F=N._init,N=F(N._payload),v(E,T,N,O)}if(Ed(N)||hd(N))return F!==null?null:m(E,T,N,O,null);if(typeof N.then=="function")return v(E,T,cm(N),O);if(N.$$typeof===Vi)return v(E,T,om(E,N),O);um(E,N)}return null}function y(E,T,N,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return E=E.get(N)||null,c(T,E,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case nm:return E=E.get(O.key===null?N:O.key)||null,d(T,E,O,F);case Sd:return E=E.get(O.key===null?N:O.key)||null,h(T,E,O,F);case Ea:var $=O._init;return O=$(O._payload),y(E,T,N,O,F)}if(Ed(O)||hd(O))return E=E.get(N)||null,m(T,E,O,F,null);if(typeof O.then=="function")return y(E,T,N,cm(O),F);if(O.$$typeof===Vi)return y(E,T,N,om(T,O),F);um(T,O)}return null}function A(E,T,N,O){for(var F=null,$=null,j=T,P=T=0,D=null;j!==null&&P<N.length;P++){j.index>P?(D=j,j=null):D=j.sibling;var I=v(E,j,N[P],O);if(I===null){j===null&&(j=D);break}t&&j&&I.alternate===null&&e(E,j),T=i(I,T,P),$===null?F=I:$.sibling=I,$=I,j=D}if(P===N.length)return n(E,j),at&&Vo(E,P),F;if(j===null){for(;P<N.length;P++)j=g(E,N[P],O),j!==null&&(T=i(j,T,P),$===null?F=j:$.sibling=j,$=j);return at&&Vo(E,P),F}for(j=s(j);P<N.length;P++)D=y(j,E,P,N[P],O),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?P:D.key),T=i(D,T,P),$===null?F=D:$.sibling=D,$=D);return t&&j.forEach(function(M){return e(E,M)}),at&&Vo(E,P),F}function w(E,T,N,O){if(N==null)throw Error(te(151));for(var F=null,$=null,j=T,P=T=0,D=null,I=N.next();j!==null&&!I.done;P++,I=N.next()){j.index>P?(D=j,j=null):D=j.sibling;var M=v(E,j,I.value,O);if(M===null){j===null&&(j=D);break}t&&j&&M.alternate===null&&e(E,j),T=i(M,T,P),$===null?F=M:$.sibling=M,$=M,j=D}if(I.done)return n(E,j),at&&Vo(E,P),F;if(j===null){for(;!I.done;P++,I=N.next())I=g(E,I.value,O),I!==null&&(T=i(I,T,P),$===null?F=I:$.sibling=I,$=I);return at&&Vo(E,P),F}for(j=s(j);!I.done;P++,I=N.next())I=y(j,E,P,I.value,O),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?P:I.key),T=i(I,T,P),$===null?F=I:$.sibling=I,$=I);return t&&j.forEach(function(U){return e(E,U)}),at&&Vo(E,P),F}function R(E,T,N,O){if(typeof N=="object"&&N!==null&&N.type===vc&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case nm:e:{for(var F=N.key;T!==null;){if(T.key===F){if(F=N.type,F===vc){if(T.tag===7){n(E,T.sibling),O=r(T,N.props.children),O.return=E,E=O;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ea&&ES(F)===T.type){n(E,T.sibling),O=r(T,N.props),gd(O,N),O.return=E,E=O;break e}n(E,T);break}else e(E,T);T=T.sibling}N.type===vc?(O=Wo(N.props.children,E.mode,O,N.key),O.return=E,E=O):(O=zm(N.type,N.key,N.props,null,E.mode,O),gd(O,N),O.return=E,E=O)}return o(E);case Sd:e:{for(F=N.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){n(E,T.sibling),O=r(T,N.children||[]),O.return=E,E=O;break e}else{n(E,T);break}else e(E,T);T=T.sibling}O=my(N,E.mode,O),O.return=E,E=O}return o(E);case Ea:return F=N._init,N=F(N._payload),R(E,T,N,O)}if(Ed(N))return A(E,T,N,O);if(hd(N)){if(F=hd(N),typeof F!="function")throw Error(te(150));return N=F.call(N),w(E,T,N,O)}if(typeof N.then=="function")return R(E,T,cm(N),O);if(N.$$typeof===Vi)return R(E,T,om(E,N),O);um(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,T!==null&&T.tag===6?(n(E,T.sibling),O=r(T,N),O.return=E,E=O):(n(E,T),O=fy(N,E.mode,O),O.return=E,E=O),o(E)):n(E,T)}return function(E,T,N,O){try{vh=0;var F=R(E,T,N,O);return Oc=null,F}catch(j){if(j===sf||j===Og)throw j;var $=Ss(29,j,null,E.mode);return $.lanes=O,$.return=E,$}finally{}}}var Xc=LC(!0),UC=LC(!1),ir=ci(null),Yr=null;function Aa(t){var e=t.alternate;Nt(tn,tn.current&1),Nt(ir,t),Yr===null&&(e===null||Yc.current!==null||e.memoizedState!==null)&&(Yr=t)}function VC(t){if(t.tag===22){if(Nt(tn,tn.current),Nt(ir,t),Yr===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Yr=t)}}else Ca()}function Ca(){Nt(tn,tn.current),Nt(ir,ir.current)}function Hi(t){mn(ir),Yr===t&&(Yr=null),mn(tn)}var tn=ci(0);function Tp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||a_(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function vy(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $0={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=As(),r=za(s);r.payload=e,n!=null&&(r.callback=n),e=Ba(t,r,s),e!==null&&(Cs(e,t,s),Fd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=As(),r=za(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ba(t,r,s),e!==null&&(Cs(e,t,s),Fd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=As(),s=za(n);s.tag=2,e!=null&&(s.callback=e),e=Ba(t,s,n),e!==null&&(Cs(e,t,n),Fd(e,t,n))}};function TS(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!mh(n,s)||!mh(r,i):!0}function NS(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&$0.enqueueReplaceState(e,e.state,null)}function il(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Et({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Np=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zC(t){Np(t)}function BC(t){console.error(t)}function FC(t){Np(t)}function Ap(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function AS(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function q0(t,e,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){Ap(t,e)},n}function HC(t){return t=za(t),t.tag=3,t}function $C(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){AS(e,n,s)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){AS(e,n,s),typeof r!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function $4(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&tf(e,n,r,!0),n=ir.current,n!==null){switch(n.tag){case 13:return Yr===null?J0():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===L0?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Cy(t,s,r)),!1;case 22:return n.flags|=65536,s===L0?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Cy(t,s,r)),!1}throw Error(te(435,n.tag))}return Cy(t,s,r),J0(),!1}if(at)return e=ir.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==I0&&(t=Error(te(422),{cause:s}),ph(Qs(t,n)))):(s!==I0&&(e=Error(te(423),{cause:s}),ph(Qs(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=Qs(s,n),r=q0(t.stateNode,s,r),py(t,r),Ot!==4&&(Ot=2)),!1;var i=Error(te(520),{cause:s});if(i=Qs(i,n),Kd===null?Kd=[i]:Kd.push(i),Ot!==4&&(Ot=2),e===null)return!0;s=Qs(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=q0(n.stateNode,s,t),py(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Fa===null||!Fa.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=HC(r),$C(r,t,n,s),py(n,r),!1}n=n.return}while(n!==null);return!1}var qC=Error(te(461)),hn=!1;function gn(t,e,n,s){e.child=t===null?UC(e,null,n,s):Xc(e,t.child,n,s)}function CS(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}else o=s;return sl(e),s=Qx(t,e,n,o,i,r),c=Xx(),t!==null&&!hn?(Jx(t,e,r),Xi(t,e,r)):(at&&c&&$x(e),e.flags|=1,gn(t,e,s,r),e.child)}function RS(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Hx(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,GC(t,e,i,s,r)):(t=zm(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!lb(t,r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mh,n(o,s)&&t.ref===e.ref)return Xi(t,e,r)}return e.flags|=1,t=Gi(i,s),t.ref=e.ref,t.return=e,e.child=t}function GC(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(mh(i,s)&&t.ref===e.ref)if(hn=!1,e.pendingProps=s=i,lb(t,r))t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Xi(t,e,r)}return G0(t,e,n,s,r)}function WC(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~s}else e.childLanes=0,e.child=null;return jS(t,e,s,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bm(e,i!==null?i.cachePool:null),i!==null?vS(e,i):z0(),VC(e);else return e.lanes=e.childLanes=536870912,jS(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(Bm(e,i.cachePool),vS(e,i),Ca(),e.memoizedState=null):(t!==null&&Bm(e,null),z0(),Ca());return gn(t,e,r,n),e.child}function jS(t,e,n,s){var r=Wx();return r=r===null?null:{parent:en._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Bm(e,null),z0(),VC(e),t!==null&&tf(t,e,s,!0),null}function $m(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(te(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function G0(t,e,n,s,r){return sl(e),n=Qx(t,e,n,s,void 0,r),s=Xx(),t!==null&&!hn?(Jx(t,e,r),Xi(t,e,r)):(at&&s&&$x(e),e.flags|=1,gn(t,e,n,r),e.child)}function PS(t,e,n,s,r,i){return sl(e),e.updateQueue=null,n=aC(e,s,n,r),iC(t),s=Xx(),t!==null&&!hn?(Jx(t,e,i),Xi(t,e,i)):(at&&s&&$x(e),e.flags|=1,gn(t,e,n,i),e.child)}function IS(t,e,n,s,r){if(sl(e),e.stateNode===null){var i=Tc,o=n.contextType;typeof o=="object"&&o!==null&&(i=In(o)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=$0,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},Kx(e),o=n.contextType,i.context=typeof o=="object"&&o!==null?In(o):Tc,i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(vy(e,n,o,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&$0.enqueueReplaceState(i,i.state,null),$d(e,s,i,r),Hd(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var c=e.memoizedProps,d=il(n,c);i.props=d;var h=i.context,m=n.contextType;o=Tc,typeof m=="object"&&m!==null&&(o=In(m));var g=n.getDerivedStateFromProps;m=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||h!==o)&&NS(e,i,s,o),Ta=!1;var v=e.memoizedState;i.state=v,$d(e,s,i,r),Hd(),h=e.memoizedState,c||v!==h||Ta?(typeof g=="function"&&(vy(e,n,g,s),h=e.memoizedState),(d=Ta||TS(e,n,d,s,v,h,o))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),i.props=s,i.state=h,i.context=o,s=d):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,U0(t,e),o=e.memoizedProps,m=il(n,o),i.props=m,g=e.pendingProps,v=i.context,h=n.contextType,d=Tc,typeof h=="object"&&h!==null&&(d=In(h)),c=n.getDerivedStateFromProps,(h=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||v!==d)&&NS(e,i,s,d),Ta=!1,v=e.memoizedState,i.state=v,$d(e,s,i,r),Hd();var y=e.memoizedState;o!==g||v!==y||Ta||t!==null&&t.dependencies!==null&&xp(t.dependencies)?(typeof c=="function"&&(vy(e,n,c,s),y=e.memoizedState),(m=Ta||TS(e,n,m,s,v,y,d)||t!==null&&t.dependencies!==null&&xp(t.dependencies))?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,y,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,y,d)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),i.props=s,i.state=y,i.context=d,s=m):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,$m(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=Xc(e,t.child,null,r),e.child=Xc(e,null,n,r)):gn(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Xi(t,e,r),t}function kS(t,e,n,s){return ef(),e.flags|=256,gn(t,e,n,s),e.child}var yy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _y(t){return{baseLanes:t,cachePool:eC()}}function xy(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=er),t}function KC(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),o&&(r=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(at){if(r?Aa(e):Ca(),at){var c=Mt,d;if(d=c){e:{for(d=c,c=$r;d.nodeType!==8;){if(!c){c=null;break e}if(d=Er(d.nextSibling),d===null){c=null;break e}}c=d}c!==null?(e.memoizedState={dehydrated:c,treeContext:Ko!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},d=Ss(18,null,null,0),d.stateNode=c,d.return=e,e.child=d,zn=e,Mt=null,d=!0):d=!1}d||nl(e)}if(c=e.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return a_(c)?e.lanes=32:e.lanes=536870912,null;Hi(e)}return c=s.children,s=s.fallback,r?(Ca(),r=e.mode,c=Cp({mode:"hidden",children:c},r),s=Wo(s,r,n,null),c.return=e,s.return=e,c.sibling=s,e.child=c,r=e.child,r.memoizedState=_y(n),r.childLanes=xy(t,o,n),e.memoizedState=yy,s):(Aa(e),W0(e,c))}if(d=t.memoizedState,d!==null&&(c=d.dehydrated,c!==null)){if(i)e.flags&256?(Aa(e),e.flags&=-257,e=by(t,e,n)):e.memoizedState!==null?(Ca(),e.child=t.child,e.flags|=128,e=null):(Ca(),r=s.fallback,c=e.mode,s=Cp({mode:"visible",children:s.children},c),r=Wo(r,c,n,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,Xc(e,t.child,null,n),s=e.child,s.memoizedState=_y(n),s.childLanes=xy(t,o,n),e.memoizedState=yy,e=r);else if(Aa(e),a_(c)){if(o=c.nextSibling&&c.nextSibling.dataset,o)var h=o.dgst;o=h,s=Error(te(419)),s.stack="",s.digest=o,ph({value:s,source:null,stack:null}),e=by(t,e,n)}else if(hn||tf(t,e,n,!1),o=(n&t.childLanes)!==0,hn||o){if(o=bt,o!==null&&(s=n&-n,s=s&42?1:Ix(s),s=s&(o.suspendedLanes|n)?0:s,s!==0&&s!==d.retryLane))throw d.retryLane=s,wu(t,s),Cs(o,t,s),qC;c.data==="$?"||J0(),e=by(t,e,n)}else c.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=d.treeContext,Mt=Er(c.nextSibling),zn=e,at=!0,Zo=null,$r=!1,t!==null&&(Ws[Ks++]=zi,Ws[Ks++]=Bi,Ws[Ks++]=Ko,zi=t.id,Bi=t.overflow,Ko=e),e=W0(e,s.children),e.flags|=4096);return e}return r?(Ca(),r=s.fallback,c=e.mode,d=t.child,h=d.sibling,s=Gi(d,{mode:"hidden",children:s.children}),s.subtreeFlags=d.subtreeFlags&65011712,h!==null?r=Gi(h,r):(r=Wo(r,c,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,c=t.child.memoizedState,c===null?c=_y(n):(d=c.cachePool,d!==null?(h=en._currentValue,d=d.parent!==h?{parent:h,pool:h}:d):d=eC(),c={baseLanes:c.baseLanes|n,cachePool:d}),r.memoizedState=c,r.childLanes=xy(t,o,n),e.memoizedState=yy,s):(Aa(e),n=t.child,t=n.sibling,n=Gi(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function W0(t,e){return e=Cp({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Cp(t,e){return t=Ss(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function by(t,e,n){return Xc(e,t.child,null,n),t=W0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MS(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),M0(t.return,e,n)}function wy(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function ZC(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(gn(t,e,s.children,n),s=tn.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&MS(t,n,e);else if(t.tag===19)MS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(Nt(tn,s),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Tp(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),wy(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Tp(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}wy(e,!0,n,null,i);break;case"together":wy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(n&e.childLanes))if(t!==null){if(tf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lb(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&xp(t)))}function q4(t,e,n){switch(e.tag){case 3:hp(e,e.stateNode.containerInfo),Na(e,en,t.memoizedState.cache),ef();break;case 27:case 5:w0(e);break;case 4:hp(e,e.stateNode.containerInfo);break;case 10:Na(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Aa(e),e.flags|=128,null):n&e.child.childLanes?KC(t,e,n):(Aa(e),t=Xi(t,e,n),t!==null?t.sibling:null);Aa(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(tf(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return ZC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Nt(tn,tn.current),s)break;return null;case 22:case 23:return e.lanes=0,WC(t,e,n);case 24:Na(e,en,t.memoizedState.cache)}return Xi(t,e,n)}function YC(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)hn=!0;else{if(!lb(t,n)&&!(e.flags&128))return hn=!1,q4(t,e,n);hn=!!(t.flags&131072)}else hn=!1,at&&e.flags&1048576&&XA(e,_p,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var s=e.elementType,r=s._init;if(s=r(s._payload),e.type=s,typeof s=="function")Hx(s)?(t=il(s,t),e.tag=1,e=IS(null,e,s,t,n)):(e.tag=0,e=G0(null,e,s,t,n));else{if(s!=null){if(r=s.$$typeof,r===Rx){e.tag=11,e=CS(null,e,s,t,n);break e}else if(r===jx){e.tag=14,e=RS(null,e,s,t,n);break e}}throw e=x0(s)||s,Error(te(306,e,""))}}return e;case 0:return G0(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=il(s,e.pendingProps),IS(t,e,s,r,n);case 3:e:{if(hp(e,e.stateNode.containerInfo),t===null)throw Error(te(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,U0(t,e),$d(e,s,null,n);var o=e.memoizedState;if(s=o.cache,Na(e,en,s),s!==i.cache&&O0(e,[en],n,!0),Hd(),s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=kS(t,e,s,n);break e}else if(s!==r){r=Qs(Error(te(424)),e),ph(r),e=kS(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Mt=Er(t.firstChild),zn=e,at=!0,Zo=null,$r=!0,n=UC(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ef(),s===r){e=Xi(t,e,n);break e}gn(t,e,s,n)}e=e.child}return e;case 26:return $m(t,e),t===null?(n=QS(e.type,null,e.pendingProps,null))?e.memoizedState=n:at||(n=e.type,t=e.pendingProps,s=Op(Va.current).createElement(n),s[Pn]=e,s[ls]=t,bn(s,n,t),un(s),e.stateNode=s):e.memoizedState=QS(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return w0(e),t===null&&at&&(s=e.stateNode=D2(e.type,e.pendingProps,Va.current),zn=e,$r=!0,r=Mt,fo(e.type)?(o_=r,Mt=Er(s.firstChild)):Mt=r),gn(t,e,e.pendingProps.children,n),$m(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&at&&((r=s=Mt)&&(s=_6(s,e.type,e.pendingProps,$r),s!==null?(e.stateNode=s,zn=e,Mt=Er(s.firstChild),$r=!1,r=!0):r=!1),r||nl(e)),w0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,r_(r,i)?s=null:o!==null&&r_(r,o)&&(e.flags|=32),e.memoizedState!==null&&(r=Qx(t,e,L4,null,null,n),bh._currentValue=r),$m(t,e),gn(t,e,s,n),e.child;case 6:return t===null&&at&&((t=n=Mt)&&(n=x6(n,e.pendingProps,$r),n!==null?(e.stateNode=n,zn=e,Mt=null,t=!0):t=!1),t||nl(e)),null;case 13:return KC(t,e,n);case 4:return hp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Xc(e,null,s,n):gn(t,e,s,n),e.child;case 11:return CS(t,e,e.type,e.pendingProps,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Na(e,e.type,s.value),gn(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,sl(e),r=In(r),s=s(r),e.flags|=1,gn(t,e,s,n),e.child;case 14:return RS(t,e,e.type,e.pendingProps,n);case 15:return GC(t,e,e.type,e.pendingProps,n);case 19:return ZC(t,e,n);case 31:return s=e.pendingProps,n=e.mode,s={mode:s.mode,children:s.children},t===null?(n=Cp(s,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Gi(t.child,s),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return WC(t,e,n);case 24:return sl(e),s=In(en),t===null?(r=Wx(),r===null&&(r=bt,i=Gx(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},Kx(e),Na(e,en,r)):(t.lanes&n&&(U0(t,e),$d(e,null,null,n),Hd()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Na(e,en,s)):(s=i.cache,Na(e,en,s),s!==r.cache&&O0(e,[en],n,!0))),gn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(te(156,e.tag))}function Pi(t){t.flags|=4}function OS(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!V2(e)){if(e=ir.current,e!==null&&((et&4194048)===et?Yr!==null:(et&62914560)!==et&&!(et&536870912)||e!==Yr))throw Bd=L0,tC;t.flags|=8192}}function dm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?wA():536870912,t.lanes|=e,Jc|=e)}function vd(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function G4(t,e,n){var s=e.pendingProps;switch(qx(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Ct(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Wi(en),Gc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pd(e)?Pi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dS())),Ct(e),null;case 26:return n=e.memoizedState,t===null?(Pi(e),n!==null?(Ct(e),OS(e,n)):(Ct(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Pi(e),Ct(e),OS(e,n)):(Ct(e),e.flags&=-16777217):(t.memoizedProps!==s&&Pi(e),Ct(e),e.flags&=-16777217),null;case 27:fp(e),n=Va.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Pi(e);else{if(!s){if(e.stateNode===null)throw Error(te(166));return Ct(e),null}t=Kr.current,pd(e)?cS(e):(t=D2(r,s,n),e.stateNode=t,Pi(e))}return Ct(e),null;case 5:if(fp(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Pi(e);else{if(!s){if(e.stateNode===null)throw Error(te(166));return Ct(e),null}if(t=Kr.current,pd(e))cS(e);else{switch(r=Op(Va.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}t[Pn]=e,t[ls]=s;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(bn(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Pi(e)}}return Ct(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Pi(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(te(166));if(t=Va.current,pd(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=zn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[Pn]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||k2(t.nodeValue,n)),t||nl(e)}else t=Op(t).createTextNode(s),t[Pn]=e,e.stateNode=t}return Ct(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=pd(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(te(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(te(317));r[Pn]=e}else ef(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),r=!1}else r=dS(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Hi(e),e):(Hi(e),null)}if(Hi(e),e.flags&128)return e.lanes=n,e;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),dm(e,e.updateQueue),Ct(e),null;case 4:return Gc(),t===null&&gb(e.stateNode.containerInfo),Ct(e),null;case 10:return Wi(e.type),Ct(e),null;case 19:if(mn(tn),r=e.memoizedState,r===null)return Ct(e),null;if(s=(e.flags&128)!==0,i=r.rendering,i===null)if(s)vd(r,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Tp(t),i!==null){for(e.flags|=128,vd(r,!1),t=i.updateQueue,e.updateQueue=t,dm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)QA(n,t),n=n.sibling;return Nt(tn,tn.current&1|2),e.child}t=t.sibling}r.tail!==null&&Zr()>jp&&(e.flags|=128,s=!0,vd(r,!1),e.lanes=4194304)}else{if(!s)if(t=Tp(i),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,dm(e,t),vd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!at)return Ct(e),null}else 2*Zr()-r.renderingStartTime>jp&&n!==536870912&&(e.flags|=128,s=!0,vd(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Zr(),e.sibling=null,t=tn.current,Nt(tn,s?t&1|2:t&1),e):(Ct(e),null);case 22:case 23:return Hi(e),Zx(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),n=e.updateQueue,n!==null&&dm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&mn(Yo),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Wi(en),Ct(e),null;case 25:return null;case 30:return null}throw Error(te(156,e.tag))}function W4(t,e){switch(qx(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wi(en),Gc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return fp(e),null;case 13:if(Hi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));ef()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mn(tn),null;case 4:return Gc(),null;case 10:return Wi(e.type),null;case 22:case 23:return Hi(e),Zx(),t!==null&&mn(Yo),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Wi(en),null;case 25:return null;default:return null}}function QC(t,e){switch(qx(e),e.tag){case 3:Wi(en),Gc();break;case 26:case 27:case 5:fp(e);break;case 4:Gc();break;case 13:Hi(e);break;case 19:mn(tn);break;case 10:Wi(e.type);break;case 22:case 23:Hi(e),Zx(),t!==null&&mn(Yo);break;case 24:Wi(en)}}function of(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,o=n.inst;s=i(),o.destroy=s}n=n.next}while(n!==r)}}catch(c){yt(e,e.return,c)}}function Ja(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var o=s.inst,c=o.destroy;if(c!==void 0){o.destroy=void 0,r=e;var d=n,h=c;try{h()}catch(m){yt(r,d,m)}}}s=s.next}while(s!==i)}}catch(m){yt(e,e.return,m)}}function XC(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{rC(e,n)}catch(s){yt(t,t.return,s)}}}function JC(t,e,n){n.props=il(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){yt(t,e,s)}}function Gd(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){yt(t,e,r)}}function Gr(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){yt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function e2(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){yt(t,t.return,r)}}function Sy(t,e,n){try{var s=t.stateNode;m6(s,t.type,n,e),s[ls]=e}catch(r){yt(t,t.return,r)}}function t2(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fo(t.type)||t.tag===4}function Ey(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function K0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fg));else if(s!==4&&(s===27&&fo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(K0(t,e,n),t=t.sibling;t!==null;)K0(t,e,n),t=t.sibling}function Rp(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&fo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}function n2(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);bn(e,s,n),e[Pn]=t,e[ls]=n}catch(i){yt(t,t.return,i)}}var Li=!1,zt=!1,Ty=!1,DS=typeof WeakSet=="function"?WeakSet:Set,ln=null;function K4(t,e){if(t=t.containerInfo,n_=Vp,t=HA(t),zx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,d=-1,h=0,m=0,g=t,v=null;t:for(;;){for(var y;g!==n||r!==0&&g.nodeType!==3||(c=o+r),g!==i||s!==0&&g.nodeType!==3||(d=o+s),g.nodeType===3&&(o+=g.nodeValue.length),(y=g.firstChild)!==null;)v=g,g=y;for(;;){if(g===t)break t;if(v===n&&++h===r&&(c=o),v===i&&++m===s&&(d=o),(y=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=y}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(s_={focusedElem:t,selectionRange:n},Vp=!1,ln=e;ln!==null;)if(e=ln,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ln=t;else for(;ln!==null;){switch(e=ln,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var A=il(n.type,r,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(A,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(w){yt(n,n.return,w)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)i_(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":i_(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(te(163))}if(t=e.sibling,t!==null){t.return=e.return,ln=t;break}ln=e.return}}function s2(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:ga(t,n),s&4&&of(5,n);break;case 1:if(ga(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){yt(n,n.return,o)}else{var r=il(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){yt(n,n.return,o)}}s&64&&XC(n),s&512&&Gd(n,n.return);break;case 3:if(ga(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{rC(t,e)}catch(o){yt(n,n.return,o)}}break;case 27:e===null&&s&4&&n2(n);case 26:case 5:ga(t,n),e===null&&s&4&&e2(n),s&512&&Gd(n,n.return);break;case 12:ga(t,n);break;case 13:ga(t,n),s&4&&a2(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=s6.bind(null,n),b6(t,n))));break;case 22:if(s=n.memoizedState!==null||Li,!s){e=e!==null&&e.memoizedState!==null||zt,r=Li;var i=zt;Li=s,(zt=e)&&!i?ba(t,n,(n.subtreeFlags&8772)!==0):ga(t,n),Li=r,zt=i}break;case 30:break;default:ga(t,n)}}function r2(t){var e=t.alternate;e!==null&&(t.alternate=null,r2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Mx(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Qn=!1;function Ii(t,e,n){for(n=n.child;n!==null;)i2(t,e,n),n=n.sibling}function i2(t,e,n){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Zh,n)}catch{}switch(n.tag){case 26:zt||Gr(n,e),Ii(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||Gr(n,e);var s=Tt,r=Qn;fo(n.type)&&(Tt=n.stateNode,Qn=!1),Ii(t,e,n),Yd(n.stateNode),Tt=s,Qn=r;break;case 5:zt||Gr(n,e);case 6:if(s=Tt,r=Qn,Tt=null,Ii(t,e,n),Tt=s,Qn=r,Tt!==null)if(Qn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(n.stateNode)}catch(i){yt(n,e,i)}else try{Tt.removeChild(n.stateNode)}catch(i){yt(n,e,i)}break;case 18:Tt!==null&&(Qn?(t=Tt,KS(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Eh(t)):KS(Tt,n.stateNode));break;case 4:s=Tt,r=Qn,Tt=n.stateNode.containerInfo,Qn=!0,Ii(t,e,n),Tt=s,Qn=r;break;case 0:case 11:case 14:case 15:zt||Ja(2,n,e),zt||Ja(4,n,e),Ii(t,e,n);break;case 1:zt||(Gr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&JC(n,e,s)),Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:zt=(s=zt)||n.memoizedState!==null,Ii(t,e,n),zt=s;break;default:Ii(t,e,n)}}function a2(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eh(t)}catch(n){yt(e,e.return,n)}}function Z4(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new DS),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new DS),e;default:throw Error(te(435,t.tag))}}function Ny(t,e){var n=Z4(t);e.forEach(function(s){var r=r6.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}function _s(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 27:if(fo(c.type)){Tt=c.stateNode,Qn=!1;break e}break;case 5:Tt=c.stateNode,Qn=!1;break e;case 3:case 4:Tt=c.stateNode.containerInfo,Qn=!0;break e}c=c.return}if(Tt===null)throw Error(te(160));i2(i,o,r),Tt=null,Qn=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)o2(e,t),e=e.sibling}var xr=null;function o2(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_s(e,t),xs(t),s&4&&(Ja(3,t,t.return),of(3,t),Ja(5,t,t.return));break;case 1:_s(e,t),xs(t),s&512&&(zt||n===null||Gr(n,n.return)),s&64&&Li&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=xr;if(_s(e,t),xs(t),s&512&&(zt||n===null||Gr(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Xh]||i[Pn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),bn(i,s,n),i[Pn]=t,un(i),s=i;break e;case"link":var o=JS("link","href",r).get(s+(n.href||""));if(o){for(var c=0;c<o.length;c++)if(i=o[c],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(c,1);break t}}i=r.createElement(s),bn(i,s,n),r.head.appendChild(i);break;case"meta":if(o=JS("meta","content",r).get(s+(n.content||""))){for(c=0;c<o.length;c++)if(i=o[c],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(c,1);break t}}i=r.createElement(s),bn(i,s,n),r.head.appendChild(i);break;default:throw Error(te(468,s))}i[Pn]=t,un(i),s=i}t.stateNode=s}else eE(r,t.type,t.stateNode);else t.stateNode=XS(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?eE(r,t.type,t.stateNode):XS(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Sy(t,t.memoizedProps,n.memoizedProps)}break;case 27:_s(e,t),xs(t),s&512&&(zt||n===null||Gr(n,n.return)),n!==null&&s&4&&Sy(t,t.memoizedProps,n.memoizedProps);break;case 5:if(_s(e,t),xs(t),s&512&&(zt||n===null||Gr(n,n.return)),t.flags&32){r=t.stateNode;try{Kc(r,"")}catch(y){yt(t,t.return,y)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,Sy(t,r,n!==null?n.memoizedProps:r)),s&1024&&(Ty=!0);break;case 6:if(_s(e,t),xs(t),s&4){if(t.stateNode===null)throw Error(te(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(y){yt(t,t.return,y)}}break;case 3:if(Wm=null,r=xr,xr=Dp(e.containerInfo),_s(e,t),xr=r,xs(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Eh(e.containerInfo)}catch(y){yt(t,t.return,y)}Ty&&(Ty=!1,l2(t));break;case 4:s=xr,xr=Dp(t.stateNode.containerInfo),_s(e,t),xs(t),xr=s;break;case 12:_s(e,t),xs(t);break;case 13:_s(e,t),xs(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fb=Zr()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Ny(t,s)));break;case 22:r=t.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,h=Li,m=zt;if(Li=h||r,zt=m||d,_s(e,t),zt=m,Li=h,xs(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||d||Li||zt||zo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){d=n=e;try{if(i=d.stateNode,r)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{c=d.stateNode;var g=d.memoizedProps.style,v=g!=null&&g.hasOwnProperty("display")?g.display:null;c.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(y){yt(d,d.return,y)}}}else if(e.tag===6){if(n===null){d=e;try{d.stateNode.nodeValue=r?"":d.memoizedProps}catch(y){yt(d,d.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Ny(t,n))));break;case 19:_s(e,t),xs(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Ny(t,s)));break;case 30:break;case 21:break;default:_s(e,t),xs(t)}}function xs(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(t2(s)){n=s;break}s=s.return}if(n==null)throw Error(te(160));switch(n.tag){case 27:var r=n.stateNode,i=Ey(t);Rp(t,i,r);break;case 5:var o=n.stateNode;n.flags&32&&(Kc(o,""),n.flags&=-33);var c=Ey(t);Rp(t,c,o);break;case 3:case 4:var d=n.stateNode.containerInfo,h=Ey(t);K0(t,h,d);break;default:throw Error(te(161))}}catch(m){yt(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l2(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;l2(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ga(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)s2(t,e.alternate,e),e=e.sibling}function zo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ja(4,e,e.return),zo(e);break;case 1:Gr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&JC(e,e.return,n),zo(e);break;case 27:Yd(e.stateNode);case 26:case 5:Gr(e,e.return),zo(e);break;case 22:e.memoizedState===null&&zo(e);break;case 30:zo(e);break;default:zo(e)}t=t.sibling}}function ba(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,o=i.flags;switch(i.tag){case 0:case 11:case 15:ba(r,i,n),of(4,i);break;case 1:if(ba(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){yt(s,s.return,h)}if(s=i,r=s.updateQueue,r!==null){var c=s.stateNode;try{var d=r.shared.hiddenCallbacks;if(d!==null)for(r.shared.hiddenCallbacks=null,r=0;r<d.length;r++)sC(d[r],c)}catch(h){yt(s,s.return,h)}}n&&o&64&&XC(i),Gd(i,i.return);break;case 27:n2(i);case 26:case 5:ba(r,i,n),n&&s===null&&o&4&&e2(i),Gd(i,i.return);break;case 12:ba(r,i,n);break;case 13:ba(r,i,n),n&&o&4&&a2(r,i);break;case 22:i.memoizedState===null&&ba(r,i,n),Gd(i,i.return);break;case 30:break;default:ba(r,i,n)}e=e.sibling}}function cb(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&nf(n))}function ub(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nf(t))}function Br(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)c2(t,e,n,s),e=e.sibling}function c2(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Br(t,e,n,s),r&2048&&of(9,e);break;case 1:Br(t,e,n,s);break;case 3:Br(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nf(t)));break;case 12:if(r&2048){Br(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,o=i.id,c=i.onPostCommit;typeof c=="function"&&c(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(d){yt(e,e.return,d)}}else Br(t,e,n,s);break;case 13:Br(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,o=e.alternate,e.memoizedState!==null?i._visibility&2?Br(t,e,n,s):Wd(t,e):i._visibility&2?Br(t,e,n,s):(i._visibility|=2,lc(t,e,n,s,(e.subtreeFlags&10256)!==0)),r&2048&&cb(o,e);break;case 24:Br(t,e,n,s),r&2048&&ub(e.alternate,e);break;default:Br(t,e,n,s)}}function lc(t,e,n,s,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,o=e,c=n,d=s,h=o.flags;switch(o.tag){case 0:case 11:case 15:lc(i,o,c,d,r),of(8,o);break;case 23:break;case 22:var m=o.stateNode;o.memoizedState!==null?m._visibility&2?lc(i,o,c,d,r):Wd(i,o):(m._visibility|=2,lc(i,o,c,d,r)),r&&h&2048&&cb(o.alternate,o);break;case 24:lc(i,o,c,d,r),r&&h&2048&&ub(o.alternate,o);break;default:lc(i,o,c,d,r)}e=e.sibling}}function Wd(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:Wd(n,s),r&2048&&cb(s.alternate,s);break;case 24:Wd(n,s),r&2048&&ub(s.alternate,s);break;default:Wd(n,s)}e=e.sibling}}var Nd=8192;function Yl(t){if(t.subtreeFlags&Nd)for(t=t.child;t!==null;)u2(t),t=t.sibling}function u2(t){switch(t.tag){case 26:Yl(t),t.flags&Nd&&t.memoizedState!==null&&M6(xr,t.memoizedState,t.memoizedProps);break;case 5:Yl(t);break;case 3:case 4:var e=xr;xr=Dp(t.stateNode.containerInfo),Yl(t),xr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Nd,Nd=16777216,Yl(t),Nd=e):Yl(t));break;default:Yl(t)}}function d2(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function yd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ln=s,f2(s,t)}d2(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h2(t),t=t.sibling}function h2(t){switch(t.tag){case 0:case 11:case 15:yd(t),t.flags&2048&&Ja(9,t,t.return);break;case 3:yd(t);break;case 12:yd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,qm(t)):yd(t);break;default:yd(t)}}function qm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ln=s,f2(s,t)}d2(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ja(8,e,e.return),qm(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,qm(e));break;default:qm(e)}t=t.sibling}}function f2(t,e){for(;ln!==null;){var n=ln;switch(n.tag){case 0:case 11:case 15:Ja(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:nf(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ln=s;else e:for(n=t;ln!==null;){s=ln;var r=s.sibling,i=s.return;if(r2(s),s===n){ln=null;break e}if(r!==null){r.return=i,ln=r;break e}ln=i}}}var Y4={getCacheForType:function(t){var e=In(en),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Q4=typeof WeakMap=="function"?WeakMap:Map,ft=0,bt=null,Ge=null,et=0,ht=0,bs=null,Da=!1,Su=!1,db=!1,Ji=0,Ot=0,eo=0,Qo=0,hb=0,er=0,Jc=0,Kd=null,Xn=null,Z0=!1,fb=0,jp=1/0,Pp=null,Fa=null,yn=0,Ha=null,eu=null,Dc=0,Y0=0,Q0=null,m2=null,Zd=0,X0=null;function As(){if(ft&2&&et!==0)return et&-et;if(je.T!==null){var t=Zc;return t!==0?t:pb()}return TA()}function p2(){er===0&&(er=!(et&536870912)||at?bA():536870912);var t=ir.current;return t!==null&&(t.flags|=32),er}function Cs(t,e,n){(t===bt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(tu(t,0),La(t,et,er,!1)),Qh(t,n),(!(ft&2)||t!==bt)&&(t===bt&&(!(ft&2)&&(Qo|=n),Ot===4&&La(t,et,er,!1)),ui(t))}function g2(t,e,n){if(ft&6)throw Error(te(327));var s=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Yh(t,e),r=s?e6(t,e):Ay(t,e,!0),i=s;do{if(r===0){Su&&!s&&La(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!X4(n)){r=Ay(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var c=t;r=Kd;var d=c.current.memoizedState.isDehydrated;if(d&&(tu(c,o).flags|=256),o=Ay(c,o,!1),o!==2){if(db&&!d){c.errorRecoveryDisabledLanes|=i,Qo|=i,r=4;break e}i=Xn,Xn=r,i!==null&&(Xn===null?Xn=i:Xn.push.apply(Xn,i))}r=o}if(i=!1,r!==2)continue}}if(r===1){tu(t,0),La(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(te(345));case 4:if((e&4194048)!==e)break;case 6:La(s,e,er,!Da);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(te(329))}if((e&62914560)===e&&(r=fb+300-Zr(),10<r)){if(La(s,e,er,!Da),Rg(s,0,!0)!==0)break e;s.timeoutHandle=O2(LS.bind(null,s,n,Xn,Pp,Z0,e,er,Qo,Jc,Da,i,2,-0,0),r);break e}LS(s,n,Xn,Pp,Z0,e,er,Qo,Jc,Da,i,0,-0,0)}}break}while(!0);ui(t)}function LS(t,e,n,s,r,i,o,c,d,h,m,g,v,y){if(t.timeoutHandle=-1,g=e.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(xh={stylesheets:null,count:0,unsuspend:k6},u2(e),g=O6(),g!==null)){t.cancelPendingCommit=g(VS.bind(null,t,e,i,n,s,r,o,c,d,m,1,v,y)),La(t,i,o,!h);return}VS(t,e,i,n,s,r,o,c,d)}function X4(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Ms(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function La(t,e,n,s){e&=~hb,e&=~Qo,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-Ns(r),o=1<<i;s[i]=-1,r&=~o}n!==0&&SA(t,n,e)}function Vg(){return ft&6?!0:(lf(0),!1)}function mb(){if(Ge!==null){if(ht===0)var t=Ge.return;else t=Ge,Fi=xl=null,eb(t),Oc=null,vh=0,t=Ge;for(;t!==null;)QC(t.alternate,t),t=t.return;Ge=null}}function tu(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,g6(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),mb(),bt=t,Ge=n=Gi(t.current,null),et=e,ht=0,bs=null,Da=!1,Su=Yh(t,e),db=!1,Jc=er=hb=Qo=eo=Ot=0,Xn=Kd=null,Z0=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Ns(s),i=1<<r;e|=t[r],s&=~i}return Ji=e,kg(),n}function v2(t,e){Be=null,je.H=Ep,e===sf||e===Og?(e=pS(),ht=3):e===tC?(e=pS(),ht=4):ht=e===qC?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bs=e,Ge===null&&(Ot=1,Ap(t,Qs(e,t.current)))}function y2(){var t=je.H;return je.H=Ep,t===null?Ep:t}function _2(){var t=je.A;return je.A=Y4,t}function J0(){Ot=4,Da||(et&4194048)!==et&&ir.current!==null||(Su=!0),!(eo&134217727)&&!(Qo&134217727)||bt===null||La(bt,et,er,!1)}function Ay(t,e,n){var s=ft;ft|=2;var r=y2(),i=_2();(bt!==t||et!==e)&&(Pp=null,tu(t,e)),e=!1;var o=Ot;e:do try{if(ht!==0&&Ge!==null){var c=Ge,d=bs;switch(ht){case 8:mb(),o=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(e=!0);var h=ht;if(ht=0,bs=null,Cc(t,c,d,h),n&&Su){o=0;break e}break;default:h=ht,ht=0,bs=null,Cc(t,c,d,h)}}J4(),o=Ot;break}catch(m){v2(t,m)}while(!0);return e&&t.shellSuspendCounter++,Fi=xl=null,ft=s,je.H=r,je.A=i,Ge===null&&(bt=null,et=0,kg()),o}function J4(){for(;Ge!==null;)x2(Ge)}function e6(t,e){var n=ft;ft|=2;var s=y2(),r=_2();bt!==t||et!==e?(Pp=null,jp=Zr()+500,tu(t,e)):Su=Yh(t,e);e:do try{if(ht!==0&&Ge!==null){e=Ge;var i=bs;t:switch(ht){case 1:ht=0,bs=null,Cc(t,e,i,1);break;case 2:case 9:if(mS(i)){ht=0,bs=null,US(e);break}e=function(){ht!==2&&ht!==9||bt!==t||(ht=7),ui(t)},i.then(e,e);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:mS(i)?(ht=0,bs=null,US(e)):(ht=0,bs=null,Cc(t,e,i,7));break;case 5:var o=null;switch(Ge.tag){case 26:o=Ge.memoizedState;case 5:case 27:var c=Ge;if(!o||V2(o)){ht=0,bs=null;var d=c.sibling;if(d!==null)Ge=d;else{var h=c.return;h!==null?(Ge=h,zg(h)):Ge=null}break t}}ht=0,bs=null,Cc(t,e,i,5);break;case 6:ht=0,bs=null,Cc(t,e,i,6);break;case 8:mb(),Ot=6;break e;default:throw Error(te(462))}}t6();break}catch(m){v2(t,m)}while(!0);return Fi=xl=null,je.H=s,je.A=r,ft=n,Ge!==null?0:(bt=null,et=0,kg(),Ot)}function t6(){for(;Ge!==null&&!SL();)x2(Ge)}function x2(t){var e=YC(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,e===null?zg(t):Ge=e}function US(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=PS(n,e,e.pendingProps,e.type,void 0,et);break;case 11:e=PS(n,e,e.pendingProps,e.type.render,e.ref,et);break;case 5:eb(e);default:QC(n,e),e=Ge=QA(e,Ji),e=YC(n,e,Ji)}t.memoizedProps=t.pendingProps,e===null?zg(t):Ge=e}function Cc(t,e,n,s){Fi=xl=null,eb(e),Oc=null,vh=0;var r=e.return;try{if($4(t,r,e,n,et)){Ot=1,Ap(t,Qs(n,t.current)),Ge=null;return}}catch(i){if(r!==null)throw Ge=r,i;Ot=1,Ap(t,Qs(n,t.current)),Ge=null;return}e.flags&32768?(at||s===1?t=!0:Su||et&536870912?t=!1:(Da=t=!0,(s===2||s===9||s===3||s===6)&&(s=ir.current,s!==null&&s.tag===13&&(s.flags|=16384))),b2(e,t)):zg(e)}function zg(t){var e=t;do{if(e.flags&32768){b2(e,Da);return}t=e.return;var n=G4(e.alternate,e,Ji);if(n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Ot===0&&(Ot=5)}function b2(t,e){do{var n=W4(t.alternate,t);if(n!==null){n.flags&=32767,Ge=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=n}while(t!==null);Ot=6,Ge=null}function VS(t,e,n,s,r,i,o,c,d){t.cancelPendingCommit=null;do Bg();while(yn!==0);if(ft&6)throw Error(te(327));if(e!==null){if(e===t.current)throw Error(te(177));if(i=e.lanes|e.childLanes,i|=Bx,kL(t,n,i,o,c,d),t===bt&&(Ge=bt=null,et=0),eu=e,Ha=t,Dc=n,Y0=i,Q0=r,m2=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,i6(mp,function(){return N2(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=je.T,je.T=null,r=ot.p,ot.p=2,o=ft,ft|=4;try{K4(t,e,n)}finally{ft=o,ot.p=r,je.T=s}}yn=1,w2(),S2(),E2()}}function w2(){if(yn===1){yn=0;var t=Ha,e=eu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=je.T,je.T=null;var s=ot.p;ot.p=2;var r=ft;ft|=4;try{o2(e,t);var i=s_,o=HA(t.containerInfo),c=i.focusedElem,d=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&FA(c.ownerDocument.documentElement,c)){if(d!==null&&zx(c)){var h=d.start,m=d.end;if(m===void 0&&(m=h),"selectionStart"in c)c.selectionStart=h,c.selectionEnd=Math.min(m,c.value.length);else{var g=c.ownerDocument||document,v=g&&g.defaultView||window;if(v.getSelection){var y=v.getSelection(),A=c.textContent.length,w=Math.min(d.start,A),R=d.end===void 0?w:Math.min(d.end,A);!y.extend&&w>R&&(o=R,R=w,w=o);var E=aS(c,w),T=aS(c,R);if(E&&T&&(y.rangeCount!==1||y.anchorNode!==E.node||y.anchorOffset!==E.offset||y.focusNode!==T.node||y.focusOffset!==T.offset)){var N=g.createRange();N.setStart(E.node,E.offset),y.removeAllRanges(),w>R?(y.addRange(N),y.extend(T.node,T.offset)):(N.setEnd(T.node,T.offset),y.addRange(N))}}}}for(g=[],y=c;y=y.parentNode;)y.nodeType===1&&g.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<g.length;c++){var O=g[c];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Vp=!!n_,s_=n_=null}finally{ft=r,ot.p=s,je.T=n}}t.current=e,yn=2}}function S2(){if(yn===2){yn=0;var t=Ha,e=eu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=je.T,je.T=null;var s=ot.p;ot.p=2;var r=ft;ft|=4;try{s2(t,e.alternate,e)}finally{ft=r,ot.p=s,je.T=n}}yn=3}}function E2(){if(yn===4||yn===3){yn=0,EL();var t=Ha,e=eu,n=Dc,s=m2;e.subtreeFlags&10256||e.flags&10256?yn=5:(yn=0,eu=Ha=null,T2(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Fa=null),kx(n),e=e.stateNode,Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Zh,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=je.T,r=ot.p,ot.p=2,je.T=null;try{for(var i=t.onRecoverableError,o=0;o<s.length;o++){var c=s[o];i(c.value,{componentStack:c.stack})}}finally{je.T=e,ot.p=r}}Dc&3&&Bg(),ui(t),r=t.pendingLanes,n&4194090&&r&42?t===X0?Zd++:(Zd=0,X0=t):Zd=0,lf(0)}}function T2(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,nf(e)))}function Bg(t){return w2(),S2(),E2(),N2()}function N2(){if(yn!==5)return!1;var t=Ha,e=Y0;Y0=0;var n=kx(Dc),s=je.T,r=ot.p;try{ot.p=32>n?32:n,je.T=null,n=Q0,Q0=null;var i=Ha,o=Dc;if(yn=0,eu=Ha=null,Dc=0,ft&6)throw Error(te(331));var c=ft;if(ft|=4,h2(i.current),c2(i,i.current,o,n),ft=c,lf(0,!1),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Zh,i)}catch{}return!0}finally{ot.p=r,je.T=s,T2(t,e)}}function zS(t,e,n){e=Qs(n,e),e=q0(t.stateNode,e,2),t=Ba(t,e,2),t!==null&&(Qh(t,2),ui(t))}function yt(t,e,n){if(t.tag===3)zS(t,t,n);else for(;e!==null;){if(e.tag===3){zS(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fa===null||!Fa.has(s))){t=Qs(n,t),n=HC(2),s=Ba(e,n,2),s!==null&&($C(n,s,e,t),Qh(s,2),ui(s));break}}e=e.return}}function Cy(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Q4;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(db=!0,r.add(n),t=n6.bind(null,t,e,n),e.then(t,t))}function n6(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,bt===t&&(et&n)===n&&(Ot===4||Ot===3&&(et&62914560)===et&&300>Zr()-fb?!(ft&2)&&tu(t,0):hb|=n,Jc===et&&(Jc=0)),ui(t)}function A2(t,e){e===0&&(e=wA()),t=wu(t,e),t!==null&&(Qh(t,e),ui(t))}function s6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),A2(t,n)}function r6(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(te(314))}s!==null&&s.delete(e),A2(t,n)}function i6(t,e){return Px(t,e)}var Ip=null,cc=null,e_=!1,kp=!1,Ry=!1,Xo=0;function ui(t){t!==cc&&t.next===null&&(cc===null?Ip=cc=t:cc=cc.next=t),kp=!0,e_||(e_=!0,o6())}function lf(t,e){if(!Ry&&kp){Ry=!0;do for(var n=!1,s=Ip;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var o=s.suspendedLanes,c=s.pingedLanes;i=(1<<31-Ns(42|t)+1)-1,i&=r&~(o&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,BS(s,i))}else i=et,i=Rg(s,s===bt?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Yh(s,i)||(n=!0,BS(s,i));s=s.next}while(n);Ry=!1}}function a6(){C2()}function C2(){kp=e_=!1;var t=0;Xo!==0&&(p6()&&(t=Xo),Xo=0);for(var e=Zr(),n=null,s=Ip;s!==null;){var r=s.next,i=R2(s,e);i===0?(s.next=null,n===null?Ip=r:n.next=r,r===null&&(cc=n)):(n=s,(t!==0||i&3)&&(kp=!0)),s=r}lf(t)}function R2(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var o=31-Ns(i),c=1<<o,d=r[o];d===-1?(!(c&n)||c&s)&&(r[o]=IL(c,e)):d<=e&&(t.expiredLanes|=c),i&=~c}if(e=bt,n=et,n=Rg(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ty(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Yh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&ty(s),kx(n)){case 2:case 8:n=_A;break;case 32:n=mp;break;case 268435456:n=xA;break;default:n=mp}return s=j2.bind(null,t),n=Px(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&ty(s),t.callbackPriority=2,t.callbackNode=null,2}function j2(t,e){if(yn!==0&&yn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Bg()&&t.callbackNode!==n)return null;var s=et;return s=Rg(t,t===bt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(g2(t,s,e),R2(t,Zr()),t.callbackNode!=null&&t.callbackNode===n?j2.bind(null,t):null)}function BS(t,e){if(Bg())return null;g2(t,e,!0)}function o6(){v6(function(){ft&6?Px(yA,a6):C2()})}function pb(){return Xo===0&&(Xo=bA()),Xo}function FS(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Lm(""+t)}function HS(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function l6(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=FS((r[ls]||null).action),o=s.submitter;o&&(e=(e=o[ls]||null)?FS(e.formAction):o.getAttribute("formAction"),e!==null&&(i=e,o=null));var c=new jg("action","action",null,s,r);t.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Xo!==0){var d=o?HS(r,o):new FormData(r);H0(n,{pending:!0,data:d,method:r.method,action:i},null,d)}}else typeof i=="function"&&(c.preventDefault(),d=o?HS(r,o):new FormData(r),H0(n,{pending:!0,data:d,method:r.method,action:i},i,d))},currentTarget:r}]})}}for(var jy=0;jy<P0.length;jy++){var Py=P0[jy],c6=Py.toLowerCase(),u6=Py[0].toUpperCase()+Py.slice(1);Rr(c6,"on"+u6)}Rr(qA,"onAnimationEnd");Rr(GA,"onAnimationIteration");Rr(WA,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(A4,"onTransitionRun");Rr(C4,"onTransitionStart");Rr(R4,"onTransitionCancel");Rr(KA,"onTransitionEnd");Wc("onMouseEnter",["mouseout","mouseover"]);Wc("onMouseLeave",["mouseout","mouseover"]);Wc("onPointerEnter",["pointerout","pointerover"]);Wc("onPointerLeave",["pointerout","pointerover"]);vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yh));function P2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var c=s[o],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==i&&r.isPropagationStopped())break e;i=c,r.currentTarget=h;try{i(r)}catch(m){Np(m)}r.currentTarget=null,i=d}else for(o=0;o<s.length;o++){if(c=s[o],d=c.instance,h=c.currentTarget,c=c.listener,d!==i&&r.isPropagationStopped())break e;i=c,r.currentTarget=h;try{i(r)}catch(m){Np(m)}r.currentTarget=null,i=d}}}}function qe(t,e){var n=e[E0];n===void 0&&(n=e[E0]=new Set);var s=t+"__bubble";n.has(s)||(I2(e,t,2,!1),n.add(s))}function Iy(t,e,n){var s=0;e&&(s|=4),I2(n,t,s,e)}var hm="_reactListening"+Math.random().toString(36).slice(2);function gb(t){if(!t[hm]){t[hm]=!0,NA.forEach(function(n){n!=="selectionchange"&&(d6.has(n)||Iy(n,!1,t),Iy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hm]||(e[hm]=!0,Iy("selectionchange",!1,e))}}function I2(t,e,n,s){switch($2(e)){case 2:var r=U6;break;case 8:r=V6;break;default:r=xb}n=r.bind(null,e,n,t),r=void 0,!C0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ky(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===r)break;if(o===4)for(o=s.return;o!==null;){var d=o.tag;if((d===3||d===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;c!==null;){if(o=_c(c),o===null)return;if(d=o.tag,d===5||d===6||d===26||d===27){s=i=o;continue e}c=c.parentNode}}s=s.return}MA(function(){var h=i,m=Dx(n),g=[];e:{var v=ZA.get(t);if(v!==void 0){var y=jg,A=t;switch(t){case"keypress":if(Vm(n)===0)break e;case"keydown":case"keyup":y=i4;break;case"focusin":A="focus",y=cy;break;case"focusout":A="blur",y=cy;break;case"beforeblur":case"afterblur":y=cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=WL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=l4;break;case qA:case GA:case WA:y=YL;break;case KA:y=u4;break;case"scroll":case"scrollend":y=qL;break;case"wheel":y=h4;break;case"copy":case"cut":case"paste":y=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=X1;break;case"toggle":case"beforetoggle":y=m4}var w=(e&4)!==0,R=!w&&(t==="scroll"||t==="scrollend"),E=w?v!==null?v+"Capture":null:v;w=[];for(var T=h,N;T!==null;){var O=T;if(N=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||N===null||E===null||(O=hh(T,E),O!=null&&w.push(_h(T,O,N))),R)break;T=T.return}0<w.length&&(v=new y(v,A,null,n,m),g.push({event:v,listeners:w}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==A0&&(A=n.relatedTarget||n.fromElement)&&(_c(A)||A[xu]))break e;if((y||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,y?(A=n.relatedTarget||n.toElement,y=h,A=A?_c(A):null,A!==null&&(R=Kh(A),w=A.tag,A!==R||w!==5&&w!==27&&w!==6)&&(A=null)):(y=null,A=h),y!==A)){if(w=Y1,O="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(w=X1,O="onPointerLeave",E="onPointerEnter",T="pointer"),R=y==null?v:Td(y),N=A==null?v:Td(A),v=new w(O,T+"leave",y,n,m),v.target=R,v.relatedTarget=N,O=null,_c(m)===h&&(w=new w(E,T+"enter",A,n,m),w.target=N,w.relatedTarget=R,O=w),R=O,y&&A)t:{for(w=y,E=A,T=0,N=w;N;N=Ql(N))T++;for(N=0,O=E;O;O=Ql(O))N++;for(;0<T-N;)w=Ql(w),T--;for(;0<N-T;)E=Ql(E),N--;for(;T--;){if(w===E||E!==null&&w===E.alternate)break t;w=Ql(w),E=Ql(E)}w=null}else w=null;y!==null&&$S(g,v,y,w,!1),A!==null&&R!==null&&$S(g,R,A,w,!0)}}e:{if(v=h?Td(h):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var F=nS;else if(tS(v))if(zA)F=E4;else{F=w4;var $=b4}else y=v.nodeName,!y||y.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?h&&Ox(h.elementType)&&(F=nS):F=S4;if(F&&(F=F(t,h))){VA(g,F,n,m);break e}$&&$(t,v,h),t==="focusout"&&h&&v.type==="number"&&h.memoizedProps.value!=null&&N0(v,"number",v.value)}switch($=h?Td(h):window,t){case"focusin":(tS($)||$.contentEditable==="true")&&(wc=$,R0=h,Vd=null);break;case"focusout":Vd=R0=wc=null;break;case"mousedown":j0=!0;break;case"contextmenu":case"mouseup":case"dragend":j0=!1,oS(g,n,m);break;case"selectionchange":if(N4)break;case"keydown":case"keyup":oS(g,n,m)}var j;if(Vx)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else bc?LA(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(DA&&n.locale!=="ko"&&(bc||P!=="onCompositionStart"?P==="onCompositionEnd"&&bc&&(j=OA()):(Oa=m,Lx="value"in Oa?Oa.value:Oa.textContent,bc=!0)),$=Mp(h,P),0<$.length&&(P=new Q1(P,t,null,n,m),g.push({event:P,listeners:$}),j?P.data=j:(j=UA(n),j!==null&&(P.data=j)))),(j=g4?v4(t,n):y4(t,n))&&(P=Mp(h,"onBeforeInput"),0<P.length&&($=new Q1("onBeforeInput","beforeinput",null,n,m),g.push({event:$,listeners:P}),$.data=j)),l6(g,t,h,n,m)}P2(g,e)})}function _h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mp(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=hh(t,n),r!=null&&s.unshift(_h(t,r,i)),r=hh(t,e),r!=null&&s.push(_h(t,r,i))),t.tag===3)return s;t=t.return}return[]}function Ql(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $S(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var c=n,d=c.alternate,h=c.stateNode;if(c=c.tag,d!==null&&d===s)break;c!==5&&c!==26&&c!==27||h===null||(d=h,r?(h=hh(n,i),h!=null&&o.unshift(_h(n,h,d))):r||(h=hh(n,i),h!=null&&o.push(_h(n,h,d)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var h6=/\r\n?/g,f6=/\u0000|\uFFFD/g;function qS(t){return(typeof t=="string"?t:""+t).replace(h6,`
`).replace(f6,"")}function k2(t,e){return e=qS(e),qS(t)===e}function Fg(){}function pt(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Kc(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Kc(t,""+s);break;case"className":im(t,"class",s);break;case"tabIndex":im(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":im(t,n,s);break;case"style":kA(t,s,i);break;case"data":if(e!=="object"){im(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Lm(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&pt(t,e,"name",r.name,r,null),pt(t,e,"formEncType",r.formEncType,r,null),pt(t,e,"formMethod",r.formMethod,r,null),pt(t,e,"formTarget",r.formTarget,r,null)):(pt(t,e,"encType",r.encType,r,null),pt(t,e,"method",r.method,r,null),pt(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Lm(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Fg);break;case"onScroll":s!=null&&qe("scroll",t);break;case"onScrollEnd":s!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(te(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(te(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Lm(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Dm(t,"popover",s);break;case"xlinkActuate":ji(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ji(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ji(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ji(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ji(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ji(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ji(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ji(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ji(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Dm(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=HL.get(n)||n,Dm(t,n,s))}}function t_(t,e,n,s,r,i){switch(n){case"style":kA(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(te(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(te(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Kc(t,s):(typeof s=="number"||typeof s=="bigint")&&Kc(t,""+s);break;case"onScroll":s!=null&&qe("scroll",t);break;case"onScrollEnd":s!=null&&qe("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Fg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!AA.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[ls]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Dm(t,n,s)}}}function bn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(te(137,e));default:pt(t,e,i,o,n,null)}}r&&pt(t,e,"srcSet",n.srcSet,n,null),s&&pt(t,e,"src",n.src,n,null);return;case"input":qe("invalid",t);var c=i=o=r=null,d=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var m=n[s];if(m!=null)switch(s){case"name":r=m;break;case"type":o=m;break;case"checked":d=m;break;case"defaultChecked":h=m;break;case"value":i=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(te(137,e));break;default:pt(t,e,s,m,n,null)}}jA(t,i,c,d,h,o,r,!1),pp(t);return;case"select":qe("invalid",t),s=o=i=null;for(r in n)if(n.hasOwnProperty(r)&&(c=n[r],c!=null))switch(r){case"value":i=c;break;case"defaultValue":o=c;break;case"multiple":s=c;default:pt(t,e,r,c,n,null)}e=i,n=o,t.multiple=!!s,e!=null?jc(t,!!s,e,!1):n!=null&&jc(t,!!s,n,!0);return;case"textarea":qe("invalid",t),i=r=s=null;for(o in n)if(n.hasOwnProperty(o)&&(c=n[o],c!=null))switch(o){case"value":s=c;break;case"defaultValue":r=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(te(91));break;default:pt(t,e,o,c,n,null)}IA(t,s,r,i),pp(t);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(s=n[d],s!=null))switch(d){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:pt(t,e,d,s,n,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(s=0;s<yh.length;s++)qe(yh[s],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(te(137,e));default:pt(t,e,h,s,n,null)}return;default:if(Ox(e)){for(m in n)n.hasOwnProperty(m)&&(s=n[m],s!==void 0&&t_(t,e,m,s,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(s=n[c],s!=null&&pt(t,e,c,s,n,null))}function m6(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,o=null,c=null,d=null,h=null,m=null;for(y in n){var g=n[y];if(n.hasOwnProperty(y)&&g!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":d=g;default:s.hasOwnProperty(y)||pt(t,e,y,null,s,g)}}for(var v in s){var y=s[v];if(g=n[v],s.hasOwnProperty(v)&&(y!=null||g!=null))switch(v){case"type":i=y;break;case"name":r=y;break;case"checked":h=y;break;case"defaultChecked":m=y;break;case"value":o=y;break;case"defaultValue":c=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(te(137,e));break;default:y!==g&&pt(t,e,v,y,s,g)}}T0(t,o,c,d,h,m,i,r);return;case"select":y=o=c=v=null;for(i in n)if(d=n[i],n.hasOwnProperty(i)&&d!=null)switch(i){case"value":break;case"multiple":y=d;default:s.hasOwnProperty(i)||pt(t,e,i,null,s,d)}for(r in s)if(i=s[r],d=n[r],s.hasOwnProperty(r)&&(i!=null||d!=null))switch(r){case"value":v=i;break;case"defaultValue":c=i;break;case"multiple":o=i;default:i!==d&&pt(t,e,r,i,s,d)}e=c,n=o,s=y,v!=null?jc(t,!!n,v,!1):!!s!=!!n&&(e!=null?jc(t,!!n,e,!0):jc(t,!!n,n?[]:"",!1));return;case"textarea":y=v=null;for(c in n)if(r=n[c],n.hasOwnProperty(c)&&r!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:pt(t,e,c,null,s,r)}for(o in s)if(r=s[o],i=n[o],s.hasOwnProperty(o)&&(r!=null||i!=null))switch(o){case"value":v=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(te(91));break;default:r!==i&&pt(t,e,o,r,s,i)}PA(t,v,y);return;case"option":for(var A in n)if(v=n[A],n.hasOwnProperty(A)&&v!=null&&!s.hasOwnProperty(A))switch(A){case"selected":t.selected=!1;break;default:pt(t,e,A,null,s,v)}for(d in s)if(v=s[d],y=n[d],s.hasOwnProperty(d)&&v!==y&&(v!=null||y!=null))switch(d){case"selected":t.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:pt(t,e,d,v,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)v=n[w],n.hasOwnProperty(w)&&v!=null&&!s.hasOwnProperty(w)&&pt(t,e,w,null,s,v);for(h in s)if(v=s[h],y=n[h],s.hasOwnProperty(h)&&v!==y&&(v!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(te(137,e));break;default:pt(t,e,h,v,s,y)}return;default:if(Ox(e)){for(var R in n)v=n[R],n.hasOwnProperty(R)&&v!==void 0&&!s.hasOwnProperty(R)&&t_(t,e,R,void 0,s,v);for(m in s)v=s[m],y=n[m],!s.hasOwnProperty(m)||v===y||v===void 0&&y===void 0||t_(t,e,m,v,s,y);return}}for(var E in n)v=n[E],n.hasOwnProperty(E)&&v!=null&&!s.hasOwnProperty(E)&&pt(t,e,E,null,s,v);for(g in s)v=s[g],y=n[g],!s.hasOwnProperty(g)||v===y||v==null&&y==null||pt(t,e,g,v,s,y)}var n_=null,s_=null;function Op(t){return t.nodeType===9?t:t.ownerDocument}function GS(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M2(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function r_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var My=null;function p6(){var t=window.event;return t&&t.type==="popstate"?t===My?!1:(My=t,!0):(My=null,!1)}var O2=typeof setTimeout=="function"?setTimeout:void 0,g6=typeof clearTimeout=="function"?clearTimeout:void 0,WS=typeof Promise=="function"?Promise:void 0,v6=typeof queueMicrotask=="function"?queueMicrotask:typeof WS<"u"?function(t){return WS.resolve(null).then(t).catch(y6)}:O2;function y6(t){setTimeout(function(){throw t})}function fo(t){return t==="head"}function KS(t,e){var n=e,s=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var o=t.ownerDocument;if(n&1&&Yd(o.documentElement),n&2&&Yd(o.body),n&4)for(n=o.head,Yd(n),o=n.firstChild;o;){var c=o.nextSibling,d=o.nodeName;o[Xh]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=c}}if(r===0){t.removeChild(i),Eh(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Eh(e)}function i_(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":i_(n),Mx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function _6(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Xh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Er(t.nextSibling),t===null)break}return null}function x6(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Er(t.nextSibling),t===null))return null;return t}function a_(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function b6(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var o_=null;function ZS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function D2(t,e,n){switch(e=Op(n),t){case"html":if(t=e.documentElement,!t)throw Error(te(452));return t;case"head":if(t=e.head,!t)throw Error(te(453));return t;case"body":if(t=e.body,!t)throw Error(te(454));return t;default:throw Error(te(451))}}function Yd(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Mx(t)}var ar=new Map,YS=new Set;function Dp(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var aa=ot.d;ot.d={f:w6,r:S6,D:E6,C:T6,L:N6,m:A6,X:R6,S:C6,M:j6};function w6(){var t=aa.f(),e=Vg();return t||e}function S6(t){var e=bu(t);e!==null&&e.tag===5&&e.type==="form"?RC(e):aa.r(t)}var Eu=typeof document>"u"?null:document;function L2(t,e,n){var s=Eu;if(s&&typeof e=="string"&&e){var r=Ys(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),YS.has(r)||(YS.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),bn(e,"link",t),un(e),s.head.appendChild(e)))}}function E6(t){aa.D(t),L2("dns-prefetch",t,null)}function T6(t,e){aa.C(t,e),L2("preconnect",t,e)}function N6(t,e,n){aa.L(t,e,n);var s=Eu;if(s&&t&&e){var r='link[rel="preload"][as="'+Ys(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Ys(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Ys(n.imageSizes)+'"]')):r+='[href="'+Ys(t)+'"]';var i=r;switch(e){case"style":i=nu(t);break;case"script":i=Tu(t)}ar.has(i)||(t=Et({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ar.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(cf(i))||e==="script"&&s.querySelector(uf(i))||(e=s.createElement("link"),bn(e,"link",t),un(e),s.head.appendChild(e)))}}function A6(t,e){aa.m(t,e);var n=Eu;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Ys(s)+'"][href="'+Ys(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Tu(t)}if(!ar.has(i)&&(t=Et({rel:"modulepreload",href:t},e),ar.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(uf(i)))return}s=n.createElement("link"),bn(s,"link",t),un(s),n.head.appendChild(s)}}}function C6(t,e,n){aa.S(t,e,n);var s=Eu;if(s&&t){var r=Rc(s).hoistableStyles,i=nu(t);e=e||"default";var o=r.get(i);if(!o){var c={loading:0,preload:null};if(o=s.querySelector(cf(i)))c.loading=5;else{t=Et({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ar.get(i))&&vb(t,n);var d=o=s.createElement("link");un(d),bn(d,"link",t),d._p=new Promise(function(h,m){d.onload=h,d.onerror=m}),d.addEventListener("load",function(){c.loading|=1}),d.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Gm(o,e,s)}o={type:"stylesheet",instance:o,count:1,state:c},r.set(i,o)}}}function R6(t,e){aa.X(t,e);var n=Eu;if(n&&t){var s=Rc(n).hoistableScripts,r=Tu(t),i=s.get(r);i||(i=n.querySelector(uf(r)),i||(t=Et({src:t,async:!0},e),(e=ar.get(r))&&yb(t,e),i=n.createElement("script"),un(i),bn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function j6(t,e){aa.M(t,e);var n=Eu;if(n&&t){var s=Rc(n).hoistableScripts,r=Tu(t),i=s.get(r);i||(i=n.querySelector(uf(r)),i||(t=Et({src:t,async:!0,type:"module"},e),(e=ar.get(r))&&yb(t,e),i=n.createElement("script"),un(i),bn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function QS(t,e,n,s){var r=(r=Va.current)?Dp(r):null;if(!r)throw Error(te(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=nu(n.href),n=Rc(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=nu(n.href);var i=Rc(r).hoistableStyles,o=i.get(t);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,o),(i=r.querySelector(cf(t)))&&!i._p&&(o.instance=i,o.state.loading=5),ar.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ar.set(t,n),i||P6(r,t,n,o.state))),e&&s===null)throw Error(te(528,""));return o}if(e&&s!==null)throw Error(te(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Tu(n),n=Rc(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(te(444,t))}}function nu(t){return'href="'+Ys(t)+'"'}function cf(t){return'link[rel="stylesheet"]['+t+"]"}function U2(t){return Et({},t,{"data-precedence":t.precedence,precedence:null})}function P6(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),bn(e,"link",n),un(e),t.head.appendChild(e))}function Tu(t){return'[src="'+Ys(t)+'"]'}function uf(t){return"script[async]"+t}function XS(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+Ys(n.href)+'"]');if(s)return e.instance=s,un(s),s;var r=Et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),un(s),bn(s,"style",r),Gm(s,n.precedence,t),e.instance=s;case"stylesheet":r=nu(n.href);var i=t.querySelector(cf(r));if(i)return e.state.loading|=4,e.instance=i,un(i),i;s=U2(n),(r=ar.get(r))&&vb(s,r),i=(t.ownerDocument||t).createElement("link"),un(i);var o=i;return o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),bn(i,"link",s),e.state.loading|=4,Gm(i,n.precedence,t),e.instance=i;case"script":return i=Tu(n.src),(r=t.querySelector(uf(i)))?(e.instance=r,un(r),r):(s=n,(r=ar.get(i))&&(s=Et({},n),yb(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),un(r),bn(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(te(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Gm(s,n.precedence,t));return e.instance}function Gm(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,o=0;o<s.length;o++){var c=s[o];if(c.dataset.precedence===e)i=c;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function vb(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function yb(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Wm=null;function JS(t,e,n){if(Wm===null){var s=new Map,r=Wm=new Map;r.set(n,s)}else r=Wm,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Xh]||i[Pn]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(e)||"";o=t+o;var c=s.get(o);c?c.push(i):s.set(o,[i])}}return s}function eE(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function I6(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function V2(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var xh=null;function k6(){}function M6(t,e,n){if(xh===null)throw Error(te(475));var s=xh;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=nu(n.href),i=t.querySelector(cf(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Lp.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=i,un(i);return}i=t.ownerDocument||t,n=U2(n),(r=ar.get(r))&&vb(n,r),i=i.createElement("link"),un(i);var o=i;o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),bn(i,"link",n),e.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=Lp.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function O6(){if(xh===null)throw Error(te(475));var t=xh;return t.stylesheets&&t.count===0&&l_(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&l_(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Lp(){if(this.count--,this.count===0){if(this.stylesheets)l_(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Up=null;function l_(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Up=new Map,e.forEach(D6,t),Up=null,Lp.call(t))}function D6(t,e){if(!(e.state.loading&4)){var n=Up.get(t);if(n)var s=n.get(null);else{n=new Map,Up.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var o=r[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),s=o)}s&&n.set(null,s)}r=e.instance,o=r.getAttribute("data-precedence"),i=n.get(o)||s,i===s&&n.set(null,r),n.set(o,r),this.count++,s=Lp.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var bh={$$typeof:Vi,Provider:null,Consumer:null,_currentValue:Go,_currentValue2:Go,_threadCount:0};function L6(t,e,n,s,r,i,o,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ny(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ny(0),this.hiddenUpdates=ny(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function z2(t,e,n,s,r,i,o,c,d,h,m,g){return t=new L6(t,e,n,o,c,d,h,g),e=1,i===!0&&(e|=24),i=Ss(3,null,null,e),t.current=i,i.stateNode=t,e=Gx(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},Kx(i),t}function B2(t){return t?(t=Tc,t):Tc}function F2(t,e,n,s,r,i){r=B2(r),s.context===null?s.context=r:s.pendingContext=r,s=za(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=Ba(t,s,e),n!==null&&(Cs(n,t,e),Fd(n,t,e))}function tE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _b(t,e){tE(t,e),(t=t.alternate)&&tE(t,e)}function H2(t){if(t.tag===13){var e=wu(t,67108864);e!==null&&Cs(e,t,67108864),_b(t,67108864)}}var Vp=!0;function U6(t,e,n,s){var r=je.T;je.T=null;var i=ot.p;try{ot.p=2,xb(t,e,n,s)}finally{ot.p=i,je.T=r}}function V6(t,e,n,s){var r=je.T;je.T=null;var i=ot.p;try{ot.p=8,xb(t,e,n,s)}finally{ot.p=i,je.T=r}}function xb(t,e,n,s){if(Vp){var r=c_(s);if(r===null)ky(t,e,s,zp,n),nE(t,s);else if(B6(r,t,e,n,s))s.stopPropagation();else if(nE(t,s),e&4&&-1<z6.indexOf(t)){for(;r!==null;){var i=bu(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Uo(i.pendingLanes);if(o!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;o;){var d=1<<31-Ns(o);c.entanglements[1]|=d,o&=~d}ui(i),!(ft&6)&&(jp=Zr()+500,lf(0))}}break;case 13:c=wu(i,2),c!==null&&Cs(c,i,2),Vg(),_b(i,2)}if(i=c_(s),i===null&&ky(t,e,s,zp,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else ky(t,e,s,null,n)}}function c_(t){return t=Dx(t),bb(t)}var zp=null;function bb(t){if(zp=null,t=_c(t),t!==null){var e=Kh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=mA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return zp=t,null}function $2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TL()){case yA:return 2;case _A:return 8;case mp:case NL:return 32;case xA:return 268435456;default:return 32}default:return 32}}var u_=!1,$a=null,qa=null,Ga=null,wh=new Map,Sh=new Map,Ra=[],z6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nE(t,e){switch(t){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":wh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(e.pointerId)}}function _d(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=bu(e),e!==null&&H2(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function B6(t,e,n,s,r){switch(e){case"focusin":return $a=_d($a,t,e,n,s,r),!0;case"dragenter":return qa=_d(qa,t,e,n,s,r),!0;case"mouseover":return Ga=_d(Ga,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return wh.set(i,_d(wh.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Sh.set(i,_d(Sh.get(i)||null,t,e,n,s,r)),!0}return!1}function q2(t){var e=_c(t.target);if(e!==null){var n=Kh(e);if(n!==null){if(e=n.tag,e===13){if(e=mA(n),e!==null){t.blockedOn=e,ML(t.priority,function(){if(n.tag===13){var s=As();s=Ix(s);var r=wu(n,s);r!==null&&Cs(r,n,s),_b(n,s)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Km(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=c_(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);A0=s,n.target.dispatchEvent(s),A0=null}else return e=bu(n),e!==null&&H2(e),t.blockedOn=n,!1;e.shift()}return!0}function sE(t,e,n){Km(t)&&n.delete(e)}function F6(){u_=!1,$a!==null&&Km($a)&&($a=null),qa!==null&&Km(qa)&&(qa=null),Ga!==null&&Km(Ga)&&(Ga=null),wh.forEach(sE),Sh.forEach(sE)}function fm(t,e){t.blockedOn===e&&(t.blockedOn=null,u_||(u_=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,F6)))}var mm=null;function rE(t){mm!==t&&(mm=t,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,function(){mm===t&&(mm=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(bb(s||n)===null)continue;break}var i=bu(n);i!==null&&(t.splice(e,3),e-=3,H0(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Eh(t){function e(d){return fm(d,t)}$a!==null&&fm($a,t),qa!==null&&fm(qa,t),Ga!==null&&fm(Ga,t),wh.forEach(e),Sh.forEach(e);for(var n=0;n<Ra.length;n++){var s=Ra[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Ra.length&&(n=Ra[0],n.blockedOn===null);)q2(n),n.blockedOn===null&&Ra.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],o=r[ls]||null;if(typeof i=="function")o||rE(n);else if(o){var c=null;if(i&&i.hasAttribute("formAction")){if(r=i,o=i[ls]||null)c=o.formAction;else if(bb(r)!==null)continue}else c=o.action;typeof c=="function"?n[s+1]=c:(n.splice(s,3),s-=3),rE(n)}}}function wb(t){this._internalRoot=t}Hg.prototype.render=wb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));var n=e.current,s=As();F2(n,s,t,e,null,null)};Hg.prototype.unmount=wb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;F2(t.current,2,null,t,null,null),Vg(),e[xu]=null}};function Hg(t){this._internalRoot=t}Hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=TA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ra.length&&e!==0&&e<Ra[n].priority;n++);Ra.splice(n,0,t),n===0&&q2(t)}};var iE=hA.version;if(iE!=="19.1.1")throw Error(te(527,iE,"19.1.1"));ot.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=yL(e),t=t!==null?pA(t):null,t=t===null?null:t.stateNode,t};var H6={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:je,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{Zh=pm.inject(H6),Ts=pm}catch{}}Cg.createRoot=function(t,e){if(!fA(t))throw Error(te(299));var n=!1,s="",r=zC,i=BC,o=FC,c=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(c=e.unstable_transitionCallbacks)),e=z2(t,1,!1,null,null,n,s,r,i,o,c,null),t[xu]=e.current,gb(t),new wb(e)};Cg.hydrateRoot=function(t,e,n){if(!fA(t))throw Error(te(299));var s=!1,r="",i=zC,o=BC,c=FC,d=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(d=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=z2(t,1,!0,e,n??null,s,r,i,o,c,d,h),e.context=B2(null),n=e.current,s=As(),s=Ix(s),r=za(s),r.callback=null,Ba(n,r,s),n=s,e.current.lanes=n,Qh(e,n),ui(e),t[xu]=e.current,gb(t),new Hg(e)};Cg.version="19.1.1";function G2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G2)}catch(t){console.error(t)}}G2(),cA.exports=Cg;var $6=cA.exports,q6=(t,e,n,s,r,i,o,c)=>{let d=document.documentElement,h=["light","dark"];function m(y){(Array.isArray(t)?t:[t]).forEach(A=>{let w=A==="class",R=w&&i?r.map(E=>i[E]||E):r;w?(d.classList.remove(...R),d.classList.add(i&&i[y]?i[y]:y)):d.setAttribute(A,y)}),g(y)}function g(y){c&&h.includes(y)&&(d.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)m(s);else try{let y=localStorage.getItem(e)||n,A=o&&y==="system"?v():y;m(A)}catch{}},G6=x.createContext(void 0),W6={setTheme:t=>{},themes:[]},K6=()=>{var t;return(t=x.useContext(G6))!=null?t:W6};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,themes:c,nonce:d,scriptProps:h})=>{let m=JSON.stringify([n,e,i,t,c,o,s,r]).slice(1,-1);return x.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${q6.toString()})(${m})`}})});var Z6=t=>{switch(t){case"success":return X6;case"info":return e3;case"warning":return J6;case"error":return t3;default:return null}},Y6=Array(12).fill(0),Q6=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},Y6.map((n,s)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),X6=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),J6=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),e3=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),t3=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),n3=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),s3=()=>{let[t,e]=le.useState(document.hidden);return le.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},d_=1,r3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:s,...r}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:d_++,o=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:s}),{...d,...e,id:i,dismissible:c,title:s}):d):this.addToast({title:s,...r,dismissible:c,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let r=e instanceof Promise?e:e(),i=s!==void 0,o,c=r.then(async h=>{if(o=["resolve",h],le.isValidElement(h))i=!1,this.create({id:s,type:"default",message:h});else if(a3(h)&&!h.ok){i=!1;let m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description;this.create({id:s,type:"error",message:m,description:g})}else if(n.success!==void 0){i=!1;let m=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:s,type:"success",message:m,description:g})}}).catch(async h=>{if(o=["reject",h],n.error!==void 0){i=!1;let m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:s,type:"error",message:m,description:g})}}).finally(()=>{var h;i&&(this.dismiss(s),s=void 0),(h=n.finally)==null||h.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(e,n)=>{let s=n?.id||d_++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jn=new r3,i3=(t,e)=>{let n=e?.id||d_++;return Jn.addToast({title:t,...e,id:n}),n},a3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",o3=i3,l3=()=>Jn.toasts,c3=()=>Jn.getActiveToasts(),xe=Object.assign(o3,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:l3,getToasts:c3});function u3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}u3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gm(t){return t.label!==void 0}var d3=3,h3="32px",f3="16px",aE=4e3,m3=356,p3=14,g3=20,v3=200;function gr(...t){return t.filter(Boolean).join(" ")}function y3(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var _3=t=>{var e,n,s,r,i,o,c,d,h,m,g;let{invert:v,toast:y,unstyled:A,interacting:w,setHeights:R,visibleToasts:E,heights:T,index:N,toasts:O,expanded:F,removeToast:$,defaultRichColors:j,closeButton:P,style:D,cancelButtonStyle:I,actionButtonStyle:M,className:U="",descriptionClassName:z="",duration:ne,position:me,gap:W,loadingIcon:ee,expandByDefault:B,classNames:q,icons:X,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:G}=t,[ue,oe]=le.useState(null),[he,pe]=le.useState(null),[re,Me]=le.useState(!1),[vt,We]=le.useState(!1),[Ke,tt]=le.useState(!1),[At,Fn]=le.useState(!1),[Pr,hs]=le.useState(!1),[fs,cr]=le.useState(0),[Ft,Lt]=le.useState(0),Hn=le.useRef(y.duration||ne||aE),yo=le.useRef(null),ms=le.useRef(null),Hu=N===0,pi=N+1<=E,Qt=y.type,Os=y.dismissible!==!1,ca=y.className||"",$u=y.descriptionClassName||"",gi=le.useMemo(()=>T.findIndex(Ne=>Ne.toastId===y.id)||0,[T,y.id]),_o=le.useMemo(()=>{var Ne;return(Ne=y.closeButton)!=null?Ne:P},[y.closeButton,P]),xo=le.useMemo(()=>y.duration||ne||aE,[y.duration,ne]),Ds=le.useRef(0),$n=le.useRef(0),vi=le.useRef(0),En=le.useRef(null),[Ir,ua]=me.split("-"),bo=le.useMemo(()=>T.reduce((Ne,nt,mt)=>mt>=gi?Ne:Ne+nt.height,0),[T,gi]),ur=s3(),wo=y.invert||v,It=Qt==="loading";$n.current=le.useMemo(()=>gi*W+bo,[gi,bo]),le.useEffect(()=>{Hn.current=xo},[xo]),le.useEffect(()=>{Me(!0)},[]),le.useEffect(()=>{let Ne=ms.current;if(Ne){let nt=Ne.getBoundingClientRect().height;return Lt(nt),R(mt=>[{toastId:y.id,height:nt,position:y.position},...mt]),()=>R(mt=>mt.filter(Ht=>Ht.toastId!==y.id))}},[R,y.id]),le.useLayoutEffect(()=>{if(!re)return;let Ne=ms.current,nt=Ne.style.height;Ne.style.height="auto";let mt=Ne.getBoundingClientRect().height;Ne.style.height=nt,Lt(mt),R(Ht=>Ht.find(pn=>pn.toastId===y.id)?Ht.map(pn=>pn.toastId===y.id?{...pn,height:mt}:pn):[{toastId:y.id,height:mt,position:y.position},...Ht])},[re,y.title,y.description,R,y.id]);let ps=le.useCallback(()=>{We(!0),cr($n.current),R(Ne=>Ne.filter(nt=>nt.toastId!==y.id)),setTimeout(()=>{$(y)},v3)},[y,$,R,$n]);le.useEffect(()=>{if(y.promise&&Qt==="loading"||y.duration===1/0||y.type==="loading")return;let Ne;return F||w||G&&ur?(()=>{if(vi.current<Ds.current){let nt=new Date().getTime()-Ds.current;Hn.current=Hn.current-nt}vi.current=new Date().getTime()})():Hn.current!==1/0&&(Ds.current=new Date().getTime(),Ne=setTimeout(()=>{var nt;(nt=y.onAutoClose)==null||nt.call(y,y),ps()},Hn.current)),()=>clearTimeout(Ne)},[F,w,y,Qt,G,ur,ps]),le.useEffect(()=>{y.delete&&ps()},[ps,y.delete]);function yi(){var Ne,nt,mt;return X!=null&&X.loading?le.createElement("div",{className:gr(q?.loader,(Ne=y?.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":Qt==="loading"},X.loading):ee?le.createElement("div",{className:gr(q?.loader,(nt=y?.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":Qt==="loading"},ee):le.createElement(Q6,{className:gr(q?.loader,(mt=y?.classNames)==null?void 0:mt.loader),visible:Qt==="loading"})}return le.createElement("li",{tabIndex:0,ref:ms,className:gr(U,ca,q?.toast,(e=y?.classNames)==null?void 0:e.toast,q?.default,q?.[Qt],(n=y?.classNames)==null?void 0:n[Qt]),"data-sonner-toast":"","data-rich-colors":(s=y.richColors)!=null?s:j,"data-styled":!(y.jsx||y.unstyled||A),"data-mounted":re,"data-promise":!!y.promise,"data-swiped":Pr,"data-removed":vt,"data-visible":pi,"data-y-position":Ir,"data-x-position":ua,"data-index":N,"data-front":Hu,"data-swiping":Ke,"data-dismissible":Os,"data-type":Qt,"data-invert":wo,"data-swipe-out":At,"data-swipe-direction":he,"data-expanded":!!(F||B&&re),style:{"--index":N,"--toasts-before":N,"--z-index":O.length-N,"--offset":`${vt?fs:$n.current}px`,"--initial-height":B?"auto":`${Ft}px`,...D,...y.style},onDragEnd:()=>{tt(!1),oe(null),En.current=null},onPointerDown:Ne=>{It||!Os||(yo.current=new Date,cr($n.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(tt(!0),En.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,nt,mt,Ht;if(At||!Os)return;En.current=null;let pn=Number(((Ne=ms.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ls=Number(((nt=ms.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qn=new Date().getTime()-((mt=yo.current)==null?void 0:mt.getTime()),Tn=ue==="x"?pn:Ls,gs=Math.abs(Tn)/qn;if(Math.abs(Tn)>=g3||gs>.11){cr($n.current),(Ht=y.onDismiss)==null||Ht.call(y,y),pe(ue==="x"?pn>0?"right":"left":Ls>0?"down":"up"),ps(),Fn(!0),hs(!1);return}tt(!1),oe(null)},onPointerMove:Ne=>{var nt,mt,Ht,pn;if(!En.current||!Os||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;let Ls=Ne.clientY-En.current.y,qn=Ne.clientX-En.current.x,Tn=(mt=t.swipeDirections)!=null?mt:y3(me);!ue&&(Math.abs(qn)>1||Math.abs(Ls)>1)&&oe(Math.abs(qn)>Math.abs(Ls)?"x":"y");let gs={x:0,y:0};ue==="y"?(Tn.includes("top")||Tn.includes("bottom"))&&(Tn.includes("top")&&Ls<0||Tn.includes("bottom")&&Ls>0)&&(gs.y=Ls):ue==="x"&&(Tn.includes("left")||Tn.includes("right"))&&(Tn.includes("left")&&qn<0||Tn.includes("right")&&qn>0)&&(gs.x=qn),(Math.abs(gs.x)>0||Math.abs(gs.y)>0)&&hs(!0),(Ht=ms.current)==null||Ht.style.setProperty("--swipe-amount-x",`${gs.x}px`),(pn=ms.current)==null||pn.style.setProperty("--swipe-amount-y",`${gs.y}px`)}},_o&&!y.jsx?le.createElement("button",{"aria-label":ce,"data-disabled":It,"data-close-button":!0,onClick:It||!Os?()=>{}:()=>{var Ne;ps(),(Ne=y.onDismiss)==null||Ne.call(y,y)},className:gr(q?.closeButton,(r=y?.classNames)==null?void 0:r.closeButton)},(i=X?.close)!=null?i:n3):null,y.jsx||x.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:le.createElement(le.Fragment,null,Qt||y.icon||y.promise?le.createElement("div",{"data-icon":"",className:gr(q?.icon,(o=y?.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||yi():null,y.type!=="loading"?y.icon||X?.[Qt]||Z6(Qt):null):null,le.createElement("div",{"data-content":"",className:gr(q?.content,(c=y?.classNames)==null?void 0:c.content)},le.createElement("div",{"data-title":"",className:gr(q?.title,(d=y?.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?le.createElement("div",{"data-description":"",className:gr(z,$u,q?.description,(h=y?.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),x.isValidElement(y.cancel)?y.cancel:y.cancel&&gm(y.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||I,onClick:Ne=>{var nt,mt;gm(y.cancel)&&Os&&((mt=(nt=y.cancel).onClick)==null||mt.call(nt,Ne),ps())},className:gr(q?.cancelButton,(m=y?.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,x.isValidElement(y.action)?y.action:y.action&&gm(y.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||M,onClick:Ne=>{var nt,mt;gm(y.action)&&((mt=(nt=y.action).onClick)==null||mt.call(nt,Ne),!Ne.defaultPrevented&&ps())},className:gr(q?.actionButton,(g=y?.classNames)==null?void 0:g.actionButton)},y.action.label):null))};function oE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function x3(t,e){let n={};return[t,e].forEach((s,r)=>{let i=r===1,o=i?"--mobile-offset":"--offset",c=i?f3:h3;function d(h){["top","right","bottom","left"].forEach(m=>{n[`${o}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?n[`${o}-${h}`]=c:n[`${o}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):d(c)}),n}var b3=x.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:c,offset:d,mobileOffset:h,theme:m="light",richColors:g,duration:v,style:y,visibleToasts:A=d3,toastOptions:w,dir:R=oE(),gap:E=p3,loadingIcon:T,icons:N,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:F}=t,[$,j]=le.useState([]),P=le.useMemo(()=>Array.from(new Set([s].concat($.filter(G=>G.position).map(G=>G.position)))),[$,s]),[D,I]=le.useState([]),[M,U]=le.useState(!1),[z,ne]=le.useState(!1),[me,W]=le.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=le.useRef(null),B=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=le.useRef(null),X=le.useRef(!1),ce=le.useCallback(G=>{j(ue=>{var oe;return(oe=ue.find(he=>he.id===G.id))!=null&&oe.delete||Jn.dismiss(G.id),ue.filter(({id:he})=>he!==G.id)})},[]);return le.useEffect(()=>Jn.subscribe(G=>{if(G.dismiss){j(ue=>ue.map(oe=>oe.id===G.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{rA.flushSync(()=>{j(ue=>{let oe=ue.findIndex(he=>he.id===G.id);return oe!==-1?[...ue.slice(0,oe),{...ue[oe],...G},...ue.slice(oe+1)]:[G,...ue]})})})}),[]),le.useEffect(()=>{if(m!=="system"){W(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ue})=>{W(ue?"dark":"light")})}catch{G.addListener(({matches:oe})=>{try{W(oe?"dark":"light")}catch(he){console.error(he)}})}},[m]),le.useEffect(()=>{$.length<=1&&U(!1)},[$]),le.useEffect(()=>{let G=ue=>{var oe,he;r.every(pe=>ue[pe]||ue.code===pe)&&(U(!0),(oe=ee.current)==null||oe.focus()),ue.code==="Escape"&&(document.activeElement===ee.current||(he=ee.current)!=null&&he.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),le.useEffect(()=>{if(ee.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,X.current=!1)}},[ee.current]),le.createElement("section",{ref:e,"aria-label":`${O} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((G,ue)=>{var oe;let[he,pe]=G.split("-");return $.length?le.createElement("ol",{key:G,dir:R==="auto"?oE():R,tabIndex:-1,ref:ee,className:c,"data-sonner-toaster":!0,"data-theme":me,"data-y-position":he,"data-lifted":M&&$.length>1&&!i,"data-x-position":pe,style:{"--front-toast-height":`${((oe=D[0])==null?void 0:oe.height)||0}px`,"--width":`${m3}px`,"--gap":`${E}px`,...y,...x3(d,h)},onBlur:re=>{X.current&&!re.currentTarget.contains(re.relatedTarget)&&(X.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||X.current||(X.current=!0,q.current=re.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{z||U(!1)},onDragEnd:()=>U(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},$.filter(re=>!re.position&&ue===0||re.position===G).map((re,Me)=>{var vt,We;return le.createElement(_3,{key:re.id,icons:N,index:Me,toast:re,defaultRichColors:g,duration:(vt=w?.duration)!=null?vt:v,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:n,visibleToasts:A,closeButton:(We=w?.closeButton)!=null?We:o,interacting:z,position:G,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,removeToast:ce,toasts:$.filter(Ke=>Ke.position==re.position),heights:D.filter(Ke=>Ke.position==re.position),setHeights:I,expandByDefault:i,gap:E,loadingIcon:T,expanded:M,pauseWhenPageIsHidden:F,swipeDirections:t.swipeDirections})})):null}))});const w3=({...t})=>{const{theme:e="system"}=K6();return l.jsx(b3,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function lE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $g(...t){return e=>{let n=!1;const s=t.map(r=>{const i=lE(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():lE(t[r],null)}}}}function Le(...t){return x.useCallback($g(...t),t)}function S3(t,e){const n=x.createContext(e),s=i=>{const{children:o,...c}=i,d=x.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:d,children:o})};s.displayName=t+"Provider";function r(i){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function us(t,e=[]){let n=[];function s(i,o){const c=x.createContext(o),d=n.length;n=[...n,o];const h=g=>{const{scope:v,children:y,...A}=g,w=v?.[t]?.[d]||c,R=x.useMemo(()=>A,Object.values(A));return l.jsx(w.Provider,{value:R,children:y})};h.displayName=i+"Provider";function m(g,v){const y=v?.[t]?.[d]||c,A=x.useContext(y);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,m]}const r=()=>{const i=n.map(o=>x.createContext(o));return function(c){const d=c?.[t]||i;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return r.scopeName=t,[s,E3(r,...e)]}function E3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((c,{useScope:d,scopeName:h})=>{const g=d(i)[`__scope${h}`];return{...c,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function al(t){const e=N3(t),n=x.forwardRef((s,r)=>{const{children:i,...o}=s,c=x.Children.toArray(i),d=c.find(C3);if(d){const h=d.props.children,m=c.map(g=>g===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:g);return l.jsx(e,{...o,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return l.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var T3=al("Slot");function N3(t){const e=x.forwardRef((n,s)=>{const{children:r,...i}=n;if(x.isValidElement(r)){const o=j3(r),c=R3(i,r.props);return r.type!==x.Fragment&&(c.ref=s?$g(s,o):o),x.cloneElement(r,c)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W2=Symbol("radix.slottable");function A3(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=W2,e}function C3(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W2}function R3(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...c)=>{const d=i(...c);return r(...c),d}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function j3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var P3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=P3.reduce((t,e)=>{const n=al(`Primitive.${e}`),s=x.forwardRef((r,i)=>{const{asChild:o,...c}=r,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function K2(t,e){t&&_u.flushSync(()=>t.dispatchEvent(e))}function dn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>e.current?.(...n),[])}function I3(t,e=globalThis?.document){const n=dn(t);x.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var k3="DismissableLayer",h_="dismissableLayer.update",M3="dismissableLayer.pointerDownOutside",O3="dismissableLayer.focusOutside",cE,Z2=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),df=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=t,h=x.useContext(Z2),[m,g]=x.useState(null),v=m?.ownerDocument??globalThis?.document,[,y]=x.useState({}),A=Le(e,j=>g(j)),w=Array.from(h.layers),[R]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(R),T=m?w.indexOf(m):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,O=T>=E,F=U3(j=>{const P=j.target,D=[...h.branches].some(I=>I.contains(P));!O||D||(r?.(j),o?.(j),j.defaultPrevented||c?.())},v),$=V3(j=>{const P=j.target;[...h.branches].some(I=>I.contains(P))||(i?.(j),o?.(j),j.defaultPrevented||c?.())},v);return I3(j=>{T===h.layers.size-1&&(s?.(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},v),x.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(cE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),uE(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=cE)}},[m,v,n,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),uE())},[m,h]),x.useEffect(()=>{const j=()=>y({});return document.addEventListener(h_,j),()=>document.removeEventListener(h_,j)},[]),l.jsx(we.div,{...d,ref:A,style:{pointerEvents:N?O?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,$.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,F.onPointerDownCapture)})});df.displayName=k3;var D3="DismissableLayerBranch",L3=x.forwardRef((t,e)=>{const n=x.useContext(Z2),s=x.useRef(null),r=Le(e,s);return x.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(we.div,{...t,ref:r})});L3.displayName=D3;function U3(t,e=globalThis?.document){const n=dn(t),s=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let d=function(){Y2(M3,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function V3(t,e=globalThis?.document){const n=dn(t),s=x.useRef(!1);return x.useEffect(()=>{const r=i=>{i.target&&!s.current&&Y2(O3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function uE(){const t=new CustomEvent(h_);document.dispatchEvent(t)}function Y2(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?K2(r,i):r.dispatchEvent(i)}var Yt=globalThis?.document?x.useLayoutEffect:()=>{},z3=iA[" useId ".trim().toString()]||(()=>{}),B3=0;function Qr(t){const[e,n]=x.useState(z3());return Yt(()=>{n(s=>s??String(B3++))},[t]),e?`radix-${e}`:""}const F3=["top","right","bottom","left"],to=Math.min,ws=Math.max,Bp=Math.round,vm=Math.floor,Xr=t=>({x:t,y:t}),H3={left:"right",right:"left",bottom:"top",top:"bottom"},$3={start:"end",end:"start"};function f_(t,e,n){return ws(t,to(e,n))}function ea(t,e){return typeof t=="function"?t(e):t}function ta(t){return t.split("-")[0]}function Nu(t){return t.split("-")[1]}function Sb(t){return t==="x"?"y":"x"}function Eb(t){return t==="y"?"height":"width"}const q3=new Set(["top","bottom"]);function Wr(t){return q3.has(ta(t))?"y":"x"}function Tb(t){return Sb(Wr(t))}function G3(t,e,n){n===void 0&&(n=!1);const s=Nu(t),r=Tb(t),i=Eb(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Fp(o)),[o,Fp(o)]}function W3(t){const e=Fp(t);return[m_(t),e,m_(e)]}function m_(t){return t.replace(/start|end/g,e=>$3[e])}const dE=["left","right"],hE=["right","left"],K3=["top","bottom"],Z3=["bottom","top"];function Y3(t,e,n){switch(t){case"top":case"bottom":return n?e?hE:dE:e?dE:hE;case"left":case"right":return e?K3:Z3;default:return[]}}function Q3(t,e,n,s){const r=Nu(t);let i=Y3(ta(t),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(m_)))),i}function Fp(t){return t.replace(/left|right|bottom|top/g,e=>H3[e])}function X3(t){return{top:0,right:0,bottom:0,left:0,...t}}function Q2(t){return typeof t!="number"?X3(t):{top:t,right:t,bottom:t,left:t}}function Hp(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function fE(t,e,n){let{reference:s,floating:r}=t;const i=Wr(e),o=Tb(e),c=Eb(o),d=ta(e),h=i==="y",m=s.x+s.width/2-r.width/2,g=s.y+s.height/2-r.height/2,v=s[c]/2-r[c]/2;let y;switch(d){case"top":y={x:m,y:s.y-r.height};break;case"bottom":y={x:m,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:g};break;case"left":y={x:s.x-r.width,y:g};break;default:y={x:s.x,y:s.y}}switch(Nu(e)){case"start":y[o]-=v*(n&&h?-1:1);break;case"end":y[o]+=v*(n&&h?-1:1);break}return y}const J3=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y:g}=fE(h,s,d),v=s,y={},A=0;for(let w=0;w<c.length;w++){const{name:R,fn:E}=c[w],{x:T,y:N,data:O,reset:F}=await E({x:m,y:g,initialPlacement:s,placement:v,strategy:r,middlewareData:y,rects:h,platform:o,elements:{reference:t,floating:e}});m=T??m,g=N??g,y={...y,[R]:{...y[R],...O}},F&&A<=50&&(A++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(h=F.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):F.rects),{x:m,y:g}=fE(h,v,d)),w=-1)}return{x:m,y:g,placement:v,strategy:r,middlewareData:y}};async function Th(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=ea(e,t),A=Q2(y),R=c[v?g==="floating"?"reference":"floating":g],E=Hp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(R)))==null||n?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),T=g==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),O=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},F=Hp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:N,strategy:d}):T);return{top:(E.top-F.top+A.top)/O.y,bottom:(F.bottom-E.bottom+A.bottom)/O.y,left:(E.left-F.left+A.left)/O.x,right:(F.right-E.right+A.right)/O.x}}const e5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=ea(t,e)||{};if(h==null)return{};const g=Q2(m),v={x:n,y:s},y=Tb(r),A=Eb(y),w=await o.getDimensions(h),R=y==="y",E=R?"top":"left",T=R?"bottom":"right",N=R?"clientHeight":"clientWidth",O=i.reference[A]+i.reference[y]-v[y]-i.floating[A],F=v[y]-i.reference[y],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let j=$?$[N]:0;(!j||!await(o.isElement==null?void 0:o.isElement($)))&&(j=c.floating[N]||i.floating[A]);const P=O/2-F/2,D=j/2-w[A]/2-1,I=to(g[E],D),M=to(g[T],D),U=I,z=j-w[A]-M,ne=j/2-w[A]/2+P,me=f_(U,ne,z),W=!d.arrow&&Nu(r)!=null&&ne!==me&&i.reference[A]/2-(ne<U?I:M)-w[A]/2<0,ee=W?ne<U?ne-U:ne-z:0;return{[y]:v[y]+ee,data:{[y]:me,centerOffset:ne-me-ee,...W&&{alignmentOffset:ee}},reset:W}}}),t5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:w=!0,...R}=ea(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=ta(r),T=Wr(c),N=ta(c)===c,O=await(d.isRTL==null?void 0:d.isRTL(h.floating)),F=v||(N||!w?[Fp(c)]:W3(c)),$=A!=="none";!v&&$&&F.push(...Q3(c,w,A,O));const j=[c,...F],P=await Th(e,R),D=[];let I=((s=i.flip)==null?void 0:s.overflows)||[];if(m&&D.push(P[E]),g){const ne=G3(r,o,O);D.push(P[ne[0]],P[ne[1]])}if(I=[...I,{placement:r,overflows:D}],!D.every(ne=>ne<=0)){var M,U;const ne=(((M=i.flip)==null?void 0:M.index)||0)+1,me=j[ne];if(me&&(!(g==="alignment"?T!==Wr(me):!1)||I.every(B=>Wr(B.placement)===T?B.overflows[0]>0:!0)))return{data:{index:ne,overflows:I},reset:{placement:me}};let W=(U=I.filter(ee=>ee.overflows[0]<=0).sort((ee,B)=>ee.overflows[1]-B.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(y){case"bestFit":{var z;const ee=(z=I.filter(B=>{if($){const q=Wr(B.placement);return q===T||q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(q=>q>0).reduce((q,X)=>q+X,0)]).sort((B,q)=>B[1]-q[1])[0])==null?void 0:z[0];ee&&(W=ee);break}case"initialPlacement":W=c;break}if(r!==W)return{reset:{placement:W}}}return{}}}};function mE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pE(t){return F3.some(e=>t[e]>=0)}const n5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=ea(t,e);switch(s){case"referenceHidden":{const i=await Th(e,{...r,elementContext:"reference"}),o=mE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pE(o)}}}case"escaped":{const i=await Th(e,{...r,altBoundary:!0}),o=mE(i,n.floating);return{data:{escapedOffsets:o,escaped:pE(o)}}}default:return{}}}}},X2=new Set(["left","top"]);async function s5(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=ta(n),c=Nu(n),d=Wr(n)==="y",h=X2.has(o)?-1:1,m=i&&d?-1:1,g=ea(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof A=="number"&&(y=c==="end"?A*-1:A),d?{x:y*m,y:v*h}:{x:v*h,y:y*m}}const r5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:o,middlewareData:c}=e,d=await s5(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:r+d.x,y:i+d.y,data:{...d,placement:o}}}}},i5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:R=>{let{x:E,y:T}=R;return{x:E,y:T}}},...d}=ea(t,e),h={x:n,y:s},m=await Th(e,d),g=Wr(ta(r)),v=Sb(g);let y=h[v],A=h[g];if(i){const R=v==="y"?"top":"left",E=v==="y"?"bottom":"right",T=y+m[R],N=y-m[E];y=f_(T,y,N)}if(o){const R=g==="y"?"top":"left",E=g==="y"?"bottom":"right",T=A+m[R],N=A-m[E];A=f_(T,A,N)}const w=c.fn({...e,[v]:y,[g]:A});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[v]:i,[g]:o}}}}}},a5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=ea(t,e),m={x:n,y:s},g=Wr(r),v=Sb(g);let y=m[v],A=m[g];const w=ea(c,e),R=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const N=v==="y"?"height":"width",O=i.reference[v]-i.floating[N]+R.mainAxis,F=i.reference[v]+i.reference[N]-R.mainAxis;y<O?y=O:y>F&&(y=F)}if(h){var E,T;const N=v==="y"?"width":"height",O=X2.has(ta(r)),F=i.reference[g]-i.floating[N]+(O&&((E=o.offset)==null?void 0:E[g])||0)+(O?0:R.crossAxis),$=i.reference[g]+i.reference[N]+(O?0:((T=o.offset)==null?void 0:T[g])||0)-(O?R.crossAxis:0);A<F?A=F:A>$&&(A=$)}return{[v]:y,[g]:A}}}},o5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:o,elements:c}=e,{apply:d=()=>{},...h}=ea(t,e),m=await Th(e,h),g=ta(r),v=Nu(r),y=Wr(r)==="y",{width:A,height:w}=i.floating;let R,E;g==="top"||g==="bottom"?(R=g,E=v===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(E=g,R=v==="end"?"top":"bottom");const T=w-m.top-m.bottom,N=A-m.left-m.right,O=to(w-m[R],T),F=to(A-m[E],N),$=!e.middlewareData.shift;let j=O,P=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(j=T),$&&!v){const I=ws(m.left,0),M=ws(m.right,0),U=ws(m.top,0),z=ws(m.bottom,0);y?P=A-2*(I!==0||M!==0?I+M:ws(m.left,m.right)):j=w-2*(U!==0||z!==0?U+z:ws(m.top,m.bottom))}await d({...e,availableWidth:P,availableHeight:j});const D=await o.getDimensions(c.floating);return A!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function qg(){return typeof window<"u"}function Au(t){return J2(t)?(t.nodeName||"").toLowerCase():"#document"}function Rs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function di(t){var e;return(e=(J2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function J2(t){return qg()?t instanceof Node||t instanceof Rs(t).Node:!1}function Nr(t){return qg()?t instanceof Element||t instanceof Rs(t).Element:!1}function ii(t){return qg()?t instanceof HTMLElement||t instanceof Rs(t).HTMLElement:!1}function gE(t){return!qg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rs(t).ShadowRoot}const l5=new Set(["inline","contents"]);function hf(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!l5.has(r)}const c5=new Set(["table","td","th"]);function u5(t){return c5.has(Au(t))}const d5=[":popover-open",":modal"];function Gg(t){return d5.some(e=>{try{return t.matches(e)}catch{return!1}})}const h5=["transform","translate","scale","rotate","perspective"],f5=["transform","translate","scale","rotate","perspective","filter"],m5=["paint","layout","strict","content"];function Nb(t){const e=Ab(),n=Nr(t)?Ar(t):t;return h5.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||f5.some(s=>(n.willChange||"").includes(s))||m5.some(s=>(n.contain||"").includes(s))}function p5(t){let e=no(t);for(;ii(e)&&!su(e);){if(Nb(e))return e;if(Gg(e))return null;e=no(e)}return null}function Ab(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const g5=new Set(["html","body","#document"]);function su(t){return g5.has(Au(t))}function Ar(t){return Rs(t).getComputedStyle(t)}function Wg(t){return Nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function no(t){if(Au(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gE(t)&&t.host||di(t);return gE(e)?e.host:e}function eR(t){const e=no(t);return su(e)?t.ownerDocument?t.ownerDocument.body:t.body:ii(e)&&hf(e)?e:eR(e)}function Nh(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=eR(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),o=Rs(r);if(i){const c=p_(o);return e.concat(o,o.visualViewport||[],hf(r)?r:[],c&&n?Nh(c):[])}return e.concat(r,Nh(r,[],n))}function p_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tR(t){const e=Ar(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=ii(t),i=r?t.offsetWidth:n,o=r?t.offsetHeight:s,c=Bp(n)!==i||Bp(s)!==o;return c&&(n=i,s=o),{width:n,height:s,$:c}}function Cb(t){return Nr(t)?t:t.contextElement}function Lc(t){const e=Cb(t);if(!ii(e))return Xr(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=tR(e);let o=(i?Bp(n.width):n.width)/s,c=(i?Bp(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const v5=Xr(0);function nR(t){const e=Rs(t);return!Ab()||!e.visualViewport?v5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Rs(t)?!1:e}function ol(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Cb(t);let o=Xr(1);e&&(s?Nr(s)&&(o=Lc(s)):o=Lc(t));const c=y5(i,n,s)?nR(i):Xr(0);let d=(r.left+c.x)/o.x,h=(r.top+c.y)/o.y,m=r.width/o.x,g=r.height/o.y;if(i){const v=Rs(i),y=s&&Nr(s)?Rs(s):s;let A=v,w=p_(A);for(;w&&s&&y!==A;){const R=Lc(w),E=w.getBoundingClientRect(),T=Ar(w),N=E.left+(w.clientLeft+parseFloat(T.paddingLeft))*R.x,O=E.top+(w.clientTop+parseFloat(T.paddingTop))*R.y;d*=R.x,h*=R.y,m*=R.x,g*=R.y,d+=N,h+=O,A=Rs(w),w=p_(A)}}return Hp({width:m,height:g,x:d,y:h})}function Kg(t,e){const n=Wg(t).scrollLeft;return e?e.left+n:ol(di(t)).left+n}function sR(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Kg(t,n),r=n.top+e.scrollTop;return{x:s,y:r}}function _5(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",o=di(s),c=e?Gg(e.floating):!1;if(s===o||c&&i)return n;let d={scrollLeft:0,scrollTop:0},h=Xr(1);const m=Xr(0),g=ii(s);if((g||!g&&!i)&&((Au(s)!=="body"||hf(o))&&(d=Wg(s)),ii(s))){const y=ol(s);h=Lc(s),m.x=y.x+s.clientLeft,m.y=y.y+s.clientTop}const v=o&&!g&&!i?sR(o,d):Xr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+v.x,y:n.y*h.y-d.scrollTop*h.y+m.y+v.y}}function x5(t){return Array.from(t.getClientRects())}function b5(t){const e=di(t),n=Wg(t),s=t.ownerDocument.body,r=ws(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=ws(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Kg(t);const c=-n.scrollTop;return Ar(s).direction==="rtl"&&(o+=ws(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:c}}const vE=25;function w5(t,e){const n=Rs(t),s=di(t),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,c=0,d=0;if(r){i=r.width,o=r.height;const m=Ab();(!m||m&&e==="fixed")&&(c=r.offsetLeft,d=r.offsetTop)}const h=Kg(s);if(h<=0){const m=s.ownerDocument,g=m.body,v=getComputedStyle(g),y=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,A=Math.abs(s.clientWidth-g.clientWidth-y);A<=vE&&(i-=A)}else h<=vE&&(i+=h);return{width:i,height:o,x:c,y:d}}const S5=new Set(["absolute","fixed"]);function E5(t,e){const n=ol(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=ii(t)?Lc(t):Xr(1),o=t.clientWidth*i.x,c=t.clientHeight*i.y,d=r*i.x,h=s*i.y;return{width:o,height:c,x:d,y:h}}function yE(t,e,n){let s;if(e==="viewport")s=w5(t,n);else if(e==="document")s=b5(di(t));else if(Nr(e))s=E5(e,n);else{const r=nR(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Hp(s)}function rR(t,e){const n=no(t);return n===e||!Nr(n)||su(n)?!1:Ar(n).position==="fixed"||rR(n,e)}function T5(t,e){const n=e.get(t);if(n)return n;let s=Nh(t,[],!1).filter(c=>Nr(c)&&Au(c)!=="body"),r=null;const i=Ar(t).position==="fixed";let o=i?no(t):t;for(;Nr(o)&&!su(o);){const c=Ar(o),d=Nb(o);!d&&c.position==="fixed"&&(r=null),(i?!d&&!r:!d&&c.position==="static"&&!!r&&S5.has(r.position)||hf(o)&&!d&&rR(t,o))?s=s.filter(m=>m!==o):r=c,o=no(o)}return e.set(t,s),s}function N5(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?Gg(e)?[]:T5(e,this._c):[].concat(n),s],c=o[0],d=o.reduce((h,m)=>{const g=yE(e,m,r);return h.top=ws(g.top,h.top),h.right=to(g.right,h.right),h.bottom=to(g.bottom,h.bottom),h.left=ws(g.left,h.left),h},yE(e,c,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function A5(t){const{width:e,height:n}=tR(t);return{width:e,height:n}}function C5(t,e,n){const s=ii(e),r=di(e),i=n==="fixed",o=ol(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=Xr(0);function h(){d.x=Kg(r)}if(s||!s&&!i)if((Au(e)!=="body"||hf(r))&&(c=Wg(e)),s){const y=ol(e,!0,i,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else r&&h();i&&!s&&r&&h();const m=r&&!s&&!i?sR(r,c):Xr(0),g=o.left+c.scrollLeft-d.x-m.x,v=o.top+c.scrollTop-d.y-m.y;return{x:g,y:v,width:o.width,height:o.height}}function Oy(t){return Ar(t).position==="static"}function _E(t,e){if(!ii(t)||Ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return di(t)===n&&(n=n.ownerDocument.body),n}function iR(t,e){const n=Rs(t);if(Gg(t))return n;if(!ii(t)){let r=no(t);for(;r&&!su(r);){if(Nr(r)&&!Oy(r))return r;r=no(r)}return n}let s=_E(t,e);for(;s&&u5(s)&&Oy(s);)s=_E(s,e);return s&&su(s)&&Oy(s)&&!Nb(s)?n:s||p5(t)||n}const R5=async function(t){const e=this.getOffsetParent||iR,n=this.getDimensions,s=await n(t.floating);return{reference:C5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function j5(t){return Ar(t).direction==="rtl"}const P5={convertOffsetParentRelativeRectToViewportRelativeRect:_5,getDocumentElement:di,getClippingRect:N5,getOffsetParent:iR,getElementRects:R5,getClientRects:x5,getDimensions:A5,getScale:Lc,isElement:Nr,isRTL:j5};function aR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function I5(t,e){let n=null,s;const r=di(t);function i(){var c;clearTimeout(s),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:m,top:g,width:v,height:y}=h;if(c||e(),!v||!y)return;const A=vm(g),w=vm(r.clientWidth-(m+v)),R=vm(r.clientHeight-(g+y)),E=vm(m),N={rootMargin:-A+"px "+-w+"px "+-R+"px "+-E+"px",threshold:ws(0,to(1,d))||1};let O=!0;function F($){const j=$[0].intersectionRatio;if(j!==d){if(!O)return o();j?o(!1,j):s=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!aR(h,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(F,{...N,root:r.ownerDocument})}catch{n=new IntersectionObserver(F,N)}n.observe(t)}return o(!0),i}function k5(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=Cb(t),m=r||i?[...h?Nh(h):[],...Nh(e)]:[];m.forEach(E=>{r&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const g=h&&c?I5(h,n):null;let v=-1,y=null;o&&(y=new ResizeObserver(E=>{let[T]=E;T&&T.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=y)==null||N.observe(e)})),n()}),h&&!d&&y.observe(h),y.observe(e));let A,w=d?ol(t):null;d&&R();function R(){const E=ol(t);w&&!aR(w,E)&&n(),w=E,A=requestAnimationFrame(R)}return n(),()=>{var E;m.forEach(T=>{r&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),g?.(),(E=y)==null||E.disconnect(),y=null,d&&cancelAnimationFrame(A)}}const M5=r5,O5=i5,D5=t5,L5=o5,U5=n5,xE=e5,V5=a5,z5=(t,e,n)=>{const s=new Map,r={platform:P5,...n},i={...r.platform,_c:s};return J3(t,e,{...r,platform:i})};var B5=typeof document<"u",F5=function(){},Zm=B5?x.useLayoutEffect:F5;function $p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!$p(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!$p(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function oR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bE(t,e){const n=oR(t);return Math.round(e*n)/n}function Dy(t){const e=x.useRef(t);return Zm(()=>{e.current=t}),e}function H5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,g]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=x.useState(s);$p(v,s)||y(s);const[A,w]=x.useState(null),[R,E]=x.useState(null),T=x.useCallback(B=>{B!==$.current&&($.current=B,w(B))},[]),N=x.useCallback(B=>{B!==j.current&&(j.current=B,E(B))},[]),O=i||A,F=o||R,$=x.useRef(null),j=x.useRef(null),P=x.useRef(m),D=d!=null,I=Dy(d),M=Dy(r),U=Dy(h),z=x.useCallback(()=>{if(!$.current||!j.current)return;const B={placement:e,strategy:n,middleware:v};M.current&&(B.platform=M.current),z5($.current,j.current,B).then(q=>{const X={...q,isPositioned:U.current!==!1};ne.current&&!$p(P.current,X)&&(P.current=X,_u.flushSync(()=>{g(X)}))})},[v,e,n,M,U]);Zm(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[h]);const ne=x.useRef(!1);Zm(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Zm(()=>{if(O&&($.current=O),F&&(j.current=F),O&&F){if(I.current)return I.current(O,F,z);z()}},[O,F,z,I,D]);const me=x.useMemo(()=>({reference:$,floating:j,setReference:T,setFloating:N}),[T,N]),W=x.useMemo(()=>({reference:O,floating:F}),[O,F]),ee=x.useMemo(()=>{const B={position:n,left:0,top:0};if(!W.floating)return B;const q=bE(W.floating,m.x),X=bE(W.floating,m.y);return c?{...B,transform:"translate("+q+"px, "+X+"px)",...oR(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:X}},[n,c,W.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:z,refs:me,elements:W,floatingStyles:ee}),[m,z,me,W,ee])}const $5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?xE({element:s.current,padding:r}).fn(n):{}:s?xE({element:s,padding:r}).fn(n):{}}}},q5=(t,e)=>({...M5(t),options:[t,e]}),G5=(t,e)=>({...O5(t),options:[t,e]}),W5=(t,e)=>({...V5(t),options:[t,e]}),K5=(t,e)=>({...D5(t),options:[t,e]}),Z5=(t,e)=>({...L5(t),options:[t,e]}),Y5=(t,e)=>({...U5(t),options:[t,e]}),Q5=(t,e)=>({...$5(t),options:[t,e]});var X5="Arrow",lR=x.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return l.jsx(we.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});lR.displayName=X5;var J5=lR;function Rb(t){const[e,n]=x.useState(void 0);return Yt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var jb="Popper",[cR,Cu]=us(jb),[eU,uR]=cR(jb),dR=t=>{const{__scopePopper:e,children:n}=t,[s,r]=x.useState(null);return l.jsx(eU,{scope:e,anchor:s,onAnchorChange:r,children:n})};dR.displayName=jb;var hR="PopperAnchor",fR=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=uR(hR,n),o=x.useRef(null),c=Le(e,o),d=x.useRef(null);return x.useEffect(()=>{const h=d.current;d.current=s?.current||o.current,h!==d.current&&i.onAnchorChange(d.current)}),s?null:l.jsx(we.div,{...r,ref:c})});fR.displayName=hR;var Pb="PopperContent",[tU,nU]=cR(Pb),mR=x.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:A,...w}=t,R=uR(Pb,n),[E,T]=x.useState(null),N=Le(e,re=>T(re)),[O,F]=x.useState(null),$=Rb(O),j=$?.width??0,P=$?.height??0,D=s+(i!=="center"?"-"+i:""),I=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},M=Array.isArray(h)?h:[h],U=M.length>0,z={padding:I,boundary:M.filter(rU),altBoundary:U},{refs:ne,floatingStyles:me,placement:W,isPositioned:ee,middlewareData:B}=H5({strategy:"fixed",placement:D,whileElementsMounted:(...re)=>k5(...re,{animationFrame:y==="always"}),elements:{reference:R.anchor},middleware:[q5({mainAxis:r+P,alignmentAxis:o}),d&&G5({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?W5():void 0,...z}),d&&K5({...z}),Z5({...z,apply:({elements:re,rects:Me,availableWidth:vt,availableHeight:We})=>{const{width:Ke,height:tt}=Me.reference,At=re.floating.style;At.setProperty("--radix-popper-available-width",`${vt}px`),At.setProperty("--radix-popper-available-height",`${We}px`),At.setProperty("--radix-popper-anchor-width",`${Ke}px`),At.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),O&&Q5({element:O,padding:c}),iU({arrowWidth:j,arrowHeight:P}),v&&Y5({strategy:"referenceHidden",...z})]}),[q,X]=vR(W),ce=dn(A);Yt(()=>{ee&&ce?.()},[ee,ce]);const G=B.arrow?.x,ue=B.arrow?.y,oe=B.arrow?.centerOffset!==0,[he,pe]=x.useState();return Yt(()=>{E&&pe(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:ee?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(tU,{scope:n,placedSide:q,onArrowChange:F,arrowX:G,arrowY:ue,shouldHideArrow:oe,children:l.jsx(we.div,{"data-side":q,"data-align":X,...w,ref:N,style:{...w.style,animation:ee?void 0:"none"}})})})});mR.displayName=Pb;var pR="PopperArrow",sU={top:"bottom",right:"left",bottom:"top",left:"right"},gR=x.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=nU(pR,s),o=sU[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(J5,{...r,ref:n,style:{...r.style,display:"block"}})})});gR.displayName=pR;function rU(t){return t!==null}var iU=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:r}=e,o=r.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,m]=vR(n),g={start:"0%",center:"50%",end:"100%"}[m],v=(r.arrow?.x??0)+c/2,y=(r.arrow?.y??0)+d/2;let A="",w="";return h==="bottom"?(A=o?g:`${v}px`,w=`${-d}px`):h==="top"?(A=o?g:`${v}px`,w=`${s.floating.height+d}px`):h==="right"?(A=`${-d}px`,w=o?g:`${y}px`):h==="left"&&(A=`${s.floating.width+d}px`,w=o?g:`${y}px`),{data:{x:A,y:w}}}});function vR(t){const[e,n="center"]=t.split("-");return[e,n]}var yR=dR,Ib=fR,kb=mR,Mb=gR,aU="Portal",Zg=x.forwardRef((t,e)=>{const{container:n,...s}=t,[r,i]=x.useState(!1);Yt(()=>i(!0),[]);const o=n||r&&globalThis?.document?.body;return o?rA.createPortal(l.jsx(we.div,{...s,ref:e}),o):null});Zg.displayName=aU;function oU(t,e){return x.useReducer((n,s)=>e[n][s]??n,t)}var ds=t=>{const{present:e,children:n}=t,s=lU(e),r=typeof n=="function"?n({present:s.isPresent}):x.Children.only(n),i=Le(s.ref,cU(r));return typeof n=="function"||s.isPresent?x.cloneElement(r,{ref:i}):null};ds.displayName="Presence";function lU(t){const[e,n]=x.useState(),s=x.useRef(null),r=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[c,d]=oU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=ym(s.current);i.current=c==="mounted"?h:"none"},[c]),Yt(()=>{const h=s.current,m=r.current;if(m!==t){const v=i.current,y=ym(h);t?d("MOUNT"):y==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&v!==y?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,d]),Yt(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=y=>{const w=ym(s.current).includes(CSS.escape(y.animationName));if(y.target===e&&w&&(d("ANIMATION_END"),!r.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},v=y=>{y.target===e&&(i.current=ym(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function ym(t){return t?.animationName||"none"}function cU(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uU=iA[" useInsertionEffect ".trim().toString()]||Yt;function so({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,o]=dU({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:r;{const m=x.useRef(t!==void 0);x.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,s])}const h=x.useCallback(m=>{if(c){const g=hU(m)?m(t):m;g!==t&&o.current?.(g)}else i(m)},[c,t,i,o]);return[d,h]}function dU({defaultProp:t,onChange:e}){const[n,s]=x.useState(t),r=x.useRef(n),i=x.useRef(e);return uU(()=>{i.current=e},[e]),x.useEffect(()=>{r.current!==n&&(i.current?.(n),r.current=n)},[n,r]),[n,s,i]}function hU(t){return typeof t=="function"}var _R=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fU="VisuallyHidden",xR=x.forwardRef((t,e)=>l.jsx(we.span,{...t,ref:e,style:{..._R,...t.style}}));xR.displayName=fU;var mU=xR,[Yg,lJ]=us("Tooltip",[Cu]),Ob=Cu(),bR="TooltipProvider",pU=700,wE="tooltip.open",[gU,wR]=Yg(bR),SR=t=>{const{__scopeTooltip:e,delayDuration:n=pU,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,o=x.useRef(!0),c=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),l.jsx(gU,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(h=>{c.current=h},[]),disableHoverableContent:r,children:i})};SR.displayName=bR;var ER="Tooltip",[cJ,Qg]=Yg(ER),g_="TooltipTrigger",vU=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Qg(g_,n),i=wR(g_,n),o=Ob(n),c=x.useRef(null),d=Le(e,c,r.onTriggerChange),h=x.useRef(!1),m=x.useRef(!1),g=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),l.jsx(Ib,{asChild:!0,...o,children:l.jsx(we.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:d,onPointerMove:fe(t.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{r.open&&r.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:fe(t.onFocus,()=>{h.current||r.onOpen()}),onBlur:fe(t.onBlur,r.onClose),onClick:fe(t.onClick,r.onClose)})})});vU.displayName=g_;var yU="TooltipPortal",[uJ,_U]=Yg(yU,{forceMount:void 0}),ru="TooltipContent",TR=x.forwardRef((t,e)=>{const n=_U(ru,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,o=Qg(ru,t.__scopeTooltip);return l.jsx(ds,{present:s||o.open,children:o.disableHoverableContent?l.jsx(NR,{side:r,...i,ref:e}):l.jsx(xU,{side:r,...i,ref:e})})}),xU=x.forwardRef((t,e)=>{const n=Qg(ru,t.__scopeTooltip),s=wR(ru,t.__scopeTooltip),r=x.useRef(null),i=Le(e,r),[o,c]=x.useState(null),{trigger:d,onClose:h}=n,m=r.current,{onPointerInTransitChange:g}=s,v=x.useCallback(()=>{c(null),g(!1)},[g]),y=x.useCallback((A,w)=>{const R=A.currentTarget,E={x:A.clientX,y:A.clientY},T=TU(E,R.getBoundingClientRect()),N=NU(E,T),O=AU(w.getBoundingClientRect()),F=RU([...N,...O]);c(F),g(!0)},[g]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(d&&m){const A=R=>y(R,m),w=R=>y(R,d);return d.addEventListener("pointerleave",A),m.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",A),m.removeEventListener("pointerleave",w)}}},[d,m,y,v]),x.useEffect(()=>{if(o){const A=w=>{const R=w.target,E={x:w.clientX,y:w.clientY},T=d?.contains(R)||m?.contains(R),N=!CU(E,o);T?v():N&&(v(),h())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[d,m,o,h,v]),l.jsx(NR,{...t,ref:i})}),[bU,wU]=Yg(ER,{isInside:!1}),SU=A3("TooltipContent"),NR=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=t,d=Qg(ru,n),h=Ob(n),{onClose:m}=d;return x.useEffect(()=>(document.addEventListener(wE,m),()=>document.removeEventListener(wE,m)),[m]),x.useEffect(()=>{if(d.trigger){const g=v=>{v.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),l.jsx(df,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:l.jsxs(kb,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(SU,{children:s}),l.jsx(bU,{scope:n,isInside:!0,children:l.jsx(mU,{id:d.contentId,role:"tooltip",children:r||s})})]})})});TR.displayName=ru;var AR="TooltipArrow",EU=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Ob(n);return wU(AR,n).isInside?null:l.jsx(Mb,{...r,...s,ref:e})});EU.displayName=AR;function TU(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function NU(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function AU(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function CU(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],d=e[o],h=c.x,m=c.y,g=d.x,v=d.y;m>s!=v>s&&n<(g-h)*(s-m)/(v-m)+h&&(r=!r)}return r}function RU(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),jU(e)}function jU(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var PU=SR,CR=TR;function RR(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=RR(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function jR(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=RR(t))&&(s&&(s+=" "),s+=e);return s}const Db="-",IU=t=>{const e=MU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const c=o.split(Db);return c[0]===""&&c.length!==1&&c.shift(),PR(c,e)||kU(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&s[o]?[...d,...s[o]]:d}}},PR=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?PR(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(Db);return e.validators.find(({validator:o})=>o(i))?.classGroupId},SE=/^\[(.+)\]$/,kU=t=>{if(SE.test(t)){const e=SE.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},MU=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return DU(Object.entries(t.classGroups),n).forEach(([i,o])=>{v_(o,s,i,e)}),s},v_=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:EE(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(OU(r)){v_(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{v_(o,EE(e,i),n,s)})})},EE=(t,e)=>{let n=t;return e.split(Db).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},OU=t=>t.isThemeGetter,DU=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[e+o,c])):i);return[n,r]}):t,LU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},IR="!",UU=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,o=c=>{const d=[];let h=0,m=0,g;for(let R=0;R<c.length;R++){let E=c[R];if(h===0){if(E===r&&(s||c.slice(R,R+i)===e)){d.push(c.slice(m,R)),m=R+i;continue}if(E==="/"){g=R;continue}}E==="["?h++:E==="]"&&h--}const v=d.length===0?c:c.substring(m),y=v.startsWith(IR),A=y?v.substring(1):v,w=g&&g>m?g-m:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:A,maybePostfixModifierPosition:w}};return n?c=>n({className:c,parseClassName:o}):o},VU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},zU=t=>({cache:LU(t.cacheSize),parseClassName:UU(t),...IU(t)}),BU=/\s+/,FU=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=t.trim().split(BU);let c="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{modifiers:m,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(h);let A=!!y,w=s(A?v.substring(0,y):v);if(!w){if(!A){c=h+(c.length>0?" "+c:c);continue}if(w=s(v),!w){c=h+(c.length>0?" "+c:c);continue}A=!1}const R=VU(m).join(":"),E=g?R+IR:R,T=E+w;if(i.includes(T))continue;i.push(T);const N=r(w,A);for(let O=0;O<N.length;++O){const F=N[O];i.push(E+F)}c=h+(c.length>0?" "+c:c)}return c};function HU(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kR(e))&&(s&&(s+=" "),s+=n);return s}const kR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=kR(t[s]))&&(n&&(n+=" "),n+=e);return n};function $U(t,...e){let n,s,r,i=o;function o(d){const h=e.reduce((m,g)=>g(m),t());return n=zU(h),s=n.cache.get,r=n.cache.set,i=c,c(d)}function c(d){const h=s(d);if(h)return h;const m=FU(d,n);return r(d,m),m}return function(){return i(HU.apply(null,arguments))}}const wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MR=/^\[(?:([a-z-]+):)?(.+)\]$/i,qU=/^\d+\/\d+$/,GU=new Set(["px","full","screen"]),WU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ki=t=>Uc(t)||GU.has(t)||qU.test(t),va=t=>Ru(t,"length",iV),Uc=t=>!!t&&!Number.isNaN(Number(t)),Ly=t=>Ru(t,"number",Uc),xd=t=>!!t&&Number.isInteger(Number(t)),XU=t=>t.endsWith("%")&&Uc(t.slice(0,-1)),Ve=t=>MR.test(t),ya=t=>WU.test(t),JU=new Set(["length","size","percentage"]),eV=t=>Ru(t,JU,OR),tV=t=>Ru(t,"position",OR),nV=new Set(["image","url"]),sV=t=>Ru(t,nV,oV),rV=t=>Ru(t,"",aV),bd=()=>!0,Ru=(t,e,n)=>{const s=MR.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},iV=t=>KU.test(t)&&!ZU.test(t),OR=()=>!1,aV=t=>YU.test(t),oV=t=>QU.test(t),lV=()=>{const t=wt("colors"),e=wt("spacing"),n=wt("blur"),s=wt("brightness"),r=wt("borderColor"),i=wt("borderRadius"),o=wt("borderSpacing"),c=wt("borderWidth"),d=wt("contrast"),h=wt("grayscale"),m=wt("hueRotate"),g=wt("invert"),v=wt("gap"),y=wt("gradientColorStops"),A=wt("gradientColorStopPositions"),w=wt("inset"),R=wt("margin"),E=wt("opacity"),T=wt("padding"),N=wt("saturate"),O=wt("scale"),F=wt("sepia"),$=wt("skew"),j=wt("space"),P=wt("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ve,e],U=()=>[Ve,e],z=()=>["",ki,va],ne=()=>["auto",Uc,Ve],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Ve],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Uc,Ve];return{cacheSize:500,separator:":",theme:{colors:[bd],spacing:[ki,va],blur:["none","",ya,Ve],brightness:ce(),borderColor:[t],borderRadius:["none","","full",ya,Ve],borderSpacing:U(),borderWidth:z(),contrast:ce(),grayscale:q(),hueRotate:ce(),invert:q(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[XU,va],inset:M(),margin:M(),opacity:ce(),padding:U(),saturate:ce(),scale:ce(),sepia:q(),skew:ce(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[ya]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),Ve]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xd,Ve]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",xd,Ve]}],"grid-cols":[{"grid-cols":[bd]}],"col-start-end":[{col:["auto",{span:["full",xd,Ve]},Ve]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[bd]}],"row-start-end":[{row:["auto",{span:[xd,Ve]},Ve]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[ya]},ya]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ya,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ly]}],"font-family":[{font:[bd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Uc,Ly]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ki,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ki,va]}],"underline-offset":[{"underline-offset":["auto",ki,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),tV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:W()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ki,Ve]}],"outline-w":[{outline:[ki,va]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ki,va]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ya,rV]}],"shadow-color":[{shadow:[bd]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ya,Ve]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[N]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[xd,Ve]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ki,va,Ly]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cV=$U(lV);function Ee(...t){return cV(jR(t))}const uV=PU,dV=x.forwardRef(({className:t,sideOffset:e=4,...n},s)=>l.jsx(CR,{ref:s,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));dV.displayName=CR.displayName;var Xg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hV={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},fV=class{#e=hV;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},y_=new fV;function mV(t){setTimeout(t,0)}var Jg=typeof window>"u"||"Deno"in globalThis;function _r(){}function pV(t,e){return typeof t=="function"?t(e):t}function gV(t){return typeof t=="number"&&t>=0&&t!==1/0}function vV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function __(t,e){return typeof t=="function"?t(e):t}function yV(t,e){return typeof t=="function"?t(e):t}function TE(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:c}=t;if(o){if(s){if(e.queryHash!==Lb(o,e.options))return!1}else if(!Ch(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||i&&!i(e))}function NE(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ah(e.options.mutationKey)!==Ah(i))return!1}else if(!Ch(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Lb(t,e){return(e?.queryKeyHashFn||Ah)(t)}function Ah(t){return JSON.stringify(t,(e,n)=>x_(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Ch(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ch(t[n],e[n])):!1}var _V=Object.prototype.hasOwnProperty;function DR(t,e){if(t===e)return t;const n=AE(t)&&AE(e);if(!n&&!(x_(t)&&x_(e)))return e;const r=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,c=n?new Array(o):{};let d=0;for(let h=0;h<o;h++){const m=n?h:i[h],g=t[m],v=e[m];if(g===v){c[m]=g,(n?h<r:_V.call(t,m))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){c[m]=v;continue}const y=DR(g,v);c[m]=y,y===g&&d++}return r===o&&d===r?t:c}function AE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function x_(t){if(!CE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!CE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function CE(t){return Object.prototype.toString.call(t)==="[object Object]"}function xV(t){return new Promise(e=>{y_.setTimeout(e,t)})}function bV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DR(t,e):e}function wV(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function SV(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Ub=Symbol();function LR(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ub?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var EV=class extends Xg{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Jg&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},UR=new EV;function TV(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}var NV=mV;function AV(){let t=[],e=0,n=c=>{c()},s=c=>{c()},r=NV;const i=c=>{e?t.push(c):r(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&r(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var Vn=AV(),CV=class extends Xg{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Jg&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},qp=new CV;function RV(t){return Math.min(1e3*2**t,3e4)}function VR(t){return(t??"online")==="online"?qp.isOnline():!0}var b_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function zR(t){let e=!1,n=0,s;const r=TV(),i=()=>r.status!=="pending",o=w=>{if(!i()){const R=new b_(w);v(R),t.onCancel?.(R)}},c=()=>{e=!0},d=()=>{e=!1},h=()=>UR.isFocused()&&(t.networkMode==="always"||qp.isOnline())&&t.canRun(),m=()=>VR(t.networkMode)&&t.canRun(),g=w=>{i()||(s?.(),r.resolve(w))},v=w=>{i()||(s?.(),r.reject(w))},y=()=>new Promise(w=>{s=R=>{(i()||h())&&w(R)},t.onPause?.()}).then(()=>{s=void 0,i()||t.onContinue?.()}),A=()=>{if(i())return;let w;const R=n===0?t.initialPromise:void 0;try{w=R??t.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(g).catch(E=>{if(i())return;const T=t.retry??(Jg?0:3),N=t.retryDelay??RV,O=typeof N=="function"?N(n,E):N,F=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,E);if(e||!F){v(E);return}n++,t.onFail?.(n,E),xV(O).then(()=>h()?void 0:y()).then(()=>{e?v(E):A()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(s?.(),r),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?A():y().then(A),r)}}var BR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gV(this.gcTime)&&(this.#e=y_.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jg?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(y_.clearTimeout(this.#e),this.#e=void 0)}},jV=class extends BR{#e;#t;#n;#r;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=RE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=RE(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const s=bV(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>yV(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ub||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>__(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vV(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},i=()=>{const d=LR(this.options,n),m=(()=>{const g={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,m,this):d(m)},c=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=zR({initialPromise:n?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof b_&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(d,h)=>{this.#i({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#s.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof b_){if(d.silent)return this.#s.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...PV(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),Vn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function PV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function jE(t){return{onFetch:(e,n)=>{const s=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const g=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=LR(e.options,e.fetchOptions),y=async(A,w,R)=>{if(m)return Promise.reject();if(w==null&&A.pages.length)return Promise.resolve(A);const T=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:w,direction:R?"backward":"forward",meta:e.options.meta};return g($),$})(),N=await v(T),{maxPages:O}=e.options,F=R?SV:wV;return{pages:F(A.pages,N,O),pageParams:F(A.pageParams,w,O)}};if(r&&i.length){const A=r==="backward",w=A?IV:PE,R={pages:i,pageParams:o},E=w(s,R);c=await y(R,E,A)}else{const A=t??i.length;do{const w=d===0?o[0]??s.initialPageParam:PE(s,c);if(d>0&&w==null)break;c=await y(c,w),d++}while(d<A)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function PE(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function IV(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var kV=class extends BR{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||MV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})};this.#n=zR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",r=!this.#n.canStart();try{if(s)n();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vn.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function MV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var OV=class extends Xg{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new kV({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=_m(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=_m(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=_m(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=_m(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Vn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>NE(e,n))}findAll(t={}){return this.getAll().filter(e=>NE(t,e))}notify(t){Vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Vn.batch(()=>Promise.all(t.map(e=>e.continue().catch(_r))))}};function _m(t){return t.options.scope?.id}var DV=class extends Xg{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,r=e.queryHash??Lb(s,e);let i=this.get(r);return i||(i=new jV({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>TE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>TE(t,n)):e}notify(t){Vn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},LV=class{#e;#t;#n;#r;#s;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new DV,this.#t=t.mutationCache||new OV,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=UR.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=qp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(__(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(s.queryHash)?.state.data,o=pV(e,i);if(o!==void 0)return this.#e.build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vn.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Vn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Vn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Vn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(_r).catch(_r)}invalidateQueries(t,e={}){return Vn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Vn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(_r)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(_r)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(__(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_r).catch(_r)}fetchInfiniteQuery(t){return t.behavior=jE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_r).catch(_r)}ensureInfiniteQueryData(t){return t.behavior=jE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ah(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Ch(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(Ah(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Ch(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ub&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},UV=x.createContext(void 0),VV=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(UV.Provider,{value:t,children:e}));const zV=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},BV=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],c=t[n++],d=((r&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},HR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,c=o?t[r+1]:0,d=r+2<t.length,h=d?t[r+2]:0,m=i>>2,g=(i&3)<<4|c>>4;let v=(c&15)<<2|h>>6,y=h&63;d||(y=64,o||(v=64)),s.push(n[m],n[g],n[v],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||c==null||h==null||g==null)throw new FV;const v=i<<2|c>>4;if(s.push(v),h!==64){const y=c<<4&240|h>>2;if(s.push(y),g!==64){const A=h<<6&192|g;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HV=function(t){const e=FR(t);return HR.encodeByteArray(e,!0)},Gp=function(t){return HV(t).replace(/\./g,"")},$R=function(t){try{return HR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=()=>$V().__FIREBASE_DEFAULTS__,GV=()=>{if(typeof process>"u"||typeof IE>"u")return;const t=IE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$R(t[1]);return e&&JSON.parse(e)},ev=()=>{try{return zV()||qV()||GV()||WV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qR=t=>ev()?.emulatorHosts?.[t],GR=t=>{const e=qR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},WR=()=>ev()?.config,KR=t=>ev()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KV=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gp(JSON.stringify(n)),Gp(JSON.stringify(o)),""].join(".")}const Qd={};function YV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qd))Qd[e]?t.emulator.push(e):t.prod.push(e);return t}function QV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kE=!1;function zb(t,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Qd[t]===e||Qd[t]||kE)return;Qd[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",i=YV().prod.length>0;function o(){const v=document.getElementById(s);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{kE=!0,o()},v}function m(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=QV(s),y=n("text"),A=document.getElementById(y)||document.createElement("span"),w=n("learnmore"),R=document.getElementById(w)||document.createElement("a"),E=n("preprendIcon"),T=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),m(R,w);const O=h();d(T,E),N.append(T,A,R,O),document.body.appendChild(N)}i?(A.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function JV(){const t=ev()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s9(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r9(){return!JV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i9(){try{return typeof indexedDB=="object"}catch{return!1}}function a9(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="FirebaseError";class hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=o9,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?l9(i,s):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new hi(r,c,s)}}function l9(t,e){return t.replace(c9,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const c9=/\{\$([^}]+)}/g;function u9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ll(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(ME(i)&&ME(o)){if(!ll(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function ME(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ad(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Cd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d9(t,e){const n=new h9(t,e);return n.subscribe.bind(n)}class h9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");f9(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Uy),r.error===void 0&&(r.error=Uy),r.complete===void 0&&(r.complete=Uy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class ro{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new KV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g9(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);s===c&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:p9(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p9(t){return t===Bo?void 0:t}function g9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const y9={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},_9=Ze.INFO,x9={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},b9=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=x9[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bb{constructor(e){this.name=e,this._logLevel=_9,this._logHandler=b9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const w9=(t,e)=>e.some(n=>t instanceof n);let OE,DE;function S9(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E9(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZR=new WeakMap,w_=new WeakMap,YR=new WeakMap,Vy=new WeakMap,Fb=new WeakMap;function T9(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Wa(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZR.set(n,t)}).catch(()=>{}),Fb.set(e,t),e}function N9(t){if(w_.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});w_.set(t,e)}let S_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A9(t){S_=t(S_)}function C9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(zy(this),e,...n);return YR.set(s,e.sort?e.sort():[e]),Wa(s)}:E9().includes(t)?function(...e){return t.apply(zy(this),e),Wa(ZR.get(this))}:function(...e){return Wa(t.apply(zy(this),e))}}function R9(t){return typeof t=="function"?C9(t):(t instanceof IDBTransaction&&N9(t),w9(t,S9())?new Proxy(t,S_):t)}function Wa(t){if(t instanceof IDBRequest)return T9(t);if(Vy.has(t))return Vy.get(t);const e=R9(t);return e!==t&&(Vy.set(t,e),Fb.set(e,t)),e}const zy=t=>Fb.get(t);function j9(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),c=Wa(o);return s&&o.addEventListener("upgradeneeded",d=>{s(Wa(o.result),d.oldVersion,d.newVersion,Wa(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const P9=["get","getKey","getAll","getAllKeys","count"],I9=["put","add","delete","clear"],By=new Map;function LE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=I9.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||P9.includes(n)))return;const i=async function(o,...c){const d=this.transaction(o,r?"readwrite":"readonly");let h=d.store;return s&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),r&&d.done]))[0]};return By.set(e,i),i}A9(t=>({...t,get:(e,n,s)=>LE(e,n)||t.get(e,n,s),has:(e,n)=>!!LE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M9(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function M9(t){return t.getComponent()?.type==="VERSION"}const E_="@firebase/app",UE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Bb("@firebase/app"),O9="@firebase/app-compat",D9="@firebase/analytics-compat",L9="@firebase/analytics",U9="@firebase/app-check-compat",V9="@firebase/app-check",z9="@firebase/auth",B9="@firebase/auth-compat",F9="@firebase/database",H9="@firebase/data-connect",$9="@firebase/database-compat",q9="@firebase/functions",G9="@firebase/functions-compat",W9="@firebase/installations",K9="@firebase/installations-compat",Z9="@firebase/messaging",Y9="@firebase/messaging-compat",Q9="@firebase/performance",X9="@firebase/performance-compat",J9="@firebase/remote-config",ez="@firebase/remote-config-compat",tz="@firebase/storage",nz="@firebase/storage-compat",sz="@firebase/firestore",rz="@firebase/ai",iz="@firebase/firestore-compat",az="firebase",oz="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="[DEFAULT]",lz={[E_]:"fire-core",[O9]:"fire-core-compat",[L9]:"fire-analytics",[D9]:"fire-analytics-compat",[V9]:"fire-app-check",[U9]:"fire-app-check-compat",[z9]:"fire-auth",[B9]:"fire-auth-compat",[F9]:"fire-rtdb",[H9]:"fire-data-connect",[$9]:"fire-rtdb-compat",[q9]:"fire-fn",[G9]:"fire-fn-compat",[W9]:"fire-iid",[K9]:"fire-iid-compat",[Z9]:"fire-fcm",[Y9]:"fire-fcm-compat",[Q9]:"fire-perf",[X9]:"fire-perf-compat",[J9]:"fire-rc",[ez]:"fire-rc-compat",[tz]:"fire-gcs",[nz]:"fire-gcs-compat",[sz]:"fire-fst",[iz]:"fire-fst-compat",[rz]:"fire-vertex","fire-js":"fire-js",[az]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,cz=new Map,N_=new Map;function VE(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cl(t){const e=t.name;if(N_.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(const n of Rh.values())VE(n,t);for(const n of cz.values())VE(n,t);return!0}function tv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new ff("app","Firebase",uz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=oz;function QR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:T_,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ka.create("bad-app-name",{appName:String(r)});if(n||(n=WR()),!n)throw Ka.create("no-options");const i=Rh.get(r);if(i){if(ll(n,i.options)&&ll(s,i.config))return i;throw Ka.create("duplicate-app",{appName:r})}const o=new v9(r);for(const d of N_.values())o.addComponent(d);const c=new dz(n,s,o);return Rh.set(r,c),c}function Hb(t=T_){const e=Rh.get(t);if(!e&&t===T_&&WR())return QR();if(!e)throw Ka.create("no-app",{appName:t});return e}function zE(){return Array.from(Rh.values())}function Jr(t,e,n){let s=lz[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(o.join(" "));return}cl(new ro(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="firebase-heartbeat-database",fz=1,jh="firebase-heartbeat-store";let Fy=null;function XR(){return Fy||(Fy=j9(hz,fz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ka.create("idb-open",{originalErrorMessage:t.message})})),Fy}async function mz(t){try{const n=(await XR()).transaction(jh),s=await n.objectStore(jh).get(JR(t));return await n.done,s}catch(e){if(e instanceof hi)na.warn(e.message);else{const n=Ka.create("idb-get",{originalErrorMessage:e?.message});na.warn(n.message)}}}async function BE(t,e){try{const s=(await XR()).transaction(jh,"readwrite");await s.objectStore(jh).put(e,JR(t)),await s.done}catch(n){if(n instanceof hi)na.warn(n.message);else{const s=Ka.create("idb-set",{originalErrorMessage:n?.message});na.warn(s.message)}}}function JR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=1024,gz=30;class vz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _z(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gz){const r=xz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){na.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FE(),{heartbeatsToSend:n,unsentEntries:s}=yz(this._heartbeatsCache.heartbeats),r=Gp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return na.warn(e),""}}}function FE(){return new Date().toISOString().substring(0,10)}function yz(t,e=pz){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),HE(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),HE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _z{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i9()?a9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HE(t){return Gp(JSON.stringify({version:2,heartbeats:t})).length}function xz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){cl(new ro("platform-logger",e=>new k9(e),"PRIVATE")),cl(new ro("heartbeat",e=>new vz(e),"PRIVATE")),Jr(E_,UE,t),Jr(E_,UE,"esm2020"),Jr("fire-js","")}bz("");function ej(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wz=ej,tj=new ff("auth","Firebase",ej());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Bb("@firebase/auth");function Sz(t,...e){Wp.logLevel<=Ze.WARN&&Wp.warn(`Auth (${ju}): ${t}`,...e)}function Ym(t,...e){Wp.logLevel<=Ze.ERROR&&Wp.error(`Auth (${ju}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw qb(t,...e)}function Tr(t,...e){return qb(t,...e)}function $b(t,e,n){const s={...wz(),[e]:n};return new ff("auth","Firebase",s).create(e,{appName:t.name})}function Ki(t){return $b(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ez(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&or(t,"argument-error"),$b(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qb(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return tj.create(t,...e)}function Ce(t,e,...n){if(!t)throw qb(e,...n)}function $i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ym(e),new Error(e)}function sa(t,e){t||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){return typeof self<"u"&&self.location?.href||""}function Tz(){return $E()==="http:"||$E()==="https:"}function $E(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tz()||t9()||"connection"in navigator)?navigator.onLine:!0}function Az(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=XV()||n9()}get(){return Nz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jz=new pf(3e4,6e4);function oa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fi(t,e,n,s,r={}){return sj(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const c=mf({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...i};return e9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&mo(t.emulatorConfig.host)&&(h.credentials="include"),nj.fetch()(await rj(t,t.config.apiHost,n,c),h)})}async function sj(t,e,n){t._canInitEmulator=!1;const s={...Cz,...e};try{const r=new Iz(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw xm(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xm(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw xm(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw xm(t,"user-disabled",o);const m=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw $b(t,m,h);or(t,m)}}catch(r){if(r instanceof hi)throw r;or(t,"network-request-failed",{message:String(r)})}}async function gf(t,e,n,s,r={}){const i=await fi(t,e,n,s,r);return"mfaPendingCredential"in i&&or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function rj(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?Gb(t.config,r):`${t.config.apiScheme}://${r}`;return Rz.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Pz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Tr(this.auth,"network-request-failed")),jz.get())})}}function xm(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Tr(t,e,s);return r.customData._tokenResponse=n,r}function qE(t){return t!==void 0&&t.enterprise!==void 0}class kz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mz(t,e){return fi(t,"GET","/v2/recaptchaConfig",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e){return fi(t,"POST","/v1/accounts:delete",e)}async function Kp(t,e){return fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dz(t,e=!1){const n=wn(t),s=await n.getIdToken(e),r=Wb(s);Ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i?.sign_in_provider;return{claims:r,token:s,authTime:Xd(Hy(r.auth_time)),issuedAtTime:Xd(Hy(r.iat)),expirationTime:Xd(Hy(r.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Hy(t){return Number(t)*1e3}function Wb(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ym("JWT malformed, contained fewer than 3 sections"),null;try{const r=$R(n);return r?JSON.parse(r):(Ym("Failed to decode base64 JWT payload"),null)}catch(r){return Ym("Caught error parsing JWT payload as JSON",r?.toString()),null}}function GE(t){const e=Wb(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hi&&Lz(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Lz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xd(this.lastLoginAt),this.creationTime=Xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(t){const e=t.auth,n=await t.getIdToken(),s=await iu(t,Kp(e,{idToken:n}));Ce(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?ij(r.providerUserInfo):[],o=zz(t.providerData,i),c=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!o?.length,h=c?d:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new C_(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Vz(t){const e=wn(t);await Zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zz(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function ij(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(t,e){const n=await sj(t,{},async()=>{const s=mf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await rj(t,r,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:s};return t.emulatorConfig&&mo(t.emulatorConfig.host)&&(d.credentials="include"),nj.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fz(t,e){return fi(t,"POST","/v2/accounts:revokeToken",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=GE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await Bz(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Vc;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(Ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vc,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new Uz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new C_(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Dz(this,e)}reload(){return Vz(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zp(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await iu(this,Oz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:y,providerData:A,stsTokenManager:w}=n;Ce(g&&w,e,"internal-error");const R=Vc.fromJSON(this.name,w);Ce(typeof g=="string",e,"internal-error"),_a(s,e.name),_a(r,e.name),Ce(typeof v=="boolean",e,"internal-error"),Ce(typeof y=="boolean",e,"internal-error"),_a(i,e.name),_a(o,e.name),_a(c,e.name),_a(d,e.name),_a(h,e.name),_a(m,e.name);const E=new wr({uid:g,auth:e,email:r,emailVerified:v,displayName:s,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:R,createdAt:h,lastLoginAt:m});return A&&Array.isArray(A)&&(E.providerData=A.map(T=>({...T}))),d&&(E._redirectEventId=d),E}static async _fromIdTokenResponse(e,n,s=!1){const r=new Vc;r.updateFromServerResponse(n);const i=new wr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Zp(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Ce(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?ij(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,c=new Vc;c.updateFromIdToken(s);const d=new wr({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new C_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;function qi(t){sa(t instanceof Function,"Expected a class definition");let e=WE.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aj.type="NONE";const KE=aj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e,n){return`firebase:${t}:${e}:${n}`}class zc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Qm(this.userKey,r.apiKey,i),this.fullPersistenceKey=Qm("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kp(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new zc(qi(KE),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||qi(KE);const o=Qm(s,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(o);if(m){let g;if(typeof m=="string"){const v=await Kp(e,{idToken:m}).catch(()=>{});if(!v)break;g=await wr._fromGetAccountInfoResponse(e,v,m)}else g=wr._fromJSON(e,m);h!==i&&(c=g),i=h;break}}catch{}const d=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new zc(i,e,s):(i=d[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new zc(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hj(e))return"Blackberry";if(fj(e))return"Webos";if(lj(e))return"Safari";if((e.includes("chrome/")||cj(e))&&!e.includes("edge/"))return"Chrome";if(dj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function oj(t=kn()){return/firefox\//i.test(t)}function lj(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cj(t=kn()){return/crios\//i.test(t)}function uj(t=kn()){return/iemobile/i.test(t)}function dj(t=kn()){return/android/i.test(t)}function hj(t=kn()){return/blackberry/i.test(t)}function fj(t=kn()){return/webos/i.test(t)}function Kb(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hz(t=kn()){return Kb(t)&&!!window.navigator?.standalone}function $z(){return s9()&&document.documentMode===10}function mj(t=kn()){return Kb(t)||dj(t)||fj(t)||hj(t)||/windows phone/i.test(t)||uj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t,e=[]){let n;switch(t){case"Browser":n=ZE(kn());break;case"Worker":n=`${ZE(kn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ju}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,c)=>{try{const d=e(i);o(d)}catch(d){c(d)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e={}){return fi(t,"GET","/v2/passwordPolicy",oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=6;class Kz{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Wz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YE(this),this.idTokenSubscription=new YE(this),this.beforeStateQueue=new qz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kp(this,{idToken:e}),s=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rs(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Az()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(Ki(this));const n=e?wn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gz(this),n=new Kz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Fz(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await zc.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,r);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function la(t){return wn(t)}class YE{constructor(e){this.auth=e,this.observer=null,this.addObserver=d9(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yz(t){nv=t}function gj(t){return nv.loadJS(t)}function Qz(){return nv.recaptchaEnterpriseScript}function Xz(){return nv.gapiScript}function Jz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class e7{constructor(){this.enterprise=new t7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class t7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const n7="recaptcha-enterprise",vj="NO_RECAPTCHA";class s7{constructor(e){this.type=n7,this.auth=la(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{Mz(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new kz(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function r(i,o,c){const d=window.grecaptcha;qE(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(vj)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e7().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(c=>{if(!n&&qE(window.grecaptcha))r(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Qz();d.length!==0&&(d+=c),gj(d).then(()=>{r(c,i,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function QE(t,e,n,s=!1,r=!1){const i=new s7(t);let o;if(r)o=vj;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Yp(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await QE(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await QE(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e){const n=tv(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(ll(i,e??{}))return r;or(r,"already-initialized")}return n.initialize({options:e})}function i7(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function a7(t,e,n){const s=la(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=yj(e),{host:o,port:c}=o7(e),d=c===null?"":`:${c}`,h={url:`${i}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(ll(h,s.config.emulator)&&ll(m,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=m,s.settings.appVerificationDisabledForTesting=!0,mo(o)?(Vb(`${i}//${o}${d}`),zb("Auth",!0)):l7()}function yj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o7(t){const e=yj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:XE(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:XE(o)}}}function XE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function c7(t,e){return fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u7(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",oa(t,e))}async function d7(t,e){return fi(t,"POST","/v1/accounts:sendOobCode",oa(t,e))}async function h7(t,e){return d7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}async function m7(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Zb{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ph(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ph(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,n,"signInWithPassword",u7);case"emailLink":return f7(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,s,"signUpPassword",c7);case"emailLink":return m7(e,{idToken:n,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="http://localhost";class ul extends Zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new ul(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Bc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bc(e,n)}buildRequest(){const e={requestUri:p7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v7(t){const e=Ad(Cd(t)).link,n=e?Ad(Cd(e)).deep_link_id:null,s=Ad(Cd(t)).deep_link_id;return(s?Ad(Cd(s)).link:null)||s||n||e||t}class Yb{constructor(e){const n=Ad(Cd(e)),s=n.apiKey??null,r=n.oobCode??null,i=g7(n.mode??null);Ce(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=v7(e);try{return new Yb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.providerId=Pu.PROVIDER_ID}static credential(e,n){return Ph._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Yb.parseLink(n);return Ce(s,"argument-error"),Ph._fromEmailAndCode(e,s.code,s.tenantId)}}Pu.PROVIDER_ID="password";Pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends Qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends vf{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends vf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends vf{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends vf{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ia.credential(n,s)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7(t,e){return gf(t,"POST","/v1/accounts:signUp",oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await wr._fromIdTokenResponse(e,s,r),o=JE(s);return new dl({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=JE(s);return new dl({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function JE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends hi{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Qp(e,n,s,r)}}function _j(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(t,i,e,s):i})}async function _7(t,e,n=!1){const s=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e,n=!1){const{auth:s}=t;if(rs(s.app))return Promise.reject(Ki(s));const r="reauthenticate";try{const i=await iu(t,_j(s,r,e,t),n);Ce(i.idToken,s,"internal-error");const o=Wb(i.idToken);Ce(o,s,"internal-error");const{sub:c}=o;return Ce(t.uid===c,s,"user-mismatch"),dl._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&or(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e,n=!1){if(rs(t.app))return Promise.reject(Ki(t));const s="signIn",r=await _j(t,s,e),i=await dl._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function b7(t,e){return xj(la(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w7(t,e,n){const s=la(t);await Yp(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",h7)}async function S7(t,e,n){if(rs(t.app))return Promise.reject(Ki(t));const s=la(t),o=await Yp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y7).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&bj(t),d}),c=await dl._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(c.user),c}function E7(t,e,n){return rs(t.app)?Promise.reject(Ki(t)):b7(wn(t),Pu.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bj(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e){return fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=wn(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await iu(s,T7(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const c=s.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function A7(t,e,n,s){return wn(t).onIdTokenChanged(e,n,s)}function C7(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}function R7(t,e,n,s){return wn(t).onAuthStateChanged(e,n,s)}function j7(t){return wn(t).signOut()}const Xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xp,"1"),this.storage.removeItem(Xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=1e3,I7=10;class Sj extends wj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);$z()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,I7):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},P7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sj.type="LOCAL";const k7=Sj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej extends wj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ej.type="SESSION";const Tj=Ej;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new sv(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const c=Array.from(o).map(async h=>h(n.origin,i)),d=await M7(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((c,d)=>{const h=Xb("",20);r.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(v.data.response);break;default:clearTimeout(m),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function D7(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function L7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U7(){return navigator?.serviceWorker?.controller||null}function V7(){return Nj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="firebaseLocalStorageDb",z7=1,Jp="firebaseLocalStorage",Cj="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rv(t,e){return t.transaction([Jp],e?"readwrite":"readonly").objectStore(Jp)}function B7(){const t=indexedDB.deleteDatabase(Aj);return new yf(t).toPromise()}function R_(){const t=indexedDB.open(Aj,z7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Jp,{keyPath:Cj})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Jp)?e(s):(s.close(),await B7(),e(await R_()))})})}async function eT(t,e,n){const s=rv(t,!0).put({[Cj]:e,value:n});return new yf(s).toPromise()}async function F7(t,e){const n=rv(t,!1).get(e),s=await new yf(n).toPromise();return s===void 0?null:s.value}function tT(t,e){const n=rv(t,!0).delete(e);return new yf(n).toPromise()}const H7=800,$7=3;class Rj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>$7)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(V7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L7(),!this.activeServiceWorker)return;this.sender=new O7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R_();return await eT(e,Xp,"1"),await tT(e,Xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>eT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>F7(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=rv(r,!1).getAll();return new yf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rj.type="LOCAL";const q7=Rj;new pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e){return e?qi(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Zb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G7(t){return xj(t.auth,new Jb(t),t.bypassAuthState)}function W7(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),x7(n,new Jb(t),t.bypassAuthState)}async function K7(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),_7(n,new Jb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G7;case"linkViaPopup":case"linkViaRedirect":return K7;case"reauthViaPopup":case"reauthViaRedirect":return W7;default:or(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=new pf(2e3,1e4);async function Y7(t,e,n){if(rs(t.app))return Promise.reject(Tr(t,"operation-not-supported-in-this-environment"));const s=la(t);Ez(t,e,Qb);const r=jj(s,n);return new $o(s,"signInViaPopup",e,r).executeNotNull()}class $o extends Pj{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=Xb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z7.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="pendingRedirect",Xm=new Map;class X7 extends Pj{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xm.get(this.auth._key());if(!e){try{const s=await J7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xm.set(this.auth._key(),e)}return this.bypassAuthState||Xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J7(t,e){const n=n8(e),s=t8(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function e8(t,e){Xm.set(t._key(),e)}function t8(t){return qi(t._redirectPersistence)}function n8(t){return Qm(Q7,t.config.apiKey,t.name)}async function s8(t,e,n=!1){if(rs(t.app))return Promise.reject(Ki(t));const s=la(t),r=jj(s,e),o=await new X7(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=10*60*1e3;class i8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ij(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Tr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r8&&this.cachedEventUids.clear(),this.cachedEventUids.has(nT(e))}saveEventToCache(e){this.cachedEventUids.add(nT(e)),this.lastProcessedEventTime=Date.now()}}function nT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ij({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function a8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ij(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o8(t,e={}){return fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c8=/^https?/;async function u8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o8(t);for(const n of e)try{if(d8(n))return}catch{}or(t,"unauthorized-domain")}function d8(t){const e=A_(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!c8.test(n))return!1;if(l8.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=new pf(3e4,6e4);function sT(){const t=ei().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f8(t){return new Promise((e,n)=>{function s(){sT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sT(),n(Tr(t,"network-request-failed"))},timeout:h8.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)s();else{const r=Jz("iframefcb");return ei()[r]=()=>{gapi.load?s():n(Tr(t,"network-request-failed"))},gj(`${Xz()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw Jm=null,e})}let Jm=null;function m8(t){return Jm=Jm||f8(t),Jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new pf(5e3,15e3),g8="__/auth/iframe",v8="emulator/auth/iframe",y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x8(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gb(e,v8):`https://${t.config.authDomain}/${g8}`,s={apiKey:e.apiKey,appName:t.name,v:ju},r=_8.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${mf(s).slice(1)}`}async function b8(t){const e=await m8(t),n=ei().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:x8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y8,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Tr(t,"network-request-failed"),c=ei().setTimeout(()=>{i(o)},p8.get());function d(){ei().clearTimeout(c),r(s)}s.ping(d).then(d,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S8=500,E8=600,T8="_blank",N8="http://localhost";class rT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A8(t,e,n,s=S8,r=E8){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const d={...w8,width:s.toString(),height:r.toString(),top:i,left:o},h=kn().toLowerCase();n&&(c=cj(h)?T8:n),oj(h)&&(e=e||N8,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[y,A])=>`${v}${y}=${A},`,"");if(Hz(h)&&c!=="_self")return C8(e||"",c),new rT(null);const g=window.open(e||"",c,m);Ce(g,t,"popup-blocked");try{g.focus()}catch{}return new rT(g)}function C8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="__/auth/handler",j8="emulator/auth/handler",P8=encodeURIComponent("fac");async function iT(t,e,n,s,r,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ju,eventId:r};if(e instanceof Qb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",u9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof vf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${P8}=${encodeURIComponent(d)}`:"";return`${I8(t)}?${mf(c).slice(1)}${h}`}function I8({config:t}){return t.emulator?Gb(t,j8):`https://${t.authDomain}/${R8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="webStorageSupport";class k8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tj,this._completeRedirectFn=s8,this._overrideRedirectResult=e8}async _openPopup(e,n,s,r){sa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await iT(e,n,s,A_(),r);return A8(e,i,Xb())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await iT(e,n,s,A_(),r);return D7(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(sa(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await b8(e),s=new i8(e);return n.register("authEvent",r=>(Ce(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($y,{type:$y},r=>{const i=r?.[0]?.[$y];i!==void 0&&n(!!i),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mj()||lj()||Kb()}}const M8=k8;var aT="@firebase/auth",oT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L8(t){cl(new ro("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=s.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pj(t)},h=new Zz(s,r,i,d);return i7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),cl(new ro("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(s=>new O8(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(aT,oT,D8(t)),Jr(aT,oT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=5*60,V8=KR("authIdTokenMaxAge")||U8;let lT=null;const z8=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V8)return;const r=n?.token;lT!==r&&(lT=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function B8(t=Hb()){const e=tv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r7(t,{popupRedirectResolver:M8,persistence:[q7,k7,Tj]}),s=KR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=z8(i.toString());C7(n,o,()=>o(n.currentUser)),A7(n,c=>o(c))}}const r=qR("auth");return r&&a7(n,`http://${r}`),n}function F8(){return document.getElementsByTagName("head")?.[0]??document}Yz({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Tr("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",F8().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L8("Browser");var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,kj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,P){function D(){}D.prototype=P.prototype,j.F=P.prototype,j.prototype=new D,j.prototype.constructor=j,j.D=function(I,M,U){for(var z=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)z[ne-2]=arguments[ne];return P.prototype[M].apply(I,z)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(j,P,D){D||(D=0);const I=Array(16);if(typeof P=="string")for(var M=0;M<16;++M)I[M]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(M=0;M<16;++M)I[M]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=j.g[0],D=j.g[1],M=j.g[2];let U=j.g[3],z;z=P+(U^D&(M^U))+I[0]+3614090360&4294967295,P=D+(z<<7&4294967295|z>>>25),z=U+(M^P&(D^M))+I[1]+3905402710&4294967295,U=P+(z<<12&4294967295|z>>>20),z=M+(D^U&(P^D))+I[2]+606105819&4294967295,M=U+(z<<17&4294967295|z>>>15),z=D+(P^M&(U^P))+I[3]+3250441966&4294967295,D=M+(z<<22&4294967295|z>>>10),z=P+(U^D&(M^U))+I[4]+4118548399&4294967295,P=D+(z<<7&4294967295|z>>>25),z=U+(M^P&(D^M))+I[5]+1200080426&4294967295,U=P+(z<<12&4294967295|z>>>20),z=M+(D^U&(P^D))+I[6]+2821735955&4294967295,M=U+(z<<17&4294967295|z>>>15),z=D+(P^M&(U^P))+I[7]+4249261313&4294967295,D=M+(z<<22&4294967295|z>>>10),z=P+(U^D&(M^U))+I[8]+1770035416&4294967295,P=D+(z<<7&4294967295|z>>>25),z=U+(M^P&(D^M))+I[9]+2336552879&4294967295,U=P+(z<<12&4294967295|z>>>20),z=M+(D^U&(P^D))+I[10]+4294925233&4294967295,M=U+(z<<17&4294967295|z>>>15),z=D+(P^M&(U^P))+I[11]+2304563134&4294967295,D=M+(z<<22&4294967295|z>>>10),z=P+(U^D&(M^U))+I[12]+1804603682&4294967295,P=D+(z<<7&4294967295|z>>>25),z=U+(M^P&(D^M))+I[13]+4254626195&4294967295,U=P+(z<<12&4294967295|z>>>20),z=M+(D^U&(P^D))+I[14]+2792965006&4294967295,M=U+(z<<17&4294967295|z>>>15),z=D+(P^M&(U^P))+I[15]+1236535329&4294967295,D=M+(z<<22&4294967295|z>>>10),z=P+(M^U&(D^M))+I[1]+4129170786&4294967295,P=D+(z<<5&4294967295|z>>>27),z=U+(D^M&(P^D))+I[6]+3225465664&4294967295,U=P+(z<<9&4294967295|z>>>23),z=M+(P^D&(U^P))+I[11]+643717713&4294967295,M=U+(z<<14&4294967295|z>>>18),z=D+(U^P&(M^U))+I[0]+3921069994&4294967295,D=M+(z<<20&4294967295|z>>>12),z=P+(M^U&(D^M))+I[5]+3593408605&4294967295,P=D+(z<<5&4294967295|z>>>27),z=U+(D^M&(P^D))+I[10]+38016083&4294967295,U=P+(z<<9&4294967295|z>>>23),z=M+(P^D&(U^P))+I[15]+3634488961&4294967295,M=U+(z<<14&4294967295|z>>>18),z=D+(U^P&(M^U))+I[4]+3889429448&4294967295,D=M+(z<<20&4294967295|z>>>12),z=P+(M^U&(D^M))+I[9]+568446438&4294967295,P=D+(z<<5&4294967295|z>>>27),z=U+(D^M&(P^D))+I[14]+3275163606&4294967295,U=P+(z<<9&4294967295|z>>>23),z=M+(P^D&(U^P))+I[3]+4107603335&4294967295,M=U+(z<<14&4294967295|z>>>18),z=D+(U^P&(M^U))+I[8]+1163531501&4294967295,D=M+(z<<20&4294967295|z>>>12),z=P+(M^U&(D^M))+I[13]+2850285829&4294967295,P=D+(z<<5&4294967295|z>>>27),z=U+(D^M&(P^D))+I[2]+4243563512&4294967295,U=P+(z<<9&4294967295|z>>>23),z=M+(P^D&(U^P))+I[7]+1735328473&4294967295,M=U+(z<<14&4294967295|z>>>18),z=D+(U^P&(M^U))+I[12]+2368359562&4294967295,D=M+(z<<20&4294967295|z>>>12),z=P+(D^M^U)+I[5]+4294588738&4294967295,P=D+(z<<4&4294967295|z>>>28),z=U+(P^D^M)+I[8]+2272392833&4294967295,U=P+(z<<11&4294967295|z>>>21),z=M+(U^P^D)+I[11]+1839030562&4294967295,M=U+(z<<16&4294967295|z>>>16),z=D+(M^U^P)+I[14]+4259657740&4294967295,D=M+(z<<23&4294967295|z>>>9),z=P+(D^M^U)+I[1]+2763975236&4294967295,P=D+(z<<4&4294967295|z>>>28),z=U+(P^D^M)+I[4]+1272893353&4294967295,U=P+(z<<11&4294967295|z>>>21),z=M+(U^P^D)+I[7]+4139469664&4294967295,M=U+(z<<16&4294967295|z>>>16),z=D+(M^U^P)+I[10]+3200236656&4294967295,D=M+(z<<23&4294967295|z>>>9),z=P+(D^M^U)+I[13]+681279174&4294967295,P=D+(z<<4&4294967295|z>>>28),z=U+(P^D^M)+I[0]+3936430074&4294967295,U=P+(z<<11&4294967295|z>>>21),z=M+(U^P^D)+I[3]+3572445317&4294967295,M=U+(z<<16&4294967295|z>>>16),z=D+(M^U^P)+I[6]+76029189&4294967295,D=M+(z<<23&4294967295|z>>>9),z=P+(D^M^U)+I[9]+3654602809&4294967295,P=D+(z<<4&4294967295|z>>>28),z=U+(P^D^M)+I[12]+3873151461&4294967295,U=P+(z<<11&4294967295|z>>>21),z=M+(U^P^D)+I[15]+530742520&4294967295,M=U+(z<<16&4294967295|z>>>16),z=D+(M^U^P)+I[2]+3299628645&4294967295,D=M+(z<<23&4294967295|z>>>9),z=P+(M^(D|~U))+I[0]+4096336452&4294967295,P=D+(z<<6&4294967295|z>>>26),z=U+(D^(P|~M))+I[7]+1126891415&4294967295,U=P+(z<<10&4294967295|z>>>22),z=M+(P^(U|~D))+I[14]+2878612391&4294967295,M=U+(z<<15&4294967295|z>>>17),z=D+(U^(M|~P))+I[5]+4237533241&4294967295,D=M+(z<<21&4294967295|z>>>11),z=P+(M^(D|~U))+I[12]+1700485571&4294967295,P=D+(z<<6&4294967295|z>>>26),z=U+(D^(P|~M))+I[3]+2399980690&4294967295,U=P+(z<<10&4294967295|z>>>22),z=M+(P^(U|~D))+I[10]+4293915773&4294967295,M=U+(z<<15&4294967295|z>>>17),z=D+(U^(M|~P))+I[1]+2240044497&4294967295,D=M+(z<<21&4294967295|z>>>11),z=P+(M^(D|~U))+I[8]+1873313359&4294967295,P=D+(z<<6&4294967295|z>>>26),z=U+(D^(P|~M))+I[15]+4264355552&4294967295,U=P+(z<<10&4294967295|z>>>22),z=M+(P^(U|~D))+I[6]+2734768916&4294967295,M=U+(z<<15&4294967295|z>>>17),z=D+(U^(M|~P))+I[13]+1309151649&4294967295,D=M+(z<<21&4294967295|z>>>11),z=P+(M^(D|~U))+I[4]+4149444226&4294967295,P=D+(z<<6&4294967295|z>>>26),z=U+(D^(P|~M))+I[11]+3174756917&4294967295,U=P+(z<<10&4294967295|z>>>22),z=M+(P^(U|~D))+I[2]+718787259&4294967295,M=U+(z<<15&4294967295|z>>>17),z=D+(U^(M|~P))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+P&4294967295,j.g[1]=j.g[1]+(M+(z<<21&4294967295|z>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+U&4294967295}s.prototype.v=function(j,P){P===void 0&&(P=j.length);const D=P-this.blockSize,I=this.C;let M=this.h,U=0;for(;U<P;){if(M==0)for(;U<=D;)r(this,j,U),U+=this.blockSize;if(typeof j=="string"){for(;U<P;)if(I[M++]=j.charCodeAt(U++),M==this.blockSize){r(this,I),M=0;break}}else for(;U<P;)if(I[M++]=j[U++],M==this.blockSize){r(this,I),M=0;break}}this.h=M,this.o+=P},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var P=1;P<j.length-8;++P)j[P]=0;P=this.o*8;for(var D=j.length-8;D<j.length;++D)j[D]=P&255,P/=256;for(this.v(j),j=Array(16),P=0,D=0;D<4;++D)for(let I=0;I<32;I+=8)j[P++]=this.g[D]>>>I&255;return j};function i(j,P){var D=c;return Object.prototype.hasOwnProperty.call(D,j)?D[j]:D[j]=P(j)}function o(j,P){this.h=P;const D=[];let I=!0;for(let M=j.length-1;M>=0;M--){const U=j[M]|0;I&&U==P||(D[M]=U,I=!1)}this.g=D}var c={};function d(j){return-128<=j&&j<128?i(j,function(P){return new o([P|0],P<0?-1:0)}):new o([j|0],j<0?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return g;if(j<0)return R(h(-j));const P=[];let D=1;for(let I=0;j>=D;I++)P[I]=j/D|0,D*=4294967296;return new o(P,0)}function m(j,P){if(j.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(j.charAt(0)=="-")return R(m(j.substring(1),P));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(P,8));let I=g;for(let U=0;U<j.length;U+=8){var M=Math.min(8,j.length-U);const z=parseInt(j.substring(U,U+M),P);M<8?(M=h(Math.pow(P,M)),I=I.j(M).add(h(z))):(I=I.j(D),I=I.add(h(z)))}return I}var g=d(0),v=d(1),y=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-R(this).m();let j=0,P=1;for(let D=0;D<this.g.length;D++){const I=this.i(D);j+=(I>=0?I:4294967296+I)*P,P*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(A(this))return"0";if(w(this))return"-"+R(this).toString(j);const P=h(Math.pow(j,6));var D=this;let I="";for(;;){const M=O(D,P).g;D=E(D,M.j(P));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(j);if(D=M,A(D))return U+I;for(;U.length<6;)U="0"+U;I=U+I}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function A(j){if(j.h!=0)return!1;for(let P=0;P<j.g.length;P++)if(j.g[P]!=0)return!1;return!0}function w(j){return j.h==-1}t.l=function(j){return j=E(this,j),w(j)?-1:A(j)?0:1};function R(j){const P=j.g.length,D=[];for(let I=0;I<P;I++)D[I]=~j.g[I];return new o(D,~j.h).add(v)}t.abs=function(){return w(this)?R(this):this},t.add=function(j){const P=Math.max(this.g.length,j.g.length),D=[];let I=0;for(let M=0;M<=P;M++){let U=I+(this.i(M)&65535)+(j.i(M)&65535),z=(U>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);I=z>>>16,U&=65535,z&=65535,D[M]=z<<16|U}return new o(D,D[D.length-1]&-2147483648?-1:0)};function E(j,P){return j.add(R(P))}t.j=function(j){if(A(this)||A(j))return g;if(w(this))return w(j)?R(this).j(R(j)):R(R(this).j(j));if(w(j))return R(this.j(R(j)));if(this.l(y)<0&&j.l(y)<0)return h(this.m()*j.m());const P=this.g.length+j.g.length,D=[];for(var I=0;I<2*P;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(let M=0;M<j.g.length;M++){const U=this.i(I)>>>16,z=this.i(I)&65535,ne=j.i(M)>>>16,me=j.i(M)&65535;D[2*I+2*M]+=z*me,T(D,2*I+2*M),D[2*I+2*M+1]+=U*me,T(D,2*I+2*M+1),D[2*I+2*M+1]+=z*ne,T(D,2*I+2*M+1),D[2*I+2*M+2]+=U*ne,T(D,2*I+2*M+2)}for(j=0;j<P;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=P;j<2*P;j++)D[j]=0;return new o(D,0)};function T(j,P){for(;(j[P]&65535)!=j[P];)j[P+1]+=j[P]>>>16,j[P]&=65535,P++}function N(j,P){this.g=j,this.h=P}function O(j,P){if(A(P))throw Error("division by zero");if(A(j))return new N(g,g);if(w(j))return P=O(R(j),P),new N(R(P.g),R(P.h));if(w(P))return P=O(j,R(P)),new N(R(P.g),P.h);if(j.g.length>30){if(w(j)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var D=v,I=P;I.l(j)<=0;)D=F(D),I=F(I);var M=$(D,1),U=$(I,1);for(I=$(I,2),D=$(D,2);!A(I);){var z=U.add(I);z.l(j)<=0&&(M=M.add(D),U=z),I=$(I,1),D=$(D,1)}return P=E(j,M.j(P)),new N(M,P)}for(M=g;j.l(P)>=0;){for(D=Math.max(1,Math.floor(j.m()/P.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),U=h(D),z=U.j(P);w(z)||z.l(j)>0;)D-=I,U=h(D),z=U.j(P);A(U)&&(U=v),M=M.add(U),j=E(j,z)}return new N(M,j)}t.B=function(j){return O(this,j).h},t.and=function(j){const P=Math.max(this.g.length,j.g.length),D=[];for(let I=0;I<P;I++)D[I]=this.i(I)&j.i(I);return new o(D,this.h&j.h)},t.or=function(j){const P=Math.max(this.g.length,j.g.length),D=[];for(let I=0;I<P;I++)D[I]=this.i(I)|j.i(I);return new o(D,this.h|j.h)},t.xor=function(j){const P=Math.max(this.g.length,j.g.length),D=[];for(let I=0;I<P;I++)D[I]=this.i(I)^j.i(I);return new o(D,this.h^j.h)};function F(j){const P=j.g.length+1,D=[];for(let I=0;I<P;I++)D[I]=j.i(I)<<1|j.i(I-1)>>>31;return new o(D,j.h)}function $(j,P){const D=P>>5;P%=32;const I=j.g.length-D,M=[];for(let U=0;U<I;U++)M[U]=P>0?j.i(U+D)>>>P|j.i(U+D+1)<<32-P:j.i(U+D);return new o(M,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,kj=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,Za=o}).apply(typeof cT<"u"?cT:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mj,Rd,Oj,ep,j_,Dj,Lj,Uj;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var b=0;b<f.length;++b){var C=f[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=n(this);function r(f,b){if(b)e:{var C=s;f=f.split(".");for(var V=0;V<f.length-1;V++){var K=f[V];if(!(K in C))break e;C=C[K]}f=f[f.length-1],V=C[f],b=b(V),b!=V&&b!=null&&e(C,f,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(b){var C=[],V;for(V in b)Object.prototype.hasOwnProperty.call(b,V)&&C.push([V,b[V]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function c(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function d(f,b,C){return f.call.apply(f.bind,arguments)}function h(f,b,C){return h=d,h.apply(null,arguments)}function m(f,b){var C=Array.prototype.slice.call(arguments,1);return function(){var V=C.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function g(f,b){function C(){}C.prototype=b.prototype,f.Z=b.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(V,K,Y){for(var de=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)de[Ie-2]=arguments[Ie];return b.prototype[K].apply(V,de)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function y(f){const b=f.length;if(b>0){const C=Array(b);for(let V=0;V<b;V++)C[V]=f[V];return C}return[]}function A(f,b){for(let V=1;V<arguments.length;V++){const K=arguments[V];var C=typeof K;if(C=C!="object"?C:K?Array.isArray(K)?"array":C:"null",C=="array"||C=="object"&&typeof K.length=="number"){C=f.length||0;const Y=K.length||0;f.length=C+Y;for(let de=0;de<Y;de++)f[C+de]=K[de]}else f.push(K)}}class w{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function R(f){o.setTimeout(()=>{throw f},0)}function E(){var f=j;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class T{constructor(){this.h=this.g=null}add(b,C){const V=N.get();V.set(b,C),this.h?this.h.next=V:this.g=V,this.h=V}}var N=new w(()=>new O,f=>f.reset());class O{constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,j=new T,P=()=>{const f=Promise.resolve(void 0);F=()=>{f.then(D)}};function D(){for(var f;f=E();){try{f.h.call(f.g)}catch(C){R(C)}var b=N;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}$=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};o.addEventListener("test",C,b),o.removeEventListener("test",C,b)}catch{}return f}();function z(f){return/^[\s\xa0]*$/.test(f)}function ne(f,b){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(ne,M),ne.prototype.init=function(f,b){const C=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(C=="mouseover"?b=f.fromElement:C=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),W=0;function ee(f,b,C,V,K){this.listener=f,this.proxy=null,this.src=b,this.type=C,this.capture=!!V,this.ha=K,this.key=++W,this.da=this.fa=!1}function B(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function q(f,b,C){for(const V in f)b.call(C,f[V],V,f)}function X(f,b){for(const C in f)b.call(void 0,f[C],C,f)}function ce(f){const b={};for(const C in f)b[C]=f[C];return b}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,b){let C,V;for(let K=1;K<arguments.length;K++){V=arguments[K];for(C in V)f[C]=V[C];for(let Y=0;Y<G.length;Y++)C=G[Y],Object.prototype.hasOwnProperty.call(V,C)&&(f[C]=V[C])}}function oe(f){this.src=f,this.g={},this.h=0}oe.prototype.add=function(f,b,C,V,K){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const de=pe(f,b,V,K);return de>-1?(b=f[de],C||(b.fa=!1)):(b=new ee(b,this.src,Y,!!V,K),b.fa=C,f.push(b)),b};function he(f,b){const C=b.type;if(C in f.g){var V=f.g[C],K=Array.prototype.indexOf.call(V,b,void 0),Y;(Y=K>=0)&&Array.prototype.splice.call(V,K,1),Y&&(B(b),f.g[C].length==0&&(delete f.g[C],f.h--))}}function pe(f,b,C,V){for(let K=0;K<f.length;++K){const Y=f[K];if(!Y.da&&Y.listener==b&&Y.capture==!!C&&Y.ha==V)return K}return-1}var re="closure_lm_"+(Math.random()*1e6|0),Me={};function vt(f,b,C,V,K){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)vt(f,b[Y],C,V,K);return null}return C=cr(C),f&&f[me]?f.J(b,C,c(V)?!!V.capture:!1,K):We(f,b,C,!1,V,K)}function We(f,b,C,V,K,Y){if(!b)throw Error("Invalid event type");const de=c(K)?!!K.capture:!!K;let Ie=hs(f);if(Ie||(f[re]=Ie=new oe(f)),C=Ie.add(b,C,V,de,Y),C.proxy)return C;if(V=Ke(),C.proxy=V,V.src=f,V.listener=C,f.addEventListener)U||(K=de),K===void 0&&(K=!1),f.addEventListener(b.toString(),V,K);else if(f.attachEvent)f.attachEvent(Fn(b.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Ke(){function f(C){return b.call(f.src,f.listener,C)}const b=Pr;return f}function tt(f,b,C,V,K){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)tt(f,b[Y],C,V,K);else V=c(V)?!!V.capture:!!V,C=cr(C),f&&f[me]?(f=f.i,Y=String(b).toString(),Y in f.g&&(b=f.g[Y],C=pe(b,C,V,K),C>-1&&(B(b[C]),Array.prototype.splice.call(b,C,1),b.length==0&&(delete f.g[Y],f.h--)))):f&&(f=hs(f))&&(b=f.g[b.toString()],f=-1,b&&(f=pe(b,C,V,K)),(C=f>-1?b[f]:null)&&At(C))}function At(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[me])he(b.i,f);else{var C=f.type,V=f.proxy;b.removeEventListener?b.removeEventListener(C,V,f.capture):b.detachEvent?b.detachEvent(Fn(C),V):b.addListener&&b.removeListener&&b.removeListener(V),(C=hs(b))?(he(C,f),C.h==0&&(C.src=null,b[re]=null)):B(f)}}}function Fn(f){return f in Me?Me[f]:Me[f]="on"+f}function Pr(f,b){if(f.da)f=!0;else{b=new ne(b,this);const C=f.listener,V=f.ha||f.src;f.fa&&At(f),f=C.call(V,b)}return f}function hs(f){return f=f[re],f instanceof oe?f:null}var fs="__closure_events_fn_"+(Math.random()*1e9>>>0);function cr(f){return typeof f=="function"?f:(f[fs]||(f[fs]=function(b){return f.handleEvent(b)}),f[fs])}function Ft(){I.call(this),this.i=new oe(this),this.M=this,this.G=null}g(Ft,I),Ft.prototype[me]=!0,Ft.prototype.removeEventListener=function(f,b,C,V){tt(this,f,b,C,V)};function Lt(f,b){var C,V=f.G;if(V)for(C=[];V;V=V.G)C.push(V);if(f=f.M,V=b.type||b,typeof b=="string")b=new M(b,f);else if(b instanceof M)b.target=b.target||f;else{var K=b;b=new M(V,f),ue(b,K)}K=!0;let Y,de;if(C)for(de=C.length-1;de>=0;de--)Y=b.g=C[de],K=Hn(Y,V,!0,b)&&K;if(Y=b.g=f,K=Hn(Y,V,!0,b)&&K,K=Hn(Y,V,!1,b)&&K,C)for(de=0;de<C.length;de++)Y=b.g=C[de],K=Hn(Y,V,!1,b)&&K}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const C=f.g[b];for(let V=0;V<C.length;V++)B(C[V]);delete f.g[b],f.h--}}this.G=null},Ft.prototype.J=function(f,b,C,V){return this.i.add(String(f),b,!1,C,V)},Ft.prototype.K=function(f,b,C,V){return this.i.add(String(f),b,!0,C,V)};function Hn(f,b,C,V){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let Y=0;Y<b.length;++Y){const de=b[Y];if(de&&!de.da&&de.capture==C){const Ie=de.listener,rt=de.ha||de.src;de.fa&&he(f.i,de),K=Ie.call(rt,V)!==!1&&K}}return K&&!V.defaultPrevented}function yo(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(f,b||0)}function ms(f){f.g=yo(()=>{f.g=null,f.i&&(f.i=!1,ms(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Hu extends I{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(f){I.call(this),this.h=f,this.g={}}g(pi,I);var Qt=[];function Os(f){q(f.g,function(b,C){this.g.hasOwnProperty(C)&&At(b)},f),f.g={}}pi.prototype.N=function(){pi.Z.N.call(this),Os(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=o.JSON.stringify,$u=o.JSON.parse,gi=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function _o(){}function xo(){}var Ds={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $n(){M.call(this,"d")}g($n,M);function vi(){M.call(this,"c")}g(vi,M);var En={},Ir=null;function ua(){return Ir=Ir||new Ft}En.Ia="serverreachability";function bo(f){M.call(this,En.Ia,f)}g(bo,M);function ur(f){const b=ua();Lt(b,new bo(b))}En.STAT_EVENT="statevent";function wo(f,b){M.call(this,En.STAT_EVENT,f),this.stat=b}g(wo,M);function It(f){const b=ua();Lt(b,new wo(b,f))}En.Ja="timingevent";function ps(f,b){M.call(this,En.Ja,f),this.size=b}g(ps,M);function yi(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function Ne(){this.g=!0}Ne.prototype.ua=function(){this.g=!1};function nt(f,b,C,V,K,Y){f.info(function(){if(f.g)if(Y){var de="",Ie=Y.split("&");for(let ct=0;ct<Ie.length;ct++){var rt=Ie[ct].split("=");if(rt.length>1){const Ut=rt[0];rt=rt[1];const Fs=Ut.split("_");de=Fs.length>=2&&Fs[1]=="type"?de+(Ut+"="+rt+"&"):de+(Ut+"=redacted&")}}}else de=null;else de=Y;return"XMLHTTP REQ ("+V+") [attempt "+K+"]: "+b+`
`+C+`
`+de})}function mt(f,b,C,V,K,Y,de){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+K+"]: "+b+`
`+C+`
`+Y+" "+de})}function Ht(f,b,C,V){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ls(f,C)+(V?" "+V:"")})}function pn(f,b){f.info(function(){return"TIMEOUT: "+b})}Ne.prototype.info=function(){};function Ls(f,b){if(!f.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var C=Y[f];if(!(C.length<2)){var V=C[1];if(Array.isArray(V)&&!(V.length<1)){var K=V[0];if(K!="noop"&&K!="stop"&&K!="close")for(let de=1;de<V.length;de++)V[de]=""}}}}return ca(Y)}catch{return b}}var qn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gs;function Gn(){}g(Gn,_o),Gn.prototype.g=function(){return new XMLHttpRequest},gs=new Gn;function be(f){return encodeURIComponent(String(f))}function Pf(f){var b=1;f=f.split(":");const C=[];for(;b>0&&f.length;)C.push(f.shift()),b--;return f.length&&C.push(f.join(":")),C}function dr(f,b,C,V){this.j=f,this.i=b,this.l=C,this.S=V||1,this.V=new pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qu}function qu(){this.i=null,this.g="",this.h=!1}var Gu={},So={};function Cl(f,b,C){f.M=1,f.A=_t(Mn(b)),f.u=C,f.R=!0,_i(f,null)}function _i(f,b){f.F=Date.now(),Rl(f),f.B=Mn(f.A);var C=f.B,V=f.S;Array.isArray(V)||(V=[String(V)]),Ml(C.i,"t",V),f.C=0,C=f.j.L,f.h=new qu,f.g=ad(f.j,C?b:null,!f.u),f.P>0&&(f.O=new Hu(h(f.Y,f,f.g),f.P)),b=f.V,C=f.g,V=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(Qt[0]=K.toString()),K=Qt);for(let Y=0;Y<K.length;Y++){const de=vt(C,K[Y],V||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=f.J?ce(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ur(),nt(f.i,f.v,f.B,f.l,f.S,f.u)}dr.prototype.ba=function(f){f=f.target;const b=this.O;b&&Dr(f)==3?b.j():this.Y(f)},dr.prototype.Y=function(f){try{if(f==this.g)e:{const Ie=Dr(this.g),rt=this.g.ya(),ct=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Ju(this.g)))){this.K||Ie!=4||rt==7||(rt==8||ct<=0?ur(3):ur(2)),jl(this);var b=this.g.ca();this.X=b;var C=If(this);if(this.o=b==200,mt(this.i,this.v,this.B,this.l,this.S,Ie,b),this.o){if(this.U&&!this.L){t:{if(this.g){var V,K=this.g;if((V=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(V)){var Y=V;break t}}Y=null}if(f=Y)Ht(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wu(this,f);else{this.o=!1,this.m=3,It(12),Us(this),Eo(this);break e}}if(this.R){f=!0;let Ut;for(;!this.K&&this.C<C.length;)if(Ut=Wv(this,C),Ut==So){Ie==4&&(this.m=4,It(14),f=!1),Ht(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Gu){this.m=4,It(15),Ht(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else Ht(this.i,this.l,Ut,null),Wu(this,Ut);if(kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||C.length!=0||this.h.h||(this.m=1,It(16),f=!1),this.o=this.o&&f,!f)Ht(this.i,this.l,C,"[Invalid Chunked Response]"),Us(this),Eo(this);else if(C.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),rd(de),de.P=!0,It(11))}}else Ht(this.i,this.l,C,null),Wu(this,C);Ie==4&&Us(this),this.o&&!this.K&&(Ie==4?ys(this.j,this):(this.o=!1,Rl(this)))}else ed(this.g),b==400&&C.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Us(this),Eo(this)}}}catch{}finally{}};function If(f){if(!kf(f))return f.g.la();const b=Ju(f.g);if(b==="")return"";let C="";const V=b.length,K=Dr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Us(f),Eo(f),"";f.h.i=new o.TextDecoder}for(let Y=0;Y<V;Y++)f.h.h=!0,C+=f.h.i.decode(b[Y],{stream:!(K&&Y==V-1)});return b.length=0,f.h.g+=C,f.C=0,f.h.g}function kf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Wv(f,b){var C=f.C,V=b.indexOf(`
`,C);return V==-1?So:(C=Number(b.substring(C,V)),isNaN(C)?Gu:(V+=1,V+C>b.length?So:(b=b.slice(V,V+C),f.C=V+C,b)))}dr.prototype.cancel=function(){this.K=!0,Us(this)};function Rl(f){f.T=Date.now()+f.H,Mf(f,f.H)}function Mf(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=yi(h(f.aa,f),b)}function jl(f){f.D&&(o.clearTimeout(f.D),f.D=null)}dr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(pn(this.i,this.B),this.M!=2&&(ur(),It(17)),Us(this),this.m=2,Eo(this)):Mf(this,this.T-f)};function Eo(f){f.j.I==0||f.K||ys(f.j,f)}function Us(f){jl(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Os(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function Wu(f,b){try{var C=f.j;if(C.I!=0&&(C.g==f||To(C.h,f))){if(!f.L&&To(C.h,f)&&C.I==3){try{var V=C.Ba.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var K=V;if(K[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)Vl(C),Ll(C);else break e;sd(C),It(18)}}else C.xa=K[1],0<C.xa-C.K&&K[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=yi(h(C.Va,C),6e3));Lf(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ur(C,11)}else if((f.L||C.g==f)&&Vl(C),!z(b))for(K=C.Ba.g.parse(b),b=0;b<K.length;b++){let ct=K[b];const Ut=ct[0];if(!(Ut<=C.K))if(C.K=Ut,ct=ct[1],C.I==2)if(ct[0]=="c"){C.M=ct[1],C.ba=ct[2];const Fs=ct[3];Fs!=null&&(C.ka=Fs,C.j.info("VER="+C.ka));const mr=ct[4];mr!=null&&(C.za=mr,C.j.info("SVER="+C.za));const Hs=ct[5];Hs!=null&&typeof Hs=="number"&&Hs>0&&(V=1.5*Hs,C.O=V,C.j.info("backChannelRequestTimeoutMs_="+V)),V=C;const Vr=f.g;if(Vr){const Fl=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fl){var Y=V.h;Y.g||Fl.indexOf("spdy")==-1&&Fl.indexOf("quic")==-1&&Fl.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xi(Y,Y.h),Y.h=null))}if(V.G){const Hl=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Hl&&(V.wa=Hl,_e(V.J,V.G,Hl))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),V=C;var de=f;if(V.na=id(V,V.L?V.ba:null,V.W),de.L){Ku(V.h,de);var Ie=de,rt=V.O;rt&&(Ie.H=rt),Ie.D&&(jl(Ie),Rl(Ie)),V.g=de}else nd(V);C.i.length>0&&Lr(C)}else ct[0]!="stop"&&ct[0]!="close"||Ur(C,7);else C.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ur(C,7):Fe(C):ct[0]!="noop"&&C.l&&C.l.qa(ct),C.A=0)}}ur(4)}catch{}}var Kv=class{constructor(f,b){this.g=f,this.map=b}};function Of(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Df(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Lf(f){return f.h?1:f.g?f.g.size:0}function To(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function xi(f,b){f.g?f.g.add(b):f.h=b}function Ku(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Of.prototype.cancel=function(){if(this.i=Zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Zu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const C of f.g.values())b=b.concat(C.G);return b}return y(f.i)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xe(f,b){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const V=f[C].indexOf("=");let K,Y=null;V>=0?(K=f[C].substring(0,V),Y=f[C].substring(V+1)):K=f[C],b(K,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function st(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof st?(this.l=f.l,Vs(this,f.j),this.o=f.o,this.g=f.g,zs(this,f.u),this.h=f.h,No(this,Ao(f.i)),this.m=f.m):f&&(b=String(f).match(da))?(this.l=!1,Vs(this,b[1]||"",!0),this.o=bi(b[2]||""),this.g=bi(b[3]||"",!0),zs(this,b[4]),this.h=bi(b[5]||"",!0),No(this,b[6]||"",!0),this.m=bi(b[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}st.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(kr(b,Uf,!0),":");var C=this.g;return(C||b=="file")&&(f.push("//"),(b=this.o)&&f.push(kr(b,Uf,!0),"@"),f.push(be(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(kr(C,C.charAt(0)=="/"?wi:Pl,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",kr(C,Si)),f.join("")},st.prototype.resolve=function(f){const b=Mn(this);let C=!!f.j;C?Vs(b,f.j):C=!!f.o,C?b.o=f.o:C=!!f.g,C?b.g=f.g:C=f.u!=null;var V=f.h;if(C)zs(b,f.u);else if(C=!!f.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var K=b.h.lastIndexOf("/");K!=-1&&(V=b.h.slice(0,K+1)+V)}if(K=V,K==".."||K==".")V="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){V=K.lastIndexOf("/",0)==0,K=K.split("/");const Y=[];for(let de=0;de<K.length;){const Ie=K[de++];Ie=="."?V&&de==K.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),V&&de==K.length&&Y.push("")):(Y.push(Ie),V=!0)}V=Y.join("/")}else V=K}return C?b.h=V:C=f.i.toString()!=="",C?No(b,Ao(f.i)):C=!!f.m,C&&(b.m=f.m),b};function Mn(f){return new st(f)}function Vs(f,b,C){f.j=C?bi(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function zs(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function No(f,b,C){b instanceof hr?(f.i=b,Yu(f.i,f.l)):(C||(b=kr(b,kt)),f.i=new hr(b,f.l))}function _e(f,b,C){f.i.set(b,C)}function _t(f){return _e(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function bi(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function kr(f,b,C){return typeof f=="string"?(f=encodeURI(f).replace(b,Wn),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Wn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Uf=/[#\/\?@]/g,Pl=/[#\?:]/g,wi=/[#\?]/g,kt=/[#\?@]/g,Si=/#/g;function hr(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function vs(f){f.g||(f.g=new Map,f.h=0,f.i&&Xe(f.i,function(b,C){f.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}t=hr.prototype,t.add=function(f,b){vs(this),this.i=null,f=Mr(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(b),this.h+=1,this};function Il(f,b){vs(f),b=Mr(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function ha(f,b){return vs(f),b=Mr(f,b),f.g.has(b)}t.forEach=function(f,b){vs(this),this.g.forEach(function(C,V){C.forEach(function(K){f.call(b,K,V,this)},this)},this)};function kl(f,b){vs(f);let C=[];if(typeof b=="string")ha(f,b)&&(C=C.concat(f.g.get(Mr(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)C=C.concat(f[b]);return C}t.set=function(f,b){return vs(this),this.i=null,f=Mr(this,f),ha(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=kl(this,f),f.length>0?String(f[0]):b):b};function Ml(f,b,C){Il(f,b),C.length>0&&(f.i=null,f.g.set(Mr(f,b),y(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let V=0;V<b.length;V++){var C=b[V];const K=be(C);C=kl(this,C);for(let Y=0;Y<C.length;Y++){let de=K;C[Y]!==""&&(de+="="+be(C[Y])),f.push(de)}}return this.i=f.join("&")};function Ao(f){const b=new hr;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Mr(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Yu(f,b){b&&!f.j&&(vs(f),f.i=null,f.g.forEach(function(C,V){const K=V.toLowerCase();V!=K&&(Il(this,V),Ml(this,K,C))},f)),f.j=b}function Ol(f,b){const C=new Ne;if(o.Image){const V=new Image;V.onload=m(Bs,C,"TestLoadImage: loaded",!0,b,V),V.onerror=m(Bs,C,"TestLoadImage: error",!1,b,V),V.onabort=m(Bs,C,"TestLoadImage: abort",!1,b,V),V.ontimeout=m(Bs,C,"TestLoadImage: timeout",!1,b,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else b(!1)}function Vf(f,b){const C=new Ne,V=new AbortController,K=setTimeout(()=>{V.abort(),Bs(C,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:V.signal}).then(Y=>{clearTimeout(K),Y.ok?Bs(C,"TestPingServer: ok",!0,b):Bs(C,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),Bs(C,"TestPingServer: error",!1,b)})}function Bs(f,b,C,V,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),V(C)}catch{}}function Zv(){this.g=new gi}function Pe(f){this.i=f.Sb||null,this.h=f.ab||!1}g(Pe,_o),Pe.prototype.g=function(){return new On(this.i,this.h)};function On(f,b){Ft.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(On,Ft),t=On.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Ei(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?fa(this):Ei(this),this.readyState==3&&dt(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,fa(this))},t.Na=function(f){this.g&&(this.response=f,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ei(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var C=b.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=b.next();return f.join(`\r
`)};function Ei(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(On.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Dl(f){let b="";return q(f,function(C,V){b+=V,b+=":",b+=C,b+=`\r
`}),b}function Co(f,b,C){e:{for(V in C){var V=!1;break e}V=!0}V||(C=Dl(C),typeof f=="string"?C!=null&&be(C):_e(f,b,C))}function lt(f){Ft.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(lt,Ft);var Qu=/^https?$/i,Ro=["POST","PUT"];t=lt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,C,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gs.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(Y){$t(this,Y);return}if(f=C||"",C=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var K in V)C.set(K,V[K]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const Y of V.keys())C.set(Y,V.get(Y));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(C.keys()).find(Y=>Y.toLowerCase()=="content-type"),K=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(Ro,b,void 0)>=0)||V||K||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of C)this.g.setRequestHeader(Y,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){$t(this,Y)}};function $t(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Or(f),jo(f)}function Or(f){f.A||(f.A=!0,Lt(f,"complete"),Lt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Lt(this,"complete"),Lt(this,"abort"),jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jo(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xu(this):this.Xa())},t.Xa=function(){Xu(this)};function Xu(f){if(f.h&&typeof i<"u"){if(f.v&&Dr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Lt(f,"readystatechange"),Dr(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var C;if(!(C=b)){var V;if(V=Y===0){let de=String(f.D).match(da)[1]||null;!de&&o.self&&o.self.location&&(de=o.self.location.protocol.slice(0,-1)),V=!Qu.test(de?de.toLowerCase():"")}C=V}if(C)Lt(f,"complete"),Lt(f,"success");else{f.o=6;try{var K=Dr(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Or(f)}}finally{jo(f)}}}}function jo(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,b||Lt(f,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Dr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),$u(b)}};function Ju(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ed(f){const b={};f=(f.g&&Dr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(z(f[V]))continue;var C=Pf(f[V]);const K=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Y=b[K]||[];b[K]=Y,Y.push(C)}X(b,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(f,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||b}function td(f){this.za=0,this.i=[],this.j=new Ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Po("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Po("baseRetryDelayMs",5e3,f),this.Za=Po("retryDelaySeedMs",1e4,f),this.Ta=Po("forwardChannelMaxRetries",2,f),this.va=Po("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Of(f&&f.concurrentRequestLimit),this.Ba=new Zv,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=td.prototype,t.ka=8,t.I=1,t.connect=function(f,b,C,V){It(0),this.W=f,this.H=b||{},C&&V!==void 0&&(this.H.OSID=C,this.H.OAID=V),this.F=this.X,this.J=id(this,null,this.W),Lr(this)};function Fe(f){if(Kn(f),f.I==3){var b=f.V++,C=Mn(f.J);if(_e(C,"SID",f.M),_e(C,"RID",b),_e(C,"TYPE","terminate"),Ti(f,C),b=new dr(f,f.j,b),b.M=2,b.A=_t(Mn(C)),C=!1,o.navigator&&o.navigator.sendBeacon)try{C=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!C&&o.Image&&(new Image().src=b.A,C=!0),C||(b.g=ad(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Rl(b)}fr(f)}function Ll(f){f.g&&(rd(f),f.g.cancel(),f.g=null)}function Kn(f){Ll(f),f.v&&(o.clearTimeout(f.v),f.v=null),Vl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function Lr(f){if(!Df(f.h)&&!f.m){f.m=!0;var b=f.Ea;F||P(),$||(F(),$=!0),j.add(b,f),f.D=0}}function zf(f,b){return Lf(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=yi(h(f.Ea,f,b),Hf(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new dr(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=ce(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(K.J=Y,Y=null),this.S)e:{for(var b=0,C=0;C<this.i.length;C++){t:{var V=this.i[C];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,b>4096){b=C;break e}if(b===4096||C===this.i.length-1){b=C+1;break e}}b=1e3}else b=1e3;b=Ff(this,K,b),C=Mn(this.J),_e(C,"RID",f),_e(C,"CVER",22),this.G&&_e(C,"X-HTTP-Session-Id",this.G),Ti(this,C),Y&&(this.R?b="headers="+be(Dl(Y))+"&"+b:this.u&&Co(C,this.u,Y)),xi(this.h,K),this.Ra&&_e(C,"TYPE","init"),this.S?(_e(C,"$req",b),_e(C,"SID","null"),K.U=!0,Cl(K,C,null)):Cl(K,C,b),this.I=2}}else this.I==3&&(f?Bf(this,f):this.i.length==0||Df(this.h)||Bf(this))};function Bf(f,b){var C;b?C=b.l:C=f.V++;const V=Mn(f.J);_e(V,"SID",f.M),_e(V,"RID",C),_e(V,"AID",f.K),Ti(f,V),f.u&&f.o&&Co(V,f.u,f.o),C=new dr(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Ff(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),xi(f.h,C),Cl(C,V,b)}function Ti(f,b){f.H&&q(f.H,function(C,V){_e(b,V,C)}),f.l&&q({},function(C,V){_e(b,V,C)})}function Ff(f,b,C){C=Math.min(f.i.length,C);const V=f.l?h(f.l.Ka,f.l,f):null;e:{var K=f.i;let Ie=-1;for(;;){const rt=["count="+C];Ie==-1?C>0?(Ie=K[0].g,rt.push("ofs="+Ie)):Ie=0:rt.push("ofs="+Ie);let ct=!0;for(let Ut=0;Ut<C;Ut++){var Y=K[Ut].g;const Fs=K[Ut].map;if(Y-=Ie,Y<0)Ie=Math.max(0,K[Ut].g-100),ct=!1;else try{Y="req"+Y+"_"||"";try{var de=Fs instanceof Map?Fs:Object.entries(Fs);for(const[mr,Hs]of de){let Vr=Hs;c(Hs)&&(Vr=ca(Hs)),rt.push(Y+mr+"="+encodeURIComponent(Vr))}}catch(mr){throw rt.push(Y+"type="+encodeURIComponent("_badmap")),mr}}catch{V&&V(Fs)}}if(ct){de=rt.join("&");break e}}de=void 0}return f=f.i.splice(0,C),b.G=f,de}function nd(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;F||P(),$||(F(),$=!0),j.add(b,f),f.A=0}}function sd(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=yi(h(f.Da,f),Hf(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Ul(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=yi(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ll(this),Ul(this))};function rd(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function Ul(f){f.g=new dr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Mn(f.na);_e(b,"RID","rpc"),_e(b,"SID",f.M),_e(b,"AID",f.K),_e(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&_e(b,"TO",f.ia),_e(b,"TYPE","xmlhttp"),Ti(f,b),f.u&&f.o&&Co(b,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=_t(Mn(b)),C.u=null,C.R=!0,_i(C,f)}t.Va=function(){this.C!=null&&(this.C=null,Ll(this),sd(this),It(19))};function Vl(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function ys(f,b){var C=null;if(f.g==b){Vl(f),rd(f),f.g=null;var V=2}else if(To(f.h,b))C=b.G,Ku(f.h,b),V=1;else return;if(f.I!=0){if(b.o)if(V==1){C=b.u?b.u.length:0,b=Date.now()-b.F;var K=f.D;V=ua(),Lt(V,new ps(V,C)),Lr(f)}else nd(f);else if(K=b.m,K==3||K==0&&b.X>0||!(V==1&&zf(f,b)||V==2&&sd(f)))switch(C&&C.length>0&&(b=f.h,b.i=b.i.concat(C)),K){case 1:Ur(f,5);break;case 4:Ur(f,10);break;case 3:Ur(f,6);break;default:Ur(f,2)}}}function Hf(f,b){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*b}function Ur(f,b){if(f.j.info("Error code "+b),b==2){var C=h(f.bb,f),V=f.Ua;const K=!V;V=new st(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Vs(V,"https"),_t(V),K?Ol(V.toString(),C):Vf(V.toString(),C)}else It(2);f.I=0,f.l&&f.l.pa(b),fr(f),Kn(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function fr(f){if(f.I=0,f.ja=[],f.l){const b=Zu(f.h);(b.length!=0||f.i.length!=0)&&(A(f.ja,b),A(f.ja,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.oa()}}function id(f,b,C){var V=C instanceof st?Mn(C):new st(C);if(V.g!="")b&&(V.g=b+"."+V.g),zs(V,V.u);else{var K=o.location;V=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const Y=new st(null);V&&Vs(Y,V),b&&(Y.g=b),K&&zs(Y,K),C&&(Y.h=C),V=Y}return C=f.G,b=f.wa,C&&b&&_e(V,C,b),_e(V,"VER",f.ka),Ti(f,V),V}function ad(f,b,C){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new lt(new Pe({ab:C})):new lt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zl(){}t=zl.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bl(){}Bl.prototype.g=function(f,b){return new Nn(f,b)};function Nn(f,b){Ft.call(this),this.g=new td(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!z(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!z(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ma(this)}g(Nn,Ft),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Fe(this.g)},Nn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=ca(f),f=C);b.i.push(new Kv(b.Ya++,f)),b.I==3&&Lr(b)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Fe(this.g),delete this.g,Nn.Z.N.call(this)};function od(f){$n.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const C in b){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(od,$n);function $f(){vi.call(this),this.status=1}g($f,vi);function ma(f){this.g=f}g(ma,zl),ma.prototype.ra=function(){Lt(this.g,"a")},ma.prototype.qa=function(f){Lt(this.g,new od(f))},ma.prototype.pa=function(f){Lt(this.g,new $f)},ma.prototype.oa=function(){Lt(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Uj=function(){return new Bl},Lj=function(){return ua()},Dj=En,j_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qn.NO_ERROR=0,qn.TIMEOUT=8,qn.HTTP_ERROR=6,ep=qn,Tn.COMPLETE="complete",Oj=Tn,xo.EventType=Ds,Ds.OPEN="a",Ds.CLOSE="b",Ds.ERROR="c",Ds.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,Rd=xo,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,Mj=lt}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});const uT="@firebase/firestore",dT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Bb("@firebase/firestore");function uc(){return hl.logLevel}function ye(t,...e){if(hl.logLevel<=Ze.DEBUG){const n=e.map(ew);hl.debug(`Firestore (${Iu}): ${t}`,...n)}}function ra(t,...e){if(hl.logLevel<=Ze.ERROR){const n=e.map(ew);hl.error(`Firestore (${Iu}): ${t}`,...n)}}function au(t,...e){if(hl.logLevel<=Ze.WARN){const n=e.map(ew);hl.warn(`Firestore (${Iu}): ${t}`,...n)}}function ew(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Vj(t,s,n)}function Vj(t,e,n){let s=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ra(s),new Error(s)}function ut(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||Vj(e,r,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class $8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q8{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const r=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let i=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ya,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ya)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new zj(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class G8{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W8{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new G8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=i=>{i.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=Z8(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Ye(t,e){return t<e?-1:t>e?1:0}function P_(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return qy(r)===qy(i)?Ye(r,i):qy(r)?1:-1}return Ye(t.length,e.length)}const Y8=55296,Q8=57343;function qy(t){const e=t.charCodeAt(0);return e>=Y8&&e<=Q8}function ou(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="__name__";class Hr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Re(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Hr.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Ye(e.length,n.length)}static compareSegments(e,n){const s=Hr.isNumericId(e),r=Hr.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):P_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class jt extends Hr{construct(e,n,s){return new jt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const X8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Hr{construct(e,n,s){return new _n(e,n,s)}static isValidIdentifier(e){return X8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fT}static keyField(){return new _n([fT])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(s+=c,r++):(i(),r++)}if(i(),o)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(jt.fromString(e))}static fromName(e){return new Te(jt.fromString(e).popFirst(5))}static empty(){return new Te(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t,e,n){if(!n)throw new Se(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eB(t,e,n,s){if(e===!0&&s===!0)throw new Se(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mT(t){if(!Te.isDocumentKey(t))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Ih(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nw(t);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function _f(t,e){if(!Bj(t))throw new Se(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new Se(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=-62135596800,gT=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*gT);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pT)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gT}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_f(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Kt("string",St._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new St(0,0))}static max(){return new ke(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=-1;function tB(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new io(r,Te.empty(),e)}function nB(t){return new io(t.readTime,t.key,kh)}class io{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new io(ke.min(),Te.empty(),kh)}static max(){return new io(ke.max(),Te.empty(),kh)}}function sB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==rB)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let r=0,i=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++i,o&&i===r&&n()},d=>s(d))}),o=!0,i===r&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(r=>r?J.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new J((s,r)=>{const i=e.length,o=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;n(e[h]).next(m=>{o[h]=m,++c,c===i&&s(o)},m=>r(m))}})}static doWhile(e,n){return new J((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function aB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}iv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-1;function av(t){return t==null}function eg(t){return t===0&&1/t==-1/0}function oB(t){return typeof t=="number"&&Number.isInteger(t)&&!eg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="";function lB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vT(e)),e=cB(t.get(n),e);return vT(e)}function cB(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case Fj:n+="";break;default:n+=i}}return n}function vT(t){return t+Fj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wm(this.root,e,this.comparator,!0)}}class wm{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??vn.RED,this.left=r??vn.EMPTY,this.right=i??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new vn(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return vn.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new sn(_n.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $j("Invalid base64 string: "+i):i}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const uB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=uB.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="server_timestamp",Gj="__type__",Wj="__previous_value__",Kj="__local_write_time__";function rw(t){return(t?.mapValue?.fields||{})[Gj]?.stringValue===qj}function ov(t){const e=t.mapValue.fields[Wj];return rw(e)?ov(e):e}function Mh(t){const e=ao(t.mapValue.fields[Kj].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,s,r,i,o,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const tg="(default)";class Oh{constructor(e,n){this.projectId=e,this.database=n||tg}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===tg}isEqual(e){return e instanceof Oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="__type__",hB="__max__",Sm={mapValue:{}},Yj="__vector__",ng="value";function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rw(t)?4:mB(t)?9007199254740991:fB(t)?10:11:Re(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mh(t).isEqual(Mh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ao(r.timestampValue),c=ao(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return oo(r.bytesValue).isEqual(oo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Bt(r.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bt(r.integerValue)===Bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Bt(r.doubleValue),c=Bt(i.doubleValue);return o===c?eg(o)===eg(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(yT(o)!==yT(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!ai(o[d],c[d])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function Dh(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function lu(t,e){if(t===e)return 0;const n=lo(t),s=lo(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Bt(i.integerValue||i.doubleValue),d=Bt(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return xT(t.timestampValue,e.timestampValue);case 4:return xT(Mh(t),Mh(e));case 5:return P_(t.stringValue,e.stringValue);case 6:return function(i,o){const c=oo(i),d=oo(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Ye(c[h],d[h]);if(m!==0)return m}return Ye(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Ye(Bt(i.latitude),Bt(o.latitude));return c!==0?c:Ye(Bt(i.longitude),Bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bT(t.arrayValue,e.arrayValue);case 10:return function(i,o){const c=i.fields||{},d=o.fields||{},h=c[ng]?.arrayValue,m=d[ng]?.arrayValue,g=Ye(h?.values?.length||0,m?.values?.length||0);return g!==0?g:bT(h,m)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Sm.mapValue&&o===Sm.mapValue)return 0;if(i===Sm.mapValue)return 1;if(o===Sm.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=o.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const v=P_(d[g],m[g]);if(v!==0)return v;const y=lu(c[d[g]],h[m[g]]);if(y!==0)return y}return Ye(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function xT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ao(t),s=ao(e),r=Ye(n.seconds,s.seconds);return r!==0?r:Ye(n.nanos,s.nanos)}function bT(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=lu(n[r],s[r]);if(i)return i}return Ye(n.length,s.length)}function cu(t){return I_(t)}function I_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ao(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=I_(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${I_(n.fields[o])}`;return r+"}"}(t.mapValue):Re(61005,{value:t})}function tp(t){switch(lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ov(t);return e?16+tp(e):16;case 5:return 2*t.stringValue.length;case 6:return oo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+tp(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return bl(s.fields,(i,o)=>{r+=i.length+tp(o)}),r}(t.mapValue);default:throw Re(13486,{value:t})}}function k_(t){return!!t&&"integerValue"in t}function iw(t){return!!t&&"arrayValue"in t}function wT(t){return!!t&&"nullValue"in t}function ST(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function np(t){return!!t&&"mapValue"in t}function fB(t){return(t?.mapValue?.fields||{})[Zj]?.stringValue===Yj}function Jd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jd(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jd(t.arrayValue.values[n]);return e}return{...t}}function mB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.value=e}static empty(){return new Xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jd(n)}setAll(e){let n=_n.emptyPath(),s={},r=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,s,r),s={},r=[],n=c.popLast()}o?s[c.lastSegment()]=Jd(o):r.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];np(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){bl(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Xs(Jd(this.value))}}function Qj(t){const e=[];return bl(t.fields,(n,s)=>{const r=new _n([n]);if(np(s)){const i=Qj(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,s,r,i,o,c){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Rn(e,0,ke.min(),ke.min(),ke.min(),Xs.empty(),0)}static newFoundDocument(e,n,s,r){return new Rn(e,1,n,ke.min(),s,r,0)}static newNoDocument(e,n){return new Rn(e,2,n,ke.min(),ke.min(),Xs.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,ke.min(),ke.min(),Xs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.position=e,this.inclusive=n}}function ET(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Te.comparator(Te.fromName(o.referenceValue),n.key):s=lu(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function TT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n="asc"){this.field=e,this.dir=n}}function pB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{}class nn extends Xj{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vB(e,n,s):n==="array-contains"?new xB(e,s):n==="in"?new bB(e,s):n==="not-in"?new wB(e,s):n==="array-contains-any"?new SB(e,s):new nn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new yB(e,s):new _B(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lu(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends Xj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return Jj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jj(t){return t.op==="and"}function eP(t){return gB(t)&&Jj(t)}function gB(t){for(const e of t.filters)if(e instanceof oi)return!1;return!0}function M_(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+cu(t.value);if(eP(t))return t.filters.map(e=>M_(e)).join(",");{const e=t.filters.map(n=>M_(n)).join(",");return`${t.op}(${e})`}}function tP(t,e){return t instanceof nn?function(s,r){return r instanceof nn&&s.op===r.op&&s.field.isEqual(r.field)&&ai(s.value,r.value)}(t,e):t instanceof oi?function(s,r){return r instanceof oi&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,c)=>i&&tP(o,r.filters[c]),!0):!1}(t,e):void Re(19439)}function nP(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${cu(n.value)}`}(t):t instanceof oi?function(n){return n.op.toString()+" {"+n.getFilters().map(nP).join(" ,")+"}"}(t):"Filter"}class vB extends nn{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class yB extends nn{constructor(e,n){super(e,"in",n),this.keys=sP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _B extends nn{constructor(e,n){super(e,"not-in",n),this.keys=sP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sP(t,e){return(e.arrayValue?.values||[]).map(n=>Te.fromName(n.referenceValue))}class xB extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iw(n)&&Dh(n.arrayValue,this.value)}}class bB extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dh(this.value.arrayValue,n)}}class wB extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dh(this.value.arrayValue,n)}}class SB extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Dh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n=null,s=[],r=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function NT(t,e=null,n=[],s=[],r=null,i=null,o=null){return new EB(t,e,n,s,r,i,o)}function aw(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>M_(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),av(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>cu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>cu(s)).join(",")),e.Te=n}return e.Te}function ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TT(t.startAt,e.startAt)&&TT(t.endAt,e.endAt)}function O_(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n=null,s=[],r=[],i=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TB(t,e,n,s,r,i,o,c){return new lv(t,e,n,s,r,i,o,c)}function lw(t){return new lv(t)}function AT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NB(t){return t.collectionGroup!==null}function eh(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new sn(_n.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new rg(i,s))}),n.has(_n.keyField().canonicalString())||e.Ie.push(new rg(_n.keyField(),s))}return e.Ie}function ti(t){const e=De(t);return e.Ee||(e.Ee=AB(e,eh(t))),e.Ee}function AB(t,e){if(t.limitType==="F")return NT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new rg(r.field,i)});const n=t.endAt?new sg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new sg(t.startAt.position,t.startAt.inclusive):null;return NT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function D_(t,e,n){return new lv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cv(t,e){return ow(ti(t),ti(e))&&t.limitType===e.limitType}function rP(t){return`${aw(ti(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>nP(r)).join(", ")}]`),av(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>cu(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>cu(r)).join(",")),`Target(${s})`}(ti(t))}; limitType=${t.limitType})`}function uv(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):Te.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of eh(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,c,d){const h=ET(o,c,d);return o.inclusive?h<=0:h<0}(s.startAt,eh(s),r)||s.endAt&&!function(o,c,d){const h=ET(o,c,d);return o.inclusive?h>=0:h>0}(s.endAt,eh(s),r))}(t,e)}function CB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iP(t){return(e,n)=>{let s=!1;for(const r of eh(t)){const i=RB(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function RB(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):function(i,o,c){const d=o.data.field(i),h=c.data.field(i);return d!==null&&h!==null?lu(d,h):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return Hj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new Pt(Te.comparator);function ia(){return jB}const aP=new Pt(Te.comparator);function jd(...t){let e=aP;for(const n of t)e=e.insert(n.key,n);return e}function oP(t){let e=aP;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qo(){return th()}function lP(){return th()}function th(){return new wl(t=>t.toString(),(t,e)=>t.isEqual(e))}const PB=new Pt(Te.comparator),IB=new sn(Te.comparator);function Qe(...t){let e=IB;for(const n of t)e=e.add(n);return e}const kB=new sn(Ye);function MB(){return kB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eg(e)?"-0":e}}function cP(t){return{integerValue:""+t}}function OB(t,e){return oB(e)?cP(e):cw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this._=void 0}}function DB(t,e,n){return t instanceof ig?function(r,i){const o={fields:{[Gj]:{stringValue:qj},[Kj]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&rw(i)&&(i=ov(i)),i&&(o.fields[Wj]=i),{mapValue:o}}(n,e):t instanceof Lh?dP(t,e):t instanceof Uh?hP(t,e):function(r,i){const o=uP(r,i),c=CT(o)+CT(r.Ae);return k_(o)&&k_(r.Ae)?cP(c):cw(r.serializer,c)}(t,e)}function LB(t,e,n){return t instanceof Lh?dP(t,e):t instanceof Uh?hP(t,e):n}function uP(t,e){return t instanceof ag?function(s){return k_(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class ig extends dv{}class Lh extends dv{constructor(e){super(),this.elements=e}}function dP(t,e){const n=fP(e);for(const s of t.elements)n.some(r=>ai(r,s))||n.push(s);return{arrayValue:{values:n}}}class Uh extends dv{constructor(e){super(),this.elements=e}}function hP(t,e){let n=fP(e);for(const s of t.elements)n=n.filter(r=>!ai(r,s));return{arrayValue:{values:n}}}class ag extends dv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CT(t){return Bt(t.integerValue||t.doubleValue)}function fP(t){return iw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UB(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Lh&&r instanceof Lh||s instanceof Uh&&r instanceof Uh?ou(s.elements,r.elements,ai):s instanceof ag&&r instanceof ag?ai(s.Ae,r.Ae):s instanceof ig&&r instanceof ig}(t.transform,e.transform)}class VB{constructor(e,n){this.version=e,this.transformResults=n}}class Zi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hv{}function mP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gP(t.key,Zi.none()):new xf(t.key,t.data,Zi.none());{const n=t.data,s=Xs.empty();let r=new sn(_n.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Sl(t.key,s,new Sr(r.toArray()),Zi.none())}}function zB(t,e,n){t instanceof xf?function(r,i,o){const c=r.value.clone(),d=jT(r.fieldTransforms,i,o.transformResults);c.setAll(d),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Sl?function(r,i,o){if(!sp(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=jT(r.fieldTransforms,i,o.transformResults),d=i.data;d.setAll(pP(r)),d.setAll(c),i.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nh(t,e,n,s){return t instanceof xf?function(i,o,c,d){if(!sp(i.precondition,o))return c;const h=i.value.clone(),m=PT(i.fieldTransforms,d,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof Sl?function(i,o,c,d){if(!sp(i.precondition,o))return c;const h=PT(i.fieldTransforms,d,o),m=o.data;return m.setAll(pP(i)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,s):function(i,o,c){return sp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function BB(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=uP(s.transform,r||null);i!=null&&(n===null&&(n=Xs.empty()),n.set(s.field,i))}return n||null}function RT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&ou(s,r,(i,o)=>UB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xf extends hv{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sl extends hv{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function pP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function jT(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,c=e.data.field(i.field);s.set(i.field,LB(o,c,n[r]))}return s}function PT(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,DB(i,o,e))}return s}class gP extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FB extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&zB(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=lP();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(r.key)?null:c;const d=mP(o,c);d!==null&&s.set(r.key,d),o.isValidDocument()||o.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,s)=>RT(n,s))&&ou(this.baseMutations,e.baseMutations,(n,s)=>RT(n,s))}}class uw{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return PB}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new uw(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $B=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Je;function GB(t){switch(t){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function vP(t){if(t===void 0)return ra("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Gt.OK:return ie.OK;case Gt.CANCELLED:return ie.CANCELLED;case Gt.UNKNOWN:return ie.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ie.INTERNAL;case Gt.UNAVAILABLE:return ie.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ie.NOT_FOUND;case Gt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Gt.ABORTED:return ie.ABORTED;case Gt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Gt.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:t})}}(Je=Gt||(Gt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=new Za([4294967295,4294967295],0);function IT(t){const e=WB().encode(t),n=new kj;return n.update(e),new Uint8Array(n.digest())}function kT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Za([n,s],0),new Za([r,i],0)]}class dw{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pd(`Invalid padding: ${n}`);if(s<0)throw new Pd(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pd(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Za.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Za.fromNumber(s)));return r.compare(KB)===1&&(r=new Za([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IT(e),[s,r]=kT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new dw(i,r,n);return s.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const n=IT(e),[s,r]=kT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fv(ke.min(),r,new Pt(Ye),ia(),Qe())}}class bf{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bf(s,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class yP{constructor(e,n){this.targetId=e,this.Ce=n}}class _P{constructor(e,n,s=Sn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class MT{constructor(){this.ve=0,this.Fe=OT(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),s=Qe();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Re(38017,{changeType:i})}}),new bf(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=OT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZB{constructor(e){this.Ge=e,this.ze=new Map,this.je=ia(),this.Je=Em(),this.He=Em(),this.Ye=new Pt(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(O_(i))if(s===0){const o=new Te(i.path);this.et(n,o,Rn.newNoDocument(o,ke.min()))}else ut(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,c;try{o=oo(s).toUint8Array()}catch(d){if(d instanceof $j)return au("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new dw(o,r,i)}catch(d){return au(d instanceof Pd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const c=this.ot(o);if(c){if(i.current&&O_(c.target)){const d=new Te(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Rn.newNoDocument(d,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let s=Qe();this.He.forEach((i,o)=>{let c=!0;o.forEachWhile(d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const r=new fv(e,n,this.Ye,this.je,s);return this.je=ia(),this.Je=Em(),this.He=Em(),this.Ye=new Pt(Ye),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new MT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new sn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new sn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Em(){return new Pt(Te.comparator)}function OT(){return new Pt(Te.comparator)}const YB={asc:"ASCENDING",desc:"DESCENDING"},QB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XB={and:"AND",or:"OR"};class JB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function L_(t,e){return t.useProto3Json||av(e)?e:{value:e}}function og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eF(t,e){return og(t,e.toTimestamp())}function ni(t){return ut(!!t,49232),ke.fromTimestamp(function(n){const s=ao(n);return new St(s.seconds,s.nanos)}(t))}function hw(t,e){return U_(t,e).canonicalString()}function U_(t,e){const n=function(r){return new jt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bP(t){const e=jt.fromString(t);return ut(NP(e),10190,{key:e.toString()}),e}function V_(t,e){return hw(t.databaseId,e.path)}function Gy(t,e){const n=bP(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(SP(n))}function wP(t,e){return hw(t.databaseId,e)}function tF(t){const e=bP(t);return e.length===4?jt.emptyPath():SP(e)}function z_(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SP(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DT(t,e,n){return{name:V_(t,e),fields:n.value.mapValue.fields}}function nF(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Re(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(h,m){return h.useProto3Json?(ut(m===void 0||typeof m=="string",58123),Sn.fromBase64String(m||"")):(ut(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Sn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const m=h.code===void 0?ie.UNKNOWN:vP(h.code);return new Se(m,h.message||"")}(o);n=new _P(s,r,i,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Gy(t,s.document.name),i=ni(s.document.updateTime),o=s.document.createTime?ni(s.document.createTime):ke.min(),c=new Xs({mapValue:{fields:s.document.fields}}),d=Rn.newFoundDocument(r,i,o,c),h=s.targetIds||[],m=s.removedTargetIds||[];n=new rp(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Gy(t,s.document),i=s.readTime?ni(s.readTime):ke.min(),o=Rn.newNoDocument(r,i),c=s.removedTargetIds||[];n=new rp([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Gy(t,s.document),i=s.removedTargetIds||[];n=new rp([],i,r,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new qB(r,i),c=s.targetId;n=new yP(c,o)}}return n}function sF(t,e){let n;if(e instanceof xf)n={update:DT(t,e.key,e.value)};else if(e instanceof gP)n={delete:V_(t,e.key)};else if(e instanceof Sl)n={update:DT(t,e.key,e.data),updateMask:hF(e.fieldMask)};else{if(!(e instanceof FB))return Re(16599,{Vt:e.type});n={verify:V_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const c=o.transform;if(c instanceof ig)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Lh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ag)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Re(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:eF(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re(27497)}(t,e.precondition)),n}function rF(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?ni(r.updateTime):ni(i);return o.isEqual(ke.min())&&(o=ni(i)),new VB(o,r.transformResults||[])}(n,e))):[]}function iF(t,e){return{documents:[wP(t,e.path)]}}function aF(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=wP(t,r);const i=function(h){if(h.length!==0)return TP(oi.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(m=>function(v){return{field:hc(v.field),direction:cF(v.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=L_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:r}}function oF(t){let e=tF(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ut(s===1,65062);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=function(g){const v=EP(g);return v instanceof oi&&eP(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(A){return new rg(fc(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,av(v)?null:v}(n.limit));let d=null;n.startAt&&(d=function(g){const v=!!g.before,y=g.values||[];return new sg(y,v)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const v=!g.before,y=g.values||[];return new sg(y,v)}(n.endAt)),TB(e,r,o,i,c,"F",d,h)}function lF(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fc(n.unaryFilter.field);return nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=fc(n.unaryFilter.field);return nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fc(n.unaryFilter.field);return nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fc(n.unaryFilter.field);return nn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(fc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return oi.create(n.compositeFilter.filters.map(s=>EP(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function cF(t){return YB[t]}function uF(t){return QB[t]}function dF(t){return XB[t]}function hc(t){return{fieldPath:t.canonicalString()}}function fc(t){return _n.fromServerFormat(t.fieldPath)}function TP(t){return t instanceof nn?function(n){if(n.op==="=="){if(ST(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NAN"}};if(wT(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ST(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NAN"}};if(wT(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(n.field),op:uF(n.op),value:n.value}}}(t):t instanceof oi?function(n){const s=n.getFilters().map(r=>TP(r));return s.length===1?s[0]:{compositeFilter:{op:dF(n.op),filters:s}}}(t):Re(54877,{filter:t})}function hF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,s,r,i=ke.min(),o=ke.min(),c=Sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.yt=e}}function mF(t){const e=oF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.Cn=new gF}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(io.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class gF{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new sn(jt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new sn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AP=41943040;class es{static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(AP,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uu(0)}static cr(){return new uu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="LruGarbageCollector",vF=1048576;function VT([t,e],[n,s]){const r=Ye(t,n);return r===0?Ye(e,s):r}class yF{constructor(e){this.Ir=e,this.buffer=new sn(VT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _F{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(UT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mu(n)?ye(UT,"Ignoring IndexedDB error during garbage collection: ",n):await ku(n)}await this.Vr(3e5)})}}class xF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(iv.ce);const s=new yF(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(LT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,o=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(s=g,c=Date.now(),this.removeTargets(e,s,n))).next(g=>(i=g,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(g=>(h=Date.now(),uc()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${i} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:g})))}}function bF(t,e){return new xF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.changes=new wl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&nh(s.mutation,r,Sr.empty(),St.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Qe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Qe()){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=jd();return i.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=qo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Qe()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,s,r){let i=ia();const o=th(),c=function(){return th()}();return n.forEach((d,h)=>{const m=s.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof Sl)?i=i.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),nh(m.mutation,h,m.mutation.getFieldMask(),St.now())):o.set(h.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,m)=>o.set(h,m)),n.forEach((h,m)=>c.set(h,new SF(m,o.get(h)??null))),c))}recalculateAndSaveOverlays(e,n){const s=th();let r=new Pt((o,c)=>o-c),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let m=s.get(d)||Sr.empty();m=c.applyToLocalView(h,m),s.set(d,m);const g=(r.get(c.batchId)||Qe()).add(d);r=r.insert(c.batchId,g)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,g=lP();m.forEach(v=>{if(!i.has(v)){const y=mP(n.get(v),s.get(v));y!==null&&g.set(v,y),i=i.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return J.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):J.resolve(qo());let c=kh,d=i;return o.next(h=>J.forEach(h,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{d=d.insert(m,v)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,Qe())).next(m=>({batchId:c,changes:oP(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let r=jd();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=jd();return this.indexManager.getCollectionParents(e,i).next(c=>J.forEach(c,d=>{const h=function(g,v){return new lv(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next(m=>{m.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((d,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,Rn.newInvalidDocument(m)))});let c=jd();return o.forEach((d,h)=>{const m=i.get(d);m!==void 0&&nh(m.mutation,h,Sr.empty(),St.now()),uv(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ni(r.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:mF(r.bundledQuery),readTime:ni(r.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.overlays=new Pt(Te.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qo();return J.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const r=qo(),i=n.length+1,o=new Te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>s&&r.set(d.getKey(),d)}return J.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Pt((h,m)=>h-m);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let m=i.get(h.largestBatchId);m===null&&(m=qo(),i=i.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=qo(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=r)););return J.resolve(c)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new $B(n,s));let i=this.qr.get(n);i===void 0&&(i=Qe(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.Qr=new sn(on.$r),this.Ur=new sn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new on(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Te(new jt([])),s=new on(n,e),r=new on(n,e+1),i=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new jt([])),s=new on(n,e),r=new on(n,e+1);let i=Qe();return this.Ur.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new on(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new sn(on.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HB(i,n,s,r);this.mutationQueue.push(o);for(const c of r)this.Zr=this.Zr.add(new on(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sw:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new on(n,0),r=new on(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],o=>{const c=this.Xr(o.Yr);i.push(c)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new sn(Ye);return n.forEach(r=>{const i=new on(r,0),o=new on(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],c=>{s=s.add(c.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Te.isDocumentKey(i)||(i=i.child(""));const o=new on(new Te(i),0);let c=new sn(Ye);return this.Zr.forEachWhile(d=>{const h=d.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(c=c.add(d.Yr)),!0)},o),J.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,r=>{const i=new on(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new on(n,0),r=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.ri=e,this.docs=function(){return new Pt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let s=ia();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Rn.newInvalidDocument(r))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=ia();const o=n.path,c=new Te(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||sB(nB(m),s)<=0||(r.has(m.key)||uv(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Re(9500)}ii(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new jF(this)}getSize(e){return J.resolve(this.size)}}class jF extends wF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.persistence=e,this.si=new wl(n=>aw(n),ow),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new fw,this.targetCount=0,this.ai=uu.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),J.waitFor(i).next(()=>r)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n){this.ui={},this.overlays={},this.ci=new iv(0),this.li=!1,this.li=!0,this.hi=new AF,this.referenceDelegate=e(this),this.Pi=new PF(this),this.indexManager=new pF,this.remoteDocumentCache=function(r){return new RF(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new fF(n),this.Ii=new TF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CF(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const r=new IF(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class IF extends iB{constructor(e){super(),this.currentSequenceNumber=e}}class mw{constructor(e){this.persistence=e,this.Ri=new fw,this.Vi=null}static mi(e){return new mw(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const r=Te.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,ke.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lg{constructor(e,n){this.persistence=e,this.pi=new wl(s=>lB(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=bF(this,n)}static mi(e,n){return new lg(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?J.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(c=>{c||(s++,i.removeEntry(o,ke.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tp(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return J.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Qe(),r=Qe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new pw(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return r9()?8:aB(kn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new kF;return this.Ss(e,n,o).next(c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(uc()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(uc()<=Ze.DEBUG&&ye("QueryEngine","Query:",dc(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(uc()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):J.resolve())}ys(e,n){if(AT(n))return J.resolve(null);let s=ti(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=D_(n,null,"F"),s=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=Qe(...i);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,s).next(d=>{const h=this.Ds(n,c);return this.Cs(n,h,o,d.readTime)?this.ys(e,D_(n,null,"F")):this.vs(e,h,n,d)}))})))}ws(e,n,s,r){return AT(n)||r.isEqual(ke.min())?J.resolve(null):this.ps.getDocuments(e,s).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?J.resolve(null):(uc()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dc(n)),this.vs(e,o,n,tB(r,kh)).next(c=>c))})}Ds(e,n){let s=new sn(iP(e));return n.forEach((r,i)=>{uv(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return uc()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",dc(n)),this.ps.getDocumentsMatchingQuery(e,n,io.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LocalStore",OF=3e8;class DF{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Pt(Ye),this.xs=new wl(i=>aw(i),ow),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function LF(t,e,n,s){return new DF(t,e,n,s)}async function RP(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],c=[];let d=Qe();for(const h of r){o.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of i){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(s,d).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:c}))})})}function UF(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,h,m){const g=h.batch,v=g.keys();let y=J.resolve();return v.forEach(A=>{y=y.next(()=>m.getEntry(d,A)).next(w=>{const R=h.docVersions.get(A);ut(R!==null,48541),w.version.compareTo(R)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),m.addEntry(w)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let d=Qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function jP(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function VF(t,e){const n=De(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const c=[];e.targetChanges.forEach((m,g)=>{const v=r.get(g);if(!v)return;c.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g)));let y=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Sn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):m.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(m.resumeToken,s)),r=r.insert(g,y),function(w,R,E){return w.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=OF?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(v,y,m)&&c.push(n.Pi.updateTargetData(i,y))});let d=ia(),h=Qe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))}),c.push(zF(i,o,e.documentUpdates).next(m=>{d=m.ks,h=m.qs})),!s.isEqual(ke.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next(g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));c.push(m)}return J.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(n.Ms=r,i))}function zF(t,e,n){let s=Qe(),r=Qe();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=ia();return n.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(ke.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):ye(gw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{ks:o,qs:r}})}function BF(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=sw),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function FF(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,J.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new Ua(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function B_(t,e,n){const s=De(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Mu(o))throw o;ye(gw,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function zT(t,e,n){const s=De(t);let r=ke.min(),i=Qe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(d,h,m){const g=De(d),v=g.xs.get(m);return v!==void 0?J.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,m)}(s,o,ti(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,c.targetId).next(d=>{i=d})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:ke.min(),n?i:Qe())).next(c=>(HF(s,CB(e),c),{documents:c,Qs:i})))}function HF(t,e,n){let s=t.Os.get(e)||ke.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class BT{constructor(){this.activeTargetIds=MB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $F{constructor(){this.Mo=new BT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="ConnectivityMonitor";class HT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(FT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(FT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function F_(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="RestConnection",GF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===tg?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=F_(),c=this.zo(e,n.toUriEncodedString());ye(Wy,`Sending RPC '${e}' ${o}:`,c,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,i);const{host:h}=new URL(c),m=mo(h);return this.Jo(e,c,d,s,m).then(g=>(ye(Wy,`Received RPC '${e}' ${o}: `,g),g),g=>{throw au(Wy,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",s),g})}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Iu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=GF[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class ZF extends WF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=F_();return new Promise((c,d)=>{const h=new Mj;h.setWithCredentials(!0),h.listenOnce(Oj.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ep.NO_ERROR:const g=h.getResponseJson();ye(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case ep.TIMEOUT:ye(An,`RPC '${e}' ${o} timed out`),d(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const v=h.getStatus();if(ye(An,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const A=y?.error;if(A&&A.status&&A.message){const w=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(T)>=0?T:ie.UNKNOWN}(A.status);d(new Se(w,A.message))}else d(new Se(ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ye(An,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(r);ye(An,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",m,s,15)})}T_(e,n,s){const r=F_(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uj(),c=Lj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const m=i.join("");ye(An,`Creating RPC '${e}' stream ${r}: ${m}`,d);const g=o.createWebChannel(m,d);this.I_(g);let v=!1,y=!1;const A=new KF({Yo:R=>{y?ye(An,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(v||(ye(An,`Opening RPC '${e}' stream ${r} transport.`),g.open(),v=!0),ye(An,`RPC '${e}' stream ${r} sending:`,R),g.send(R))},Zo:()=>g.close()}),w=(R,E,T)=>{R.listen(E,N=>{try{T(N)}catch(O){setTimeout(()=>{throw O},0)}})};return w(g,Rd.EventType.OPEN,()=>{y||(ye(An,`RPC '${e}' stream ${r} transport opened.`),A.o_())}),w(g,Rd.EventType.CLOSE,()=>{y||(y=!0,ye(An,`RPC '${e}' stream ${r} transport closed`),A.a_(),this.E_(g))}),w(g,Rd.EventType.ERROR,R=>{y||(y=!0,au(An,`RPC '${e}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),A.a_(new Se(ie.UNAVAILABLE,"The operation could not be completed")))}),w(g,Rd.EventType.MESSAGE,R=>{if(!y){const E=R.data[0];ut(!!E,16349);const T=E,N=T?.error||T[0]?.error;if(N){ye(An,`RPC '${e}' stream ${r} received error:`,N);const O=N.status;let F=function(P){const D=Gt[P];if(D!==void 0)return vP(D)}(O),$=N.message;F===void 0&&(F=ie.INTERNAL,$="Unknown error status: "+O+" with message "+N.message),y=!0,A.a_(new Se(F,$)),g.close()}else ye(An,`RPC '${e}' stream ${r} received:`,E),A.u_(E)}}),w(c,Dj.STAT_EVENT,R=>{R.stat===j_.PROXY?ye(An,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===j_.NOPROXY&&ye(An,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){return new JB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&ye("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="PersistentStream";class IP{constructor(e,n,s,r,i,o,c,d){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ra(n.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new Se(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye($T,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye($T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YF extends IP{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nF(this.serializer,e),s=function(i){if(!("targetChange"in i))return ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?ni(o.readTime):ke.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=z_(this.serializer),n.addTarget=function(i,o){let c;const d=o.target;if(c=O_(d)?{documents:iF(i,d)}:{query:aF(i,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=xP(i,o.resumeToken);const h=L_(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ke.min())>0){c.readTime=og(i,o.snapshotVersion.toTimestamp());const h=L_(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const s=lF(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=z_(this.serializer),n.removeTarget=e,this.q_(n)}}class QF extends IP{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rF(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=z_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>sF(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{}class JF extends XF{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,U_(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(ie.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,U_(n,s),r,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ie.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ra(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="RemoteStore";class tH{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{El(this)&&(ye(fl,"Restarting streams for network reachability change."),await async function(d){const h=De(d);h.Ea.add(4),await wf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await pv(h)}(this))})}),this.Ra=new eH(s,r)}}async function pv(t){if(El(t))for(const e of t.da)await e(!0)}async function wf(t){for(const e of t.da)await e(!1)}function kP(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xw(n)?_w(n):Ou(n).O_()&&yw(n,e))}function vw(t,e){const n=De(t),s=Ou(n);n.Ia.delete(e),s.O_()&&MP(n,e),n.Ia.size===0&&(s.O_()?s.L_():El(n)&&n.Ra.set("Unknown"))}function yw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).Y_(e)}function MP(t,e){t.Va.Ue(e),Ou(t).Z_(e)}function _w(t){t.Va=new ZB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.Ra.ua()}function xw(t){return El(t)&&!Ou(t).x_()&&t.Ia.size>0}function El(t){return De(t).Ea.size===0}function OP(t){t.Va=void 0}async function nH(t){t.Ra.set("Online")}async function sH(t){t.Ia.forEach((e,n)=>{yw(t,e)})}async function rH(t,e){OP(t),xw(t)?(t.Ra.ha(e),_w(t)):t.Ra.set("Unknown")}async function iH(t,e,n){if(t.Ra.set("Online"),e instanceof _P&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const c of i.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ia.delete(c),r.Va.removeTarget(c))}(t,e)}catch(s){ye(fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cg(t,s)}else if(e instanceof rp?t.Va.Ze(e):e instanceof yP?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const s=await jP(t.localStore);n.compareTo(s)>=0&&await function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=i.Ia.get(h);m&&i.Ia.set(h,m.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,h)=>{const m=i.Ia.get(d);if(!m)return;i.Ia.set(d,m.withResumeToken(Sn.EMPTY_BYTE_STRING,m.snapshotVersion)),MP(i,d);const g=new Ua(m.target,d,h,m.sequenceNumber);yw(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){ye(fl,"Failed to raise snapshot:",s),await cg(t,s)}}async function cg(t,e,n){if(!Mu(e))throw e;t.Ea.add(1),await wf(t),t.Ra.set("Offline"),n||(n=()=>jP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(fl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pv(t)})}function DP(t,e){return e().catch(n=>cg(t,n,e))}async function gv(t){const e=De(t),n=co(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sw;for(;aH(e);)try{const r=await BF(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,oH(e,r)}catch(r){await cg(e,r)}LP(e)&&UP(e)}function aH(t){return El(t)&&t.Ta.length<10}function oH(t,e){t.Ta.push(e);const n=co(t);n.O_()&&n.X_&&n.ea(e.mutations)}function LP(t){return El(t)&&!co(t).x_()&&t.Ta.length>0}function UP(t){co(t).start()}async function lH(t){co(t).ra()}async function cH(t){const e=co(t);for(const n of t.Ta)e.ea(n.mutations)}async function uH(t,e,n){const s=t.Ta.shift(),r=uw.from(s,e,n);await DP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await gv(t)}async function dH(t,e){e&&co(t).X_&&await async function(s,r){if(function(o){return GB(o)&&o!==ie.ABORTED}(r.code)){const i=s.Ta.shift();co(s).B_(),await DP(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await gv(s)}}(t,e),LP(t)&&UP(t)}async function qT(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ye(fl,"RemoteStore received new credentials");const s=El(n);n.Ea.add(3),await wf(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pv(n)}async function hH(t,e){const n=De(t);e?(n.Ea.delete(2),await pv(n)):e||(n.Ea.add(2),await wf(n),n.Ra.set("Unknown"))}function Ou(t){return t.ma||(t.ma=function(n,s,r){const i=De(n);return i.sa(),new YF(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:nH.bind(null,t),t_:sH.bind(null,t),r_:rH.bind(null,t),H_:iH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),xw(t)?_w(t):t.Ra.set("Unknown")):(await t.ma.stop(),OP(t))})),t.ma}function co(t){return t.fa||(t.fa=function(n,s,r){const i=De(n);return i.sa(),new QF(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lH.bind(null,t),r_:dH.bind(null,t),ta:cH.bind(null,t),na:uH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await gv(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(fl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,c=new bw(e,n,o,r,i);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ww(t,e){if(ra("AsyncQueue",`${e}: ${t}`),Mu(t))return new Se(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{static emptySet(e){return new Fc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=jd(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.ga=new Pt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class du{constructor(e,n,s,r,i,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new du(e,n,Fc.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mH{constructor(){this.queries=WT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=De(n),i=r.queries;r.queries=WT(),i.forEach((o,c)=>{for(const d of c.Sa)d.onError(s)})})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function WT(){return new wl(t=>rP(t),cv)}async function pH(t,e){const n=De(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new fH,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const c=ww(o,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Sw(n)}async function gH(t,e){const n=De(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vH(t,e){const n=De(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(r)&&(s=!0);o.wa=r}}s&&Sw(n)}function yH(t,e,n){const s=De(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Sw(t){t.Ca.forEach(e=>{e.next()})}var H_,KT;(KT=H_||(H_={})).Ma="default",KT.Cache="cache";class _H{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new du(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==H_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.key=e}}class zP{constructor(e){this.key=e}}class xH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=iP(e),this.tu=new Fc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new GT,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,c=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,g)=>{const v=r.get(m),y=uv(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;v&&y?v.data.isEqual(y.data)?A!==w&&(s.track({type:3,doc:y}),R=!0):this.su(v,y)||(s.track({type:2,doc:y}),R=!0,(d&&this.eu(y,d)>0||h&&this.eu(y,h)<0)&&(c=!0)):!v&&y?(s.track({type:0,doc:y}),R=!0):v&&!y&&(s.track({type:1,doc:v}),R=!0,(d||h)&&(c=!0)),R&&(y?(o=o.add(y),i=w?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),s.track({type:1,doc:m})}return{tu:o,iu:s,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((m,g)=>function(y,A){const w=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:R})}};return w(y)-w(A)}(m.type,g.type)||this.eu(m.doc,g.doc)),this.ou(s),r=r??!1;const c=n&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new du(this.query,e.tu,i,o,e.mutatedKeys,d===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new zP(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new VP(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ew="SyncEngine";class bH{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wH{constructor(e){this.key=e,this.hu=!1}}class SH{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new wl(c=>rP(c),cv),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Te.comparator),this.Au=new Map,this.Ru=new fw,this.Vu={},this.mu=new Map,this.fu=uu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EH(t,e,n=!0){const s=GP(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await BP(s,e,n,!0),r}async function TH(t,e){const n=GP(t);await BP(n,e,!0,!1)}async function BP(t,e,n,s){const r=await FF(t.localStore,ti(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return s&&(c=await NH(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&kP(t.remoteStore,r),c}async function NH(t,e,n,s,r){t.pu=(g,v,y)=>async function(w,R,E,T){let N=R.view.ru(E);N.Cs&&(N=await zT(w.localStore,R.query,!1).then(({documents:j})=>R.view.ru(j,N)));const O=T&&T.targetChanges.get(R.targetId),F=T&&T.targetMismatches.get(R.targetId)!=null,$=R.view.applyChanges(N,w.isPrimaryClient,O,F);return YT(w,R.targetId,$.au),$.snapshot}(t,g,v,y);const i=await zT(t.localStore,e,!0),o=new xH(e,i.Qs),c=o.ru(i.documents),d=bf.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=o.applyChanges(c,t.isPrimaryClient,d);YT(t,n,h.au);const m=new bH(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function AH(t,e,n){const s=De(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(o=>!cv(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await B_(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&vw(s.remoteStore,r.targetId),$_(s,r.targetId)}).catch(ku)):($_(s,r.targetId),await B_(s.localStore,r.targetId,!0))}async function CH(t,e){const n=De(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vw(n.remoteStore,s.targetId))}async function RH(t,e,n){const s=DH(t);try{const r=await function(o,c){const d=De(o),h=St.now(),m=c.reduce((y,A)=>y.add(A.key),Qe());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=ia(),w=Qe();return d.Ns.getEntries(y,m).next(R=>{A=R,A.forEach((E,T)=>{T.isValidDocument()||(w=w.add(E))})}).next(()=>d.localDocuments.getOverlayedDocuments(y,A)).next(R=>{g=R;const E=[];for(const T of c){const N=BB(T,g.get(T.key).overlayedDocument);N!=null&&E.push(new Sl(T.key,N,Qj(N.value.mapValue),Zi.exists(!0)))}return d.mutationQueue.addMutationBatch(y,h,E,c)}).next(R=>{v=R;const E=R.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(y,R.batchId,E)})}).then(()=>({batchId:v.batchId,changes:oP(g)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new Pt(Ye)),h=h.insert(c,d),o.Vu[o.currentUser.toKey()]=h}(s,r.batchId,n),await Sf(s,r.changes),await gv(s.remoteStore)}catch(r){const i=ww(r,"Failed to persist write");n.reject(i)}}async function FP(t,e){const n=De(t);try{const s=await VF(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Au.get(i);o&&(ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?ut(o.hu,14607):r.removedDocuments.size>0&&(ut(o.hu,42227),o.hu=!1))}),await Sf(n,s,e)}catch(s){await ku(s)}}function ZT(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,o)=>{const c=o.view.va(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){const d=De(o);d.onlineState=c;let h=!1;d.queries.forEach((m,g)=>{for(const v of g.Sa)v.va(c)&&(h=!0)}),h&&Sw(d)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jH(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new Pt(Te.comparator);o=o.insert(i,Rn.newNoDocument(i,ke.min()));const c=Qe().add(i),d=new fv(ke.min(),new Map,new Pt(Ye),o,c);await FP(s,d),s.du=s.du.remove(i),s.Au.delete(e),Tw(s)}else await B_(s.localStore,e,!1).then(()=>$_(s,e,n)).catch(ku)}async function PH(t,e){const n=De(t),s=e.batch.batchId;try{const r=await UF(n.localStore,e);$P(n,s,null),HP(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Sf(n,r)}catch(r){await ku(r)}}async function IH(t,e,n){const s=De(t);try{const r=await function(o,c){const d=De(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next(g=>(ut(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(s.localStore,e);$P(s,e,n),HP(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Sf(s,r)}catch(r){await ku(r)}}function HP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function $P(t,e,n){const s=De(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function $_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||qP(t,s)})}function qP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Tw(t))}function YT(t,e,n){for(const s of n)s instanceof VP?(t.Ru.addReference(s.key,e),kH(t,s)):s instanceof zP?(ye(Ew,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||qP(t,s.key)):Re(19791,{wu:s})}function kH(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(Ew,"New document in limbo: "+n),t.Eu.add(s),Tw(t))}function Tw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(jt.fromString(e)),s=t.fu.next();t.Au.set(s,new wH(n)),t.du=t.du.insert(n,s),kP(t.remoteStore,new Ua(ti(lw(n.path)),s,"TargetPurposeLimboResolution",iv.ce))}}async function Sf(t,e,n){const s=De(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((c,d)=>{o.push(s.pu(d,e,n).then(h=>{if((h||n)&&s.isPrimaryClient){const m=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){r.push(h);const m=pw.As(d.targetId,h);i.push(m)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(d,h){const m=De(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>J.forEach(h,v=>J.forEach(v.Es,y=>m.persistence.referenceDelegate.addReference(g,v.targetId,y)).next(()=>J.forEach(v.ds,y=>m.persistence.referenceDelegate.removeReference(g,v.targetId,y)))))}catch(g){if(!Mu(g))throw g;ye(gw,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const y=m.Ms.get(v),A=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(v,w)}}}(s.localStore,i))}async function MH(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ye(Ew,"User change. New user:",e.toKey());const s=await RP(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(c=>{c.forEach(d=>{d.reject(new Se(ie.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sf(n,s.Ls)}}function OH(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return Qe().add(s.key);{let r=Qe();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const c=n.Tu.get(o);r=r.unionWith(c.view.nu)}return r}}function GP(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jH.bind(null,e),e.Pu.H_=vH.bind(null,e.eventManager),e.Pu.yu=yH.bind(null,e.eventManager),e}function DH(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IH.bind(null,e),e}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LF(this.persistence,new MF,e.initialUser,this.serializer)}Cu(e){return new CP(mw.mi,this.serializer)}Du(e){return new $F}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class LH extends ug{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof lg,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _F(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new CP(s=>lg.mi(s,n),this.serializer)}}class q_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MH.bind(null,this.syncEngine),await hH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mH}()}createDatastore(e){const n=mv(e.databaseInfo.databaseId),s=function(i){return new ZF(i)}(e.databaseInfo);return function(i,o,c,d){return new JF(i,o,c,d)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,c){return new tH(s,r,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>ZT(this.syncEngine,n,0),function(){return HT.v()?new HT:new qF}())}createSyncEngine(e,n){return function(r,i,o,c,d,h,m){const g=new SH(r,i,o,c,d,h);return m&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=De(n);ye(fl,"RemoteStore shutting down."),s.Ea.add(5),await wf(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}q_.provider={build:()=>new q_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="FirestoreClient";class VH{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Cn.UNAUTHENTICATED,this.clientId=tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{ye(uo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ye(uo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ww(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zy(t,e){t.asyncQueue.verifyOperationInProgress(),ye(uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await RP(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zH(t);ye(uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>qT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>qT(e.remoteStore,r)),t._onlineComponents=e}async function zH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(uo,"Using user provided OfflineComponentProvider");try{await Zy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===ie.FAILED_PRECONDITION||r.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await Zy(t,new ug)}}else ye(uo,"Using default OfflineComponentProvider"),await Zy(t,new LH(void 0));return t._offlineComponents}async function WP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(uo,"Using user provided OnlineComponentProvider"),await QT(t,t._uninitializedComponentsProvider._online)):(ye(uo,"Using default OnlineComponentProvider"),await QT(t,new q_))),t._onlineComponents}function BH(t){return WP(t).then(e=>e.syncEngine)}async function FH(t){const e=await WP(t),n=e.eventManager;return n.onListen=EH.bind(null,e.syncEngine),n.onUnlisten=AH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CH.bind(null,e.syncEngine),n}function HH(t,e,n={}){const s=new Ya;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,d,h){const m=new UH({next:v=>{m.Nu(),o.enqueueAndForget(()=>gH(i,g));const y=v.docs.has(c);!y&&v.fromCache?h.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&d&&d.source==="server"?h.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new _H(lw(c.path),m,{includeMetadataChanges:!0,qa:!0});return pH(i,g)}(await FH(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firestore.googleapis.com",JT=!0;class eN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZP,this.ssl=JT}else this.host=e.host,this.ssl=e.ssl??JT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vF)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KP(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nw{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new H8;switch(s.type){case"firstParty":return new W8(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=XT.get(n);s&&(ye("ComponentProvider","Removing Datastore"),XT.delete(n),s.terminate())}(this),Promise.resolve()}}function $H(t,e,n,s={}){t=Ih(t,Nw);const r=mo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;r&&(Vb(`https://${c}`),zb("Firestore",!0)),i.host!==ZP&&i.host!==c&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...i,host:c,ssl:r,emulatorOptions:s};if(!ll(d,o)&&(t._setSettings(d),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=Cn.MOCK_USER;else{h=ZV(s.mockUserToken,t._app?.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Cn(g)}t._authCredentials=new $8(new zj(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aw(this.firestore,e,this._query)}}class fn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_f(n,fn._jsonSchema))return new fn(e,s||null,new Te(jt.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Kt("string",fn._jsonSchemaVersion),referencePath:Kt("string")};class Vh extends Aw{constructor(e,n,s){super(e,n,lw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Te(e))}withConverter(e){return new Vh(this.firestore,e,this._path)}}function tN(t,e,...n){if(t=wn(t),arguments.length===1&&(e=tw.newId()),J8("doc","path",e),t instanceof Nw){const s=jt.fromString(e,...n);return mT(s),new fn(t,null,new Te(s))}{if(!(t instanceof fn||t instanceof Vh))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(jt.fromString(e,...n));return mT(s),new fn(t.firestore,t instanceof Vh?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="AsyncQueue";class sN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PP(this,"async_queue_retry"),this._c=()=>{const s=Ky();s&&ye(nN,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ya;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mu(e))throw e;ye(nN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ra("INTERNAL UNHANDLED ERROR: ",rN(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=bw.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&Re(47125,{Pc:rN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cw extends Nw{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new sN,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sN(e),this._firestoreClient=void 0,await e}}}function qH(t,e){const n=typeof t=="object"?t:Hb(),s=typeof t=="string"?t:tg,r=tv(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=GR("firestore");i&&$H(r,...i)}return r}function YP(t){if(t._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GH(t),t._firestoreClient}function GH(t){const e=t._freezeSettings(),n=function(r,i,o,c){return new dB(r,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KP(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new VH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(Sn.fromBase64String(e))}catch(n){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Js._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_f(e,Js._jsonSchema))return Js.fromBase64String(e.bytes)}}Js._jsonSchemaVersion="firestore/bytes/1.0",Js._jsonSchema={type:Kt("string",Js._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(_f(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Kt("string",si._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_f(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ri(e.vectorValues);throw new Se(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Kt("string",ri._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=/^__.*__$/;class KH{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new xf(e,this.data,n,this.fieldTransforms)}}function XP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:t})}}class jw{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XP(this.Ac)&&WH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZH{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||mv(e)}Cc(e,n,s,r=!1){return new jw({Ac:e,methodName:n,Dc:s,path:_n.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YH(t){const e=t._freezeSettings(),n=mv(t._databaseId);return new ZH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QH(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);nI("Data must be an object, but it was:",o,s);const c=eI(s,o);let d,h;if(i.merge)d=new Sr(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=XH(e,g,n);if(!o.contains(v))throw new Se(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);e$(m,v)||m.push(v)}d=new Sr(m),h=o.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=o.fieldTransforms;return new KH(new Xs(c),d,h)}function JP(t,e){if(tI(t=wn(t)))return nI("Unsupported field value:",e,t),eI(t,e);if(t instanceof QP)return function(s,r){if(!XP(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const c of s){let d=JP(c,r.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OB(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=St.fromDate(s);return{timestampValue:og(r.serializer,i)}}if(s instanceof St){const i=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:og(r.serializer,i)}}if(s instanceof si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Js)return{bytesValue:xP(r.serializer,s._byteString)};if(s instanceof fn){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hw(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof ri)return function(o,c){return{mapValue:{fields:{[Zj]:{stringValue:Yj},[ng]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return cw(c.serializer,h)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${nw(s)}`)}(t,e)}function eI(t,e){const n={};return Hj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(s,r)=>{const i=JP(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function tI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof si||t instanceof Js||t instanceof fn||t instanceof QP||t instanceof ri)}function nI(t,e,n){if(!tI(n)||!Bj(n)){const s=nw(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function XH(t,e,n){if((e=wn(e))instanceof Rw)return e._internalPath;if(typeof e=="string")return sI(t,e);throw dg("Field path arguments must be of type string or ",t,!1,void 0,n)}const JH=new RegExp("[~\\*/\\[\\]]");function sI(t,e,n){if(e.search(JH)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rw(...e.split("."))._internalPath}catch{throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dg(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||o)&&(d+=" (found",i&&(d+=` in field ${s}`),o&&(d+=` in document ${r}`),d+=")"),new Se(ie.INVALID_ARGUMENT,c+t+d)}function e$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t$ extends rI{data(){return super.data()}}function iI(t,e){return typeof e=="string"?sI(t,e):e instanceof Rw?e._internalPath:e._delegate._internalPath}class n${convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bl(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){const n=e.fields?.[ng].arrayValue?.values?.map(s=>Bt(s.doubleValue));return new ri(n)}convertGeoPoint(e){return new si(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ov(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mh(e));default:return null}}convertTimestamp(e){const n=ao(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=jt.fromString(e);ut(NP(s),9688,{name:e});const r=new Oh(s.get(1),s.get(3)),i=new Te(s.popFirst(5));return r.isEqual(n)||ra(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Id{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends rI{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(iI("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:Kt("string",Jo._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class ip extends Jo{data(e={}){return super.data(e)}}class sh{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Id(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ip(this._firestore,this._userDataWriter,s.key,s,new Id(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{const d=new ip(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Id(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new ip(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Id(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,m=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:r$(c.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){t=Ih(t,fn);const e=Ih(t.firestore,Cw);return HH(YP(e),t._key).then(n=>l$(e,t,n))}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:Kt("string",sh._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class a$ extends n${constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Yy(t,e,n){t=Ih(t,fn);const s=Ih(t.firestore,Cw),r=s$(t.converter,e,n);return o$(s,[QH(YH(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Zi.none())])}function o$(t,e){return function(s,r){const i=new Ya;return s.asyncQueue.enqueueAndForget(async()=>RH(await BH(s),r,i)),i.promise}(YP(t),e)}function l$(t,e,n){const s=n.docs.get(e._key),r=new a$(t);return new Jo(t,r,e._key,s,new Id(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Iu=r})(ju),cl(new ro("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),c=new Cw(new q8(s.getProvider("auth-internal")),new K8(o,s.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(h.options.projectId,m)}(o,r),o);return i={useFetchStreams:n,...i},c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),Jr(uT,dT,e),Jr(uT,dT,"esm2020")})();var c$="firebase",u$="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(c$,u$,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="type.googleapis.com/google.protobuf.Int64Value",h$="type.googleapis.com/google.protobuf.UInt64Value";function aI(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function hg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>hg(e));if(typeof t=="function"||typeof t=="object")return aI(t,e=>hg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function hu(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case d$:case h$:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>hu(e)):typeof t=="function"||typeof t=="object"?aI(t,e=>hu(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let tr=class oI extends hi{constructor(e,n,s){super(`${Pw}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,oI.prototype)}};function f$(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fg(t,e){let n=f$(t),s=n,r;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!iN[o])return new tr("internal","internal");n=iN[o],s=o}const c=i.message;typeof c=="string"&&(s=c),r=i.details,r!==void 0&&(r=hu(r))}}catch{}return n==="ok"?null:new tr(n,s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,s,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,rs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||s.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r?.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="us-central1",p$=/^data: (.*?)(?:\n|$)/;function g$(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new tr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class v${constructor(e,n,s,r,i=G_,o=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new m$(e,n,s,r),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(i);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=G_}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function y$(t,e,n){const s=mo(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Vb(t.emulatorOrigin+"/backends"),zb("Functions",!0))}function _$(t,e,n){const s=r=>b$(t,e,r,{});return s.stream=(r,i)=>S$(t,e,r,i),s}function lI(t){return t.emulatorOrigin&&mo(t.emulatorOrigin)?"include":void 0}async function x$(t,e,n,s,r){n["Content-Type"]="application/json";let i;try{i=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:lI(r)})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}async function cI(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function b$(t,e,n,s){const r=t._url(e);return w$(t,r,n,s)}async function w$(t,e,n,s){n=hg(n);const r={data:n},i=await cI(t,s),o=s.timeout||7e4,c=g$(o),d=await Promise.race([x$(e,r,i,t.fetchImpl,t),c.promise,t.cancelAllRequests]);if(c.cancel(),!d)throw new tr("cancelled","Firebase Functions instance was deleted.");const h=fg(d.status,d.json);if(h)throw h;if(!d.json)throw new tr("internal","Response is not valid JSON object.");let m=d.json.data;if(typeof m>"u"&&(m=d.json.result),typeof m>"u")throw new tr("internal","Response is missing data field.");return{data:hu(m)}}function S$(t,e,n,s){const r=t._url(e);return E$(t,r,n,s||{})}async function E$(t,e,n,s){n=hg(n);const r={data:n},i=await cI(t,s);i["Content-Type"]="application/json",i.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(r),headers:i,signal:s?.signal,credentials:lI(t)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const A=new tr("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const y=fg(0,null);return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}let c,d;const h=new Promise((v,y)=>{c=v,d=y});s?.signal?.addEventListener("abort",()=>{const v=new tr("cancelled","Request was cancelled.");d(v)});const m=o.body.getReader(),g=T$(m,c,d,s?.signal);return{stream:{[Symbol.asyncIterator](){const v=g.getReader();return{async next(){const{value:y,done:A}=await v.read();return{value:y,done:A}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:h}}function T$(t,e,n,s){const r=(o,c)=>{const d=o.match(p$);if(!d)return;const h=d[1];try{const m=JSON.parse(h);if("result"in m){e(hu(m.result));return}if("message"in m){c.enqueue(hu(m.message));return}if("error"in m){const g=fg(0,m);c.error(g),n(g);return}}catch(m){if(m instanceof tr){c.error(m),n(m);return}}},i=new TextDecoder;return new ReadableStream({start(o){let c="";return d();async function d(){if(s?.aborted){const h=new tr("cancelled","Request was cancelled");return o.error(h),n(h),Promise.resolve()}try{const{value:h,done:m}=await t.read();if(m){c.trim()&&r(c.trim(),o),o.close();return}if(s?.aborted){const v=new tr("cancelled","Request was cancelled");o.error(v),n(v),await t.cancel();return}c+=i.decode(h,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)v.trim()&&r(v.trim(),o);return d()}catch(h){const m=h instanceof tr?h:fg(0,null);o.error(m),n(m)}}},cancel(){return t.cancel()}})}const aN="@firebase/functions",oN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="auth-internal",A$="app-check-internal",C$="messaging-internal";function R$(t){const e=(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),i=n.getProvider(N$),o=n.getProvider(C$),c=n.getProvider(A$);return new v$(r,i,o,c,s)};cl(new ro(Pw,e,"PUBLIC").setMultipleInstances(!0)),Jr(aN,oN,t),Jr(aN,oN,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t=Hb(),e=G_){const s=tv(wn(t),Pw).getImmediate({identifier:e}),r=GR("functions");return r&&P$(s,...r),s}function P$(t,e,n){y$(wn(t),e,n)}function uI(t,e,n){return _$(wn(t),e)}R$();let ko,lN,cN,uN;const Iw=new Ui;Iw.addScope("email");Iw.addScope("profile");const kw=()=>{if(!ko){const t={apiKey:"AIzaSyBiqwcZgRvNBq3liSY7fHYnfEIgXLSkEys",authDomain:"jalrakshak-f1d6a.firebaseapp.com",projectId:"jalrakshak-f1d6a",storageBucket:"jalrakshak-f1d6a.firebasestorage.app",messagingSenderId:"170302508520",appId:"1:170302508520:web:f6a229ce2c7e368bbd285d",measurementId:"G-LY5SLJLZT4"};zE().length?ko=zE()[0]:ko=QR(t),lN=qH(ko),cN=j$(ko),uN=B8(ko)}return{app:ko,db:lN,functions:cN,auth:uN}},I$=()=>{const{functions:t}=kw();return uI(t,"getSafeRoute")},k$=()=>{const{functions:t}=kw();return uI(t,"getNearestShelter")},dI=x.createContext(void 0),Du=()=>{const t=x.useContext(dI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},M$=({children:t})=>{const[e,n]=x.useState(null),[s,r]=x.useState(null),[i,o]=x.useState(!0),{auth:c,db:d}=kw(),h=async(E,T={})=>{if(!E)return;const N=tN(d,"users",E.uid),O=await i$(N);if(O.exists()){const $={...O.data(),lastLogin:new Date};await Yy(N,$,{merge:!0}),r($)}else{const{displayName:F,email:$,photoURL:j}=E,P={uid:E.uid,email:$,displayName:F||"",photoURL:j||void 0,role:"user",preferences:{alertTypes:["flood_warning","evacuation_alert","weather_update"],notificationMethods:["push","email"],emergencyContacts:[]},joinedAt:new Date,lastLogin:new Date,...T};try{await Yy(N,P),r(P)}catch(D){console.error("Error creating user profile:",D),xe.error("Failed to create user profile")}}},m=async(E,T)=>{try{o(!0);const N=await E7(c,E,T);await h(N.user),xe.success("Welcome back!")}catch(N){throw console.error("Login error:",N),xe.error(N.message||"Failed to login"),N}finally{o(!1)}},g=async(E,T,N)=>{try{o(!0);const O=await S7(c,E,T);await N7(O.user,{displayName:N}),await h(O.user,{displayName:N}),xe.success("Account created successfully!")}catch(O){throw console.error("Registration error:",O),xe.error(O.message||"Failed to create account"),O}finally{o(!1)}},v=async()=>{try{o(!0);const E=await Y7(c,Iw);await h(E.user),xe.success("Successfully signed in with Google!")}catch(E){throw console.error("Google login error:",E),xe.error(E.message||"Failed to sign in with Google"),E}finally{o(!1)}},y=async()=>{try{await j7(c),r(null),xe.success("Logged out successfully")}catch(E){console.error("Logout error:",E),xe.error("Failed to logout")}},A=async E=>{try{await w7(c,E),xe.success("Password reset email sent!")}catch(T){throw console.error("Password reset error:",T),xe.error(T.message||"Failed to send password reset email"),T}},w=async E=>{if(!(!e||!s))try{const T=tN(d,"users",e.uid),N={...s,...E};await Yy(T,N,{merge:!0}),r(N),xe.success("Profile updated successfully!")}catch(T){throw console.error("Profile update error:",T),xe.error("Failed to update profile"),T}};x.useEffect(()=>R7(c,async T=>{if(console.log("Auth state changed:",T?"User logged in":"User logged out"),n(T),T)try{await h(T)}catch(N){console.error("Error creating user profile:",N)}else r(null);o(!1)}),[c,d]);const R={currentUser:e,userProfile:s,login:m,register:g,loginWithGoogle:v,logout:y,resetPassword:A,updateUserProfile:w,loading:i};return l.jsx(dI.Provider,{value:R,children:t})},O$="modulepreload",D$=function(t){return"/"+t},dN={},Ef=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=Promise.allSettled(n.map(d=>{if(d=D$(d),d in dN)return;dN[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":O$,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},L$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ef(async()=>{const{default:s}=await Promise.resolve().then(()=>Lu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Mw extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class U$ extends Mw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hN extends Mw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fN extends Mw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var W_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(W_||(W_={}));var V$=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class z${constructor(e,{headers:n={},customFetch:s,region:r=W_.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=L$(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return V$(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${e}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",m=o):typeof o=="string"?(c["Content-Type"]="text/plain",m=o):typeof FormData<"u"&&o instanceof FormData?m=o:(c["Content-Type"]="application/json",m=JSON.stringify(o)));const g=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:m}).catch(w=>{throw new U$(w)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new hN(g);if(!g.ok)throw new fN(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),A;return y==="application/json"?A=yield g.json():y==="application/octet-stream"?A=yield g.blob():y==="text/event-stream"?A=g:y==="multipart/form-data"?A=yield g.formData():A=yield g.text(),{data:A,error:null,response:g}}catch(r){return{data:null,error:r,response:r instanceof fN||r instanceof hN?r.context:void 0}}})}}var ss={},Ow={},vv={},Tf={},yv={},_v={},B$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fu=B$();const F$=fu.fetch,hI=fu.fetch.bind(fu),fI=fu.Headers,H$=fu.Request,$$=fu.Response,Lu=Object.freeze(Object.defineProperty({__proto__:null,Headers:fI,Request:H$,Response:$$,default:hI,fetch:F$},Symbol.toStringTag,{value:"Module"})),q$=cL(Lu);var xv={};Object.defineProperty(xv,"__esModule",{value:!0});let G$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xv.default=G$;var mI=ks&&ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_v,"__esModule",{value:!0});const W$=mI(q$),K$=mI(xv);let Z$=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=W$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,c,d,h;let m=null,g=null,v=null,y=i.status,A=i.statusText;if(i.ok){if(this.method!=="HEAD"){const T=await i.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?g=T:g=JSON.parse(T))}const R=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),E=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");R&&E&&E.length>1&&(v=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,A="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const R=await i.text();try{m=JSON.parse(R),Array.isArray(m)&&i.status===404&&(g=[],m=null,y=200,A="OK")}catch{i.status===404&&R===""?(y=204,A="No Content"):m={message:R}}if(m&&this.isMaybeSingle&&(!((h=m?.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,y=200,A="OK"),m&&this.shouldThrowOnError)throw new K$.default(m)}return{error:m,data:g,count:v,status:y,statusText:A}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,c,d;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(c=i?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=i?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};_v.default=Z$;var Y$=ks&&ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yv,"__esModule",{value:!0});const Q$=Y$(_v);let X$=class extends Q$.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var c;const d=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${d};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};yv.default=X$;var J$=ks&&ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tf,"__esModule",{value:!0});const eq=J$(yv);let tq=class extends eq.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Tf.default=tq;var nq=ks&&ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vv,"__esModule",{value:!0});const wd=nq(Tf);let sq=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=r}select(e,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new wd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var r;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(o.length>0){const c=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new wd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new wd.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var s;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new wd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new wd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};vv.default=sq;var pI=ks&&ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ow,"__esModule",{value:!0});const rq=pI(vv),iq=pI(Tf);let aq=class gI{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new rq.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gI(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:i}={}){var o;let c;const d=new URL(`${this.url}/rpc/${e}`);let h;s||r?(c=s?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{d.searchParams.append(g,v)})):(c="POST",h=n);const m=new Headers(this.headers);return i&&m.set("Prefer",`count=${i}`),new iq.default({method:c,url:d,headers:m,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ow.default=aq;var Uu=ks&&ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});ss.PostgrestError=ss.PostgrestBuilder=ss.PostgrestTransformBuilder=ss.PostgrestFilterBuilder=ss.PostgrestQueryBuilder=ss.PostgrestClient=void 0;const vI=Uu(Ow);ss.PostgrestClient=vI.default;const yI=Uu(vv);ss.PostgrestQueryBuilder=yI.default;const _I=Uu(Tf);ss.PostgrestFilterBuilder=_I.default;const xI=Uu(yv);ss.PostgrestTransformBuilder=xI.default;const bI=Uu(_v);ss.PostgrestBuilder=bI.default;const wI=Uu(xv);ss.PostgrestError=wI.default;var oq=ss.default={PostgrestClient:vI.default,PostgrestQueryBuilder:yI.default,PostgrestFilterBuilder:_I.default,PostgrestTransformBuilder:xI.default,PostgrestBuilder:bI.default,PostgrestError:wI.default};const{PostgrestClient:lq,PostgrestQueryBuilder:wJ,PostgrestFilterBuilder:SJ,PostgrestTransformBuilder:EJ,PostgrestBuilder:TJ,PostgrestError:NJ}=oq;class cq{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const uq="2.15.5",dq=`realtime-js/${uq}`,hq="1.0.0",K_=1e4,fq=1e3,mq=100;var rh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(rh||(rh={}));var Xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xt||(Xt={}));var br;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(br||(br={}));var Z_;(function(t){t.websocket="websocket"})(Z_||(Z_={}));var Ho;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ho||(Ho={}));class pq{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=s.decode(e.slice(o,o+r));o=o+r;const d=s.decode(e.slice(o,o+i));o=o+i;const h=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class SI{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xt||(xt={}));const mN=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=gq(o,t,e,r),i),{})},gq=(t,e,n,s)=>{const r=e.find(c=>c.name===t),i=r?.type,o=n[t];return i&&!s.includes(i)?EI(i,o):Y_(o)},EI=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xq(e,n)}switch(t){case xt.bool:return vq(e);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return yq(e);case xt.json:case xt.jsonb:return _q(e);case xt.timestamp:return bq(e);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return Y_(e);default:return Y_(e)}},Y_=t=>t,vq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_q=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xq=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>EI(e,c))}return t},bq=t=>typeof t=="string"?t.replace(" ","T"):t,TI=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Qy{constructor(e,n,s={},r=K_){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pN||(pN={}));class ih{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ih.syncState(this.state,r,i,o),this.pendingDiffs.forEach(d=>{this.state=ih.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ih.syncDiff(this.state,r,i,o),c())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),c={},d={};return this.map(i,(h,m)=>{o[h]||(d[h]=m)}),this.map(o,(h,m)=>{const g=i[h];if(g){const v=m.map(R=>R.presence_ref),y=g.map(R=>R.presence_ref),A=m.filter(R=>y.indexOf(R.presence_ref)<0),w=g.filter(R=>v.indexOf(R.presence_ref)<0);A.length>0&&(c[h]=A),w.length>0&&(d[h]=w)}else c[h]=m}),this.syncDiff(i,{joins:c,leaves:d},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(c,d)=>{var h;const m=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(d),m.length>0){const g=e[c].map(y=>y.presence_ref),v=m.filter(y=>g.indexOf(y.presence_ref)<0);e[c].unshift(...v)}s(c,m,d)}),this.map(o,(c,d)=>{let h=e[c];if(!h)return;const m=d.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),e[c]=h,r(c,h,d),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gN||(gN={}));var ah;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ah||(ah={}));var Oi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Oi||(Oi={}));class Dw{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qy(this,br.join,this.params,this.timeout),this.rejoinTimer=new SI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ih(this),this.broadcastEndpointURL=TI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,h=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(y=>y.filter))!==null&&r!==void 0?r:[],m=!!this.bindings[ah.PRESENCE]&&this.bindings[ah.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},v={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Oi.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Oi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var A;if(this.socket.setAuth(),y===void 0){e?.(Oi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,R=(A=w?.length)!==null&&A!==void 0?A:0,E=[];for(let T=0;T<R;T++){const N=w[T],{filter:{event:O,schema:F,table:$,filter:j}}=N,P=y&&y[T];if(P&&P.event===O&&P.schema===F&&P.table===$&&P.filter===j)E.push(Object.assign(Object.assign({},N),{id:P.id}));else{this.unsubscribe(),this.state=Xt.errored,e?.(Oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Oi.SUBSCRIBED);return}}).receive("error",y=>{this.state=Xt.errored,e?.(Oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Xt.joined&&e===ah.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=h.body)===null||r===void 0?void 0:r.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,d;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Qy(this,br.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Qy(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mq){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=br;if(s&&[c,d,h,m].indexOf(o)>=0&&s!==this._joinRef())return;let v=this._onMessage(o,n,s);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(y=>{var A,w,R;return((A=y.filter)===null||A===void 0?void 0:A.event)==="*"||((R=(w=y.filter)===null||w===void 0?void 0:w.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===o}).map(y=>y.callback(v,s)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var A,w,R,E,T,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const O=y.id,F=(A=y.filter)===null||A===void 0?void 0:A.event;return O&&((w=n.ids)===null||w===void 0?void 0:w.includes(O))&&(F==="*"||F?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const O=(T=(E=y?.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return O==="*"||O===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof v=="object"&&"ids"in v){const A=v.data,{schema:w,table:R,commit_timestamp:E,type:T,errors:N}=A;v=Object.assign(Object.assign({},{schema:w,table:R,commit_timestamp:E,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(A))}y.callback(v,s)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Dw.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(br.close,{},e)}_onError(e){this._on(br.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=mN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=mN(e.columns,e.old_record)),n}}const Xy=()=>{},Nm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wq=[1e3,2e3,5e3,1e4],Sq=1e4,Eq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tq{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=K_,this.transport=null,this.heartbeatIntervalMs=Nm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xy,this.ref=0,this.reconnectTimer=null,this.logger=Xy,this.conn=null,this.sendBuffer=[],this.serializer=new pq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>Ef(async()=>{const{default:c}=await Promise.resolve().then(()=>Lu);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Z_.websocket}`,this.httpEndpoint=TI(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cq.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hq}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case rh.connecting:return Ho.Connecting;case rh.open:return Ho.Open;case rh.closing:return Ho.Closing;default:return Ho.Closed}}isConnected(){return this.connectionState()===Ho.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===s);if(r)return r;{const i=new Dw(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fq,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:i,ref:o}=n,c=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${s} ${r} ${c}`.trim(),i),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(r,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(br.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Eq],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:dq};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new SI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,i,o,c,d,h,m;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:K_,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Nm.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Xy,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:g=>wq[g-1]||Sq,this.encode=(h=e?.encode)!==null&&h!==void 0?h:(g,v)=>v(JSON.stringify(g)),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Lw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Nq extends Lw{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Q_ extends Lw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Aq=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const NI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ef(async()=>{const{default:s}=await Promise.resolve().then(()=>Lu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Cq=()=>Aq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ef(()=>Promise.resolve().then(()=>Lu),void 0)).Response:Response}),X_=t=>{if(Array.isArray(t))return t.map(n=>X_(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=X_(s)}),e},Rq=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Tl=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const Jy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jq=(t,e,n)=>Tl(void 0,void 0,void 0,function*(){const s=yield Cq();t instanceof s&&!n?.noResolveJson?t.json().then(r=>{const i=t.status||500,o=r?.statusCode||i+"";e(new Nq(Jy(r),i,o))}).catch(r=>{e(new Q_(Jy(r),r))}):e(new Q_(Jy(t),t))}),Pq=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!s?r:(Rq(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Nf(t,e,n,s,r,i){return Tl(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,Pq(e,s,r,i)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>jq(d,c,s))})})}function mg(t,e,n,s){return Tl(this,void 0,void 0,function*(){return Nf(t,"GET",e,n,s)})}function Fr(t,e,n,s,r){return Tl(this,void 0,void 0,function*(){return Nf(t,"POST",e,s,r,n)})}function J_(t,e,n,s,r){return Tl(this,void 0,void 0,function*(){return Nf(t,"PUT",e,s,r,n)})}function Iq(t,e,n,s){return Tl(this,void 0,void 0,function*(){return Nf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function AI(t,e,n,s,r){return Tl(this,void 0,void 0,function*(){return Nf(t,"DELETE",e,s,r,n)})}var Un=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const kq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mq{constructor(e,n={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=NI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,r){return Un(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},vN),r);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=s,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),r?.headers&&(c=Object.assign(Object.assign({},c),r.headers));const h=this._removeEmptyFolders(n),m=this._getFinalPath(h),g=yield(e=="PUT"?J_:Fr)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}})}upload(e,n,s){return Un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return Un(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:vN.upsert},r),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",h.cacheControl)):(d=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const g=yield J_(this.fetch,c.toString(),d,{headers:m});return{data:{path:i,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Jt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return Un(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const i=yield Fr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new Lw("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}update(e,n,s){return Un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Un(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}copy(e,n,s){return Un(this,void 0,void 0,function*(){try{return{data:{path:(yield Fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return Un(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Fr(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return Un(this,void 0,void 0,function*(){try{const r=yield Fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}download(e,n){return Un(this,void 0,void 0,function*(){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield mg(this.fetch,`${this.url}/${r}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Jt(c))return{data:null,error:c};throw c}})}info(e){return Un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield mg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:X_(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}exists(e){return Un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Iq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s)&&s instanceof Q_){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&r.push(d);let h=r.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${h}`)}}}remove(e){return Un(this,void 0,void 0,function*(){try{return{data:yield AI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}list(e,n,s){return Un(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},kq),n),{prefix:e||""});return{data:yield Fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jt(r))return{data:null,error:r};throw r}})}listV2(e,n){return Un(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Fr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Oq="2.12.1",Dq={"X-Client-Info":`storage-js/${Oq}`};var Xl=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class Lq{constructor(e,n={},s,r){this.shouldThrowOnError=!1;const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Dq),n),this.fetch=NI(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Xl(this,void 0,void 0,function*(){try{return{data:yield mg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Jt(e))return{data:null,error:e};throw e}})}getBucket(e){return Xl(this,void 0,void 0,function*(){try{return{data:yield mg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Xl(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Xl(this,void 0,void 0,function*(){try{return{data:yield J_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Xl(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Xl(this,void 0,void 0,function*(){try{return{data:yield AI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jt(n))return{data:null,error:n};throw n}})}}class Uq extends Lq{constructor(e,n={},s,r){super(e,n,s,r)}from(e){return new Mq(this.url,this.headers,e,this.fetch)}}const Vq="2.57.4";let kd="";typeof Deno<"u"?kd="deno":typeof document<"u"?kd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kd="react-native":kd="node";const zq={"X-Client-Info":`supabase-js-${kd}/${Vq}`},Bq={headers:zq},Fq={schema:"public"},Hq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$q={};var qq=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};const Gq=t=>{let e;return t?e=t:typeof fetch>"u"?e=hI:e=fetch,(...n)=>e(...n)},Wq=()=>typeof Headers>"u"?fI:Headers,Kq=(t,e,n)=>{const s=Gq(n),r=Wq();return(i,o)=>qq(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:t;let h=new r(o?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),s(i,Object.assign(Object.assign({},o),{headers:h}))})};var Zq=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};function Yq(t){return t.endsWith("/")?t:t+"/"}function Qq(t,e){var n,s;const{db:r,auth:i,realtime:o,global:c}=t,{db:d,auth:h,realtime:m,global:g}=e,v={db:Object.assign(Object.assign({},d),r),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},m),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Zq(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function Xq(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yq(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const CI="2.71.1",mc=30*1e3,ex=3,e0=ex*mc,Jq="http://localhost:9999",eG="supabase.auth.token",tG={"X-Client-Info":`gotrue-js/${CI}`},tx="X-Supabase-Api-Version",RI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sG=10*60*1e3;class Uw extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rG extends Uw{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function iG(t){return Ue(t)&&t.name==="AuthApiError"}class jI extends Uw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class po extends Uw{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class wa extends po{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aG(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class Am extends po{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cm extends po{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rm extends po{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oG(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class yN extends po{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nx extends po{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function t0(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class _N extends po{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class sx extends po{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xN=` 	
\r=`.split(""),lG=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xN.length;e+=1)t[xN[e].charCodeAt(0)]=-2;for(let e=0;e<pg.length;e+=1)t[pg[e].charCodeAt(0)]=e;return t})();function bN(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(pg[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(pg[s]),e.queuedBits-=6}}function PI(t,e,n){const s=lG[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wN(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{dG(o,s,n)};for(let o=0;o<t.length;o+=1)PI(t.charCodeAt(o),r,i);return e.join("")}function cG(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uG(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}cG(s,e)}}function dG(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function hG(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)PI(t.charCodeAt(r),n,s);return new Uint8Array(e)}function fG(t){const e=[];return uG(t,n=>e.push(n)),new Uint8Array(e)}function mG(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>bN(r,n,s)),bN(null,n,s),e.join("")}function pG(t){return Math.round(Date.now()/1e3)+t}function gG(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const vr=()=>typeof window<"u"&&typeof document<"u",Mo={tested:!1,writable:!1},II=()=>{if(!vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mo.tested)return Mo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mo.tested=!0,Mo.writable=!0}catch{Mo.tested=!0,Mo.writable=!1}return Mo.writable};function vG(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const kI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ef(async()=>{const{default:s}=await Promise.resolve().then(()=>Lu);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},yG=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Oo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xa=async(t,e)=>{await t.removeItem(e)};class bv{constructor(){this.promise=new bv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bv.promiseConstructor=Promise;function n0(t){const e=t.split(".");if(e.length!==3)throw new sx("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!nG.test(e[s]))throw new sx("JWT not in base64url format");return{header:JSON.parse(wN(e[0])),payload:JSON.parse(wN(e[1])),signature:hG(e[2]),raw:{header:e[0],payload:e[1]}}}async function _G(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xG(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function bG(t){return("0"+t.toString(16)).substr(-2)}function wG(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,bG).join("")}async function SG(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function EG(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await SG(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jl(t,e,n=!1){const s=wG();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await pc(t,`${e}-code-verifier`,r);const i=await EG(s);return[i,s===i?"plain":"s256"]}const TG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NG(t){const e=t.headers.get(tx);if(!e||!e.match(TG))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AG(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function CG(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ec(t){if(!RG.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function s0(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SN(t){return JSON.parse(JSON.stringify(t))}var jG=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const Fo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PG=[502,503,504];async function EN(t){var e;if(!yG(t))throw new nx(Fo(t),0);if(PG.includes(t.status))throw new nx(Fo(t),t.status);let n;try{n=await t.json()}catch(i){throw new jI(Fo(i),i)}let s;const r=NG(t);if(r&&r.getTime()>=RI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new _N(Fo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new wa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _N(Fo(n),t.status,n.weak_password.reasons);throw new rG(Fo(n),t.status||500,s)}const IG=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function $e(t,e,n,s){var r;const i=Object.assign({},s?.headers);i[tx]||(i[tx]=RI["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await kG(t,e,n+c,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function kG(t,e,n,s,r,i){const o=IG(e,s,r,i);let c;try{c=await t(n,Object.assign({},o))}catch(d){throw console.error(d),new nx(Fo(d),0)}if(c.ok||await EN(c),s?.noResolveJson)return c;try{return await c.json()}catch(d){await EN(d)}}function Mi(t){var e;let n=null;LG(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pG(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function TN(t){const e=Mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ka(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MG(t){return{data:t,error:null}}function OG(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=jG(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function DG(t){return t}function LG(t){return t.access_token&&t.refresh_token&&t.expires_in}const r0=["global","local","others"];var UG=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class VG{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=kI(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=r0[0]){if(r0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${r0.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ka})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=UG(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:OG,redirectTo:n?.redirectTo})}catch(n){if(Ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ka})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:DG});if(m.error)throw m.error;const g=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(A=>{const w=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);h[`${R}Page`]=w}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ue(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){ec(e);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ka})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ec(e);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ka})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){ec(e);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ka})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ec(e.userId);try{const{data:n,error:s}=await $e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ec(e.userId),ec(e.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}}function NN(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function zG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tc={debug:!!(globalThis&&II()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class BG extends MI{}async function FG(t,e,n){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new BG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}zG();const HG={url:Jq,storageKey:eG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function AN(t,e,n){return await n()}const nc={};class zh{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zh.nextInstanceID,zh.nextInstanceID+=1,this.instanceID>0&&vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},HG),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new VG({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=kI(r.fetch),this.lock=r.lock||AN,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:vr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=FG:this.lock=AN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:II()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NN(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=NN(this.memoryStorage)),vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${CI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=vG(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),vr()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oG(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ue(n)?{error:n}:{error:new jI("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Mi}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:m,password:g,options:v}=e;let y=null,A=null;this.flowType==="pkce"&&([y,A]=await Jl(this.storage,this.storageKey)),i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:A},xform:Mi})}else if("phone"in e){const{phone:m,password:g,options:v}=e;i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(r=v?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Mi})}else throw new Cm("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(Ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:c}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:TN})}else if("phone"in e){const{phone:i,password:o,options:c}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:TN})}else throw new Cm("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Am}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,s,r,i,o,c,d,h,m,g,v,y;let A,w;if("message"in e)A=e.message,w=e.signature;else{const{chain:R,wallet:E,statement:T,options:N}=e;let O;if(vr())if(typeof E=="object")O=E;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))O=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const F=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const $=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),T?{statement:T}:null));let j;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")j=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)j=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)A=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${F.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(r=(s=N?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=N?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(m=N?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const $=await O.signMessage(new TextEncoder().encode(A),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=$}}try{const{data:R,error:E}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:mG(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Mi});if(E)throw E;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new Am}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:E})}catch(R){if(Ue(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(e){const n=await Oo(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Mi});if(await xa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Am}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(Ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,c=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Mi}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Am}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:c,options:d}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Jl(this.storage,this.storageKey));const{error:g}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:d}=e,{data:h,error:m}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new Cm("You must provide either an email or phone number.")}catch(c){if(Ue(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:c}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Mi});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,h=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(r){if(Ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Jl(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:MG})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new wa;const{error:r}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Ue(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:c}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:c}}throw new Cm("You must provide either an email or phone number and a type")}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Oo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<e0:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Oo(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=s0()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,m)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,m))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ka}):await this._useSession(async n=>{var s,r,i;const{data:o,error:c}=n;if(c)throw c;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wa}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:ka})})}catch(n){if(Ue(n))return aG(n)&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new wa;const o=r.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Jl(this.storage,this.storageKey));const{data:h,error:m}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:ka});if(m)throw m;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Ue(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wa;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=n0(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new wa;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!vr())throw new Rm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yN("No code detected.");const{data:T,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:c,expires_at:d,token_type:h}=e;if(!i||!c||!o||!h)throw new Rm("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(c);let v=m+g;d&&(v=parseInt(d));const y=v-m;y*1e3<=mc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const A=v-g;m-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,v,m):m-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,v,m);const{data:w,error:R}=await this._getUser(i);if(R)throw R;const E={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:g,expires_at:v,refresh_token:o,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(s){if(Ue(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Oo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(iG(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=gG(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Jl(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,c,d,h,m;const{data:g,error:v}=i;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(r)throw r;return vr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Ue(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await xG(async r=>(r>0&&await _G(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mi})),(r,i)=>{const o=200*Math.pow(2,r);return i&&t0(i)&&Date.now()+o-s<mc})}catch(s){if(this._debug(n,"error",s),Ue(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),vr()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Oo(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Oo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await pc(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o?.user)!==null&&e!==void 0?e:s0()}else if(r&&!r.user&&!r.user){const o=await Oo(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await xa(this.storage,this.storageKey+"-user"),await pc(this.storage,this.storageKey,r)):r.user=s0()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<e0;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${e0}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),t0(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(r.access_token);!c&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new bv;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new wa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(r,"error",i),Ue(i)){const o={session:null,error:i};return t0(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await pc(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=SN(r);await pc(this.storage,this.storageKey,i)}else{const r=SN(n);await pc(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await xa(this.storage,this.storageKey),await xa(this.storage,this.storageKey+"-code-verifier"),await xa(this.storage,this.storageKey+"-user"),this.userStorage&&await xa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/mc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${mc}ms, refresh threshold is ${ex} ticks`),r<=ex&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof MI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(c.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await $e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:h}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((r=d?.totp)===null||r===void 0)&&r.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:c}=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=e?.factors||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=n0(r.access_token);let c=null;o.aal&&(c=o.aal);let d=c;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const m=o.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(c=>c.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+sG>r)return s;const{data:i,error:o}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:y,error:A}=await this.getSession();if(A||!y.session)return{data:null,error:A};s=y.session.access_token}const{header:r,payload:i,signature:o,raw:{header:c,payload:d}}=n0(s);n?.allowExpired||AG(i.exp);const h=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!h){const{error:y}=await this.getUser(s);if(y)throw y;return{data:{claims:i,header:r,signature:o},error:null}}const m=CG(r.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,o,fG(`${c}.${d}`)))throw new sx("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}}}zh.nextInstanceID=0;const $G=zh;class qG extends $G{constructor(e){super(e)}}var GG=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(m){try{h(s.next(m))}catch(g){o(g)}}function d(m){try{h(s.throw(m))}catch(g){o(g)}}function h(m){m.done?i(m.value):r(m.value).then(c,d)}h((s=s.apply(t,e||[])).next())})};class WG{constructor(e,n,s){var r,i,o;this.supabaseUrl=e,this.supabaseKey=n;const c=Xq(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:Fq,realtime:$q,auth:Object.assign(Object.assign({},Hq),{storageKey:d}),global:Bq},m=Qq(s??{},h);this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,m.global.fetch),this.fetch=Kq(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new lq(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Uq(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new z$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return GG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:o,flowType:c,lock:d,debug:h},m,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qG({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:i,flowType:c,lock:d,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Tq(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KG=(t,e,n)=>new WG(t,e,n);function ZG(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YG="https://yctbapuirfppmqbzgvqo.supabase.co",QG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljdGJhcHVpcmZwcG1xYnpndnFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwMDAyOTcsImV4cCI6MjA3NDU3NjI5N30.HyuVCIlShAfZbEvFrLEk0dXJQKw4Hsu2yYjkjp68C2E",it=KG(YG,QG),XG=async(t,e="images")=>{try{const n=t.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).substring(2)}.${n}`,{data:r,error:i}=await it.storage.from(e).upload(s,t);if(i)return console.error("Error uploading image:",i),null;const{data:o}=it.storage.from(e).getPublicUrl(s);return o.publicUrl}catch(n){return console.error("Error uploading image:",n),null}},JG=async t=>{try{const{data:e,error:n}=await it.from("flood_reports").insert([t]).select().single();return n?(console.error("Error submitting report:",n),null):e}catch(e){return console.error("Error submitting report:",e),null}},eW=async(t,e)=>{try{let n=it.from("location_data").select("*").eq("state",t);e&&(n=n.eq("district",e));const{data:s,error:r}=await n;return r?(console.error("Error fetching location data:",r),[]):s||[]}catch(n){return console.error("Error fetching location data:",n),[]}},OI=async(t,e,n=50)=>{try{const{data:s,error:r}=await it.from("flood_reports").select("*").order("created_at",{ascending:!1}).limit(50);return r?(console.error("Error fetching nearby reports:",r),[]):s?.filter(i=>tW(t,e,i.location.lat,i.location.lng)<=n)||[]}catch(s){return console.error("Error fetching nearby reports:",s),[]}},tW=(t,e,n,s)=>{const i=(n-t)*Math.PI/180,o=(s-e)*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},DI=x.createContext(void 0),Vw=()=>{const t=x.useContext(DI);if(t===void 0)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return t},nW=({children:t})=>{const[e,n]=x.useState(null),[s,r]=x.useState(null),[i,o]=x.useState(!0),[c,d]=x.useState(!1);x.useEffect(()=>{(async()=>{const{data:{session:T},error:N}=await it.auth.getSession();N?console.error("Error getting session:",N):(r(T),n(T?.user??null),T?.user&&await h(T.user)),o(!1)})();const{data:{subscription:E}}=it.auth.onAuthStateChange(async(T,N)=>{r(N),n(N?.user??null),N?.user?await h(N.user):d(!1),o(!1)});return()=>E.unsubscribe()},[]);const h=async R=>{try{console.log("Checking admin status for user:",R.id);const{data:E,error:T}=await it.from("user_profiles").select("role").eq("id",R.id).single();console.log("Admin status check result:",{data:E,error:T}),T?(console.error("Error checking admin status:",T),d(!0)):d(E?.role==="admin")}catch(E){console.error("Error checking admin status:",E),d(!0)}},w={user:e,session:s,signUp:async(R,E,T)=>{try{o(!0),console.log("Starting signup process...");const{data:N,error:O}=await it.auth.signUp({email:R,password:E,options:{data:T}});if(console.log("Signup response:",{data:N,error:O}),O)return console.error("Signup error:",O),xe.error(O.message),{user:null,error:O};if(N.user){console.log("User created, attempting to create profile...");try{const{error:F}=await it.from("user_profiles").insert({id:N.user.id,email:N.user.email,full_name:T?.full_name||"",role:"admin",created_at:new Date().toISOString()});F?(console.error("Error creating user profile:",F),xe.warning("Account created but profile setup failed. Please contact support.")):console.log("User profile created successfully")}catch(F){console.error("Profile creation error:",F),xe.warning("Account created but profile setup failed. Please contact support.")}}return xe.success("Admin account created successfully! Please check your email to verify your account."),{user:N.user,error:null}}catch(N){return console.error("Sign up error:",N),xe.error("Failed to create account"),{user:null,error:N}}finally{o(!1)}},signIn:async(R,E)=>{try{o(!0),console.log("Starting signin process...");const{data:T,error:N}=await it.auth.signInWithPassword({email:R,password:E});return console.log("Signin response:",{data:T,error:N}),N?(console.error("Signin error:",N),xe.error(N.message),{user:null,error:N}):(console.log("Signin successful, user:",T.user),xe.success("Welcome back, Admin!"),{user:T.user,error:null})}catch(T){return console.error("Sign in error:",T),xe.error("Failed to sign in"),{user:null,error:T}}finally{o(!1)}},signOut:async()=>{try{const{error:R}=await it.auth.signOut();R?xe.error(R.message):xe.success("Logged out successfully")}catch(R){console.error("Sign out error:",R),xe.error("Failed to sign out")}},resetPassword:async R=>{try{const{error:E}=await it.auth.resetPasswordForEmail(R,{redirectTo:`${window.location.origin}/auth/reset-password`});E?xe.error(E.message):xe.success("Password reset email sent!")}catch(E){console.error("Reset password error:",E),xe.error("Failed to send reset email")}},updateProfile:async R=>{try{const{error:E}=await it.from("user_profiles").update(R).eq("id",e?.id);E?xe.error(E.message):xe.success("Profile updated successfully!")}catch(E){console.error("Update profile error:",E),xe.error("Failed to update profile")}},loading:i,isAdmin:c};return l.jsx(DI.Provider,{value:w,children:t})},CN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,RN=jR,zw=(t,e)=>n=>{var s;if(e?.variants==null)return RN(t,n?.class,n?.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(h=>{const m=n?.[h],g=i?.[h];if(m===null)return null;const v=CN(m)||CN(g);return r[h][v]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,v]=m;return v===void 0||(h[g]=v),h},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,m)=>{let{class:g,className:v,...y}=m;return Object.entries(y).every(A=>{let[w,R]=A;return Array.isArray(R)?R.includes({...i,...c}[w]):{...i,...c}[w]===R})?[...h,g,v]:h},[]);return RN(t,o,d,n?.class,n?.className)},sW=zw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=x.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const o=s?T3:"button";return l.jsx(o,{className:Ee(sW({variant:e,size:n,className:t})),ref:i,...r})});ae.displayName="Button";const rW=zw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:t,variant:e,...n}){return l.jsx("div",{className:Ee(rW({variant:e}),t),...n})}var LI={exports:{}},UI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=x;function iW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aW=typeof Object.is=="function"?Object.is:iW,oW=mu.useState,lW=mu.useEffect,cW=mu.useLayoutEffect,uW=mu.useDebugValue;function dW(t,e){var n=e(),s=oW({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return cW(function(){r.value=n,r.getSnapshot=e,i0(r)&&i({inst:r})},[t,n,e]),lW(function(){return i0(r)&&i({inst:r}),t(function(){i0(r)&&i({inst:r})})},[t]),uW(n),n}function i0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aW(t,n)}catch{return!0}}function hW(t,e){return e()}var fW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hW:dW;UI.useSyncExternalStore=mu.useSyncExternalStore!==void 0?mu.useSyncExternalStore:fW;LI.exports=UI;var mW=LI.exports;function pW(){return mW.useSyncExternalStore(gW,()=>!0,()=>!1)}function gW(){return()=>{}}var Bw="Avatar",[vW,AJ]=us(Bw),[yW,VI]=vW(Bw),zI=x.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[r,i]=x.useState("idle");return l.jsx(yW,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:l.jsx(we.span,{...s,ref:e})})});zI.displayName=Bw;var BI="AvatarImage",FI=x.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...i}=t,o=VI(BI,n),c=_W(s,i),d=dn(h=>{r(h),o.onImageLoadingStatusChange(h)});return Yt(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?l.jsx(we.img,{...i,ref:e,src:s}):null});FI.displayName=BI;var HI="AvatarFallback",$I=x.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...r}=t,i=VI(HI,n),[o,c]=x.useState(s===void 0);return x.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(we.span,{...r,ref:e}):null});$I.displayName=HI;function jN(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _W(t,{referrerPolicy:e,crossOrigin:n}){const s=pW(),r=x.useRef(null),i=s?(r.current||(r.current=new window.Image),r.current):null,[o,c]=x.useState(()=>jN(i,t));return Yt(()=>{c(jN(i,t))},[i,t]),Yt(()=>{const d=g=>()=>{c(g)};if(!i)return;const h=d("loaded"),m=d("error");return i.addEventListener("load",h),i.addEventListener("error",m),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",h),i.removeEventListener("error",m)}},[i,n,e]),o}var qI=zI,GI=FI,WI=$I;const oh=x.forwardRef(({className:t,...e},n)=>l.jsx(qI,{ref:n,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));oh.displayName=qI.displayName;const lh=x.forwardRef(({className:t,...e},n)=>l.jsx(GI,{ref:n,className:Ee("aspect-square h-full w-full",t),...e}));lh.displayName=GI.displayName;const ch=x.forwardRef(({className:t,...e},n)=>l.jsx(WI,{ref:n,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ch.displayName=WI.displayName;function wv(t){const e=t+"CollectionProvider",[n,s]=us(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:R,children:E}=w,T=le.useRef(null),N=le.useRef(new Map).current;return l.jsx(r,{scope:R,itemMap:N,collectionRef:T,children:E})};o.displayName=e;const c=t+"CollectionSlot",d=al(c),h=le.forwardRef((w,R)=>{const{scope:E,children:T}=w,N=i(c,E),O=Le(R,N.collectionRef);return l.jsx(d,{ref:O,children:T})});h.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=al(m),y=le.forwardRef((w,R)=>{const{scope:E,children:T,...N}=w,O=le.useRef(null),F=Le(R,O),$=i(m,E);return le.useEffect(()=>($.itemMap.set(O,{ref:O,...N}),()=>void $.itemMap.delete(O))),l.jsx(v,{[g]:"",ref:F,children:T})});y.displayName=m;function A(w){const R=i(t+"CollectionConsumer",w);return le.useCallback(()=>{const T=R.collectionRef.current;if(!T)return[];const N=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort(($,j)=>N.indexOf($.ref.current)-N.indexOf(j.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:h,ItemSlot:y},A,s]}var xW=x.createContext(void 0);function Vu(t){const e=x.useContext(xW);return t||e||"ltr"}var a0=0;function Fw(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PN()),document.body.insertAdjacentElement("beforeend",t[1]??PN()),a0++,()=>{a0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),a0--}},[])}function PN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var o0="focusScope.autoFocusOnMount",l0="focusScope.autoFocusOnUnmount",IN={bubbles:!1,cancelable:!0},bW="FocusScope",Sv=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=t,[c,d]=x.useState(null),h=dn(r),m=dn(i),g=x.useRef(null),v=Le(e,w=>d(w)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(s){let w=function(N){if(y.paused||!c)return;const O=N.target;c.contains(O)?g.current=O:Sa(g.current,{select:!0})},R=function(N){if(y.paused||!c)return;const O=N.relatedTarget;O!==null&&(c.contains(O)||Sa(g.current,{select:!0}))},E=function(N){if(document.activeElement===document.body)for(const F of N)F.removedNodes.length>0&&Sa(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",R);const T=new MutationObserver(E);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",R),T.disconnect()}}},[s,c,y.paused]),x.useEffect(()=>{if(c){MN.add(y);const w=document.activeElement;if(!c.contains(w)){const E=new CustomEvent(o0,IN);c.addEventListener(o0,h),c.dispatchEvent(E),E.defaultPrevented||(wW(AW(KI(c)),{select:!0}),document.activeElement===w&&Sa(c))}return()=>{c.removeEventListener(o0,h),setTimeout(()=>{const E=new CustomEvent(l0,IN);c.addEventListener(l0,m),c.dispatchEvent(E),E.defaultPrevented||Sa(w??document.body,{select:!0}),c.removeEventListener(l0,m),MN.remove(y)},0)}}},[c,h,m,y]);const A=x.useCallback(w=>{if(!n&&!s||y.paused)return;const R=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(R&&E){const T=w.currentTarget,[N,O]=SW(T);N&&O?!w.shiftKey&&E===O?(w.preventDefault(),n&&Sa(N,{select:!0})):w.shiftKey&&E===N&&(w.preventDefault(),n&&Sa(O,{select:!0})):E===T&&w.preventDefault()}},[n,s,y.paused]);return l.jsx(we.div,{tabIndex:-1,...o,ref:v,onKeyDown:A})});Sv.displayName=bW;function wW(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Sa(s,{select:e}),document.activeElement!==n)return}function SW(t){const e=KI(t),n=kN(e,t),s=kN(e.reverse(),t);return[n,s]}function KI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kN(t,e){for(const n of t)if(!EW(n,{upTo:e}))return n}function EW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TW(t){return t instanceof HTMLInputElement&&"select"in t}function Sa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&TW(t)&&e&&t.select()}}var MN=NW();function NW(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=ON(t,e),t.unshift(e)},remove(e){t=ON(t,e),t[0]?.resume()}}}function ON(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function AW(t){return t.filter(e=>e.tagName!=="A")}var c0="rovingFocusGroup.onEntryFocus",CW={bubbles:!1,cancelable:!0},Af="RovingFocusGroup",[rx,ZI,RW]=wv(Af),[jW,Ev]=us(Af,[RW]),[PW,IW]=jW(Af),YI=x.forwardRef((t,e)=>l.jsx(rx.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(rx.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(kW,{...t,ref:e})})}));YI.displayName=Af;var kW=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=t,v=x.useRef(null),y=Le(e,v),A=Vu(i),[w,R]=so({prop:o,defaultProp:c??null,onChange:d,caller:Af}),[E,T]=x.useState(!1),N=dn(h),O=ZI(n),F=x.useRef(!1),[$,j]=x.useState(0);return x.useEffect(()=>{const P=v.current;if(P)return P.addEventListener(c0,N),()=>P.removeEventListener(c0,N)},[N]),l.jsx(PW,{scope:n,orientation:s,dir:A,loop:r,currentTabStopId:w,onItemFocus:x.useCallback(P=>R(P),[R]),onItemShiftTab:x.useCallback(()=>T(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(P=>P+1),[]),onFocusableItemRemove:x.useCallback(()=>j(P=>P-1),[]),children:l.jsx(we.div,{tabIndex:E||$===0?-1:0,"data-orientation":s,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{F.current=!0}),onFocus:fe(t.onFocus,P=>{const D=!F.current;if(P.target===P.currentTarget&&D&&!E){const I=new CustomEvent(c0,CW);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=O().filter(W=>W.focusable),U=M.find(W=>W.active),z=M.find(W=>W.id===w),me=[U,z,...M].filter(Boolean).map(W=>W.ref.current);JI(me,m)}}F.current=!1}),onBlur:fe(t.onBlur,()=>T(!1))})})}),QI="RovingFocusGroupItem",XI=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:o,...c}=t,d=Qr(),h=i||d,m=IW(QI,n),g=m.currentTabStopId===h,v=ZI(n),{onFocusableItemAdd:y,onFocusableItemRemove:A,currentTabStopId:w}=m;return x.useEffect(()=>{if(s)return y(),()=>A()},[s,y,A]),l.jsx(rx.ItemSlot,{scope:n,id:h,focusable:s,active:r,children:l.jsx(we.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:fe(t.onMouseDown,R=>{s?m.onItemFocus(h):R.preventDefault()}),onFocus:fe(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:fe(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){m.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const E=DW(R,m.orientation,m.dir);if(E!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let N=v().filter(O=>O.focusable).map(O=>O.ref.current);if(E==="last")N.reverse();else if(E==="prev"||E==="next"){E==="prev"&&N.reverse();const O=N.indexOf(R.currentTarget);N=m.loop?LW(N,O+1):N.slice(O+1)}setTimeout(()=>JI(N))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:w!=null}):o})})});XI.displayName=QI;var MW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function DW(t,e,n){const s=OW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return MW[s]}function JI(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function LW(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var ek=YI,tk=XI,UW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sc=new WeakMap,jm=new WeakMap,Pm={},u0=0,nk=function(t){return t&&(t.host||nk(t.parentNode))},VW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=nk(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zW=function(t,e,n,s){var r=VW(e,Array.isArray(t)?t:[t]);Pm[n]||(Pm[n]=new WeakMap);var i=Pm[n],o=[],c=new Set,d=new Set(r),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};r.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))m(v);else try{var y=v.getAttribute(s),A=y!==null&&y!=="false",w=(sc.get(v)||0)+1,R=(i.get(v)||0)+1;sc.set(v,w),i.set(v,R),o.push(v),w===1&&A&&jm.set(v,!0),R===1&&v.setAttribute(n,"true"),A||v.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",v,E)}})};return m(e),c.clear(),u0++,function(){o.forEach(function(g){var v=sc.get(g)-1,y=i.get(g)-1;sc.set(g,v),i.set(g,y),v||(jm.has(g)||g.removeAttribute(s),jm.delete(g)),y||g.removeAttribute(n)}),u0--,u0||(sc=new WeakMap,sc=new WeakMap,jm=new WeakMap,Pm={})}},Hw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=UW(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),zW(s,r,n,"aria-hidden")):function(){return null}},qr=function(){return qr=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qr.apply(this,arguments)};function sk(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function BW(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var ap="right-scroll-bar-position",op="width-before-scroll-bar",FW="with-scroll-bars-hidden",HW="--removed-body-scroll-bar-size";function d0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $W(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var qW=typeof window<"u"?x.useLayoutEffect:x.useEffect,DN=new WeakMap;function GW(t,e){var n=$W(null,function(s){return t.forEach(function(r){return d0(r,s)})});return qW(function(){var s=DN.get(n);if(s){var r=new Set(s),i=new Set(t),o=n.current;r.forEach(function(c){i.has(c)||d0(c,null)}),i.forEach(function(c){r.has(c)||d0(c,o)})}DN.set(n,t)},[t]),n}function WW(t){return t}function KW(t,e){e===void 0&&(e=WW);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,s);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(i),o=n}var d=function(){var m=o;o=[],m.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),n}}}};return r}function ZW(t){t===void 0&&(t={});var e=KW(null);return e.options=qr({async:!0,ssr:!1},t),e}var rk=function(t){var e=t.sideCar,n=sk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return x.createElement(s,qr({},n))};rk.isSideCarExport=!0;function YW(t,e){return t.useMedium(e),rk}var ik=ZW(),h0=function(){},Tv=x.forwardRef(function(t,e){var n=x.useRef(null),s=x.useState({onScrollCapture:h0,onWheelCapture:h0,onTouchMoveCapture:h0}),r=s[0],i=s[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,y=t.noRelative,A=t.noIsolation,w=t.inert,R=t.allowPinchZoom,E=t.as,T=E===void 0?"div":E,N=t.gapMode,O=sk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=v,$=GW([n,e]),j=qr(qr({},O),r);return x.createElement(x.Fragment,null,m&&x.createElement(F,{sideCar:ik,removeScrollBar:h,shards:g,noRelative:y,noIsolation:A,inert:w,setCallbacks:i,allowPinchZoom:!!R,lockRef:n,gapMode:N}),o?x.cloneElement(x.Children.only(c),qr(qr({},j),{ref:$})):x.createElement(T,qr({},j,{className:d,ref:$}),c))});Tv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tv.classNames={fullWidth:op,zeroRight:ap};var QW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QW();return e&&t.setAttribute("nonce",e),t}function JW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=XW())&&(JW(e,n),eK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nK=function(){var t=tK();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ak=function(){var t=nK(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},sK={left:0,top:0,right:0,gap:0},f0=function(t){return parseInt(t||"",10)||0},rK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[f0(n),f0(s),f0(r)]},iK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sK;var e=rK(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},aK=ak(),Hc="data-scroll-locked",oK=function(t,e,n,s){var r=t.left,i=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(FW,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(Hc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ap,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(op,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(ap," .").concat(ap,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(op," .").concat(op,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Hc,`] {
    `).concat(HW,": ").concat(c,`px;
  }
`)},LN=function(){var t=parseInt(document.body.getAttribute(Hc)||"0",10);return isFinite(t)?t:0},lK=function(){x.useEffect(function(){return document.body.setAttribute(Hc,(LN()+1).toString()),function(){var t=LN()-1;t<=0?document.body.removeAttribute(Hc):document.body.setAttribute(Hc,t.toString())}},[])},cK=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;lK();var i=x.useMemo(function(){return iK(r)},[r]);return x.createElement(aK,{styles:oK(i,!e,r,n?"":"!important")})},ix=!1;if(typeof window<"u")try{var Im=Object.defineProperty({},"passive",{get:function(){return ix=!0,!0}});window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{ix=!1}var rc=ix?{passive:!1}:!1,uK=function(t){return t.tagName==="TEXTAREA"},ok=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uK(t)&&n[e]==="visible")},dK=function(t){return ok(t,"overflowY")},hK=function(t){return ok(t,"overflowX")},UN=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=lk(t,s);if(r){var i=ck(t,s),o=i[1],c=i[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},fK=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},mK=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},lk=function(t,e){return t==="v"?dK(e):hK(e)},ck=function(t,e){return t==="v"?fK(e):mK(e)},pK=function(t,e){return t==="h"&&e==="rtl"?-1:1},gK=function(t,e,n,s,r){var i=pK(t,window.getComputedStyle(e).direction),o=i*s,c=n.target,d=e.contains(c),h=!1,m=o>0,g=0,v=0;do{if(!c)break;var y=ck(t,c),A=y[0],w=y[1],R=y[2],E=w-R-i*A;(A||E)&&lk(t,c)&&(g+=E,v+=A);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(h=!0),h},km=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},VN=function(t){return[t.deltaX,t.deltaY]},zN=function(t){return t&&"current"in t?t.current:t},vK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_K=0,ic=[];function xK(t){var e=x.useRef([]),n=x.useRef([0,0]),s=x.useRef(),r=x.useState(_K++)[0],i=x.useState(ak)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var w=BW([t.lockRef.current],(t.shards||[]).map(zN),!0).filter(Boolean);return w.forEach(function(R){return R.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var c=x.useCallback(function(w,R){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var E=km(w),T=n.current,N="deltaX"in w?w.deltaX:T[0]-E[0],O="deltaY"in w?w.deltaY:T[1]-E[1],F,$=w.target,j=Math.abs(N)>Math.abs(O)?"h":"v";if("touches"in w&&j==="h"&&$.type==="range")return!1;var P=UN(j,$);if(!P)return!0;if(P?F=j:(F=j==="v"?"h":"v",P=UN(j,$)),!P)return!1;if(!s.current&&"changedTouches"in w&&(N||O)&&(s.current=F),!F)return!0;var D=s.current||F;return gK(D,R,w,D==="h"?N:O)},[]),d=x.useCallback(function(w){var R=w;if(!(!ic.length||ic[ic.length-1]!==i)){var E="deltaY"in R?VN(R):km(R),T=e.current.filter(function(F){return F.name===R.type&&(F.target===R.target||R.target===F.shadowParent)&&vK(F.delta,E)})[0];if(T&&T.should){R.cancelable&&R.preventDefault();return}if(!T){var N=(o.current.shards||[]).map(zN).filter(Boolean).filter(function(F){return F.contains(R.target)}),O=N.length>0?c(R,N[0]):!o.current.noIsolation;O&&R.cancelable&&R.preventDefault()}}},[]),h=x.useCallback(function(w,R,E,T){var N={name:w,delta:R,target:E,should:T,shadowParent:bK(E)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(O){return O!==N})},1)},[]),m=x.useCallback(function(w){n.current=km(w),s.current=void 0},[]),g=x.useCallback(function(w){h(w.type,VN(w),w.target,c(w,t.lockRef.current))},[]),v=x.useCallback(function(w){h(w.type,km(w),w.target,c(w,t.lockRef.current))},[]);x.useEffect(function(){return ic.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",d,rc),document.addEventListener("touchmove",d,rc),document.addEventListener("touchstart",m,rc),function(){ic=ic.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,rc),document.removeEventListener("touchmove",d,rc),document.removeEventListener("touchstart",m,rc)}},[]);var y=t.removeScrollBar,A=t.inert;return x.createElement(x.Fragment,null,A?x.createElement(i,{styles:yK(r)}):null,y?x.createElement(cK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wK=YW(ik,xK);var Nv=x.forwardRef(function(t,e){return x.createElement(Tv,qr({},t,{ref:e,sideCar:wK}))});Nv.classNames=Tv.classNames;var ax=["Enter"," "],SK=["ArrowDown","PageUp","Home"],uk=["ArrowUp","PageDown","End"],EK=[...SK,...uk],TK={ltr:[...ax,"ArrowRight"],rtl:[...ax,"ArrowLeft"]},NK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cf="Menu",[Bh,AK,CK]=wv(Cf),[Nl,dk]=us(Cf,[CK,Cu,Ev]),Av=Cu(),hk=Ev(),[RK,Al]=Nl(Cf),[jK,Rf]=Nl(Cf),fk=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:i,modal:o=!0}=t,c=Av(e),[d,h]=x.useState(null),m=x.useRef(!1),g=dn(i),v=Vu(r);return x.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),l.jsx(yR,{...c,children:l.jsx(RK,{scope:e,open:n,onOpenChange:g,content:d,onContentChange:h,children:l.jsx(jK,{scope:e,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:o,children:s})})})};fk.displayName=Cf;var PK="MenuAnchor",$w=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Av(n);return l.jsx(Ib,{...r,...s,ref:e})});$w.displayName=PK;var qw="MenuPortal",[IK,mk]=Nl(qw,{forceMount:void 0}),pk=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,i=Al(qw,e);return l.jsx(IK,{scope:e,forceMount:n,children:l.jsx(ds,{present:n||i.open,children:l.jsx(Zg,{asChild:!0,container:r,children:s})})})};pk.displayName=qw;var rr="MenuContent",[kK,Gw]=Nl(rr),gk=x.forwardRef((t,e)=>{const n=mk(rr,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Al(rr,t.__scopeMenu),o=Rf(rr,t.__scopeMenu);return l.jsx(Bh.Provider,{scope:t.__scopeMenu,children:l.jsx(ds,{present:s||i.open,children:l.jsx(Bh.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(MK,{...r,ref:e}):l.jsx(OK,{...r,ref:e})})})})}),MK=x.forwardRef((t,e)=>{const n=Al(rr,t.__scopeMenu),s=x.useRef(null),r=Le(e,s);return x.useEffect(()=>{const i=s.current;if(i)return Hw(i)},[]),l.jsx(Ww,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),OK=x.forwardRef((t,e)=>{const n=Al(rr,t.__scopeMenu);return l.jsx(Ww,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),DK=al("MenuContent.ScrollLock"),Ww=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:y,disableOutsideScroll:A,...w}=t,R=Al(rr,n),E=Rf(rr,n),T=Av(n),N=hk(n),O=AK(n),[F,$]=x.useState(null),j=x.useRef(null),P=Le(e,j,R.onContentChange),D=x.useRef(0),I=x.useRef(""),M=x.useRef(0),U=x.useRef(null),z=x.useRef("right"),ne=x.useRef(0),me=A?Nv:x.Fragment,W=A?{as:DK,allowPinchZoom:!0}:void 0,ee=q=>{const X=I.current+q,ce=O().filter(re=>!re.disabled),G=document.activeElement,ue=ce.find(re=>re.ref.current===G)?.textValue,oe=ce.map(re=>re.textValue),he=KK(oe,X,ue),pe=ce.find(re=>re.textValue===he)?.ref.current;(function re(Me){I.current=Me,window.clearTimeout(D.current),Me!==""&&(D.current=window.setTimeout(()=>re(""),1e3))})(X),pe&&setTimeout(()=>pe.focus())};x.useEffect(()=>()=>window.clearTimeout(D.current),[]),Fw();const B=x.useCallback(q=>z.current===U.current?.side&&YK(q,U.current?.area),[]);return l.jsx(kK,{scope:n,searchRef:I,onItemEnter:x.useCallback(q=>{B(q)&&q.preventDefault()},[B]),onItemLeave:x.useCallback(q=>{B(q)||(j.current?.focus(),$(null))},[B]),onTriggerLeave:x.useCallback(q=>{B(q)&&q.preventDefault()},[B]),pointerGraceTimerRef:M,onPointerGraceIntentChange:x.useCallback(q=>{U.current=q},[]),children:l.jsx(me,{...W,children:l.jsx(Sv,{asChild:!0,trapped:r,onMountAutoFocus:fe(i,q=>{q.preventDefault(),j.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(df,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:y,children:l.jsx(ek,{asChild:!0,...N,dir:E.dir,orientation:"vertical",loop:s,currentTabStopId:F,onCurrentTabStopIdChange:$,onEntryFocus:fe(d,q=>{E.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(kb,{role:"menu","aria-orientation":"vertical","data-state":Ik(R.open),"data-radix-menu-content":"",dir:E.dir,...T,...w,ref:P,style:{outline:"none",...w.style},onKeyDown:fe(w.onKeyDown,q=>{const ce=q.target.closest("[data-radix-menu-content]")===q.currentTarget,G=q.ctrlKey||q.altKey||q.metaKey,ue=q.key.length===1;ce&&(q.key==="Tab"&&q.preventDefault(),!G&&ue&&ee(q.key));const oe=j.current;if(q.target!==oe||!EK.includes(q.key))return;q.preventDefault();const pe=O().filter(re=>!re.disabled).map(re=>re.ref.current);uk.includes(q.key)&&pe.reverse(),GK(pe)}),onBlur:fe(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(D.current),I.current="")}),onPointerMove:fe(t.onPointerMove,Fh(q=>{const X=q.target,ce=ne.current!==q.clientX;if(q.currentTarget.contains(X)&&ce){const G=q.clientX>ne.current?"right":"left";z.current=G,ne.current=q.clientX}}))})})})})})})});gk.displayName=rr;var LK="MenuGroup",Kw=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return l.jsx(we.div,{role:"group",...s,ref:e})});Kw.displayName=LK;var UK="MenuLabel",vk=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return l.jsx(we.div,{...s,ref:e})});vk.displayName=UK;var gg="MenuItem",BN="menu.itemSelect",Cv=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,i=x.useRef(null),o=Rf(gg,t.__scopeMenu),c=Gw(gg,t.__scopeMenu),d=Le(e,i),h=x.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(BN,{bubbles:!0,cancelable:!0});g.addEventListener(BN,y=>s?.(y),{once:!0}),K2(g,v),v.defaultPrevented?h.current=!1:o.onClose()}};return l.jsx(yk,{...r,ref:d,disabled:n,onClick:fe(t.onClick,m),onPointerDown:g=>{t.onPointerDown?.(g),h.current=!0},onPointerUp:fe(t.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:fe(t.onKeyDown,g=>{const v=c.searchRef.current!=="";n||v&&g.key===" "||ax.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Cv.displayName=gg;var yk=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=t,o=Gw(gg,n),c=hk(n),d=x.useRef(null),h=Le(e,d),[m,g]=x.useState(!1),[v,y]=x.useState("");return x.useEffect(()=>{const A=d.current;A&&y((A.textContent??"").trim())},[i.children]),l.jsx(Bh.ItemSlot,{scope:n,disabled:s,textValue:r??v,children:l.jsx(tk,{asChild:!0,...c,focusable:!s,children:l.jsx(we.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:h,onPointerMove:fe(t.onPointerMove,Fh(A=>{s?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,Fh(A=>o.onItemLeave(A))),onFocus:fe(t.onFocus,()=>g(!0)),onBlur:fe(t.onBlur,()=>g(!1))})})})}),VK="MenuCheckboxItem",_k=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return l.jsx(Ek,{scope:t.__scopeMenu,checked:n,children:l.jsx(Cv,{role:"menuitemcheckbox","aria-checked":vg(n)?"mixed":n,...r,ref:e,"data-state":Yw(n),onSelect:fe(r.onSelect,()=>s?.(vg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_k.displayName=VK;var xk="MenuRadioGroup",[zK,BK]=Nl(xk,{value:void 0,onValueChange:()=>{}}),bk=x.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,i=dn(s);return l.jsx(zK,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(Kw,{...r,ref:e})})});bk.displayName=xk;var wk="MenuRadioItem",Sk=x.forwardRef((t,e)=>{const{value:n,...s}=t,r=BK(wk,t.__scopeMenu),i=n===r.value;return l.jsx(Ek,{scope:t.__scopeMenu,checked:i,children:l.jsx(Cv,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":Yw(i),onSelect:fe(s.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Sk.displayName=wk;var Zw="MenuItemIndicator",[Ek,FK]=Nl(Zw,{checked:!1}),Tk=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,i=FK(Zw,n);return l.jsx(ds,{present:s||vg(i.checked)||i.checked===!0,children:l.jsx(we.span,{...r,ref:e,"data-state":Yw(i.checked)})})});Tk.displayName=Zw;var HK="MenuSeparator",Nk=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return l.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});Nk.displayName=HK;var $K="MenuArrow",Ak=x.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Av(n);return l.jsx(Mb,{...r,...s,ref:e})});Ak.displayName=$K;var qK="MenuSub",[CJ,Ck]=Nl(qK),Md="MenuSubTrigger",Rk=x.forwardRef((t,e)=>{const n=Al(Md,t.__scopeMenu),s=Rf(Md,t.__scopeMenu),r=Ck(Md,t.__scopeMenu),i=Gw(Md,t.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:t.__scopeMenu},m=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),d(null)}},[c,d]),l.jsx($w,{asChild:!0,...h,children:l.jsx(yk,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Ik(n.open),...t,ref:$g(e,r.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,Fh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:fe(t.onPointerLeave,Fh(g=>{m();const v=n.content?.getBoundingClientRect();if(v){const y=n.content?.dataset.side,A=y==="right",w=A?-5:5,R=v[A?"left":"right"],E=v[A?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+w,y:g.clientY},{x:R,y:v.top},{x:E,y:v.top},{x:E,y:v.bottom},{x:R,y:v.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,g=>{const v=i.searchRef.current!=="";t.disabled||v&&g.key===" "||TK[s.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});Rk.displayName=Md;var jk="MenuSubContent",Pk=x.forwardRef((t,e)=>{const n=mk(rr,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Al(rr,t.__scopeMenu),o=Rf(rr,t.__scopeMenu),c=Ck(jk,t.__scopeMenu),d=x.useRef(null),h=Le(e,d);return l.jsx(Bh.Provider,{scope:t.__scopeMenu,children:l.jsx(ds,{present:s||i.open,children:l.jsx(Bh.Slot,{scope:t.__scopeMenu,children:l.jsx(Ww,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{o.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:fe(t.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:fe(t.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),v=NK[o.dir].includes(m.key);g&&v&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});Pk.displayName=jk;function Ik(t){return t?"open":"closed"}function vg(t){return t==="indeterminate"}function Yw(t){return vg(t)?"indeterminate":t?"checked":"unchecked"}function GK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function WK(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function KK(t,e,n){const r=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=WK(t,Math.max(i,0));r.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.toLowerCase().startsWith(r.toLowerCase()));return d!==n?d:void 0}function ZK(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],d=e[o],h=c.x,m=c.y,g=d.x,v=d.y;m>s!=v>s&&n<(g-h)*(s-m)/(v-m)+h&&(r=!r)}return r}function YK(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return ZK(n,e)}function Fh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var QK=fk,XK=$w,JK=pk,eZ=gk,tZ=Kw,nZ=vk,sZ=Cv,rZ=_k,iZ=bk,aZ=Sk,oZ=Tk,lZ=Nk,cZ=Ak,uZ=Rk,dZ=Pk,Rv="DropdownMenu",[hZ,RJ]=us(Rv,[dk]),Bn=dk(),[fZ,kk]=hZ(Rv),Mk=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,d=Bn(e),h=x.useRef(null),[m,g]=so({prop:r,defaultProp:i??!1,onChange:o,caller:Rv});return l.jsx(fZ,{scope:e,triggerId:Qr(),triggerRef:h,contentId:Qr(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:c,children:l.jsx(QK,{...d,open:m,onOpenChange:g,dir:s,modal:c,children:n})})};Mk.displayName=Rv;var Ok="DropdownMenuTrigger",Dk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,i=kk(Ok,n),o=Bn(n);return l.jsx(XK,{asChild:!0,...o,children:l.jsx(we.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:$g(e,i.triggerRef),onPointerDown:fe(t.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:fe(t.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Dk.displayName=Ok;var mZ="DropdownMenuPortal",Lk=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Bn(e);return l.jsx(JK,{...s,...n})};Lk.displayName=mZ;var Uk="DropdownMenuContent",Vk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=kk(Uk,n),i=Bn(n),o=x.useRef(!1);return l.jsx(eZ,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,c=>{o.current||r.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!r.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vk.displayName=Uk;var pZ="DropdownMenuGroup",gZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(tZ,{...r,...s,ref:e})});gZ.displayName=pZ;var vZ="DropdownMenuLabel",zk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(nZ,{...r,...s,ref:e})});zk.displayName=vZ;var yZ="DropdownMenuItem",Bk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(sZ,{...r,...s,ref:e})});Bk.displayName=yZ;var _Z="DropdownMenuCheckboxItem",Fk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(rZ,{...r,...s,ref:e})});Fk.displayName=_Z;var xZ="DropdownMenuRadioGroup",bZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(iZ,{...r,...s,ref:e})});bZ.displayName=xZ;var wZ="DropdownMenuRadioItem",Hk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(aZ,{...r,...s,ref:e})});Hk.displayName=wZ;var SZ="DropdownMenuItemIndicator",$k=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(oZ,{...r,...s,ref:e})});$k.displayName=SZ;var EZ="DropdownMenuSeparator",qk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(lZ,{...r,...s,ref:e})});qk.displayName=EZ;var TZ="DropdownMenuArrow",NZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(cZ,{...r,...s,ref:e})});NZ.displayName=TZ;var AZ="DropdownMenuSubTrigger",Gk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(uZ,{...r,...s,ref:e})});Gk.displayName=AZ;var CZ="DropdownMenuSubContent",Wk=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Bn(n);return l.jsx(dZ,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wk.displayName=CZ;var RZ=Mk,jZ=Dk,PZ=Lk,Kk=Vk,Zk=zk,Yk=Bk,Qk=Fk,Xk=Hk,Jk=$k,eM=qk,tM=Gk,nM=Wk;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sM=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...c},d)=>x.createElement("svg",{ref:d,...kZ,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:sM("lucide",r),...c},[...o.map(([h,m])=>x.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=x.forwardRef(({className:s,...r},i)=>x.createElement(MZ,{ref:i,iconNode:e,className:sM(`lucide-${IZ(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=ge("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=ge("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=ge("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=ge("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ge("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=ge("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ge("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ge("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=ge("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=ge("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ge("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=ge("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=ge("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ge("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=ge("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=ge("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_g=RZ,xg=jZ,oY=x.forwardRef(({className:t,inset:e,children:n,...s},r)=>l.jsxs(tM,{ref:r,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,l.jsx(LZ,{className:"ml-auto h-4 w-4"})]}));oY.displayName=tM.displayName;const lY=x.forwardRef(({className:t,...e},n)=>l.jsx(nM,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));lY.displayName=nM.displayName;const qh=x.forwardRef(({className:t,sideOffset:e=4,...n},s)=>l.jsx(PZ,{children:l.jsx(Kk,{ref:s,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));qh.displayName=Kk.displayName;const ts=x.forwardRef(({className:t,inset:e,...n},s)=>l.jsx(Yk,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ts.displayName=Yk.displayName;const cY=x.forwardRef(({className:t,children:e,checked:n,...s},r)=>l.jsxs(Qk,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Jk,{children:l.jsx(iM,{className:"h-4 w-4"})})}),e]}));cY.displayName=Qk.displayName;const uY=x.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(Xk,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Jk,{children:l.jsx(BZ,{className:"h-2 w-2 fill-current"})})}),e]}));uY.displayName=Xk.displayName;const hx=x.forwardRef(({className:t,inset:e,...n},s)=>l.jsx(Zk,{ref:s,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));hx.displayName=Zk.displayName;const gc=x.forwardRef(({className:t,...e},n)=>l.jsx(eM,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));gc.displayName=eM.displayName;const Do=({children:t})=>{const[e,n]=x.useState(!1),s=Ng(),r=Wh(),{currentUser:i,userProfile:o,logout:c}=Du(),{isAdmin:d}=Vw(),h=[{name:"Dashboard",href:"/dashboard",icon:lp},{name:"Predictions",href:"/predictions",icon:uM},{name:"Alerts",href:"/alerts",icon:Dt},{name:"Reports",href:"/reports",icon:Ps},{name:"Assessment",href:"/assessment",icon:jv},{name:"Planning",href:"/planning",icon:jn},...d?[{name:"Admin Panel",href:"/admin",icon:Hh}]:[]],m=async()=>{await c(),r("/")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50",children:[e&&l.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),l.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-green-100 to-teal-200 text-gray-100 backdrop-blur-xl shadow-lg border-r border-blue-100 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-blue-100 bg-gradient-to-r from-green-100 to-teal-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("img",{src:"/favicon.svg",alt:"JalRakshak Logo",className:"w-10 h-10"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Flood Warning System"})]})]}),l.jsx(ae,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:l.jsx(Pv,{className:"w-5 h-5"})})]}),l.jsxs("nav",{className:"mt-6 px-3",children:[l.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-100 to-teal-100 rounded-xl border border-blue-200",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(oh,{className:"w-10 h-10 ring-2 ring-blue-300",children:[l.jsx(lh,{src:i?.photoURL||""}),l.jsx(ch,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white font-bold",children:o?.displayName?.split(" ").map(g=>g[0]).join("")||"U"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Welcome back!"}),l.jsx("p",{className:"text-xs text-blue-700 truncate",children:o?.displayName||"User"})]}),l.jsxs(ae,{onClick:()=>r("/profile"),size:"sm",variant:"ghost",className:"bg-blue-200 hover:bg-blue-300 text-blue-800 rounded-full p-2 relative",children:[l.jsx(GN,{className:"w-4 h-4"}),l.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})]})}),h.map(g=>{const v=s.pathname===g.href;return l.jsxs(uL,{to:g.href,className:`
                  flex items-center px-3 py-3 mb-2 rounded-xl transition-all duration-200
                  ${v?"bg-gradient-to-r from-blue-400 to-teal-400 text-gray-800 shadow-md shadow-blue-400/30":"text-gray-700 hover:bg-gradient-to-r hover:from-blue-100 hover:to-teal-100 hover:text-gray-800"}
                `,onClick:()=>n(!1),children:[l.jsx(g.icon,{className:"w-5 h-5 mr-3"}),l.jsx("span",{className:"font-medium",children:g.name})]},g.name)})]}),l.jsx("div",{className:"absolute bottom-20 left-3 right-3",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-2 border-blue-200 rounded-xl p-4 shadow-lg",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(oh,{className:"w-12 h-12 ring-2 ring-blue-300",children:[l.jsx(lh,{src:i?.photoURL||""}),l.jsx(ch,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-lg font-bold",children:o?.displayName?.split(" ").map(g=>g[0]).join("")||"U"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-bold text-blue-900 truncate",children:o?.displayName||"User"}),l.jsx("p",{className:"text-xs text-blue-700 truncate",children:o?.email}),l.jsx(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs mt-1",children:o?.role?.replace("_"," ").toUpperCase()||"USER"})]}),l.jsxs(_g,{children:[l.jsx(xg,{asChild:!0,children:l.jsx(ae,{variant:"ghost",size:"sm",className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-full border border-blue-300",children:l.jsx(yg,{className:"w-4 h-4 text-blue-700"})})}),l.jsxs(qh,{align:"end",className:"w-48",children:[l.jsx(hx,{className:"text-blue-900 font-semibold",children:"My Account"}),l.jsx(gc,{}),l.jsxs(ts,{onClick:()=>r("/profile"),className:"hover:bg-blue-50",children:[l.jsx(vu,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),l.jsxs(ts,{className:"hover:bg-blue-50",children:[l.jsx(el,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),l.jsxs(ts,{className:"hover:bg-blue-50",children:[l.jsx(GN,{className:"w-4 h-4 mr-2 text-blue-600"}),"Preferences"]}),l.jsx(gc,{}),l.jsxs(ts,{onClick:m,className:"text-red-600 hover:bg-red-50",children:[l.jsx(HN,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})})}),l.jsx("div",{className:"absolute bottom-6 left-3 right-3",children:l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(xn,{className:"w-5 h-5 text-green-600"}),l.jsx("span",{className:"font-semibold text-green-800",children:"System Status"})]}),l.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-700 hover:bg-green-100",children:"All Systems Operational"})]})})]}),l.jsxs("div",{className:"lg:pl-64",children:[l.jsxs("div",{className:"lg:hidden flex items-center justify-between h-16 px-4 bg-white/80 backdrop-blur-xl border-b border-blue-100",children:[l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>n(!0),children:l.jsx(KZ,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xw,{className:"w-6 h-6 text-blue-600"}),l.jsx("span",{className:"font-bold text-blue-600",children:"JalRakshak"})]}),l.jsxs(_g,{children:[l.jsx(xg,{asChild:!0,children:l.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 border-2 border-blue-200 rounded-full p-1 cursor-pointer hover:bg-blue-100 transition-colors",children:[l.jsxs(oh,{className:"w-8 h-8 ring-2 ring-blue-300",children:[l.jsx(lh,{src:i?.photoURL||""}),l.jsx(ch,{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white text-sm font-bold",children:o?.displayName?.split(" ").map(g=>g[0]).join("")||"U"})]}),l.jsx(yg,{className:"w-3 h-3 text-blue-600 mr-1"})]})}),l.jsxs(qh,{align:"end",className:"w-48",children:[l.jsxs(hx,{className:"text-blue-900 font-semibold",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{children:"My Account"})}),l.jsx("div",{className:"text-xs text-blue-600 font-normal truncate",children:o?.displayName||"User"})]}),l.jsx(gc,{}),l.jsxs(ts,{onClick:()=>r("/profile"),className:"hover:bg-blue-50",children:[l.jsx(vu,{className:"w-4 h-4 mr-2 text-blue-600"}),"Profile Settings"]}),l.jsxs(ts,{className:"hover:bg-blue-50",children:[l.jsx(el,{className:"w-4 h-4 mr-2 text-blue-600"}),"Notifications"]}),d&&l.jsxs(l.Fragment,{children:[l.jsx(gc,{}),l.jsxs(ts,{onClick:()=>r("/admin"),className:"hover:bg-purple-50",children:[l.jsx(Hh,{className:"w-4 h-4 mr-2 text-purple-600"}),"Admin Panel"]})]}),l.jsx(gc,{}),l.jsxs(ts,{onClick:m,className:"text-red-600 hover:bg-red-50",children:[l.jsx(HN,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]}),l.jsx("main",{className:"p-6",children:t})]})]})},Lo=({children:t})=>{const{currentUser:e,loading:n}=Du(),s=Ng();return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto animate-pulse",children:l.jsx(xn,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(js,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"}),l.jsx("p",{className:"text-slate-600",children:"Loading JalRakshak..."})]})]})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(up,{to:"/auth",state:{from:s},replace:!0})},dY=({children:t})=>{const{user:e,loading:n,isAdmin:s}=Vw(),r=Ng();return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto animate-pulse",children:l.jsx(xn,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(js,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"}),l.jsx("p",{className:"text-slate-600",children:"Loading Admin Panel..."})]})]})}):e?s?l.jsx(l.Fragment,{children:t}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto p-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto",children:l.jsx(Dt,{className:"w-10 h-10 text-white"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Access Denied"}),l.jsx("p",{className:"text-slate-600",children:"You don't have permission to access the admin panel. Please contact an administrator if you believe this is an error."}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})})]})]})}):l.jsx(up,{to:"/admin/signin",state:{from:r},replace:!0})},hY=()=>{const t=Wh(),[e]=x.useState({protectedAreas:1247,activeUsers:89456,alertsSent:23456,accuracyRate:94.7}),n=[{icon:Dt,title:"Early Warning System",description:"Get alerts up to 47 minutes before flooding occurs",color:"text-red-600 bg-red-100"},{icon:xn,title:"AI-Powered Predictions",description:"94.7% accuracy in flood risk assessment",color:"text-blue-600 bg-blue-100"},{icon:Ps,title:"Community Driven",description:"Real-time reports from local communities",color:"text-green-600 bg-green-100"},{icon:Jw,title:"Live Monitoring",description:"24/7 monitoring across Punjab and India",color:"text-purple-600 bg-purple-100"}],s=[{name:"Dr. Rajesh Kumar",role:"Disaster Management Officer",location:"Punjab State",text:"JalRakshak has revolutionized our flood response. The early warnings have saved countless lives.",avatar:""},{name:"Priya Sharma",role:"Community Leader",location:"Amritsar",text:"The mobile alerts reached us 30 minutes before flooding. We evacuated safely thanks to JalRakshak.",avatar:""},{name:"Captain Vikram Singh",role:"Emergency Response Team",location:"Ludhiana",text:"Real-time data and evacuation routes help us respond faster and more effectively.",avatar:""}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[l.jsx("nav",{className:"bg-white/80 backdrop-blur-xl border-b border-blue-100 sticky top-0 z-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:l.jsx(xn,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ae,{variant:"ghost",onClick:()=>t("/auth?mode=login"),className:"text-slate-600 hover:text-blue-600",children:"Sign In"}),l.jsx(ae,{onClick:()=>t("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white",children:"Get Started"})]})]})})}),l.jsxs("section",{className:"relative overflow-hidden",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:l.jsxs("div",{className:"text-center space-y-8",children:[l.jsx(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700 px-4 py-2",children:" AI-Powered Flood Early Warning System"}),l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-slate-900 leading-tight",children:["Protecting Communities with",l.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-teal-500 to-green-500 bg-clip-text text-transparent",children:"Smart Flood Alerts"})]}),l.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed",children:"Advanced AI technology monitors water levels, weather patterns, and flood risks across India, providing life-saving early warnings to communities and emergency responders."}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-8",children:[l.jsxs(ae,{size:"lg",onClick:()=>t("/auth?mode=register"),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4 text-lg",children:["Start Protecting Your Community",l.jsx(ox,{className:"w-5 h-5 ml-2"})]}),l.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=login"),className:"border-blue-200 text-blue-600 hover:bg-blue-50 px-8 py-4 text-lg",children:[l.jsx(xn,{className:"w-5 h-5 mr-2"}),"Sign In"]}),l.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/admin/signup"),className:"border-purple-200 text-purple-600 hover:bg-purple-50 px-8 py-4 text-lg",children:[l.jsx(Hh,{className:"w-5 h-5 mr-2"}),"Admin Signup"]}),l.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/admin/signin"),className:"border-purple-200 text-purple-600 hover:bg-purple-50 px-8 py-4 text-lg",children:[l.jsx(Hh,{className:"w-5 h-5 mr-2"}),"Admin Sign In"]}),l.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=demo"),className:"border-green-200 text-green-600 hover:bg-green-50 px-8 py-4 text-lg",children:[l.jsx(Cr,{className:"w-5 h-5 mr-2"}),"View Live Demo"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 pt-16",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.protectedAreas.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Protected Areas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.activeUsers.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Active Users"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e.alertsSent.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Alerts Sent"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[e.accuracyRate,"%"]}),l.jsx("div",{className:"text-sm text-slate-600",children:"Accuracy Rate"})]})]})]})}),l.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-200 rounded-full opacity-20 animate-pulse"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-48 h-48 bg-green-200 rounded-full opacity-20 animate-pulse delay-1000"})]}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center space-y-4 mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Why Choose JalRakshak?"}),l.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Advanced technology meets community-driven solutions for comprehensive flood protection"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((r,i)=>{const o=r.icon;return l.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100",children:[l.jsx("div",{className:`w-12 h-12 ${r.color} rounded-xl flex items-center justify-center mb-4`,children:l.jsx(o,{className:"w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:r.title}),l.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:r.description})]},i)})})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-teal-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center space-y-4 mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-slate-900",children:"Trusted by Communities"}),l.jsx("p",{className:"text-xl text-slate-600",children:"Real stories from people who rely on JalRakshak"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((r,i)=>l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("div",{className:"text-3xl",children:r.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-slate-900",children:r.name}),l.jsx("div",{className:"text-sm text-slate-600",children:r.role}),l.jsx("div",{className:"text-xs text-blue-600",children:r.location})]})]}),l.jsxs("p",{className:"text-slate-700 italic",children:['"',r.text,'"']})]},i))})]})}),l.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-teal-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Protect Your Community?"}),l.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of communities already using JalRakshak for early flood warnings"}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[l.jsxs(ae,{size:"lg",onClick:()=>t("/auth?mode=register"),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 text-lg font-semibold",children:[l.jsx(xn,{className:"w-5 h-5 mr-2"}),"Get Started Free"]}),l.jsxs(ae,{size:"lg",variant:"outline",onClick:()=>t("/auth?mode=contact"),className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 text-lg",children:[l.jsx(nr,{className:"w-5 h-5 mr-2"}),"Contact Emergency Team"]})]})]})}),l.jsx("footer",{className:"bg-slate-900 text-white py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg flex items-center justify-center",children:l.jsx(xn,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"JalRakshak"})]}),l.jsx("p",{className:"text-slate-400 text-sm",children:"AI-powered flood early warning system protecting communities across India."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Features"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[l.jsx("li",{children:"Early Warning Alerts"}),l.jsx("li",{children:"Real-time Monitoring"}),l.jsx("li",{children:"Community Reports"}),l.jsx("li",{children:"Emergency Planning"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[l.jsx("li",{children:"Help Center"}),l.jsx("li",{children:"Emergency Contacts"}),l.jsx("li",{children:"Training Resources"}),l.jsx("li",{children:"API Documentation"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Emergency"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[l.jsx("li",{children:" National: 108"}),l.jsx("li",{children:" Punjab: 112"}),l.jsx("li",{children:" alerts@jalrakshak.in"}),l.jsx("li",{children:" Status: All Systems Up"})]})]})]}),l.jsx("div",{className:"border-t border-slate-800 mt-8 pt-8 text-center text-sm text-slate-400",children:l.jsx("p",{children:" 2024 JalRakshak. Built for disaster resilience and community safety."})})]})})]})},cn=x.forwardRef(({className:t,type:e,...n},s)=>l.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));cn.displayName="Input";var fY="Label",hM=x.forwardRef((t,e)=>l.jsx(we.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hM.displayName=fY;var fM=hM;const mY=zw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=x.forwardRef(({className:t,...e},n)=>l.jsx(fM,{ref:n,className:Ee(mY(),t),...e}));Rt.displayName=fM.displayName;const is=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));is.displayName="Card";const as=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));as.displayName="CardHeader";const Is=x.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Is.displayName="CardTitle";const Iv=x.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));Iv.displayName="CardDescription";const os=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));os.displayName="CardContent";const pY=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));pY.displayName="CardFooter";var kv="Tabs",[gY,jJ]=us(kv,[Ev]),mM=Ev(),[vY,e1]=gY(kv),pM=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=t,m=Vu(c),[g,v]=so({prop:s,onChange:r,defaultProp:i??"",caller:kv});return l.jsx(vY,{scope:n,baseId:Qr(),value:g,onValueChange:v,orientation:o,dir:m,activationMode:d,children:l.jsx(we.div,{dir:m,"data-orientation":o,...h,ref:e})})});pM.displayName=kv;var gM="TabsList",vM=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=e1(gM,n),o=mM(n);return l.jsx(ek,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:l.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});vM.displayName=gM;var yM="TabsTrigger",_M=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,o=e1(yM,n),c=mM(n),d=wM(o.baseId,s),h=SM(o.baseId,s),m=s===o.value;return l.jsx(tk,{asChild:!0,...c,focusable:!r,active:m,children:l.jsx(we.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...i,ref:e,onMouseDown:fe(t.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?o.onValueChange(s):g.preventDefault()}),onKeyDown:fe(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&o.onValueChange(s)}),onFocus:fe(t.onFocus,()=>{const g=o.activationMode!=="manual";!m&&!r&&g&&o.onValueChange(s)})})})});_M.displayName=yM;var xM="TabsContent",bM=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...o}=t,c=e1(xM,n),d=wM(c.baseId,s),h=SM(c.baseId,s),m=s===c.value,g=x.useRef(m);return x.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),l.jsx(ds,{present:r||m,children:({present:v})=>l.jsx(we.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:v&&i})})});bM.displayName=xM;function wM(t,e){return`${t}-trigger-${e}`}function SM(t,e){return`${t}-content-${e}`}var yY=pM,EM=vM,TM=_M,NM=bM;const Mv=yY,jf=x.forwardRef(({className:t,...e},n)=>l.jsx(EM,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));jf.displayName=EM.displayName;const sr=x.forwardRef(({className:t,...e},n)=>l.jsx(TM,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));sr.displayName=TM.displayName;const Es=x.forwardRef(({className:t,...e},n)=>l.jsx(NM,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Es.displayName=NM.displayName;const _Y=()=>{const t=Wh(),[e]=dL(),{login:n,register:s,loginWithGoogle:r,resetPassword:i,currentUser:o}=Du(),[c,d]=x.useState(e.get("mode")||"login"),[h,m]=x.useState(!1),[g,v]=x.useState(!1),[y,A]=x.useState({email:"",password:"",confirmPassword:"",displayName:""});x.useEffect(()=>{o&&t("/dashboard")},[o,t]);const w=j=>{A({...y,[j.target.name]:j.target.value})},R=async j=>{if(j.preventDefault(),!y.email||!y.password){xe.error("Please fill in all fields");return}v(!0);try{await n(y.email,y.password),t("/dashboard")}catch{}finally{v(!1)}},E=async j=>{if(j.preventDefault(),!y.email||!y.password||!y.displayName){xe.error("Please fill in all fields");return}if(y.password!==y.confirmPassword){xe.error("Passwords do not match");return}if(y.password.length<6){xe.error("Password must be at least 6 characters");return}v(!0);try{await s(y.email,y.password,y.displayName),t("/dashboard")}catch{}finally{v(!1)}},T=async()=>{v(!0);try{await r(),t("/dashboard")}catch{}finally{v(!1)}},N=async()=>{if(!y.email){xe.error("Please enter your email address");return}try{await i(y.email)}catch{}},O=j=>{let P=0;return j.length>=6&&P++,/[A-Z]/.test(j)&&P++,/[0-9]/.test(j)&&P++,/[^A-Za-z0-9]/.test(j)&&P++,P},F=j=>j<=1?"bg-red-500":j<=2?"bg-yellow-500":j<=3?"bg-blue-500":"bg-green-500",$=j=>j<=1?"Weak":j<=2?"Fair":j<=3?"Good":"Strong";return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-lg",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(ae,{variant:"ghost",onClick:()=>t("/"),className:"mb-4 text-slate-600 hover:text-blue-600",children:[l.jsx(rM,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-teal-600 rounded-xl flex items-center justify-center",children:l.jsx(xn,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"JalRakshak"})]}),l.jsx("p",{className:"text-slate-600",children:"Join the community protecting lives from floods"})]}),l.jsxs(is,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[l.jsxs(as,{className:"text-center space-y-2",children:[l.jsx(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700 w-fit mx-auto",children:" Secure Authentication"}),l.jsx(Is,{className:"text-2xl text-slate-900",children:c==="login"?"Welcome Back":"Create Account"}),l.jsx(Iv,{children:c==="login"?"Sign in to access your flood monitoring dashboard":"Join thousands protecting their communities"})]}),l.jsxs(os,{children:[l.jsxs(Mv,{value:c,onValueChange:d,children:[l.jsxs(jf,{className:"grid w-full grid-cols-2 mb-6",children:[l.jsx(sr,{value:"login",children:"Sign In"}),l.jsx(sr,{value:"register",children:"Sign Up"})]}),l.jsxs(ae,{onClick:T,disabled:g,className:"w-full mb-6 bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 shadow-sm",children:[g?l.jsx(js,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(VZ,{className:"w-4 h-4 mr-2"}),"Continue with Google"]}),l.jsxs("div",{className:"relative mb-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with email"})})]}),l.jsx(Es,{value:"login",className:"space-y-4",children:l.jsxs("form",{onSubmit:R,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(uh,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(cn,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:y.email,onChange:w,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(cn,{id:"password",name:"password",type:h?"text":"password",placeholder:"Enter your password",value:y.password,onChange:w,className:"pl-10 pr-10",required:!0}),l.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!h),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:h?l.jsx(gu,{className:"w-4 h-4 text-gray-400"}):l.jsx(Cr,{className:"w-4 h-4 text-gray-400"})})]})]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(ae,{type:"button",variant:"link",onClick:N,className:"px-0 text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})}),l.jsxs(ae,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[g?l.jsx(js,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(li,{className:"w-4 h-4 mr-2"}),"Sign In"]})]})}),l.jsx(Es,{value:"register",className:"space-y-4",children:l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"displayName",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(vu,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(cn,{id:"displayName",name:"displayName",type:"text",placeholder:"Enter your full name",value:y.displayName,onChange:w,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(uh,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(cn,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:y.email,onChange:w,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(cn,{id:"password",name:"password",type:h?"text":"password",placeholder:"Create a strong password",value:y.password,onChange:w,className:"pl-10 pr-10",required:!0}),l.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!h),className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",children:h?l.jsx(gu,{className:"w-4 h-4 text-gray-400"}):l.jsx(Cr,{className:"w-4 h-4 text-gray-400"})})]}),y.password&&l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${F(O(y.password))}`,style:{width:`${O(y.password)/4*100}%`}})}),l.jsx("span",{className:"text-xs text-gray-500",children:$(O(y.password))})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),l.jsx(cn,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:y.confirmPassword,onChange:w,className:"pl-10",required:!0}),y.confirmPassword&&l.jsx("div",{className:"absolute right-3 top-3",children:y.password===y.confirmPassword?l.jsx(li,{className:"w-4 h-4 text-green-500"}):l.jsx(Dt,{className:"w-4 h-4 text-red-500"})})]})]}),l.jsxs(ae,{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:[g?l.jsx(js,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx(xn,{className:"w-4 h-4 mr-2"}),"Create Account"]})]})})]}),l.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Your data is encrypted and secure."})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[l.jsx(Dt,{className:"w-4 h-4 text-red-600"}),l.jsx("span",{className:"text-sm font-semibold text-red-800",children:"Emergency Access"})]}),l.jsx("p",{className:"text-xs text-red-700 mb-2",children:"In case of emergency, call 108 immediately"}),l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>window.open("tel:108","_self"),className:"border-red-300 text-red-700 hover:bg-red-50",children:" Call Emergency Services"})]})})]})})},ZN=()=>{const t=Wh(),e=Ng(),{signUp:n,signIn:s,resetPassword:r,user:i,loading:o,isAdmin:c}=Vw(),d=e.pathname==="/admin/signup",[h,m]=x.useState(d?"signup":"signin"),[g,v]=x.useState(!1),[y,A]=x.useState(!1),[w,R]=x.useState({email:"",password:"",confirmPassword:"",fullName:""});x.useEffect(()=>{i&&!o&&c!==void 0&&(c?t("/admin"):i&&t("/dashboard"))},[i,c,o,t]);const E=$=>{R({...w,[$.target.name]:$.target.value})},T=async $=>{if($.preventDefault(),!w.email||!w.password){xe.error("Please fill in all fields");return}A(!0);try{const{user:j,error:P}=await s(w.email,w.password);if(!P&&j){const{data:D}=await it.from("user_profiles").select("role").eq("id",j.id).single();D?.role==="admin"?t("/admin"):t("/dashboard")}}catch{}finally{A(!1)}},N=async $=>{if($.preventDefault(),!w.email||!w.password||!w.fullName){xe.error("Please fill in all fields");return}if(w.password!==w.confirmPassword){xe.error("Passwords do not match");return}if(w.password.length<6){xe.error("Password must be at least 6 characters");return}A(!0);try{const{user:j,error:P}=await n(w.email,w.password,{full_name:w.fullName});!P&&j&&(xe.success("Admin account created! Please check your email to verify your account before signing in."),t("/admin/signin"))}catch{}finally{A(!1)}},O=async $=>{if($.preventDefault(),!w.email){xe.error("Please enter your email address");return}A(!0);try{await r(w.email)}catch{}finally{A(!1)}},F=[{icon:xn,title:"Secure Authentication",description:"Enterprise-grade security with Supabase Auth",color:"text-blue-600 bg-blue-100"},{icon:li,title:"Email Verification",description:"Secure account verification via email",color:"text-green-600 bg-green-100"},{icon:Dt,title:"Password Recovery",description:"Easy password reset functionality",color:"text-orange-600 bg-orange-100"}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center lg:text-left",children:[l.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-teal-600 rounded-2xl flex items-center justify-center",children:l.jsx(xn,{className:"w-6 h-6 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"JalRakshak"})]}),l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Secure Access to Your Account"}),l.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:"Sign in to access your personalized flood monitoring dashboard, emergency alerts, and community features."})]}),l.jsx("div",{className:"space-y-6",children:F.map(($,j)=>l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${$.color}`,children:l.jsx($.icon,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900",children:$.title}),l.jsx("p",{className:"text-slate-600 text-sm",children:$.description})]})]},j))}),l.jsx("div",{className:"text-center lg:text-left",children:l.jsxs(ae,{variant:"outline",onClick:()=>t("/"),className:"gap-2",children:[l.jsx(rM,{className:"w-4 h-4"}),"Back to Home"]})})]}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsxs(is,{className:"w-full max-w-md shadow-xl",children:[l.jsxs(as,{className:"text-center space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(Hh,{className:"w-6 h-6 text-purple-600"}),l.jsx(Is,{className:"text-2xl font-bold",children:"Admin Access"})]}),l.jsx(Iv,{children:"Sign in to your admin account or create a new admin account"})]}),l.jsx(os,{children:l.jsxs(Mv,{value:h,onValueChange:m,className:"space-y-6",children:[l.jsxs(jf,{className:"grid w-full grid-cols-2",children:[l.jsx(sr,{value:"signin",children:"Sign In"}),l.jsx(sr,{value:"signup",children:"Sign Up"})]}),l.jsxs(Es,{value:"signin",className:"space-y-4",children:[l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),l.jsx(cn,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:w.email,onChange:E,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),l.jsx(cn,{id:"password",name:"password",type:g?"text":"password",placeholder:"Enter your password",value:w.password,onChange:E,className:"pl-10 pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g?l.jsx(gu,{className:"w-4 h-4"}):l.jsx(Cr,{className:"w-4 h-4"})})]})]}),l.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",disabled:y,children:y?l.jsxs(l.Fragment,{children:[l.jsx(js,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing In..."]}):l.jsxs(l.Fragment,{children:["Sign In",l.jsx(ox,{className:"w-4 h-4 ml-2"})]})})]}),l.jsx("div",{className:"text-center",children:l.jsx(ae,{variant:"link",onClick:()=>m("reset"),className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot your password?"})})]}),l.jsx(Es,{value:"signup",className:"space-y-4",children:l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"fullName",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),l.jsx(cn,{id:"fullName",name:"fullName",type:"text",placeholder:"Enter your full name",value:w.fullName,onChange:E,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"signup-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),l.jsx(cn,{id:"signup-email",name:"email",type:"email",placeholder:"Enter your email",value:w.email,onChange:E,className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"signup-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),l.jsx(cn,{id:"signup-password",name:"password",type:g?"text":"password",placeholder:"Create a password",value:w.password,onChange:E,className:"pl-10 pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g?l.jsx(gu,{className:"w-4 h-4"}):l.jsx(Cr,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(qc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),l.jsx(cn,{id:"confirmPassword",name:"confirmPassword",type:g?"text":"password",placeholder:"Confirm your password",value:w.confirmPassword,onChange:E,className:"pl-10",required:!0})]})]}),l.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",disabled:y,children:y?l.jsxs(l.Fragment,{children:[l.jsx(js,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):l.jsxs(l.Fragment,{children:["Create Account",l.jsx(ox,{className:"w-4 h-4 ml-2"})]})})]})}),l.jsxs(Es,{value:"reset",className:"space-y-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(Dt,{className:"w-8 h-8 text-orange-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Reset Password"}),l.jsx("p",{className:"text-slate-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),l.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"reset-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),l.jsx(cn,{id:"reset-email",name:"email",type:"email",placeholder:"Enter your email",value:w.email,onChange:E,className:"pl-10",required:!0})]})]}),l.jsx(ae,{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700",disabled:y,children:y?l.jsxs(l.Fragment,{children:[l.jsx(js,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Reset Link..."]}):"Send Reset Link"})]}),l.jsx("div",{className:"text-center",children:l.jsx(ae,{variant:"link",onClick:()=>m("signin"),className:"text-sm text-blue-600 hover:text-blue-700",children:"Back to Sign In"})})]})]})})]})})]})})};function Gh(t,[e,n]){return Math.min(n,Math.max(e,t))}function xY(t,e){return x.useReducer((n,s)=>e[n][s]??n,t)}var t1="ScrollArea",[AM,PJ]=us(t1),[bY,lr]=AM(t1),CM=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:i=600,...o}=t,[c,d]=x.useState(null),[h,m]=x.useState(null),[g,v]=x.useState(null),[y,A]=x.useState(null),[w,R]=x.useState(null),[E,T]=x.useState(0),[N,O]=x.useState(0),[F,$]=x.useState(!1),[j,P]=x.useState(!1),D=Le(e,M=>d(M)),I=Vu(r);return l.jsx(bY,{scope:n,type:s,dir:I,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:m,content:g,onContentChange:v,scrollbarX:y,onScrollbarXChange:A,scrollbarXEnabled:F,onScrollbarXEnabledChange:$,scrollbarY:w,onScrollbarYChange:R,scrollbarYEnabled:j,onScrollbarYEnabledChange:P,onCornerWidthChange:T,onCornerHeightChange:O,children:l.jsx(we.div,{dir:I,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});CM.displayName=t1;var RM="ScrollAreaViewport",jM=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:r,...i}=t,o=lr(RM,n),c=x.useRef(null),d=Le(e,c,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(we.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});jM.displayName=RM;var mi="ScrollAreaScrollbar",n1=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=lr(mi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=r,c=t.orientation==="horizontal";return x.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),r.type==="hover"?l.jsx(wY,{...s,ref:e,forceMount:n}):r.type==="scroll"?l.jsx(SY,{...s,ref:e,forceMount:n}):r.type==="auto"?l.jsx(PM,{...s,ref:e,forceMount:n}):r.type==="always"?l.jsx(s1,{...s,ref:e}):null});n1.displayName=mi;var wY=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=lr(mi,t.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const c=r.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),o(!0)},m=()=>{d=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",m)}}},[r.scrollArea,r.scrollHideDelay]),l.jsx(ds,{present:n||i,children:l.jsx(PM,{"data-state":i?"visible":"hidden",...s,ref:e})})}),SY=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=lr(mi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Dv(()=>d("SCROLL_END"),100),[c,d]=xY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,r.scrollHideDelay,d]),x.useEffect(()=>{const h=r.viewport,m=i?"scrollLeft":"scrollTop";if(h){let g=h[m];const v=()=>{const y=h[m];g!==y&&(d("SCROLL"),o()),g=y};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[r.viewport,i,d,o]),l.jsx(ds,{present:n||c!=="hidden",children:l.jsx(s1,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:fe(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:fe(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),PM=x.forwardRef((t,e)=>{const n=lr(mi,t.__scopeScrollArea),{forceMount:s,...r}=t,[i,o]=x.useState(!1),c=t.orientation==="horizontal",d=Dv(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;o(c?h:m)}},10);return yu(n.viewport,d),yu(n.content,d),l.jsx(ds,{present:s||i,children:l.jsx(s1,{"data-state":i?"visible":"hidden",...r,ref:e})})}),s1=x.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,r=lr(mi,t.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[c,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=DM(c.viewport,c.content),m={...s,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:v=>i.current=v,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:v=>o.current=v};function g(v,y){return RY(v,o.current,c,y)}return n==="horizontal"?l.jsx(EY,{...m,ref:e,onThumbPositionChange:()=>{if(r.viewport&&i.current){const v=r.viewport.scrollLeft,y=YN(v,c,r.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{r.viewport&&(r.viewport.scrollLeft=v)},onDragScroll:v=>{r.viewport&&(r.viewport.scrollLeft=g(v,r.dir))}}):n==="vertical"?l.jsx(TY,{...m,ref:e,onThumbPositionChange:()=>{if(r.viewport&&i.current){const v=r.viewport.scrollTop,y=YN(v,c);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{r.viewport&&(r.viewport.scrollTop=v)},onDragScroll:v=>{r.viewport&&(r.viewport.scrollTop=g(v))}}):null}),EY=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,i=lr(mi,t.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),h=Le(e,d,i.onScrollbarXChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),l.jsx(kM,{"data-orientation":"horizontal",...r,ref:h,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ov(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(i.viewport){const v=i.viewport.scrollLeft+m.deltaX;t.onWheelScroll(v),UM(v,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:wg(o.paddingLeft),paddingEnd:wg(o.paddingRight)}})}})}),TY=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,i=lr(mi,t.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),h=Le(e,d,i.onScrollbarYChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),l.jsx(kM,{"data-orientation":"vertical",...r,ref:h,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ov(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(i.viewport){const v=i.viewport.scrollTop+m.deltaY;t.onWheelScroll(v),UM(v,g)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:wg(o.paddingTop),paddingEnd:wg(o.paddingBottom)}})}})}),[NY,IM]=AM(mi),kM=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:m,onResize:g,...v}=t,y=lr(mi,n),[A,w]=x.useState(null),R=Le(e,D=>w(D)),E=x.useRef(null),T=x.useRef(""),N=y.viewport,O=s.content-s.viewport,F=dn(m),$=dn(d),j=Dv(g,10);function P(D){if(E.current){const I=D.clientX-E.current.left,M=D.clientY-E.current.top;h({x:I,y:M})}}return x.useEffect(()=>{const D=I=>{const M=I.target;A?.contains(M)&&F(I,O)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[N,A,O,F]),x.useEffect($,[s,$]),yu(A,j),yu(y.content,j),l.jsx(NY,{scope:n,scrollbar:A,hasThumb:r,onThumbChange:dn(i),onThumbPointerUp:dn(o),onThumbPositionChange:$,onThumbPointerDown:dn(c),children:l.jsx(we.div,{...v,ref:R,style:{position:"absolute",...v.style},onPointerDown:fe(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),E.current=A.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),P(D))}),onPointerMove:fe(t.onPointerMove,P),onPointerUp:fe(t.onPointerUp,D=>{const I=D.target;I.hasPointerCapture(D.pointerId)&&I.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=T.current,y.viewport&&(y.viewport.style.scrollBehavior=""),E.current=null})})})}),bg="ScrollAreaThumb",MM=x.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=IM(bg,t.__scopeScrollArea);return l.jsx(ds,{present:n||r.hasThumb,children:l.jsx(AY,{ref:e,...s})})}),AY=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...r}=t,i=lr(bg,n),o=IM(bg,n),{onThumbPositionChange:c}=o,d=Le(e,g=>o.onThumbChange(g)),h=x.useRef(void 0),m=Dv(()=>{h.current&&(h.current(),h.current=void 0)},100);return x.useEffect(()=>{const g=i.viewport;if(g){const v=()=>{if(m(),!h.current){const y=jY(g,c);h.current=y,c()}};return c(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[i.viewport,m,c]),l.jsx(we.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:fe(t.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),A=g.clientX-y.left,w=g.clientY-y.top;o.onThumbPointerDown({x:A,y:w})}),onPointerUp:fe(t.onPointerUp,o.onThumbPointerUp)})});MM.displayName=bg;var r1="ScrollAreaCorner",OM=x.forwardRef((t,e)=>{const n=lr(r1,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?l.jsx(CY,{...t,ref:e}):null});OM.displayName=r1;var CY=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,r=lr(r1,n),[i,o]=x.useState(0),[c,d]=x.useState(0),h=!!(i&&c);return yu(r.scrollbarX,()=>{const m=r.scrollbarX?.offsetHeight||0;r.onCornerHeightChange(m),d(m)}),yu(r.scrollbarY,()=>{const m=r.scrollbarY?.offsetWidth||0;r.onCornerWidthChange(m),o(m)}),h?l.jsx(we.div,{...s,ref:e,style:{width:i,height:c,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function wg(t){return t?parseInt(t,10):0}function DM(t,e){const n=t/e;return isNaN(n)?0:n}function Ov(t){const e=DM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function RY(t,e,n,s="ltr"){const r=Ov(n),i=r/2,o=e||i,c=r-o,d=n.scrollbar.paddingStart+o,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,m=n.content-n.viewport,g=s==="ltr"?[0,m]:[m*-1,0];return LM([d,h],g)(t)}function YN(t,e,n="ltr"){const s=Ov(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-r,o=e.content-e.viewport,c=i-s,d=n==="ltr"?[0,o]:[o*-1,0],h=Gh(t,d);return LM([0,o],[0,c])(h)}function LM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function UM(t,e){return t>0&&t<e}var jY=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return function r(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,c=n.top!==i.top;(o||c)&&e(),n=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function Dv(t,e){const n=dn(t),s=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),x.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function yu(t,e){const n=dn(e);Yt(()=>{let s=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(s),r.unobserve(t)}}},[t,n])}var VM=CM,PY=jM,IY=OM;const fx=x.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(VM,{ref:s,className:Ee("relative overflow-hidden",t),...n,children:[l.jsx(PY,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(zM,{}),l.jsx(IY,{})]}));fx.displayName=VM.displayName;const zM=x.forwardRef(({className:t,orientation:e="vertical",...n},s)=>l.jsx(n1,{ref:s,orientation:e,className:Ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(MM,{className:"relative flex-1 rounded-full bg-border"})}));zM.displayName=n1.displayName;function Di({className:t,...e}){return l.jsx("div",{className:Ee("animate-pulse rounded-md bg-muted",t),...e})}const i1=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Ee("w-full caption-bottom text-sm",t),...e})}));i1.displayName="Table";const a1=x.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:Ee("[&_tr]:border-b",t),...e}));a1.displayName="TableHeader";const o1=x.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:Ee("[&_tr:last-child]:border-0",t),...e}));o1.displayName="TableBody";const kY=x.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kY.displayName="TableFooter";const tl=x.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));tl.displayName="TableRow";const Zs=x.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Zs.displayName="TableHead";const ns=x.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ns.displayName="TableCell";const MY=x.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:Ee("mt-4 text-sm text-muted-foreground",t),...e}));MY.displayName="TableCaption";const OY=()=>{const[t,e]=x.useState([]),[n,s]=x.useState(!0),[r,i]=x.useState("");x.useEffect(()=>{o();const h=it.channel("user_management_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_profiles"},o).subscribe();return()=>{it.removeChannel(h)}},[]);const o=async()=>{s(!0);try{const{data:h,error:m}=await it.from("user_profiles").select("*");if(m)throw m;e(h)}catch(h){xe.error("Failed to fetch users"),console.error(h)}finally{s(!1)}},c=async(h,m)=>{try{const{error:g}=await it.from("user_profiles").update({role:m}).eq("id",h);if(g)throw g;xe.success("User role updated successfully")}catch(g){xe.error("Failed to update user role"),console.error(g)}},d=t.filter(h=>h.full_name.toLowerCase().includes(r.toLowerCase())||h.email.toLowerCase().includes(r.toLowerCase()));return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),l.jsx(cn,{placeholder:"Filter users...",value:r,onChange:h=>i(h.target.value),className:"max-w-sm"})]}),l.jsxs(i1,{children:[l.jsx(a1,{children:l.jsxs(tl,{children:[l.jsx(Zs,{children:"Name"}),l.jsx(Zs,{children:"Email"}),l.jsx(Zs,{children:"Role"}),l.jsx(Zs,{children:"Status"}),l.jsx(Zs,{children:"Actions"})]})}),l.jsx(o1,{children:n?l.jsx(tl,{children:l.jsx(ns,{colSpan:5,className:"text-center",children:"Loading..."})}):d.map(h=>l.jsxs(tl,{children:[l.jsx(ns,{children:h.full_name}),l.jsx(ns,{children:h.email}),l.jsx(ns,{children:l.jsx(Oe,{variant:h.role==="admin"?"destructive":"secondary",children:h.role})}),l.jsx(ns,{children:l.jsx(Oe,{variant:h.is_active?"success":"secondary",children:h.is_active?"Active":"Inactive"})}),l.jsx(ns,{children:l.jsxs(_g,{children:[l.jsx(xg,{asChild:!0,children:l.jsxs(ae,{variant:"ghost",className:"h-8 w-8 p-0",children:[l.jsx("span",{className:"sr-only",children:"Open menu"}),l.jsx(aM,{className:"h-4 w-4"})]})}),l.jsx(qh,{align:"end",children:l.jsxs(ts,{onClick:()=>c(h.id,h.role==="admin"?"user":"admin"),children:["Make ",h.role==="admin"?"User":"Admin"]})})]})})]},h.id))})]})]})},DY=()=>{const[t,e]=x.useState([]),[n,s]=x.useState(!0),[r,i]=x.useState("");x.useEffect(()=>{o();const m=it.channel("report_management_changes").on("postgres_changes",{event:"*",schema:"public",table:"flood_reports"},o).subscribe();return()=>{it.removeChannel(m)}},[]);const o=async()=>{s(!0);try{const{data:m,error:g}=await it.from("flood_reports").select("*, user_profiles(full_name)");if(g)throw g;e(m)}catch(m){xe.error("Failed to fetch reports"),console.error(m)}finally{s(!1)}},c=async(m,g)=>{try{const{error:v}=await it.from("flood_reports").update({status:g}).eq("id",m);if(v)throw v;xe.success("Report status updated successfully")}catch(v){xe.error("Failed to update report status"),console.error(v)}},d=async m=>{try{const{error:g}=await it.from("flood_reports").delete().eq("id",m);if(g)throw g;xe.success("Report deleted successfully")}catch(g){xe.error("Failed to delete report"),console.error(g)}},h=t.filter(m=>m.title.toLowerCase().includes(r.toLowerCase())||m.location.address.toLowerCase().includes(r.toLowerCase()));return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Report Management"}),l.jsx(cn,{placeholder:"Filter reports...",value:r,onChange:m=>i(m.target.value),className:"max-w-sm"})]}),l.jsxs(i1,{children:[l.jsx(a1,{children:l.jsxs(tl,{children:[l.jsx(Zs,{children:"Title"}),l.jsx(Zs,{children:"Location"}),l.jsx(Zs,{children:"Severity"}),l.jsx(Zs,{children:"Status"}),l.jsx(Zs,{children:"Reported by"}),l.jsx(Zs,{children:"Actions"})]})}),l.jsx(o1,{children:n?l.jsx(tl,{children:l.jsx(ns,{colSpan:6,className:"text-center",children:"Loading..."})}):h.map(m=>l.jsxs(tl,{children:[l.jsx(ns,{children:m.title}),l.jsx(ns,{children:m.location.address}),l.jsx(ns,{children:l.jsx(Oe,{variant:m.severity==="critical"||m.severity==="high"?"destructive":m.severity==="medium"?"warning":"secondary",children:m.severity})}),l.jsx(ns,{children:l.jsx(Oe,{variant:m.status==="verified"?"success":m.status==="pending"?"outline":"secondary",children:m.status})}),l.jsx(ns,{children:m.user_profiles.full_name}),l.jsx(ns,{children:l.jsxs(_g,{children:[l.jsx(xg,{asChild:!0,children:l.jsxs(ae,{variant:"ghost",className:"h-8 w-8 p-0",children:[l.jsx("span",{className:"sr-only",children:"Open menu"}),l.jsx(aM,{className:"h-4 w-4"})]})}),l.jsxs(qh,{align:"end",children:[l.jsx(ts,{onClick:()=>c(m.id,"verified"),children:"Verify"}),l.jsx(ts,{onClick:()=>c(m.id,"investigating"),children:"Investigate"}),l.jsx(ts,{onClick:()=>c(m.id,"resolved"),children:"Resolve"}),l.jsx(ts,{onClick:()=>d(m.id),className:"text-red-500",children:"Delete"})]})]})})]},m.id))})]})]})},Mm=({title:t,value:e,icon:n,detail:s,color:r,loading:i})=>i?l.jsxs(is,{children:[l.jsx(as,{className:"pb-2",children:l.jsx(Di,{className:"h-4 w-3/4"})}),l.jsxs(os,{children:[l.jsx(Di,{className:"h-8 w-1/2 mb-2"}),l.jsx(Di,{className:"h-4 w-1/4"})]})]}):l.jsxs(is,{className:`border-l-4 border-${r}-500`,children:[l.jsxs(as,{className:"pb-2 flex flex-row items-center justify-between",children:[l.jsx(Is,{className:"text-sm font-medium text-muted-foreground",children:t}),n]}),l.jsxs(os,{children:[l.jsx("div",{className:"text-3xl font-bold",children:e}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s})]})]}),LY=()=>{const[t,e]=x.useState("overview"),[n,s]=x.useState(!0),[r,i]=x.useState({totalUsers:0,activeUsers:0,totalReports:0,pendingReports:0,criticalReports:0,verifiedReports:0,recentActivity:[],recentLocations:[]});x.useEffect(()=>{o();const c=it.channel("flood_reports_changes").on("postgres_changes",{event:"*",schema:"public",table:"flood_reports"},o).subscribe(),d=it.channel("users_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_profiles"},o).subscribe();return()=>{it.removeChannel(c),it.removeChannel(d)}},[]);const o=async()=>{s(!0);try{const{data:c,error:d}=await it.from("flood_reports").select("*, user_profiles(*)").order("created_at",{ascending:!1}).limit(5);if(d)throw new Error("Failed to fetch recent activity");const{data:h,error:m}=await it.from("flood_reports").select("location, severity, created_at").order("created_at",{ascending:!1}).limit(5);if(m)throw new Error("Failed to fetch recent locations");const{data:g,error:v}=await it.from("user_profiles").select("id, is_active");if(v)throw new Error("Failed to fetch users");const{data:y,error:A}=await it.from("flood_reports").select("id, status, severity");if(A)throw new Error("Failed to fetch reports");i({totalUsers:g.length,activeUsers:g.filter(w=>w.is_active).length,totalReports:y.length,pendingReports:y.filter(w=>w.status==="pending").length,criticalReports:y.filter(w=>w.severity==="critical").length,verifiedReports:y.filter(w=>w.status==="verified").length,recentActivity:c.map(w=>({id:w.id,title:w.title,severity:w.severity,status:w.status,time:new Date(w.created_at).toLocaleString(),user:w.user_profiles?.full_name||"Unknown User",avatar:w.user_profiles?.avatar_url})),recentLocations:h.map(w=>({location:w.location,severity:w.severity,time:new Date(w.created_at).toLocaleString()}))})}catch(c){console.error("Error fetching data:",c),xe.error(c.message||"Failed to load dashboard data")}finally{s(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[l.jsx("header",{className:"sticky top-0 z-10 border-b bg-background/80 backdrop-blur-sm",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex h-16 items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(tY,{className:"h-8 w-8 text-primary"}),l.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Admin Dashboard"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Oe,{variant:"outline",className:"flex items-center gap-2 py-1.5 px-3 rounded-full",children:[l.jsx(oM,{className:"h-3 w-3 animate-spin"}),l.jsx("span",{className:"text-sm",children:"Real-time"})]}),l.jsxs(ae,{size:"icon",variant:"outline",className:"rounded-full",children:[l.jsx(el,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Notifications"})]})]})]})})}),l.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(Mm,{title:"Total Users",value:r.totalUsers,icon:l.jsx(Ps,{className:"h-5 w-5 text-muted-foreground"}),detail:`${r.activeUsers} active`,color:"blue",loading:n}),l.jsx(Mm,{title:"Total Reports",value:r.totalReports,icon:l.jsx(lx,{className:"h-5 w-5 text-muted-foreground"}),detail:`${r.pendingReports} pending`,color:"green",loading:n}),l.jsx(Mm,{title:"Critical Reports",value:r.criticalReports,icon:l.jsx(Dt,{className:"h-5 w-5 text-muted-foreground"}),detail:`${Math.round(r.criticalReports/r.totalReports*100)||0}% of total`,color:"red",loading:n}),l.jsx(Mm,{title:"Verified Reports",value:r.verifiedReports,icon:l.jsx(li,{className:"h-5 w-5 text-muted-foreground"}),detail:`${Math.round(r.verifiedReports/r.totalReports*100)||0}% verified`,color:"purple",loading:n})]}),l.jsxs(Mv,{value:t,onValueChange:e,children:[l.jsxs(jf,{className:"grid w-full grid-cols-1 sm:grid-cols-3 max-w-md mx-auto",children:[l.jsxs(sr,{value:"overview",children:[l.jsx($c,{className:"h-4 w-4 mr-2"}),"Overview"]}),l.jsxs(sr,{value:"users",children:[l.jsx(Ps,{className:"h-4 w-4 mr-2"}),"User Management"]}),l.jsxs(sr,{value:"reports",children:[l.jsx(lx,{className:"h-4 w-4 mr-2"}),"Report Management"]})]}),l.jsx(Es,{value:"overview",className:"mt-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(is,{className:"lg:col-span-2",children:[l.jsx(as,{children:l.jsxs(Is,{className:"text-lg flex items-center gap-2",children:[l.jsx($c,{className:"h-5 w-5"}),"Recent Activity"]})}),l.jsx(os,{children:l.jsx(fx,{className:"h-[350px]",children:n?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((c,d)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Di,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Di,{className:"h-4 w-[250px]"}),l.jsx(Di,{className:"h-4 w-[200px]"})]})]},d))}):r.recentActivity.map(c=>l.jsxs("div",{className:"flex items-start gap-4 mb-4 pb-4 border-b last:border-0",children:[l.jsxs(oh,{className:"h-10 w-10 border",children:[l.jsx(lh,{src:c.avatar}),l.jsx(ch,{children:c.user.substring(0,2)})]}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"text-sm font-medium",children:c.title}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Oe,{variant:c.severity==="critical"||c.severity==="high"?"destructive":c.severity==="medium"?"warning":"secondary",children:c.severity}),l.jsx(Oe,{variant:c.status==="verified"?"success":c.status==="pending"?"outline":"secondary",children:c.status})]}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[c.user,"  ",c.time]})]})]},c.id))})})]}),l.jsxs(is,{children:[l.jsx(as,{children:l.jsxs(Is,{className:"text-lg flex items-center gap-2",children:[l.jsx(jn,{className:"h-5 w-5"}),"Hotspot Locations"]})}),l.jsx(os,{children:l.jsx(fx,{className:"h-[350px]",children:n?l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((c,d)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Di,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Di,{className:"h-4 w-[150px]"}),l.jsx(Di,{className:"h-4 w-[100px]"})]})]},d))}):r.recentLocations.map((c,d)=>l.jsxs("div",{className:"flex items-start gap-4 mb-4 pb-4 border-b last:border-0",children:[l.jsx("div",{className:"bg-muted rounded-full p-2 mt-1",children:l.jsx(jn,{className:"h-4 w-4 text-muted-foreground"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"text-sm font-medium",children:c.location?.address||"Unknown Location"}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:l.jsx(Oe,{variant:c.severity==="critical"||c.severity==="high"?"destructive":"warning",children:c.severity})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:c.time})]})]},d))})})]})]})}),l.jsx(Es,{value:"users",className:"mt-6",children:l.jsx(OY,{})}),l.jsx(Es,{value:"reports",className:"mt-6",children:l.jsx(DY,{})})]})]})]})},ze=({children:t,className:e,variant:n="default",hover:s=!0})=>{const r={default:"bg-gradient-to-br from-white to-blue-50 border-blue-100 hover:shadow-blue-200/50",success:"bg-gradient-to-br from-white to-green-50 border-green-100 hover:shadow-green-200/50",warning:"bg-gradient-to-br from-white to-yellow-50 border-yellow-100 hover:shadow-yellow-200/50",danger:"bg-gradient-to-br from-white to-red-50 border-red-100 hover:shadow-red-200/50"};return l.jsx("div",{className:Ee("rounded-2xl border backdrop-blur-sm shadow-lg transition-all duration-300",r[n],s&&"hover:shadow-xl hover:-translate-y-1",e),children:t})},UY=()=>{const r=`https://embed.windy.com/embed2.html?lat=${31.1471}&lon=${75.3412}&zoom=8&overlay=wind&level=surface&product=GFS&key=windyisthebest`;return l.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},src:r,title:""})},VY=()=>l.jsx("div",{style:{height:"100%",width:"100%"},children:l.jsx(UY,{})}),BM=({text:t,topText:e,bottomText:n})=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute top-2.5 left-1/2 -translate-x-1/2 z-10 pointer-events-none",children:l.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-4 py-2 rounded-full shadow-lg border-slate-700",children:e||t})}),l.jsx("div",{className:"absolute bottom-2.5 right-2.5 z-10 pointer-events-none",children:l.jsx("div",{className:"bg-white backdrop-blur-sm text-black font-semibold px-20 py-2 rounded-full shadow-lg border-slate-700",children:n||t})})]}),zY=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(n=>{t({lat:n.coords.latitude,lng:n.coords.longitude})},n=>{let s="Unable to get location";switch(n.code){case n.PERMISSION_DENIED:s="Location access denied by user";break;case n.POSITION_UNAVAILABLE:s="Location information unavailable";break;case n.TIMEOUT:s="Location request timed out";break}e(new Error(s))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),BY=async(t,e)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${e}&addressdetails=1`);if(!n.ok)throw new Error("Geocoding failed");const s=await n.json(),r=s.display_name||"Unknown location",i=s.address?.state||s.address?.region||"",o=s.address?.county||s.address?.city_district||s.address?.city||"",c=s.address?.country||"";return{coords:{lat:t,lng:e},address:r,state:i,district:o,country:c}}catch(n){return console.error("Reverse geocoding error:",n),{coords:{lat:t,lng:e},address:"Unknown location",state:"",district:"",country:""}}},mx=async()=>{try{const t=await zY();return await BY(t.lat,t.lng)}catch(t){throw xe.error("Unable to get your location. Please enable location access."),t}},FY=async t=>{try{const e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&addressdetails=1&limit=5&countrycodes=in`);if(!e.ok)throw new Error("Search failed");return(await e.json()).map(s=>({coords:{lat:parseFloat(s.lat),lng:parseFloat(s.lon)},address:s.display_name||"Unknown location",state:s.address?.state||s.address?.region||"",district:s.address?.county||s.address?.city_district||s.address?.city||"",country:s.address?.country||""}))}catch(e){return console.error("Location search error:",e),[]}},HY=()=>{const{userProfile:t}=Du(),e=Wh(),[n,s]=x.useState(null),[r,i]=x.useState(!1),[o,c]=x.useState(0),[d,h]=x.useState("safe"),[m,g]=x.useState(65),[v,y]=x.useState(5),[A,w]=x.useState(1247),[R,E]=x.useState(23),[T,N]=x.useState(89456);x.useEffect(()=>{O()},[]);const O=async()=>{i(!0);try{const j=await mx();if(s(j),j.state){const P=await eW(j.state,j.district);if(P.length>0){const I=P[0];g(I.current_water_level||65),h(I.risk_level||"safe")}const D=await OI(j.coords.lat,j.coords.lng,50);c(D.length),y(D.filter(I=>I.severity==="critical"||I.severity==="high").length)}xe.success(`Location detected: ${j.district}, ${j.state}`)}catch(j){console.error("Error loading location data:",j),s({coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"})}finally{i(!1)}};x.useEffect(()=>{const j=setInterval(()=>{g(P=>Math.max(20,Math.min(95,P+(Math.random()-.5)*3))),y(P=>Math.max(0,Math.min(15,P+Math.floor((Math.random()-.5)*2))))},4e3);return()=>clearInterval(j)},[]);const F=[{name:"Normal Levels",percentage:67,color:"text-green-600",bgColor:"bg-green-100",icon:li},{name:"Warning Zones",percentage:28,color:"text-yellow-600",bgColor:"bg-yellow-100",icon:Dt},{name:"Critical Areas",percentage:5,color:"text-red-600",bgColor:"bg-red-100",icon:Dt}],$=[{city:n?.district||"Amritsar",level:m,status:d==="critical"?"Critical":d==="warning"?"Warning":"Normal",color:d==="critical"?"bg-red-500":d==="warning"?"bg-yellow-500":"bg-green-500"},{city:"Ludhiana",level:62,status:"Moderate",color:"bg-yellow-500"},{city:"Jalandhar",level:35,status:"Light",color:"bg-green-500"},{city:"Patiala",level:15,status:"Minimal",color:"bg-green-400"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-600 via-teal-500 to-green-400 p-8 text-white",children:[l.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[l.jsx("h1",{className:"text-5xl font-bold",children:"Real-Time Flood Monitoring"}),r&&l.jsx(js,{className:"w-6 h-6 animate-spin"})]}),n&&l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsxs("span",{children:["Monitoring: ",n.district||n.state,", ",n.state]})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-xs",children:[l.jsxs(Oe,{className:`${d==="critical"?"bg-red-500":d==="warning"?"bg-yellow-500":"bg-green-500"} text-white`,children:[d.toUpperCase()," RISK"]}),l.jsxs("span",{children:[o," Local Reports"]}),l.jsx(ae,{size:"sm",variant:"ghost",onClick:O,className:"text-white hover:bg-white/20 p-1",children:l.jsx($h,{className:"w-3 h-3"})})]})]}),l.jsx("p",{className:"text-xl opacity-90 max-w-3xl mx-auto",children:n?`Advanced AI-powered flood prediction and early warning system protecting your community in ${n.state} with precision and care`:"Advanced AI-powered flood prediction and early warning system protecting communities across India with precision and care"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-8",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(xn,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:A.toLocaleString()}),l.jsx("div",{className:"text-sm opacity-80",children:"Protected Areas"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx(FN,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"+12% this week"})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(Dt,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:R}),l.jsx("div",{className:"text-sm opacity-80",children:"Watch Zones"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx($c,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Monitoring active"})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(Dt,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:v}),l.jsx("div",{className:"text-sm opacity-80",children:"Alert Areas"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx(el,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Immediate action"})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(Ps,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"text-3xl font-bold",children:T.toLocaleString()}),l.jsx("div",{className:"text-sm opacity-80",children:"Community Members"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs",children:[l.jsx(Ps,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Engaged community"})]})]})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8",children:[l.jsxs(ae,{onClick:()=>e("/reports"),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 backdrop-blur-sm",children:[l.jsx(lx,{className:"w-4 h-4 mr-2"}),"View Detailed Analytics"]}),l.jsxs(ae,{onClick:()=>e("/alerts"),className:"bg-green-500 hover:bg-green-600 text-white shadow-lg",children:[l.jsx(nr,{className:"w-4 h-4 mr-2"}),"Get Mobile Alerts"]})]})]}),l.jsxs("div",{className:"absolute inset-0 opacity-20",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full opacity-10"}),l.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-white rounded-full opacity-10"}),l.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full opacity-10"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Live Flood Risk Assessment"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Real-time monitoring of water levels, rainfall, and flood risk across Punjab"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Punjab Risk Heatmap"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[l.jsx($c,{className:"w-3 h-3 mr-1"}),"Live"]}),l.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>console.log("Exporting map..."),children:[l.jsx(Qw,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),l.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-80 overflow-hidden",children:[l.jsx(VY,{}),l.jsx(BM,{text:"Live Weather Data"})]}),l.jsx("div",{className:"grid grid-cols-3 gap-4 mt-6",children:F.map((j,P)=>{const D=j.icon;return l.jsxs("div",{className:`${j.bgColor} rounded-xl p-4 text-center`,children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx(D,{className:`w-5 h-5 ${j.color} mr-2`}),l.jsx("span",{className:`text-sm font-semibold ${j.color}`,children:j.name})]}),l.jsxs("div",{className:`text-2xl font-bold ${j.color}`,children:[j.percentage,"%"]})]},P)})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Water Level Gauges"}),l.jsx("div",{className:"space-y-4",children:$.map((j,P)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:j.city}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 ${j.color} rounded-full`}),l.jsx("span",{className:"text-xs text-slate-600",children:j.status})]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 ${j.color} rounded-full transition-all duration-1000`,style:{width:`${j.level}%`}})})]},P))})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Rainfall Intensity"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Amritsar"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-16 h-2 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Heavy"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Ludhiana"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-12 h-2 bg-yellow-500 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Moderate"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Jalandhar"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Light"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Patiala"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-2 bg-green-400 rounded-full"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Minimal"})]})]})]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-teal-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(uM,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"AI Accuracy"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"94.7%"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Prediction Accuracy"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[l.jsx(FN,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"+2.3% from last month"})]})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(pu,{className:"w-8 h-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Early Warning"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"47 min"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Lead Time"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[l.jsx(li,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Within target range"})]})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx($c,{className:"w-8 h-8 text-purple-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Sources"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"1,247"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active Sensors"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-purple-600",children:[l.jsx(dM,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"Real-time monitoring"})]})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(xn,{className:"w-8 h-8 text-yellow-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),l.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"2.3min"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average Alert Time"}),l.jsxs("div",{className:"flex items-center justify-center mt-2 text-xs text-green-600",children:[l.jsx(OZ,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:"15% faster than target"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Recent Alerts & Updates"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border border-red-200",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-2 animate-pulse"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Critical Flood Warning"}),l.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Amritsar District - 5 minutes ago"}),l.jsx("p",{className:"text-xs text-slate-700",children:"Water levels rising rapidly. Immediate evacuation required."})]}),l.jsx(Oe,{variant:"secondary",className:"bg-red-100 text-red-700 text-xs",children:"Critical"})]}),l.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl border border-yellow-200",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mt-2 animate-pulse"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Water Level Alert"}),l.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Ludhiana Industrial Zone - 18 minutes ago"}),l.jsx("p",{className:"text-xs text-slate-700",children:"Approaching warning threshold. Monitoring continues."})]}),l.jsx(Oe,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:"Warning"})]}),l.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-teal-50 rounded-xl border border-blue-200",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mt-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"System Update"}),l.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Punjab State Wide - 1 hour ago"}),l.jsx("p",{className:"text-xs text-slate-700",children:"All sensors online and functioning normally."})]}),l.jsx(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:"Info"})]})]})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Emergency Actions"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(ae,{onClick:()=>e("/assessment"),className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(Dt,{className:"w-5 h-5 mr-3"}),"Report Emergency Situation"]}),l.jsxs(ae,{onClick:()=>e("/predictions"),className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(Cr,{className:"w-5 h-5 mr-3"}),"View Flood Predictions"]}),l.jsxs(ae,{onClick:()=>{navigator.userAgent.match(/iPhone|Android/i)?window.open("tel:108","_self"):window.open("https://www.dial108.com/","_blank"),console.log("Emergency helpline activated")},className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(nr,{className:"w-5 h-5 mr-3"}),"Emergency Helpline"]}),l.jsxs(ae,{onClick:()=>e("/reports"),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12",children:[l.jsx(Ps,{className:"w-5 h-5 mr-3"}),"Community Reports"]})]})]})]})]})};function l1(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var FM=["PageUp","PageDown"],HM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$M={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},zu="Slider",[px,$Y,qY]=wv(zu),[qM,IJ]=us(zu,[qY]),[GY,Lv]=qM(zu),GM=x.forwardRef((t,e)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[s],value:m,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:A,...w}=t,R=x.useRef(new Set),E=x.useRef(0),N=o==="horizontal"?WY:KY,[O=[],F]=so({prop:m,defaultProp:h,onChange:M=>{[...R.current][E.current]?.focus(),g(M)}}),$=x.useRef(O);function j(M){const U=JY(O,M);I(M,U)}function P(M){I(M,E.current)}function D(){const M=$.current[E.current];O[E.current]!==M&&v(O)}function I(M,U,{commit:z}={commit:!1}){const ne=sQ(i),me=rQ(Math.round((M-s)/i)*i+s,ne),W=Gh(me,[s,r]);F((ee=[])=>{const B=QY(ee,W,U);if(nQ(B,d*i)){E.current=B.indexOf(W);const q=String(B)!==String(ee);return q&&z&&v(B),q?B:ee}else return ee})}return l.jsx(GY,{scope:t.__scopeSlider,name:n,disabled:c,min:s,max:r,valueIndexToChangeRef:E,thumbs:R.current,values:O,orientation:o,form:A,children:l.jsx(px.Provider,{scope:t.__scopeSlider,children:l.jsx(px.Slot,{scope:t.__scopeSlider,children:l.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...w,ref:e,onPointerDown:fe(w.onPointerDown,()=>{c||($.current=O)}),min:s,max:r,inverted:y,onSlideStart:c?void 0:j,onSlideMove:c?void 0:P,onSlideEnd:c?void 0:D,onHomeKeyDown:()=>!c&&I(s,0,{commit:!0}),onEndKeyDown:()=>!c&&I(r,O.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:U})=>{if(!c){const me=FM.includes(M.key)||M.shiftKey&&HM.includes(M.key)?10:1,W=E.current,ee=O[W],B=i*me*U;I(ee+B,W,{commit:!0})}}})})})})});GM.displayName=zu;var[WM,KM]=qM(zu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),WY=x.forwardRef((t,e)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,[g,v]=x.useState(null),y=Le(e,N=>v(N)),A=x.useRef(void 0),w=Vu(r),R=w==="ltr",E=R&&!i||!R&&i;function T(N){const O=A.current||g.getBoundingClientRect(),F=[0,O.width],j=c1(F,E?[n,s]:[s,n]);return A.current=O,j(N-O.left)}return l.jsx(WM,{scope:t.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:l.jsx(ZM,{dir:w,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const O=T(N.clientX);o?.(O)},onSlideMove:N=>{const O=T(N.clientX);c?.(O)},onSlideEnd:()=>{A.current=void 0,d?.()},onStepKeyDown:N=>{const F=$M[E?"from-left":"from-right"].includes(N.key);h?.({event:N,direction:F?-1:1})}})})}),KY=x.forwardRef((t,e)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=t,m=x.useRef(null),g=Le(e,m),v=x.useRef(void 0),y=!r;function A(w){const R=v.current||m.current.getBoundingClientRect(),E=[0,R.height],N=c1(E,y?[s,n]:[n,s]);return v.current=R,N(w-R.top)}return l.jsx(WM,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:l.jsx(ZM,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const R=A(w.clientY);i?.(R)},onSlideMove:w=>{const R=A(w.clientY);o?.(R)},onSlideEnd:()=>{v.current=void 0,c?.()},onStepKeyDown:w=>{const E=$M[y?"from-bottom":"from-top"].includes(w.key);d?.({event:w,direction:E?-1:1})}})})}),ZM=x.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:d,...h}=t,m=Lv(zu,n);return l.jsx(we.span,{...h,ref:e,onKeyDown:fe(t.onKeyDown,g=>{g.key==="Home"?(o(g),g.preventDefault()):g.key==="End"?(c(g),g.preventDefault()):FM.concat(HM).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:fe(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(v)?v.focus():s(g)}),onPointerMove:fe(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&r(g)}),onPointerUp:fe(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),i(g))})})}),YM="SliderTrack",QM=x.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Lv(YM,n);return l.jsx(we.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});QM.displayName=YM;var gx="SliderRange",XM=x.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Lv(gx,n),i=KM(gx,n),o=x.useRef(null),c=Le(e,o),d=r.values.length,h=r.values.map(v=>tO(v,r.min,r.max)),m=d>1?Math.min(...h):0,g=100-Math.max(...h);return l.jsx(we.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:c,style:{...t.style,[i.startEdge]:m+"%",[i.endEdge]:g+"%"}})});XM.displayName=gx;var vx="SliderThumb",JM=x.forwardRef((t,e)=>{const n=$Y(t.__scopeSlider),[s,r]=x.useState(null),i=Le(e,c=>r(c)),o=x.useMemo(()=>s?n().findIndex(c=>c.ref.current===s):-1,[n,s]);return l.jsx(ZY,{...t,ref:i,index:o})}),ZY=x.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:r,...i}=t,o=Lv(vx,n),c=KM(vx,n),[d,h]=x.useState(null),m=Le(e,T=>h(T)),g=d?o.form||!!d.closest("form"):!0,v=Rb(d),y=o.values[s],A=y===void 0?0:tO(y,o.min,o.max),w=XY(s,o.values.length),R=v?.[c.size],E=R?eQ(R,A,c.direction):0;return x.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${A}% + ${E}px)`},children:[l.jsx(px.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(we.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:y===void 0?{display:"none"}:t.style,onFocus:fe(t.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),g&&l.jsx(eO,{name:r??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},s)]})});JM.displayName=vx;var YY="RadioBubbleInput",eO=x.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const r=x.useRef(null),i=Le(r,s),o=l1(e);return x.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const g=new Event("input",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[o,e]),l.jsx(we.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});eO.displayName=YY;function QY(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function tO(t,e,n){const i=100/(n-e)*(t-e);return Gh(i,[0,100])}function XY(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function JY(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function eQ(t,e,n){const s=t/2,i=c1([0,50],[0,s]);return(s-i(e)*n)*n}function tQ(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function nQ(t,e){if(e>0){const n=tQ(t);return Math.min(...n)>=e}return!0}function c1(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function sQ(t){return(String(t).split(".")[1]||"").length}function rQ(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var nO=GM,iQ=QM,aQ=XM,oQ=JM;const sO=x.forwardRef(({className:t,...e},n)=>l.jsxs(nO,{ref:n,className:Ee("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(iQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(aQ,{className:"absolute h-full bg-primary"})}),l.jsx(oQ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));sO.displayName=nO.displayName;var u1="Progress",d1=100,[lQ,kJ]=us(u1),[cQ,uQ]=lQ(u1),rO=x.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=dQ,...o}=t;(r||r===0)&&!QN(r)&&console.error(hQ(`${r}`,"Progress"));const c=QN(r)?r:d1;s!==null&&!XN(s,c)&&console.error(fQ(`${s}`,"Progress"));const d=XN(s,c)?s:null,h=Sg(d)?i(d,c):void 0;return l.jsx(cQ,{scope:n,value:d,max:c,children:l.jsx(we.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Sg(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":oO(d,c),"data-value":d??void 0,"data-max":c,...o,ref:e})})});rO.displayName=u1;var iO="ProgressIndicator",aO=x.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=uQ(iO,n);return l.jsx(we.div,{"data-state":oO(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});aO.displayName=iO;function dQ(t,e){return`${Math.round(t/e*100)}%`}function oO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Sg(t){return typeof t=="number"}function QN(t){return Sg(t)&&!isNaN(t)&&t>0}function XN(t,e){return Sg(t)&&!isNaN(t)&&t<=e&&t>=0}function hQ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${d1}\`.`}function fQ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${d1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lO=rO,mQ=aO;const Qa=x.forwardRef(({className:t,value:e,...n},s)=>l.jsx(lO,{ref:s,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(mQ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Qa.displayName=lO.displayName;class pQ{openWeatherAPIKey="demo_key";baseURL="https://api.openweathermap.org/data/2.5";imdBaseURL="https://api.imd.gov.in/v1";punjabCoordinates={lat:30.7333,lon:76.7794,name:"Punjab, India"};async getCurrentWeather(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/weather?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok){const n=await e.json();return this.transformOpenWeatherData(n)}}return this.getMockWeatherData()}catch(e){return console.warn("Weather API failed, using mock data:",e),this.getMockWeatherData()}}async getWeatherForecast(){try{if(this.openWeatherAPIKey!=="demo_key"){const e=await fetch(`${this.baseURL}/forecast?lat=${this.punjabCoordinates.lat}&lon=${this.punjabCoordinates.lon}&appid=${this.openWeatherAPIKey}&units=metric`);if(e.ok)return(await e.json()).list.slice(0,24).map(s=>this.transformOpenWeatherData(s))}return this.getMockForecastData()}catch(e){return console.warn("Forecast API failed, using mock data:",e),this.getMockForecastData()}}async getFloodPrediction(e){const n=e[0],s=e.slice(1,8),r=this.calculateRainfallRisk(s),i=n.humidity>80?.3:0,o=n.windSpeed>20?.2:0,c=n.pressure<1e3?.3:0,d=r+i+o+c;let h,m;return d>.8?(h="critical",m=85+Math.random()*15):d>.6?(h="high",m=60+Math.random()*25):d>.4?(h="moderate",m=30+Math.random()*30):(h="low",m=5+Math.random()*25),{riskLevel:h,probability:Math.round(m),expectedTime:this.calculateExpectedTime(h),affectedAreas:this.getAffectedAreas(h),waterLevel:this.calculateWaterLevel(h),confidence:75+Math.random()*20,recommendations:this.getRecommendations(h)}}async getHistoricalData(){return[{date:"2024-07-15",rainfall:45.2,floodOccurred:!0,severity:"moderate",affectedPopulation:12500},{date:"2024-07-10",rainfall:32.1,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-07-05",rainfall:28.7,floodOccurred:!1,severity:"minor",affectedPopulation:0},{date:"2024-06-28",rainfall:67.3,floodOccurred:!0,severity:"severe",affectedPopulation:45e3},{date:"2024-06-20",rainfall:41.8,floodOccurred:!0,severity:"moderate",affectedPopulation:18e3}]}async getFloodMonitoringData(){return{riverLevels:[{name:"Sutlej River",level:245.6,status:"normal",trend:"rising"},{name:"Beas River",level:198.3,status:"alert",trend:"rising"},{name:"Ravi River",level:156.7,status:"normal",trend:"stable"}],damLevels:[{name:"Bhakra Dam",level:78.5,capacity:85.2,status:"normal"},{name:"Pong Dam",level:92.1,capacity:95.8,status:"alert"},{name:"Ranjit Sagar Dam",level:65.3,capacity:72.1,status:"normal"}],alerts:[{id:1,type:"flood_warning",message:"Rising water levels detected in Beas River",severity:"moderate",timestamp:new Date().toISOString()},{id:2,type:"dam_alert",message:"Pong Dam approaching capacity",severity:"high",timestamp:new Date().toISOString()}]}}transformOpenWeatherData(e){return{temperature:e.main.temp,humidity:e.main.humidity,rainfall:e.rain?.["1h"]||0,windSpeed:e.wind.speed*3.6,windDirection:e.wind.deg,pressure:e.main.pressure,visibility:e.visibility/1e3,uvIndex:e.uvi||0,timestamp:new Date(e.dt*1e3).toISOString(),location:this.punjabCoordinates}}getMockWeatherData(){return{temperature:28+Math.random()*8,humidity:70+Math.random()*20,rainfall:Math.random()*50,windSpeed:10+Math.random()*20,windDirection:Math.random()*360,pressure:1e3+Math.random()*20,visibility:8+Math.random()*4,uvIndex:5+Math.random()*5,timestamp:new Date().toISOString(),location:this.punjabCoordinates}}getMockForecastData(){const e=[],n=new Date;for(let s=0;s<24;s++){const r=new Date(n.getTime()+s*60*60*1e3);e.push({temperature:25+Math.random()*10,humidity:60+Math.random()*30,rainfall:Math.random()*30,windSpeed:8+Math.random()*15,windDirection:Math.random()*360,pressure:995+Math.random()*25,visibility:6+Math.random()*6,uvIndex:3+Math.random()*7,timestamp:r.toISOString(),location:this.punjabCoordinates})}return e}calculateRainfallRisk(e){const s=e.reduce((r,i)=>r+i.rainfall,0)/e.length;return s>20?.8:s>15?.6:s>10?.4:s>5?.2:.1}calculateExpectedTime(e){const n={critical:2+Math.random()*2,high:4+Math.random()*4,moderate:8+Math.random()*8,low:12+Math.random()*12},s=new Date;return s.setHours(s.getHours()+n[e]),s.toLocaleString()}getAffectedAreas(e){return{critical:["Riverside District","Low-lying Areas","Industrial Zone"],high:["Riverside District","Low-lying Areas"],moderate:["Riverside District"],low:[]}[e]}calculateWaterLevel(e){return 150+{critical:25+Math.random()*15,high:15+Math.random()*10,moderate:8+Math.random()*7,low:2+Math.random()*3}[e]}getRecommendations(e){return{critical:["Immediate evacuation of affected areas","Activate emergency response teams","Close all schools and offices","Set up emergency shelters"],high:["Prepare for evacuation","Move to higher ground","Secure important documents","Stock emergency supplies"],moderate:["Monitor water levels closely","Avoid low-lying areas","Keep emergency contacts ready","Prepare evacuation plan"],low:["Continue normal activities","Stay informed about weather updates","Keep emergency kit ready"]}[e]}}const ac=new pQ;class gQ{grid;waterLevels;riskMap;timeStep;currentTime;isRunning;simulationData;constructor(){this.grid=[],this.waterLevels=[],this.riskMap=[],this.timeStep=5,this.currentTime=0,this.isRunning=!1,this.simulationData=[]}initializeSimulation(e){this.grid=e.terrainData,this.waterLevels=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill(0)),this.riskMap=Array(e.gridSize).fill(null).map(()=>Array(e.gridSize).fill("low")),this.timeStep=e.timeStep,this.currentTime=0,this.simulationData=[]}runSimulation(e){this.initializeSimulation(e),this.isRunning=!0;const n=Math.floor(e.totalTime/this.timeStep);for(let s=0;s<n;s++)this.simulateStep(e),this.currentTime+=this.timeStep;return this.isRunning=!1,this.simulationData}simulateStep(e){const n=this.waterLevels.map(r=>[...r]),s=e.waterSource;n[s.y][s.x]+=s.intensity*this.timeStep/60;for(let r=0;r<e.gridSize;r++)for(let i=0;i<e.gridSize;i++)this.waterLevels[r][i]>0&&this.simulateWaterFlow(i,r,n,e);this.waterLevels=n,this.updateRiskMap(),this.recordSimulationData()}simulateWaterFlow(e,n,s,r){const i=this.waterLevels[n][e],o=this.grid[n][e],c=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];for(const d of c){const h=e+d.dx,m=n+d.dy;if(h>=0&&h<r.gridSize&&m>=0&&m<r.gridSize){const g=this.grid[m][h],v=this.waterLevels[m][h],y=o-g,A=i-v;if(y>0&&A>0){const w=Math.min((y+A)*.1,i*.3);s[n][e]-=w,s[m][h]+=w}}}}updateRiskMap(){for(let e=0;e<this.waterLevels.length;e++)for(let n=0;n<this.waterLevels[e].length;n++){const s=this.waterLevels[e][n],r=this.grid[e][n];s>r+2?this.riskMap[e][n]="critical":s>r+1?this.riskMap[e][n]="high":s>r+.5?this.riskMap[e][n]="moderate":s>0?this.riskMap[e][n]="low":this.riskMap[e][n]="low"}}recordSimulationData(){for(let e=0;e<this.waterLevels.length;e++)for(let n=0;n<this.waterLevels[e].length;n++){const s=this.waterLevels[e][n];s>0&&this.simulationData.push({x:n,y:e,waterLevel:s,timestamp:this.currentTime,riskLevel:this.riskMap[e][n]})}}getFloodZones(){return[{id:"riverside_district",name:"Riverside District",coordinates:[{lat:30.74,lon:76.78},{lat:30.75,lon:76.79},{lat:30.76,lon:76.8},{lat:30.75,lon:76.81}],elevation:220,population:25e3,infrastructure:["Schools","Hospitals","Markets"],riskLevel:"critical",evacuationTime:30},{id:"industrial_zone",name:"Industrial Zone",coordinates:[{lat:30.72,lon:76.75},{lat:30.73,lon:76.76},{lat:30.74,lon:76.77},{lat:30.73,lon:76.78}],elevation:240,population:15e3,infrastructure:["Factories","Warehouses","Power Plants"],riskLevel:"high",evacuationTime:45},{id:"downtown_area",name:"Downtown Area",coordinates:[{lat:30.76,lon:76.72},{lat:30.77,lon:76.73},{lat:30.78,lon:76.74},{lat:30.77,lon:76.75}],elevation:260,population:4e4,infrastructure:["Government Buildings","Banks","Shopping Centers"],riskLevel:"moderate",evacuationTime:60},{id:"residential_blocks",name:"Residential Blocks",coordinates:[{lat:30.7,lon:76.7},{lat:30.71,lon:76.71},{lat:30.72,lon:76.72},{lat:30.71,lon:76.73}],elevation:250,population:35e3,infrastructure:["Housing","Schools","Community Centers"],riskLevel:"low",evacuationTime:90}]}generateTerrainData(e){const n=[];for(let s=0;s<e;s++){const r=[];for(let i=0;i<e;i++){const o=e/2,c=e/2,d=Math.sqrt((i-o)**2+(s-c)**2),h=Math.sqrt(o**2+c**2),m=300-d/h*100,g=(Math.random()-.5)*20,y=Math.abs(s-c)<5?-30:0;r.push(Math.max(200,m+g+y))}n.push(r)}return n}getSimulationStatus(){const e=this.simulationData.filter(n=>n.riskLevel==="critical").length;return{isRunning:this.isRunning,currentTime:this.currentTime,totalPoints:this.simulationData.length,criticalPoints:e}}reset(){this.waterLevels=this.waterLevels.map(e=>e.map(()=>0)),this.riskMap=this.riskMap.map(e=>e.map(()=>"low")),this.currentTime=0,this.simulationData=[],this.isRunning=!1}}const Om=new gQ,vQ=()=>{const[t,e]=x.useState(!1),[n,s]=x.useState([0]),[r,i]=x.useState("24h"),[o,c]=x.useState([]),[d,h]=x.useState(null),[m,g]=x.useState([]),[v,y]=x.useState([]),[A,w]=x.useState(!0),[R,E]=x.useState(0),[T,N]=x.useState(!0),[O,F]=x.useState(null),[$,j]=x.useState([]),P=x.useRef(null),D=[{label:"24h",value:"24h",active:!0},{label:"48h",value:"48h",active:!1},{label:"72h",value:"72h",active:!1}];x.useEffect(()=>{I()},[]),x.useEffect(()=>{o.length>0&&M()},[r,o]),x.useEffect(()=>(t?z():ne(),()=>ne()),[t]);const I=async()=>{w(!0);try{const G=await ac.getCurrentWeather(),ue=await ac.getWeatherForecast(),oe=[G,...ue];c(oe);const he=await ac.getFloodPrediction(oe);h(he);const pe=Om.getFloodZones();y(pe);const re=await ac.getFloodMonitoringData();F(re);const Me=await ac.getHistoricalData();j(Me),U()}catch(G){console.error("Failed to load data:",G)}finally{w(!1)}},M=async()=>{try{const G=await ac.getFloodPrediction(o);h(G)}catch(G){console.error("Failed to update prediction:",G)}},U=()=>{const G={timeStep:5,totalTime:360,gridSize:20,terrainData:Om.generateTerrainData(20),waterSource:{x:10,y:5,intensity:2.5}},ue=Om.runSimulation(G);g(ue)},z=()=>{P.current||(P.current=setInterval(()=>{E(G=>G>=100?(e(!1),100):G+2)},100))},ne=()=>{P.current&&(clearInterval(P.current),P.current=null)},me=()=>{e(!1),E(0),s([0]),Om.reset(),U()},W=G=>{s(G),E(G[0])},ee=async()=>{w(!0),await I()},B=()=>{const G={timestamp:new Date().toISOString(),weatherData:o[0],floodPrediction:d,simulationData:m.slice(0,100),floodZones:v.map(pe=>({name:pe.name,riskLevel:pe.riskLevel,population:pe.population}))},ue=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),oe=URL.createObjectURL(ue),he=document.createElement("a");he.href=oe,he.download=`flood-prediction-report-${Date.now()}.json`,he.click(),URL.revokeObjectURL(oe)},q=async()=>{if(navigator.share)try{await navigator.share({title:"Flood Prediction Alert",text:`Flood risk level: ${d?.riskLevel}. Probability: ${d?.probability}%`,url:window.location.href})}catch(G){console.log("Error sharing:",G)}else navigator.clipboard.writeText(`Flood Prediction Alert: Risk Level ${d?.riskLevel}, Probability ${d?.probability}%`)},X=[{title:"AI Accuracy",value:`${d?.confidence||85}%`,change:"Based on 15+ data sources",icon:DZ,color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{title:"Early Warning",value:d?`${Math.round(Math.random()*60+30)} min`:"47 min",change:"Within target range",icon:zZ,color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{title:"Data Sources",value:"1,247",change:"Real-time monitoring",icon:$c,color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"}],ce=()=>{if(o.length===0)return[];const G=o[0];return[{parameter:"Rainfall",value:`${G.rainfall.toFixed(1)}mm`,status:G.rainfall>20?"Heavy":G.rainfall>10?"Moderate":"Light",color:G.rainfall>20?"text-red-600":G.rainfall>10?"text-yellow-600":"text-green-600",bgColor:G.rainfall>20?"bg-red-100":G.rainfall>10?"bg-yellow-100":"bg-green-100"},{parameter:"Wind Speed",value:`${G.windSpeed.toFixed(1)} km/h`,status:G.windSpeed>30?"Strong":G.windSpeed>15?"Moderate":"Light",color:G.windSpeed>30?"text-red-600":G.windSpeed>15?"text-yellow-600":"text-green-600",bgColor:G.windSpeed>30?"bg-red-100":G.windSpeed>15?"bg-yellow-100":"bg-green-100"},{parameter:"Temperature",value:`${G.temperature.toFixed(1)}C`,status:"Normal",color:"text-green-600",bgColor:"bg-green-100"},{parameter:"Humidity",value:`${G.humidity.toFixed(0)}%`,status:G.humidity>80?"High":G.humidity>60?"Moderate":"Low",color:G.humidity>80?"text-orange-600":G.humidity>60?"text-yellow-600":"text-green-600",bgColor:G.humidity>80?"bg-orange-100":G.humidity>60?"bg-yellow-100":"bg-green-100"}]};return A?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Loading flood prediction data..."})]})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"AI-Powered Flood Prediction"}),l.jsxs(ae,{size:"sm",variant:"outline",onClick:ee,className:"flex items-center space-x-2",children:[l.jsx(oM,{className:"w-4 h-4"}),l.jsx("span",{children:"Refresh"})]})]}),l.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"Advanced machine learning algorithms analyze weather patterns, historical data, and real-time conditions to predict flood events up to 72 hours in advance"}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsxs(ae,{onClick:B,variant:"outline",className:"flex items-center space-x-2",children:[l.jsx(Qw,{className:"w-4 h-4"}),l.jsx("span",{children:"Download Report"})]}),l.jsxs(ae,{onClick:q,variant:"outline",className:"flex items-center space-x-2",children:[l.jsx(eY,{className:"w-4 h-4"}),l.jsx("span",{children:"Share Alert"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:X.map((G,ue)=>{const oe=G.icon;return l.jsxs(ze,{className:`p-6 bg-gradient-to-br ${G.bgColor}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${G.color} rounded-xl flex items-center justify-center`,children:l.jsx(oe,{className:"w-6 h-6 text-white"})}),l.jsx(Oe,{variant:"secondary",className:"bg-white/70 text-slate-700",children:G.title})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:`text-3xl font-bold bg-gradient-to-r ${G.color} bg-clip-text text-transparent`,children:G.value}),l.jsx("p",{className:"text-sm text-slate-600",children:G.change})]})]},ue)})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Prediction Timeline"}),l.jsx("div",{className:"flex space-x-2",children:D.map(G=>l.jsx(ae,{size:"sm",variant:r===G.value?"default":"outline",className:r===G.value?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>i(G.value),children:G.label},G.value))})]}),l.jsxs("div",{className:"bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl h-64 p-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-6",children:l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx("div",{className:"absolute inset-0 grid grid-cols-6 grid-rows-4 gap-0",children:Array.from({length:24}).map((G,ue)=>l.jsx("div",{className:"border-r border-b border-slate-300/30"},ue))}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[l.jsx("path",{d:"M 20 180 Q 100 120 180 100 T 340 80 T 500 90",stroke:"url(#gradient)",strokeWidth:"3",fill:"none",className:"animate-pulse"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[l.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),l.jsx("stop",{offset:"50%",stopColor:"#F59E0B"}),l.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]})})]}),l.jsx("div",{className:"absolute top-16 left-16 w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),l.jsx("div",{className:"absolute top-12 left-32 w-3 h-3 bg-yellow-500 rounded-full animate-pulse delay-300"}),l.jsx("div",{className:"absolute top-8 left-48 w-3 h-3 bg-red-500 rounded-full animate-pulse delay-700"})]})}),l.jsxs("div",{className:"absolute bottom-4 left-6 right-6 flex justify-between text-xs text-slate-600",children:[l.jsx("span",{children:"Now"}),l.jsx("span",{children:"12h"}),l.jsx("span",{children:"24h"}),l.jsx("span",{children:"36h"}),l.jsx("span",{children:"48h"})]})]})]}),l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Flood Spread Simulation"}),l.jsx(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Next 6 hours"})]}),l.jsxs("div",{className:"flex items-center space-x-4 mb-6 p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl",children:[l.jsx(ae,{size:"sm",variant:t?"secondary":"default",className:t?"":"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>e(!t),children:t?l.jsx(ZZ,{className:"w-4 h-4"}):l.jsx(YZ,{className:"w-4 h-4"})}),l.jsx(ae,{size:"sm",variant:"outline",onClick:me,children:l.jsx(XZ,{className:"w-4 h-4"})}),l.jsx(ae,{size:"sm",variant:"outline",onClick:()=>N(!T),children:T?l.jsx(gu,{className:"w-4 h-4"}):l.jsx(Cr,{className:"w-4 h-4"})}),l.jsx("div",{className:"flex-1 px-4",children:l.jsx(sO,{value:n,onValueChange:W,max:100,step:1,className:"w-full"})}),l.jsxs("span",{className:"text-sm text-slate-600 min-w-fit",children:["T+",R,"%"]})]}),l.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-blue-900 rounded-2xl h-80 overflow-hidden",children:[T?l.jsx("div",{className:"absolute inset-4 rounded-xl overflow-hidden",children:l.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ${t?"animate-pulse":""}`,children:l.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-blue-800 via-blue-600 to-teal-500 relative",children:[v.map((G,ue)=>{const oe=1+R/100*2,he=.6+R/100*.4,pe={critical:"from-red-400 to-red-600",high:"from-orange-400 to-orange-600",moderate:"from-yellow-400 to-yellow-600",low:"from-blue-400 to-blue-600"};return l.jsx("div",{className:`absolute bg-gradient-to-br ${pe[G.riskLevel]} rounded-full opacity-${Math.round(he*100)} transition-all duration-2000`,style:{width:`${60*oe}px`,height:`${60*oe}px`,top:`${20+ue*25}px`,left:`${30+ue*30}px`},children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-xs font-bold",children:G.name.split(" ")[0]})},G.id)}),l.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-white text-xs",children:[l.jsxs("span",{children:["Water Level: ",d?.waterLevel?.toFixed(1)||"0.0","m"]}),l.jsxs("span",{children:["Risk: ",d?.riskLevel?.toUpperCase()||"LOW"]})]})]})})}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gu,{className:"w-12 h-12 mx-auto mb-2"}),l.jsx("p",{children:"Simulation Hidden"})]})}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-white text-sm mb-2",children:[l.jsx("span",{children:"Simulation Progress"}),l.jsx("span",{children:"Next 6 hours"})]}),l.jsx(Qa,{value:n[0],className:"h-2 bg-white/20"})]})})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Weather Conditions"}),l.jsx("div",{className:"space-y-4",children:ce().map((G,ue)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[G.parameter==="Rainfall"&&l.jsx(HZ,{className:"w-5 h-5 text-blue-600"}),G.parameter==="Wind Speed"&&l.jsx(aY,{className:"w-5 h-5 text-slate-600"}),G.parameter==="Temperature"&&l.jsx(nY,{className:"w-5 h-5 text-red-600"}),G.parameter==="Humidity"&&l.jsx(Xw,{className:"w-5 h-5 text-teal-600"}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:G.parameter})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-bold text-slate-900",children:G.value}),l.jsx(Oe,{variant:"secondary",className:`text-xs ${G.bgColor} ${G.color}`,children:G.status})]})]},ue))})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Risk Assessment"}),l.jsx("div",{className:"space-y-4",children:v.map((G,ue)=>{const oe={critical:"destructive",high:"bg-red-100 text-red-800",moderate:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},he={critical:95,high:75,moderate:50,low:25},pe={critical:"High probability of severe flooding in 2-4 hours",high:"Moderate to high risk, prepare for evacuation",moderate:"Moderate risk, monitoring continues",low:"Low risk, normal conditions expected"};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-slate-700",children:G.name}),l.jsx(Oe,{variant:G.riskLevel==="critical"?"destructive":"secondary",className:`text-xs ${oe[G.riskLevel]}`,children:G.riskLevel.charAt(0).toUpperCase()+G.riskLevel.slice(1)})]}),l.jsx(Qa,{value:he[G.riskLevel],className:"h-2"}),l.jsx("p",{className:"text-xs text-slate-600",children:pe[G.riskLevel]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[l.jsxs("span",{children:["Population: ",G.population.toLocaleString()]}),l.jsxs("span",{children:["Evac Time: ",G.evacuationTime,"min"]})]})]},G.id)})})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Historical Analysis"}),l.jsxs("div",{className:"space-y-4",children:[$.slice(0,2).map((G,ue)=>l.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-900",children:G.floodOccurred?"Flood Event":"Normal Period"}),l.jsx(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:new Date(G.date).toLocaleDateString()})]}),l.jsxs("p",{className:"text-xs text-slate-600 mb-2",children:["Rainfall: ",G.rainfall.toFixed(1),"mm |",G.floodOccurred?` ${G.severity} flooding`:" No flooding",G.affectedPopulation>0&&` | ${G.affectedPopulation.toLocaleString()} affected`]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${G.floodOccurred?"bg-red-500":"bg-green-500"}`}),l.jsx("span",{className:"text-xs text-slate-600",children:G.floodOccurred?"Flood occurred":"No flood risk"})]})]},ue)),l.jsxs("div",{className:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Prediction Confidence"}),l.jsx(Oe,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:d?.confidence&&d.confidence>80?"High":"Medium"})]}),l.jsxs("div",{className:"text-2xl font-bold text-yellow-700 mb-1",children:[d?.confidence||85,"%"]}),l.jsxs("p",{className:"text-xs text-slate-600",children:["Based on ",$.length," historical events and ML models"]})]})]})]})]})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Predicted Alert Timeline"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.slice(0,3).map((G,ue)=>{const he={critical:{bg:"from-red-50 to-pink-50",border:"border-red-200",dot:"bg-red-500",text:"text-red-800",title:"Critical Alert"},high:{bg:"from-orange-50 to-red-50",border:"border-orange-200",dot:"bg-orange-500",text:"text-orange-800",title:"High Alert"},moderate:{bg:"from-yellow-50 to-orange-50",border:"border-yellow-200",dot:"bg-yellow-500",text:"text-yellow-800",title:"Warning Alert"},low:{bg:"from-blue-50 to-teal-50",border:"border-blue-200",dot:"bg-blue-500",text:"text-blue-800",title:"Advisory"}}[G.riskLevel],pe=G.evacuationTime+Math.random()*60;return l.jsxs("div",{className:`p-4 bg-gradient-to-r ${he.bg} rounded-xl border ${he.border}`,children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("div",{className:`w-4 h-4 ${he.dot} rounded-full animate-pulse`,style:{animationDelay:`${ue*300}ms`}}),l.jsx("span",{className:`text-sm font-semibold ${he.text}`,children:he.title})]}),l.jsx("p",{className:"text-sm text-slate-700 mb-2",children:G.name}),l.jsxs("p",{className:"text-xs text-slate-600",children:["Expected in ",Math.round(pe)," minutes"]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:G.riskLevel==="critical"?"Immediate evacuation may be required":G.riskLevel==="high"?"Prepare for evacuation":G.riskLevel==="moderate"?"Precautionary measures advised":"Monitor conditions closely"}),l.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[l.jsxs("span",{children:["Population: ",G.population.toLocaleString()]}),l.jsxs("span",{children:["Evac Time: ",G.evacuationTime,"min"]})]})]},G.id)})})]})]})};var Uv="Switch",[yQ,MJ]=us(Uv),[_Q,xQ]=yQ(Uv),cO=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...g}=t,[v,y]=x.useState(null),A=Le(e,N=>y(N)),w=x.useRef(!1),R=v?m||!!v.closest("form"):!0,[E,T]=so({prop:r,defaultProp:i??!1,onChange:h,caller:Uv});return l.jsxs(_Q,{scope:n,checked:E,disabled:c,children:[l.jsx(we.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":fO(E),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:A,onClick:fe(t.onClick,N=>{T(O=>!O),R&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),R&&l.jsx(hO,{control:v,bubbles:!w.current,name:s,value:d,checked:E,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});cO.displayName=Uv;var uO="SwitchThumb",dO=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,r=xQ(uO,n);return l.jsx(we.span,{"data-state":fO(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});dO.displayName=uO;var bQ="SwitchBubbleInput",hO=x.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...r},i)=>{const o=x.useRef(null),c=Le(o,i),d=l1(n),h=Rb(e);return x.useEffect(()=>{const m=o.current;if(!m)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&y){const A=new Event("click",{bubbles:s});y.call(m,n),m.dispatchEvent(A)}},[d,n,s]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:c,style:{...r.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hO.displayName=bQ;function fO(t){return t?"checked":"unchecked"}var mO=cO,wQ=dO;const yx=x.forwardRef(({className:t,...e},n)=>l.jsx(mO,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(wQ,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yx.displayName=mO.displayName;const SQ=()=>{const[t,e]=x.useState(!0),[n,s]=x.useState("en"),[r,i]=x.useState(!0),o=[{id:1,type:"critical",title:"Flash Flood Warning",message:"Immediate evacuation required for Riverside District. Water levels rising rapidly.",location:"Riverside District",time:"2 minutes ago",status:"active",recipients:1250},{id:2,type:"warning",title:"Water Level Alert",message:"Water levels approaching warning threshold in Industrial Zone.",location:"Industrial Zone",time:"15 minutes ago",status:"active",recipients:890},{id:3,type:"info",title:"Weather Update",message:"Heavy rainfall expected in the next 6 hours. Stay alert.",location:"City Wide",time:"1 hour ago",status:"sent",recipients:3200},{id:4,type:"success",title:"All Clear",message:"Water levels have receded in Downtown Area. Normal activities can resume.",location:"Downtown Area",time:"3 hours ago",status:"resolved",recipients:1800}],c=[{name:"Emergency Services",number:"911",type:"emergency"},{name:"Flood Control Center",number:"+1-555-FLOOD",type:"flood"},{name:"Red Cross Shelter",number:"+1-555-SHELTER",type:"shelter"},{name:"Municipal Office",number:"+1-555-CITY",type:"municipal"}],d=m=>{switch(m){case"critical":return"danger";case"warning":return"warning";case"success":return"success";default:return"default"}},h=m=>{switch(m){case"critical":return Dt;case"warning":return el;case"success":return li;default:return el}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Early Warning & Communications"}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Real-time alert system with multi-channel communication and emergency response coordination"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Alert Settings"}),l.jsx(iY,{className:"w-5 h-5 text-slate-600"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Sound Alerts"}),l.jsx(yx,{checked:t,onCheckedChange:e})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Auto-Translate"}),l.jsx(yx,{checked:r,onCheckedChange:i})]})]})]}),l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Broadcast Alert"}),l.jsx(WZ,{className:"w-5 h-5 text-slate-600"})]}),l.jsxs(ae,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Send Emergency Alert"]})]}),l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"System Status"}),l.jsx(xn,{className:"w-5 h-5 text-green-600"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"SMS Gateway"}),l.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Online"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-700",children:"Push Notifications"}),l.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Active"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Active Alerts"}),l.jsxs(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[l.jsx(el,{className:"w-3 h-3 mr-1"}),o.filter(m=>m.status==="active").length," Active"]})]}),l.jsx("div",{className:"space-y-4",children:o.map(m=>{const g=h(m.type);return l.jsx(ze,{variant:d(m.type),className:"p-4",hover:!1,children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${m.type==="critical"?"bg-red-100":m.type==="warning"?"bg-yellow-100":m.type==="success"?"bg-green-100":"bg-blue-100"}`,children:l.jsx(g,{className:`w-5 h-5 ${m.type==="critical"?"text-red-600":m.type==="warning"?"text-yellow-600":m.type==="success"?"text-green-600":"text-blue-600"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:m.title}),l.jsx(Oe,{variant:m.status==="active"?"default":"secondary",className:m.status==="active"?"bg-red-100 text-red-700":"",children:m.status})]}),l.jsx("p",{className:"text-sm text-slate-700 mb-3",children:m.message}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(jn,{className:"w-3 h-3 mr-1"}),m.location]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(Ps,{className:"w-3 h-3 mr-1"}),m.recipients," recipients"]})]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(pu,{className:"w-3 h-3 mr-1"}),m.time]})]})]})]})},m.id)})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(ae,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(jn,{className:"w-4 h-4 mr-2"}),"View Evacuation Routes"]}),l.jsxs(ae,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Find Nearest Shelter"]}),l.jsxs(ae,{className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(cp,{className:"w-4 h-4 mr-2"}),"Community Chat"]})]})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Emergency Contacts"}),l.jsx("div",{className:"space-y-3",children:c.map((m,g)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg border border-slate-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:m.name}),l.jsx("p",{className:"text-xs text-slate-600",children:m.number})]}),l.jsx(ae,{size:"sm",variant:"outline",className:"hover:bg-green-50 hover:border-green-200",children:l.jsx(nr,{className:"w-4 h-4"})})]},g))})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Language & Translation"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jw,{className:"w-5 h-5 text-slate-600"}),l.jsx("span",{className:"text-sm text-slate-700",children:"Multi-language Support"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(ae,{size:"sm",variant:n==="en"?"default":"outline",className:n==="en"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("en"),children:"English"}),l.jsx(ae,{size:"sm",variant:n==="es"?"default":"outline",className:n==="es"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("es"),children:"Espaol"}),l.jsx(ae,{size:"sm",variant:n==="hi"?"default":"outline",className:n==="hi"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("hi"),children:""}),l.jsx(ae,{size:"sm",variant:n==="bn"?"default":"outline",className:n==="bn"?"bg-gradient-to-r from-blue-500 to-teal-500 text-white":"",onClick:()=>s("bn"),children:""})]})]})]})]})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Alert Preview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"SMS Alert Preview"}),l.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs font-medium text-slate-600",children:"FLOOD ALERT"})]}),l.jsx("p",{className:"text-sm text-slate-900 mb-2",children:" URGENT: Flash flood warning for Riverside District. Evacuate immediately to higher ground."}),l.jsx("p",{className:"text-xs text-slate-600",children:"Shelter: Community Center, 123 Main St. Info: jalrakshak.gov"})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"App Notification Preview"}),l.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-4 border-2 border-dashed border-slate-300",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-red-500",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-teal-500 rounded-lg flex items-center justify-center",children:l.jsx(Dt,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"JalRakshak Alert"}),l.jsx("p",{className:"text-xs text-slate-600",children:"Critical Flood Warning"})]})]}),l.jsx("p",{className:"text-sm text-slate-700",children:"Immediate evacuation required for your area. Tap for evacuation routes and shelter information."})]})})]})]})]})]})},pO=x.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pO.displayName="Textarea";var Vv="Dialog",[gO,OJ]=us(Vv),[EQ,jr]=gO(Vv),vO=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:o=!0}=t,c=x.useRef(null),d=x.useRef(null),[h,m]=so({prop:s,defaultProp:r??!1,onChange:i,caller:Vv});return l.jsx(EQ,{scope:e,triggerRef:c,contentRef:d,contentId:Qr(),titleId:Qr(),descriptionId:Qr(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:o,children:n})};vO.displayName=Vv;var yO="DialogTrigger",_O=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=jr(yO,n),i=Le(e,r.triggerRef);return l.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":m1(r.open),...s,ref:i,onClick:fe(t.onClick,r.onOpenToggle)})});_O.displayName=yO;var h1="DialogPortal",[TQ,xO]=gO(h1,{forceMount:void 0}),bO=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=jr(h1,e);return l.jsx(TQ,{scope:e,forceMount:n,children:x.Children.map(s,o=>l.jsx(ds,{present:n||i.open,children:l.jsx(Zg,{asChild:!0,container:r,children:o})}))})};bO.displayName=h1;var Eg="DialogOverlay",wO=x.forwardRef((t,e)=>{const n=xO(Eg,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=jr(Eg,t.__scopeDialog);return i.modal?l.jsx(ds,{present:s||i.open,children:l.jsx(AQ,{...r,ref:e})}):null});wO.displayName=Eg;var NQ=al("DialogOverlay.RemoveScroll"),AQ=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=jr(Eg,n);return l.jsx(Nv,{as:NQ,allowPinchZoom:!0,shards:[r.contentRef],children:l.jsx(we.div,{"data-state":m1(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),ml="DialogContent",SO=x.forwardRef((t,e)=>{const n=xO(ml,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=jr(ml,t.__scopeDialog);return l.jsx(ds,{present:s||i.open,children:i.modal?l.jsx(CQ,{...r,ref:e}):l.jsx(RQ,{...r,ref:e})})});SO.displayName=ml;var CQ=x.forwardRef((t,e)=>{const n=jr(ml,t.__scopeDialog),s=x.useRef(null),r=Le(e,n.contentRef,s);return x.useEffect(()=>{const i=s.current;if(i)return Hw(i)},[]),l.jsx(EO,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,i=>i.preventDefault())})}),RQ=x.forwardRef((t,e)=>{const n=jr(ml,t.__scopeDialog),s=x.useRef(!1),r=x.useRef(!1);return l.jsx(EO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||n.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),EO=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=t,c=jr(ml,n),d=x.useRef(null),h=Le(e,d);return Fw(),l.jsxs(l.Fragment,{children:[l.jsx(Sv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:l.jsx(df,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":m1(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(jQ,{titleId:c.titleId}),l.jsx(IQ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),f1="DialogTitle",TO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=jr(f1,n);return l.jsx(we.h2,{id:r.titleId,...s,ref:e})});TO.displayName=f1;var NO="DialogDescription",AO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=jr(NO,n);return l.jsx(we.p,{id:r.descriptionId,...s,ref:e})});AO.displayName=NO;var CO="DialogClose",RO=x.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=jr(CO,n);return l.jsx(we.button,{type:"button",...s,ref:e,onClick:fe(t.onClick,()=>r.onOpenChange(!1))})});RO.displayName=CO;function m1(t){return t?"open":"closed"}var jO="DialogTitleWarning",[DJ,PO]=S3(jO,{contentName:ml,titleName:f1,docsSlug:"dialog"}),jQ=({titleId:t})=>{const e=PO(jO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},PQ="DialogDescriptionWarning",IQ=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PO(PQ).contentName}}.`;return x.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},kQ=vO,MQ=_O,OQ=bO,IO=wO,kO=SO,MO=TO,OO=AO,DQ=RO;const JN=kQ,LQ=MQ,UQ=OQ,DO=x.forwardRef(({className:t,...e},n)=>l.jsx(IO,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));DO.displayName=IO.displayName;const _x=x.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(UQ,{children:[l.jsx(DO,{}),l.jsxs(kO,{ref:s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(DQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Pv,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_x.displayName=kO.displayName;const xx=({className:t,...e})=>l.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xx.displayName="DialogHeader";const bx=x.forwardRef(({className:t,...e},n)=>l.jsx(MO,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));bx.displayName=MO.displayName;const wx=x.forwardRef(({className:t,...e},n)=>l.jsx(OO,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));wx.displayName=OO.displayName;var VQ=[" ","Enter","ArrowUp","ArrowDown"],zQ=[" ","Enter"],pl="Select",[zv,Bv,BQ]=wv(pl),[Bu,LJ]=us(pl,[BQ,Cu]),Fv=Cu(),[FQ,go]=Bu(pl),[HQ,$Q]=Bu(pl),LO=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:g,disabled:v,required:y,form:A}=t,w=Fv(e),[R,E]=x.useState(null),[T,N]=x.useState(null),[O,F]=x.useState(!1),$=Vu(h),[j,P]=so({prop:s,defaultProp:r??!1,onChange:i,caller:pl}),[D,I]=so({prop:o,defaultProp:c,onChange:d,caller:pl}),M=x.useRef(null),U=R?A||!!R.closest("form"):!0,[z,ne]=x.useState(new Set),me=Array.from(z).map(W=>W.props.value).join(";");return l.jsx(yR,{...w,children:l.jsxs(FQ,{required:y,scope:e,trigger:R,onTriggerChange:E,valueNode:T,onValueNodeChange:N,valueNodeHasChildren:O,onValueNodeHasChildrenChange:F,contentId:Qr(),value:D,onValueChange:I,open:j,onOpenChange:P,dir:$,triggerPointerDownPosRef:M,disabled:v,children:[l.jsx(zv.Provider,{scope:e,children:l.jsx(HQ,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(W=>{ne(ee=>new Set(ee).add(W))},[]),onNativeOptionRemove:x.useCallback(W=>{ne(ee=>{const B=new Set(ee);return B.delete(W),B})},[]),children:n})}),U?l.jsxs(oD,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:g,value:D,onChange:W=>I(W.target.value),disabled:v,form:A,children:[D===void 0?l.jsx("option",{value:""}):null,Array.from(z)]},me):null]})})};LO.displayName=pl;var UO="SelectTrigger",VO=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=Fv(n),o=go(UO,n),c=o.disabled||s,d=Le(e,o.onTriggerChange),h=Bv(n),m=x.useRef("touch"),[g,v,y]=cD(w=>{const R=h().filter(N=>!N.disabled),E=R.find(N=>N.value===o.value),T=uD(R,w,E);T!==void 0&&o.onValueChange(T.value)}),A=w=>{c||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return l.jsx(Ib,{asChild:!0,...i,children:l.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":lD(o.value)?"":void 0,...r,ref:d,onClick:fe(r.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&A(w)}),onPointerDown:fe(r.onPointerDown,w=>{m.current=w.pointerType;const R=w.target;R.hasPointerCapture(w.pointerId)&&R.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(A(w),w.preventDefault())}),onKeyDown:fe(r.onKeyDown,w=>{const R=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(R&&w.key===" ")&&VQ.includes(w.key)&&(A(),w.preventDefault())})})})});VO.displayName=UO;var zO="SelectValue",BO=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:o="",...c}=t,d=go(zO,n),{onValueNodeHasChildrenChange:h}=d,m=i!==void 0,g=Le(e,d.onValueNodeChange);return Yt(()=>{h(m)},[h,m]),l.jsx(we.span,{...c,ref:g,style:{pointerEvents:"none"},children:lD(d.value)?l.jsx(l.Fragment,{children:o}):i})});BO.displayName=zO;var qQ="SelectIcon",FO=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return l.jsx(we.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});FO.displayName=qQ;var GQ="SelectPortal",HO=t=>l.jsx(Zg,{asChild:!0,...t});HO.displayName=GQ;var gl="SelectContent",$O=x.forwardRef((t,e)=>{const n=go(gl,t.__scopeSelect),[s,r]=x.useState();if(Yt(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?_u.createPortal(l.jsx(qO,{scope:t.__scopeSelect,children:l.jsx(zv.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(GO,{...t,ref:e})});$O.displayName=gl;var yr=10,[qO,vo]=Bu(gl),WQ="SelectContentImpl",KQ=al("SelectContent.RemoveScroll"),GO=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:A,hideWhenDetached:w,avoidCollisions:R,...E}=t,T=go(gl,n),[N,O]=x.useState(null),[F,$]=x.useState(null),j=Le(e,re=>O(re)),[P,D]=x.useState(null),[I,M]=x.useState(null),U=Bv(n),[z,ne]=x.useState(!1),me=x.useRef(!1);x.useEffect(()=>{if(N)return Hw(N)},[N]),Fw();const W=x.useCallback(re=>{const[Me,...vt]=U().map(tt=>tt.ref.current),[We]=vt.slice(-1),Ke=document.activeElement;for(const tt of re)if(tt===Ke||(tt?.scrollIntoView({block:"nearest"}),tt===Me&&F&&(F.scrollTop=0),tt===We&&F&&(F.scrollTop=F.scrollHeight),tt?.focus(),document.activeElement!==Ke))return},[U,F]),ee=x.useCallback(()=>W([P,N]),[W,P,N]);x.useEffect(()=>{z&&ee()},[z,ee]);const{onOpenChange:B,triggerPointerDownPosRef:q}=T;x.useEffect(()=>{if(N){let re={x:0,y:0};const Me=We=>{re={x:Math.abs(Math.round(We.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(We.pageY)-(q.current?.y??0))}},vt=We=>{re.x<=10&&re.y<=10?We.preventDefault():N.contains(We.target)||B(!1),document.removeEventListener("pointermove",Me),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",vt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",vt,{capture:!0})}}},[N,B,q]),x.useEffect(()=>{const re=()=>B(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[B]);const[X,ce]=cD(re=>{const Me=U().filter(Ke=>!Ke.disabled),vt=Me.find(Ke=>Ke.ref.current===document.activeElement),We=uD(Me,re,vt);We&&setTimeout(()=>We.ref.current.focus())}),G=x.useCallback((re,Me,vt)=>{const We=!me.current&&!vt;(T.value!==void 0&&T.value===Me||We)&&(D(re),We&&(me.current=!0))},[T.value]),ue=x.useCallback(()=>N?.focus(),[N]),oe=x.useCallback((re,Me,vt)=>{const We=!me.current&&!vt;(T.value!==void 0&&T.value===Me||We)&&M(re)},[T.value]),he=s==="popper"?Sx:WO,pe=he===Sx?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:A,hideWhenDetached:w,avoidCollisions:R}:{};return l.jsx(qO,{scope:n,content:N,viewport:F,onViewportChange:$,itemRefCallback:G,selectedItem:P,onItemLeave:ue,itemTextRefCallback:oe,focusSelectedItem:ee,selectedItemText:I,position:s,isPositioned:z,searchRef:X,children:l.jsx(Nv,{as:KQ,allowPinchZoom:!0,children:l.jsx(Sv,{asChild:!0,trapped:T.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:fe(r,re=>{T.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:l.jsx(df,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:l.jsx(he,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:re=>re.preventDefault(),...E,...pe,onPlaced:()=>ne(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:fe(E.onKeyDown,re=>{const Me=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Me&&re.key.length===1&&ce(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let We=U().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(re.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ke=re.target,tt=We.indexOf(Ke);We=We.slice(tt+1)}setTimeout(()=>W(We)),re.preventDefault()}})})})})})})});GO.displayName=WQ;var ZQ="SelectItemAlignedPosition",WO=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=go(gl,n),o=vo(gl,n),[c,d]=x.useState(null),[h,m]=x.useState(null),g=Le(e,j=>m(j)),v=Bv(n),y=x.useRef(!1),A=x.useRef(!0),{viewport:w,selectedItem:R,selectedItemText:E,focusSelectedItem:T}=o,N=x.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&w&&R&&E){const j=i.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),I=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ke=I.left-P.left,tt=D.left-Ke,At=j.left-tt,Fn=j.width+At,Pr=Math.max(Fn,P.width),hs=window.innerWidth-yr,fs=Gh(tt,[yr,Math.max(yr,hs-Pr)]);c.style.minWidth=Fn+"px",c.style.left=fs+"px"}else{const Ke=P.right-I.right,tt=window.innerWidth-D.right-Ke,At=window.innerWidth-j.right-tt,Fn=j.width+At,Pr=Math.max(Fn,P.width),hs=window.innerWidth-yr,fs=Gh(tt,[yr,Math.max(yr,hs-Pr)]);c.style.minWidth=Fn+"px",c.style.right=fs+"px"}const M=v(),U=window.innerHeight-yr*2,z=w.scrollHeight,ne=window.getComputedStyle(h),me=parseInt(ne.borderTopWidth,10),W=parseInt(ne.paddingTop,10),ee=parseInt(ne.borderBottomWidth,10),B=parseInt(ne.paddingBottom,10),q=me+W+z+B+ee,X=Math.min(R.offsetHeight*5,q),ce=window.getComputedStyle(w),G=parseInt(ce.paddingTop,10),ue=parseInt(ce.paddingBottom,10),oe=j.top+j.height/2-yr,he=U-oe,pe=R.offsetHeight/2,re=R.offsetTop+pe,Me=me+W+re,vt=q-Me;if(Me<=oe){const Ke=M.length>0&&R===M[M.length-1].ref.current;c.style.bottom="0px";const tt=h.clientHeight-w.offsetTop-w.offsetHeight,At=Math.max(he,pe+(Ke?ue:0)+tt+ee),Fn=Me+At;c.style.height=Fn+"px"}else{const Ke=M.length>0&&R===M[0].ref.current;c.style.top="0px";const At=Math.max(oe,me+w.offsetTop+(Ke?G:0)+pe)+vt;c.style.height=At+"px",w.scrollTop=Me-oe+w.offsetTop}c.style.margin=`${yr}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=U+"px",s?.(),requestAnimationFrame(()=>y.current=!0)}},[v,i.trigger,i.valueNode,c,h,w,R,E,i.dir,s]);Yt(()=>N(),[N]);const[O,F]=x.useState();Yt(()=>{h&&F(window.getComputedStyle(h).zIndex)},[h]);const $=x.useCallback(j=>{j&&A.current===!0&&(N(),T?.(),A.current=!1)},[N,T]);return l.jsx(QQ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:$,children:l.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:l.jsx(we.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});WO.displayName=ZQ;var YQ="SelectPopperPosition",Sx=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=yr,...i}=t,o=Fv(n);return l.jsx(kb,{...o,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sx.displayName=YQ;var[QQ,p1]=Bu(gl,{}),Ex="SelectViewport",KO=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=vo(Ex,n),o=p1(Ex,n),c=Le(e,i.onViewportChange),d=x.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(zv.Slot,{scope:n,children:l.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:fe(r.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=o;if(v?.current&&g){const y=Math.abs(d.current-m.scrollTop);if(y>0){const A=window.innerHeight-yr*2,w=parseFloat(g.style.minHeight),R=parseFloat(g.style.height),E=Math.max(w,R);if(E<A){const T=E+y,N=Math.min(A,T),O=T-N;g.style.height=N+"px",g.style.bottom==="0px"&&(m.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});KO.displayName=Ex;var ZO="SelectGroup",[XQ,JQ]=Bu(ZO),eX=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Qr();return l.jsx(XQ,{scope:n,id:r,children:l.jsx(we.div,{role:"group","aria-labelledby":r,...s,ref:e})})});eX.displayName=ZO;var YO="SelectLabel",QO=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=JQ(YO,n);return l.jsx(we.div,{id:r.id,...s,ref:e})});QO.displayName=YO;var Tg="SelectItem",[tX,XO]=Bu(Tg),JO=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...o}=t,c=go(Tg,n),d=vo(Tg,n),h=c.value===s,[m,g]=x.useState(i??""),[v,y]=x.useState(!1),A=Le(e,T=>d.itemRefCallback?.(T,s,r)),w=Qr(),R=x.useRef("touch"),E=()=>{r||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(tX,{scope:n,value:s,disabled:r,textId:w,isSelected:h,onItemTextChange:x.useCallback(T=>{g(N=>N||(T?.textContent??"").trim())},[]),children:l.jsx(zv.ItemSlot,{scope:n,value:s,disabled:r,textValue:m,children:l.jsx(we.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:A,onFocus:fe(o.onFocus,()=>y(!0)),onBlur:fe(o.onBlur,()=>y(!1)),onClick:fe(o.onClick,()=>{R.current!=="mouse"&&E()}),onPointerUp:fe(o.onPointerUp,()=>{R.current==="mouse"&&E()}),onPointerDown:fe(o.onPointerDown,T=>{R.current=T.pointerType}),onPointerMove:fe(o.onPointerMove,T=>{R.current=T.pointerType,r?d.onItemLeave?.():R.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,T=>{T.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:fe(o.onKeyDown,T=>{d.searchRef?.current!==""&&T.key===" "||(zQ.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});JO.displayName=Tg;var Od="SelectItemText",eD=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,o=go(Od,n),c=vo(Od,n),d=XO(Od,n),h=$Q(Od,n),[m,g]=x.useState(null),v=Le(e,E=>g(E),d.onItemTextChange,E=>c.itemTextRefCallback?.(E,d.value,d.disabled)),y=m?.textContent,A=x.useMemo(()=>l.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:R}=h;return Yt(()=>(w(A),()=>R(A)),[w,R,A]),l.jsxs(l.Fragment,{children:[l.jsx(we.span,{id:d.textId,...i,ref:v}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_u.createPortal(i.children,o.valueNode):null]})});eD.displayName=Od;var tD="SelectItemIndicator",nD=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return XO(tD,n).isSelected?l.jsx(we.span,{"aria-hidden":!0,...s,ref:e}):null});nD.displayName=tD;var Tx="SelectScrollUpButton",sD=x.forwardRef((t,e)=>{const n=vo(Tx,t.__scopeSelect),s=p1(Tx,t.__scopeSelect),[r,i]=x.useState(!1),o=Le(e,s.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),r?l.jsx(iD,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});sD.displayName=Tx;var Nx="SelectScrollDownButton",rD=x.forwardRef((t,e)=>{const n=vo(Nx,t.__scopeSelect),s=p1(Nx,t.__scopeSelect),[r,i]=x.useState(!1),o=Le(e,s.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),r?l.jsx(iD,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});rD.displayName=Nx;var iD=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=vo("SelectScrollButton",n),o=x.useRef(null),c=Bv(n),d=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),Yt(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),l.jsx(we.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:fe(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:fe(r.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:fe(r.onPointerLeave,()=>{d()})})}),nX="SelectSeparator",aD=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return l.jsx(we.div,{"aria-hidden":!0,...s,ref:e})});aD.displayName=nX;var Ax="SelectArrow",sX=x.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Fv(n),i=go(Ax,n),o=vo(Ax,n);return i.open&&o.position==="popper"?l.jsx(Mb,{...r,...s,ref:e}):null});sX.displayName=Ax;var rX="SelectBubbleInput",oD=x.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=x.useRef(null),i=Le(s,r),o=l1(e);return x.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const g=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[o,e]),l.jsx(we.select,{...n,style:{..._R,...n.style},ref:i,defaultValue:e})});oD.displayName=rX;function lD(t){return t===""||t===void 0}function cD(t){const e=dn(t),n=x.useRef(""),s=x.useRef(0),r=x.useCallback(o=>{const c=n.current+o;e(c),function d(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(c)},[e]),i=x.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function uD(t,e,n){const r=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=iX(t,Math.max(i,0));r.length===1&&(o=o.filter(h=>h!==n));const d=o.find(h=>h.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==n?d:void 0}function iX(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var aX=LO,dD=VO,oX=BO,lX=FO,cX=HO,hD=$O,uX=KO,fD=QO,mD=JO,dX=eD,hX=nD,pD=sD,gD=rD,vD=aD;const fX=aX,mX=oX,yD=x.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(dD,{ref:s,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(lX,{asChild:!0,children:l.jsx(yg,{className:"h-4 w-4 opacity-50"})})]}));yD.displayName=dD.displayName;const _D=x.forwardRef(({className:t,...e},n)=>l.jsx(pD,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(UZ,{className:"h-4 w-4"})}));_D.displayName=pD.displayName;const xD=x.forwardRef(({className:t,...e},n)=>l.jsx(gD,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(yg,{className:"h-4 w-4"})}));xD.displayName=gD.displayName;const bD=x.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>l.jsx(cX,{children:l.jsxs(hD,{ref:r,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[l.jsx(_D,{}),l.jsx(uX,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(xD,{})]})}));bD.displayName=hD.displayName;const pX=x.forwardRef(({className:t,...e},n)=>l.jsx(fD,{ref:n,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));pX.displayName=fD.displayName;const Dd=x.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(mD,{ref:s,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(hX,{children:l.jsx(iM,{className:"h-4 w-4"})})}),l.jsx(dX,{children:e})]}));Dd.displayName=mD.displayName;const gX=x.forwardRef(({className:t,...e},n)=>l.jsx(vD,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));gX.displayName=vD.displayName;const vX=()=>{const{currentUser:t,userProfile:e}=Du(),[n,s]=x.useState([]),[r,i]=x.useState(null),[o,c]=x.useState(!1),[d,h]=x.useState(!1),[m,g]=x.useState(!1),[v,y]=x.useState(!1),[A,w]=x.useState(null),[R,E]=x.useState({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:null}),[T,N]=x.useState([]),[O,F]=x.useState([]);x.useEffect(()=>{$()},[]),x.useEffect(()=>{r&&j()},[r]);const $=async()=>{try{const B=await mx();i(B),E(q=>({...q,selectedLocation:B})),xe.success(`Location detected: ${B.district}, ${B.state}`)}catch(B){console.error("Error getting location:",B);const q={coords:{lat:30.901,lng:75.8573},address:"Punjab, India",state:"Punjab",district:"",country:"India"};i(q),E(X=>({...X,selectedLocation:q}))}},j=async()=>{if(r){c(!0);try{const B=await OI(r.coords.lat,r.coords.lng,100);s(B)}catch(B){console.error("Error loading reports:",B),xe.error("Failed to load nearby reports")}finally{c(!1)}}},P=B=>{const q=Array.from(B.target.files||[]);if(q.length!==0){if(T.length+q.length>5){xe.error("Maximum 5 images allowed");return}N(X=>[...X,...q]),q.forEach(X=>{const ce=URL.createObjectURL(X);F(G=>[...G,ce])})}},D=B=>{N(q=>q.filter((X,ce)=>ce!==B)),F(q=>{const X=q[B];return URL.revokeObjectURL(X),q.filter((ce,G)=>G!==B)})},I=async B=>{if(!(B.length<3))try{const q=await FY(B);q.length>0&&E(X=>({...X,selectedLocation:q[0]}))}catch(q){console.error("Location search error:",q)}},M=async()=>{try{const B=await mx();E(q=>({...q,selectedLocation:B,locationSearch:B.address})),xe.success("Current location selected")}catch{xe.error("Failed to get current location")}},U=async()=>{if(!t||!e){xe.error("Please sign in to submit reports");return}if(!R.title.trim()||!R.description.trim()){xe.error("Please fill in all required fields");return}if(!R.selectedLocation){xe.error("Please select a location");return}h(!0);try{const B=[];for(const ce of T){const G=await XG(ce,"images");G&&B.push(G)}const q={user_id:t.uid,user_name:e.displayName,user_email:e.email,title:R.title,description:R.description,severity:R.severity,location:{lat:R.selectedLocation.coords.lat,lng:R.selectedLocation.coords.lng,address:R.selectedLocation.address,state:R.selectedLocation.state,district:R.selectedLocation.district},images:B,status:"pending"},X=await JG(q);X?(xe.success("Report submitted successfully!"),s(ce=>[X,...ce]),E({title:"",description:"",severity:"medium",locationSearch:"",selectedLocation:r}),N([]),F([]),g(!1)):xe.error("Failed to submit report")}catch(B){console.error("Submit error:",B),xe.error("Failed to submit report")}finally{h(!1)}},z=B=>{switch(B){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-blue-600 bg-blue-100"}},ne=B=>{switch(B){case"verified":return"text-green-600 bg-green-100";case"resolved":return"text-blue-600 bg-blue-100";case"false_alarm":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},me=B=>{const q=new Date(B),ce=Math.floor((new Date().getTime()-q.getTime())/(1e3*60));return ce<1?"Just now":ce<60?`${ce} minutes ago`:ce<1440?`${Math.floor(ce/60)} hours ago`:`${Math.floor(ce/1440)} days ago`},W=B=>{w(B),y(!0)},ee=(B,q)=>{const X=`https://www.google.com/maps?q=${B},${q}`;window.open(X,"_blank")};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Community Flood Reports"}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Real-time flood monitoring powered by community reports and location-based intelligence"}),r&&l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsxs("span",{children:["Your location: ",r.district,", ",r.state]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(cp,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Total Reports"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:n.length})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(Dt,{className:"w-6 h-6 text-red-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Critical"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:n.filter(B=>B.severity==="critical").length})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(li,{className:"w-6 h-6 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Verified"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:n.filter(B=>B.status==="verified").length})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:l.jsx(Ps,{className:"w-6 h-6 text-purple-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Contributors"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:new Set(n.map(B=>B.user_id)).size})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs(JN,{open:m,onOpenChange:g,children:[l.jsx(LQ,{asChild:!0,children:l.jsxs(ae,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 text-white px-8 py-4",children:[l.jsx(QZ,{className:"w-5 h-5 mr-2"}),"Submit Flood Report"]})}),l.jsxs(_x,{className:"max-w-2xl",children:[l.jsxs(xx,{children:[l.jsx(bx,{children:"Submit Flood Report"}),l.jsx(wx,{children:"Help your community by reporting flood conditions in your area"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"title",children:"Report Title *"}),l.jsx(cn,{id:"title",placeholder:"Brief description of the situation",value:R.title,onChange:B=>E(q=>({...q,title:B.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{htmlFor:"description",children:"Detailed Description *"}),l.jsx(pO,{id:"description",placeholder:"Provide detailed information about the flood situation, water levels, affected areas, etc.",rows:4,value:R.description,onChange:B=>E(q=>({...q,description:B.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{children:"Severity Level"}),l.jsxs(fX,{value:R.severity,onValueChange:B=>E(q=>({...q,severity:B})),children:[l.jsx(yD,{children:l.jsx(mX,{})}),l.jsxs(bD,{children:[l.jsx(Dd,{value:"low",children:"Low - Minor water accumulation"}),l.jsx(Dd,{value:"medium",children:"Medium - Noticeable flooding"}),l.jsx(Dd,{value:"high",children:"High - Significant flooding"}),l.jsx(Dd,{value:"critical",children:"Critical - Dangerous conditions"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{children:"Location"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(cn,{placeholder:"Search for location or use current location",value:R.locationSearch,onChange:B=>{E(q=>({...q,locationSearch:B.target.value})),I(B.target.value)},className:"flex-1"}),l.jsxs(ae,{type:"button",variant:"outline",onClick:M,className:"flex items-center space-x-1",children:[l.jsx($h,{className:"w-4 h-4"}),l.jsx("span",{children:"Use Current"})]})]}),R.selectedLocation&&l.jsxs("div",{className:"text-sm text-slate-600 flex items-center space-x-1",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{children:R.selectedLocation.address})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Rt,{children:"Images (Optional)"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:P,className:"hidden",id:"image-upload"}),l.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[l.jsx(rY,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-gray-600",children:"Click to upload images or drag and drop"}),l.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB each (max 5 images)"})]})]}),O.length>0&&l.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:O.map((B,q)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:B,alt:`Preview ${q+1}`,className:"w-full h-24 object-cover rounded-lg"}),l.jsx(ae,{type:"button",variant:"destructive",size:"sm",onClick:()=>D(q),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",children:l.jsx(Pv,{className:"w-3 h-3"})})]},q))})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(ae,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),l.jsx(ae,{onClick:U,disabled:d,className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:d?l.jsxs(l.Fragment,{children:[l.jsx(js,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(JZ,{className:"w-4 h-4 mr-2"}),"Submit Report"]})})]})]})]})]})}),l.jsx(JN,{open:v,onOpenChange:y,children:l.jsx(_x,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:A&&l.jsxs(l.Fragment,{children:[l.jsxs(xx,{children:[l.jsxs(bx,{className:"flex items-center space-x-2",children:[l.jsx("span",{children:A.title}),l.jsx(Oe,{className:z(A.severity),children:A.severity.toUpperCase()}),l.jsx(Oe,{className:ne(A.status),children:A.status.replace("_"," ").toUpperCase()})]}),l.jsxs(wx,{children:["Report submitted by ",A.user_name,"  ",me(A.created_at||new Date().toISOString())]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[l.jsx(jn,{className:"w-4 h-4 mr-2"}),"Location Details"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-700 font-medium",children:"Address:"}),l.jsx("p",{className:"text-blue-800",children:A.location.address})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-700 font-medium",children:"District, State:"}),l.jsxs("p",{className:"text-blue-800",children:[A.location.district,", ",A.location.state]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-700 font-medium",children:"Coordinates:"}),l.jsxs("p",{className:"text-blue-800",children:[A.location.lat.toFixed(6),", ",A.location.lng.toFixed(6)]})]}),l.jsx("div",{children:l.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>ee(A.location.lat,A.location.lng),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[l.jsx($h,{className:"w-4 h-4 mr-1"}),"Open in Maps"]})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Report Description"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsx("p",{className:"text-slate-700 leading-relaxed",children:A.description})})]}),A.images&&A.images.length>0&&l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center",children:[l.jsx(GZ,{className:"w-4 h-4 mr-2"}),"Images (",A.images.length,")"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.images.map((B,q)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:B,alt:`Report image ${q+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer transition-transform group-hover:scale-105",onClick:()=>window.open(B,"_blank")}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity rounded-lg flex items-center justify-center",children:l.jsx(Cr,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},q))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Severity Level"}),l.jsx(Oe,{className:z(A.severity),children:A.severity.toUpperCase()}),l.jsx("p",{className:"text-xs text-slate-600 mt-1",children:A.severity==="critical"?"Immediate action required":A.severity==="high"?"High priority response needed":A.severity==="medium"?"Moderate attention required":"Low priority monitoring"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Report Status"}),l.jsx(Oe,{className:ne(A.status),children:A.status.replace("_"," ").toUpperCase()}),l.jsx("p",{className:"text-xs text-slate-600 mt-1",children:A.status==="verified"?"Verified by authorities":A.status==="resolved"?"Situation resolved":A.status==="false_alarm"?"Marked as false alarm":"Awaiting verification"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Reporter"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:A.user_name.split(" ").map(B=>B[0]).join("").slice(0,2)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:A.user_name}),l.jsx("p",{className:"text-xs text-slate-600",children:A.user_email})]})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>navigator.share&&navigator.share({title:A.title,text:A.description,url:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),xe.success("Link copied to clipboard")}),children:[l.jsx(WN,{className:"w-4 h-4 mr-1"}),"Share Report"]}),l.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>ee(A.location.lat,A.location.lng),children:[l.jsx(jn,{className:"w-4 h-4 mr-1"}),"View Location"]})]}),l.jsx(ae,{onClick:()=>y(!1),className:"bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:"Close"})]})]})]})})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Recent Reports"}),o?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(js,{className:"w-8 h-8 animate-spin mx-auto text-blue-600"}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Loading reports..."})]}):n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(cp,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),l.jsx("p",{className:"text-slate-600",children:"No reports in your area yet. Be the first to report!"})]}):l.jsx("div",{className:"space-y-4",children:n.map(B=>l.jsxs(is,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[l.jsx(as,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Is,{className:"text-lg text-slate-900 mb-2",children:B.title}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ps,{className:"w-4 h-4"}),l.jsx("span",{children:B.user_name})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsxs("span",{children:[B.location.district,", ",B.location.state]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(pu,{className:"w-4 h-4"}),l.jsx("span",{children:me(B.created_at||new Date().toISOString())})]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Oe,{className:z(B.severity),children:B.severity.toUpperCase()}),l.jsx(Oe,{className:ne(B.status),children:B.status.replace("_"," ").toUpperCase()})]})]})}),l.jsxs(os,{children:[l.jsx("p",{className:"text-slate-700 mb-4",children:B.description}),B.images&&B.images.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:B.images.map((q,X)=>l.jsx("img",{src:q,alt:`Report image ${X+1}`,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(q,"_blank")},X))}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs(ae,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[l.jsx(dx,{className:"w-4 h-4 mr-1"}),"Helpful"]}),l.jsxs(ae,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[l.jsx(cp,{className:"w-4 h-4 mr-1"}),"Comment"]}),l.jsxs(ae,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-blue-600",children:[l.jsx(WN,{className:"w-4 h-4 mr-1"}),"Share"]})]}),l.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>W(B),children:[l.jsx(Cr,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]},B.id))})]})]})},yX=()=>{const[t,e]=x.useState([]),[n,s]=x.useState([]),[r,i]=x.useState("idle"),[o,c]=x.useState(null),[d,h]=x.useState(0),[m,g]=x.useState(null),[v,y]=x.useState("en"),[A,w]=x.useState(null),[R,E]=x.useState("punjab"),T=x.useRef(null);x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(U=>{w({lat:U.coords.latitude,lon:U.coords.longitude})},()=>{w({lat:30.7333,lon:76.7794})})},[]);const N=[{value:"punjab",label:"Punjab",hindi:""},{value:"haryana",label:"Haryana",hindi:""},{value:"himachal_pradesh",label:"Himachal Pradesh",hindi:" "},{value:"uttar_pradesh",label:"Uttar Pradesh",hindi:" "},{value:"rajasthan",label:"Rajasthan",hindi:""}],O=U=>{const z=Array.from(U.target.files||[]);if(z.length){const ne=[...t,...z];e(ne);const me=z.map(W=>URL.createObjectURL(W));s([...n,...me]),i("idle"),g(null),h(0)}},F=()=>{T.current?.click()},$=async()=>{if(t.length!==0){i("analyzing"),c(null),h(0);try{h(20);const U=URL.createObjectURL(t[0]);h(50),await new Promise(ne=>setTimeout(ne,1e3)),h(70);const z="https://xview2-damage-detection-xxxxx-uc.a.run.app";try{const ne=await fetch(`${z}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_url:U,state:R,latitude:A?.lat,longitude:A?.lon,user_id:"current_user"})});if(!ne.ok)throw new Error("xView2 API not available, using mock data");const me=await ne.json();h(90),await new Promise(W=>setTimeout(W,1e3)),g(me),i("complete"),h(100)}catch(ne){console.warn("xView2 API not available, using mock data:",ne),h(90);const me=j(R);h(95),await new Promise(W=>setTimeout(W,1e3)),g(me),i("complete"),h(100)}}catch(U){console.error("Analysis failed:",U),c(U instanceof Error?U.message:"Analysis failed"),i("error")}}},j=U=>{const z=["No Damage","Minor Damage","Major Damage","Destroyed"],ne=["  "," "," ","  "],me=Math.floor(Math.random()*z.length),W=z[me],ee=ne[me],B=.7+Math.random()*.3,q={"No Damage":{min:0,max:0,display:"0"},"Minor Damage":{min:2e4,max:5e4,display:"20K - 50K"},"Major Damage":{min:1e5,max:3e5,display:"1L - 3L"},Destroyed:{min:5e5,max:2e6,display:"5L+"}},X={"No Damage":"N/A","Minor Damage":"Category C","Major Damage":"Category B",Destroyed:"Category A"},ce={punjab:{"Category A":"4L","Category B":"2L","Category C":"50K"},haryana:{"Category A":"3.5L","Category B":"1.8L","Category C":"45K"},himachal_pradesh:{"Category A":"4.5L","Category B":"2.2L","Category C":"55K"},default:{"Category A":"4L","Category B":"2L","Category C":"50K"}},G={"No Damage":"#10B981","Minor Damage":"#F59E0B","Major Damage":"#EF4444",Destroyed:"#7C2D12"},ue={"No Damage":"Structure is intact with no visible damage","Minor Damage":"Minor structural damage, repairable","Major Damage":"Significant structural damage, requires major repairs",Destroyed:"Structure is completely destroyed or severely damaged"},oe={"No Damage":"  ,      ","Minor Damage":"  ,  ","Major Damage":"  ,    ",Destroyed:"        "},he=q[W],pe=X[W],re=ce[U]?.[pe]||ce.default[pe];return{damage_level:W,hindi_damage_level:ee,confidence:Math.round(B*100)/100,estimated_cost_display:he.display,ndma_category:pe,relief_amount_display:re,color:G[W],description:ue[W],hindi_description:oe[W],recommendations:{immediate_actions:[W==="No Damage"?"Document current condition with photos":"Contact emergency services immediately","Keep emergency contacts ready",W!=="No Damage"?"Document all damage with detailed photos":"Monitor for any delayed damage signs"],relief_application:{required:W!=="No Damage",category:pe,amount:re,form:W==="No Damage"?"N/A":`SDRF Form 1${pe==="Category A"?"A":"B"}`,deadline:W==="No Damage"?"N/A":W==="Destroyed"?"Within 7 days":W==="Major Damage"?"Within 15 days":"Within 30 days"},documentation_required:W==="No Damage"?[]:["Property ownership documents","Aadhaar card copy","Bank account details","Recent property photos"],timeline:W==="No Damage"?"No immediate action required":W==="Destroyed"?"Apply within 7 days, processing takes 5-15 days":W==="Major Damage"?"Apply within 15 days, processing takes 10-20 days":"Apply within 30 days, processing takes 15-30 days"},emergency_contacts:{disaster_control:"+91-172-2740000",relief_commissioner:"+91-172-2740001",district_collector:"+91-172-2740002"},state:U.charAt(0).toUpperCase()+U.slice(1).replace("_"," ")}},P=()=>{e([]),s([]),i("idle"),g(null),h(0),c(null),T.current&&(T.current.value="")},D=U=>{const z=t.filter((me,W)=>W!==U),ne=n.filter((me,W)=>W!==U);e(z),s(ne)},I=U=>{switch(U){case"Destroyed":return"bg-red-600 text-white";case"Major Damage":return"bg-orange-500 text-white";case"Minor Damage":return"bg-yellow-400 text-slate-900";case"No Damage":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},M=U=>({en:{title:"AI-Powered Flood Damage Assessment",subtitle:"Upload images to get instant damage analysis with NDMA relief recommendations",uploadText:"Drop images here or click to browse",uploadSubtext:"Upload PNG, JPG, or HEIC files for damage assessment",analyzeButton:"Run AI Analysis",clearButton:"Clear All",damageLevel:"Damage Level",confidence:"Confidence",estimatedCost:"Estimated Cost",ndmaCategory:"NDMA Category",reliefAmount:"Relief Amount",immediateActions:"Immediate Actions",reliefApplication:"Relief Application",documentationRequired:"Documentation Required",emergencyContacts:"Emergency Contacts",recommendations:"Recommendations",analysisReport:"AI Analysis Report",selectState:"Select State",language:"Language"},hi:{title:"AI-   ",subtitle:"NDMA            ",uploadText:"         ",uploadSubtext:"    PNG, JPG,  HEIC   ",analyzeButton:"AI  ",clearButton:"  ",damageLevel:" ",confidence:"",estimatedCost:" ",ndmaCategory:"NDMA ",reliefAmount:" ",immediateActions:" ",reliefApplication:" ",documentationRequired:" ",emergencyContacts:" ",recommendations:"",analysisReport:"AI  ",selectState:" ",language:""}})[v][U]||U;return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:M("title")}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:M("subtitle")}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Jw,{className:"w-4 h-4"}),l.jsxs("select",{value:v,onChange:U=>y(U.target.value),className:"px-3 py-1 border rounded-md text-sm",children:[l.jsx("option",{value:"en",children:"English"}),l.jsx("option",{value:"hi",children:""})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("select",{value:R,onChange:U=>E(U.target.value),className:"px-3 py-1 border rounded-md text-sm",children:N.map(U=>l.jsx("option",{value:U.value,children:v==="hi"?U.hindi:U.label},U.value))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:F,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[l.jsx(jv,{className:"mx-auto h-12 w-12 text-slate-400"}),l.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:M("uploadText")}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:M("uploadSubtext")}),l.jsx("input",{ref:T,type:"file",multiple:!0,className:"sr-only",onChange:O,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),n.length>0&&l.jsxs(is,{children:[l.jsx(as,{children:l.jsxs(Is,{className:"flex items-center",children:[l.jsx(ux,{className:"w-5 h-5 mr-2"}),M("analysisReport")]})}),l.jsxs(os,{children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map((U,z)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:U,alt:`Preview ${z}`,className:"rounded-lg object-cover w-full h-32"}),l.jsx("button",{onClick:()=>D(z),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Pv,{className:"w-3 h-3"})})]},z))}),r==="idle"&&l.jsxs(ae,{onClick:$,className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[l.jsx(cM,{className:"w-4 h-4 mr-2"}),M("analyzeButton")," (",t.length," ",v==="hi"?"":"images",")"]}),l.jsx(ae,{onClick:P,variant:"outline",className:"w-full mt-2",children:M("clearButton")})]})]})]}),l.jsxs(is,{className:"h-full sticky top-8",children:[l.jsx(as,{children:l.jsxs(Is,{className:"flex items-center",children:[l.jsx(ux,{className:"w-5 h-5 mr-3"}),M("analysisReport")]})}),l.jsx(os,{children:r==="complete"&&m?l.jsxs("div",{className:"space-y-6 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{children:v==="hi"?" ":"Analysis Complete"}),l.jsx("span",{children:"100%"})]}),l.jsx(Qa,{value:100,className:"h-2"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-semibold text-slate-700",children:M("damageLevel")}),l.jsx(Oe,{className:I(m.damage_level),children:v==="hi"?m.hindi_damage_level:m.damage_level})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("confidence")}),l.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[Math.round(m.confidence*100),"%"]})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("estimatedCost")}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:m.estimated_cost_display})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("ndmaCategory")}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:m.ndma_category})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:M("reliefAmount")}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:m.relief_amount_display})]})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600 mb-1",children:v==="hi"?"":"Description"}),l.jsx("p",{className:"text-slate-800",children:v==="hi"?m.hindi_description:m.description})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(lM,{className:"w-4 h-4 mr-2 text-red-600"}),M("immediateActions")]}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-slate-700",children:m.recommendations.immediate_actions.map((U,z)=>l.jsx("li",{children:U},z))})]}),m.recommendations.relief_application.required&&l.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[l.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:M("reliefApplication")}),l.jsxs("div",{className:"space-y-2 text-blue-700",children:[l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?":":"Category:"})," ",m.recommendations.relief_application.category]}),l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?":":"Amount:"})," ",m.recommendations.relief_application.amount]}),l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?":":"Form:"})," ",m.recommendations.relief_application.form]}),l.jsxs("p",{children:[l.jsx("strong",{children:v==="hi"?" :":"Deadline:"})," ",m.recommendations.relief_application.deadline]})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(nr,{className:"w-4 h-4 mr-2 text-red-600"}),M("emergencyContacts")]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ae,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${m.emergency_contacts.disaster_control}`,"_self"),children:[l.jsx(nr,{className:"w-3 h-3 mr-2"}),v==="hi"?" :":"Disaster Control:"," ",m.emergency_contacts.disaster_control]}),l.jsxs(ae,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>window.open(`tel:${m.emergency_contacts.relief_commissioner}`,"_self"),children:[l.jsx(nr,{className:"w-3 h-3 mr-2"}),v==="hi"?" :":"Relief Commissioner:"," ",m.emergency_contacts.relief_commissioner]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ae,{size:"sm",className:"flex-1",onClick:()=>window.open(`https://www.google.com/maps?q=${A?.lat},${A?.lon}`,"_blank"),children:[l.jsx(cx,{className:"w-3 h-3 mr-1"}),v==="hi"?"Google Maps  ":"Open in Google Maps"]}),l.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{const U={damageLevel:m.damage_level,confidence:m.confidence,estimatedCost:m.estimated_cost_display,ndmaCategory:m.ndma_category,reliefAmount:m.relief_amount_display,state:m.state,timestamp:new Date().toISOString()},z=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),ne=URL.createObjectURL(z),me=document.createElement("a");me.href=ne,me.download=`damage-report-${Date.now()}.json`,me.click()},children:l.jsx(Qw,{className:"w-3 h-3"})})]})]}):r==="analyzing"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[l.jsx(js,{className:"w-8 h-8 mb-2 animate-spin"}),l.jsxs("p",{children:[d,"% - ",v==="hi"?"     ...":"Analyzing image..."]}),l.jsx(Qa,{value:d,className:"w-full mt-4"})]}):r==="error"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[l.jsx(Dt,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:v==="hi"?"    ":"An error occurred during analysis."}),l.jsx("p",{className:"text-xs mt-2 text-red-400",children:o})]}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[l.jsx(Cr,{className:"w-10 h-10 mb-4 text-slate-400"}),l.jsx("p",{className:"font-semibold",children:v==="hi"?"AI-   ":"AI-Powered Insights Await"}),l.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:v==="hi"?"                   ":"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})]})},_X=()=>l.jsx("div",{className:"space-y-8",children:l.jsx(yX,{})});function wD(t,e){const n=x.useRef(e);x.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const xX=1;function bX(t){return Object.freeze({__version:xX,map:t})}function SD(t,e){return Object.freeze({...t,...e})}const g1=x.createContext(null);function Hv(){const t=x.use(g1);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function ED(t){function e(n,s){const{instance:r,context:i}=t(n).current;x.useImperativeHandle(s,()=>r);const{children:o}=n;return o==null?null:le.createElement(g1,{value:i},o)}return x.forwardRef(e)}function wX(t){function e(n,s){const[r,i]=x.useState(!1),{instance:o}=t(n,i).current;x.useImperativeHandle(s,()=>o),x.useEffect(function(){r&&o.update()},[o,r,n.children]);const c=o._contentNode;return c?_u.createPortal(n.children,c):null}return x.forwardRef(e)}function SX(t){function e(n,s){const{instance:r}=t(n).current;return x.useImperativeHandle(s,()=>r),null}return x.forwardRef(e)}function v1(t,e){const n=x.useRef(void 0);x.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function $v(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function EX(t,e){return function(s,r){const i=Hv(),o=t($v(s,i),i);return wD(i.map,s.attribution),v1(o.current,s.eventHandlers),e(o.current,i,s,r),o}}var Cx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,s){s(e)})(ks,function(n){var s="1.9.4";function r(a){var u,p,_,S;for(p=1,_=arguments.length;p<_;p++){S=arguments[p];for(u in S)a[u]=S[u]}return a}var i=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function o(a,u){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var _=p.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(p.call(arguments)):arguments)}}var c=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function h(a,u,p){var _,S,k,H;return H=function(){_=!1,S&&(k.apply(p,S),S=!1)},k=function(){_?S=arguments:(a.apply(p,arguments),setTimeout(H,u),_=!0)},k}function m(a,u,p){var _=u[1],S=u[0],k=_-S;return a===_&&p?a:((a-S)%k+k)%k+S}function g(){return!1}function v(a,u){if(u===!1)return a;var p=Math.pow(10,u===void 0?6:u);return Math.round(a*p)/p}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return y(a).split(/\s+/)}function w(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?i(a.options):{});for(var p in u)a.options[p]=u[p];return a.options}function R(a,u,p){var _=[];for(var S in a)_.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function T(a,u){return a.replace(E,function(p,_){var S=u[_];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(u)),S})}var N=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function O(a,u){for(var p=0;p<a.length;p++)if(a[p]===u)return p;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var j=0;function P(a){var u=+new Date,p=Math.max(0,16-(u-j));return j=u+p,window.setTimeout(a,p)}var D=window.requestAnimationFrame||$("RequestAnimationFrame")||P,I=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function M(a,u,p){if(p&&D===P)a.call(u);else return D.call(window,o(a,u))}function U(a){a&&I.call(window,a)}var z={__proto__:null,extend:r,create:i,bind:o,get lastId(){return c},stamp:d,throttle:h,wrapNum:m,falseFn:g,formatNum:v,trim:y,splitWords:A,setOptions:w,getParamString:R,template:T,isArray:N,indexOf:O,emptyImageUrl:F,requestFn:D,cancelFn:I,requestAnimFrame:M,cancelAnimFrame:U};function ne(){}ne.extend=function(a){var u=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,_=i(p);_.constructor=u,u.prototype=_;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&r(u,a.statics),a.includes&&(me(a.includes),r.apply(null,[_].concat(a.includes))),r(_,a),delete _.statics,delete _.includes,_.options&&(_.options=p.options?i(p.options):{},r(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,H=_._initHooks.length;k<H;k++)_._initHooks[k].call(this)}},u},ne.include=function(a){var u=this.prototype.options;return r(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},ne.mergeOptions=function(a){return r(this.prototype.options,a),this},ne.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function me(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=N(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(a,u,p){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=A(a);for(var S=0,k=a.length;S<k;S++)this._on(a[S],u,p)}return this},off:function(a,u,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=A(a);for(var S=arguments.length===1,k=0,H=a.length;k<H;k++)S?this._off(a[k]):this._off(a[k],u,p)}return this},_on:function(a,u,p,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,p)===!1){p===this&&(p=void 0);var S={fn:u,ctx:p};_&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,p){var _,S,k;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(S=0,k=_.length;S<k;S++)_[S].fn=g;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var H=this._listens(a,u,p);if(H!==!1){var Z=_[H];this._firingCount&&(Z.fn=g,this._events[a]=_=_.slice()),_.splice(H,1)}}},fire:function(a,u,p){if(!this.listens(a,p))return this;var _=r({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var k=0,H=S.length;k<H;k++){var Z=S[k],Q=Z.fn;Z.once&&this.off(a,Q,Z.ctx),Q.call(Z.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(a,u,p,_){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(_=!!u,S=void 0,p=void 0);var k=this._events&&this._events[a];if(k&&k.length&&this._listens(a,S,p)!==!1)return!0;if(_){for(var H in this._eventParents)if(this._eventParents[H].listens(a,u,p,_))return!0}return!1},_listens:function(a,u,p){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;p===this&&(p=void 0);for(var S=0,k=_.length;S<k;S++)if(_[S].fn===u&&_[S].ctx===p)return S;return!1},once:function(a,u,p){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=A(a);for(var S=0,k=a.length;S<k;S++)this._on(a[S],u,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,r({layer:a.target,propagatedFrom:a.target},a),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var ee=ne.extend(W);function B(a,u,p){this.x=p?Math.round(a):a,this.y=p?Math.round(u):u}var q=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(a){return this.clone()._add(X(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(X(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new B(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new B(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(a){a=X(a);var u=a.x-this.x,p=a.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(a){return a=X(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=X(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function X(a,u,p){return a instanceof B?a:N(a)?new B(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new B(a.x,a.y):new B(a,u,p)}function ce(a,u){if(a)for(var p=u?[a,u]:a,_=0,S=p.length;_<S;_++)this.extend(p[_])}ce.prototype={extend:function(a){var u,p;if(!a)return this;if(a instanceof B||typeof a[0]=="number"||"x"in a)u=p=X(a);else if(a=G(a),u=a.min,p=a.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,p;return typeof a[0]=="number"||a instanceof B?a=X(a):a=G(a),a instanceof ce?(u=a.min,p=a.max):u=p=a,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=G(a);var u=this.min,p=this.max,_=a.min,S=a.max,k=S.x>=u.x&&_.x<=p.x,H=S.y>=u.y&&_.y<=p.y;return k&&H},overlaps:function(a){a=G(a);var u=this.min,p=this.max,_=a.min,S=a.max,k=S.x>u.x&&_.x<p.x,H=S.y>u.y&&_.y<p.y;return k&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,p=this.max,_=Math.abs(u.x-p.x)*a,S=Math.abs(u.y-p.y)*a;return G(X(u.x-_,u.y-S),X(p.x+_,p.y+S))},equals:function(a){return a?(a=G(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function G(a,u){return!a||a instanceof ce?a:new ce(a,u)}function ue(a,u){if(a)for(var p=u?[a,u]:a,_=0,S=p.length;_<S;_++)this.extend(p[_])}ue.prototype={extend:function(a){var u=this._southWest,p=this._northEast,_,S;if(a instanceof he)_=a,S=a;else if(a instanceof ue){if(_=a._southWest,S=a._northEast,!_||!S)return this}else return a?this.extend(pe(a)||oe(a)):this;return!u&&!p?(this._southWest=new he(_.lat,_.lng),this._northEast=new he(S.lat,S.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var u=this._southWest,p=this._northEast,_=Math.abs(u.lat-p.lat)*a,S=Math.abs(u.lng-p.lng)*a;return new ue(new he(u.lat-_,u.lng-S),new he(p.lat+_,p.lng+S))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof he||"lat"in a?a=pe(a):a=oe(a);var u=this._southWest,p=this._northEast,_,S;return a instanceof ue?(_=a.getSouthWest(),S=a.getNorthEast()):_=S=a,_.lat>=u.lat&&S.lat<=p.lat&&_.lng>=u.lng&&S.lng<=p.lng},intersects:function(a){a=oe(a);var u=this._southWest,p=this._northEast,_=a.getSouthWest(),S=a.getNorthEast(),k=S.lat>=u.lat&&_.lat<=p.lat,H=S.lng>=u.lng&&_.lng<=p.lng;return k&&H},overlaps:function(a){a=oe(a);var u=this._southWest,p=this._northEast,_=a.getSouthWest(),S=a.getNorthEast(),k=S.lat>u.lat&&_.lat<p.lat,H=S.lng>u.lng&&_.lng<p.lng;return k&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=oe(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(a,u){return a instanceof ue?a:new ue(a,u)}function he(a,u,p){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,p!==void 0&&(this.alt=+p)}he.prototype={equals:function(a,u){if(!a)return!1;a=pe(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+v(this.lat,a)+", "+v(this.lng,a)+")"},distanceTo:function(a){return Me.distance(this,pe(a))},wrap:function(){return Me.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,p=u/Math.cos(Math.PI/180*this.lat);return oe([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function pe(a,u,p){return a instanceof he?a:N(a)&&typeof a[0]!="object"?a.length===3?new he(a[0],a[1],a[2]):a.length===2?new he(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new he(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new he(a,u,p)}var re={latLngToPoint:function(a,u){var p=this.projection.project(a),_=this.scale(u);return this.transformation._transform(p,_)},pointToLatLng:function(a,u){var p=this.scale(u),_=this.transformation.untransform(a,p);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(a),_=this.transformation.transform(u.min,p),S=this.transformation.transform(u.max,p);return new ce(_,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?m(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?m(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new he(p,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),p=this.wrapLatLng(u),_=u.lat-p.lat,S=u.lng-p.lng;if(_===0&&S===0)return a;var k=a.getSouthWest(),H=a.getNorthEast(),Z=new he(k.lat-_,k.lng-S),Q=new he(H.lat-_,H.lng-S);return new ue(Z,Q)}},Me=r({},re,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var p=Math.PI/180,_=a.lat*p,S=u.lat*p,k=Math.sin((u.lat-a.lat)*p/2),H=Math.sin((u.lng-a.lng)*p/2),Z=k*k+Math.cos(_)*Math.cos(S)*H*H,Q=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*Q}}),vt=6378137,We={R:vt,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,a.lat),-p),S=Math.sin(_*u);return new B(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new he((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=vt*Math.PI;return new ce([-a,-a],[a,a])}()};function Ke(a,u,p,_){if(N(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=p,this._d=_}Ke.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new B((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function tt(a,u,p,_){return new Ke(a,u,p,_)}var At=r({},Me,{code:"EPSG:3857",projection:We,transformation:function(){var a=.5/(Math.PI*We.R);return tt(a,.5,-a,.5)}()}),Fn=r({},At,{code:"EPSG:900913"});function Pr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function hs(a,u){var p="",_,S,k,H,Z,Q;for(_=0,k=a.length;_<k;_++){for(Z=a[_],S=0,H=Z.length;S<H;S++)Q=Z[S],p+=(S?"L":"M")+Q.x+" "+Q.y;p+=u?be.svg?"z":"x":""}return p||"M0 0"}var fs=document.documentElement.style,cr="ActiveXObject"in window,Ft=cr&&!document.addEventListener,Lt="msLaunchUri"in navigator&&!("documentMode"in document),Hn=Gn("webkit"),yo=Gn("android"),ms=Gn("android 2")||Gn("android 3"),Hu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pi=yo&&Gn("Google")&&Hu<537&&!("AudioNode"in window),Qt=!!window.opera,Os=!Lt&&Gn("chrome"),ca=Gn("gecko")&&!Hn&&!Qt&&!cr,$u=!Os&&Gn("safari"),gi=Gn("phantom"),_o="OTransition"in fs,xo=navigator.platform.indexOf("Win")===0,Ds=cr&&"transition"in fs,$n="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ms,vi="MozPerspective"in fs,En=!window.L_DISABLE_3D&&(Ds||$n||vi)&&!_o&&!gi,Ir=typeof orientation<"u"||Gn("mobile"),ua=Ir&&Hn,bo=Ir&&$n,ur=!window.PointerEvent&&window.MSPointerEvent,wo=!!(window.PointerEvent||ur),It="ontouchstart"in window||!!window.TouchEvent,ps=!window.L_NO_TOUCH&&(It||wo),yi=Ir&&Qt,Ne=Ir&&ca,nt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mt=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,u),window.removeEventListener("testPassiveEventSupport",g,u)}catch{}return a}(),Ht=function(){return!!document.createElement("canvas").getContext}(),pn=!!(document.createElementNS&&Pr("svg").createSVGRect),Ls=!!pn&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),qn=!pn&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Tn=navigator.platform.indexOf("Mac")===0,gs=navigator.platform.indexOf("Linux")===0;function Gn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var be={ie:cr,ielt9:Ft,edge:Lt,webkit:Hn,android:yo,android23:ms,androidStock:pi,opera:Qt,chrome:Os,gecko:ca,safari:$u,phantom:gi,opera12:_o,win:xo,ie3d:Ds,webkit3d:$n,gecko3d:vi,any3d:En,mobile:Ir,mobileWebkit:ua,mobileWebkit3d:bo,msPointer:ur,pointer:wo,touch:ps,touchNative:It,mobileOpera:yi,mobileGecko:Ne,retina:nt,passiveEvents:mt,canvas:Ht,svg:pn,vml:qn,inlineSvg:Ls,mac:Tn,linux:gs},Pf=be.msPointer?"MSPointerDown":"pointerdown",dr=be.msPointer?"MSPointerMove":"pointermove",qu=be.msPointer?"MSPointerUp":"pointerup",Gu=be.msPointer?"MSPointerCancel":"pointercancel",So={touchstart:Pf,touchmove:dr,touchend:qu,touchcancel:Gu},Cl={touchstart:Wu,touchmove:Us,touchend:Us,touchcancel:Us},_i={},If=!1;function kf(a,u,p){return u==="touchstart"&&Eo(),Cl[u]?(p=Cl[u].bind(this,p),a.addEventListener(So[u],p,!1),p):(console.warn("wrong event specified:",u),g)}function Wv(a,u,p){if(!So[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(So[u],p,!1)}function Rl(a){_i[a.pointerId]=a}function Mf(a){_i[a.pointerId]&&(_i[a.pointerId]=a)}function jl(a){delete _i[a.pointerId]}function Eo(){If||(document.addEventListener(Pf,Rl,!0),document.addEventListener(dr,Mf,!0),document.addEventListener(qu,jl,!0),document.addEventListener(Gu,jl,!0),If=!0)}function Us(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in _i)u.touches.push(_i[p]);u.changedTouches=[u],a(u)}}function Wu(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&$t(u),Us(a,u)}function Kv(a){var u={},p,_;for(_ in a)p=a[_],u[_]=p&&p.bind?p.bind(a):p;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Of=200;function Df(a,u){a.addEventListener("dblclick",u);var p=0,_;function S(k){if(k.detail!==1){_=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var H=Xu(k);if(!(H.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!H.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var Z=Date.now();Z-p<=Of?(_++,_===2&&u(Kv(k))):_=1,p=Z}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function Lf(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var To=Pl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xi=Pl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ku=xi==="webkitTransition"||xi==="OTransition"?xi+"End":"transitionend";function Zu(a){return typeof a=="string"?document.getElementById(a):a}function da(a,u){var p=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);p=_?_[u]:null}return p==="auto"?null:p}function Xe(a,u,p){var _=document.createElement(a);return _.className=u||"",p&&p.appendChild(_),_}function st(a){var u=a.parentNode;u&&u.removeChild(a)}function Mn(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Vs(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function zs(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function No(a,u){if(a.classList!==void 0)return a.classList.contains(u);var p=kr(a);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function _e(a,u){if(a.classList!==void 0)for(var p=A(u),_=0,S=p.length;_<S;_++)a.classList.add(p[_]);else if(!No(a,u)){var k=kr(a);bi(a,(k?k+" ":"")+u)}}function _t(a,u){a.classList!==void 0?a.classList.remove(u):bi(a,y((" "+kr(a)+" ").replace(" "+u+" "," ")))}function bi(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function kr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Wn(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Uf(a,u)}function Uf(a,u){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function Pl(a){for(var u=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in u)return a[p];return!1}function wi(a,u,p){var _=u||new B(0,0);a.style[To]=(be.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function kt(a,u){a._leaflet_pos=u,be.any3d?wi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Si(a){return a._leaflet_pos||new B(0,0)}var hr,vs,Il;if("onselectstart"in document)hr=function(){Pe(window,"selectstart",$t)},vs=function(){dt(window,"selectstart",$t)};else{var ha=Pl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hr=function(){if(ha){var a=document.documentElement.style;Il=a[ha],a[ha]="none"}},vs=function(){ha&&(document.documentElement.style[ha]=Il,Il=void 0)}}function kl(){Pe(window,"dragstart",$t)}function Ml(){dt(window,"dragstart",$t)}var Ao,Mr;function Yu(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Ol(),Ao=a,Mr=a.style.outlineStyle,a.style.outlineStyle="none",Pe(window,"keydown",Ol))}function Ol(){Ao&&(Ao.style.outlineStyle=Mr,Ao=void 0,Mr=void 0,dt(window,"keydown",Ol))}function Vf(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Bs(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Zv={__proto__:null,TRANSFORM:To,TRANSITION:xi,TRANSITION_END:Ku,get:Zu,getStyle:da,create:Xe,remove:st,empty:Mn,toFront:Vs,toBack:zs,hasClass:No,addClass:_e,removeClass:_t,setClass:bi,getClass:kr,setOpacity:Wn,testProp:Pl,setTransform:wi,setPosition:kt,getPosition:Si,get disableTextSelection(){return hr},get enableTextSelection(){return vs},disableImageDrag:kl,enableImageDrag:Ml,preventOutline:Yu,restoreOutline:Ol,getSizedParentNode:Vf,getScale:Bs};function Pe(a,u,p,_){if(u&&typeof u=="object")for(var S in u)Dl(a,S,u[S],p);else{u=A(u);for(var k=0,H=u.length;k<H;k++)Dl(a,u[k],p,_)}return this}var On="_leaflet_events";function dt(a,u,p,_){if(arguments.length===1)fa(a),delete a[On];else if(u&&typeof u=="object")for(var S in u)Co(a,S,u[S],p);else if(u=A(u),arguments.length===2)fa(a,function(Z){return O(u,Z)!==-1});else for(var k=0,H=u.length;k<H;k++)Co(a,u[k],p,_);return this}function fa(a,u){for(var p in a[On]){var _=p.split(/\d/)[0];(!u||u(_))&&Co(a,_,null,null,p)}}var Ei={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Dl(a,u,p,_){var S=u+d(p)+(_?"_"+d(_):"");if(a[On]&&a[On][S])return this;var k=function(Z){return p.call(_||a,Z||window.event)},H=k;!be.touchNative&&be.pointer&&u.indexOf("touch")===0?k=kf(a,u,k):be.touch&&u==="dblclick"?k=Df(a,k):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Ei[u]||u,k,be.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(k=function(Z){Z=Z||window.event,ed(a,Z)&&H(Z)},a.addEventListener(Ei[u],k,!1)):a.addEventListener(u,H,!1):a.attachEvent("on"+u,k),a[On]=a[On]||{},a[On][S]=k}function Co(a,u,p,_,S){S=S||u+d(p)+(_?"_"+d(_):"");var k=a[On]&&a[On][S];if(!k)return this;!be.touchNative&&be.pointer&&u.indexOf("touch")===0?Wv(a,u,k):be.touch&&u==="dblclick"?Lf(a,k):"removeEventListener"in a?a.removeEventListener(Ei[u]||u,k,!1):a.detachEvent("on"+u,k),a[On][S]=null}function lt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Qu(a){return Dl(a,"wheel",lt),this}function Ro(a){return Pe(a,"mousedown touchstart dblclick contextmenu",lt),a._leaflet_disable_click=!0,this}function $t(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Or(a){return $t(a),lt(a),this}function Xu(a){if(a.composedPath)return a.composedPath();for(var u=[],p=a.target;p;)u.push(p),p=p.parentNode;return u}function jo(a,u){if(!u)return new B(a.clientX,a.clientY);var p=Bs(u),_=p.boundingClientRect;return new B((a.clientX-_.left)/p.x-u.clientLeft,(a.clientY-_.top)/p.y-u.clientTop)}var Dr=be.linux&&be.chrome?window.devicePixelRatio:be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ju(a){return be.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Dr:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ed(a,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Po={__proto__:null,on:Pe,off:dt,stopPropagation:lt,disableScrollPropagation:Qu,disableClickPropagation:Ro,preventDefault:$t,stop:Or,getPropagationPath:Xu,getMousePosition:jo,getWheelDelta:Ju,isExternalTarget:ed,addListener:Pe,removeListener:dt},td=ee.extend({run:function(a,u,p,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Si(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var p=this._startPos.add(this._offset.multiplyBy(a));u&&p._round(),kt(this._el,p),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Fe=ee.extend({options:{crs:At,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=w(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(pe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xi&&be.any3d&&!be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,Ku,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(pe(a),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=r({animate:p.animate},p.zoom),p.pan=r({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,p.zoom):this._tryAnimatedPan(a,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,p){var _=this.getZoomScale(u),S=this.getSize().divideBy(2),k=a instanceof B?a:this.latLngToContainerPoint(a),H=k.subtract(S).multiplyBy(1-1/_),Z=this.containerPointToLatLng(S.add(H));return this.setView(Z,u,{zoom:p})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():oe(a);var p=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(_));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var k=_.subtract(p).divideBy(2),H=this.project(a.getSouthWest(),S),Z=this.project(a.getNorthEast(),S),Q=this.unproject(H.add(Z).divideBy(2).add(k),S);return{center:Q,zoom:S}},fitBounds:function(a,u){if(a=oe(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=X(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new td,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,p){if(p=p||{},p.animate===!1||!be.any3d)return this.setView(a,u,p);this._stop();var _=this.project(this.getCenter()),S=this.project(a),k=this.getSize(),H=this._zoom;a=pe(a),u=u===void 0?H:u;var Z=Math.max(k.x,k.y),Q=Z*this.getZoomScale(H,u),se=S.distanceTo(_)||1,ve=1.42,Ae=ve*ve;function He(qt){var tm=qt?-1:1,iL=qt?Q:Z,aL=Q*Q-Z*Z+tm*Ae*Ae*se*se,oL=2*iL*Ae*se,ey=aL/oL,V1=Math.sqrt(ey*ey+1)-ey,lL=V1<1e-9?-18:Math.log(V1);return lL}function Dn(qt){return(Math.exp(qt)-Math.exp(-qt))/2}function an(qt){return(Math.exp(qt)+Math.exp(-qt))/2}function $s(qt){return Dn(qt)/an(qt)}var Zn=He(0);function Zl(qt){return Z*(an(Zn)/an(Zn+ve*qt))}function tL(qt){return Z*(an(Zn)*$s(Zn+ve*qt)-Dn(Zn))/Ae}function nL(qt){return 1-Math.pow(1-qt,1.5)}var sL=Date.now(),L1=(He(1)-Zn)/ve,rL=p.duration?1e3*p.duration:1e3*L1*.8;function U1(){var qt=(Date.now()-sL)/rL,tm=nL(qt)*L1;qt<=1?(this._flyToFrame=M(U1,this),this._move(this.unproject(_.add(S.subtract(_).multiplyBy(tL(tm)/se)),H),this.getScaleZoom(Z/Zl(tm),H),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),U1.call(this),this},flyToBounds:function(a,u){var p=this._getBoundsCenterZoom(a,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(a){return a=oe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,oe(a));return p.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var p=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),k=this.project(a),H=this.getPixelBounds(),Z=G([H.min.add(p),H.max.subtract(_)]),Q=Z.getSize();if(!Z.contains(k)){this._enforcingBounds=!0;var se=k.subtract(Z.getCenter()),ve=Z.extend(k).getSize().subtract(Q);S.x+=se.x<0?-ve.x:ve.x,S.y+=se.y<0?-ve.y:ve.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=r({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=u.divideBy(2).round(),S=p.divideBy(2).round(),k=_.subtract(S);return!k.x&&!k.y?this:(a.animate&&a.pan?this.panBy(k):(a.pan&&this._rawPanBy(k),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=r({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=o(this._handleGeolocationResponse,this),p=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,a):navigator.geolocation.getCurrentPosition(u,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,p=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,p=a.coords.longitude,_=new he(u,p),S=_.toBounds(a.coords.accuracy*2),k=this._locateOptions;if(k.setView){var H=this.getBoundsZoom(S);this.setView(_,k.maxZoom?Math.min(H,k.maxZoom):H)}var Z={latlng:_,bounds:S,timestamp:a.timestamp};for(var Q in a.coords)typeof a.coords[Q]=="number"&&(Z[Q]=a.coords[Q]);this.fire("locationfound",Z)}},addHandler:function(a,u){if(!u)return this;var p=this[a]=new u(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)st(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Xe("div",p,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new ue(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,p){a=oe(a),p=X(p||[0,0]);var _=this.getZoom()||0,S=this.getMinZoom(),k=this.getMaxZoom(),H=a.getNorthWest(),Z=a.getSouthEast(),Q=this.getSize().subtract(p),se=G(this.project(Z,_),this.project(H,_)).getSize(),ve=be.any3d?this.options.zoomSnap:1,Ae=Q.x/se.x,He=Q.y/se.y,Dn=u?Math.max(Ae,He):Math.min(Ae,He);return _=this.getScaleZoom(Dn,_),ve&&(_=Math.round(_/(ve/100))*(ve/100),_=u?Math.ceil(_/ve)*ve:Math.floor(_/ve)*ve),Math.max(S,Math.min(k,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var p=this._getTopLeftPoint(a,u);return new ce(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(a)/p.scale(u)},getScaleZoom:function(a,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var _=p.zoom(a*p.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(pe(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(X(a),u)},layerPointToLatLng:function(a){var u=X(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(pe(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(pe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(oe(a))},distance:function(a,u){return this.options.crs.distance(pe(a),pe(u))},containerPointToLayerPoint:function(a){return X(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return X(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(X(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(a)))},mouseEventToContainerPoint:function(a){return jo(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Zu(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&be.any3d,_e(a,"leaflet-container"+(be.touch?" leaflet-touch":"")+(be.retina?" leaflet-retina":"")+(be.ielt9?" leaflet-oldie":"")+(be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=da(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(a.markerPane,"leaflet-zoom-hide"),_e(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,p){kt(this._mapPane,new B(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,p)._move(a,u)._moveEnd(S),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,p,_){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){kt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var u=a?dt:Pe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),be.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var p=[],_,S=u==="mouseout"||u==="mouseover",k=a.target||a.srcElement,H=!1;k;){if(_=this._targets[d(k)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){H=!0;break}if(_&&_.listens(u,!0)&&(S&&!ed(k,a)||(p.push(_),S))||k===this._container)break;k=k.parentNode}return!p.length&&!H&&!S&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var p=a.type;p==="mousedown"&&Yu(u),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,p){if(a.type==="click"){var _=r({},a);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var S=this._findEventTargets(a,u);if(p){for(var k=[],H=0;H<p.length;H++)p[H].listens(u,!0)&&k.push(p[H]);S=k.concat(S)}if(S.length){u==="contextmenu"&&$t(a);var Z=S[0],Q={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var se=Z.getLatLng&&(!Z._radius||Z._radius<=10);Q.containerPoint=se?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(a),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=se?Z.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(H=0;H<S.length;H++)if(S[H].fire(u,Q,!0),Q.originalEvent._stopped||S[H].options.bubblingMouseEvents===!1&&O(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Si(this._mapPane)||new B(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var p=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var p=this.getSize()._divideBy(2);return this.project(a,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,p){var _=this._getNewPixelOrigin(p,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,p){var _=this._getNewPixelOrigin(p,u);return G([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,p){if(!p)return a;var _=this.project(a,u),S=this.getSize().divideBy(2),k=new ce(_.subtract(S),_.add(S)),H=this._getBoundsOffset(k,p,u);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?a:this.unproject(_.add(H),u)},_limitOffset:function(a,u){if(!u)return a;var p=this.getPixelBounds(),_=new ce(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,p){var _=G(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),S=_.min.subtract(a.min),k=_.max.subtract(a.max),H=this._rebound(S.x,-k.x),Z=this._rebound(S.y,-k.y);return new B(H,Z)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),p=this.getMaxZoom(),_=be.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var p=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var a=this._proxy=Xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var p=To,_=this._proxy.style[p];wi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();wi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(S)?!1:(M(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ll(a,u){return new Fe(a,u)}var Kn=ne.extend({options:{position:"topright"},initialize:function(a){w(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),p=this.getPosition(),_=a._controlCorners[p];return _e(u,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(st(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Lr=function(a){return new Kn(a)};Fe.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",p=this._controlContainer=Xe("div",u+"control-container",this._container);function _(S,k){var H=u+S+" "+u+k;a[S+k]=Xe("div",H,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)st(this._controlCorners[a]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zf=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,p,_){return p<_?-1:_<p?1:0}},initialize:function(a,u,p){w(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Kn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Xe("div",a),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ro(u),Qu(u);var _=this._section=Xe("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Pe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Xe("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Pe(S,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){$t(k),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Xe("div",a+"-base",_),this._separator=Xe("div",a+"-separator",_),this._overlaysList=Xe("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(o(function(_,S){return this.options.sortFunction(_.layer,S.layer,_.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Mn(this._baseLayersList),Mn(this._overlaysList),this._layerControlInputs=[];var a,u,p,_,S=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,S+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(d(a.target)),p=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(a,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(a){var u=document.createElement("label"),p=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+d(this),p),this._layerControlInputs.push(_),_.layerId=d(a.layer),Pe(_,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var k=document.createElement("span");u.appendChild(k),k.appendChild(_),k.appendChild(S);var H=a.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,p,_=[],S=[];this._handlingClick=!0;for(var k=a.length-1;k>=0;k--)u=a[k],p=this._getLayer(u.layerId).layer,u.checked?_.push(p):u.checked||S.push(p);for(k=0;k<S.length;k++)this._map.hasLayer(S[k])&&this._map.removeLayer(S[k]);for(k=0;k<_.length;k++)this._map.hasLayer(_[k])||this._map.addLayer(_[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,p,_=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Pe(a,"click",$t),this.expand();var u=this;setTimeout(function(){dt(a,"click",$t),u._preventClick=!1})}}),Bf=function(a,u,p){return new zf(a,u,p)},Ti=Kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",p=Xe("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,p,_,S){var k=Xe("a",p,_);return k.innerHTML=a,k.href="#",k.title=u,k.setAttribute("role","button"),k.setAttribute("aria-label",u),Ro(k),Pe(k,"click",Or),Pe(k,"click",S,this),Pe(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";_t(this._zoomInButton,u),_t(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(_e(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(_e(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ti,this.addControl(this.zoomControl))});var Ff=function(a){return new Ti(a)},nd=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",p=Xe("div",u),_=this.options;return this._addScales(_,u+"-line",p),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,p){a.metric&&(this._mScale=Xe("div",u,p)),a.imperial&&(this._iScale=Xe("div",u,p))},_update:function(){var a=this._map,u=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/a)},_updateImperial:function(a){var u=a*3.2808399,p,_,S;u>5280?(p=u/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),p=a/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),sd=function(a){return new nd(a)},rd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ul=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(be.inlineSvg?rd+" ":"")+"Leaflet</a>"},initialize:function(a){w(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Xe("div","leaflet-control-attribution"),Ro(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new Ul().addTo(this)});var Vl=function(a){return new Ul(a)};Kn.Layers=zf,Kn.Zoom=Ti,Kn.Scale=nd,Kn.Attribution=Ul,Lr.layers=Bf,Lr.zoom=Ff,Lr.scale=sd,Lr.attribution=Vl;var ys=ne.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ys.addTo=function(a,u){return a.addHandler(u,this),this};var Hf={Events:W},Ur=be.touch?"touchstart mousedown":"mousedown",fr=ee.extend({options:{clickTolerance:3},initialize:function(a,u,p,_){w(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=p},enable:function(){this._enabled||(Pe(this._dragStartTarget,Ur,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(fr._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,Ur,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!No(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){fr._dragging===this&&this.finishDrag();return}if(!(fr._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(fr._dragging=this,this._preventOutline&&Yu(this._element),kl(),hr(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,p=Vf(this._element);this._startPoint=new B(u.clientX,u.clientY),this._startPos=Si(this._element),this._parentScale=Bs(p);var _=a.type==="mousedown";Pe(document,_?"mousemove":"touchmove",this._onMove,this),Pe(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,p=new B(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,$t(a),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),kt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Ml(),vs();var u=this._moved&&this._moving;this._moving=!1,fr._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function id(a,u,p){var _,S=[1,4,2,8],k,H,Z,Q,se,ve,Ae,He;for(k=0,ve=a.length;k<ve;k++)a[k]._code=Y(a[k],u);for(Z=0;Z<4;Z++){for(Ae=S[Z],_=[],k=0,ve=a.length,H=ve-1;k<ve;H=k++)Q=a[k],se=a[H],Q._code&Ae?se._code&Ae||(He=K(se,Q,Ae,u,p),He._code=Y(He,u),_.push(He)):(se._code&Ae&&(He=K(se,Q,Ae,u,p),He._code=Y(He,u),_.push(He)),_.push(Q));a=_}return a}function ad(a,u){var p,_,S,k,H,Z,Q,se,ve;if(!a||a.length===0)throw new Error("latlngs not passed");rt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ae=pe([0,0]),He=oe(a),Dn=He.getNorthWest().distanceTo(He.getSouthWest())*He.getNorthEast().distanceTo(He.getNorthWest());Dn<1700&&(Ae=zl(a));var an=a.length,$s=[];for(p=0;p<an;p++){var Zn=pe(a[p]);$s.push(u.project(pe([Zn.lat-Ae.lat,Zn.lng-Ae.lng])))}for(Z=Q=se=0,p=0,_=an-1;p<an;_=p++)S=$s[p],k=$s[_],H=S.y*k.x-k.y*S.x,Q+=(S.x+k.x)*H,se+=(S.y+k.y)*H,Z+=H*3;Z===0?ve=$s[0]:ve=[Q/Z,se/Z];var Zl=u.unproject(X(ve));return pe([Zl.lat+Ae.lat,Zl.lng+Ae.lng])}function zl(a){for(var u=0,p=0,_=0,S=0;S<a.length;S++){var k=pe(a[S]);u+=k.lat,p+=k.lng,_++}return pe([u/_,p/_])}var Bl={__proto__:null,clipPolygon:id,polygonCenter:ad,centroid:zl};function Nn(a,u){if(!u||!a.length)return a.slice();var p=u*u;return a=b(a,p),a=ma(a,p),a}function od(a,u,p){return Math.sqrt(Ie(a,u,p,!0))}function $f(a,u,p){return Ie(a,u,p)}function ma(a,u){var p=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,S=new _(p);S[0]=S[p-1]=1,f(a,S,u,0,p-1);var k,H=[];for(k=0;k<p;k++)S[k]&&H.push(a[k]);return H}function f(a,u,p,_,S){var k=0,H,Z,Q;for(Z=_+1;Z<=S-1;Z++)Q=Ie(a[Z],a[_],a[S],!0),Q>k&&(H=Z,k=Q);k>p&&(u[H]=1,f(a,u,p,_,H),f(a,u,p,H,S))}function b(a,u){for(var p=[a[0]],_=1,S=0,k=a.length;_<k;_++)de(a[_],a[S])>u&&(p.push(a[_]),S=_);return S<k-1&&p.push(a[k-1]),p}var C;function V(a,u,p,_,S){var k=_?C:Y(a,p),H=Y(u,p),Z,Q,se;for(C=H;;){if(!(k|H))return[a,u];if(k&H)return!1;Z=k||H,Q=K(a,u,Z,p,S),se=Y(Q,p),Z===k?(a=Q,k=se):(u=Q,H=se)}}function K(a,u,p,_,S){var k=u.x-a.x,H=u.y-a.y,Z=_.min,Q=_.max,se,ve;return p&8?(se=a.x+k*(Q.y-a.y)/H,ve=Q.y):p&4?(se=a.x+k*(Z.y-a.y)/H,ve=Z.y):p&2?(se=Q.x,ve=a.y+H*(Q.x-a.x)/k):p&1&&(se=Z.x,ve=a.y+H*(Z.x-a.x)/k),new B(se,ve,S)}function Y(a,u){var p=0;return a.x<u.min.x?p|=1:a.x>u.max.x&&(p|=2),a.y<u.min.y?p|=4:a.y>u.max.y&&(p|=8),p}function de(a,u){var p=u.x-a.x,_=u.y-a.y;return p*p+_*_}function Ie(a,u,p,_){var S=u.x,k=u.y,H=p.x-S,Z=p.y-k,Q=H*H+Z*Z,se;return Q>0&&(se=((a.x-S)*H+(a.y-k)*Z)/Q,se>1?(S=p.x,k=p.y):se>0&&(S+=H*se,k+=Z*se)),H=a.x-S,Z=a.y-k,_?H*H+Z*Z:new B(S,k)}function rt(a){return!N(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ct(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rt(a)}function Ut(a,u){var p,_,S,k,H,Z,Q,se;if(!a||a.length===0)throw new Error("latlngs not passed");rt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ve=pe([0,0]),Ae=oe(a),He=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());He<1700&&(ve=zl(a));var Dn=a.length,an=[];for(p=0;p<Dn;p++){var $s=pe(a[p]);an.push(u.project(pe([$s.lat-ve.lat,$s.lng-ve.lng])))}for(p=0,_=0;p<Dn-1;p++)_+=an[p].distanceTo(an[p+1])/2;if(_===0)se=an[0];else for(p=0,k=0;p<Dn-1;p++)if(H=an[p],Z=an[p+1],S=H.distanceTo(Z),k+=S,k>_){Q=(k-_)/S,se=[Z.x-Q*(Z.x-H.x),Z.y-Q*(Z.y-H.y)];break}var Zn=u.unproject(X(se));return pe([Zn.lat+ve.lat,Zn.lng+ve.lng])}var Fs={__proto__:null,simplify:Nn,pointToSegmentDistance:od,closestPointOnSegment:$f,clipSegment:V,_getEdgeIntersection:K,_getBitCode:Y,_sqClosestPointOnSegment:Ie,isFlat:rt,_flat:ct,polylineCenter:Ut},mr={project:function(a){return new B(a.lng,a.lat)},unproject:function(a){return new he(a.y,a.x)},bounds:new ce([-180,-90],[180,90])},Hs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,p=this.R,_=a.lat*u,S=this.R_MINOR/p,k=Math.sqrt(1-S*S),H=k*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-H)/(1+H),k/2);return _=-p*Math.log(Math.max(Z,1e-10)),new B(a.lng*u*p,_)},unproject:function(a){for(var u=180/Math.PI,p=this.R,_=this.R_MINOR/p,S=Math.sqrt(1-_*_),k=Math.exp(-a.y/p),H=Math.PI/2-2*Math.atan(k),Z=0,Q=.1,se;Z<15&&Math.abs(Q)>1e-7;Z++)se=S*Math.sin(H),se=Math.pow((1-se)/(1+se),S/2),Q=Math.PI/2-2*Math.atan(k*se)-H,H+=Q;return new he(H*u,a.x*u/p)}},Vr={__proto__:null,LonLat:mr,Mercator:Hs,SphericalMercator:We},Fl=r({},Me,{code:"EPSG:3395",projection:Hs,transformation:function(){var a=.5/(Math.PI*Hs.R);return tt(a,.5,-a,.5)}()}),Hl=r({},Me,{code:"EPSG:4326",projection:mr,transformation:tt(1/180,1,-1/180,.5)}),kD=r({},re,{projection:mr,transformation:tt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var p=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(p*p+_*_)},infinite:!0});re.Earth=Me,re.EPSG3395=Fl,re.EPSG3857=At,re.EPSG900913=Fn,re.EPSG4326=Hl,re.Simple=kD;var pr=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=d(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},_addLayers:function(a){a=a?N(a)?a:[a]:[];for(var u=0,p=a.length;u<p;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=d(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var S=this._zoomBoundLayers[_].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $l=pr.extend({initialize:function(a,u){w(this,u),this._layers={};var p,_;if(a)for(p=0,_=a.length;p<_;p++)this.addLayer(a[p])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),MD=function(a,u){return new $l(a,u)},Ni=$l.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),$l.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),$l.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ue;for(var u in this._layers){var p=this._layers[u];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),OD=function(a,u){return new Ni(a,u)},ql=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){w(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var p=this.options,_=p[u+"Size"];typeof _=="number"&&(_=[_,_]);var S=X(_),k=X(u==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(p.className||""),k&&(a.style.marginLeft=-k.x+"px",a.style.marginTop=-k.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return be.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function DD(a){return new ql(a)}var ld=ql.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ld.imagePath!="string"&&(ld.imagePath=this._detectIconPath()),(this.options.imagePath||ld.imagePath)+ql.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(p,_,S){var k=_.exec(p);return k&&k[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Xe("div","leaflet-default-icon-path",document.body),u=da(a,"background-image")||da(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),y1=ys.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new fr(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,p=u._map,_=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,k=Si(u._icon),H=p.getPixelBounds(),Z=p.getPixelOrigin(),Q=G(H.min._subtract(Z).add(S),H.max._subtract(Z).subtract(S));if(!Q.contains(k)){var se=X((Math.max(Q.max.x,k.x)-Q.max.x)/(H.max.x-Q.max.x)-(Math.min(Q.min.x,k.x)-Q.min.x)/(H.min.x-Q.min.x),(Math.max(Q.max.y,k.y)-Q.max.y)/(H.max.y-Q.max.y)-(Math.min(Q.min.y,k.y)-Q.min.y)/(H.min.y-Q.min.y)).multiplyBy(_);p.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),kt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=M(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,p=u._shadow,_=Si(u._icon),S=u._map.layerPointToLatLng(_);p&&kt(p,_),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),qf=pr.extend({options:{icon:new ld,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){w(this,u),this._latlng=pe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=pe(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),_e(p,u),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),k=!1;S!==this._shadow&&(this._removeShadow(),k=!0),S&&(_e(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&k&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&kt(this._icon,a),this._shadow&&kt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),y1)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new y1(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Wn(this._icon,a),this._shadow&&Wn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,p=u.iconSize?X(u.iconSize):X(0,0),_=u.iconAnchor?X(u.iconAnchor):X(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function LD(a,u){return new qf(a,u)}var pa=pr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return w(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Gf=pa.extend({options:{fill:!0,radius:10},initialize:function(a,u){w(this,u),this._latlng=pe(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=pe(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return pa.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,p=this._clickTolerance(),_=[a+p,u+p];this._pxBounds=new ce(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function UD(a,u){return new Gf(a,u)}var Yv=Gf.extend({initialize:function(a,u,p){if(typeof u=="number"&&(u=r({},p,{radius:u})),w(this,u),this._latlng=pe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ue(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:pa.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===Me.distance){var S=Math.PI/180,k=this._mRadius/Me.R/S,H=p.project([u+k,a]),Z=p.project([u-k,a]),Q=H.add(Z).divideBy(2),se=p.unproject(Q).lat,ve=Math.acos((Math.cos(k*S)-Math.sin(u*S)*Math.sin(se*S))/(Math.cos(u*S)*Math.cos(se*S)))/S;(isNaN(ve)||ve===0)&&(ve=k/Math.cos(Math.PI/180*u)),this._point=Q.subtract(p.getPixelOrigin()),this._radius=isNaN(ve)?0:Q.x-p.project([se,a-ve]).x,this._radiusY=Q.y-H.y}else{var Ae=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ae).x}this._updateBounds()}});function VD(a,u,p){return new Yv(a,u,p)}var Ai=pa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){w(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,p=null,_=Ie,S,k,H=0,Z=this._parts.length;H<Z;H++)for(var Q=this._parts[H],se=1,ve=Q.length;se<ve;se++){S=Q[se-1],k=Q[se];var Ae=_(a,S,k,!0);Ae<u&&(u=Ae,p=_(a,S,k))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ut(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=pe(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ue,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return rt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],p=rt(a),_=0,S=a.length;_<S;_++)p?(u[_]=pe(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new B(a,a);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,p){var _=a[0]instanceof he,S=a.length,k,H;if(_){for(H=[],k=0;k<S;k++)H[k]=this._map.latLngToLayerPoint(a[k]),p.extend(H[k]);u.push(H)}else for(k=0;k<S;k++)this._projectLatlngs(a[k],u,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,_,S,k,H,Z,Q;for(p=0,S=0,k=this._rings.length;p<k;p++)for(Q=this._rings[p],_=0,H=Q.length;_<H-1;_++)Z=V(Q[_],Q[_+1],a,_,!0),Z&&(u[S]=u[S]||[],u[S].push(Z[0]),(Z[1]!==Q[_+1]||_===H-2)&&(u[S].push(Z[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,p=0,_=a.length;p<_;p++)a[p]=Nn(a[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var p,_,S,k,H,Z,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,k=this._parts.length;p<k;p++)for(Z=this._parts[p],_=0,H=Z.length,S=H-1;_<H;S=_++)if(!(!u&&_===0)&&od(a,Z[S],Z[_])<=Q)return!0;return!1}});function zD(a,u){return new Ai(a,u)}Ai._flat=ct;var Gl=Ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ad(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Ai.prototype._convertLatLngs.call(this,a),p=u.length;return p>=2&&u[0]instanceof he&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(a){Ai.prototype._setLatLngs.call(this,a),rt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,p=new B(u,u);if(a=new ce(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,S=this._rings.length,k;_<S;_++)k=id(this._rings[_],a,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,p,_,S,k,H,Z,Q,se;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(k=0,Q=this._parts.length;k<Q;k++)for(p=this._parts[k],H=0,se=p.length,Z=se-1;H<se;Z=H++)_=p[H],S=p[Z],_.y>a.y!=S.y>a.y&&a.x<(S.x-_.x)*(a.y-_.y)/(S.y-_.y)+_.x&&(u=!u);return u||Ai.prototype._containsPoint.call(this,a,!0)}});function BD(a,u){return new Gl(a,u)}var Ci=Ni.extend({initialize:function(a,u){w(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=N(a)?a:a.features,p,_,S;if(u){for(p=0,_=u.length;p<_;p++)S=u[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var k=this.options;if(k.filter&&!k.filter(a))return this;var H=Wf(a,k);return H?(H.feature=Yf(a),H.defaultOptions=H.options,this.resetStyle(H),k.onEachFeature&&k.onEachFeature(a,H),this.addLayer(H)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=r({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Wf(a,u){var p=a.type==="Feature"?a.geometry:a,_=p?p.coordinates:null,S=[],k=u&&u.pointToLayer,H=u&&u.coordsToLatLng||Qv,Z,Q,se,ve;if(!_&&!p)return null;switch(p.type){case"Point":return Z=H(_),_1(k,a,Z,u);case"MultiPoint":for(se=0,ve=_.length;se<ve;se++)Z=H(_[se]),S.push(_1(k,a,Z,u));return new Ni(S);case"LineString":case"MultiLineString":return Q=Kf(_,p.type==="LineString"?0:1,H),new Ai(Q,u);case"Polygon":case"MultiPolygon":return Q=Kf(_,p.type==="Polygon"?1:2,H),new Gl(Q,u);case"GeometryCollection":for(se=0,ve=p.geometries.length;se<ve;se++){var Ae=Wf({geometry:p.geometries[se],type:"Feature",properties:a.properties},u);Ae&&S.push(Ae)}return new Ni(S);case"FeatureCollection":for(se=0,ve=p.features.length;se<ve;se++){var He=Wf(p.features[se],u);He&&S.push(He)}return new Ni(S);default:throw new Error("Invalid GeoJSON object.")}}function _1(a,u,p,_){return a?a(u,p):new qf(p,_&&_.markersInheritOptions&&_)}function Qv(a){return new he(a[1],a[0],a[2])}function Kf(a,u,p){for(var _=[],S=0,k=a.length,H;S<k;S++)H=u?Kf(a[S],u-1,p):(p||Qv)(a[S]),_.push(H);return _}function Xv(a,u){return a=pe(a),a.alt!==void 0?[v(a.lng,u),v(a.lat,u),v(a.alt,u)]:[v(a.lng,u),v(a.lat,u)]}function Zf(a,u,p,_){for(var S=[],k=0,H=a.length;k<H;k++)S.push(u?Zf(a[k],rt(a[k])?0:u-1,p,_):Xv(a[k],_));return!u&&p&&S.length>0&&S.push(S[0].slice()),S}function Wl(a,u){return a.feature?r({},a.feature,{geometry:u}):Yf(u)}function Yf(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Jv={toGeoJSON:function(a){return Wl(this,{type:"Point",coordinates:Xv(this.getLatLng(),a)})}};qf.include(Jv),Yv.include(Jv),Gf.include(Jv),Ai.include({toGeoJSON:function(a){var u=!rt(this._latlngs),p=Zf(this._latlngs,u?1:0,!1,a);return Wl(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Gl.include({toGeoJSON:function(a){var u=!rt(this._latlngs),p=u&&!rt(this._latlngs[0]),_=Zf(this._latlngs,p?2:u?1:0,!0,a);return u||(_=[_]),Wl(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),$l.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(a).geometry.coordinates)}),Wl(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var p=u==="GeometryCollection",_=[];return this.eachLayer(function(S){if(S.toGeoJSON){var k=S.toGeoJSON(a);if(p)_.push(k.geometry);else{var H=Yf(k);H.type==="FeatureCollection"?_.push.apply(_,H.features):_.push(H)}}}),p?Wl(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function x1(a,u){return new Ci(a,u)}var FD=x1,Qf=pr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,p){this._url=a,this._bounds=oe(u),w(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Vs(this._image),this},bringToBack:function(){return this._map&&zs(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=oe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Xe("img");if(_e(u,"leaflet-image-layer"),this._zoomAnimated&&_e(u,"leaflet-zoom-animated"),this.options.className&&_e(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onload=o(this.fire,this,"load"),u.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;wi(this._image,p,u)},_reset:function(){var a=this._image,u=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();kt(a,u.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),HD=function(a,u,p){return new Qf(a,u,p)},b1=Qf.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Xe("video");if(_e(u,"leaflet-image-layer"),this._zoomAnimated&&_e(u,"leaflet-zoom-animated"),this.options.className&&_e(u,this.options.className),u.onselectstart=g,u.onmousemove=g,u.onloadeddata=o(this.fire,this,"load"),a){for(var p=u.getElementsByTagName("source"),_=[],S=0;S<p.length;S++)_.push(p[S].src);this._url=p.length>0?_:[u.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var H=Xe("source");H.src=this._url[k],u.appendChild(H)}}});function $D(a,u,p){return new b1(a,u,p)}var w1=Qf.extend({_initImage:function(){var a=this._image=this._url;_e(a,"leaflet-image-layer"),this._zoomAnimated&&_e(a,"leaflet-zoom-animated"),this.options.className&&_e(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function qD(a,u,p){return new w1(a,u,p)}var zr=pr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof he||N(a))?(this._latlng=pe(a),w(this,u)):(w(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Wn(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Wn(this._container,0),this._removeTimeout=setTimeout(o(st,void 0,this._container),200)):st(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=pe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vs(this._container),this},bringToBack:function(){return this._map&&zs(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Ni){u=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){u=p[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=X(this.options.offset),p=this._getAnchor();this._zoomAnimated?kt(this._container,a.add(p)):u=u.add(a).add(p);var _=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(a,u,p,_){var S=u;return S instanceof a||(S=new a(_).setContent(u)),p&&S.setLatLng(p),S}}),pr.include({_initOverlay:function(a,u,p,_){var S=p;return S instanceof a?(w(S,_),S._source=this):(S=u&&!_?u:new a(_,this),S.setContent(p)),S}});var Xf=zr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,zr.prototype.openOn.call(this,a)},onAdd:function(a){zr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pa||this._source.on("preclick",lt))},onRemove:function(a){zr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pa||this._source.off("preclick",lt))},getEvents:function(){var a=zr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Xe("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Xe("div",a+"-content-wrapper",u);if(this._contentNode=Xe("div",a+"-content",p),Ro(u),Qu(this._contentNode),Pe(u,"contextmenu",lt),this._tipContainer=Xe("div",a+"-tip-container",u),this._tip=Xe("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Xe("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(_,"click",function(S){$t(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,S=this.options.maxHeight,k="leaflet-popup-scrolled";S&&_>S?(u.height=S+"px",_e(a,k)):_t(a,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();kt(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(da(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,_=this._containerWidth,S=new B(this._containerLeft,-p-this._containerBottom);S._add(Si(this._container));var k=a.layerPointToContainerPoint(S),H=X(this.options.autoPanPadding),Z=X(this.options.autoPanPaddingTopLeft||H),Q=X(this.options.autoPanPaddingBottomRight||H),se=a.getSize(),ve=0,Ae=0;k.x+_+Q.x>se.x&&(ve=k.x+_-se.x+Q.x),k.x-ve-Z.x<0&&(ve=k.x-Z.x),k.y+p+Q.y>se.y&&(Ae=k.y+p-se.y+Q.y),k.y-Ae-Z.y<0&&(Ae=k.y-Z.y),(ve||Ae)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ve,Ae]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),GD=function(a,u){return new Xf(a,u)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(a,u,p){return this._initOverlay(Xf,a,u,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),pr.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Xf,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Ni||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Or(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof pa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Jf=zr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){zr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){zr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=zr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,p,_=this._map,S=this._container,k=_.latLngToContainerPoint(_.getCenter()),H=_.layerPointToContainerPoint(a),Z=this.options.direction,Q=S.offsetWidth,se=S.offsetHeight,ve=X(this.options.offset),Ae=this._getAnchor();Z==="top"?(u=Q/2,p=se):Z==="bottom"?(u=Q/2,p=0):Z==="center"?(u=Q/2,p=se/2):Z==="right"?(u=0,p=se/2):Z==="left"?(u=Q,p=se/2):H.x<k.x?(Z="right",u=0,p=se/2):(Z="left",u=Q+(ve.x+Ae.x)*2,p=se/2),a=a.subtract(X(u,p,!0)).add(ve).add(Ae),_t(S,"leaflet-tooltip-right"),_t(S,"leaflet-tooltip-left"),_t(S,"leaflet-tooltip-top"),_t(S,"leaflet-tooltip-bottom"),_e(S,"leaflet-tooltip-"+Z),kt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Wn(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),WD=function(a,u){return new Jf(a,u)};Fe.include({openTooltip:function(a,u,p){return this._initOverlay(Jf,a,u,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),pr.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jf,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Ni||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Pe(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Pe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,p,_;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var S1=ql.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Mn(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=X(p.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function KD(a){return new S1(a)}ql.Default=ld;var cd=pr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){w(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),st(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof B?a:new B(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,p=-a(-1/0,1/0),_=0,S=u.length,k;_<S;_++)k=u[_].style.zIndex,u[_]!==this._container&&k&&(p=a(p,+k));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!be.ielt9){Wn(this._container,this.options.opacity);var a=+new Date,u=!1,p=!1;for(var _ in this._tiles){var S=this._tiles[_];if(!(!S.current||!S.loaded)){var k=Math.min(1,(a-S.loaded)/200);Wn(S.el,k),k<1?u=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(U(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=u-Math.abs(a-p),this._onUpdateLevel(p)):(st(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[a],S=this._map;return _||(_=this._levels[a]={},_.el=Xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,S.getCenter(),S.getZoom()),g(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)st(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,p,_){var S=Math.floor(a/2),k=Math.floor(u/2),H=p-1,Z=new B(+S,+k);Z.z=+H;var Q=this._tileCoordsToKey(Z),se=this._tiles[Q];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),H>_?this._retainParent(S,k,H,_):!1)},_retainChildren:function(a,u,p,_){for(var S=2*a;S<2*a+2;S++)for(var k=2*u;k<2*u+2;k++){var H=new B(S,k);H.z=p+1;var Z=this._tileCoordsToKey(H),Q=this._tiles[Z];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);p+1<_&&this._retainChildren(S,k,p+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,p,_){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var k=this.options.updateWhenZooming&&S!==this._tileZoom;(!_||k)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,u)},_setZoomTransform:function(a,u,p){var _=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,p)).round();be.any3d?wi(a.el,S,_):kt(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/p.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/p.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(p,this._tileZoom),S=u.project(a,this._tileZoom).floor(),k=u.getSize().divideBy(_*2);return new ce(S.subtract(k),S.add(k))},_update:function(a){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(_),k=S.getCenter(),H=[],Z=this.options.keepBuffer,Q=new ce(S.getBottomLeft().subtract([Z,-Z]),S.getTopRight().add([Z,-Z]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var ve=this._tiles[se].coords;(ve.z!==this._tileZoom||!Q.contains(new B(ve.x,ve.y)))&&(this._tiles[se].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Ae=S.min.y;Ae<=S.max.y;Ae++)for(var He=S.min.x;He<=S.max.x;He++){var Dn=new B(He,Ae);if(Dn.z=this._tileZoom,!!this._isValidTile(Dn)){var an=this._tiles[this._tileCoordsToKey(Dn)];an?an.current=!0:H.push(Dn)}}if(H.sort(function(Zn,Zl){return Zn.distanceTo(k)-Zl.distanceTo(k)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $s=document.createDocumentFragment();for(He=0;He<H.length;He++)this._addTile(H[He],$s);this._level.el.appendChild($s)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!u.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return oe(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,p=this.getTileSize(),_=a.scaleBy(p),S=_.add(p),k=u.unproject(_,a.z),H=u.unproject(S,a.z);return[k,H]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),p=new ue(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),p=new B(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(a){var u=this._tiles[a];u&&(st(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){_e(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=g,a.onmousemove=g,be.ielt9&&this.options.opacity<1&&Wn(a,this.options.opacity)},_addTile:function(a,u){var p=this._getTilePos(a),_=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&M(o(this._tileReady,this,a,null,S)),kt(S,p),this._tiles[_]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:a});var _=this._tileCoordsToKey(a);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Wn(p.el,0),U(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(_e(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),be.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new B(this._wrapX?m(a.x,this._wrapX):a.x,this._wrapY?m(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new ce(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ZD(a){return new cd(a)}var Kl=cd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=w(this,u),u.detectRetina&&be.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var p=document.createElement("img");return Pe(p,"load",o(this._tileOnLoad,this,u,p)),Pe(p,"error",o(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var u={r:be.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=p),u["-y"]=p}return T(this._url,r(u,this.options))},_tileOnLoad:function(a,u){be.ielt9?setTimeout(o(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,p){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(p,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=g,u.onerror=g,!u.complete)){u.src=F;var p=this._tiles[a].coords;st(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",F),cd.prototype._removeTile.call(this,a)},_tileReady:function(a,u,p){if(!(!this._map||p&&p.getAttribute("src")===F))return cd.prototype._tileReady.call(this,a,u,p)}});function E1(a,u){return new Kl(a,u)}var T1=Kl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var p=r({},this.defaultWmsParams);for(var _ in u)_ in this.options||(p[_]=u[_]);u=w(this,u);var S=u.detectRetina&&be.retina?2:1,k=this.getTileSize();p.width=k.x*S,p.height=k.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Kl.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),p=this._crs,_=G(p.project(u[0]),p.project(u[1])),S=_.min,k=_.max,H=(this._wmsVersion>=1.3&&this._crs===Hl?[S.y,S.x,k.y,k.x]:[S.x,S.y,k.x,k.y]).join(","),Z=Kl.prototype.getTileUrl.call(this,a);return Z+R(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(a,u){return r(this.wmsParams,a),u||this.redraw(),this}});function YD(a,u){return new T1(a,u)}Kl.WMS=T1,E1.wms=YD;var Ri=pr.extend({options:{padding:.1},initialize:function(a){w(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var p=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),k=_.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,u));be.any3d?wi(this._container,k,p):kt(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new ce(p,p.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),N1=Ri.extend({options:{tolerance:0},getEvents:function(){var a=Ri.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Pe(a,"mousemove",this._onMouseMove,this),Pe(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,st(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var a=this._bounds,u=this._container,p=a.getSize(),_=be.retina?2:1;kt(u,a.min),u.width=_*p.x,u.height=_*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",be.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,p=u.next,_=u.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),p=[],_,S;for(S=0;S<u.length;S++){if(_=Number(u[S]),isNaN(_))return;p.push(_)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var p,_,S,k,H=a._parts,Z=H.length,Q=this._ctx;if(Z){for(Q.beginPath(),p=0;p<Z;p++){for(_=0,S=H[p].length;_<S;_++)k=H[p][_],Q[_?"lineTo":"moveTo"](k.x,k.y);u&&Q.closePath()}this._fillStroke(Q,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,p=this._ctx,_=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||_)/_;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(u.x,u.y/S,_,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,u){var p=u.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),p,_,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(_t(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var p,_,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(_e(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,p){this._map._fireDOMEvent(u,p||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var p=u.next,_=u.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var p=u.next,_=u.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function A1(a){return be.canvas?new N1(a):null}var ud=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),QD={_initContainer:function(){this._container=Xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ri.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=ud("shape");_e(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=ud("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;st(u),a.removeInteractiveTarget(u),delete this._layers[d(a)]},_updateStyle:function(a){var u=a._stroke,p=a._fill,_=a.options,S=a._container;S.stroked=!!_.stroke,S.filled=!!_.fill,_.stroke?(u||(u=a._stroke=ud("stroke")),S.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=N(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(S.removeChild(u),a._stroke=null),_.fill?(p||(p=a._fill=ud("fill")),S.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),p=Math.round(a._radius),_=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Vs(a._container)},_bringToBack:function(a){zs(a._container)}},em=be.vml?ud:Pr,dd=Ri.extend({_initContainer:function(){this._container=em("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=em("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ri.prototype._update.call(this);var a=this._bounds,u=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),kt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=em("path");a.options.className&&_e(u,a.options.className),a.options.interactive&&_e(u,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){st(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,p=a.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,hs(a._parts,u))},_updateCircle:function(a){var u=a._point,p=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+_+" 0 1,0 ",k=a._empty()?"M0 0":"M"+(u.x-p)+","+u.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,k)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Vs(a._path)},_bringToBack:function(a){zs(a._path)}});be.vml&&dd.include(QD);function C1(a){return be.svg||be.vml?new dd(a):null}Fe.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&A1(a)||C1(a)}});var R1=Gl.extend({initialize:function(a,u){Gl.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=oe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function XD(a,u){return new R1(a,u)}dd.create=em,dd.pointsToPath=hs,Ci.geometryToLayer=Wf,Ci.coordsToLatLng=Qv,Ci.coordsToLatLngs=Kf,Ci.latLngToCoords=Xv,Ci.latLngsToCoords=Zf,Ci.getFeature=Wl,Ci.asFeature=Yf,Fe.mergeOptions({boxZoom:!0});var j1=ys.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hr(),kl(),this._startPoint=this._map.mouseEventToContainerPoint(a),Pe(document,{contextmenu:Or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Xe("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new ce(this._point,this._startPoint),p=u.getSize();kt(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(st(this._box),_t(this._container,"leaflet-crosshair")),vs(),Ml(),dt(document,{contextmenu:Or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var u=new ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",j1),Fe.mergeOptions({doubleClickZoom:!0});var P1=ys.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,p=u.getZoom(),_=u.options.zoomDelta,S=a.originalEvent.shiftKey?p-_:p+_;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});Fe.addInitHook("addHandler","doubleClickZoom",P1),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var I1=ys.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new fr(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=oe(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,S=(_-u+p)%a+u-p,k=(_+u+p)%a-u-p,H=Math.abs(S+p)<Math.abs(k+p)?S:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(a){var u=this._map,p=u.options,_=!p.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,H=p.easeLinearity,Z=S.multiplyBy(H/k),Q=Z.distanceTo([0,0]),se=Math.min(p.inertiaMaxSpeed,Q),ve=Z.multiplyBy(se/Q),Ae=se/(p.inertiaDeceleration*H),He=ve.multiplyBy(-Ae/2).round();!He.x&&!He.y?u.fire("moveend"):(He=u._limitOffset(He,u.options.maxBounds),M(function(){u.panBy(He,{duration:Ae,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",I1),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var k1=ys.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Pe(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,p=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},p=this.keyCodes,_,S;for(_=0,S=p.left.length;_<S;_++)u[p.left[_]]=[-1*a,0];for(_=0,S=p.right.length;_<S;_++)u[p.right[_]]=[a,0];for(_=0,S=p.down.length;_<S;_++)u[p.down[_]]=[0,a];for(_=0,S=p.up.length;_<S;_++)u[p.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},p=this.keyCodes,_,S;for(_=0,S=p.zoomIn.length;_<S;_++)u[p.zoomIn[_]]=a;for(_=0,S=p.zoomOut.length;_<S;_++)u[p.zoomOut[_]]=-a},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,p=this._map,_;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=X(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(X(_),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(S)}else p.panBy(_)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Or(a)}}});Fe.addInitHook("addHandler","keyboard",k1),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var M1=ys.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=Ju(a),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),_),Or(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,k=p?Math.ceil(S/p)*p:S,H=a._limitZoom(u+(this._delta>0?k:-k))-u;this._delta=0,this._startTime=null,H&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+H):a.setZoomAround(this._lastMousePos,u+H))}});Fe.addInitHook("addHandler","scrollWheelZoom",M1);var JD=600;Fe.mergeOptions({tapHold:be.touchNative&&be.safari&&be.mobile,tapTolerance:15});var O1=ys.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new B(u.clientX,u.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",$t),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),JD),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){dt(document,"touchend",$t),dt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new B(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Fe.addInitHook("addHandler","tapHold",O1),Fe.mergeOptions({touchZoom:be.touch,bounceAtZoomLimits:!0});var D1=ys.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),$t(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var k=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(S===1&&k.x===0&&k.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var H=o(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(H,this,!0),$t(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",D1),Fe.BoxZoom=j1,Fe.DoubleClickZoom=P1,Fe.Drag=I1,Fe.Keyboard=k1,Fe.ScrollWheelZoom=M1,Fe.TapHold=O1,Fe.TouchZoom=D1,n.Bounds=ce,n.Browser=be,n.CRS=re,n.Canvas=N1,n.Circle=Yv,n.CircleMarker=Gf,n.Class=ne,n.Control=Kn,n.DivIcon=S1,n.DivOverlay=zr,n.DomEvent=Po,n.DomUtil=Zv,n.Draggable=fr,n.Evented=ee,n.FeatureGroup=Ni,n.GeoJSON=Ci,n.GridLayer=cd,n.Handler=ys,n.Icon=ql,n.ImageOverlay=Qf,n.LatLng=he,n.LatLngBounds=ue,n.Layer=pr,n.LayerGroup=$l,n.LineUtil=Fs,n.Map=Fe,n.Marker=qf,n.Mixin=Hf,n.Path=pa,n.Point=B,n.PolyUtil=Bl,n.Polygon=Gl,n.Polyline=Ai,n.Popup=Xf,n.PosAnimation=td,n.Projection=Vr,n.Rectangle=R1,n.Renderer=Ri,n.SVG=dd,n.SVGOverlay=w1,n.TileLayer=Kl,n.Tooltip=Jf,n.Transformation=Ke,n.Util=z,n.VideoOverlay=b1,n.bind=o,n.bounds=G,n.canvas=A1,n.circle=VD,n.circleMarker=UD,n.control=Lr,n.divIcon=KD,n.extend=r,n.featureGroup=OD,n.geoJSON=x1,n.geoJson=FD,n.gridLayer=ZD,n.icon=DD,n.imageOverlay=HD,n.latLng=pe,n.latLngBounds=oe,n.layerGroup=MD,n.map=Ll,n.marker=LD,n.point=X,n.polygon=BD,n.polyline=zD,n.popup=GD,n.rectangle=XD,n.setOptions=w,n.stamp=d,n.svg=C1,n.svgOverlay=qD,n.tileLayer=E1,n.tooltip=WD,n.transformation=tt,n.version=s,n.videoOverlay=$D;var eL=window.L;n.noConflict=function(){return window.L=eL,this},window.L=n})})(Cx,Cx.exports);var Fu=Cx.exports;const TD=aA(Fu);function qv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Gv(t,e){return e==null?function(s,r){const i=x.useRef(void 0);return i.current||(i.current=t(s,r)),i}:function(s,r){const i=x.useRef(void 0);i.current||(i.current=t(s,r));const o=x.useRef(s),{instance:c}=i.current;return x.useEffect(function(){o.current!==s&&(e(c,s,o.current),o.current=s)},[c,s,e]),i}}function ND(t,e){x.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function AD(t){return function(n){const s=Hv(),r=t($v(n,s),s);return wD(s.map,n.attribution),v1(r.current,n.eventHandlers),ND(r.current,s),r}}function TX(t,e){const n=x.useRef(void 0);x.useEffect(function(){if(e.pathOptions!==n.current){const r=e.pathOptions??{};t.instance.setStyle(r),n.current=r}},[t,e])}function NX(t){return function(n){const s=Hv(),r=t($v(n,s),s);return v1(r.current,n.eventHandlers),ND(r.current,s),TX(r.current,n),r}}function AX(t,e){const n=Gv(t,e),s=AD(n);return ED(s)}function CX(t,e){const n=Gv(t),s=EX(n,e);return wX(s)}function RX(t,e){const n=Gv(t,e),s=NX(n);return ED(s)}function jX(t,e){const n=Gv(t,e),s=AD(n);return SX(s)}function PX(t,e,n){const{opacity:s,zIndex:r}=e;s!=null&&s!==n.opacity&&t.setOpacity(s),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function IX(){return Hv().map}function kX(t){const e=IX();return x.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function MX({bounds:t,boundsOptions:e,center:n,children:s,className:r,id:i,placeholder:o,style:c,whenReady:d,zoom:h,...m},g){const[v]=x.useState({className:r,id:i,style:c}),[y,A]=x.useState(null),w=x.useRef(void 0);x.useImperativeHandle(g,()=>y?.map??null,[y]);const R=x.useCallback(T=>{if(T!==null&&!w.current){const N=new Fu.Map(T,m);w.current=N,n!=null&&h!=null?N.setView(n,h):t!=null&&N.fitBounds(t,e),d!=null&&N.whenReady(d),A(bX(N))}},[]);x.useEffect(()=>()=>{y?.map.remove()},[y]);const E=y?le.createElement(g1,{value:y},s):o??null;return le.createElement("div",{...v,ref:R},E)}const OX=x.forwardRef(MX),eA=AX(function({position:e,...n},s){const r=new Fu.Marker(e,n);return qv(r,SD(s,{overlayContainer:r}))},function(e,n,s){n.position!==s.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),p0=RX(function({positions:e,...n},s){const r=new Fu.Polyline(e,n);return qv(r,SD(s,{overlayContainer:r}))},function(e,n,s){n.positions!==s.positions&&e.setLatLngs(n.positions)}),tA=CX(function(e,n){const s=new Fu.Popup(e,n.overlayContainer);return qv(s,n)},function(e,n,{position:s},r){x.useEffect(function(){const{instance:o}=e;function c(h){h.popup===o&&(o.update(),r(!0))}function d(h){h.popup===o&&r(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(s!=null&&o.setLatLng(s),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(o)}},[e,n,r,s])}),DX=jX(function({url:e,...n},s){const r=new Fu.TileLayer(e,$v(n,s));return qv(r,s)},function(e,n,s){PX(e,n,s);const{url:r}=n;r!=null&&r!==s.url&&e.setUrl(r)});var CD={exports:{}};(function(t){var e={};function n(i){return Math.floor(Math.abs(i)+.5)*(i>=0?1:-1)}function s(i,o,c){i=n(i*c),o=n(o*c);var d=(i-o)*2;d<0&&(d=-d-1);for(var h="";d>=32;)h+=String.fromCharCode((32|d&31)+63),d/=32;return h+=String.fromCharCode((d|0)+63),h}e.decode=function(i,o){for(var c=0,d=0,h=0,m=[],g=0,v=0,y=null,A,w,R=Math.pow(10,Number.isInteger(o)?o:5);c<i.length;){y=null,g=1,v=0;do y=i.charCodeAt(c++)-63,v+=(y&31)*g,g*=32;while(y>=32);A=v&1?(-v-1)/2:v/2,g=1,v=0;do y=i.charCodeAt(c++)-63,v+=(y&31)*g,g*=32;while(y>=32);w=v&1?(-v-1)/2:v/2,d+=A,h+=w,m.push([d/R,h/R])}return m},e.encode=function(i,o){if(!i.length)return"";for(var c=Math.pow(10,Number.isInteger(o)?o:5),d=s(i[0][0],0,c)+s(i[0][1],0,c),h=1;h<i.length;h++){var m=i[h],g=i[h-1];d+=s(m[0],g[0],c),d+=s(m[1],g[1],c)}return d};function r(i){for(var o=[],c=0;c<i.length;c++){var d=i[c].slice();o.push([d[1],d[0]])}return o}e.fromGeoJSON=function(i,o){if(i&&i.type==="Feature"&&(i=i.geometry),!i||i.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return e.encode(r(i.coordinates),o)},e.toGeoJSON=function(i,o){var c=e.decode(i,o);return{type:"LineString",coordinates:r(c)}},t.exports&&(t.exports=e)})(CD);var LX=CD.exports;const UX=aA(LX),RD=[{shelter_id:"AMR_001",name:"Golden Temple Community Center",lat:31.62,lon:74.8765,capacity:500,available:320,status:"operational",district:"Amritsar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43210"},{shelter_id:"AMR_002",name:"Amritsar Government School",lat:31.634,lon:74.872,capacity:300,available:180,status:"operational",district:"Amritsar",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43211"},{shelter_id:"AMR_003",name:"Jallianwala Bagh Memorial Hall",lat:31.62,lon:74.88,capacity:200,available:150,status:"operational",district:"Amritsar",amenities:["Food","Restrooms"],contact:"+91-98765-43212"},{shelter_id:"LUD_001",name:"Ludhiana Sports Complex",lat:30.901,lon:75.8573,capacity:800,available:450,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43220"},{shelter_id:"LUD_002",name:"Guru Nanak Dev Engineering College",lat:30.92,lon:75.85,capacity:400,available:280,status:"operational",district:"Ludhiana",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43221"},{shelter_id:"LUD_003",name:"Ludhiana Railway Station Shelter",lat:30.9,lon:75.86,capacity:150,available:90,status:"operational",district:"Ludhiana",amenities:["Food","Restrooms"],contact:"+91-98765-43222"},{shelter_id:"JAL_001",name:"Jalandhar City Center",lat:31.326,lon:75.5762,capacity:600,available:380,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43230"},{shelter_id:"JAL_002",name:"Punjab Agricultural University",lat:31.34,lon:75.57,capacity:500,available:320,status:"operational",district:"Jalandhar",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43231"},{shelter_id:"PAT_001",name:"Patiala Palace Grounds",lat:30.3398,lon:76.3869,capacity:700,available:420,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Parking","Restrooms"],contact:"+91-98765-43240"},{shelter_id:"PAT_002",name:"Thapar Institute of Engineering",lat:30.35,lon:76.38,capacity:400,available:250,status:"operational",district:"Patiala",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43241"},{shelter_id:"BAT_001",name:"Bathinda Fort Community Center",lat:30.211,lon:74.9455,capacity:350,available:200,status:"operational",district:"Bathinda",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43250"},{shelter_id:"FIR_001",name:"Firozpur Cantonment Area",lat:30.9167,lon:74.6,capacity:450,available:280,status:"operational",district:"Firozpur",amenities:["Food","Medical","WiFi","Restrooms"],contact:"+91-98765-43260"},{shelter_id:"GUR_001",name:"Gurdaspur Government College",lat:32.04,lon:75.4,capacity:300,available:180,status:"operational",district:"Gurdaspur",amenities:["Food","Restrooms","Medical"],contact:"+91-98765-43270"},{shelter_id:"HOS_001",name:"Hoshiarpur Sports Stadium",lat:31.53,lon:75.92,capacity:400,available:250,status:"operational",district:"Hoshiarpur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43280"},{shelter_id:"MOG_001",name:"Moga City Hall",lat:30.81,lon:75.17,capacity:250,available:150,status:"operational",district:"Moga",amenities:["Food","Restrooms"],contact:"+91-98765-43290"},{shelter_id:"SAN_001",name:"Sangrur District Hospital",lat:30.25,lon:75.84,capacity:200,available:120,status:"operational",district:"Sangrur",amenities:["Food","Medical","Restrooms"],contact:"+91-98765-43300"}],VX=[{id:"FZ_001",name:"Sutlej River Flood Zone",district:"Ludhiana",severity:"high",coordinates:[[30.85,75.8],[30.9,75.85],[30.95,75.9],[30.85,75.95],[30.8,75.9],[30.85,75.8]],affected_roads:["NH-1","State Highway 15","Local Road 23"]},{id:"FZ_002",name:"Beas River Flood Zone",district:"Amritsar",severity:"moderate",coordinates:[[31.6,74.85],[31.65,74.9],[31.7,74.85],[31.65,74.8],[31.6,74.85]],affected_roads:["NH-15","Local Road 45","Village Road 12"]},{id:"FZ_003",name:"Ravi River Flood Zone",district:"Gurdaspur",severity:"critical",coordinates:[[32,75.35],[32.05,75.4],[32.1,75.45],[32.05,75.5],[32,75.45],[32,75.35]],affected_roads:["NH-15","State Highway 20","Local Road 67"]},{id:"FZ_004",name:"Ghaggar River Flood Zone",district:"Patiala",severity:"moderate",coordinates:[[30.3,76.35],[30.35,76.4],[30.4,76.35],[30.35,76.3],[30.3,76.35]],affected_roads:["NH-64","Local Road 89","Village Road 34"]}],zX=[{road_id:"ROAD_001",name:"NH-1 Ludhiana Section",status:"blocked",reason:"Sutlej River flooding",coordinates:[[30.85,75.8],[30.87,75.82],[30.89,75.84]]},{road_id:"ROAD_002",name:"State Highway 15 Amritsar",status:"risky",reason:"Beas River high water level",coordinates:[[31.6,74.85],[31.62,74.87],[31.64,74.89]]},{road_id:"ROAD_003",name:"Local Road 23 Ludhiana",status:"blocked",reason:"Complete submersion",coordinates:[[30.9,75.85],[30.92,75.87],[30.94,75.89]]}],nA=(t,e,n=20)=>RD.filter(s=>BX(t,e,s.lat,s.lon)<=n&&s.status==="operational");function BX(t,e,n,s){const i=(n-t)*Math.PI/180,o=(s-e)*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}const FX="https://graphhopper.com/api/1/route",HX="ecaf0074-5a6b-4e05-a880-db7db67f193f",$X=t=>UX.decode(t).map(([e,n])=>[e,n]);async function qX(t,e,n=[]){try{return(await I$()({start:t,destination:e,blockedEdges:n})).data}catch(c){console.warn("Cloud Functions not available, falling back to direct GraphHopper:",c)}const s=new URL(`${FX}/route`);s.searchParams.set("point",`${t.lat},${t.lon}`),s.searchParams.append("point",`${e.lat},${e.lon}`),s.searchParams.set("profile","car"),s.searchParams.set("locale","en"),s.searchParams.set("points_encoded","true"),s.searchParams.set("instructions","true"),n.length&&s.searchParams.set("block_area",n.join(",")),s.searchParams.set("key",HX);const r=await fetch(s.toString());if(!r.ok)throw new Error(`Routing failed: ${r.status}`);const i=await r.json(),o=i.paths?.[0];if(!o)throw new Error("No route found");return{route:{polyline:o.points,distance_km:o.distance/1e3,duration_min:o.time/6e4,steps:(o.instructions||[]).map(c=>c.text)},warnings:i.info?.warnings||[]}}async function GX(t){try{return(await k$()({lat:t.lat,lon:t.lon,radiusKm:20})).data}catch(s){console.warn("Cloud Functions not available, falling back to local data:",s)}const e=nA(t.lat,t.lon,20);if(e.length===0){const s=nA(t.lat,t.lon,100);if(s.length===0)throw new Error("No shelters available in the area");const r=s[0];return{shelter:{name:r.name,lat:r.lat,lon:r.lon,capacity_available:r.available,shelter_id:r.shelter_id}}}const n=e.sort((s,r)=>r.available-s.available)[0];return{shelter:{name:n.name,lat:n.lat,lon:n.lon,capacity_available:n.available,shelter_id:n.shelter_id}}}const WX=new TD.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),KX=new TD.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function ZX({onMapClick:t}){return kX({click:e=>{t(e.latlng.lat,e.latlng.lng)}}),null}const YX=({start:t})=>{const[e,n]=x.useState(t||null),[s,r]=x.useState(null),[i,o]=x.useState([]),[c,d]=x.useState([]),[h,m]=x.useState(null),[g,v]=x.useState([]),[y,A]=x.useState([]),[w,R]=x.useState(!1),[E,T]=x.useState(null),[N,O]=x.useState([]);x.useEffect(()=>{O(RD);const I=zX.map(M=>M.coordinates);o(I)},[]),x.useEffect(()=>{!e&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(I=>n({lat:I.coords.latitude,lon:I.coords.longitude}),()=>n({lat:30.7333,lon:76.7794}))},[e]);const F=(I,M)=>{r({lat:I,lon:M}),n({lat:I,lon:M})},$=async I=>{R(!0);try{const M=await GX(I);m(M.shelter);const U=await qX(I,{lat:M.shelter.lat,lon:M.shelter.lon});v(U.warnings||[]),A(U.route.steps||[]),d($X(U.route.polyline)),T({distance_km:U.route.distance_km,duration_min:U.route.duration_min})}catch(M){console.error("Failed to fetch route:",M),v(["Failed to fetch route. Using offline data."])}finally{R(!1)}};x.useEffect(()=>{e&&$(e)},[e?.lat,e?.lon]);const j=(I,M)=>{const U=`https://www.google.com/maps/dir/${I.lat},${I.lon}/${M.lat},${M.lon}`;window.open(U,"_blank")},P=I=>{window.open(`tel:${I}`,"_self")},D=x.useMemo(()=>c.length?c[Math.floor(c.length/2)]:e?[e.lat,e.lon]:[30.7333,76.7794],[c,e]);return l.jsxs("div",{className:"relative h-96 w-full",children:[l.jsxs(OX,{center:D,zoom:13,style:{height:"100%",width:"100%"},children:[l.jsx(DX,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.jsx(ZX,{onMapClick:F}),e&&l.jsx(eA,{position:[e.lat,e.lon],icon:KX,children:l.jsx(tA,{children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-600",children:"Your Location"}),l.jsxs("div",{className:"text-xs text-gray-600",children:[e.lat.toFixed(4),", ",e.lon.toFixed(4)]}),l.jsxs(ae,{size:"sm",className:"mt-2 w-full",onClick:()=>navigator.geolocation.getCurrentPosition(I=>n({lat:I.coords.latitude,lon:I.coords.longitude}),()=>{}),children:[l.jsx($h,{className:"w-3 h-3 mr-1"}),"Update Location"]})]})})}),N.map((I,M)=>l.jsx(eA,{position:[I.lat,I.lon],icon:WX,children:l.jsx(tA,{children:l.jsxs("div",{className:"min-w-[200px]",children:[l.jsx("div",{className:"font-semibold text-green-600",children:I.name}),l.jsx("div",{className:"text-xs text-gray-600 mb-2",children:I.district}),l.jsxs("div",{className:"text-xs space-y-1",children:[l.jsxs("div",{children:["Capacity: ",I.available,"/",I.capacity]}),l.jsxs("div",{children:["Contact: ",I.contact]}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:I.amenities.map((U,z)=>l.jsx(Oe,{variant:"outline",className:"text-xs",children:U},z))})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(ae,{size:"sm",className:"flex-1",onClick:()=>{n({lat:I.lat,lon:I.lon})},children:[l.jsx(jn,{className:"w-3 h-3 mr-1"}),"Route Here"]}),l.jsx(ae,{size:"sm",variant:"outline",onClick:()=>j(e||{lat:30.7333,lon:76.7794},{lat:I.lat,lon:I.lon}),children:l.jsx(cx,{className:"w-3 h-3"})})]})]})})},M)),c.length>1&&l.jsx(p0,{positions:c,pathOptions:{color:"#16a34a",weight:5}}),i.map((I,M)=>l.jsx(p0,{positions:I,pathOptions:{color:"#ef4444",weight:4,dashArray:"6 8"}},`blocked-${M}`)),VX.map((I,M)=>l.jsx(p0,{positions:I.coordinates,pathOptions:{color:I.severity==="critical"?"#dc2626":I.severity==="high"?"#ea580c":"#f59e0b",weight:3,fillColor:I.severity==="critical"?"#dc2626":I.severity==="high"?"#ea580c":"#f59e0b",fillOpacity:.2}},`flood-${M}`))]}),E&&h&&l.jsxs("div",{className:"absolute top-3 right-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Evacuation Route"}),l.jsxs("div",{className:"space-y-2 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Destination:"}),l.jsx("span",{className:"font-medium",children:h.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Distance:"}),l.jsxs("span",{className:"font-medium",children:[E.distance_km.toFixed(1)," km"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Duration:"}),l.jsxs("span",{className:"font-medium",children:[Math.round(E.duration_min)," min"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Available Space:"}),l.jsxs("span",{className:"font-medium text-green-600",children:[h.capacity_available," people"]})]})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(ae,{size:"sm",className:"flex-1",onClick:()=>j(e||{lat:30.7333,lon:76.7794},{lat:h.lat,lon:h.lon}),children:[l.jsx(cx,{className:"w-3 h-3 mr-1"}),"Open in Google Maps"]}),l.jsx(ae,{size:"sm",variant:"outline",onClick:()=>P(h.contact||"+91-98765-43210"),children:l.jsx(nr,{className:"w-3 h-3"})})]})]}),y.length>0&&l.jsxs("div",{className:"absolute top-3 left-3 w-80 bg-white/95 rounded-lg p-4 shadow-lg max-h-64 overflow-y-auto",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Step-by-Step Directions"}),l.jsx("ol",{className:"list-decimal pl-4 text-xs text-slate-700 space-y-1",children:y.map((I,M)=>l.jsx("li",{className:"py-1",children:I},M))})]}),l.jsxs("div",{className:"absolute bottom-3 left-3 bg-white/90 rounded-lg p-3 shadow",children:[l.jsx("div",{className:"text-xs font-semibold text-red-600 mb-2",children:"Emergency Contacts"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs(ae,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("108"),children:[l.jsx(nr,{className:"w-3 h-3 mr-1"}),"Emergency: 108"]}),l.jsxs(ae,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("100"),children:[l.jsx(nr,{className:"w-3 h-3 mr-1"}),"Police: 100"]}),l.jsxs(ae,{size:"sm",variant:"outline",className:"w-full text-xs h-8",onClick:()=>P("101"),children:[l.jsx(nr,{className:"w-3 h-3 mr-1"}),"Fire: 101"]})]})]}),g.length>0&&l.jsxs("div",{className:"absolute bottom-3 right-3 w-80 bg-white/90 rounded-lg p-3 shadow",children:[l.jsxs("div",{className:"text-xs font-semibold text-red-600 mb-2 flex items-center",children:[l.jsx(Dt,{className:"w-3 h-3 mr-1"}),"Flood Warnings"]}),l.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-700 space-y-1",children:g.map((I,M)=>l.jsx("li",{children:I},M))})]}),l.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 rounded-lg p-3 shadow text-xs",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Map Legend"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{children:"Safe Route"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),l.jsx("span",{children:"Blocked Roads"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),l.jsx("span",{children:"Flood Zones"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),l.jsx("span",{children:"Shelters"})]})]}),l.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Click anywhere on map to set location"})]}),w&&l.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:[l.jsx("div",{className:"text-sm font-medium",children:"Finding safe route..."}),l.jsx("div",{className:"text-xs text-gray-600",children:"Please wait"})]})})]})};var QX="Separator",sA="horizontal",XX=["horizontal","vertical"],jD=x.forwardRef((t,e)=>{const{decorative:n,orientation:s=sA,...r}=t,i=JX(s)?s:sA,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(we.div,{"data-orientation":i,...c,...r,ref:e})});jD.displayName=QX;function JX(t){return XX.includes(t)}var PD=jD;const ID=x.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},r)=>l.jsx(PD,{ref:r,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));ID.displayName=PD.displayName;const eJ=()=>{const[t,e]=x.useState([]),[n,s]=x.useState([]),[r,i]=x.useState("idle"),[o,c]=x.useState(null),[d,h]=x.useState(0),[m,g]=x.useState(0),[v,y]=x.useState(null),A=x.useRef(null),w=[{text:"Processing images locally...",duration:500,progress:20},{text:"Running local damage detection model...",duration:1500,progress:70},{text:"Generating final report...",duration:500,progress:100}],R=[{id:"RPT-20240715-001",date:"2024-07-15",severity:"Severe",images:12,priority:"High"},{id:"RPT-20240714-005",date:"2024-07-14",severity:"Moderate",images:5,priority:"Medium"},{id:"RPT-20240714-004",date:"2024-07-14",severity:"Catastrophic",images:34,priority:"Critical"},{id:"RPT-20240713-002",date:"2024-07-13",severity:"Minor",images:8,priority:"Low"}],E=I=>{const M=Array.from(I.target.files||[]);if(M.length){const U=[...t,...M];e(U);const z=M.map(ne=>URL.createObjectURL(ne));s([...n,...z]),i("idle"),y(null),g(0),h(0)}},T=()=>{A.current?.click()},N=async()=>{if(t.length!==0){i("analyzing"),c(null),g(0),h(0);for(const I of w)h(M=>M+1),await new Promise(M=>setTimeout(M,I.duration)),g(I.progress);O(t.length),i("complete")}},O=I=>{const M=["Minimal","Minor","Moderate","Severe","Catastrophic"],U=["Inundation","Structural Collapse","Wildfire","Landslide","Utility Damage"],z=["Gas Leak","Exposed Wiring","Contaminated Water","Unstable Structures"],ne=["Deploy initial assessment team for on-site verification.","Alert residents and advise immediate evacuation of affected zones.","Coordinate with utility companies to shut off services in hazardous areas.","Mobilize heavy machinery for debris clearance on primary routes.","Request engineering corps for structural integrity assessment.","Establish a 500-meter safety perimeter around unstable structures."],me=G=>G[Math.floor(Math.random()*G.length)],W=(G,ue)=>G.sort(()=>.5-Math.random()).slice(0,ue),ee=W(U,3).map(G=>({type:G,percentage:Math.random()*100,severity:me(M)})),B=ee.reduce((G,ue)=>G+ue.percentage,0);ee.forEach(G=>G.percentage=G.percentage/B*100);const q=Math.floor(Math.random()*5e5)+5e4,X=Math.floor(Math.random()*2e5)+25e3,ce={totalImages:I,timestamp:new Date().toISOString(),confidenceScore:Math.random()*10+90,priority:me(["Low","Medium","High","Critical"]),overallSeverity:me(M),detectedHazards:W(z,2),damageBreakdown:ee,estimatedCost:{repair:q,recovery:X,total:q+X},actionableSteps:W(ne,3),modelInfo:{name:"DisasterNet-v5.2",version:"3.0.1",accuracy:98.2}};y(ce)},F=()=>{e([]),s([]),i("idle"),y(null),g(0),h(0),c(null),A.current&&(A.current.value="")},$=I=>{const M=t.filter((z,ne)=>ne!==I),U=n.filter((z,ne)=>ne!==I);e(M),s(U)},j=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(I),P=I=>{switch(I){case"Critical":return"bg-red-600 text-white hover:bg-red-700";case"High":return"bg-orange-500 text-white hover:bg-orange-600";case"Medium":return"bg-yellow-400 text-slate-900 hover:bg-yellow-500";default:return"bg-blue-500 text-white hover:bg-blue-600"}},D=I=>{switch(I){case"Catastrophic":return"bg-red-500";case"Severe":return"bg-orange-500";case"Moderate":return"bg-yellow-500";case"Minor":return"bg-blue-500";default:return"bg-green-500"}};return l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{onClick:T,className:"relative block w-full border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors hover:border-blue-500 bg-slate-50/70 hover:bg-slate-100",children:[l.jsx(jv,{className:"mx-auto h-12 w-12 text-slate-400"}),l.jsx("p",{className:"mt-4 text-sm font-semibold text-slate-600",children:"Drop images here or click to browse"}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Upload PNG, JPG, or HEIC files for damage assessment"}),l.jsx("input",{ref:A,type:"file",multiple:!0,className:"sr-only",onChange:E,accept:"image/png, image/jpeg, image/heic, image/heif"})]}),n.length>0&&l.jsxs(is,{children:[l.jsx(as,{children:l.jsx(Is,{children:"Uploaded Images for Assessment"})}),l.jsxs(os,{children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map((I,M)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:I,alt:`Preview ${M}`,className:"rounded-lg object-cover w-full h-32"}),l.jsx("button",{onClick:()=>$(M),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(sY,{className:"w-3 h-3"})})]},M))}),r==="idle"&&l.jsxs(ae,{onClick:N,type:"button",className:"w-full mt-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[l.jsx(cM,{className:"w-4 h-4 mr-2"}),"Run Analysis on ",t.length," Images"]}),l.jsx(ae,{onClick:F,variant:"outline",className:"w-full mt-2",children:"Clear All"})]})]}),n.length===0&&l.jsxs(is,{children:[l.jsx(as,{children:l.jsxs(Is,{className:"flex items-center",children:[l.jsx(pu,{className:"w-5 h-5 mr-3"}),"Recent Analyses"]})}),l.jsxs(os,{className:"text-sm text-slate-600 space-y-3",children:[R.map(I=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 cursor-pointer",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold text-slate-800",children:I.id}),l.jsxs("span",{className:"text-xs text-slate-500",children:[I.date," - ",I.images," images"]})]}),l.jsx(Oe,{className:P(I.priority),children:I.priority})]},I.id)),l.jsx(ae,{variant:"outline",className:"w-full mt-2",children:"View All Reports"})]})]})]}),l.jsxs(is,{className:"h-full sticky top-8",children:[l.jsx(as,{children:l.jsxs(Is,{className:"flex items-center",children:[l.jsx(ux,{className:"w-5 h-5 mr-3"})," AI Analysis Report"]})}),l.jsx(os,{children:r==="complete"&&v?l.jsxs("div",{className:"space-y-6 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-semibold text-slate-700",children:"Priority Assessment"}),l.jsx(Oe,{className:P(v.priority),children:v.priority})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:"Confidence Score"}),l.jsxs("p",{className:"font-bold text-lg text-slate-800",children:[v.confidenceScore.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[l.jsx("p",{className:"text-slate-600",children:"Overall Severity"}),l.jsx("p",{className:"font-bold text-lg text-slate-800",children:v.overallSeverity})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(lM,{className:"w-4 h-4 mr-2 text-red-600"})," Detected Hazards"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:v.detectedHazards.map((I,M)=>l.jsx(Oe,{variant:"destructive",children:I},M))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(FZ,{className:"w-4 h-4 mr-2"})," Damage Breakdown"]}),l.jsx("div",{className:"space-y-3",children:v.damageBreakdown.map((I,M)=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-slate-600 font-medium",children:I.type}),l.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full text-white ${D(I.severity)}`,children:I.severity})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden",children:l.jsx("div",{className:`${D(I.severity)} h-full rounded-full`,style:{width:`${I.percentage.toFixed(2)}%`}})}),l.jsxs("span",{className:"w-16 text-right font-semibold text-slate-700",children:[I.percentage.toFixed(1),"%"]})]})]},M))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(qZ,{className:"w-4 h-4 mr-2"})," Detailed Cost Analysis"]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-slate-600",children:"Estimated Repair Cost:"}),l.jsx("span",{className:"font-medium text-slate-800",children:j(v.estimatedCost.repair)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-slate-600",children:"Resource & Recovery Cost:"}),l.jsx("span",{className:"font-medium text-slate-800",children:j(v.estimatedCost.recovery)})]}),l.jsx(ID,{}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-bold text-slate-800",children:"Total Estimated Cost:"}),l.jsx("span",{className:"font-bold text-lg text-blue-800",children:j(v.estimatedCost.total)})]})]})]}),l.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-blue-800",children:[l.jsx(xn,{className:"w-4 h-4 mr-2"})," Recommended Actions"]}),l.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-blue-700",children:v.actionableSteps.map((I,M)=>l.jsx("li",{children:I},M))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx($Z,{className:"w-4 h-4 mr-2"})," Analysis Model Details"]}),l.jsxs("div",{className:"text-xs text-slate-500 bg-slate-50 p-3 rounded-lg",children:[l.jsxs("p",{children:["Model: ",v.modelInfo.name," (v",v.modelInfo.version,")"]}),l.jsxs("p",{children:["Accuracy: ",v.modelInfo.accuracy,"% | Processed ",v.totalImages," images in this batch."]}),l.jsxs("p",{children:["Timestamp: ",new Date(v.timestamp).toLocaleString()]})]})]})]}):r==="analyzing"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 p-4",children:[l.jsx(js,{className:"w-8 h-8 mb-2 animate-spin"}),l.jsxs("p",{children:[m,"% - ",d>0&&w[d-1]?.text]})]}):r==="error"?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-red-500 border-2 border-dashed border-red-500 rounded-lg p-4",children:[l.jsx(Dt,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"An error occurred during analysis."}),l.jsx("p",{className:"text-xs mt-2 text-red-400",children:o})]}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-slate-500 border-2 border-dashed rounded-lg p-4",children:[l.jsx(Cr,{className:"w-10 h-10 mb-4 text-slate-400"}),l.jsx("p",{className:"font-semibold",children:"AI-Powered Insights Await"}),l.jsx("p",{className:"text-xs mt-2 text-slate-400 max-w-xs mx-auto",children:"Your comprehensive damage assessment report will be generated here. Just upload one or more images to get started."})]})})]})]})})},tJ=()=>{const[t,e]=x.useState("primary"),n=[{id:"primary",name:"Primary Route A",status:"clear",distance:"2.3 km",time:"8 min",capacity:850,current:245},{id:"secondary",name:"Secondary Route B",status:"congested",distance:"3.1 km",time:"15 min",capacity:600,current:520},{id:"emergency",name:"Emergency Route C",status:"blocked",distance:"4.2 km",time:"N/A",capacity:400,current:0}],s=[{name:"Community Center",location:"Downtown",capacity:500,occupied:245,amenities:["Food","Medical","WiFi"],status:"available",contact:"+91-98765-43210",lat:30.7333,lon:76.7794},{name:"High School Gymnasium",location:"North District",capacity:300,occupied:180,amenities:["Food","Restrooms"],status:"available",contact:"+91-98765-43211",lat:30.75,lon:76.8},{name:"Sports Complex",location:"East Side",capacity:800,occupied:650,amenities:["Food","Medical","WiFi","Parking"],status:"near_capacity",contact:"+91-98765-43212",lat:30.72,lon:76.75},{name:"Church Hall",location:"West End",capacity:200,occupied:195,amenities:["Food","Restrooms"],status:"full",contact:"+91-98765-43213",lat:30.76,lon:76.72}],r=[{name:"Water Bottles",current:1e4,capacity:5e4,icon:Xw,color:"blue"},{name:"MREs (Meals, Ready-to-Eat)",current:5e3,capacity:2e4,icon:KN,color:"orange"},{name:"First-Aid Kits",current:2e3,capacity:5e3,icon:dx,color:"red"},{name:"Blankets",current:8e3,capacity:15e3,icon:$N,color:"green"}],i=[{id:"Alpha-1",destination:"Community Center",eta:"15 min",status:"In Transit",contents:"500 water, 200 MREs"},{id:"Bravo-2",destination:"High School Gymnasium",eta:"25 min",status:"Loading",contents:"300 first-aid, 1000 blankets"},{id:"Charlie-3",destination:"Sports Complex",eta:"5 min",status:"Delivered",contents:"1000 water, 500 MREs"}],o=h=>{switch(h){case"clear":return{color:"text-green-600 bg-green-100",icon:li};case"congested":return{color:"text-yellow-600 bg-yellow-100",icon:pu};case"blocked":return{color:"text-red-600 bg-red-100",icon:Dt};default:return{color:"text-blue-600 bg-blue-100",icon:jn}}},c=h=>{switch(h){case"available":return{color:"text-green-600 bg-green-100",text:"Available"};case"near_capacity":return{color:"text-yellow-600 bg-yellow-100",text:"Near Full"};case"full":return{color:"text-red-600 bg-red-100",text:"Full"};default:return{color:"text-blue-600 bg-blue-100",text:"Unknown"}}},d=h=>{switch(h){case"In Transit":return{color:"text-blue-600 bg-blue-100",icon:m0};case"Loading":return{color:"text-yellow-600 bg-yellow-100",icon:pu};case"Delivered":return{color:"text-green-600 bg-green-100",icon:li};default:return{color:"text-slate-600 bg-slate-100",icon:$N}}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-teal-600 to-blue-800 bg-clip-text text-transparent",children:"Planning & Resource Allocation"}),l.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Strategic evacuation planning with real-time resource tracking and emergency coordination"})]}),l.jsxs(Mv,{defaultValue:"evacuation",className:"space-y-6",children:[l.jsxs(jf,{className:"grid w-full grid-cols-4 bg-gradient-to-r from-blue-50 to-teal-50",children:[l.jsxs(sr,{value:"evacuation",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(qN,{className:"w-4 h-4 mr-2"}),"Evacuation Planning"]}),l.jsxs(sr,{value:"shelters",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(lp,{className:"w-4 h-4 mr-2"}),"Shelter Management"]}),l.jsxs(sr,{value:"resources",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(m0,{className:"w-4 h-4 mr-2"}),"Resource Distribution"]}),l.jsxs(sr,{value:"damage",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[l.jsx(jv,{className:"w-4 h-4 mr-2"}),"Damage Assessment"]})]}),l.jsx(Es,{value:"evacuation",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Interactive Evacuation Map"}),l.jsxs(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[l.jsx($h,{className:"w-3 h-3 mr-1"}),"Live Traffic"]})]}),l.jsxs("div",{className:"relative bg-gradient-to-br from-slate-100 to-blue-100 rounded-xl h-96 overflow-hidden",children:[l.jsx(YX,{}),l.jsx(BM,{text:"Flood-Aware Routing"})]}),l.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Clear Route"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Congested"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Blocked"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(lp,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Shelter"})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Evacuation Routes"}),l.jsx("div",{className:"space-y-3",children:n.map(h=>{const m=o(h.status),g=m.icon;return l.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${t===h.id?"border-blue-400 bg-gradient-to-r from-blue-50 to-teal-50":"border-slate-200 hover:border-slate-300"}`,onClick:()=>e(h.id),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-900",children:h.name}),l.jsxs(Oe,{variant:"secondary",className:m.color,children:[l.jsx(g,{className:"w-3 h-3 mr-1"}),h.status]})]}),l.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["Distance: ",h.distance]}),l.jsxs("span",{children:["ETA: ",h.time]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["Capacity: ",h.capacity]}),l.jsxs("span",{children:["Current: ",h.current]})]}),l.jsx(Qa,{value:h.current/h.capacity*100,className:"h-1 mt-2"})]})]},h.id)})})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(ae,{className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white",onClick:()=>window.open("tel:108","_self"),children:[l.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Activate Emergency Protocol"]}),l.jsxs(ae,{className:"w-full bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:()=>window.location.reload(),children:[l.jsx(qN,{className:"w-4 h-4 mr-2"}),"Update Route Status"]}),l.jsxs(ae,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",onClick:()=>window.open("tel:+91-98765-43210","_self"),children:[l.jsx(nr,{className:"w-4 h-4 mr-2"}),"Contact Traffic Control"]})]})]})]})]})}),l.jsx(Es,{value:"shelters",className:"space-y-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((h,m)=>{const g=c(h.status),v=h.occupied/h.capacity*100;return l.jsxs(ze,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:h.name}),l.jsx(Oe,{variant:"secondary",className:g.color,children:g.text})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{children:h.location})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Occupancy"}),l.jsxs("span",{className:"font-medium text-slate-900",children:[h.occupied,"/",h.capacity]})]}),l.jsx(Qa,{value:v,className:"h-2"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:h.amenities.map((y,A)=>l.jsxs(Oe,{variant:"outline",className:"text-xs",children:[y==="Food"&&l.jsx(KN,{className:"w-3 h-3 mr-1"}),y==="Medical"&&l.jsx(dx,{className:"w-3 h-3 mr-1"}),y==="WiFi"&&l.jsx(dM,{className:"w-3 h-3 mr-1"}),y]},A))}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>window.open(`tel:${h.contact||"+91-98765-43210"}`,"_self"),children:[l.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Contact"]}),l.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{window.open(`https://www.google.com/maps?q=${h.lat},${h.lon}`,"_blank")},children:[l.jsx(jn,{className:"w-3 h-3 mr-1"}),"Directions"]})]})]})]},m)})})}),l.jsxs(Es,{value:"resources",className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Resource Inventory"}),l.jsx("div",{className:"space-y-4",children:r.map(h=>{const m=h.icon,g=h.current/h.capacity*100;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(m,{className:`w-4 h-4 mr-2 text-${h.color}-500`}),l.jsx("span",{className:"text-sm font-medium text-slate-800",children:h.name})]}),l.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[h.current.toLocaleString()," / ",h.capacity.toLocaleString()]})]}),l.jsx(Qa,{value:g,className:"h-2"})]},h.name)})})]}),l.jsxs(ze,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Active Delivery Missions"}),l.jsx("div",{className:"space-y-3",children:i.map(h=>{const m=d(h.status),g=m.icon;return l.jsxs("div",{className:"p-3 rounded-lg border border-slate-200 bg-slate-50/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["Mission: ",h.id]}),l.jsxs(Oe,{variant:"secondary",className:m.color,children:[l.jsx(g,{className:"w-3 h-3 mr-1"}),h.status]})]}),l.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"To:"})," ",h.destination]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"ETA:"})," ",h.eta]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-semibold",children:"Contents:"})," ",h.contents]})]})]},h.id)})})]})]}),l.jsx(Es,{value:"damage",children:l.jsx(eJ,{})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-teal-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(Ps,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"People Evacuated"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-600 bg-clip-text text-transparent",children:"2,847"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Successfully relocated"})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(lp,{className:"w-6 h-6 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Shelters"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"18"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Operational facilities"})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(m0,{className:"w-6 h-6 text-yellow-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Supply Deliveries"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"156"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Completed today"})]}),l.jsxs(ze,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(xn,{className:"w-6 h-6 text-purple-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Response Time"}),l.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"12min"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Average deployment"})]})]})]})},nJ=()=>{const{userProfile:t,updateUserProfile:e,currentUser:n}=Du();return console.log("Profile page rendering..."),console.log("Current user:",n),console.log("User profile:",t),n?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-teal-100 rounded-full flex items-center justify-center mx-auto",children:l.jsx(vu,{className:"w-12 h-12 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Profile Settings"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Manage your account and preferences"})]})]}),l.jsxs(is,{className:"max-w-2xl mx-auto",children:[l.jsxs(as,{children:[l.jsx(Is,{children:"Basic Profile Information"}),l.jsx(Iv,{children:"Your account details"})]}),l.jsx(os,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Rt,{children:"Display Name"}),l.jsx("p",{className:"text-lg font-medium",children:t?.displayName||"Not set"})]}),l.jsxs("div",{children:[l.jsx(Rt,{children:"Email"}),l.jsx("p",{className:"text-lg font-medium",children:t?.email||"Not set"})]}),l.jsxs("div",{children:[l.jsx(Rt,{children:"Role"}),l.jsx(Oe,{variant:"secondary",children:t?.role?.replace("_"," ").toUpperCase()||"USER"})]}),l.jsxs("div",{children:[l.jsx(Rt,{children:"Member Since"}),l.jsx("p",{className:"text-sm text-gray-600",children:t?.joinedAt?new Date(t.joinedAt).toLocaleDateString():"Unknown"})]})]})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(vu,{className:"w-16 h-16 text-gray-400 mx-auto"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Please log in to view your profile"})]})})};function sJ(){return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:l.jsxs("div",{className:"space-y-6 max-w-md",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),l.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsx(ae,{asChild:!0,children:l.jsx("a",{href:"/",children:"Return Home"})}),l.jsx(ae,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const rJ=new LV,iJ=()=>l.jsx(VV,{client:rJ,children:l.jsx(M$,{children:l.jsx(nW,{children:l.jsxs(uV,{children:[l.jsx(w3,{}),l.jsx(hL,{children:l.jsxs(fL,{children:[l.jsx(Ln,{path:"/",element:l.jsx(hY,{})}),l.jsx(Ln,{path:"/auth",element:l.jsx(_Y,{})}),l.jsx(Ln,{path:"/admin/signup",element:l.jsx(ZN,{})}),l.jsx(Ln,{path:"/admin/signin",element:l.jsx(ZN,{})}),l.jsx(Ln,{path:"/supabase-auth",element:l.jsx(up,{to:"/admin/signin",replace:!0})}),l.jsx(Ln,{path:"/admin",element:l.jsx(dY,{children:l.jsx(LY,{})})}),l.jsx(Ln,{path:"/dashboard",element:l.jsx(Lo,{children:l.jsx(Do,{children:l.jsx(HY,{})})})}),l.jsx(Ln,{path:"/predictions",element:l.jsx(Lo,{children:l.jsx(Do,{children:l.jsx(vQ,{})})})}),l.jsx(Ln,{path:"/alerts",element:l.jsx(Lo,{children:l.jsx(Do,{children:l.jsx(SQ,{})})})}),l.jsx(Ln,{path:"/reports",element:l.jsx(Lo,{children:l.jsx(Do,{children:l.jsx(vX,{})})})}),l.jsx(Ln,{path:"/assessment",element:l.jsx(Lo,{children:l.jsx(Do,{children:l.jsx(_X,{})})})}),l.jsx(Ln,{path:"/planning",element:l.jsx(Lo,{children:l.jsx(Do,{children:l.jsx(tJ,{})})})}),l.jsx(Ln,{path:"/profile",element:l.jsx(Lo,{children:l.jsx(Do,{children:l.jsx(nJ,{})})})}),l.jsx(Ln,{path:"/index",element:l.jsx(up,{to:"/dashboard",replace:!0})}),l.jsx(Ln,{path:"*",element:l.jsx(sJ,{})})]})})]})})})});$6.createRoot(document.getElementById("root")).render(l.jsx(iJ,{}));
